const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pdf-0IwF-OuM.js","assets/_commonjs-dynamic-modules-TDtrdbi3.js","assets/___vite-browser-external_commonjs-proxy-W1rw1p1c.js","assets/__vite-browser-external-D7Ct-6yo.js","assets/index-CtQ01uV4.js","assets/word-t0xV30rm.js","assets/combine_docs_chain-CHFeCibb.js","assets/llm_chain-CX8SmSa2.js","assets/vector_db_qa-CKwlIuCw.js","assets/api_chain-CtTw7NbD.js"])))=>i.map(i=>d[i]);
function nSe(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var t1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function elt(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var RI={exports:{}},gw={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wV;function rSe(){if(wV)return gw;wV=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return gw.Fragment=e,gw.jsx=n,gw.jsxs=n,gw}var _V;function iSe(){return _V||(_V=1,RI.exports=rSe()),RI.exports}var z=iSe(),II={},yw={},SV;function nse(){if(SV)return yw;SV=1,yw.byteLength=o,yw.toByteArray=u,yw.fromByteArray=p;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=r.length;i<a;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function s(m){var v=m.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=m.indexOf("=");w===-1&&(w=v);var k=w===v?0:4-w%4;return[w,k]}function o(m){var v=s(m),w=v[0],k=v[1];return(w+k)*3/4-k}function l(m,v,w){return(v+w)*3/4-w}function u(m){var v,w=s(m),k=w[0],T=w[1],C=new n(l(m,k,T)),N=0,F=T>0?k-4:k,D;for(D=0;D<F;D+=4)v=e[m.charCodeAt(D)]<<18|e[m.charCodeAt(D+1)]<<12|e[m.charCodeAt(D+2)]<<6|e[m.charCodeAt(D+3)],C[N++]=v>>16&255,C[N++]=v>>8&255,C[N++]=v&255;return T===2&&(v=e[m.charCodeAt(D)]<<2|e[m.charCodeAt(D+1)]>>4,C[N++]=v&255),T===1&&(v=e[m.charCodeAt(D)]<<10|e[m.charCodeAt(D+1)]<<4|e[m.charCodeAt(D+2)]>>2,C[N++]=v>>8&255,C[N++]=v&255),C}function d(m){return t[m>>18&63]+t[m>>12&63]+t[m>>6&63]+t[m&63]}function h(m,v,w){for(var k,T=[],C=v;C<w;C+=3)k=(m[C]<<16&16711680)+(m[C+1]<<8&65280)+(m[C+2]&255),T.push(d(k));return T.join("")}function p(m){for(var v,w=m.length,k=w%3,T=[],C=16383,N=0,F=w-k;N<F;N+=C)T.push(h(m,N,N+C>F?F:N+C));return k===1?(v=m[w-1],T.push(t[v>>2]+t[v<<4&63]+"==")):k===2&&(v=(m[w-2]<<8)+m[w-1],T.push(t[v>>10]+t[v>>4&63]+t[v<<2&63]+"=")),T.join("")}return yw}var Xx={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var xV;function aSe(){return xV||(xV=1,Xx.read=function(t,e,n,r,i){var a,s,o=i*8-r-1,l=(1<<o)-1,u=l>>1,d=-7,h=n?i-1:0,p=n?-1:1,m=t[e+h];for(h+=p,a=m&(1<<-d)-1,m>>=-d,d+=o;d>0;a=a*256+t[e+h],h+=p,d-=8);for(s=a&(1<<-d)-1,a>>=-d,d+=r;d>0;s=s*256+t[e+h],h+=p,d-=8);if(a===0)a=1-u;else{if(a===l)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,r),a=a-u}return(m?-1:1)*s*Math.pow(2,a-r)},Xx.write=function(t,e,n,r,i,a){var s,o,l,u=a*8-i-1,d=(1<<u)-1,h=d>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:a-1,v=r?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=d):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+h>=1?e+=p/l:e+=p*Math.pow(2,1-h),e*l>=2&&(s++,l/=2),s+h>=d?(o=0,s=d):s+h>=1?(o=(e*l-1)*Math.pow(2,i),s=s+h):(o=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+m]=o&255,m+=v,o/=256,i-=8);for(s=s<<i|o,u+=i;u>0;t[n+m]=s&255,m+=v,s/=256,u-=8);t[n+m-v]|=w*128}),Xx}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var EV;function sSe(){return EV||(EV=1,function(t){const e=nse(),n=aSe(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=C,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const K=new Uint8Array(1),B={foo:function(){return 42}};return Object.setPrototypeOf(B,Uint8Array.prototype),Object.setPrototypeOf(K,B),K.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(K){if(K>i)throw new RangeError('The value "'+K+'" is invalid for option "size"');const B=new Uint8Array(K);return Object.setPrototypeOf(B,o.prototype),B}function o(K,B,V){if(typeof K=="number"){if(typeof B=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(K)}return l(K,B,V)}o.poolSize=8192;function l(K,B,V){if(typeof K=="string")return p(K,B);if(ArrayBuffer.isView(K))return v(K);if(K==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(ee(K,ArrayBuffer)||K&&ee(K.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ee(K,SharedArrayBuffer)||K&&ee(K.buffer,SharedArrayBuffer)))return w(K,B,V);if(typeof K=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const be=K.valueOf&&K.valueOf();if(be!=null&&be!==K)return o.from(be,B,V);const je=k(K);if(je)return je;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof K[Symbol.toPrimitive]=="function")return o.from(K[Symbol.toPrimitive]("string"),B,V);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}o.from=function(K,B,V){return l(K,B,V)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function u(K){if(typeof K!="number")throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function d(K,B,V){return u(K),K<=0?s(K):B!==void 0?typeof V=="string"?s(K).fill(B,V):s(K).fill(B):s(K)}o.alloc=function(K,B,V){return d(K,B,V)};function h(K){return u(K),s(K<0?0:T(K)|0)}o.allocUnsafe=function(K){return h(K)},o.allocUnsafeSlow=function(K){return h(K)};function p(K,B){if((typeof B!="string"||B==="")&&(B="utf8"),!o.isEncoding(B))throw new TypeError("Unknown encoding: "+B);const V=N(K,B)|0;let be=s(V);const je=be.write(K,B);return je!==V&&(be=be.slice(0,je)),be}function m(K){const B=K.length<0?0:T(K.length)|0,V=s(B);for(let be=0;be<B;be+=1)V[be]=K[be]&255;return V}function v(K){if(ee(K,Uint8Array)){const B=new Uint8Array(K);return w(B.buffer,B.byteOffset,B.byteLength)}return m(K)}function w(K,B,V){if(B<0||K.byteLength<B)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<B+(V||0))throw new RangeError('"length" is outside of buffer bounds');let be;return B===void 0&&V===void 0?be=new Uint8Array(K):V===void 0?be=new Uint8Array(K,B):be=new Uint8Array(K,B,V),Object.setPrototypeOf(be,o.prototype),be}function k(K){if(o.isBuffer(K)){const B=T(K.length)|0,V=s(B);return V.length===0||K.copy(V,0,0,B),V}if(K.length!==void 0)return typeof K.length!="number"||te(K.length)?s(0):m(K);if(K.type==="Buffer"&&Array.isArray(K.data))return m(K.data)}function T(K){if(K>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return K|0}function C(K){return+K!=K&&(K=0),o.alloc(+K)}o.isBuffer=function(B){return B!=null&&B._isBuffer===!0&&B!==o.prototype},o.compare=function(B,V){if(ee(B,Uint8Array)&&(B=o.from(B,B.offset,B.byteLength)),ee(V,Uint8Array)&&(V=o.from(V,V.offset,V.byteLength)),!o.isBuffer(B)||!o.isBuffer(V))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(B===V)return 0;let be=B.length,je=V.length;for(let We=0,gt=Math.min(be,je);We<gt;++We)if(B[We]!==V[We]){be=B[We],je=V[We];break}return be<je?-1:je<be?1:0},o.isEncoding=function(B){switch(String(B).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(B,V){if(!Array.isArray(B))throw new TypeError('"list" argument must be an Array of Buffers');if(B.length===0)return o.alloc(0);let be;if(V===void 0)for(V=0,be=0;be<B.length;++be)V+=B[be].length;const je=o.allocUnsafe(V);let We=0;for(be=0;be<B.length;++be){let gt=B[be];if(ee(gt,Uint8Array))We+gt.length>je.length?(o.isBuffer(gt)||(gt=o.from(gt)),gt.copy(je,We)):Uint8Array.prototype.set.call(je,gt,We);else if(o.isBuffer(gt))gt.copy(je,We);else throw new TypeError('"list" argument must be an Array of Buffers');We+=gt.length}return je};function N(K,B){if(o.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||ee(K,ArrayBuffer))return K.byteLength;if(typeof K!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);const V=K.length,be=arguments.length>2&&arguments[2]===!0;if(!be&&V===0)return 0;let je=!1;for(;;)switch(B){case"ascii":case"latin1":case"binary":return V;case"utf8":case"utf-8":return rn(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V*2;case"hex":return V>>>1;case"base64":return Dr(K).length;default:if(je)return be?-1:rn(K).length;B=(""+B).toLowerCase(),je=!0}}o.byteLength=N;function F(K,B,V){let be=!1;if((B===void 0||B<0)&&(B=0),B>this.length||((V===void 0||V>this.length)&&(V=this.length),V<=0)||(V>>>=0,B>>>=0,V<=B))return"";for(K||(K="utf8");;)switch(K){case"hex":return he(this,B,V);case"utf8":case"utf-8":return xe(this,B,V);case"ascii":return ke(this,B,V);case"latin1":case"binary":return Te(this,B,V);case"base64":return qe(this,B,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,B,V);default:if(be)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),be=!0}}o.prototype._isBuffer=!0;function D(K,B,V){const be=K[B];K[B]=K[V],K[V]=be}o.prototype.swap16=function(){const B=this.length;if(B%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let V=0;V<B;V+=2)D(this,V,V+1);return this},o.prototype.swap32=function(){const B=this.length;if(B%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let V=0;V<B;V+=4)D(this,V,V+3),D(this,V+1,V+2);return this},o.prototype.swap64=function(){const B=this.length;if(B%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let V=0;V<B;V+=8)D(this,V,V+7),D(this,V+1,V+6),D(this,V+2,V+5),D(this,V+3,V+4);return this},o.prototype.toString=function(){const B=this.length;return B===0?"":arguments.length===0?xe(this,0,B):F.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(B){if(!o.isBuffer(B))throw new TypeError("Argument must be a Buffer");return this===B?!0:o.compare(this,B)===0},o.prototype.inspect=function(){let B="";const V=t.INSPECT_MAX_BYTES;return B=this.toString("hex",0,V).replace(/(.{2})/g,"$1 ").trim(),this.length>V&&(B+=" ... "),"<Buffer "+B+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(B,V,be,je,We){if(ee(B,Uint8Array)&&(B=o.from(B,B.offset,B.byteLength)),!o.isBuffer(B))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof B);if(V===void 0&&(V=0),be===void 0&&(be=B?B.length:0),je===void 0&&(je=0),We===void 0&&(We=this.length),V<0||be>B.length||je<0||We>this.length)throw new RangeError("out of range index");if(je>=We&&V>=be)return 0;if(je>=We)return-1;if(V>=be)return 1;if(V>>>=0,be>>>=0,je>>>=0,We>>>=0,this===B)return 0;let gt=We-je,sn=be-V;const xn=Math.min(gt,sn),Mt=this.slice(je,We),Sn=B.slice(V,be);for(let En=0;En<xn;++En)if(Mt[En]!==Sn[En]){gt=Mt[En],sn=Sn[En];break}return gt<sn?-1:sn<gt?1:0};function U(K,B,V,be,je){if(K.length===0)return-1;if(typeof V=="string"?(be=V,V=0):V>2147483647?V=2147483647:V<-2147483648&&(V=-2147483648),V=+V,te(V)&&(V=je?0:K.length-1),V<0&&(V=K.length+V),V>=K.length){if(je)return-1;V=K.length-1}else if(V<0)if(je)V=0;else return-1;if(typeof B=="string"&&(B=o.from(B,be)),o.isBuffer(B))return B.length===0?-1:G(K,B,V,be,je);if(typeof B=="number")return B=B&255,typeof Uint8Array.prototype.indexOf=="function"?je?Uint8Array.prototype.indexOf.call(K,B,V):Uint8Array.prototype.lastIndexOf.call(K,B,V):G(K,[B],V,be,je);throw new TypeError("val must be string, number or Buffer")}function G(K,B,V,be,je){let We=1,gt=K.length,sn=B.length;if(be!==void 0&&(be=String(be).toLowerCase(),be==="ucs2"||be==="ucs-2"||be==="utf16le"||be==="utf-16le")){if(K.length<2||B.length<2)return-1;We=2,gt/=2,sn/=2,V/=2}function xn(Sn,En){return We===1?Sn[En]:Sn.readUInt16BE(En*We)}let Mt;if(je){let Sn=-1;for(Mt=V;Mt<gt;Mt++)if(xn(K,Mt)===xn(B,Sn===-1?0:Mt-Sn)){if(Sn===-1&&(Sn=Mt),Mt-Sn+1===sn)return Sn*We}else Sn!==-1&&(Mt-=Mt-Sn),Sn=-1}else for(V+sn>gt&&(V=gt-sn),Mt=V;Mt>=0;Mt--){let Sn=!0;for(let En=0;En<sn;En++)if(xn(K,Mt+En)!==xn(B,En)){Sn=!1;break}if(Sn)return Mt}return-1}o.prototype.includes=function(B,V,be){return this.indexOf(B,V,be)!==-1},o.prototype.indexOf=function(B,V,be){return U(this,B,V,be,!0)},o.prototype.lastIndexOf=function(B,V,be){return U(this,B,V,be,!1)};function se(K,B,V,be){V=Number(V)||0;const je=K.length-V;be?(be=Number(be),be>je&&(be=je)):be=je;const We=B.length;be>We/2&&(be=We/2);let gt;for(gt=0;gt<be;++gt){const sn=parseInt(B.substr(gt*2,2),16);if(te(sn))return gt;K[V+gt]=sn}return gt}function re(K,B,V,be){return Ee(rn(B,K.length-V),K,V,be)}function Q(K,B,V,be){return Ee(tr(B),K,V,be)}function ce(K,B,V,be){return Ee(Dr(B),K,V,be)}function Ie(K,B,V,be){return Ee(nr(B,K.length-V),K,V,be)}o.prototype.write=function(B,V,be,je){if(V===void 0)je="utf8",be=this.length,V=0;else if(be===void 0&&typeof V=="string")je=V,be=this.length,V=0;else if(isFinite(V))V=V>>>0,isFinite(be)?(be=be>>>0,je===void 0&&(je="utf8")):(je=be,be=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const We=this.length-V;if((be===void 0||be>We)&&(be=We),B.length>0&&(be<0||V<0)||V>this.length)throw new RangeError("Attempt to write outside buffer bounds");je||(je="utf8");let gt=!1;for(;;)switch(je){case"hex":return se(this,B,V,be);case"utf8":case"utf-8":return re(this,B,V,be);case"ascii":case"latin1":case"binary":return Q(this,B,V,be);case"base64":return ce(this,B,V,be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ie(this,B,V,be);default:if(gt)throw new TypeError("Unknown encoding: "+je);je=(""+je).toLowerCase(),gt=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function qe(K,B,V){return B===0&&V===K.length?e.fromByteArray(K):e.fromByteArray(K.slice(B,V))}function xe(K,B,V){V=Math.min(K.length,V);const be=[];let je=B;for(;je<V;){const We=K[je];let gt=null,sn=We>239?4:We>223?3:We>191?2:1;if(je+sn<=V){let xn,Mt,Sn,En;switch(sn){case 1:We<128&&(gt=We);break;case 2:xn=K[je+1],(xn&192)===128&&(En=(We&31)<<6|xn&63,En>127&&(gt=En));break;case 3:xn=K[je+1],Mt=K[je+2],(xn&192)===128&&(Mt&192)===128&&(En=(We&15)<<12|(xn&63)<<6|Mt&63,En>2047&&(En<55296||En>57343)&&(gt=En));break;case 4:xn=K[je+1],Mt=K[je+2],Sn=K[je+3],(xn&192)===128&&(Mt&192)===128&&(Sn&192)===128&&(En=(We&15)<<18|(xn&63)<<12|(Mt&63)<<6|Sn&63,En>65535&&En<1114112&&(gt=En))}}gt===null?(gt=65533,sn=1):gt>65535&&(gt-=65536,be.push(gt>>>10&1023|55296),gt=56320|gt&1023),be.push(gt),je+=sn}return ue(be)}const Ce=4096;function ue(K){const B=K.length;if(B<=Ce)return String.fromCharCode.apply(String,K);let V="",be=0;for(;be<B;)V+=String.fromCharCode.apply(String,K.slice(be,be+=Ce));return V}function ke(K,B,V){let be="";V=Math.min(K.length,V);for(let je=B;je<V;++je)be+=String.fromCharCode(K[je]&127);return be}function Te(K,B,V){let be="";V=Math.min(K.length,V);for(let je=B;je<V;++je)be+=String.fromCharCode(K[je]);return be}function he(K,B,V){const be=K.length;(!B||B<0)&&(B=0),(!V||V<0||V>be)&&(V=be);let je="";for(let We=B;We<V;++We)je+=Re[K[We]];return je}function j(K,B,V){const be=K.slice(B,V);let je="";for(let We=0;We<be.length-1;We+=2)je+=String.fromCharCode(be[We]+be[We+1]*256);return je}o.prototype.slice=function(B,V){const be=this.length;B=~~B,V=V===void 0?be:~~V,B<0?(B+=be,B<0&&(B=0)):B>be&&(B=be),V<0?(V+=be,V<0&&(V=0)):V>be&&(V=be),V<B&&(V=B);const je=this.subarray(B,V);return Object.setPrototypeOf(je,o.prototype),je};function pe(K,B,V){if(K%1!==0||K<0)throw new RangeError("offset is not uint");if(K+B>V)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(B,V,be){B=B>>>0,V=V>>>0,be||pe(B,V,this.length);let je=this[B],We=1,gt=0;for(;++gt<V&&(We*=256);)je+=this[B+gt]*We;return je},o.prototype.readUintBE=o.prototype.readUIntBE=function(B,V,be){B=B>>>0,V=V>>>0,be||pe(B,V,this.length);let je=this[B+--V],We=1;for(;V>0&&(We*=256);)je+=this[B+--V]*We;return je},o.prototype.readUint8=o.prototype.readUInt8=function(B,V){return B=B>>>0,V||pe(B,1,this.length),this[B]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(B,V){return B=B>>>0,V||pe(B,2,this.length),this[B]|this[B+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(B,V){return B=B>>>0,V||pe(B,2,this.length),this[B]<<8|this[B+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(B,V){return B=B>>>0,V||pe(B,4,this.length),(this[B]|this[B+1]<<8|this[B+2]<<16)+this[B+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(B,V){return B=B>>>0,V||pe(B,4,this.length),this[B]*16777216+(this[B+1]<<16|this[B+2]<<8|this[B+3])},o.prototype.readBigUInt64LE=nt(function(B){B=B>>>0,Dt(B,"offset");const V=this[B],be=this[B+7];(V===void 0||be===void 0)&&an(B,this.length-8);const je=V+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24,We=this[++B]+this[++B]*2**8+this[++B]*2**16+be*2**24;return BigInt(je)+(BigInt(We)<<BigInt(32))}),o.prototype.readBigUInt64BE=nt(function(B){B=B>>>0,Dt(B,"offset");const V=this[B],be=this[B+7];(V===void 0||be===void 0)&&an(B,this.length-8);const je=V*2**24+this[++B]*2**16+this[++B]*2**8+this[++B],We=this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+be;return(BigInt(je)<<BigInt(32))+BigInt(We)}),o.prototype.readIntLE=function(B,V,be){B=B>>>0,V=V>>>0,be||pe(B,V,this.length);let je=this[B],We=1,gt=0;for(;++gt<V&&(We*=256);)je+=this[B+gt]*We;return We*=128,je>=We&&(je-=Math.pow(2,8*V)),je},o.prototype.readIntBE=function(B,V,be){B=B>>>0,V=V>>>0,be||pe(B,V,this.length);let je=V,We=1,gt=this[B+--je];for(;je>0&&(We*=256);)gt+=this[B+--je]*We;return We*=128,gt>=We&&(gt-=Math.pow(2,8*V)),gt},o.prototype.readInt8=function(B,V){return B=B>>>0,V||pe(B,1,this.length),this[B]&128?(255-this[B]+1)*-1:this[B]},o.prototype.readInt16LE=function(B,V){B=B>>>0,V||pe(B,2,this.length);const be=this[B]|this[B+1]<<8;return be&32768?be|4294901760:be},o.prototype.readInt16BE=function(B,V){B=B>>>0,V||pe(B,2,this.length);const be=this[B+1]|this[B]<<8;return be&32768?be|4294901760:be},o.prototype.readInt32LE=function(B,V){return B=B>>>0,V||pe(B,4,this.length),this[B]|this[B+1]<<8|this[B+2]<<16|this[B+3]<<24},o.prototype.readInt32BE=function(B,V){return B=B>>>0,V||pe(B,4,this.length),this[B]<<24|this[B+1]<<16|this[B+2]<<8|this[B+3]},o.prototype.readBigInt64LE=nt(function(B){B=B>>>0,Dt(B,"offset");const V=this[B],be=this[B+7];(V===void 0||be===void 0)&&an(B,this.length-8);const je=this[B+4]+this[B+5]*2**8+this[B+6]*2**16+(be<<24);return(BigInt(je)<<BigInt(32))+BigInt(V+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24)}),o.prototype.readBigInt64BE=nt(function(B){B=B>>>0,Dt(B,"offset");const V=this[B],be=this[B+7];(V===void 0||be===void 0)&&an(B,this.length-8);const je=(V<<24)+this[++B]*2**16+this[++B]*2**8+this[++B];return(BigInt(je)<<BigInt(32))+BigInt(this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+be)}),o.prototype.readFloatLE=function(B,V){return B=B>>>0,V||pe(B,4,this.length),n.read(this,B,!0,23,4)},o.prototype.readFloatBE=function(B,V){return B=B>>>0,V||pe(B,4,this.length),n.read(this,B,!1,23,4)},o.prototype.readDoubleLE=function(B,V){return B=B>>>0,V||pe(B,8,this.length),n.read(this,B,!0,52,8)},o.prototype.readDoubleBE=function(B,V){return B=B>>>0,V||pe(B,8,this.length),n.read(this,B,!1,52,8)};function Ne(K,B,V,be,je,We){if(!o.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>je||B<We)throw new RangeError('"value" argument is out of bounds');if(V+be>K.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(B,V,be,je){if(B=+B,V=V>>>0,be=be>>>0,!je){const sn=Math.pow(2,8*be)-1;Ne(this,B,V,be,sn,0)}let We=1,gt=0;for(this[V]=B&255;++gt<be&&(We*=256);)this[V+gt]=B/We&255;return V+be},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(B,V,be,je){if(B=+B,V=V>>>0,be=be>>>0,!je){const sn=Math.pow(2,8*be)-1;Ne(this,B,V,be,sn,0)}let We=be-1,gt=1;for(this[V+We]=B&255;--We>=0&&(gt*=256);)this[V+We]=B/gt&255;return V+be},o.prototype.writeUint8=o.prototype.writeUInt8=function(B,V,be){return B=+B,V=V>>>0,be||Ne(this,B,V,1,255,0),this[V]=B&255,V+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(B,V,be){return B=+B,V=V>>>0,be||Ne(this,B,V,2,65535,0),this[V]=B&255,this[V+1]=B>>>8,V+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(B,V,be){return B=+B,V=V>>>0,be||Ne(this,B,V,2,65535,0),this[V]=B>>>8,this[V+1]=B&255,V+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(B,V,be){return B=+B,V=V>>>0,be||Ne(this,B,V,4,4294967295,0),this[V+3]=B>>>24,this[V+2]=B>>>16,this[V+1]=B>>>8,this[V]=B&255,V+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(B,V,be){return B=+B,V=V>>>0,be||Ne(this,B,V,4,4294967295,0),this[V]=B>>>24,this[V+1]=B>>>16,this[V+2]=B>>>8,this[V+3]=B&255,V+4};function ae(K,B,V,be,je){vt(B,be,je,K,V,7);let We=Number(B&BigInt(4294967295));K[V++]=We,We=We>>8,K[V++]=We,We=We>>8,K[V++]=We,We=We>>8,K[V++]=We;let gt=Number(B>>BigInt(32)&BigInt(4294967295));return K[V++]=gt,gt=gt>>8,K[V++]=gt,gt=gt>>8,K[V++]=gt,gt=gt>>8,K[V++]=gt,V}function He(K,B,V,be,je){vt(B,be,je,K,V,7);let We=Number(B&BigInt(4294967295));K[V+7]=We,We=We>>8,K[V+6]=We,We=We>>8,K[V+5]=We,We=We>>8,K[V+4]=We;let gt=Number(B>>BigInt(32)&BigInt(4294967295));return K[V+3]=gt,gt=gt>>8,K[V+2]=gt,gt=gt>>8,K[V+1]=gt,gt=gt>>8,K[V]=gt,V+8}o.prototype.writeBigUInt64LE=nt(function(B,V=0){return ae(this,B,V,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=nt(function(B,V=0){return He(this,B,V,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(B,V,be,je){if(B=+B,V=V>>>0,!je){const xn=Math.pow(2,8*be-1);Ne(this,B,V,be,xn-1,-xn)}let We=0,gt=1,sn=0;for(this[V]=B&255;++We<be&&(gt*=256);)B<0&&sn===0&&this[V+We-1]!==0&&(sn=1),this[V+We]=(B/gt>>0)-sn&255;return V+be},o.prototype.writeIntBE=function(B,V,be,je){if(B=+B,V=V>>>0,!je){const xn=Math.pow(2,8*be-1);Ne(this,B,V,be,xn-1,-xn)}let We=be-1,gt=1,sn=0;for(this[V+We]=B&255;--We>=0&&(gt*=256);)B<0&&sn===0&&this[V+We+1]!==0&&(sn=1),this[V+We]=(B/gt>>0)-sn&255;return V+be},o.prototype.writeInt8=function(B,V,be){return B=+B,V=V>>>0,be||Ne(this,B,V,1,127,-128),B<0&&(B=255+B+1),this[V]=B&255,V+1},o.prototype.writeInt16LE=function(B,V,be){return B=+B,V=V>>>0,be||Ne(this,B,V,2,32767,-32768),this[V]=B&255,this[V+1]=B>>>8,V+2},o.prototype.writeInt16BE=function(B,V,be){return B=+B,V=V>>>0,be||Ne(this,B,V,2,32767,-32768),this[V]=B>>>8,this[V+1]=B&255,V+2},o.prototype.writeInt32LE=function(B,V,be){return B=+B,V=V>>>0,be||Ne(this,B,V,4,2147483647,-2147483648),this[V]=B&255,this[V+1]=B>>>8,this[V+2]=B>>>16,this[V+3]=B>>>24,V+4},o.prototype.writeInt32BE=function(B,V,be){return B=+B,V=V>>>0,be||Ne(this,B,V,4,2147483647,-2147483648),B<0&&(B=4294967295+B+1),this[V]=B>>>24,this[V+1]=B>>>16,this[V+2]=B>>>8,this[V+3]=B&255,V+4},o.prototype.writeBigInt64LE=nt(function(B,V=0){return ae(this,B,V,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=nt(function(B,V=0){return He(this,B,V,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function it(K,B,V,be,je,We){if(V+be>K.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("Index out of range")}function Xe(K,B,V,be,je){return B=+B,V=V>>>0,je||it(K,B,V,4),n.write(K,B,V,be,23,4),V+4}o.prototype.writeFloatLE=function(B,V,be){return Xe(this,B,V,!0,be)},o.prototype.writeFloatBE=function(B,V,be){return Xe(this,B,V,!1,be)};function Ke(K,B,V,be,je){return B=+B,V=V>>>0,je||it(K,B,V,8),n.write(K,B,V,be,52,8),V+8}o.prototype.writeDoubleLE=function(B,V,be){return Ke(this,B,V,!0,be)},o.prototype.writeDoubleBE=function(B,V,be){return Ke(this,B,V,!1,be)},o.prototype.copy=function(B,V,be,je){if(!o.isBuffer(B))throw new TypeError("argument should be a Buffer");if(be||(be=0),!je&&je!==0&&(je=this.length),V>=B.length&&(V=B.length),V||(V=0),je>0&&je<be&&(je=be),je===be||B.length===0||this.length===0)return 0;if(V<0)throw new RangeError("targetStart out of bounds");if(be<0||be>=this.length)throw new RangeError("Index out of range");if(je<0)throw new RangeError("sourceEnd out of bounds");je>this.length&&(je=this.length),B.length-V<je-be&&(je=B.length-V+be);const We=je-be;return this===B&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(V,be,je):Uint8Array.prototype.set.call(B,this.subarray(be,je),V),We},o.prototype.fill=function(B,V,be,je){if(typeof B=="string"){if(typeof V=="string"?(je=V,V=0,be=this.length):typeof be=="string"&&(je=be,be=this.length),je!==void 0&&typeof je!="string")throw new TypeError("encoding must be a string");if(typeof je=="string"&&!o.isEncoding(je))throw new TypeError("Unknown encoding: "+je);if(B.length===1){const gt=B.charCodeAt(0);(je==="utf8"&&gt<128||je==="latin1")&&(B=gt)}}else typeof B=="number"?B=B&255:typeof B=="boolean"&&(B=Number(B));if(V<0||this.length<V||this.length<be)throw new RangeError("Out of range index");if(be<=V)return this;V=V>>>0,be=be===void 0?this.length:be>>>0,B||(B=0);let We;if(typeof B=="number")for(We=V;We<be;++We)this[We]=B;else{const gt=o.isBuffer(B)?B:o.from(B,je),sn=gt.length;if(sn===0)throw new TypeError('The value "'+B+'" is invalid for argument "value"');for(We=0;We<be-V;++We)this[We+V]=gt[We%sn]}return this};const ct={};function de(K,B,V){ct[K]=class extends V{constructor(){super(),Object.defineProperty(this,"message",{value:B.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${K}]`,this.stack,delete this.name}get code(){return K}set code(je){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:je,writable:!0})}toString(){return`${this.name} [${K}]: ${this.message}`}}}de("ERR_BUFFER_OUT_OF_BOUNDS",function(K){return K?`${K} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),de("ERR_INVALID_ARG_TYPE",function(K,B){return`The "${K}" argument must be of type number. Received type ${typeof B}`},TypeError),de("ERR_OUT_OF_RANGE",function(K,B,V){let be=`The value of "${K}" is out of range.`,je=V;return Number.isInteger(V)&&Math.abs(V)>2**32?je=Se(String(V)):typeof V=="bigint"&&(je=String(V),(V>BigInt(2)**BigInt(32)||V<-(BigInt(2)**BigInt(32)))&&(je=Se(je)),je+="n"),be+=` It must be ${B}. Received ${je}`,be},RangeError);function Se(K){let B="",V=K.length;const be=K[0]==="-"?1:0;for(;V>=be+4;V-=3)B=`_${K.slice(V-3,V)}${B}`;return`${K.slice(0,V)}${B}`}function ht(K,B,V){Dt(B,"offset"),(K[B]===void 0||K[B+V]===void 0)&&an(B,K.length-(V+1))}function vt(K,B,V,be,je,We){if(K>V||K<B){const gt=typeof B=="bigint"?"n":"";let sn;throw B===0||B===BigInt(0)?sn=`>= 0${gt} and < 2${gt} ** ${(We+1)*8}${gt}`:sn=`>= -(2${gt} ** ${(We+1)*8-1}${gt}) and < 2 ** ${(We+1)*8-1}${gt}`,new ct.ERR_OUT_OF_RANGE("value",sn,K)}ht(be,je,We)}function Dt(K,B){if(typeof K!="number")throw new ct.ERR_INVALID_ARG_TYPE(B,"number",K)}function an(K,B,V){throw Math.floor(K)!==K?(Dt(K,V),new ct.ERR_OUT_OF_RANGE("offset","an integer",K)):B<0?new ct.ERR_BUFFER_OUT_OF_BOUNDS:new ct.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${B}`,K)}const Nt=/[^+/0-9A-Za-z-_]/g;function Un(K){if(K=K.split("=")[0],K=K.trim().replace(Nt,""),K.length<2)return"";for(;K.length%4!==0;)K=K+"=";return K}function rn(K,B){B=B||1/0;let V;const be=K.length;let je=null;const We=[];for(let gt=0;gt<be;++gt){if(V=K.charCodeAt(gt),V>55295&&V<57344){if(!je){if(V>56319){(B-=3)>-1&&We.push(239,191,189);continue}else if(gt+1===be){(B-=3)>-1&&We.push(239,191,189);continue}je=V;continue}if(V<56320){(B-=3)>-1&&We.push(239,191,189),je=V;continue}V=(je-55296<<10|V-56320)+65536}else je&&(B-=3)>-1&&We.push(239,191,189);if(je=null,V<128){if((B-=1)<0)break;We.push(V)}else if(V<2048){if((B-=2)<0)break;We.push(V>>6|192,V&63|128)}else if(V<65536){if((B-=3)<0)break;We.push(V>>12|224,V>>6&63|128,V&63|128)}else if(V<1114112){if((B-=4)<0)break;We.push(V>>18|240,V>>12&63|128,V>>6&63|128,V&63|128)}else throw new Error("Invalid code point")}return We}function tr(K){const B=[];for(let V=0;V<K.length;++V)B.push(K.charCodeAt(V)&255);return B}function nr(K,B){let V,be,je;const We=[];for(let gt=0;gt<K.length&&!((B-=2)<0);++gt)V=K.charCodeAt(gt),be=V>>8,je=V%256,We.push(je),We.push(be);return We}function Dr(K){return e.toByteArray(Un(K))}function Ee(K,B,V,be){let je;for(je=0;je<be&&!(je+V>=B.length||je>=K.length);++je)B[je+V]=K[je];return je}function ee(K,B){return K instanceof B||K!=null&&K.constructor!=null&&K.constructor.name!=null&&K.constructor.name===B.name}function te(K){return K!==K}const Re=function(){const K="0123456789abcdef",B=new Array(256);for(let V=0;V<16;++V){const be=V*16;for(let je=0;je<16;++je)B[be+je]=K[V]+K[je]}return B}();function nt(K){return typeof BigInt>"u"?Oe:K}function Oe(){throw new Error("BigInt not supported")}}(II)),II}var rse=sSe();typeof window<"u"&&(window.Buffer=rse.Buffer);var NI={exports:{}},dr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kV;function oSe(){if(kV)return dr;kV=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function p(j){return j===null||typeof j!="object"?null:(j=h&&j[h]||j["@@iterator"],typeof j=="function"?j:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function k(j,pe,Ne){this.props=j,this.context=pe,this.refs=w,this.updater=Ne||m}k.prototype.isReactComponent={},k.prototype.setState=function(j,pe){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,pe,"setState")},k.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function T(){}T.prototype=k.prototype;function C(j,pe,Ne){this.props=j,this.context=pe,this.refs=w,this.updater=Ne||m}var N=C.prototype=new T;N.constructor=C,v(N,k.prototype),N.isPureReactComponent=!0;var F=Array.isArray,D={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function G(j,pe,Ne,ae,He,it){return Ne=it.ref,{$$typeof:t,type:j,key:pe,ref:Ne!==void 0?Ne:null,props:it}}function se(j,pe){return G(j.type,pe,void 0,void 0,void 0,j.props)}function re(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function Q(j){var pe={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Ne){return pe[Ne]})}var ce=/\/+/g;function Ie(j,pe){return typeof j=="object"&&j!==null&&j.key!=null?Q(""+j.key):pe.toString(36)}function qe(){}function xe(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(qe,qe):(j.status="pending",j.then(function(pe){j.status==="pending"&&(j.status="fulfilled",j.value=pe)},function(pe){j.status==="pending"&&(j.status="rejected",j.reason=pe)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Ce(j,pe,Ne,ae,He){var it=typeof j;(it==="undefined"||it==="boolean")&&(j=null);var Xe=!1;if(j===null)Xe=!0;else switch(it){case"bigint":case"string":case"number":Xe=!0;break;case"object":switch(j.$$typeof){case t:case e:Xe=!0;break;case d:return Xe=j._init,Ce(Xe(j._payload),pe,Ne,ae,He)}}if(Xe)return He=He(j),Xe=ae===""?"."+Ie(j,0):ae,F(He)?(Ne="",Xe!=null&&(Ne=Xe.replace(ce,"$&/")+"/"),Ce(He,pe,Ne,"",function(de){return de})):He!=null&&(re(He)&&(He=se(He,Ne+(He.key==null||j&&j.key===He.key?"":(""+He.key).replace(ce,"$&/")+"/")+Xe)),pe.push(He)),1;Xe=0;var Ke=ae===""?".":ae+":";if(F(j))for(var ct=0;ct<j.length;ct++)ae=j[ct],it=Ke+Ie(ae,ct),Xe+=Ce(ae,pe,Ne,it,He);else if(ct=p(j),typeof ct=="function")for(j=ct.call(j),ct=0;!(ae=j.next()).done;)ae=ae.value,it=Ke+Ie(ae,ct++),Xe+=Ce(ae,pe,Ne,it,He);else if(it==="object"){if(typeof j.then=="function")return Ce(xe(j),pe,Ne,ae,He);throw pe=String(j),Error("Objects are not valid as a React child (found: "+(pe==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":pe)+"). If you meant to render a collection of children, use an array instead.")}return Xe}function ue(j,pe,Ne){if(j==null)return j;var ae=[],He=0;return Ce(j,ae,"","",function(it){return pe.call(Ne,it,He++)}),ae}function ke(j){if(j._status===-1){var pe=j._result;pe=pe(),pe.then(function(Ne){(j._status===0||j._status===-1)&&(j._status=1,j._result=Ne)},function(Ne){(j._status===0||j._status===-1)&&(j._status=2,j._result=Ne)}),j._status===-1&&(j._status=0,j._result=pe)}if(j._status===1)return j._result.default;throw j._result}var Te=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var pe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(pe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function he(){}return dr.Children={map:ue,forEach:function(j,pe,Ne){ue(j,function(){pe.apply(this,arguments)},Ne)},count:function(j){var pe=0;return ue(j,function(){pe++}),pe},toArray:function(j){return ue(j,function(pe){return pe})||[]},only:function(j){if(!re(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},dr.Component=k,dr.Fragment=n,dr.Profiler=i,dr.PureComponent=C,dr.StrictMode=r,dr.Suspense=l,dr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,dr.act=function(){throw Error("act(...) is not supported in production builds of React.")},dr.cache=function(j){return function(){return j.apply(null,arguments)}},dr.cloneElement=function(j,pe,Ne){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ae=v({},j.props),He=j.key,it=void 0;if(pe!=null)for(Xe in pe.ref!==void 0&&(it=void 0),pe.key!==void 0&&(He=""+pe.key),pe)!U.call(pe,Xe)||Xe==="key"||Xe==="__self"||Xe==="__source"||Xe==="ref"&&pe.ref===void 0||(ae[Xe]=pe[Xe]);var Xe=arguments.length-2;if(Xe===1)ae.children=Ne;else if(1<Xe){for(var Ke=Array(Xe),ct=0;ct<Xe;ct++)Ke[ct]=arguments[ct+2];ae.children=Ke}return G(j.type,He,void 0,void 0,it,ae)},dr.createContext=function(j){return j={$$typeof:s,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:a,_context:j},j},dr.createElement=function(j,pe,Ne){var ae,He={},it=null;if(pe!=null)for(ae in pe.key!==void 0&&(it=""+pe.key),pe)U.call(pe,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(He[ae]=pe[ae]);var Xe=arguments.length-2;if(Xe===1)He.children=Ne;else if(1<Xe){for(var Ke=Array(Xe),ct=0;ct<Xe;ct++)Ke[ct]=arguments[ct+2];He.children=Ke}if(j&&j.defaultProps)for(ae in Xe=j.defaultProps,Xe)He[ae]===void 0&&(He[ae]=Xe[ae]);return G(j,it,void 0,void 0,null,He)},dr.createRef=function(){return{current:null}},dr.forwardRef=function(j){return{$$typeof:o,render:j}},dr.isValidElement=re,dr.lazy=function(j){return{$$typeof:d,_payload:{_status:-1,_result:j},_init:ke}},dr.memo=function(j,pe){return{$$typeof:u,type:j,compare:pe===void 0?null:pe}},dr.startTransition=function(j){var pe=D.T,Ne={};D.T=Ne;try{var ae=j(),He=D.S;He!==null&&He(Ne,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(he,Te)}catch(it){Te(it)}finally{D.T=pe}},dr.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},dr.use=function(j){return D.H.use(j)},dr.useActionState=function(j,pe,Ne){return D.H.useActionState(j,pe,Ne)},dr.useCallback=function(j,pe){return D.H.useCallback(j,pe)},dr.useContext=function(j){return D.H.useContext(j)},dr.useDebugValue=function(){},dr.useDeferredValue=function(j,pe){return D.H.useDeferredValue(j,pe)},dr.useEffect=function(j,pe){return D.H.useEffect(j,pe)},dr.useId=function(){return D.H.useId()},dr.useImperativeHandle=function(j,pe,Ne){return D.H.useImperativeHandle(j,pe,Ne)},dr.useInsertionEffect=function(j,pe){return D.H.useInsertionEffect(j,pe)},dr.useLayoutEffect=function(j,pe){return D.H.useLayoutEffect(j,pe)},dr.useMemo=function(j,pe){return D.H.useMemo(j,pe)},dr.useOptimistic=function(j,pe){return D.H.useOptimistic(j,pe)},dr.useReducer=function(j,pe,Ne){return D.H.useReducer(j,pe,Ne)},dr.useRef=function(j){return D.H.useRef(j)},dr.useState=function(j){return D.H.useState(j)},dr.useSyncExternalStore=function(j,pe,Ne){return D.H.useSyncExternalStore(j,pe,Ne)},dr.useTransition=function(){return D.H.useTransition()},dr.version="19.0.0",dr}var TV;function i7(){return TV||(TV=1,NI.exports=oSe()),NI.exports}var $=i7();const _t=Yc($),lSe=nSe({__proto__:null,default:_t},[$]);var OI={exports:{}},bw={},MI={exports:{}},PI={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AV;function uSe(){return AV||(AV=1,function(t){function e(ue,ke){var Te=ue.length;ue.push(ke);e:for(;0<Te;){var he=Te-1>>>1,j=ue[he];if(0<i(j,ke))ue[he]=ke,ue[Te]=j,Te=he;else break e}}function n(ue){return ue.length===0?null:ue[0]}function r(ue){if(ue.length===0)return null;var ke=ue[0],Te=ue.pop();if(Te!==ke){ue[0]=Te;e:for(var he=0,j=ue.length,pe=j>>>1;he<pe;){var Ne=2*(he+1)-1,ae=ue[Ne],He=Ne+1,it=ue[He];if(0>i(ae,Te))He<j&&0>i(it,ae)?(ue[he]=it,ue[He]=Te,he=He):(ue[he]=ae,ue[Ne]=Te,he=Ne);else if(He<j&&0>i(it,Te))ue[he]=it,ue[He]=Te,he=He;else break e}}return ke}function i(ue,ke){var Te=ue.sortIndex-ke.sortIndex;return Te!==0?Te:ue.id-ke.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,h=null,p=3,m=!1,v=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function N(ue){for(var ke=n(u);ke!==null;){if(ke.callback===null)r(u);else if(ke.startTime<=ue)r(u),ke.sortIndex=ke.expirationTime,e(l,ke);else break;ke=n(u)}}function F(ue){if(w=!1,N(ue),!v)if(n(l)!==null)v=!0,xe();else{var ke=n(u);ke!==null&&Ce(F,ke.startTime-ue)}}var D=!1,U=-1,G=5,se=-1;function re(){return!(t.unstable_now()-se<G)}function Q(){if(D){var ue=t.unstable_now();se=ue;var ke=!0;try{e:{v=!1,w&&(w=!1,T(U),U=-1),m=!0;var Te=p;try{t:{for(N(ue),h=n(l);h!==null&&!(h.expirationTime>ue&&re());){var he=h.callback;if(typeof he=="function"){h.callback=null,p=h.priorityLevel;var j=he(h.expirationTime<=ue);if(ue=t.unstable_now(),typeof j=="function"){h.callback=j,N(ue),ke=!0;break t}h===n(l)&&r(l),N(ue)}else r(l);h=n(l)}if(h!==null)ke=!0;else{var pe=n(u);pe!==null&&Ce(F,pe.startTime-ue),ke=!1}}break e}finally{h=null,p=Te,m=!1}ke=void 0}}finally{ke?ce():D=!1}}}var ce;if(typeof C=="function")ce=function(){C(Q)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,qe=Ie.port2;Ie.port1.onmessage=Q,ce=function(){qe.postMessage(null)}}else ce=function(){k(Q,0)};function xe(){D||(D=!0,ce())}function Ce(ue,ke){U=k(function(){ue(t.unstable_now())},ke)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ue){ue.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,xe())},t.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<ue?Math.floor(1e3/ue):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(ue){switch(p){case 1:case 2:case 3:var ke=3;break;default:ke=p}var Te=p;p=ke;try{return ue()}finally{p=Te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ue,ke){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var Te=p;p=ue;try{return ke()}finally{p=Te}},t.unstable_scheduleCallback=function(ue,ke,Te){var he=t.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?he+Te:he):Te=he,ue){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=Te+j,ue={id:d++,callback:ke,priorityLevel:ue,startTime:Te,expirationTime:j,sortIndex:-1},Te>he?(ue.sortIndex=Te,e(u,ue),n(l)===null&&ue===n(u)&&(w?(T(U),U=-1):w=!0,Ce(F,Te-he))):(ue.sortIndex=j,e(l,ue),v||m||(v=!0,xe())),ue},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(ue){var ke=p;return function(){var Te=p;p=ke;try{return ue.apply(this,arguments)}finally{p=Te}}}}(PI)),PI}var CV;function cSe(){return CV||(CV=1,MI.exports=uSe()),MI.exports}var LI={exports:{}},Hs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RV;function dSe(){if(RV)return Hs;RV=1;var t=i7();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(l,u,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:l,containerInfo:u,implementation:d}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Hs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Hs.createPortal=function(l,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return a(l,u,null,d)},Hs.flushSync=function(l){var u=s.T,d=r.p;try{if(s.T=null,r.p=2,l)return l()}finally{s.T=u,r.p=d,r.d.f()}},Hs.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(l,u))},Hs.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Hs.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin),p=typeof u.integrity=="string"?u.integrity:void 0,m=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?r.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:p,fetchPriority:m}):d==="script"&&r.d.X(l,{crossOrigin:h,integrity:p,fetchPriority:m,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Hs.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);r.d.M(l,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(l)},Hs.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin);r.d.L(l,d,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Hs.preloadModule=function(l,u){if(typeof l=="string")if(u){var d=o(u.as,u.crossOrigin);r.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(l)},Hs.requestFormReset=function(l){r.d.r(l)},Hs.unstable_batchedUpdates=function(l,u){return l(u)},Hs.useFormState=function(l,u,d){return s.H.useFormState(l,u,d)},Hs.useFormStatus=function(){return s.H.useHostTransitionStatus()},Hs.version="19.0.0",Hs}var IV;function ise(){if(IV)return LI.exports;IV=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),LI.exports=dSe(),LI.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NV;function hSe(){if(NV)return bw;NV=1;var t=cSe(),e=i7(),n=ise();function r(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}var a=Symbol.for("react.element"),s=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),p=Symbol.for("react.consumer"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),N=Symbol.for("react.offscreen"),F=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(c){return c===null||typeof c!="object"?null:(c=D&&c[D]||c["@@iterator"],typeof c=="function"?c:null)}var G=Symbol.for("react.client.reference");function se(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===G?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case l:return"Fragment";case o:return"Portal";case d:return"Profiler";case u:return"StrictMode";case w:return"Suspense";case k:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case m:return(c.displayName||"Context")+".Provider";case p:return(c._context.displayName||"Context")+".Consumer";case v:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case T:return f=c.displayName||null,f!==null?f:se(c.type)||"Memo";case C:f=c._payload,c=c._init;try{return se(c(f))}catch{}}return null}var re=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=Object.assign,ce,Ie;function qe(c){if(ce===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);ce=f&&f[1]||"",Ie=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ce+c+Ie}var xe=!1;function Ce(c,f){if(!c||xe)return"";xe=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var _={DetermineComponentFrameRoot:function(){try{if(f){var Bt=function(){throw Error()};if(Object.defineProperty(Bt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Bt,[])}catch(It){var wt=It}Reflect.construct(c,[],Bt)}else{try{Bt.call()}catch(It){wt=It}c.call(Bt.prototype)}}else{try{throw Error()}catch(It){wt=It}(Bt=c())&&typeof Bt.catch=="function"&&Bt.catch(function(){})}}catch(It){if(It&&wt&&typeof It.stack=="string")return[It.stack,wt.stack]}return[null,null]}};_.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var I=Object.getOwnPropertyDescriptor(_.DetermineComponentFrameRoot,"name");I&&I.configurable&&Object.defineProperty(_.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=_.DetermineComponentFrameRoot(),ne=P[0],we=P[1];if(ne&&we){var Le=ne.split(`
`),rt=we.split(`
`);for(I=_=0;_<Le.length&&!Le[_].includes("DetermineComponentFrameRoot");)_++;for(;I<rt.length&&!rt[I].includes("DetermineComponentFrameRoot");)I++;if(_===Le.length||I===rt.length)for(_=Le.length-1,I=rt.length-1;1<=_&&0<=I&&Le[_]!==rt[I];)I--;for(;1<=_&&0<=I;_--,I--)if(Le[_]!==rt[I]){if(_!==1||I!==1)do if(_--,I--,0>I||Le[_]!==rt[I]){var Ot=`
`+Le[_].replace(" at new "," at ");return c.displayName&&Ot.includes("<anonymous>")&&(Ot=Ot.replace("<anonymous>",c.displayName)),Ot}while(1<=_&&0<=I);break}}}finally{xe=!1,Error.prepareStackTrace=g}return(g=c?c.displayName||c.name:"")?qe(g):""}function ue(c){switch(c.tag){case 26:case 27:case 5:return qe(c.type);case 16:return qe("Lazy");case 13:return qe("Suspense");case 19:return qe("SuspenseList");case 0:case 15:return c=Ce(c.type,!1),c;case 11:return c=Ce(c.type.render,!1),c;case 1:return c=Ce(c.type,!0),c;default:return""}}function ke(c){try{var f="";do f+=ue(c),c=c.return;while(c);return f}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function Te(c){var f=c,g=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,f.flags&4098&&(g=f.return),c=f.return;while(c)}return f.tag===3?g:null}function he(c){if(c.tag===13){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function j(c){if(Te(c)!==c)throw Error(r(188))}function pe(c){var f=c.alternate;if(!f){if(f=Te(c),f===null)throw Error(r(188));return f!==c?null:c}for(var g=c,_=f;;){var I=g.return;if(I===null)break;var P=I.alternate;if(P===null){if(_=I.return,_!==null){g=_;continue}break}if(I.child===P.child){for(P=I.child;P;){if(P===g)return j(I),c;if(P===_)return j(I),f;P=P.sibling}throw Error(r(188))}if(g.return!==_.return)g=I,_=P;else{for(var ne=!1,we=I.child;we;){if(we===g){ne=!0,g=I,_=P;break}if(we===_){ne=!0,_=I,g=P;break}we=we.sibling}if(!ne){for(we=P.child;we;){if(we===g){ne=!0,g=P,_=I;break}if(we===_){ne=!0,_=P,g=I;break}we=we.sibling}if(!ne)throw Error(r(189))}}if(g.alternate!==_)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?c:f}function Ne(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(f=Ne(c),f!==null)return f;c=c.sibling}return null}var ae=Array.isArray,He=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},Xe=[],Ke=-1;function ct(c){return{current:c}}function de(c){0>Ke||(c.current=Xe[Ke],Xe[Ke]=null,Ke--)}function Se(c,f){Ke++,Xe[Ke]=c.current,c.current=f}var ht=ct(null),vt=ct(null),Dt=ct(null),an=ct(null);function Nt(c,f){switch(Se(Dt,f),Se(vt,c),Se(ht,null),c=f.nodeType,c){case 9:case 11:f=(f=f.documentElement)&&(f=f.namespaceURI)?YH(f):0;break;default:if(c=c===8?f.parentNode:f,f=c.tagName,c=c.namespaceURI)c=YH(c),f=XH(c,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}de(ht),Se(ht,f)}function Un(){de(ht),de(vt),de(Dt)}function rn(c){c.memoizedState!==null&&Se(an,c);var f=ht.current,g=XH(f,c.type);f!==g&&(Se(vt,c),Se(ht,g))}function tr(c){vt.current===c&&(de(ht),de(vt)),an.current===c&&(de(an),dw._currentValue=it)}var nr=Object.prototype.hasOwnProperty,Dr=t.unstable_scheduleCallback,Ee=t.unstable_cancelCallback,ee=t.unstable_shouldYield,te=t.unstable_requestPaint,Re=t.unstable_now,nt=t.unstable_getCurrentPriorityLevel,Oe=t.unstable_ImmediatePriority,K=t.unstable_UserBlockingPriority,B=t.unstable_NormalPriority,V=t.unstable_LowPriority,be=t.unstable_IdlePriority,je=t.log,We=t.unstable_setDisableYieldValue,gt=null,sn=null;function xn(c){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(gt,c,void 0,(c.current.flags&128)===128)}catch{}}function Mt(c){if(typeof je=="function"&&We(c),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(gt,c)}catch{}}var Sn=Math.clz32?Math.clz32:ze,En=Math.log,li=Math.LN2;function ze(c){return c>>>=0,c===0?32:31-(En(c)/li|0)|0}var Yt=128,_e=4194304;function Pt(c){var f=c&42;if(f!==0)return f;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function In(c,f){var g=c.pendingLanes;if(g===0)return 0;var _=0,I=c.suspendedLanes,P=c.pingedLanes,ne=c.warmLanes;c=c.finishedLanes!==0;var we=g&134217727;return we!==0?(g=we&~I,g!==0?_=Pt(g):(P&=we,P!==0?_=Pt(P):c||(ne=we&~ne,ne!==0&&(_=Pt(ne))))):(we=g&~I,we!==0?_=Pt(we):P!==0?_=Pt(P):c||(ne=g&~ne,ne!==0&&(_=Pt(ne)))),_===0?0:f!==0&&f!==_&&!(f&I)&&(I=_&-_,ne=f&-f,I>=ne||I===32&&(ne&4194176)!==0)?f:_}function Ft(c,f){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&f)===0}function Ir(c,f){switch(c){case 1:case 2:case 4:case 8:return f+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function on(){var c=Yt;return Yt<<=1,!(Yt&4194176)&&(Yt=128),c}function qn(){var c=_e;return _e<<=1,!(_e&62914560)&&(_e=4194304),c}function St(c){for(var f=[],g=0;31>g;g++)f.push(c);return f}function Ct(c,f){c.pendingLanes|=f,f!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function ji(c,f,g,_,I,P){var ne=c.pendingLanes;c.pendingLanes=g,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=g,c.entangledLanes&=g,c.errorRecoveryDisabledLanes&=g,c.shellSuspendCounter=0;var we=c.entanglements,Le=c.expirationTimes,rt=c.hiddenUpdates;for(g=ne&~g;0<g;){var Ot=31-Sn(g),Bt=1<<Ot;we[Ot]=0,Le[Ot]=-1;var wt=rt[Ot];if(wt!==null)for(rt[Ot]=null,Ot=0;Ot<wt.length;Ot++){var It=wt[Ot];It!==null&&(It.lane&=-536870913)}g&=~Bt}_!==0&&mn(c,_,0),P!==0&&I===0&&c.tag!==0&&(c.suspendedLanes|=P&~(ne&~f))}function mn(c,f,g){c.pendingLanes|=f,c.suspendedLanes&=~f;var _=31-Sn(f);c.entangledLanes|=f,c.entanglements[_]=c.entanglements[_]|1073741824|g&4194218}function Jt(c,f){var g=c.entangledLanes|=f;for(c=c.entanglements;g;){var _=31-Sn(g),I=1<<_;I&f|c[_]&f&&(c[_]|=f),g&=~I}}function Ra(c){return c&=-c,2<c?8<c?c&134217727?32:268435456:8:2}function ss(){var c=He.p;return c!==0?c:(c=window.event,c===void 0?32:pV(c.type))}function ni(c,f){var g=He.p;try{return He.p=c,f()}finally{He.p=g}}var Xn=Math.random().toString(36).slice(2),Tr="__reactFiber$"+Xn,vr="__reactProps$"+Xn,Zr="__reactContainer$"+Xn,Ha="__reactEvents$"+Xn,Wo="__reactListeners$"+Xn,ki="__reactHandles$"+Xn,Ni="__reactResources$"+Xn,_i="__reactMarker$"+Xn;function Xi(c){delete c[Tr],delete c[vr],delete c[Ha],delete c[Wo],delete c[ki]}function Zi(c){var f=c[Tr];if(f)return f;for(var g=c.parentNode;g;){if(f=g[Zr]||g[Tr]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(c=JH(c);c!==null;){if(g=c[Tr])return g;c=JH(c)}return f}c=g,g=c.parentNode}return null}function lo(c){if(c=c[Tr]||c[Zr]){var f=c.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return c}return null}function ui(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c.stateNode;throw Error(r(33))}function Es(c){var f=c[Ni];return f||(f=c[Ni]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function ci(c){c[_i]=!0}var qf=new Set,Ku={};function Ko(c,f){au(c,f),au(c+"Capture",f)}function au(c,f){for(Ku[c]=f,c=0;c<f.length;c++)qf.add(f[c])}var uo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tg={},lh={};function B0(c){return nr.call(lh,c)?!0:nr.call(tg,c)?!1:Yu.test(c)?lh[c]=!0:(tg[c]=!0,!1)}function ar(c,f,g){if(B0(f))if(g===null)c.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":c.removeAttribute(f);return;case"boolean":var _=f.toLowerCase().slice(0,5);if(_!=="data-"&&_!=="aria-"){c.removeAttribute(f);return}}c.setAttribute(f,""+g)}}function uh(c,f,g){if(g===null)c.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(f);return}c.setAttribute(f,""+g)}}function Yo(c,f,g,_){if(_===null)c.removeAttribute(g);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(g);return}c.setAttributeNS(f,g,""+_)}}function ks(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function di(c){var f=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function ch(c){var f=di(c)?"checked":"value",g=Object.getOwnPropertyDescriptor(c.constructor.prototype,f),_=""+c[f];if(!c.hasOwnProperty(f)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var I=g.get,P=g.set;return Object.defineProperty(c,f,{configurable:!0,get:function(){return I.call(this)},set:function(ne){_=""+ne,P.call(this,ne)}}),Object.defineProperty(c,f,{enumerable:g.enumerable}),{getValue:function(){return _},setValue:function(ne){_=""+ne},stopTracking:function(){c._valueTracker=null,delete c[f]}}}}function su(c){c._valueTracker||(c._valueTracker=ch(c))}function Xu(c){if(!c)return!1;var f=c._valueTracker;if(!f)return!0;var g=f.getValue(),_="";return c&&(_=di(c)?c.checked?"true":"false":c.value),c=_,c!==g?(f.setValue(c),!0):!1}function Jc(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var ng=/[\n"\\]/g;function Va(c){return c.replace(ng,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Hf(c,f,g,_,I,P,ne,we){c.name="",ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?c.type=ne:c.removeAttribute("type"),f!=null?ne==="number"?(f===0&&c.value===""||c.value!=f)&&(c.value=""+ks(f)):c.value!==""+ks(f)&&(c.value=""+ks(f)):ne!=="submit"&&ne!=="reset"||c.removeAttribute("value"),f!=null?Vf(c,ne,ks(f)):g!=null?Vf(c,ne,ks(g)):_!=null&&c.removeAttribute("value"),I==null&&P!=null&&(c.defaultChecked=!!P),I!=null&&(c.checked=I&&typeof I!="function"&&typeof I!="symbol"),we!=null&&typeof we!="function"&&typeof we!="symbol"&&typeof we!="boolean"?c.name=""+ks(we):c.removeAttribute("name")}function dh(c,f,g,_,I,P,ne,we){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(c.type=P),f!=null||g!=null){if(!(P!=="submit"&&P!=="reset"||f!=null))return;g=g!=null?""+ks(g):"",f=f!=null?""+ks(f):g,we||f===c.value||(c.value=f),c.defaultValue=f}_=_??I,_=typeof _!="function"&&typeof _!="symbol"&&!!_,c.checked=we?c.checked:!!_,c.defaultChecked=!!_,ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"&&(c.name=ne)}function Vf(c,f,g){f==="number"&&Jc(c.ownerDocument)===c||c.defaultValue===""+g||(c.defaultValue=""+g)}function Xo(c,f,g,_){if(c=c.options,f){f={};for(var I=0;I<g.length;I++)f["$"+g[I]]=!0;for(g=0;g<c.length;g++)I=f.hasOwnProperty("$"+c[g].value),c[g].selected!==I&&(c[g].selected=I),I&&_&&(c[g].defaultSelected=!0)}else{for(g=""+ks(g),f=null,I=0;I<c.length;I++){if(c[I].value===g){c[I].selected=!0,_&&(c[I].defaultSelected=!0);return}f!==null||c[I].disabled||(f=c[I])}f!==null&&(f.selected=!0)}}function rg(c,f,g){if(f!=null&&(f=""+ks(f),f!==c.value&&(c.value=f),g==null)){c.defaultValue!==f&&(c.defaultValue=f);return}c.defaultValue=g!=null?""+ks(g):""}function U0(c,f,g,_){if(f==null){if(_!=null){if(g!=null)throw Error(r(92));if(ae(_)){if(1<_.length)throw Error(r(93));_=_[0]}g=_}g==null&&(g=""),f=g}g=ks(f),c.defaultValue=g,_=c.textContent,_===g&&_!==""&&_!==null&&(c.value=_)}function ur(c,f){if(f){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=f;return}}c.textContent=f}var ig=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function j0(c,f,g){var _=f.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?_?c.setProperty(f,""):f==="float"?c.cssFloat="":c[f]="":_?c.setProperty(f,g):typeof g!="number"||g===0||ig.has(f)?f==="float"?c.cssFloat=g:c[f]=(""+g).trim():c[f]=g+"px"}function z0(c,f,g){if(f!=null&&typeof f!="object")throw Error(r(62));if(c=c.style,g!=null){for(var _ in g)!g.hasOwnProperty(_)||f!=null&&f.hasOwnProperty(_)||(_.indexOf("--")===0?c.setProperty(_,""):_==="float"?c.cssFloat="":c[_]="");for(var I in f)_=f[I],f.hasOwnProperty(I)&&g[I]!==_&&j0(c,I,_)}else for(var P in f)f.hasOwnProperty(P)&&j0(c,P,f[P])}function ir(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ed=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Us(c){return Gf.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var hh=null;function Wf(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var gi=null,Ia=null;function Zu(c){var f=lo(c);if(f&&(c=f.stateNode)){var g=c[vr]||null;e:switch(c=f.stateNode,f.type){case"input":if(Hf(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),f=g.name,g.type==="radio"&&f!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Va(""+f)+'"][type="radio"]'),f=0;f<g.length;f++){var _=g[f];if(_!==c&&_.form===c.form){var I=_[vr]||null;if(!I)throw Error(r(90));Hf(_,I.value,I.defaultValue,I.defaultValue,I.checked,I.defaultChecked,I.type,I.name)}}for(f=0;f<g.length;f++)_=g[f],_.form===c.form&&Xu(_)}break e;case"textarea":rg(c,g.value,g.defaultValue);break e;case"select":f=g.value,f!=null&&Xo(c,!!g.multiple,f,!1)}}}var Qu=!1;function Kf(c,f,g){if(Qu)return c(f,g);Qu=!0;try{var _=c(f);return _}finally{if(Qu=!1,(gi!==null||Ia!==null)&&(Ix(),gi&&(f=gi,c=Ia,Ia=gi=null,Zu(f),c)))for(f=0;f<c.length;f++)Zu(c[f])}}function js(c,f){var g=c.stateNode;if(g===null)return null;var _=g[vr]||null;if(_===null)return null;g=_[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(c=c.type,_=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!_;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(r(231,f,typeof g));return g}var ag=!1;if(uo)try{var os={};Object.defineProperty(os,"passive",{get:function(){ag=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{ag=!1}var Zo=null,Yf=null,td=null;function nd(){if(td)return td;var c,f=Yf,g=f.length,_,I="value"in Zo?Zo.value:Zo.textContent,P=I.length;for(c=0;c<g&&f[c]===I[c];c++);var ne=g-c;for(_=1;_<=ne&&f[g-_]===I[P-_];_++);return td=I.slice(c,1<_?1-_:void 0)}function rd(c){var f=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&f===13&&(c=13)):c=f,c===10&&(c=13),32<=c||c===13?c:0}function fh(){return!0}function $0(){return!1}function da(c){function f(g,_,I,P,ne){this._reactName=g,this._targetInst=I,this.type=_,this.nativeEvent=P,this.target=ne,this.currentTarget=null;for(var we in c)c.hasOwnProperty(we)&&(g=c[we],this[we]=g?g(P):P[we]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?fh:$0,this.isPropagationStopped=$0,this}return Q(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=fh)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=fh)},persist:function(){},isPersistent:fh}),f}var Ju={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xf=da(Ju),ou=Q({},Ju,{view:0,detail:0}),ph=da(ou),id,Zf,ec,Qf=Q({},ou,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tc,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==ec&&(ec&&c.type==="mousemove"?(id=c.screenX-ec.screenX,Zf=c.screenY-ec.screenY):Zf=id=0,ec=c),id)},movementY:function(c){return"movementY"in c?c.movementY:Zf}}),Jf=da(Qf),ep=Q({},Qf,{dataTransfer:0}),q0=da(ep),mh=Q({},ou,{relatedTarget:0}),ad=da(mh),tp=Q({},Ju,{animationName:0,elapsedTime:0,pseudoElement:0}),H0=da(tp),Bv=Q({},Ju,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),np=da(Bv),rp=Q({},Ju,{data:0}),gh=da(rp),ip={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ap={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yh(c){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(c):(c=Qi[c])?!!f[c]:!1}function tc(){return yh}var V0=Q({},ou,{key:function(c){if(c.key){var f=ip[c.key]||c.key;if(f!=="Unidentified")return f}return c.type==="keypress"?(c=rd(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?ap[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tc,charCode:function(c){return c.type==="keypress"?rd(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?rd(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),bh=da(V0),G0=Q({},Qf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sp=da(G0),nc=Q({},ou,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tc}),Na=da(nc),rc=Q({},Ju,{propertyName:0,elapsedTime:0,pseudoElement:0}),sg=da(rc),og=Q({},Qf,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),op=da(og),Ji=Q({},Ju,{newState:0,oldState:0}),W0=da(Ji),lp=[9,13,27,32],ri=uo&&"CompositionEvent"in window,lu=null;uo&&"documentMode"in document&&(lu=document.documentMode);var up=uo&&"TextEvent"in window&&!lu,El=uo&&(!ri||lu&&8<lu&&11>=lu),vh=" ",K0=!1;function cp(c,f){switch(c){case"keyup":return lp.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wh(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var ii=!1;function Y0(c,f){switch(c){case"compositionend":return wh(f);case"keypress":return f.which!==32?null:(K0=!0,vh);case"textInput":return c=f.data,c===vh&&K0?null:c;default:return null}}function lg(c,f){if(ii)return c==="compositionend"||!ri&&cp(c,f)?(c=nd(),td=Yf=Zo=null,ii=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return El&&f.locale!=="ko"?null:f.data;default:return null}}var X0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dp(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f==="input"?!!X0[c.type]:f==="textarea"}function zs(c,f,g,_){gi?Ia?Ia.push(_):Ia=[_]:gi=_,f=Lx(f,"onChange"),0<f.length&&(g=new Xf("onChange","change",null,g,_),c.push({event:g,listeners:f}))}var sd=null,uu=null;function ls(c){HH(c,0)}function co(c){var f=ui(c);if(Xu(f))return c}function ic(c,f){if(c==="change")return f}var ho=!1;if(uo){var hi;if(uo){var ha="oninput"in document;if(!ha){var Nr=document.createElement("div");Nr.setAttribute("oninput","return;"),ha=typeof Nr.oninput=="function"}hi=ha}else hi=!1;ho=hi&&(!document.documentMode||9<document.documentMode)}function Qo(){sd&&(sd.detachEvent("onpropertychange",_h),uu=sd=null)}function _h(c){if(c.propertyName==="value"&&co(uu)){var f=[];zs(f,uu,c,Wf(c)),Kf(ls,f)}}function ug(c,f,g){c==="focusin"?(Qo(),sd=f,uu=g,sd.attachEvent("onpropertychange",_h)):c==="focusout"&&Qo()}function cu(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return co(uu)}function cg(c,f){if(c==="click")return co(f)}function $s(c,f){if(c==="input"||c==="change")return co(f)}function Ts(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var Oa=typeof Object.is=="function"?Object.is:Ts;function A(c,f){if(Oa(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var g=Object.keys(c),_=Object.keys(f);if(g.length!==_.length)return!1;for(_=0;_<g.length;_++){var I=g[_];if(!nr.call(f,I)||!Oa(c[I],f[I]))return!1}return!0}function O(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function H(c,f){var g=O(c);c=0;for(var _;g;){if(g.nodeType===3){if(_=c+g.textContent.length,c<=f&&_>=f)return{node:g,offset:f-c};c=_}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=O(g)}}function J(c,f){return c&&f?c===f?!0:c&&c.nodeType===3?!1:f&&f.nodeType===3?J(c,f.parentNode):"contains"in c?c.contains(f):c.compareDocumentPosition?!!(c.compareDocumentPosition(f)&16):!1:!1}function ie(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var f=Jc(c.document);f instanceof c.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)c=f.contentWindow;else break;f=Jc(c.document)}return f}function fe(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f&&(f==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||f==="textarea"||c.contentEditable==="true")}function Ae(c,f){var g=ie(f);f=c.focusedElem;var _=c.selectionRange;if(g!==f&&f&&f.ownerDocument&&J(f.ownerDocument.documentElement,f)){if(_!==null&&fe(f)){if(c=_.start,g=_.end,g===void 0&&(g=c),"selectionStart"in f)f.selectionStart=c,f.selectionEnd=Math.min(g,f.value.length);else if(g=(c=f.ownerDocument||document)&&c.defaultView||window,g.getSelection){g=g.getSelection();var I=f.textContent.length,P=Math.min(_.start,I);_=_.end===void 0?P:Math.min(_.end,I),!g.extend&&P>_&&(I=_,_=P,P=I),I=H(f,P);var ne=H(f,_);I&&ne&&(g.rangeCount!==1||g.anchorNode!==I.node||g.anchorOffset!==I.offset||g.focusNode!==ne.node||g.focusOffset!==ne.offset)&&(c=c.createRange(),c.setStart(I.node,I.offset),g.removeAllRanges(),P>_?(g.addRange(c),g.extend(ne.node,ne.offset)):(c.setEnd(ne.node,ne.offset),g.addRange(c)))}}for(c=[],g=f;g=g.parentNode;)g.nodeType===1&&c.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<c.length;f++)g=c[f],g.element.scrollLeft=g.left,g.element.scrollTop=g.top}}var Fe=uo&&"documentMode"in document&&11>=document.documentMode,Ve=null,Ye=null,Je=null,$e=!1;function ot(c,f,g){var _=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;$e||Ve==null||Ve!==Jc(_)||(_=Ve,"selectionStart"in _&&fe(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Je&&A(Je,_)||(Je=_,_=Lx(Ye,"onSelect"),0<_.length&&(f=new Xf("onSelect","select",null,f,g),c.push({event:f,listeners:_}),f.target=Ve)))}function Ge(c,f){var g={};return g[c.toLowerCase()]=f.toLowerCase(),g["Webkit"+c]="webkit"+f,g["Moz"+c]="moz"+f,g}var tt={animationend:Ge("Animation","AnimationEnd"),animationiteration:Ge("Animation","AnimationIteration"),animationstart:Ge("Animation","AnimationStart"),transitionrun:Ge("Transition","TransitionRun"),transitionstart:Ge("Transition","TransitionStart"),transitioncancel:Ge("Transition","TransitionCancel"),transitionend:Ge("Transition","TransitionEnd")},at={},Qe={};uo&&(Qe=document.createElement("div").style,"AnimationEvent"in window||(delete tt.animationend.animation,delete tt.animationiteration.animation,delete tt.animationstart.animation),"TransitionEvent"in window||delete tt.transitionend.transition);function dt(c){if(at[c])return at[c];if(!tt[c])return c;var f=tt[c],g;for(g in f)if(f.hasOwnProperty(g)&&g in Qe)return at[c]=f[g];return c}var bt=dt("animationend"),mt=dt("animationiteration"),Tt=dt("animationstart"),zt=dt("transitionrun"),en=dt("transitionstart"),$t=dt("transitioncancel"),Kt=dt("transitionend"),tn=new Map,Xt="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Rt(c,f){tn.set(c,f),Ko(f,[c])}var gn=[],Wn=0,On=0;function _a(){for(var c=Wn,f=On=Wn=0;f<c;){var g=gn[f];gn[f++]=null;var _=gn[f];gn[f++]=null;var I=gn[f];gn[f++]=null;var P=gn[f];if(gn[f++]=null,_!==null&&I!==null){var ne=_.pending;ne===null?I.next=I:(I.next=ne.next,ne.next=I),_.pending=I}P!==0&&ac(g,I,P)}}function jn(c,f,g,_){gn[Wn++]=c,gn[Wn++]=f,gn[Wn++]=g,gn[Wn++]=_,On|=_,c.lanes|=_,c=c.alternate,c!==null&&(c.lanes|=_)}function Oi(c,f,g,_){return jn(c,f,g,_),zi(c)}function zn(c,f){return jn(c,null,null,f),zi(c)}function ac(c,f,g){c.lanes|=g;var _=c.alternate;_!==null&&(_.lanes|=g);for(var I=!1,P=c.return;P!==null;)P.childLanes|=g,_=P.alternate,_!==null&&(_.childLanes|=g),P.tag===22&&(c=P.stateNode,c===null||c._visibility&1||(I=!0)),c=P,P=P.return;I&&f!==null&&c.tag===3&&(P=c.stateNode,I=31-Sn(g),P=P.hiddenUpdates,c=P[I],c===null?P[I]=[f]:c.push(f),f.lane=g|536870912)}function zi(c){if(50<iw)throw iw=0,J2=null,Error(r(185));for(var f=c.return;f!==null;)c=f,f=c.return;return c.tag===3?c.stateNode:null}var Ga={},Sh=new WeakMap;function fo(c,f){if(typeof c=="object"&&c!==null){var g=Sh.get(c);return g!==void 0?g:(f={value:c,source:f,stack:ke(f)},Sh.set(c,f),f)}return{value:c,source:f,stack:ke(f)}}var xh=[],Eh=0,dg=null,hg=0,po=[],Ma=0,mo=null,du=1,hu="";function kh(c,f){xh[Eh++]=hg,xh[Eh++]=dg,dg=c,hg=f}function ox(c,f,g){po[Ma++]=du,po[Ma++]=hu,po[Ma++]=mo,mo=c;var _=du;c=hu;var I=32-Sn(_)-1;_&=~(1<<I),g+=1;var P=32-Sn(f)+I;if(30<P){var ne=I-I%5;P=(_&(1<<ne)-1).toString(32),_>>=ne,I-=ne,du=1<<32-Sn(f)+I|g<<I|_,hu=P+c}else du=1<<P|g<<I|_,hu=c}function Z0(c){c.return!==null&&(kh(c,1),ox(c,1,0))}function hp(c){for(;c===dg;)dg=xh[--Eh],xh[Eh]=null,hg=xh[--Eh],xh[Eh]=null;for(;c===mo;)mo=po[--Ma],po[Ma]=null,hu=po[--Ma],po[Ma]=null,du=po[--Ma],po[Ma]=null}var As=null,Wa=null,$r=!1,Jo=null,kl=!1,Uv=Error(r(519));function Th(c){var f=Error(r(418,""));throw yo(fo(f,c)),Uv}function lx(c){var f=c.stateNode,g=c.type,_=c.memoizedProps;switch(f[Tr]=c,f[vr]=_,g){case"dialog":Br("cancel",f),Br("close",f);break;case"iframe":case"object":case"embed":Br("load",f);break;case"video":case"audio":for(g=0;g<sw.length;g++)Br(sw[g],f);break;case"source":Br("error",f);break;case"img":case"image":case"link":Br("error",f),Br("load",f);break;case"details":Br("toggle",f);break;case"input":Br("invalid",f),dh(f,_.value,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name,!0),su(f);break;case"select":Br("invalid",f);break;case"textarea":Br("invalid",f),U0(f,_.value,_.defaultValue,_.children),su(f)}g=_.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||f.textContent===""+g||_.suppressHydrationWarning===!0||KH(f.textContent,g)?(_.popover!=null&&(Br("beforetoggle",f),Br("toggle",f)),_.onScroll!=null&&Br("scroll",f),_.onScrollEnd!=null&&Br("scrollend",f),_.onClick!=null&&(f.onclick=Dx),f=!0):f=!1,f||Th(c)}function go(c){for(As=c.return;As;)switch(As.tag){case 3:case 27:kl=!0;return;case 5:case 13:kl=!1;return;default:As=As.return}}function fu(c){if(c!==As)return!1;if(!$r)return go(c),$r=!0,!1;var f=!1,g;if((g=c.tag!==3&&c.tag!==27)&&((g=c.tag===5)&&(g=c.type,g=!(g!=="form"&&g!=="button")||gI(c.type,c.memoizedProps)),g=!g),g&&(f=!0),f&&Wa&&Th(c),go(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,f=0;c;){if(c.nodeType===8)if(g=c.data,g==="/$"){if(f===0){Wa=cc(c.nextSibling);break e}f--}else g!=="$"&&g!=="$!"&&g!=="$?"||f++;c=c.nextSibling}Wa=null}}else Wa=As?cc(c.stateNode.nextSibling):null;return!0}function Pa(){Wa=As=null,$r=!1}function yo(c){Jo===null?Jo=[c]:Jo.push(c)}var el=Error(r(460)),ux=Error(r(474)),fp={then:function(){}};function od(c){return c=c.status,c==="fulfilled"||c==="rejected"}function Q0(){}function jv(c,f,g){switch(g=c[g],g===void 0?c.push(f):g!==f&&(f.then(Q0,Q0),f=g),f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,c===el?Error(r(483)):c;default:if(typeof f.status=="string")f.then(Q0,Q0);else{if(c=Mi,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=f,c.status="pending",c.then(function(_){if(f.status==="pending"){var I=f;I.status="fulfilled",I.value=_}},function(_){if(f.status==="pending"){var I=f;I.status="rejected",I.reason=_}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,c===el?Error(r(483)):c}throw pp=f,el}}var pp=null;function Ah(){if(pp===null)throw Error(r(459));var c=pp;return pp=null,c}var Ch=null,ld=0;function us(c){var f=ld;return ld+=1,Ch===null&&(Ch=[]),jv(Ch,c,f)}function sc(c,f){f=f.props.ref,c.ref=f!==void 0?f:null}function Sr(c,f){throw f.$$typeof===a?Error(r(525)):(c=Object.prototype.toString.call(f),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c)))}function Tl(c){var f=c._init;return f(c._payload)}function zv(c){function f(lt,et){if(c){var ft=lt.deletions;ft===null?(lt.deletions=[et],lt.flags|=16):ft.push(et)}}function g(lt,et){if(!c)return null;for(;et!==null;)f(lt,et),et=et.sibling;return null}function _(lt){for(var et=new Map;lt!==null;)lt.key!==null?et.set(lt.key,lt):et.set(lt.index,lt),lt=lt.sibling;return et}function I(lt,et){return lt=Ip(lt,et),lt.index=0,lt.sibling=null,lt}function P(lt,et,ft){return lt.index=ft,c?(ft=lt.alternate,ft!==null?(ft=ft.index,ft<et?(lt.flags|=33554434,et):ft):(lt.flags|=33554434,et)):(lt.flags|=1048576,et)}function ne(lt){return c&&lt.alternate===null&&(lt.flags|=33554434),lt}function we(lt,et,ft,Lt){return et===null||et.tag!==6?(et=V2(ft,lt.mode,Lt),et.return=lt,et):(et=I(et,ft),et.return=lt,et)}function Le(lt,et,ft,Lt){var bn=ft.type;return bn===l?Ot(lt,et,ft.props.children,Lt,ft.key):et!==null&&(et.elementType===bn||typeof bn=="object"&&bn!==null&&bn.$$typeof===C&&Tl(bn)===et.type)?(et=I(et,ft.props),sc(et,ft),et.return=lt,et):(et=kx(ft.type,ft.key,ft.props,null,lt.mode,Lt),sc(et,ft),et.return=lt,et)}function rt(lt,et,ft,Lt){return et===null||et.tag!==4||et.stateNode.containerInfo!==ft.containerInfo||et.stateNode.implementation!==ft.implementation?(et=G2(ft,lt.mode,Lt),et.return=lt,et):(et=I(et,ft.children||[]),et.return=lt,et)}function Ot(lt,et,ft,Lt,bn){return et===null||et.tag!==7?(et=xg(ft,lt.mode,Lt,bn),et.return=lt,et):(et=I(et,ft),et.return=lt,et)}function Bt(lt,et,ft){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return et=V2(""+et,lt.mode,ft),et.return=lt,et;if(typeof et=="object"&&et!==null){switch(et.$$typeof){case s:return ft=kx(et.type,et.key,et.props,null,lt.mode,ft),sc(ft,et),ft.return=lt,ft;case o:return et=G2(et,lt.mode,ft),et.return=lt,et;case C:var Lt=et._init;return et=Lt(et._payload),Bt(lt,et,ft)}if(ae(et)||U(et))return et=xg(et,lt.mode,ft,null),et.return=lt,et;if(typeof et.then=="function")return Bt(lt,us(et),ft);if(et.$$typeof===m)return Bt(lt,Sx(lt,et),ft);Sr(lt,et)}return null}function wt(lt,et,ft,Lt){var bn=et!==null?et.key:null;if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return bn!==null?null:we(lt,et,""+ft,Lt);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case s:return ft.key===bn?Le(lt,et,ft,Lt):null;case o:return ft.key===bn?rt(lt,et,ft,Lt):null;case C:return bn=ft._init,ft=bn(ft._payload),wt(lt,et,ft,Lt)}if(ae(ft)||U(ft))return bn!==null?null:Ot(lt,et,ft,Lt,null);if(typeof ft.then=="function")return wt(lt,et,us(ft),Lt);if(ft.$$typeof===m)return wt(lt,et,Sx(lt,ft),Lt);Sr(lt,ft)}return null}function It(lt,et,ft,Lt,bn){if(typeof Lt=="string"&&Lt!==""||typeof Lt=="number"||typeof Lt=="bigint")return lt=lt.get(ft)||null,we(et,lt,""+Lt,bn);if(typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case s:return lt=lt.get(Lt.key===null?ft:Lt.key)||null,Le(et,lt,Lt,bn);case o:return lt=lt.get(Lt.key===null?ft:Lt.key)||null,rt(et,lt,Lt,bn);case C:var xr=Lt._init;return Lt=xr(Lt._payload),It(lt,et,ft,Lt,bn)}if(ae(Lt)||U(Lt))return lt=lt.get(ft)||null,Ot(et,lt,Lt,bn,null);if(typeof Lt.then=="function")return It(lt,et,ft,us(Lt),bn);if(Lt.$$typeof===m)return It(lt,et,ft,Sx(et,Lt),bn);Sr(et,Lt)}return null}function Tn(lt,et,ft,Lt){for(var bn=null,xr=null,Pn=et,$n=et=0,hs=null;Pn!==null&&$n<ft.length;$n++){Pn.index>$n?(hs=Pn,Pn=null):hs=Pn.sibling;var Qr=wt(lt,Pn,ft[$n],Lt);if(Qr===null){Pn===null&&(Pn=hs);break}c&&Pn&&Qr.alternate===null&&f(lt,Pn),et=P(Qr,et,$n),xr===null?bn=Qr:xr.sibling=Qr,xr=Qr,Pn=hs}if($n===ft.length)return g(lt,Pn),$r&&kh(lt,$n),bn;if(Pn===null){for(;$n<ft.length;$n++)Pn=Bt(lt,ft[$n],Lt),Pn!==null&&(et=P(Pn,et,$n),xr===null?bn=Pn:xr.sibling=Pn,xr=Pn);return $r&&kh(lt,$n),bn}for(Pn=_(Pn);$n<ft.length;$n++)hs=It(Pn,lt,$n,ft[$n],Lt),hs!==null&&(c&&hs.alternate!==null&&Pn.delete(hs.key===null?$n:hs.key),et=P(hs,et,$n),xr===null?bn=hs:xr.sibling=hs,xr=hs);return c&&Pn.forEach(function(Fp){return f(lt,Fp)}),$r&&kh(lt,$n),bn}function rr(lt,et,ft,Lt){if(ft==null)throw Error(r(151));for(var bn=null,xr=null,Pn=et,$n=et=0,hs=null,Qr=ft.next();Pn!==null&&!Qr.done;$n++,Qr=ft.next()){Pn.index>$n?(hs=Pn,Pn=null):hs=Pn.sibling;var Fp=wt(lt,Pn,Qr.value,Lt);if(Fp===null){Pn===null&&(Pn=hs);break}c&&Pn&&Fp.alternate===null&&f(lt,Pn),et=P(Fp,et,$n),xr===null?bn=Fp:xr.sibling=Fp,xr=Fp,Pn=hs}if(Qr.done)return g(lt,Pn),$r&&kh(lt,$n),bn;if(Pn===null){for(;!Qr.done;$n++,Qr=ft.next())Qr=Bt(lt,Qr.value,Lt),Qr!==null&&(et=P(Qr,et,$n),xr===null?bn=Qr:xr.sibling=Qr,xr=Qr);return $r&&kh(lt,$n),bn}for(Pn=_(Pn);!Qr.done;$n++,Qr=ft.next())Qr=It(Pn,lt,$n,Qr.value,Lt),Qr!==null&&(c&&Qr.alternate!==null&&Pn.delete(Qr.key===null?$n:Qr.key),et=P(Qr,et,$n),xr===null?bn=Qr:xr.sibling=Qr,xr=Qr);return c&&Pn.forEach(function(tSe){return f(lt,tSe)}),$r&&kh(lt,$n),bn}function ya(lt,et,ft,Lt){if(typeof ft=="object"&&ft!==null&&ft.type===l&&ft.key===null&&(ft=ft.props.children),typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case s:e:{for(var bn=ft.key;et!==null;){if(et.key===bn){if(bn=ft.type,bn===l){if(et.tag===7){g(lt,et.sibling),Lt=I(et,ft.props.children),Lt.return=lt,lt=Lt;break e}}else if(et.elementType===bn||typeof bn=="object"&&bn!==null&&bn.$$typeof===C&&Tl(bn)===et.type){g(lt,et.sibling),Lt=I(et,ft.props),sc(Lt,ft),Lt.return=lt,lt=Lt;break e}g(lt,et);break}else f(lt,et);et=et.sibling}ft.type===l?(Lt=xg(ft.props.children,lt.mode,Lt,ft.key),Lt.return=lt,lt=Lt):(Lt=kx(ft.type,ft.key,ft.props,null,lt.mode,Lt),sc(Lt,ft),Lt.return=lt,lt=Lt)}return ne(lt);case o:e:{for(bn=ft.key;et!==null;){if(et.key===bn)if(et.tag===4&&et.stateNode.containerInfo===ft.containerInfo&&et.stateNode.implementation===ft.implementation){g(lt,et.sibling),Lt=I(et,ft.children||[]),Lt.return=lt,lt=Lt;break e}else{g(lt,et);break}else f(lt,et);et=et.sibling}Lt=G2(ft,lt.mode,Lt),Lt.return=lt,lt=Lt}return ne(lt);case C:return bn=ft._init,ft=bn(ft._payload),ya(lt,et,ft,Lt)}if(ae(ft))return Tn(lt,et,ft,Lt);if(U(ft)){if(bn=U(ft),typeof bn!="function")throw Error(r(150));return ft=bn.call(ft),rr(lt,et,ft,Lt)}if(typeof ft.then=="function")return ya(lt,et,us(ft),Lt);if(ft.$$typeof===m)return ya(lt,et,Sx(lt,ft),Lt);Sr(lt,ft)}return typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint"?(ft=""+ft,et!==null&&et.tag===6?(g(lt,et.sibling),Lt=I(et,ft),Lt.return=lt,lt=Lt):(g(lt,et),Lt=V2(ft,lt.mode,Lt),Lt.return=lt,lt=Lt),ne(lt)):g(lt,et)}return function(lt,et,ft,Lt){try{ld=0;var bn=ya(lt,et,ft,Lt);return Ch=null,bn}catch(Pn){if(Pn===el)throw Pn;var xr=bu(29,Pn,null,lt.mode);return xr.lanes=Lt,xr.return=lt,xr}finally{}}}var bo=zv(!0),cx=zv(!1),Sa=ct(null),mp=ct(0);function Al(c,f){c=$h,Se(mp,c),Se(Sa,f),$h=c|f.baseLanes}function oc(){Se(mp,$h),Se(Sa,Sa.current)}function $v(){$h=mp.current,de(Sa),de(mp)}var vo=ct(null),Cs=null;function lc(c){var f=c.alternate;Se(fa,fa.current&1),Se(vo,c),Cs===null&&(f===null||Sa.current!==null||f.memoizedState!==null)&&(Cs=c)}function dx(c){if(c.tag===22){if(Se(fa,fa.current),Se(vo,c),Cs===null){var f=c.alternate;f!==null&&f.memoizedState!==null&&(Cs=c)}}else ud()}function ud(){Se(fa,fa.current),Se(vo,vo.current)}function Fr(c){de(vo),Cs===c&&(Cs=null),de(fa)}var fa=ct(0);function fg(c){for(var f=c;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var ea=typeof AbortController<"u"?AbortController:function(){var c=[],f=this.signal={aborted:!1,addEventListener:function(g,_){c.push(_)}};this.abort=function(){f.aborted=!0,c.forEach(function(g){return g()})}},hx=t.unstable_scheduleCallback,d2=t.unstable_NormalPriority,pa={$$typeof:m,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function J0(){return{controller:new ea,data:new Map,refCount:0}}function gp(c){c.refCount--,c.refCount===0&&hx(d2,function(){c.controller.abort()})}var pg=null,ey=0,Rh=0,yp=null;function qv(c,f){if(pg===null){var g=pg=[];ey=0,Rh=oI(),yp={status:"pending",value:void 0,then:function(_){g.push(_)}}}return ey++,f.then(bp,bp),f}function bp(){if(--ey===0&&pg!==null){yp!==null&&(yp.status="fulfilled");var c=pg;pg=null,Rh=0,yp=null;for(var f=0;f<c.length;f++)(0,c[f])()}}function fx(c,f){var g=[],_={status:"pending",value:null,reason:null,then:function(I){g.push(I)}};return c.then(function(){_.status="fulfilled",_.value=f;for(var I=0;I<g.length;I++)(0,g[I])(f)},function(I){for(_.status="rejected",_.reason=I,I=0;I<g.length;I++)(0,g[I])(void 0)}),_}var ty=re.S;re.S=function(c,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&qv(c,f),ty!==null&&ty(c,f)};var Ih=ct(null);function ny(){var c=Ih.current;return c!==null?c:Mi.pooledCache}function mg(c,f){f===null?Se(Ih,Ih.current):Se(Ih,f.pool)}function px(){var c=ny();return c===null?null:{parent:pa._currentValue,pool:c}}var tl=0,cr=null,fi=null,$i=null,Nh=!1,vp=!1,Oh=!1,gg=0,wp=0,_p=null,Hv=0;function x(){throw Error(r(321))}function y(c,f){if(f===null)return!1;for(var g=0;g<f.length&&g<c.length;g++)if(!Oa(c[g],f[g]))return!1;return!0}function S(c,f,g,_,I,P){return tl=P,cr=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,re.H=c===null||c.memoizedState===null?yg:Sp,Oh=!1,P=g(_,I),Oh=!1,vp&&(P=E(f,g,_,I)),b(c),P}function b(c){re.H=cd;var f=fi!==null&&fi.next!==null;if(tl=0,$i=fi=cr=null,Nh=!1,wp=0,_p=null,f)throw Error(r(300));c===null||cs||(c=c.dependencies,c!==null&&_x(c)&&(cs=!0))}function E(c,f,g,_){cr=c;var I=0;do{if(vp&&(_p=null),wp=0,vp=!1,25<=I)throw Error(r(301));if(I+=1,$i=fi=null,c.updateQueue!=null){var P=c.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}re.H=bg,P=f(g,_)}while(vp);return P}function R(){var c=re.H,f=c.useState()[0];return f=typeof f.then=="function"?At(f):f,c=c.useState()[0],(fi!==null?fi.memoizedState:null)!==c&&(cr.flags|=1024),f}function M(){var c=gg!==0;return gg=0,c}function W(c,f,g){f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~g}function oe(c){if(Nh){for(c=c.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Nh=!1}tl=0,$i=fi=cr=null,vp=!1,wp=gg=0,_p=null}function me(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $i===null?cr.memoizedState=$i=c:$i=$i.next=c,$i}function Be(){if(fi===null){var c=cr.alternate;c=c!==null?c.memoizedState:null}else c=fi.next;var f=$i===null?cr.memoizedState:$i.next;if(f!==null)$i=f,fi=c;else{if(c===null)throw cr.alternate===null?Error(r(467)):Error(r(310));fi=c,c={memoizedState:fi.memoizedState,baseState:fi.baseState,baseQueue:fi.baseQueue,queue:fi.queue,next:null},$i===null?cr.memoizedState=$i=c:$i=$i.next=c}return $i}var ut;ut=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function At(c){var f=wp;return wp+=1,_p===null&&(_p=[]),c=jv(_p,c,f),f=cr,($i===null?f.memoizedState:$i.next)===null&&(f=f.alternate,re.H=f===null||f.memoizedState===null?yg:Sp),c}function qt(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return At(c);if(c.$$typeof===m)return qs(c)}throw Error(r(438,String(c)))}function Gt(c){var f=null,g=cr.updateQueue;if(g!==null&&(f=g.memoCache),f==null){var _=cr.alternate;_!==null&&(_=_.updateQueue,_!==null&&(_=_.memoCache,_!=null&&(f={data:_.data.map(function(I){return I.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),g===null&&(g=ut(),cr.updateQueue=g),g.memoCache=f,g=f.data[f.index],g===void 0)for(g=f.data[f.index]=Array(c),_=0;_<c;_++)g[_]=F;return f.index++,g}function hn(c,f){return typeof f=="function"?f(c):f}function Mn(c){var f=Be();return Qn(f,fi,c)}function Qn(c,f,g){var _=c.queue;if(_===null)throw Error(r(311));_.lastRenderedReducer=g;var I=c.baseQueue,P=_.pending;if(P!==null){if(I!==null){var ne=I.next;I.next=P.next,P.next=ne}f.baseQueue=I=P,_.pending=null}if(P=c.baseState,I===null)c.memoizedState=P;else{f=I.next;var we=ne=null,Le=null,rt=f,Ot=!1;do{var Bt=rt.lane&-536870913;if(Bt!==rt.lane?(qr&Bt)===Bt:(tl&Bt)===Bt){var wt=rt.revertLane;if(wt===0)Le!==null&&(Le=Le.next={lane:0,revertLane:0,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null}),Bt===Rh&&(Ot=!0);else if((tl&wt)===wt){rt=rt.next,wt===Rh&&(Ot=!0);continue}else Bt={lane:0,revertLane:rt.revertLane,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null},Le===null?(we=Le=Bt,ne=P):Le=Le.next=Bt,cr.lanes|=wt,Np|=wt;Bt=rt.action,Oh&&g(P,Bt),P=rt.hasEagerState?rt.eagerState:g(P,Bt)}else wt={lane:Bt,revertLane:rt.revertLane,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null},Le===null?(we=Le=wt,ne=P):Le=Le.next=wt,cr.lanes|=Bt,Np|=Bt;rt=rt.next}while(rt!==null&&rt!==f);if(Le===null?ne=P:Le.next=we,!Oa(P,c.memoizedState)&&(cs=!0,Ot&&(g=yp,g!==null)))throw g;c.memoizedState=P,c.baseState=ne,c.baseQueue=Le,_.lastRenderedState=P}return I===null&&(_.lanes=0),[c.memoizedState,_.dispatch]}function Si(c){var f=Be(),g=f.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=c;var _=g.dispatch,I=g.pending,P=f.memoizedState;if(I!==null){g.pending=null;var ne=I=I.next;do P=c(P,ne.action),ne=ne.next;while(ne!==I);Oa(P,f.memoizedState)||(cs=!0),f.memoizedState=P,f.baseQueue===null&&(f.baseState=P),g.lastRenderedState=P}return[P,_]}function La(c,f,g){var _=cr,I=Be(),P=$r;if(P){if(g===void 0)throw Error(r(407));g=g()}else g=f();var ne=!Oa((fi||I).memoizedState,g);if(ne&&(I.memoizedState=g,cs=!0),I=I.queue,f2(Mh.bind(null,_,I,c),[c]),I.getSnapshot!==f||ne||$i!==null&&$i.memoizedState.tag&1){if(_.flags|=2048,iy(9,Rl.bind(null,_,I,g,f),{destroy:void 0},null),Mi===null)throw Error(r(349));P||tl&60||Cl(_,f,g)}return g}function Cl(c,f,g){c.flags|=16384,c={getSnapshot:f,value:g},f=cr.updateQueue,f===null?(f=ut(),cr.updateQueue=f,f.stores=[c]):(g=f.stores,g===null?f.stores=[c]:g.push(c))}function Rl(c,f,g,_){f.value=g,f.getSnapshot=_,pu(f)&&mu(c)}function Mh(c,f,g){return g(function(){pu(f)&&mu(c)})}function pu(c){var f=c.getSnapshot;c=c.value;try{var g=f();return!Oa(c,g)}catch{return!0}}function mu(c){var f=zn(c,2);f!==null&&wo(f,c,2)}function ry(c){var f=me();if(typeof c=="function"){var g=c;if(c=g(),Oh){Mt(!0);try{g()}finally{Mt(!1)}}}return f.memoizedState=f.baseState=c,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:c},f}function mx(c,f,g,_){return c.baseState=g,Qn(c,fi,typeof _=="function"?_:hn)}function Y_e(c,f,g,_,I){if(bx(c))throw Error(r(485));if(c=f.action,c!==null){var P={payload:I,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ne){P.listeners.push(ne)}};re.T!==null?g(!0):P.isTransition=!1,_(P),g=f.pending,g===null?(P.next=f.pending=P,lq(f,P)):(P.next=g.next,f.pending=g.next=P)}}function lq(c,f){var g=f.action,_=f.payload,I=c.state;if(f.isTransition){var P=re.T,ne={};re.T=ne;try{var we=g(I,_),Le=re.S;Le!==null&&Le(ne,we),uq(c,f,we)}catch(rt){h2(c,f,rt)}finally{re.T=P}}else try{P=g(I,_),uq(c,f,P)}catch(rt){h2(c,f,rt)}}function uq(c,f,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(_){cq(c,f,_)},function(_){return h2(c,f,_)}):cq(c,f,g)}function cq(c,f,g){f.status="fulfilled",f.value=g,dq(f),c.state=g,f=c.pending,f!==null&&(g=f.next,g===f?c.pending=null:(g=g.next,f.next=g,lq(c,g)))}function h2(c,f,g){var _=c.pending;if(c.pending=null,_!==null){_=_.next;do f.status="rejected",f.reason=g,dq(f),f=f.next;while(f!==_)}c.action=null}function dq(c){c=c.listeners;for(var f=0;f<c.length;f++)(0,c[f])()}function hq(c,f){return f}function fq(c,f){if($r){var g=Mi.formState;if(g!==null){e:{var _=cr;if($r){if(Wa){t:{for(var I=Wa,P=kl;I.nodeType!==8;){if(!P){I=null;break t}if(I=cc(I.nextSibling),I===null){I=null;break t}}P=I.data,I=P==="F!"||P==="F"?I:null}if(I){Wa=cc(I.nextSibling),_=I.data==="F!";break e}}Th(_)}_=!1}_&&(f=g[0])}}return g=me(),g.memoizedState=g.baseState=f,_={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hq,lastRenderedState:f},g.queue=_,g=Nq.bind(null,cr,_),_.dispatch=g,_=ry(!1),P=b2.bind(null,cr,!1,_.queue),_=me(),I={state:f,dispatch:null,action:c,pending:null},_.queue=I,g=Y_e.bind(null,cr,I,P,g),I.dispatch=g,_.memoizedState=c,[f,g,!1]}function pq(c){var f=Be();return mq(f,fi,c)}function mq(c,f,g){f=Qn(c,f,hq)[0],c=Mn(hn)[0],f=typeof f=="object"&&f!==null&&typeof f.then=="function"?At(f):f;var _=Be(),I=_.queue,P=I.dispatch;return g!==_.memoizedState&&(cr.flags|=2048,iy(9,X_e.bind(null,I,g),{destroy:void 0},null)),[f,P,c]}function X_e(c,f){c.action=f}function gq(c){var f=Be(),g=fi;if(g!==null)return mq(f,g,c);Be(),f=f.memoizedState,g=Be();var _=g.queue.dispatch;return g.memoizedState=c,[f,_,!1]}function iy(c,f,g,_){return c={tag:c,create:f,inst:g,deps:_,next:null},f=cr.updateQueue,f===null&&(f=ut(),cr.updateQueue=f),g=f.lastEffect,g===null?f.lastEffect=c.next=c:(_=g.next,g.next=c,c.next=_,f.lastEffect=c),c}function yq(){return Be().memoizedState}function gx(c,f,g,_){var I=me();cr.flags|=c,I.memoizedState=iy(1|f,g,{destroy:void 0},_===void 0?null:_)}function yx(c,f,g,_){var I=Be();_=_===void 0?null:_;var P=I.memoizedState.inst;fi!==null&&_!==null&&y(_,fi.memoizedState.deps)?I.memoizedState=iy(f,g,P,_):(cr.flags|=c,I.memoizedState=iy(1|f,g,P,_))}function bq(c,f){gx(8390656,8,c,f)}function f2(c,f){yx(2048,8,c,f)}function vq(c,f){return yx(4,2,c,f)}function wq(c,f){return yx(4,4,c,f)}function _q(c,f){if(typeof f=="function"){c=c();var g=f(c);return function(){typeof g=="function"?g():f(null)}}if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function Sq(c,f,g){g=g!=null?g.concat([c]):null,yx(4,4,_q.bind(null,f,c),g)}function p2(){}function xq(c,f){var g=Be();f=f===void 0?null:f;var _=g.memoizedState;return f!==null&&y(f,_[1])?_[0]:(g.memoizedState=[c,f],c)}function Eq(c,f){var g=Be();f=f===void 0?null:f;var _=g.memoizedState;if(f!==null&&y(f,_[1]))return _[0];if(_=c(),Oh){Mt(!0);try{c()}finally{Mt(!1)}}return g.memoizedState=[_,f],_}function m2(c,f,g){return g===void 0||tl&1073741824?c.memoizedState=f:(c.memoizedState=g,c=TH(),cr.lanes|=c,Np|=c,g)}function kq(c,f,g,_){return Oa(g,f)?g:Sa.current!==null?(c=m2(c,g,_),Oa(c,f)||(cs=!0),c):tl&42?(c=TH(),cr.lanes|=c,Np|=c,f):(cs=!0,c.memoizedState=g)}function Tq(c,f,g,_,I){var P=He.p;He.p=P!==0&&8>P?P:8;var ne=re.T,we={};re.T=we,b2(c,!1,f,g);try{var Le=I(),rt=re.S;if(rt!==null&&rt(we,Le),Le!==null&&typeof Le=="object"&&typeof Le.then=="function"){var Ot=fx(Le,_);Vv(c,f,Ot,Ml(c))}else Vv(c,f,_,Ml(c))}catch(Bt){Vv(c,f,{then:function(){},status:"rejected",reason:Bt},Ml())}finally{He.p=P,re.T=ne}}function Z_e(){}function g2(c,f,g,_){if(c.tag!==5)throw Error(r(476));var I=Aq(c).queue;Tq(c,I,f,it,g===null?Z_e:function(){return Cq(c),g(_)})}function Aq(c){var f=c.memoizedState;if(f!==null)return f;f={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:it},next:null};var g={};return f.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:g},next:null},c.memoizedState=f,c=c.alternate,c!==null&&(c.memoizedState=f),f}function Cq(c){var f=Aq(c).next.queue;Vv(c,f,{},Ml())}function y2(){return qs(dw)}function Rq(){return Be().memoizedState}function Iq(){return Be().memoizedState}function Q_e(c){for(var f=c.return;f!==null;){switch(f.tag){case 24:case 3:var g=Ml();c=kp(g);var _=Tp(f,c,g);_!==null&&(wo(_,f,g),Kv(_,f,g)),f={cache:J0()},c.payload=f;return}f=f.return}}function J_e(c,f,g){var _=Ml();g={lane:_,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},bx(c)?Oq(f,g):(g=Oi(c,f,g,_),g!==null&&(wo(g,c,_),Mq(g,f,_)))}function Nq(c,f,g){var _=Ml();Vv(c,f,g,_)}function Vv(c,f,g,_){var I={lane:_,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(bx(c))Oq(f,I);else{var P=c.alternate;if(c.lanes===0&&(P===null||P.lanes===0)&&(P=f.lastRenderedReducer,P!==null))try{var ne=f.lastRenderedState,we=P(ne,g);if(I.hasEagerState=!0,I.eagerState=we,Oa(we,ne))return jn(c,f,I,0),Mi===null&&_a(),!1}catch{}finally{}if(g=Oi(c,f,I,_),g!==null)return wo(g,c,_),Mq(g,f,_),!0}return!1}function b2(c,f,g,_){if(_={lane:2,revertLane:oI(),action:_,hasEagerState:!1,eagerState:null,next:null},bx(c)){if(f)throw Error(r(479))}else f=Oi(c,g,_,2),f!==null&&wo(f,c,2)}function bx(c){var f=c.alternate;return c===cr||f!==null&&f===cr}function Oq(c,f){vp=Nh=!0;var g=c.pending;g===null?f.next=f:(f.next=g.next,g.next=f),c.pending=f}function Mq(c,f,g){if(g&4194176){var _=f.lanes;_&=c.pendingLanes,g|=_,f.lanes=g,Jt(c,g)}}var cd={readContext:qs,use:qt,useCallback:x,useContext:x,useEffect:x,useImperativeHandle:x,useLayoutEffect:x,useInsertionEffect:x,useMemo:x,useReducer:x,useRef:x,useState:x,useDebugValue:x,useDeferredValue:x,useTransition:x,useSyncExternalStore:x,useId:x};cd.useCacheRefresh=x,cd.useMemoCache=x,cd.useHostTransitionStatus=x,cd.useFormState=x,cd.useActionState=x,cd.useOptimistic=x;var yg={readContext:qs,use:qt,useCallback:function(c,f){return me().memoizedState=[c,f===void 0?null:f],c},useContext:qs,useEffect:bq,useImperativeHandle:function(c,f,g){g=g!=null?g.concat([c]):null,gx(4194308,4,_q.bind(null,f,c),g)},useLayoutEffect:function(c,f){return gx(4194308,4,c,f)},useInsertionEffect:function(c,f){gx(4,2,c,f)},useMemo:function(c,f){var g=me();f=f===void 0?null:f;var _=c();if(Oh){Mt(!0);try{c()}finally{Mt(!1)}}return g.memoizedState=[_,f],_},useReducer:function(c,f,g){var _=me();if(g!==void 0){var I=g(f);if(Oh){Mt(!0);try{g(f)}finally{Mt(!1)}}}else I=f;return _.memoizedState=_.baseState=I,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:I},_.queue=c,c=c.dispatch=J_e.bind(null,cr,c),[_.memoizedState,c]},useRef:function(c){var f=me();return c={current:c},f.memoizedState=c},useState:function(c){c=ry(c);var f=c.queue,g=Nq.bind(null,cr,f);return f.dispatch=g,[c.memoizedState,g]},useDebugValue:p2,useDeferredValue:function(c,f){var g=me();return m2(g,c,f)},useTransition:function(){var c=ry(!1);return c=Tq.bind(null,cr,c.queue,!0,!1),me().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,f,g){var _=cr,I=me();if($r){if(g===void 0)throw Error(r(407));g=g()}else{if(g=f(),Mi===null)throw Error(r(349));qr&60||Cl(_,f,g)}I.memoizedState=g;var P={value:g,getSnapshot:f};return I.queue=P,bq(Mh.bind(null,_,P,c),[c]),_.flags|=2048,iy(9,Rl.bind(null,_,P,g,f),{destroy:void 0},null),g},useId:function(){var c=me(),f=Mi.identifierPrefix;if($r){var g=hu,_=du;g=(_&~(1<<32-Sn(_)-1)).toString(32)+g,f=":"+f+"R"+g,g=gg++,0<g&&(f+="H"+g.toString(32)),f+=":"}else g=Hv++,f=":"+f+"r"+g.toString(32)+":";return c.memoizedState=f},useCacheRefresh:function(){return me().memoizedState=Q_e.bind(null,cr)}};yg.useMemoCache=Gt,yg.useHostTransitionStatus=y2,yg.useFormState=fq,yg.useActionState=fq,yg.useOptimistic=function(c){var f=me();f.memoizedState=f.baseState=c;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=g,f=b2.bind(null,cr,!0,g),g.dispatch=f,[c,f]};var Sp={readContext:qs,use:qt,useCallback:xq,useContext:qs,useEffect:f2,useImperativeHandle:Sq,useInsertionEffect:vq,useLayoutEffect:wq,useMemo:Eq,useReducer:Mn,useRef:yq,useState:function(){return Mn(hn)},useDebugValue:p2,useDeferredValue:function(c,f){var g=Be();return kq(g,fi.memoizedState,c,f)},useTransition:function(){var c=Mn(hn)[0],f=Be().memoizedState;return[typeof c=="boolean"?c:At(c),f]},useSyncExternalStore:La,useId:Rq};Sp.useCacheRefresh=Iq,Sp.useMemoCache=Gt,Sp.useHostTransitionStatus=y2,Sp.useFormState=pq,Sp.useActionState=pq,Sp.useOptimistic=function(c,f){var g=Be();return mx(g,fi,c,f)};var bg={readContext:qs,use:qt,useCallback:xq,useContext:qs,useEffect:f2,useImperativeHandle:Sq,useInsertionEffect:vq,useLayoutEffect:wq,useMemo:Eq,useReducer:Si,useRef:yq,useState:function(){return Si(hn)},useDebugValue:p2,useDeferredValue:function(c,f){var g=Be();return fi===null?m2(g,c,f):kq(g,fi.memoizedState,c,f)},useTransition:function(){var c=Si(hn)[0],f=Be().memoizedState;return[typeof c=="boolean"?c:At(c),f]},useSyncExternalStore:La,useId:Rq};bg.useCacheRefresh=Iq,bg.useMemoCache=Gt,bg.useHostTransitionStatus=y2,bg.useFormState=gq,bg.useActionState=gq,bg.useOptimistic=function(c,f){var g=Be();return fi!==null?mx(g,fi,c,f):(g.baseState=c,[c,g.queue.dispatch])};function v2(c,f,g,_){f=c.memoizedState,g=g(_,f),g=g==null?f:Q({},f,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var w2={isMounted:function(c){return(c=c._reactInternals)?Te(c)===c:!1},enqueueSetState:function(c,f,g){c=c._reactInternals;var _=Ml(),I=kp(_);I.payload=f,g!=null&&(I.callback=g),f=Tp(c,I,_),f!==null&&(wo(f,c,_),Kv(f,c,_))},enqueueReplaceState:function(c,f,g){c=c._reactInternals;var _=Ml(),I=kp(_);I.tag=1,I.payload=f,g!=null&&(I.callback=g),f=Tp(c,I,_),f!==null&&(wo(f,c,_),Kv(f,c,_))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var g=Ml(),_=kp(g);_.tag=2,f!=null&&(_.callback=f),f=Tp(c,_,g),f!==null&&(wo(f,c,g),Kv(f,c,g))}};function Pq(c,f,g,_,I,P,ne){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(_,P,ne):f.prototype&&f.prototype.isPureReactComponent?!A(g,_)||!A(I,P):!0}function Lq(c,f,g,_){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,_),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,_),f.state!==c&&w2.enqueueReplaceState(f,f.state,null)}function vg(c,f){var g=f;if("ref"in f){g={};for(var _ in f)_!=="ref"&&(g[_]=f[_])}if(c=c.defaultProps){g===f&&(g=Q({},g));for(var I in c)g[I]===void 0&&(g[I]=c[I])}return g}var vx=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function Dq(c){vx(c)}function Fq(c){console.error(c)}function Bq(c){vx(c)}function wx(c,f){try{var g=c.onUncaughtError;g(f.value,{componentStack:f.stack})}catch(_){setTimeout(function(){throw _})}}function Uq(c,f,g){try{var _=c.onCaughtError;_(g.value,{componentStack:g.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(I){setTimeout(function(){throw I})}}function _2(c,f,g){return g=kp(g),g.tag=3,g.payload={element:null},g.callback=function(){wx(c,f)},g}function jq(c){return c=kp(c),c.tag=3,c}function zq(c,f,g,_){var I=g.type.getDerivedStateFromError;if(typeof I=="function"){var P=_.value;c.payload=function(){return I(P)},c.callback=function(){Uq(f,g,_)}}var ne=g.stateNode;ne!==null&&typeof ne.componentDidCatch=="function"&&(c.callback=function(){Uq(f,g,_),typeof I!="function"&&(Op===null?Op=new Set([this]):Op.add(this));var we=_.stack;this.componentDidCatch(_.value,{componentStack:we!==null?we:""})})}function e1e(c,f,g,_,I){if(g.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){if(f=g.alternate,f!==null&&Wv(f,g,I,!0),g=vo.current,g!==null){switch(g.tag){case 13:return Cs===null?nI():g.alternate===null&&ga===0&&(ga=3),g.flags&=-257,g.flags|=65536,g.lanes=I,_===fp?g.flags|=16384:(f=g.updateQueue,f===null?g.updateQueue=new Set([_]):f.add(_),iI(c,_,I)),!1;case 22:return g.flags|=65536,_===fp?g.flags|=16384:(f=g.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([_])},g.updateQueue=f):(g=f.retryQueue,g===null?f.retryQueue=new Set([_]):g.add(_)),iI(c,_,I)),!1}throw Error(r(435,g.tag))}return iI(c,_,I),nI(),!1}if($r)return f=vo.current,f!==null?(!(f.flags&65536)&&(f.flags|=256),f.flags|=65536,f.lanes=I,_!==Uv&&(c=Error(r(422),{cause:_}),yo(fo(c,g)))):(_!==Uv&&(f=Error(r(423),{cause:_}),yo(fo(f,g))),c=c.current.alternate,c.flags|=65536,I&=-I,c.lanes|=I,_=fo(_,g),I=_2(c.stateNode,_,I),D2(c,I),ga!==4&&(ga=2)),!1;var P=Error(r(520),{cause:_});if(P=fo(P,g),nw===null?nw=[P]:nw.push(P),ga!==4&&(ga=2),f===null)return!0;_=fo(_,g),g=f;do{switch(g.tag){case 3:return g.flags|=65536,c=I&-I,g.lanes|=c,c=_2(g.stateNode,_,c),D2(g,c),!1;case 1:if(f=g.type,P=g.stateNode,(g.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Op===null||!Op.has(P))))return g.flags|=65536,I&=-I,g.lanes|=I,I=jq(I),zq(I,c,g,_),D2(g,I),!1}g=g.return}while(g!==null);return!1}var $q=Error(r(461)),cs=!1;function Rs(c,f,g,_){f.child=c===null?cx(f,null,g,_):bo(f,c.child,g,_)}function qq(c,f,g,_,I){g=g.render;var P=f.ref;if("ref"in _){var ne={};for(var we in _)we!=="ref"&&(ne[we]=_[we])}else ne=_;return _g(f),_=S(c,f,g,ne,P,I),we=M(),c!==null&&!cs?(W(c,f,I),Ph(c,f,I)):($r&&we&&Z0(f),f.flags|=1,Rs(c,f,_,I),f.child)}function Hq(c,f,g,_,I){if(c===null){var P=g.type;return typeof P=="function"&&!H2(P)&&P.defaultProps===void 0&&g.compare===null?(f.tag=15,f.type=P,Vq(c,f,P,_,I)):(c=kx(g.type,null,_,f,f.mode,I),c.ref=f.ref,c.return=f,f.child=c)}if(P=c.child,!I2(c,I)){var ne=P.memoizedProps;if(g=g.compare,g=g!==null?g:A,g(ne,_)&&c.ref===f.ref)return Ph(c,f,I)}return f.flags|=1,c=Ip(P,_),c.ref=f.ref,c.return=f,f.child=c}function Vq(c,f,g,_,I){if(c!==null){var P=c.memoizedProps;if(A(P,_)&&c.ref===f.ref)if(cs=!1,f.pendingProps=_=P,I2(c,I))c.flags&131072&&(cs=!0);else return f.lanes=c.lanes,Ph(c,f,I)}return S2(c,f,g,_,I)}function Gq(c,f,g){var _=f.pendingProps,I=_.children,P=(f.stateNode._pendingVisibility&2)!==0,ne=c!==null?c.memoizedState:null;if(Gv(c,f),_.mode==="hidden"||P){if(f.flags&128){if(_=ne!==null?ne.baseLanes|g:g,c!==null){for(I=f.child=c.child,P=0;I!==null;)P=P|I.lanes|I.childLanes,I=I.sibling;f.childLanes=P&~_}else f.childLanes=0,f.child=null;return Wq(c,f,_,g)}if(g&536870912)f.memoizedState={baseLanes:0,cachePool:null},c!==null&&mg(f,ne!==null?ne.cachePool:null),ne!==null?Al(f,ne):oc(),dx(f);else return f.lanes=f.childLanes=536870912,Wq(c,f,ne!==null?ne.baseLanes|g:g,g)}else ne!==null?(mg(f,ne.cachePool),Al(f,ne),ud(),f.memoizedState=null):(c!==null&&mg(f,null),oc(),ud());return Rs(c,f,I,g),f.child}function Wq(c,f,g,_){var I=ny();return I=I===null?null:{parent:pa._currentValue,pool:I},f.memoizedState={baseLanes:g,cachePool:I},c!==null&&mg(f,null),oc(),dx(f),c!==null&&Wv(c,f,_,!0),null}function Gv(c,f){var g=f.ref;if(g===null)c!==null&&c.ref!==null&&(f.flags|=2097664);else{if(typeof g!="function"&&typeof g!="object")throw Error(r(284));(c===null||c.ref!==g)&&(f.flags|=2097664)}}function S2(c,f,g,_,I){return _g(f),g=S(c,f,g,_,void 0,I),_=M(),c!==null&&!cs?(W(c,f,I),Ph(c,f,I)):($r&&_&&Z0(f),f.flags|=1,Rs(c,f,g,I),f.child)}function Kq(c,f,g,_,I,P){return _g(f),f.updateQueue=null,g=E(f,_,g,I),b(c),_=M(),c!==null&&!cs?(W(c,f,P),Ph(c,f,P)):($r&&_&&Z0(f),f.flags|=1,Rs(c,f,g,P),f.child)}function Yq(c,f,g,_,I){if(_g(f),f.stateNode===null){var P=Ga,ne=g.contextType;typeof ne=="object"&&ne!==null&&(P=qs(ne)),P=new g(_,P),f.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=w2,f.stateNode=P,P._reactInternals=f,P=f.stateNode,P.props=_,P.state=f.memoizedState,P.refs={},P2(f),ne=g.contextType,P.context=typeof ne=="object"&&ne!==null?qs(ne):Ga,P.state=f.memoizedState,ne=g.getDerivedStateFromProps,typeof ne=="function"&&(v2(f,g,ne,_),P.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(ne=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),ne!==P.state&&w2.enqueueReplaceState(P,P.state,null),Xv(f,_,P,I),Yv(),P.state=f.memoizedState),typeof P.componentDidMount=="function"&&(f.flags|=4194308),_=!0}else if(c===null){P=f.stateNode;var we=f.memoizedProps,Le=vg(g,we);P.props=Le;var rt=P.context,Ot=g.contextType;ne=Ga,typeof Ot=="object"&&Ot!==null&&(ne=qs(Ot));var Bt=g.getDerivedStateFromProps;Ot=typeof Bt=="function"||typeof P.getSnapshotBeforeUpdate=="function",we=f.pendingProps!==we,Ot||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(we||rt!==ne)&&Lq(f,P,_,ne),Ep=!1;var wt=f.memoizedState;P.state=wt,Xv(f,_,P,I),Yv(),rt=f.memoizedState,we||wt!==rt||Ep?(typeof Bt=="function"&&(v2(f,g,Bt,_),rt=f.memoizedState),(Le=Ep||Pq(f,g,Le,_,wt,rt,ne))?(Ot||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(f.flags|=4194308)):(typeof P.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=_,f.memoizedState=rt),P.props=_,P.state=rt,P.context=ne,_=Le):(typeof P.componentDidMount=="function"&&(f.flags|=4194308),_=!1)}else{P=f.stateNode,L2(c,f),ne=f.memoizedProps,Ot=vg(g,ne),P.props=Ot,Bt=f.pendingProps,wt=P.context,rt=g.contextType,Le=Ga,typeof rt=="object"&&rt!==null&&(Le=qs(rt)),we=g.getDerivedStateFromProps,(rt=typeof we=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(ne!==Bt||wt!==Le)&&Lq(f,P,_,Le),Ep=!1,wt=f.memoizedState,P.state=wt,Xv(f,_,P,I),Yv();var It=f.memoizedState;ne!==Bt||wt!==It||Ep||c!==null&&c.dependencies!==null&&_x(c.dependencies)?(typeof we=="function"&&(v2(f,g,we,_),It=f.memoizedState),(Ot=Ep||Pq(f,g,Ot,_,wt,It,Le)||c!==null&&c.dependencies!==null&&_x(c.dependencies))?(rt||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(_,It,Le),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(_,It,Le)),typeof P.componentDidUpdate=="function"&&(f.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof P.componentDidUpdate!="function"||ne===c.memoizedProps&&wt===c.memoizedState||(f.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||ne===c.memoizedProps&&wt===c.memoizedState||(f.flags|=1024),f.memoizedProps=_,f.memoizedState=It),P.props=_,P.state=It,P.context=Le,_=Ot):(typeof P.componentDidUpdate!="function"||ne===c.memoizedProps&&wt===c.memoizedState||(f.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||ne===c.memoizedProps&&wt===c.memoizedState||(f.flags|=1024),_=!1)}return P=_,Gv(c,f),_=(f.flags&128)!==0,P||_?(P=f.stateNode,g=_&&typeof g.getDerivedStateFromError!="function"?null:P.render(),f.flags|=1,c!==null&&_?(f.child=bo(f,c.child,null,I),f.child=bo(f,null,g,I)):Rs(c,f,g,I),f.memoizedState=P.state,c=f.child):c=Ph(c,f,I),c}function Xq(c,f,g,_){return Pa(),f.flags|=256,Rs(c,f,g,_),f.child}var x2={dehydrated:null,treeContext:null,retryLane:0};function E2(c){return{baseLanes:c,cachePool:px()}}function k2(c,f,g){return c=c!==null?c.childLanes&~g:0,f&&(c|=vu),c}function Zq(c,f,g){var _=f.pendingProps,I=!1,P=(f.flags&128)!==0,ne;if((ne=P)||(ne=c!==null&&c.memoizedState===null?!1:(fa.current&2)!==0),ne&&(I=!0,f.flags&=-129),ne=(f.flags&32)!==0,f.flags&=-33,c===null){if($r){if(I?lc(f):ud(),$r){var we=Wa,Le;if(Le=we){e:{for(Le=we,we=kl;Le.nodeType!==8;){if(!we){we=null;break e}if(Le=cc(Le.nextSibling),Le===null){we=null;break e}}we=Le}we!==null?(f.memoizedState={dehydrated:we,treeContext:mo!==null?{id:du,overflow:hu}:null,retryLane:536870912},Le=bu(18,null,null,0),Le.stateNode=we,Le.return=f,f.child=Le,As=f,Wa=null,Le=!0):Le=!1}Le||Th(f)}if(we=f.memoizedState,we!==null&&(we=we.dehydrated,we!==null))return we.data==="$!"?f.lanes=16:f.lanes=536870912,null;Fr(f)}return we=_.children,_=_.fallback,I?(ud(),I=f.mode,we=A2({mode:"hidden",children:we},I),_=xg(_,I,g,null),we.return=f,_.return=f,we.sibling=_,f.child=we,I=f.child,I.memoizedState=E2(g),I.childLanes=k2(c,ne,g),f.memoizedState=x2,_):(lc(f),T2(f,we))}if(Le=c.memoizedState,Le!==null&&(we=Le.dehydrated,we!==null)){if(P)f.flags&256?(lc(f),f.flags&=-257,f=C2(c,f,g)):f.memoizedState!==null?(ud(),f.child=c.child,f.flags|=128,f=null):(ud(),I=_.fallback,we=f.mode,_=A2({mode:"visible",children:_.children},we),I=xg(I,we,g,null),I.flags|=2,_.return=f,I.return=f,_.sibling=I,f.child=_,bo(f,c.child,null,g),_=f.child,_.memoizedState=E2(g),_.childLanes=k2(c,ne,g),f.memoizedState=x2,f=I);else if(lc(f),we.data==="$!"){if(ne=we.nextSibling&&we.nextSibling.dataset,ne)var rt=ne.dgst;ne=rt,_=Error(r(419)),_.stack="",_.digest=ne,yo({value:_,source:null,stack:null}),f=C2(c,f,g)}else if(cs||Wv(c,f,g,!1),ne=(g&c.childLanes)!==0,cs||ne){if(ne=Mi,ne!==null){if(_=g&-g,_&42)_=1;else switch(_){case 2:_=1;break;case 8:_=4;break;case 32:_=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:_=64;break;case 268435456:_=134217728;break;default:_=0}if(_=_&(ne.suspendedLanes|g)?0:_,_!==0&&_!==Le.retryLane)throw Le.retryLane=_,zn(c,_),wo(ne,c,_),$q}we.data==="$?"||nI(),f=C2(c,f,g)}else we.data==="$?"?(f.flags|=128,f.child=c.child,f=m1e.bind(null,c),we._reactRetry=f,f=null):(c=Le.treeContext,Wa=cc(we.nextSibling),As=f,$r=!0,Jo=null,kl=!1,c!==null&&(po[Ma++]=du,po[Ma++]=hu,po[Ma++]=mo,du=c.id,hu=c.overflow,mo=f),f=T2(f,_.children),f.flags|=4096);return f}return I?(ud(),I=_.fallback,we=f.mode,Le=c.child,rt=Le.sibling,_=Ip(Le,{mode:"hidden",children:_.children}),_.subtreeFlags=Le.subtreeFlags&31457280,rt!==null?I=Ip(rt,I):(I=xg(I,we,g,null),I.flags|=2),I.return=f,_.return=f,_.sibling=I,f.child=_,_=I,I=f.child,we=c.child.memoizedState,we===null?we=E2(g):(Le=we.cachePool,Le!==null?(rt=pa._currentValue,Le=Le.parent!==rt?{parent:rt,pool:rt}:Le):Le=px(),we={baseLanes:we.baseLanes|g,cachePool:Le}),I.memoizedState=we,I.childLanes=k2(c,ne,g),f.memoizedState=x2,_):(lc(f),g=c.child,c=g.sibling,g=Ip(g,{mode:"visible",children:_.children}),g.return=f,g.sibling=null,c!==null&&(ne=f.deletions,ne===null?(f.deletions=[c],f.flags|=16):ne.push(c)),f.child=g,f.memoizedState=null,g)}function T2(c,f){return f=A2({mode:"visible",children:f},c.mode),f.return=c,c.child=f}function A2(c,f){return xH(c,f,0,null)}function C2(c,f,g){return bo(f,c.child,null,g),c=T2(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function Qq(c,f,g){c.lanes|=f;var _=c.alternate;_!==null&&(_.lanes|=f),O2(c.return,f,g)}function R2(c,f,g,_,I){var P=c.memoizedState;P===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:_,tail:g,tailMode:I}:(P.isBackwards=f,P.rendering=null,P.renderingStartTime=0,P.last=_,P.tail=g,P.tailMode=I)}function Jq(c,f,g){var _=f.pendingProps,I=_.revealOrder,P=_.tail;if(Rs(c,f,_.children,g),_=fa.current,_&2)_=_&1|2,f.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Qq(c,g,f);else if(c.tag===19)Qq(c,g,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}_&=1}switch(Se(fa,_),I){case"forwards":for(g=f.child,I=null;g!==null;)c=g.alternate,c!==null&&fg(c)===null&&(I=g),g=g.sibling;g=I,g===null?(I=f.child,f.child=null):(I=g.sibling,g.sibling=null),R2(f,!1,I,g,P);break;case"backwards":for(g=null,I=f.child,f.child=null;I!==null;){if(c=I.alternate,c!==null&&fg(c)===null){f.child=I;break}c=I.sibling,I.sibling=g,g=I,I=c}R2(f,!0,g,null,P);break;case"together":R2(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Ph(c,f,g){if(c!==null&&(f.dependencies=c.dependencies),Np|=f.lanes,!(g&f.childLanes))if(c!==null){if(Wv(c,f,g,!1),(g&f.childLanes)===0)return null}else return null;if(c!==null&&f.child!==c.child)throw Error(r(153));if(f.child!==null){for(c=f.child,g=Ip(c,c.pendingProps),f.child=g,g.return=f;c.sibling!==null;)c=c.sibling,g=g.sibling=Ip(c,c.pendingProps),g.return=f;g.sibling=null}return f.child}function I2(c,f){return c.lanes&f?!0:(c=c.dependencies,!!(c!==null&&_x(c)))}function t1e(c,f,g){switch(f.tag){case 3:Nt(f,f.stateNode.containerInfo),xp(f,pa,c.memoizedState.cache),Pa();break;case 27:case 5:rn(f);break;case 4:Nt(f,f.stateNode.containerInfo);break;case 10:xp(f,f.type,f.memoizedProps.value);break;case 13:var _=f.memoizedState;if(_!==null)return _.dehydrated!==null?(lc(f),f.flags|=128,null):g&f.child.childLanes?Zq(c,f,g):(lc(f),c=Ph(c,f,g),c!==null?c.sibling:null);lc(f);break;case 19:var I=(c.flags&128)!==0;if(_=(g&f.childLanes)!==0,_||(Wv(c,f,g,!1),_=(g&f.childLanes)!==0),I){if(_)return Jq(c,f,g);f.flags|=128}if(I=f.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),Se(fa,fa.current),_)break;return null;case 22:case 23:return f.lanes=0,Gq(c,f,g);case 24:xp(f,pa,c.memoizedState.cache)}return Ph(c,f,g)}function eH(c,f,g){if(c!==null)if(c.memoizedProps!==f.pendingProps)cs=!0;else{if(!I2(c,g)&&!(f.flags&128))return cs=!1,t1e(c,f,g);cs=!!(c.flags&131072)}else cs=!1,$r&&f.flags&1048576&&ox(f,hg,f.index);switch(f.lanes=0,f.tag){case 16:e:{c=f.pendingProps;var _=f.elementType,I=_._init;if(_=I(_._payload),f.type=_,typeof _=="function")H2(_)?(c=vg(_,c),f.tag=1,f=Yq(null,f,_,c,g)):(f.tag=0,f=S2(null,f,_,c,g));else{if(_!=null){if(I=_.$$typeof,I===v){f.tag=11,f=qq(null,f,_,c,g);break e}else if(I===T){f.tag=14,f=Hq(null,f,_,c,g);break e}}throw f=se(_)||_,Error(r(306,f,""))}}return f;case 0:return S2(c,f,f.type,f.pendingProps,g);case 1:return _=f.type,I=vg(_,f.pendingProps),Yq(c,f,_,I,g);case 3:e:{if(Nt(f,f.stateNode.containerInfo),c===null)throw Error(r(387));var P=f.pendingProps;I=f.memoizedState,_=I.element,L2(c,f),Xv(f,P,null,g);var ne=f.memoizedState;if(P=ne.cache,xp(f,pa,P),P!==I.cache&&M2(f,[pa],g,!0),Yv(),P=ne.element,I.isDehydrated)if(I={element:P,isDehydrated:!1,cache:ne.cache},f.updateQueue.baseState=I,f.memoizedState=I,f.flags&256){f=Xq(c,f,P,g);break e}else if(P!==_){_=fo(Error(r(424)),f),yo(_),f=Xq(c,f,P,g);break e}else for(Wa=cc(f.stateNode.containerInfo.firstChild),As=f,$r=!0,Jo=null,kl=!0,g=cx(f,null,P,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Pa(),P===_){f=Ph(c,f,g);break e}Rs(c,f,P,g)}f=f.child}return f;case 26:return Gv(c,f),c===null?(g=rV(f.type,null,f.pendingProps,null))?f.memoizedState=g:$r||(g=f.type,c=f.pendingProps,_=Fx(Dt.current).createElement(g),_[Tr]=f,_[vr]=c,Is(_,g,c),ci(_),f.stateNode=_):f.memoizedState=rV(f.type,c.memoizedProps,f.pendingProps,c.memoizedState),null;case 27:return rn(f),c===null&&$r&&(_=f.stateNode=eV(f.type,f.pendingProps,Dt.current),As=f,kl=!0,Wa=cc(_.firstChild)),_=f.pendingProps.children,c!==null||$r?Rs(c,f,_,g):f.child=bo(f,null,_,g),Gv(c,f),f.child;case 5:return c===null&&$r&&((I=_=Wa)&&(_=N1e(_,f.type,f.pendingProps,kl),_!==null?(f.stateNode=_,As=f,Wa=cc(_.firstChild),kl=!1,I=!0):I=!1),I||Th(f)),rn(f),I=f.type,P=f.pendingProps,ne=c!==null?c.memoizedProps:null,_=P.children,gI(I,P)?_=null:ne!==null&&gI(I,ne)&&(f.flags|=32),f.memoizedState!==null&&(I=S(c,f,R,null,null,g),dw._currentValue=I),Gv(c,f),Rs(c,f,_,g),f.child;case 6:return c===null&&$r&&((c=g=Wa)&&(g=O1e(g,f.pendingProps,kl),g!==null?(f.stateNode=g,As=f,Wa=null,c=!0):c=!1),c||Th(f)),null;case 13:return Zq(c,f,g);case 4:return Nt(f,f.stateNode.containerInfo),_=f.pendingProps,c===null?f.child=bo(f,null,_,g):Rs(c,f,_,g),f.child;case 11:return qq(c,f,f.type,f.pendingProps,g);case 7:return Rs(c,f,f.pendingProps,g),f.child;case 8:return Rs(c,f,f.pendingProps.children,g),f.child;case 12:return Rs(c,f,f.pendingProps.children,g),f.child;case 10:return _=f.pendingProps,xp(f,f.type,_.value),Rs(c,f,_.children,g),f.child;case 9:return I=f.type._context,_=f.pendingProps.children,_g(f),I=qs(I),_=_(I),f.flags|=1,Rs(c,f,_,g),f.child;case 14:return Hq(c,f,f.type,f.pendingProps,g);case 15:return Vq(c,f,f.type,f.pendingProps,g);case 19:return Jq(c,f,g);case 22:return Gq(c,f,g);case 24:return _g(f),_=qs(pa),c===null?(I=ny(),I===null&&(I=Mi,P=J0(),I.pooledCache=P,P.refCount++,P!==null&&(I.pooledCacheLanes|=g),I=P),f.memoizedState={parent:_,cache:I},P2(f),xp(f,pa,I)):(c.lanes&g&&(L2(c,f),Xv(f,null,null,g),Yv()),I=c.memoizedState,P=f.memoizedState,I.parent!==_?(I={parent:_,cache:_},f.memoizedState=I,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=I),xp(f,pa,_)):(_=P.cache,xp(f,pa,_),_!==I.cache&&M2(f,[pa],g,!0))),Rs(c,f,f.pendingProps.children,g),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}var N2=ct(null),wg=null,Lh=null;function xp(c,f,g){Se(N2,f._currentValue),f._currentValue=g}function Dh(c){c._currentValue=N2.current,de(N2)}function O2(c,f,g){for(;c!==null;){var _=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,_!==null&&(_.childLanes|=f)):_!==null&&(_.childLanes&f)!==f&&(_.childLanes|=f),c===g)break;c=c.return}}function M2(c,f,g,_){var I=c.child;for(I!==null&&(I.return=c);I!==null;){var P=I.dependencies;if(P!==null){var ne=I.child;P=P.firstContext;e:for(;P!==null;){var we=P;P=I;for(var Le=0;Le<f.length;Le++)if(we.context===f[Le]){P.lanes|=g,we=P.alternate,we!==null&&(we.lanes|=g),O2(P.return,g,c),_||(ne=null);break e}P=we.next}}else if(I.tag===18){if(ne=I.return,ne===null)throw Error(r(341));ne.lanes|=g,P=ne.alternate,P!==null&&(P.lanes|=g),O2(ne,g,c),ne=null}else ne=I.child;if(ne!==null)ne.return=I;else for(ne=I;ne!==null;){if(ne===c){ne=null;break}if(I=ne.sibling,I!==null){I.return=ne.return,ne=I;break}ne=ne.return}I=ne}}function Wv(c,f,g,_){c=null;for(var I=f,P=!1;I!==null;){if(!P){if(I.flags&524288)P=!0;else if(I.flags&262144)break}if(I.tag===10){var ne=I.alternate;if(ne===null)throw Error(r(387));if(ne=ne.memoizedProps,ne!==null){var we=I.type;Oa(I.pendingProps.value,ne.value)||(c!==null?c.push(we):c=[we])}}else if(I===an.current){if(ne=I.alternate,ne===null)throw Error(r(387));ne.memoizedState.memoizedState!==I.memoizedState.memoizedState&&(c!==null?c.push(dw):c=[dw])}I=I.return}c!==null&&M2(f,c,g,_),f.flags|=262144}function _x(c){for(c=c.firstContext;c!==null;){if(!Oa(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function _g(c){wg=c,Lh=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function qs(c){return tH(wg,c)}function Sx(c,f){return wg===null&&_g(c),tH(c,f)}function tH(c,f){var g=f._currentValue;if(f={context:f,memoizedValue:g,next:null},Lh===null){if(c===null)throw Error(r(308));Lh=f,c.dependencies={lanes:0,firstContext:f},c.flags|=524288}else Lh=Lh.next=f;return g}var Ep=!1;function P2(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function L2(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function kp(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Tp(c,f,g){var _=c.updateQueue;if(_===null)return null;if(_=_.shared,na&2){var I=_.pending;return I===null?f.next=f:(f.next=I.next,I.next=f),_.pending=f,f=zi(c),ac(c,null,g),f}return jn(c,_,f,g),zi(c)}function Kv(c,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194176)!==0)){var _=f.lanes;_&=c.pendingLanes,g|=_,f.lanes=g,Jt(c,g)}}function D2(c,f){var g=c.updateQueue,_=c.alternate;if(_!==null&&(_=_.updateQueue,g===_)){var I=null,P=null;if(g=g.firstBaseUpdate,g!==null){do{var ne={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};P===null?I=P=ne:P=P.next=ne,g=g.next}while(g!==null);P===null?I=P=f:P=P.next=f}else I=P=f;g={baseState:_.baseState,firstBaseUpdate:I,lastBaseUpdate:P,shared:_.shared,callbacks:_.callbacks},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=f:c.next=f,g.lastBaseUpdate=f}var F2=!1;function Yv(){if(F2){var c=yp;if(c!==null)throw c}}function Xv(c,f,g,_){F2=!1;var I=c.updateQueue;Ep=!1;var P=I.firstBaseUpdate,ne=I.lastBaseUpdate,we=I.shared.pending;if(we!==null){I.shared.pending=null;var Le=we,rt=Le.next;Le.next=null,ne===null?P=rt:ne.next=rt,ne=Le;var Ot=c.alternate;Ot!==null&&(Ot=Ot.updateQueue,we=Ot.lastBaseUpdate,we!==ne&&(we===null?Ot.firstBaseUpdate=rt:we.next=rt,Ot.lastBaseUpdate=Le))}if(P!==null){var Bt=I.baseState;ne=0,Ot=rt=Le=null,we=P;do{var wt=we.lane&-536870913,It=wt!==we.lane;if(It?(qr&wt)===wt:(_&wt)===wt){wt!==0&&wt===Rh&&(F2=!0),Ot!==null&&(Ot=Ot.next={lane:0,tag:we.tag,payload:we.payload,callback:null,next:null});e:{var Tn=c,rr=we;wt=f;var ya=g;switch(rr.tag){case 1:if(Tn=rr.payload,typeof Tn=="function"){Bt=Tn.call(ya,Bt,wt);break e}Bt=Tn;break e;case 3:Tn.flags=Tn.flags&-65537|128;case 0:if(Tn=rr.payload,wt=typeof Tn=="function"?Tn.call(ya,Bt,wt):Tn,wt==null)break e;Bt=Q({},Bt,wt);break e;case 2:Ep=!0}}wt=we.callback,wt!==null&&(c.flags|=64,It&&(c.flags|=8192),It=I.callbacks,It===null?I.callbacks=[wt]:It.push(wt))}else It={lane:wt,tag:we.tag,payload:we.payload,callback:we.callback,next:null},Ot===null?(rt=Ot=It,Le=Bt):Ot=Ot.next=It,ne|=wt;if(we=we.next,we===null){if(we=I.shared.pending,we===null)break;It=we,we=It.next,It.next=null,I.lastBaseUpdate=It,I.shared.pending=null}}while(!0);Ot===null&&(Le=Bt),I.baseState=Le,I.firstBaseUpdate=rt,I.lastBaseUpdate=Ot,P===null&&(I.shared.lanes=0),Np|=ne,c.lanes=ne,c.memoizedState=Bt}}function nH(c,f){if(typeof c!="function")throw Error(r(191,c));c.call(f)}function rH(c,f){var g=c.callbacks;if(g!==null)for(c.callbacks=null,c=0;c<g.length;c++)nH(g[c],f)}function Zv(c,f){try{var g=f.updateQueue,_=g!==null?g.lastEffect:null;if(_!==null){var I=_.next;g=I;do{if((g.tag&c)===c){_=void 0;var P=g.create,ne=g.inst;_=P(),ne.destroy=_}g=g.next}while(g!==I)}}catch(we){Ti(f,f.return,we)}}function Ap(c,f,g){try{var _=f.updateQueue,I=_!==null?_.lastEffect:null;if(I!==null){var P=I.next;_=P;do{if((_.tag&c)===c){var ne=_.inst,we=ne.destroy;if(we!==void 0){ne.destroy=void 0,I=f;var Le=g;try{we()}catch(rt){Ti(I,Le,rt)}}}_=_.next}while(_!==P)}}catch(rt){Ti(f,f.return,rt)}}function iH(c){var f=c.updateQueue;if(f!==null){var g=c.stateNode;try{rH(f,g)}catch(_){Ti(c,c.return,_)}}}function aH(c,f,g){g.props=vg(c.type,c.memoizedProps),g.state=c.memoizedState;try{g.componentWillUnmount()}catch(_){Ti(c,f,_)}}function Sg(c,f){try{var g=c.ref;if(g!==null){var _=c.stateNode;switch(c.tag){case 26:case 27:case 5:var I=_;break;default:I=_}typeof g=="function"?c.refCleanup=g(I):g.current=I}}catch(P){Ti(c,f,P)}}function Il(c,f){var g=c.ref,_=c.refCleanup;if(g!==null)if(typeof _=="function")try{_()}catch(I){Ti(c,f,I)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(I){Ti(c,f,I)}else g.current=null}function sH(c){var f=c.type,g=c.memoizedProps,_=c.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":g.autoFocus&&_.focus();break e;case"img":g.src?_.src=g.src:g.srcSet&&(_.srcset=g.srcSet)}}catch(I){Ti(c,c.return,I)}}function oH(c,f,g){try{var _=c.stateNode;T1e(_,c.type,g,f),_[vr]=f}catch(I){Ti(c,c.return,I)}}function lH(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27||c.tag===4}function B2(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||lH(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==27&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function U2(c,f,g){var _=c.tag;if(_===5||_===6)c=c.stateNode,f?g.nodeType===8?g.parentNode.insertBefore(c,f):g.insertBefore(c,f):(g.nodeType===8?(f=g.parentNode,f.insertBefore(c,g)):(f=g,f.appendChild(c)),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=Dx));else if(_!==4&&_!==27&&(c=c.child,c!==null))for(U2(c,f,g),c=c.sibling;c!==null;)U2(c,f,g),c=c.sibling}function xx(c,f,g){var _=c.tag;if(_===5||_===6)c=c.stateNode,f?g.insertBefore(c,f):g.appendChild(c);else if(_!==4&&_!==27&&(c=c.child,c!==null))for(xx(c,f,g),c=c.sibling;c!==null;)xx(c,f,g),c=c.sibling}var Fh=!1,ma=!1,j2=!1,uH=typeof WeakSet=="function"?WeakSet:Set,ds=null,cH=!1;function n1e(c,f){if(c=c.containerInfo,pI=qx,c=ie(c),fe(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var _=g.getSelection&&g.getSelection();if(_&&_.rangeCount!==0){g=_.anchorNode;var I=_.anchorOffset,P=_.focusNode;_=_.focusOffset;try{g.nodeType,P.nodeType}catch{g=null;break e}var ne=0,we=-1,Le=-1,rt=0,Ot=0,Bt=c,wt=null;t:for(;;){for(var It;Bt!==g||I!==0&&Bt.nodeType!==3||(we=ne+I),Bt!==P||_!==0&&Bt.nodeType!==3||(Le=ne+_),Bt.nodeType===3&&(ne+=Bt.nodeValue.length),(It=Bt.firstChild)!==null;)wt=Bt,Bt=It;for(;;){if(Bt===c)break t;if(wt===g&&++rt===I&&(we=ne),wt===P&&++Ot===_&&(Le=ne),(It=Bt.nextSibling)!==null)break;Bt=wt,wt=Bt.parentNode}Bt=It}g=we===-1||Le===-1?null:{start:we,end:Le}}else g=null}g=g||{start:0,end:0}}else g=null;for(mI={focusedElem:c,selectionRange:g},qx=!1,ds=f;ds!==null;)if(f=ds,c=f.child,(f.subtreeFlags&1028)!==0&&c!==null)c.return=f,ds=c;else for(;ds!==null;){switch(f=ds,P=f.alternate,c=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if(c&1024&&P!==null){c=void 0,g=f,I=P.memoizedProps,P=P.memoizedState,_=g.stateNode;try{var Tn=vg(g.type,I,g.elementType===g.type);c=_.getSnapshotBeforeUpdate(Tn,P),_.__reactInternalSnapshotBeforeUpdate=c}catch(rr){Ti(g,g.return,rr)}}break;case 3:if(c&1024){if(c=f.stateNode.containerInfo,g=c.nodeType,g===9)vI(c);else if(g===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":vI(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(c&1024)throw Error(r(163))}if(c=f.sibling,c!==null){c.return=f.return,ds=c;break}ds=f.return}return Tn=cH,cH=!1,Tn}function dH(c,f,g){var _=g.flags;switch(g.tag){case 0:case 11:case 15:Uh(c,g),_&4&&Zv(5,g);break;case 1:if(Uh(c,g),_&4)if(c=g.stateNode,f===null)try{c.componentDidMount()}catch(we){Ti(g,g.return,we)}else{var I=vg(g.type,f.memoizedProps);f=f.memoizedState;try{c.componentDidUpdate(I,f,c.__reactInternalSnapshotBeforeUpdate)}catch(we){Ti(g,g.return,we)}}_&64&&iH(g),_&512&&Sg(g,g.return);break;case 3:if(Uh(c,g),_&64&&(_=g.updateQueue,_!==null)){if(c=null,g.child!==null)switch(g.child.tag){case 27:case 5:c=g.child.stateNode;break;case 1:c=g.child.stateNode}try{rH(_,c)}catch(we){Ti(g,g.return,we)}}break;case 26:Uh(c,g),_&512&&Sg(g,g.return);break;case 27:case 5:Uh(c,g),f===null&&_&4&&sH(g),_&512&&Sg(g,g.return);break;case 12:Uh(c,g);break;case 13:Uh(c,g),_&4&&pH(c,g);break;case 22:if(I=g.memoizedState!==null||Fh,!I){f=f!==null&&f.memoizedState!==null||ma;var P=Fh,ne=ma;Fh=I,(ma=f)&&!ne?Cp(c,g,(g.subtreeFlags&8772)!==0):Uh(c,g),Fh=P,ma=ne}_&512&&(g.memoizedProps.mode==="manual"?Sg(g,g.return):Il(g,g.return));break;default:Uh(c,g)}}function hH(c){var f=c.alternate;f!==null&&(c.alternate=null,hH(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&Xi(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Da=null,Nl=!1;function Bh(c,f,g){for(g=g.child;g!==null;)fH(c,f,g),g=g.sibling}function fH(c,f,g){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(gt,g)}catch{}switch(g.tag){case 26:ma||Il(g,f),Bh(c,f,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:ma||Il(g,f);var _=Da,I=Nl;for(Da=g.stateNode,Bh(c,f,g),g=g.stateNode,f=g.attributes;f.length;)g.removeAttributeNode(f[0]);Xi(g),Da=_,Nl=I;break;case 5:ma||Il(g,f);case 6:I=Da;var P=Nl;if(Da=null,Bh(c,f,g),Da=I,Nl=P,Da!==null)if(Nl)try{c=Da,_=g.stateNode,c.nodeType===8?c.parentNode.removeChild(_):c.removeChild(_)}catch(ne){Ti(g,f,ne)}else try{Da.removeChild(g.stateNode)}catch(ne){Ti(g,f,ne)}break;case 18:Da!==null&&(Nl?(f=Da,g=g.stateNode,f.nodeType===8?bI(f.parentNode,g):f.nodeType===1&&bI(f,g),mw(f)):bI(Da,g.stateNode));break;case 4:_=Da,I=Nl,Da=g.stateNode.containerInfo,Nl=!0,Bh(c,f,g),Da=_,Nl=I;break;case 0:case 11:case 14:case 15:ma||Ap(2,g,f),ma||Ap(4,g,f),Bh(c,f,g);break;case 1:ma||(Il(g,f),_=g.stateNode,typeof _.componentWillUnmount=="function"&&aH(g,f,_)),Bh(c,f,g);break;case 21:Bh(c,f,g);break;case 22:ma||Il(g,f),ma=(_=ma)||g.memoizedState!==null,Bh(c,f,g),ma=_;break;default:Bh(c,f,g)}}function pH(c,f){if(f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{mw(c)}catch(g){Ti(f,f.return,g)}}function r1e(c){switch(c.tag){case 13:case 19:var f=c.stateNode;return f===null&&(f=c.stateNode=new uH),f;case 22:return c=c.stateNode,f=c._retryCache,f===null&&(f=c._retryCache=new uH),f;default:throw Error(r(435,c.tag))}}function z2(c,f){var g=r1e(c);f.forEach(function(_){var I=g1e.bind(null,c,_);g.has(_)||(g.add(_),_.then(I,I))})}function gu(c,f){var g=f.deletions;if(g!==null)for(var _=0;_<g.length;_++){var I=g[_],P=c,ne=f,we=ne;e:for(;we!==null;){switch(we.tag){case 27:case 5:Da=we.stateNode,Nl=!1;break e;case 3:Da=we.stateNode.containerInfo,Nl=!0;break e;case 4:Da=we.stateNode.containerInfo,Nl=!0;break e}we=we.return}if(Da===null)throw Error(r(160));fH(P,ne,I),Da=null,Nl=!1,P=I.alternate,P!==null&&(P.return=null),I.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)mH(f,c),f=f.sibling}var uc=null;function mH(c,f){var g=c.alternate,_=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:gu(f,c),yu(c),_&4&&(Ap(3,c,c.return),Zv(3,c),Ap(5,c,c.return));break;case 1:gu(f,c),yu(c),_&512&&(ma||g===null||Il(g,g.return)),_&64&&Fh&&(c=c.updateQueue,c!==null&&(_=c.callbacks,_!==null&&(g=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=g===null?_:g.concat(_))));break;case 26:var I=uc;if(gu(f,c),yu(c),_&512&&(ma||g===null||Il(g,g.return)),_&4){var P=g!==null?g.memoizedState:null;if(_=c.memoizedState,g===null)if(_===null)if(c.stateNode===null){e:{_=c.type,g=c.memoizedProps,I=I.ownerDocument||I;t:switch(_){case"title":P=I.getElementsByTagName("title")[0],(!P||P[_i]||P[Tr]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=I.createElement(_),I.head.insertBefore(P,I.querySelector("head > title"))),Is(P,_,g),P[Tr]=c,ci(P),_=P;break e;case"link":var ne=sV("link","href",I).get(_+(g.href||""));if(ne){for(var we=0;we<ne.length;we++)if(P=ne[we],P.getAttribute("href")===(g.href==null?null:g.href)&&P.getAttribute("rel")===(g.rel==null?null:g.rel)&&P.getAttribute("title")===(g.title==null?null:g.title)&&P.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){ne.splice(we,1);break t}}P=I.createElement(_),Is(P,_,g),I.head.appendChild(P);break;case"meta":if(ne=sV("meta","content",I).get(_+(g.content||""))){for(we=0;we<ne.length;we++)if(P=ne[we],P.getAttribute("content")===(g.content==null?null:""+g.content)&&P.getAttribute("name")===(g.name==null?null:g.name)&&P.getAttribute("property")===(g.property==null?null:g.property)&&P.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&P.getAttribute("charset")===(g.charSet==null?null:g.charSet)){ne.splice(we,1);break t}}P=I.createElement(_),Is(P,_,g),I.head.appendChild(P);break;default:throw Error(r(468,_))}P[Tr]=c,ci(P),_=P}c.stateNode=_}else oV(I,c.type,c.stateNode);else c.stateNode=aV(I,_,c.memoizedProps);else P!==_?(P===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):P.count--,_===null?oV(I,c.type,c.stateNode):aV(I,_,c.memoizedProps)):_===null&&c.stateNode!==null&&oH(c,c.memoizedProps,g.memoizedProps)}break;case 27:if(_&4&&c.alternate===null){I=c.stateNode,P=c.memoizedProps;try{for(var Le=I.firstChild;Le;){var rt=Le.nextSibling,Ot=Le.nodeName;Le[_i]||Ot==="HEAD"||Ot==="BODY"||Ot==="SCRIPT"||Ot==="STYLE"||Ot==="LINK"&&Le.rel.toLowerCase()==="stylesheet"||I.removeChild(Le),Le=rt}for(var Bt=c.type,wt=I.attributes;wt.length;)I.removeAttributeNode(wt[0]);Is(I,Bt,P),I[Tr]=c,I[vr]=P}catch(Tn){Ti(c,c.return,Tn)}}case 5:if(gu(f,c),yu(c),_&512&&(ma||g===null||Il(g,g.return)),c.flags&32){I=c.stateNode;try{ur(I,"")}catch(Tn){Ti(c,c.return,Tn)}}_&4&&c.stateNode!=null&&(I=c.memoizedProps,oH(c,I,g!==null?g.memoizedProps:I)),_&1024&&(j2=!0);break;case 6:if(gu(f,c),yu(c),_&4){if(c.stateNode===null)throw Error(r(162));_=c.memoizedProps,g=c.stateNode;try{g.nodeValue=_}catch(Tn){Ti(c,c.return,Tn)}}break;case 3:if(jx=null,I=uc,uc=Bx(f.containerInfo),gu(f,c),uc=I,yu(c),_&4&&g!==null&&g.memoizedState.isDehydrated)try{mw(f.containerInfo)}catch(Tn){Ti(c,c.return,Tn)}j2&&(j2=!1,gH(c));break;case 4:_=uc,uc=Bx(c.stateNode.containerInfo),gu(f,c),yu(c),uc=_;break;case 12:gu(f,c),yu(c);break;case 13:gu(f,c),yu(c),c.child.flags&8192&&c.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(X2=Re()),_&4&&(_=c.updateQueue,_!==null&&(c.updateQueue=null,z2(c,_)));break;case 22:if(_&512&&(ma||g===null||Il(g,g.return)),Le=c.memoizedState!==null,rt=g!==null&&g.memoizedState!==null,Ot=Fh,Bt=ma,Fh=Ot||Le,ma=Bt||rt,gu(f,c),ma=Bt,Fh=Ot,yu(c),f=c.stateNode,f._current=c,f._visibility&=-3,f._visibility|=f._pendingVisibility&2,_&8192&&(f._visibility=Le?f._visibility&-2:f._visibility|1,Le&&(f=Fh||ma,g===null||rt||f||ay(c)),c.memoizedProps===null||c.memoizedProps.mode!=="manual"))e:for(g=null,f=c;;){if(f.tag===5||f.tag===26||f.tag===27){if(g===null){rt=g=f;try{if(I=rt.stateNode,Le)P=I.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{ne=rt.stateNode,we=rt.memoizedProps.style;var It=we!=null&&we.hasOwnProperty("display")?we.display:null;ne.style.display=It==null||typeof It=="boolean"?"":(""+It).trim()}}catch(Tn){Ti(rt,rt.return,Tn)}}}else if(f.tag===6){if(g===null){rt=f;try{rt.stateNode.nodeValue=Le?"":rt.memoizedProps}catch(Tn){Ti(rt,rt.return,Tn)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===c)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break e;for(;f.sibling===null;){if(f.return===null||f.return===c)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}_&4&&(_=c.updateQueue,_!==null&&(g=_.retryQueue,g!==null&&(_.retryQueue=null,z2(c,g))));break;case 19:gu(f,c),yu(c),_&4&&(_=c.updateQueue,_!==null&&(c.updateQueue=null,z2(c,_)));break;case 21:break;default:gu(f,c),yu(c)}}function yu(c){var f=c.flags;if(f&2){try{if(c.tag!==27){e:{for(var g=c.return;g!==null;){if(lH(g)){var _=g;break e}g=g.return}throw Error(r(160))}switch(_.tag){case 27:var I=_.stateNode,P=B2(c);xx(c,P,I);break;case 5:var ne=_.stateNode;_.flags&32&&(ur(ne,""),_.flags&=-33);var we=B2(c);xx(c,we,ne);break;case 3:case 4:var Le=_.stateNode.containerInfo,rt=B2(c);U2(c,rt,Le);break;default:throw Error(r(161))}}}catch(Ot){Ti(c,c.return,Ot)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function gH(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var f=c;gH(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),c=c.sibling}}function Uh(c,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)dH(c,f.alternate,f),f=f.sibling}function ay(c){for(c=c.child;c!==null;){var f=c;switch(f.tag){case 0:case 11:case 14:case 15:Ap(4,f,f.return),ay(f);break;case 1:Il(f,f.return);var g=f.stateNode;typeof g.componentWillUnmount=="function"&&aH(f,f.return,g),ay(f);break;case 26:case 27:case 5:Il(f,f.return),ay(f);break;case 22:Il(f,f.return),f.memoizedState===null&&ay(f);break;default:ay(f)}c=c.sibling}}function Cp(c,f,g){for(g=g&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var _=f.alternate,I=c,P=f,ne=P.flags;switch(P.tag){case 0:case 11:case 15:Cp(I,P,g),Zv(4,P);break;case 1:if(Cp(I,P,g),_=P,I=_.stateNode,typeof I.componentDidMount=="function")try{I.componentDidMount()}catch(rt){Ti(_,_.return,rt)}if(_=P,I=_.updateQueue,I!==null){var we=_.stateNode;try{var Le=I.shared.hiddenCallbacks;if(Le!==null)for(I.shared.hiddenCallbacks=null,I=0;I<Le.length;I++)nH(Le[I],we)}catch(rt){Ti(_,_.return,rt)}}g&&ne&64&&iH(P),Sg(P,P.return);break;case 26:case 27:case 5:Cp(I,P,g),g&&_===null&&ne&4&&sH(P),Sg(P,P.return);break;case 12:Cp(I,P,g);break;case 13:Cp(I,P,g),g&&ne&4&&pH(I,P);break;case 22:P.memoizedState===null&&Cp(I,P,g),Sg(P,P.return);break;default:Cp(I,P,g)}f=f.sibling}}function $2(c,f){var g=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),c=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(c=f.memoizedState.cachePool.pool),c!==g&&(c!=null&&c.refCount++,g!=null&&gp(g))}function q2(c,f){c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&gp(c))}function Rp(c,f,g,_){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)yH(c,f,g,_),f=f.sibling}function yH(c,f,g,_){var I=f.flags;switch(f.tag){case 0:case 11:case 15:Rp(c,f,g,_),I&2048&&Zv(9,f);break;case 3:Rp(c,f,g,_),I&2048&&(c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&gp(c)));break;case 12:if(I&2048){Rp(c,f,g,_),c=f.stateNode;try{var P=f.memoizedProps,ne=P.id,we=P.onPostCommit;typeof we=="function"&&we(ne,f.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(Le){Ti(f,f.return,Le)}}else Rp(c,f,g,_);break;case 23:break;case 22:P=f.stateNode,f.memoizedState!==null?P._visibility&4?Rp(c,f,g,_):Qv(c,f):P._visibility&4?Rp(c,f,g,_):(P._visibility|=4,sy(c,f,g,_,(f.subtreeFlags&10256)!==0)),I&2048&&$2(f.alternate,f);break;case 24:Rp(c,f,g,_),I&2048&&q2(f.alternate,f);break;default:Rp(c,f,g,_)}}function sy(c,f,g,_,I){for(I=I&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var P=c,ne=f,we=g,Le=_,rt=ne.flags;switch(ne.tag){case 0:case 11:case 15:sy(P,ne,we,Le,I),Zv(8,ne);break;case 23:break;case 22:var Ot=ne.stateNode;ne.memoizedState!==null?Ot._visibility&4?sy(P,ne,we,Le,I):Qv(P,ne):(Ot._visibility|=4,sy(P,ne,we,Le,I)),I&&rt&2048&&$2(ne.alternate,ne);break;case 24:sy(P,ne,we,Le,I),I&&rt&2048&&q2(ne.alternate,ne);break;default:sy(P,ne,we,Le,I)}f=f.sibling}}function Qv(c,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var g=c,_=f,I=_.flags;switch(_.tag){case 22:Qv(g,_),I&2048&&$2(_.alternate,_);break;case 24:Qv(g,_),I&2048&&q2(_.alternate,_);break;default:Qv(g,_)}f=f.sibling}}var Jv=8192;function oy(c){if(c.subtreeFlags&Jv)for(c=c.child;c!==null;)bH(c),c=c.sibling}function bH(c){switch(c.tag){case 26:oy(c),c.flags&Jv&&c.memoizedState!==null&&V1e(uc,c.memoizedState,c.memoizedProps);break;case 5:oy(c);break;case 3:case 4:var f=uc;uc=Bx(c.stateNode.containerInfo),oy(c),uc=f;break;case 22:c.memoizedState===null&&(f=c.alternate,f!==null&&f.memoizedState!==null?(f=Jv,Jv=16777216,oy(c),Jv=f):oy(c));break;default:oy(c)}}function vH(c){var f=c.alternate;if(f!==null&&(c=f.child,c!==null)){f.child=null;do f=c.sibling,c.sibling=null,c=f;while(c!==null)}}function ew(c){var f=c.deletions;if(c.flags&16){if(f!==null)for(var g=0;g<f.length;g++){var _=f[g];ds=_,_H(_,c)}vH(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)wH(c),c=c.sibling}function wH(c){switch(c.tag){case 0:case 11:case 15:ew(c),c.flags&2048&&Ap(9,c,c.return);break;case 3:ew(c);break;case 12:ew(c);break;case 22:var f=c.stateNode;c.memoizedState!==null&&f._visibility&4&&(c.return===null||c.return.tag!==13)?(f._visibility&=-5,Ex(c)):ew(c);break;default:ew(c)}}function Ex(c){var f=c.deletions;if(c.flags&16){if(f!==null)for(var g=0;g<f.length;g++){var _=f[g];ds=_,_H(_,c)}vH(c)}for(c=c.child;c!==null;){switch(f=c,f.tag){case 0:case 11:case 15:Ap(8,f,f.return),Ex(f);break;case 22:g=f.stateNode,g._visibility&4&&(g._visibility&=-5,Ex(f));break;default:Ex(f)}c=c.sibling}}function _H(c,f){for(;ds!==null;){var g=ds;switch(g.tag){case 0:case 11:case 15:Ap(8,g,f);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var _=g.memoizedState.cachePool.pool;_!=null&&_.refCount++}break;case 24:gp(g.memoizedState.cache)}if(_=g.child,_!==null)_.return=g,ds=_;else e:for(g=c;ds!==null;){_=ds;var I=_.sibling,P=_.return;if(hH(_),_===g){ds=null;break e}if(I!==null){I.return=P,ds=I;break e}ds=P}}}function i1e(c,f,g,_){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bu(c,f,g,_){return new i1e(c,f,g,_)}function H2(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Ip(c,f){var g=c.alternate;return g===null?(g=bu(c.tag,f,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=f,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&31457280,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,f=c.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g.refCleanup=c.refCleanup,g}function SH(c,f){c.flags&=31457282;var g=c.alternate;return g===null?(c.childLanes=0,c.lanes=f,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=g.childLanes,c.lanes=g.lanes,c.child=g.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=g.memoizedProps,c.memoizedState=g.memoizedState,c.updateQueue=g.updateQueue,c.type=g.type,f=g.dependencies,c.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),c}function kx(c,f,g,_,I,P){var ne=0;if(_=c,typeof c=="function")H2(c)&&(ne=1);else if(typeof c=="string")ne=q1e(c,g,ht.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case l:return xg(g.children,I,P,f);case u:ne=8,I|=24;break;case d:return c=bu(12,g,f,I|2),c.elementType=d,c.lanes=P,c;case w:return c=bu(13,g,f,I),c.elementType=w,c.lanes=P,c;case k:return c=bu(19,g,f,I),c.elementType=k,c.lanes=P,c;case N:return xH(g,I,P,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case h:case m:ne=10;break e;case p:ne=9;break e;case v:ne=11;break e;case T:ne=14;break e;case C:ne=16,_=null;break e}ne=29,g=Error(r(130,c===null?"null":typeof c,"")),_=null}return f=bu(ne,g,f,I),f.elementType=c,f.type=_,f.lanes=P,f}function xg(c,f,g,_){return c=bu(7,c,_,f),c.lanes=g,c}function xH(c,f,g,_){c=bu(22,c,_,f),c.elementType=N,c.lanes=g;var I={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var P=I._current;if(P===null)throw Error(r(456));if(!(I._pendingVisibility&2)){var ne=zn(P,2);ne!==null&&(I._pendingVisibility|=2,wo(ne,P,2))}},attach:function(){var P=I._current;if(P===null)throw Error(r(456));if(I._pendingVisibility&2){var ne=zn(P,2);ne!==null&&(I._pendingVisibility&=-3,wo(ne,P,2))}}};return c.stateNode=I,c}function V2(c,f,g){return c=bu(6,c,null,f),c.lanes=g,c}function G2(c,f,g){return f=bu(4,c.children!==null?c.children:[],c.key,f),f.lanes=g,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function jh(c){c.flags|=4}function EH(c,f){if(f.type!=="stylesheet"||f.state.loading&4)c.flags&=-16777217;else if(c.flags|=16777216,!lV(f)){if(f=vo.current,f!==null&&((qr&4194176)===qr?Cs!==null:(qr&62914560)!==qr&&!(qr&536870912)||f!==Cs))throw pp=fp,ux;c.flags|=8192}}function Tx(c,f){f!==null&&(c.flags|=4),c.flags&16384&&(f=c.tag!==22?qn():536870912,c.lanes|=f,uy|=f)}function tw(c,f){if(!$r)switch(c.tailMode){case"hidden":f=c.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var _=null;g!==null;)g.alternate!==null&&(_=g),g=g.sibling;_===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:_.sibling=null}}function ta(c){var f=c.alternate!==null&&c.alternate.child===c.child,g=0,_=0;if(f)for(var I=c.child;I!==null;)g|=I.lanes|I.childLanes,_|=I.subtreeFlags&31457280,_|=I.flags&31457280,I.return=c,I=I.sibling;else for(I=c.child;I!==null;)g|=I.lanes|I.childLanes,_|=I.subtreeFlags,_|=I.flags,I.return=c,I=I.sibling;return c.subtreeFlags|=_,c.childLanes=g,f}function a1e(c,f,g){var _=f.pendingProps;switch(hp(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ta(f),null;case 1:return ta(f),null;case 3:return g=f.stateNode,_=null,c!==null&&(_=c.memoizedState.cache),f.memoizedState.cache!==_&&(f.flags|=2048),Dh(pa),Un(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(c===null||c.child===null)&&(fu(f)?jh(f):c===null||c.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Jo!==null&&(eI(Jo),Jo=null))),ta(f),null;case 26:return g=f.memoizedState,c===null?(jh(f),g!==null?(ta(f),EH(f,g)):(ta(f),f.flags&=-16777217)):g?g!==c.memoizedState?(jh(f),ta(f),EH(f,g)):(ta(f),f.flags&=-16777217):(c.memoizedProps!==_&&jh(f),ta(f),f.flags&=-16777217),null;case 27:tr(f),g=Dt.current;var I=f.type;if(c!==null&&f.stateNode!=null)c.memoizedProps!==_&&jh(f);else{if(!_){if(f.stateNode===null)throw Error(r(166));return ta(f),null}c=ht.current,fu(f)?lx(f):(c=eV(I,_,g),f.stateNode=c,jh(f))}return ta(f),null;case 5:if(tr(f),g=f.type,c!==null&&f.stateNode!=null)c.memoizedProps!==_&&jh(f);else{if(!_){if(f.stateNode===null)throw Error(r(166));return ta(f),null}if(c=ht.current,fu(f))lx(f);else{switch(I=Fx(Dt.current),c){case 1:c=I.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:c=I.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":c=I.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":c=I.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":c=I.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof _.is=="string"?I.createElement("select",{is:_.is}):I.createElement("select"),_.multiple?c.multiple=!0:_.size&&(c.size=_.size);break;default:c=typeof _.is=="string"?I.createElement(g,{is:_.is}):I.createElement(g)}}c[Tr]=f,c[vr]=_;e:for(I=f.child;I!==null;){if(I.tag===5||I.tag===6)c.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===f)break e;for(;I.sibling===null;){if(I.return===null||I.return===f)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}f.stateNode=c;e:switch(Is(c,g,_),g){case"button":case"input":case"select":case"textarea":c=!!_.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&jh(f)}}return ta(f),f.flags&=-16777217,null;case 6:if(c&&f.stateNode!=null)c.memoizedProps!==_&&jh(f);else{if(typeof _!="string"&&f.stateNode===null)throw Error(r(166));if(c=Dt.current,fu(f)){if(c=f.stateNode,g=f.memoizedProps,_=null,I=As,I!==null)switch(I.tag){case 27:case 5:_=I.memoizedProps}c[Tr]=f,c=!!(c.nodeValue===g||_!==null&&_.suppressHydrationWarning===!0||KH(c.nodeValue,g)),c||Th(f)}else c=Fx(c).createTextNode(_),c[Tr]=f,f.stateNode=c}return ta(f),null;case 13:if(_=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(I=fu(f),_!==null&&_.dehydrated!==null){if(c===null){if(!I)throw Error(r(318));if(I=f.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(r(317));I[Tr]=f}else Pa(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;ta(f),I=!1}else Jo!==null&&(eI(Jo),Jo=null),I=!0;if(!I)return f.flags&256?(Fr(f),f):(Fr(f),null)}if(Fr(f),f.flags&128)return f.lanes=g,f;if(g=_!==null,c=c!==null&&c.memoizedState!==null,g){_=f.child,I=null,_.alternate!==null&&_.alternate.memoizedState!==null&&_.alternate.memoizedState.cachePool!==null&&(I=_.alternate.memoizedState.cachePool.pool);var P=null;_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(P=_.memoizedState.cachePool.pool),P!==I&&(_.flags|=2048)}return g!==c&&g&&(f.child.flags|=8192),Tx(f,f.updateQueue),ta(f),null;case 4:return Un(),c===null&&dI(f.stateNode.containerInfo),ta(f),null;case 10:return Dh(f.type),ta(f),null;case 19:if(de(fa),I=f.memoizedState,I===null)return ta(f),null;if(_=(f.flags&128)!==0,P=I.rendering,P===null)if(_)tw(I,!1);else{if(ga!==0||c!==null&&c.flags&128)for(c=f.child;c!==null;){if(P=fg(c),P!==null){for(f.flags|=128,tw(I,!1),c=P.updateQueue,f.updateQueue=c,Tx(f,c),f.subtreeFlags=0,c=g,g=f.child;g!==null;)SH(g,c),g=g.sibling;return Se(fa,fa.current&1|2),f.child}c=c.sibling}I.tail!==null&&Re()>Ax&&(f.flags|=128,_=!0,tw(I,!1),f.lanes=4194304)}else{if(!_)if(c=fg(P),c!==null){if(f.flags|=128,_=!0,c=c.updateQueue,f.updateQueue=c,Tx(f,c),tw(I,!0),I.tail===null&&I.tailMode==="hidden"&&!P.alternate&&!$r)return ta(f),null}else 2*Re()-I.renderingStartTime>Ax&&g!==536870912&&(f.flags|=128,_=!0,tw(I,!1),f.lanes=4194304);I.isBackwards?(P.sibling=f.child,f.child=P):(c=I.last,c!==null?c.sibling=P:f.child=P,I.last=P)}return I.tail!==null?(f=I.tail,I.rendering=f,I.tail=f.sibling,I.renderingStartTime=Re(),f.sibling=null,c=fa.current,Se(fa,_?c&1|2:c&1),f):(ta(f),null);case 22:case 23:return Fr(f),$v(),_=f.memoizedState!==null,c!==null?c.memoizedState!==null!==_&&(f.flags|=8192):_&&(f.flags|=8192),_?g&536870912&&!(f.flags&128)&&(ta(f),f.subtreeFlags&6&&(f.flags|=8192)):ta(f),g=f.updateQueue,g!==null&&Tx(f,g.retryQueue),g=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),_=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==g&&(f.flags|=2048),c!==null&&de(Ih),null;case 24:return g=null,c!==null&&(g=c.memoizedState.cache),f.memoizedState.cache!==g&&(f.flags|=2048),Dh(pa),ta(f),null;case 25:return null}throw Error(r(156,f.tag))}function s1e(c,f){switch(hp(f),f.tag){case 1:return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return Dh(pa),Un(),c=f.flags,c&65536&&!(c&128)?(f.flags=c&-65537|128,f):null;case 26:case 27:case 5:return tr(f),null;case 13:if(Fr(f),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Pa()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return de(fa),null;case 4:return Un(),null;case 10:return Dh(f.type),null;case 22:case 23:return Fr(f),$v(),c!==null&&de(Ih),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 24:return Dh(pa),null;case 25:return null;default:return null}}function kH(c,f){switch(hp(f),f.tag){case 3:Dh(pa),Un();break;case 26:case 27:case 5:tr(f);break;case 4:Un();break;case 13:Fr(f);break;case 19:de(fa);break;case 10:Dh(f.type);break;case 22:case 23:Fr(f),$v(),c!==null&&de(Ih);break;case 24:Dh(pa)}}var o1e={getCacheForType:function(c){var f=qs(pa),g=f.data.get(c);return g===void 0&&(g=c(),f.data.set(c,g)),g}},l1e=typeof WeakMap=="function"?WeakMap:Map,na=0,Mi=null,Ar=null,qr=0,Pi=0,Ol=null,zh=!1,ly=!1,W2=!1,$h=0,ga=0,Np=0,Eg=0,K2=0,vu=0,uy=0,nw=null,dd=null,Y2=!1,X2=0,Ax=1/0,Cx=null,Op=null,Rx=!1,kg=null,rw=0,Z2=0,Q2=null,iw=0,J2=null;function Ml(){if(na&2&&qr!==0)return qr&-qr;if(re.T!==null){var c=Rh;return c!==0?c:oI()}return ss()}function TH(){vu===0&&(vu=!(qr&536870912)||$r?on():536870912);var c=vo.current;return c!==null&&(c.flags|=32),vu}function wo(c,f,g){(c===Mi&&Pi===2||c.cancelPendingCommit!==null)&&(cy(c,0),qh(c,qr,vu,!1)),Ct(c,g),(!(na&2)||c!==Mi)&&(c===Mi&&(!(na&2)&&(Eg|=g),ga===4&&qh(c,qr,vu,!1)),hd(c))}function AH(c,f,g){if(na&6)throw Error(r(327));var _=!g&&(f&60)===0&&(f&c.expiredLanes)===0||Ft(c,f),I=_?d1e(c,f):rI(c,f,!0),P=_;do{if(I===0){ly&&!_&&qh(c,f,0,!1);break}else if(I===6)qh(c,f,0,!zh);else{if(g=c.current.alternate,P&&!u1e(g)){I=rI(c,f,!1),P=!1;continue}if(I===2){if(P=f,c.errorRecoveryDisabledLanes&P)var ne=0;else ne=c.pendingLanes&-536870913,ne=ne!==0?ne:ne&536870912?536870912:0;if(ne!==0){f=ne;e:{var we=c;I=nw;var Le=we.current.memoizedState.isDehydrated;if(Le&&(cy(we,ne).flags|=256),ne=rI(we,ne,!1),ne!==2){if(W2&&!Le){we.errorRecoveryDisabledLanes|=P,Eg|=P,I=4;break e}P=dd,dd=I,P!==null&&eI(P)}I=ne}if(P=!1,I!==2)continue}}if(I===1){cy(c,0),qh(c,f,0,!0);break}e:{switch(_=c,I){case 0:case 1:throw Error(r(345));case 4:if((f&4194176)===f){qh(_,f,vu,!zh);break e}break;case 2:dd=null;break;case 3:case 5:break;default:throw Error(r(329))}if(_.finishedWork=g,_.finishedLanes=f,(f&62914560)===f&&(P=X2+300-Re(),10<P)){if(qh(_,f,vu,!zh),In(_,0)!==0)break e;_.timeoutHandle=ZH(CH.bind(null,_,g,dd,Cx,Y2,f,vu,Eg,uy,zh,2,-0,0),P);break e}CH(_,g,dd,Cx,Y2,f,vu,Eg,uy,zh,0,-0,0)}}break}while(!0);hd(c)}function eI(c){dd===null?dd=c:dd.push.apply(dd,c)}function CH(c,f,g,_,I,P,ne,we,Le,rt,Ot,Bt,wt){var It=f.subtreeFlags;if((It&8192||(It&16785408)===16785408)&&(cw={stylesheets:null,count:0,unsuspend:H1e},bH(f),f=G1e(),f!==null)){c.cancelPendingCommit=f(LH.bind(null,c,g,_,I,ne,we,Le,1,Bt,wt)),qh(c,P,ne,!rt);return}LH(c,g,_,I,ne,we,Le,Ot,Bt,wt)}function u1e(c){for(var f=c;;){var g=f.tag;if((g===0||g===11||g===15)&&f.flags&16384&&(g=f.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var _=0;_<g.length;_++){var I=g[_],P=I.getSnapshot;I=I.value;try{if(!Oa(P(),I))return!1}catch{return!1}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function qh(c,f,g,_){f&=~K2,f&=~Eg,c.suspendedLanes|=f,c.pingedLanes&=~f,_&&(c.warmLanes|=f),_=c.expirationTimes;for(var I=f;0<I;){var P=31-Sn(I),ne=1<<P;_[P]=-1,I&=~ne}g!==0&&mn(c,g,f)}function Ix(){return na&6?!0:(aw(0),!1)}function tI(){if(Ar!==null){if(Pi===0)var c=Ar.return;else c=Ar,Lh=wg=null,oe(c),Ch=null,ld=0,c=Ar;for(;c!==null;)kH(c.alternate,c),c=c.return;Ar=null}}function cy(c,f){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;g!==-1&&(c.timeoutHandle=-1,C1e(g)),g=c.cancelPendingCommit,g!==null&&(c.cancelPendingCommit=null,g()),tI(),Mi=c,Ar=g=Ip(c.current,null),qr=f,Pi=0,Ol=null,zh=!1,ly=Ft(c,f),W2=!1,uy=vu=K2=Eg=Np=ga=0,dd=nw=null,Y2=!1,f&8&&(f|=f&32);var _=c.entangledLanes;if(_!==0)for(c=c.entanglements,_&=f;0<_;){var I=31-Sn(_),P=1<<I;f|=c[I],_&=~P}return $h=f,_a(),g}function RH(c,f){cr=null,re.H=cd,f===el?(f=Ah(),Pi=3):f===ux?(f=Ah(),Pi=4):Pi=f===$q?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Ol=f,Ar===null&&(ga=1,wx(c,fo(f,c.current)))}function IH(){var c=re.H;return re.H=cd,c===null?cd:c}function NH(){var c=re.A;return re.A=o1e,c}function nI(){ga=4,zh||(qr&4194176)!==qr&&vo.current!==null||(ly=!0),!(Np&134217727)&&!(Eg&134217727)||Mi===null||qh(Mi,qr,vu,!1)}function rI(c,f,g){var _=na;na|=2;var I=IH(),P=NH();(Mi!==c||qr!==f)&&(Cx=null,cy(c,f)),f=!1;var ne=ga;e:do try{if(Pi!==0&&Ar!==null){var we=Ar,Le=Ol;switch(Pi){case 8:tI(),ne=6;break e;case 3:case 2:case 6:vo.current===null&&(f=!0);var rt=Pi;if(Pi=0,Ol=null,dy(c,we,Le,rt),g&&ly){ne=0;break e}break;default:rt=Pi,Pi=0,Ol=null,dy(c,we,Le,rt)}}c1e(),ne=ga;break}catch(Ot){RH(c,Ot)}while(!0);return f&&c.shellSuspendCounter++,Lh=wg=null,na=_,re.H=I,re.A=P,Ar===null&&(Mi=null,qr=0,_a()),ne}function c1e(){for(;Ar!==null;)OH(Ar)}function d1e(c,f){var g=na;na|=2;var _=IH(),I=NH();Mi!==c||qr!==f?(Cx=null,Ax=Re()+500,cy(c,f)):ly=Ft(c,f);e:do try{if(Pi!==0&&Ar!==null){f=Ar;var P=Ol;t:switch(Pi){case 1:Pi=0,Ol=null,dy(c,f,P,1);break;case 2:if(od(P)){Pi=0,Ol=null,MH(f);break}f=function(){Pi===2&&Mi===c&&(Pi=7),hd(c)},P.then(f,f);break e;case 3:Pi=7;break e;case 4:Pi=5;break e;case 7:od(P)?(Pi=0,Ol=null,MH(f)):(Pi=0,Ol=null,dy(c,f,P,7));break;case 5:var ne=null;switch(Ar.tag){case 26:ne=Ar.memoizedState;case 5:case 27:var we=Ar;if(!ne||lV(ne)){Pi=0,Ol=null;var Le=we.sibling;if(Le!==null)Ar=Le;else{var rt=we.return;rt!==null?(Ar=rt,Nx(rt)):Ar=null}break t}}Pi=0,Ol=null,dy(c,f,P,5);break;case 6:Pi=0,Ol=null,dy(c,f,P,6);break;case 8:tI(),ga=6;break e;default:throw Error(r(462))}}h1e();break}catch(Ot){RH(c,Ot)}while(!0);return Lh=wg=null,re.H=_,re.A=I,na=g,Ar!==null?0:(Mi=null,qr=0,_a(),ga)}function h1e(){for(;Ar!==null&&!ee();)OH(Ar)}function OH(c){var f=eH(c.alternate,c,$h);c.memoizedProps=c.pendingProps,f===null?Nx(c):Ar=f}function MH(c){var f=c,g=f.alternate;switch(f.tag){case 15:case 0:f=Kq(g,f,f.pendingProps,f.type,void 0,qr);break;case 11:f=Kq(g,f,f.pendingProps,f.type.render,f.ref,qr);break;case 5:oe(f);default:kH(g,f),f=Ar=SH(f,$h),f=eH(g,f,$h)}c.memoizedProps=c.pendingProps,f===null?Nx(c):Ar=f}function dy(c,f,g,_){Lh=wg=null,oe(f),Ch=null,ld=0;var I=f.return;try{if(e1e(c,I,f,g,qr)){ga=1,wx(c,fo(g,c.current)),Ar=null;return}}catch(P){if(I!==null)throw Ar=I,P;ga=1,wx(c,fo(g,c.current)),Ar=null;return}f.flags&32768?($r||_===1?c=!0:ly||qr&536870912?c=!1:(zh=c=!0,(_===2||_===3||_===6)&&(_=vo.current,_!==null&&_.tag===13&&(_.flags|=16384))),PH(f,c)):Nx(f)}function Nx(c){var f=c;do{if(f.flags&32768){PH(f,zh);return}c=f.return;var g=a1e(f.alternate,f,$h);if(g!==null){Ar=g;return}if(f=f.sibling,f!==null){Ar=f;return}Ar=f=c}while(f!==null);ga===0&&(ga=5)}function PH(c,f){do{var g=s1e(c.alternate,c);if(g!==null){g.flags&=32767,Ar=g;return}if(g=c.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!f&&(c=c.sibling,c!==null)){Ar=c;return}Ar=c=g}while(c!==null);ga=6,Ar=null}function LH(c,f,g,_,I,P,ne,we,Le,rt){var Ot=re.T,Bt=He.p;try{He.p=2,re.T=null,f1e(c,f,g,_,Bt,I,P,ne,we,Le,rt)}finally{re.T=Ot,He.p=Bt}}function f1e(c,f,g,_,I,P,ne,we){do hy();while(kg!==null);if(na&6)throw Error(r(327));var Le=c.finishedWork;if(_=c.finishedLanes,Le===null)return null;if(c.finishedWork=null,c.finishedLanes=0,Le===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0,c.cancelPendingCommit=null;var rt=Le.lanes|Le.childLanes;if(rt|=On,ji(c,_,rt,P,ne,we),c===Mi&&(Ar=Mi=null,qr=0),!(Le.subtreeFlags&10256)&&!(Le.flags&10256)||Rx||(Rx=!0,Z2=rt,Q2=g,y1e(B,function(){return hy(),null})),g=(Le.flags&15990)!==0,Le.subtreeFlags&15990||g?(g=re.T,re.T=null,P=He.p,He.p=2,ne=na,na|=4,n1e(c,Le),mH(Le,c),Ae(mI,c.containerInfo),qx=!!pI,mI=pI=null,c.current=Le,dH(c,Le.alternate,Le),te(),na=ne,He.p=P,re.T=g):c.current=Le,Rx?(Rx=!1,kg=c,rw=_):DH(c,rt),rt=c.pendingLanes,rt===0&&(Op=null),xn(Le.stateNode),hd(c),f!==null)for(I=c.onRecoverableError,Le=0;Le<f.length;Le++)rt=f[Le],I(rt.value,{componentStack:rt.stack});return rw&3&&hy(),rt=c.pendingLanes,_&4194218&&rt&42?c===J2?iw++:(iw=0,J2=c):iw=0,aw(0),null}function DH(c,f){(c.pooledCacheLanes&=f)===0&&(f=c.pooledCache,f!=null&&(c.pooledCache=null,gp(f)))}function hy(){if(kg!==null){var c=kg,f=Z2;Z2=0;var g=Ra(rw),_=re.T,I=He.p;try{if(He.p=32>g?32:g,re.T=null,kg===null)var P=!1;else{g=Q2,Q2=null;var ne=kg,we=rw;if(kg=null,rw=0,na&6)throw Error(r(331));var Le=na;if(na|=4,wH(ne.current),yH(ne,ne.current,we,g),na=Le,aw(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(gt,ne)}catch{}P=!0}return P}finally{He.p=I,re.T=_,DH(c,f)}}return!1}function FH(c,f,g){f=fo(g,f),f=_2(c.stateNode,f,2),c=Tp(c,f,2),c!==null&&(Ct(c,2),hd(c))}function Ti(c,f,g){if(c.tag===3)FH(c,c,g);else for(;f!==null;){if(f.tag===3){FH(f,c,g);break}else if(f.tag===1){var _=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Op===null||!Op.has(_))){c=fo(g,c),g=jq(2),_=Tp(f,g,2),_!==null&&(zq(g,_,f,c),Ct(_,2),hd(_));break}}f=f.return}}function iI(c,f,g){var _=c.pingCache;if(_===null){_=c.pingCache=new l1e;var I=new Set;_.set(f,I)}else I=_.get(f),I===void 0&&(I=new Set,_.set(f,I));I.has(g)||(W2=!0,I.add(g),c=p1e.bind(null,c,f,g),f.then(c,c))}function p1e(c,f,g){var _=c.pingCache;_!==null&&_.delete(f),c.pingedLanes|=c.suspendedLanes&g,c.warmLanes&=~g,Mi===c&&(qr&g)===g&&(ga===4||ga===3&&(qr&62914560)===qr&&300>Re()-X2?!(na&2)&&cy(c,0):K2|=g,uy===qr&&(uy=0)),hd(c)}function BH(c,f){f===0&&(f=qn()),c=zn(c,f),c!==null&&(Ct(c,f),hd(c))}function m1e(c){var f=c.memoizedState,g=0;f!==null&&(g=f.retryLane),BH(c,g)}function g1e(c,f){var g=0;switch(c.tag){case 13:var _=c.stateNode,I=c.memoizedState;I!==null&&(g=I.retryLane);break;case 19:_=c.stateNode;break;case 22:_=c.stateNode._retryCache;break;default:throw Error(r(314))}_!==null&&_.delete(f),BH(c,g)}function y1e(c,f){return Dr(c,f)}var Ox=null,fy=null,aI=!1,Mx=!1,sI=!1,Tg=0;function hd(c){c!==fy&&c.next===null&&(fy===null?Ox=fy=c:fy=fy.next=c),Mx=!0,aI||(aI=!0,v1e(b1e))}function aw(c,f){if(!sI&&Mx){sI=!0;do for(var g=!1,_=Ox;_!==null;){if(c!==0){var I=_.pendingLanes;if(I===0)var P=0;else{var ne=_.suspendedLanes,we=_.pingedLanes;P=(1<<31-Sn(42|c)+1)-1,P&=I&~(ne&~we),P=P&201326677?P&201326677|1:P?P|2:0}P!==0&&(g=!0,zH(_,P))}else P=qr,P=In(_,_===Mi?P:0),!(P&3)||Ft(_,P)||(g=!0,zH(_,P));_=_.next}while(g);sI=!1}}function b1e(){Mx=aI=!1;var c=0;Tg!==0&&(A1e()&&(c=Tg),Tg=0);for(var f=Re(),g=null,_=Ox;_!==null;){var I=_.next,P=UH(_,f);P===0?(_.next=null,g===null?Ox=I:g.next=I,I===null&&(fy=g)):(g=_,(c!==0||P&3)&&(Mx=!0)),_=I}aw(c)}function UH(c,f){for(var g=c.suspendedLanes,_=c.pingedLanes,I=c.expirationTimes,P=c.pendingLanes&-62914561;0<P;){var ne=31-Sn(P),we=1<<ne,Le=I[ne];Le===-1?(!(we&g)||we&_)&&(I[ne]=Ir(we,f)):Le<=f&&(c.expiredLanes|=we),P&=~we}if(f=Mi,g=qr,g=In(c,c===f?g:0),_=c.callbackNode,g===0||c===f&&Pi===2||c.cancelPendingCommit!==null)return _!==null&&_!==null&&Ee(_),c.callbackNode=null,c.callbackPriority=0;if(!(g&3)||Ft(c,g)){if(f=g&-g,f===c.callbackPriority)return f;switch(_!==null&&Ee(_),Ra(g)){case 2:case 8:g=K;break;case 32:g=B;break;case 268435456:g=be;break;default:g=B}return _=jH.bind(null,c),g=Dr(g,_),c.callbackPriority=f,c.callbackNode=g,f}return _!==null&&_!==null&&Ee(_),c.callbackPriority=2,c.callbackNode=null,2}function jH(c,f){var g=c.callbackNode;if(hy()&&c.callbackNode!==g)return null;var _=qr;return _=In(c,c===Mi?_:0),_===0?null:(AH(c,_,f),UH(c,Re()),c.callbackNode!=null&&c.callbackNode===g?jH.bind(null,c):null)}function zH(c,f){if(hy())return null;AH(c,f,!0)}function v1e(c){R1e(function(){na&6?Dr(Oe,c):c()})}function oI(){return Tg===0&&(Tg=on()),Tg}function $H(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:Us(""+c)}function qH(c,f){var g=f.ownerDocument.createElement("input");return g.name=f.name,g.value=f.value,c.id&&g.setAttribute("form",c.id),f.parentNode.insertBefore(g,f),c=new FormData(c),g.parentNode.removeChild(g),c}function w1e(c,f,g,_,I){if(f==="submit"&&g&&g.stateNode===I){var P=$H((I[vr]||null).action),ne=_.submitter;ne&&(f=(f=ne[vr]||null)?$H(f.formAction):ne.getAttribute("formAction"),f!==null&&(P=f,ne=null));var we=new Xf("action","action",null,_,I);c.push({event:we,listeners:[{instance:null,listener:function(){if(_.defaultPrevented){if(Tg!==0){var Le=ne?qH(I,ne):new FormData(I);g2(g,{pending:!0,data:Le,method:I.method,action:P},null,Le)}}else typeof P=="function"&&(we.preventDefault(),Le=ne?qH(I,ne):new FormData(I),g2(g,{pending:!0,data:Le,method:I.method,action:P},P,Le))},currentTarget:I}]})}}for(var lI=0;lI<Xt.length;lI++){var uI=Xt[lI],_1e=uI.toLowerCase(),S1e=uI[0].toUpperCase()+uI.slice(1);Rt(_1e,"on"+S1e)}Rt(bt,"onAnimationEnd"),Rt(mt,"onAnimationIteration"),Rt(Tt,"onAnimationStart"),Rt("dblclick","onDoubleClick"),Rt("focusin","onFocus"),Rt("focusout","onBlur"),Rt(zt,"onTransitionRun"),Rt(en,"onTransitionStart"),Rt($t,"onTransitionCancel"),Rt(Kt,"onTransitionEnd"),au("onMouseEnter",["mouseout","mouseover"]),au("onMouseLeave",["mouseout","mouseover"]),au("onPointerEnter",["pointerout","pointerover"]),au("onPointerLeave",["pointerout","pointerover"]),Ko("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ko("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ko("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ko("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ko("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ko("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sw="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x1e=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sw));function HH(c,f){f=(f&4)!==0;for(var g=0;g<c.length;g++){var _=c[g],I=_.event;_=_.listeners;e:{var P=void 0;if(f)for(var ne=_.length-1;0<=ne;ne--){var we=_[ne],Le=we.instance,rt=we.currentTarget;if(we=we.listener,Le!==P&&I.isPropagationStopped())break e;P=we,I.currentTarget=rt;try{P(I)}catch(Ot){vx(Ot)}I.currentTarget=null,P=Le}else for(ne=0;ne<_.length;ne++){if(we=_[ne],Le=we.instance,rt=we.currentTarget,we=we.listener,Le!==P&&I.isPropagationStopped())break e;P=we,I.currentTarget=rt;try{P(I)}catch(Ot){vx(Ot)}I.currentTarget=null,P=Le}}}}function Br(c,f){var g=f[Ha];g===void 0&&(g=f[Ha]=new Set);var _=c+"__bubble";g.has(_)||(VH(f,c,2,!1),g.add(_))}function cI(c,f,g){var _=0;f&&(_|=4),VH(g,c,_,f)}var Px="_reactListening"+Math.random().toString(36).slice(2);function dI(c){if(!c[Px]){c[Px]=!0,qf.forEach(function(g){g!=="selectionchange"&&(x1e.has(g)||cI(g,!1,c),cI(g,!0,c))});var f=c.nodeType===9?c:c.ownerDocument;f===null||f[Px]||(f[Px]=!0,cI("selectionchange",!1,f))}}function VH(c,f,g,_){switch(pV(f)){case 2:var I=Y1e;break;case 8:I=X1e;break;default:I=EI}g=I.bind(null,f,g,c),I=void 0,!ag||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(I=!0),_?I!==void 0?c.addEventListener(f,g,{capture:!0,passive:I}):c.addEventListener(f,g,!0):I!==void 0?c.addEventListener(f,g,{passive:I}):c.addEventListener(f,g,!1)}function hI(c,f,g,_,I){var P=_;if(!(f&1)&&!(f&2)&&_!==null)e:for(;;){if(_===null)return;var ne=_.tag;if(ne===3||ne===4){var we=_.stateNode.containerInfo;if(we===I||we.nodeType===8&&we.parentNode===I)break;if(ne===4)for(ne=_.return;ne!==null;){var Le=ne.tag;if((Le===3||Le===4)&&(Le=ne.stateNode.containerInfo,Le===I||Le.nodeType===8&&Le.parentNode===I))return;ne=ne.return}for(;we!==null;){if(ne=Zi(we),ne===null)return;if(Le=ne.tag,Le===5||Le===6||Le===26||Le===27){_=P=ne;continue e}we=we.parentNode}}_=_.return}Kf(function(){var rt=P,Ot=Wf(g),Bt=[];e:{var wt=tn.get(c);if(wt!==void 0){var It=Xf,Tn=c;switch(c){case"keypress":if(rd(g)===0)break e;case"keydown":case"keyup":It=bh;break;case"focusin":Tn="focus",It=ad;break;case"focusout":Tn="blur",It=ad;break;case"beforeblur":case"afterblur":It=ad;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":It=Jf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":It=q0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":It=Na;break;case bt:case mt:case Tt:It=H0;break;case Kt:It=sg;break;case"scroll":case"scrollend":It=ph;break;case"wheel":It=op;break;case"copy":case"cut":case"paste":It=np;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":It=sp;break;case"toggle":case"beforetoggle":It=W0}var rr=(f&4)!==0,ya=!rr&&(c==="scroll"||c==="scrollend"),lt=rr?wt!==null?wt+"Capture":null:wt;rr=[];for(var et=rt,ft;et!==null;){var Lt=et;if(ft=Lt.stateNode,Lt=Lt.tag,Lt!==5&&Lt!==26&&Lt!==27||ft===null||lt===null||(Lt=js(et,lt),Lt!=null&&rr.push(ow(et,Lt,ft))),ya)break;et=et.return}0<rr.length&&(wt=new It(wt,Tn,null,g,Ot),Bt.push({event:wt,listeners:rr}))}}if(!(f&7)){e:{if(wt=c==="mouseover"||c==="pointerover",It=c==="mouseout"||c==="pointerout",wt&&g!==hh&&(Tn=g.relatedTarget||g.fromElement)&&(Zi(Tn)||Tn[Zr]))break e;if((It||wt)&&(wt=Ot.window===Ot?Ot:(wt=Ot.ownerDocument)?wt.defaultView||wt.parentWindow:window,It?(Tn=g.relatedTarget||g.toElement,It=rt,Tn=Tn?Zi(Tn):null,Tn!==null&&(ya=Te(Tn),rr=Tn.tag,Tn!==ya||rr!==5&&rr!==27&&rr!==6)&&(Tn=null)):(It=null,Tn=rt),It!==Tn)){if(rr=Jf,Lt="onMouseLeave",lt="onMouseEnter",et="mouse",(c==="pointerout"||c==="pointerover")&&(rr=sp,Lt="onPointerLeave",lt="onPointerEnter",et="pointer"),ya=It==null?wt:ui(It),ft=Tn==null?wt:ui(Tn),wt=new rr(Lt,et+"leave",It,g,Ot),wt.target=ya,wt.relatedTarget=ft,Lt=null,Zi(Ot)===rt&&(rr=new rr(lt,et+"enter",Tn,g,Ot),rr.target=ft,rr.relatedTarget=ya,Lt=rr),ya=Lt,It&&Tn)t:{for(rr=It,lt=Tn,et=0,ft=rr;ft;ft=py(ft))et++;for(ft=0,Lt=lt;Lt;Lt=py(Lt))ft++;for(;0<et-ft;)rr=py(rr),et--;for(;0<ft-et;)lt=py(lt),ft--;for(;et--;){if(rr===lt||lt!==null&&rr===lt.alternate)break t;rr=py(rr),lt=py(lt)}rr=null}else rr=null;It!==null&&GH(Bt,wt,It,rr,!1),Tn!==null&&ya!==null&&GH(Bt,ya,Tn,rr,!0)}}e:{if(wt=rt?ui(rt):window,It=wt.nodeName&&wt.nodeName.toLowerCase(),It==="select"||It==="input"&&wt.type==="file")var bn=ic;else if(dp(wt))if(ho)bn=$s;else{bn=cu;var xr=ug}else It=wt.nodeName,!It||It.toLowerCase()!=="input"||wt.type!=="checkbox"&&wt.type!=="radio"?rt&&ir(rt.elementType)&&(bn=ic):bn=cg;if(bn&&(bn=bn(c,rt))){zs(Bt,bn,g,Ot);break e}xr&&xr(c,wt,rt),c==="focusout"&&rt&&wt.type==="number"&&rt.memoizedProps.value!=null&&Vf(wt,"number",wt.value)}switch(xr=rt?ui(rt):window,c){case"focusin":(dp(xr)||xr.contentEditable==="true")&&(Ve=xr,Ye=rt,Je=null);break;case"focusout":Je=Ye=Ve=null;break;case"mousedown":$e=!0;break;case"contextmenu":case"mouseup":case"dragend":$e=!1,ot(Bt,g,Ot);break;case"selectionchange":if(Fe)break;case"keydown":case"keyup":ot(Bt,g,Ot)}var Pn;if(ri)e:{switch(c){case"compositionstart":var $n="onCompositionStart";break e;case"compositionend":$n="onCompositionEnd";break e;case"compositionupdate":$n="onCompositionUpdate";break e}$n=void 0}else ii?cp(c,g)&&($n="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&($n="onCompositionStart");$n&&(El&&g.locale!=="ko"&&(ii||$n!=="onCompositionStart"?$n==="onCompositionEnd"&&ii&&(Pn=nd()):(Zo=Ot,Yf="value"in Zo?Zo.value:Zo.textContent,ii=!0)),xr=Lx(rt,$n),0<xr.length&&($n=new gh($n,c,null,g,Ot),Bt.push({event:$n,listeners:xr}),Pn?$n.data=Pn:(Pn=wh(g),Pn!==null&&($n.data=Pn)))),(Pn=up?Y0(c,g):lg(c,g))&&($n=Lx(rt,"onBeforeInput"),0<$n.length&&(xr=new gh("onBeforeInput","beforeinput",null,g,Ot),Bt.push({event:xr,listeners:$n}),xr.data=Pn)),w1e(Bt,c,rt,g,Ot)}HH(Bt,f)})}function ow(c,f,g){return{instance:c,listener:f,currentTarget:g}}function Lx(c,f){for(var g=f+"Capture",_=[];c!==null;){var I=c,P=I.stateNode;I=I.tag,I!==5&&I!==26&&I!==27||P===null||(I=js(c,g),I!=null&&_.unshift(ow(c,I,P)),I=js(c,f),I!=null&&_.push(ow(c,I,P))),c=c.return}return _}function py(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function GH(c,f,g,_,I){for(var P=f._reactName,ne=[];g!==null&&g!==_;){var we=g,Le=we.alternate,rt=we.stateNode;if(we=we.tag,Le!==null&&Le===_)break;we!==5&&we!==26&&we!==27||rt===null||(Le=rt,I?(rt=js(g,P),rt!=null&&ne.unshift(ow(g,rt,Le))):I||(rt=js(g,P),rt!=null&&ne.push(ow(g,rt,Le)))),g=g.return}ne.length!==0&&c.push({event:f,listeners:ne})}var E1e=/\r\n?/g,k1e=/\u0000|\uFFFD/g;function WH(c){return(typeof c=="string"?c:""+c).replace(E1e,`
`).replace(k1e,"")}function KH(c,f){return f=WH(f),WH(c)===f}function Dx(){}function xi(c,f,g,_,I,P){switch(g){case"children":typeof _=="string"?f==="body"||f==="textarea"&&_===""||ur(c,_):(typeof _=="number"||typeof _=="bigint")&&f!=="body"&&ur(c,""+_);break;case"className":uh(c,"class",_);break;case"tabIndex":uh(c,"tabindex",_);break;case"dir":case"role":case"viewBox":case"width":case"height":uh(c,g,_);break;case"style":z0(c,_,P);break;case"data":if(f!=="object"){uh(c,"data",_);break}case"src":case"href":if(_===""&&(f!=="a"||g!=="href")){c.removeAttribute(g);break}if(_==null||typeof _=="function"||typeof _=="symbol"||typeof _=="boolean"){c.removeAttribute(g);break}_=Us(""+_),c.setAttribute(g,_);break;case"action":case"formAction":if(typeof _=="function"){c.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(g==="formAction"?(f!=="input"&&xi(c,f,"name",I.name,I,null),xi(c,f,"formEncType",I.formEncType,I,null),xi(c,f,"formMethod",I.formMethod,I,null),xi(c,f,"formTarget",I.formTarget,I,null)):(xi(c,f,"encType",I.encType,I,null),xi(c,f,"method",I.method,I,null),xi(c,f,"target",I.target,I,null)));if(_==null||typeof _=="symbol"||typeof _=="boolean"){c.removeAttribute(g);break}_=Us(""+_),c.setAttribute(g,_);break;case"onClick":_!=null&&(c.onclick=Dx);break;case"onScroll":_!=null&&Br("scroll",c);break;case"onScrollEnd":_!=null&&Br("scrollend",c);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(r(61));if(g=_.__html,g!=null){if(I.children!=null)throw Error(r(60));c.innerHTML=g}}break;case"multiple":c.multiple=_&&typeof _!="function"&&typeof _!="symbol";break;case"muted":c.muted=_&&typeof _!="function"&&typeof _!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(_==null||typeof _=="function"||typeof _=="boolean"||typeof _=="symbol"){c.removeAttribute("xlink:href");break}g=Us(""+_),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":_!=null&&typeof _!="function"&&typeof _!="symbol"?c.setAttribute(g,""+_):c.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":_&&typeof _!="function"&&typeof _!="symbol"?c.setAttribute(g,""):c.removeAttribute(g);break;case"capture":case"download":_===!0?c.setAttribute(g,""):_!==!1&&_!=null&&typeof _!="function"&&typeof _!="symbol"?c.setAttribute(g,_):c.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":_!=null&&typeof _!="function"&&typeof _!="symbol"&&!isNaN(_)&&1<=_?c.setAttribute(g,_):c.removeAttribute(g);break;case"rowSpan":case"start":_==null||typeof _=="function"||typeof _=="symbol"||isNaN(_)?c.removeAttribute(g):c.setAttribute(g,_);break;case"popover":Br("beforetoggle",c),Br("toggle",c),ar(c,"popover",_);break;case"xlinkActuate":Yo(c,"http://www.w3.org/1999/xlink","xlink:actuate",_);break;case"xlinkArcrole":Yo(c,"http://www.w3.org/1999/xlink","xlink:arcrole",_);break;case"xlinkRole":Yo(c,"http://www.w3.org/1999/xlink","xlink:role",_);break;case"xlinkShow":Yo(c,"http://www.w3.org/1999/xlink","xlink:show",_);break;case"xlinkTitle":Yo(c,"http://www.w3.org/1999/xlink","xlink:title",_);break;case"xlinkType":Yo(c,"http://www.w3.org/1999/xlink","xlink:type",_);break;case"xmlBase":Yo(c,"http://www.w3.org/XML/1998/namespace","xml:base",_);break;case"xmlLang":Yo(c,"http://www.w3.org/XML/1998/namespace","xml:lang",_);break;case"xmlSpace":Yo(c,"http://www.w3.org/XML/1998/namespace","xml:space",_);break;case"is":ar(c,"is",_);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=ed.get(g)||g,ar(c,g,_))}}function fI(c,f,g,_,I,P){switch(g){case"style":z0(c,_,P);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(r(61));if(g=_.__html,g!=null){if(I.children!=null)throw Error(r(60));c.innerHTML=g}}break;case"children":typeof _=="string"?ur(c,_):(typeof _=="number"||typeof _=="bigint")&&ur(c,""+_);break;case"onScroll":_!=null&&Br("scroll",c);break;case"onScrollEnd":_!=null&&Br("scrollend",c);break;case"onClick":_!=null&&(c.onclick=Dx);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ku.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(I=g.endsWith("Capture"),f=g.slice(2,I?g.length-7:void 0),P=c[vr]||null,P=P!=null?P[g]:null,typeof P=="function"&&c.removeEventListener(f,P,I),typeof _=="function")){typeof P!="function"&&P!==null&&(g in c?c[g]=null:c.hasAttribute(g)&&c.removeAttribute(g)),c.addEventListener(f,_,I);break e}g in c?c[g]=_:_===!0?c.setAttribute(g,""):ar(c,g,_)}}}function Is(c,f,g){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Br("error",c),Br("load",c);var _=!1,I=!1,P;for(P in g)if(g.hasOwnProperty(P)){var ne=g[P];if(ne!=null)switch(P){case"src":_=!0;break;case"srcSet":I=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:xi(c,f,P,ne,g,null)}}I&&xi(c,f,"srcSet",g.srcSet,g,null),_&&xi(c,f,"src",g.src,g,null);return;case"input":Br("invalid",c);var we=P=ne=I=null,Le=null,rt=null;for(_ in g)if(g.hasOwnProperty(_)){var Ot=g[_];if(Ot!=null)switch(_){case"name":I=Ot;break;case"type":ne=Ot;break;case"checked":Le=Ot;break;case"defaultChecked":rt=Ot;break;case"value":P=Ot;break;case"defaultValue":we=Ot;break;case"children":case"dangerouslySetInnerHTML":if(Ot!=null)throw Error(r(137,f));break;default:xi(c,f,_,Ot,g,null)}}dh(c,P,we,Le,rt,ne,I,!1),su(c);return;case"select":Br("invalid",c),_=ne=P=null;for(I in g)if(g.hasOwnProperty(I)&&(we=g[I],we!=null))switch(I){case"value":P=we;break;case"defaultValue":ne=we;break;case"multiple":_=we;default:xi(c,f,I,we,g,null)}f=P,g=ne,c.multiple=!!_,f!=null?Xo(c,!!_,f,!1):g!=null&&Xo(c,!!_,g,!0);return;case"textarea":Br("invalid",c),P=I=_=null;for(ne in g)if(g.hasOwnProperty(ne)&&(we=g[ne],we!=null))switch(ne){case"value":_=we;break;case"defaultValue":I=we;break;case"children":P=we;break;case"dangerouslySetInnerHTML":if(we!=null)throw Error(r(91));break;default:xi(c,f,ne,we,g,null)}U0(c,_,I,P),su(c);return;case"option":for(Le in g)if(g.hasOwnProperty(Le)&&(_=g[Le],_!=null))switch(Le){case"selected":c.selected=_&&typeof _!="function"&&typeof _!="symbol";break;default:xi(c,f,Le,_,g,null)}return;case"dialog":Br("cancel",c),Br("close",c);break;case"iframe":case"object":Br("load",c);break;case"video":case"audio":for(_=0;_<sw.length;_++)Br(sw[_],c);break;case"image":Br("error",c),Br("load",c);break;case"details":Br("toggle",c);break;case"embed":case"source":case"link":Br("error",c),Br("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(rt in g)if(g.hasOwnProperty(rt)&&(_=g[rt],_!=null))switch(rt){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:xi(c,f,rt,_,g,null)}return;default:if(ir(f)){for(Ot in g)g.hasOwnProperty(Ot)&&(_=g[Ot],_!==void 0&&fI(c,f,Ot,_,g,void 0));return}}for(we in g)g.hasOwnProperty(we)&&(_=g[we],_!=null&&xi(c,f,we,_,g,null))}function T1e(c,f,g,_){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var I=null,P=null,ne=null,we=null,Le=null,rt=null,Ot=null;for(It in g){var Bt=g[It];if(g.hasOwnProperty(It)&&Bt!=null)switch(It){case"checked":break;case"value":break;case"defaultValue":Le=Bt;default:_.hasOwnProperty(It)||xi(c,f,It,null,_,Bt)}}for(var wt in _){var It=_[wt];if(Bt=g[wt],_.hasOwnProperty(wt)&&(It!=null||Bt!=null))switch(wt){case"type":P=It;break;case"name":I=It;break;case"checked":rt=It;break;case"defaultChecked":Ot=It;break;case"value":ne=It;break;case"defaultValue":we=It;break;case"children":case"dangerouslySetInnerHTML":if(It!=null)throw Error(r(137,f));break;default:It!==Bt&&xi(c,f,wt,It,_,Bt)}}Hf(c,ne,we,Le,rt,Ot,P,I);return;case"select":It=ne=we=wt=null;for(P in g)if(Le=g[P],g.hasOwnProperty(P)&&Le!=null)switch(P){case"value":break;case"multiple":It=Le;default:_.hasOwnProperty(P)||xi(c,f,P,null,_,Le)}for(I in _)if(P=_[I],Le=g[I],_.hasOwnProperty(I)&&(P!=null||Le!=null))switch(I){case"value":wt=P;break;case"defaultValue":we=P;break;case"multiple":ne=P;default:P!==Le&&xi(c,f,I,P,_,Le)}f=we,g=ne,_=It,wt!=null?Xo(c,!!g,wt,!1):!!_!=!!g&&(f!=null?Xo(c,!!g,f,!0):Xo(c,!!g,g?[]:"",!1));return;case"textarea":It=wt=null;for(we in g)if(I=g[we],g.hasOwnProperty(we)&&I!=null&&!_.hasOwnProperty(we))switch(we){case"value":break;case"children":break;default:xi(c,f,we,null,_,I)}for(ne in _)if(I=_[ne],P=g[ne],_.hasOwnProperty(ne)&&(I!=null||P!=null))switch(ne){case"value":wt=I;break;case"defaultValue":It=I;break;case"children":break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:I!==P&&xi(c,f,ne,I,_,P)}rg(c,wt,It);return;case"option":for(var Tn in g)if(wt=g[Tn],g.hasOwnProperty(Tn)&&wt!=null&&!_.hasOwnProperty(Tn))switch(Tn){case"selected":c.selected=!1;break;default:xi(c,f,Tn,null,_,wt)}for(Le in _)if(wt=_[Le],It=g[Le],_.hasOwnProperty(Le)&&wt!==It&&(wt!=null||It!=null))switch(Le){case"selected":c.selected=wt&&typeof wt!="function"&&typeof wt!="symbol";break;default:xi(c,f,Le,wt,_,It)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rr in g)wt=g[rr],g.hasOwnProperty(rr)&&wt!=null&&!_.hasOwnProperty(rr)&&xi(c,f,rr,null,_,wt);for(rt in _)if(wt=_[rt],It=g[rt],_.hasOwnProperty(rt)&&wt!==It&&(wt!=null||It!=null))switch(rt){case"children":case"dangerouslySetInnerHTML":if(wt!=null)throw Error(r(137,f));break;default:xi(c,f,rt,wt,_,It)}return;default:if(ir(f)){for(var ya in g)wt=g[ya],g.hasOwnProperty(ya)&&wt!==void 0&&!_.hasOwnProperty(ya)&&fI(c,f,ya,void 0,_,wt);for(Ot in _)wt=_[Ot],It=g[Ot],!_.hasOwnProperty(Ot)||wt===It||wt===void 0&&It===void 0||fI(c,f,Ot,wt,_,It);return}}for(var lt in g)wt=g[lt],g.hasOwnProperty(lt)&&wt!=null&&!_.hasOwnProperty(lt)&&xi(c,f,lt,null,_,wt);for(Bt in _)wt=_[Bt],It=g[Bt],!_.hasOwnProperty(Bt)||wt===It||wt==null&&It==null||xi(c,f,Bt,wt,_,It)}var pI=null,mI=null;function Fx(c){return c.nodeType===9?c:c.ownerDocument}function YH(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function XH(c,f){if(c===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&f==="foreignObject"?0:c}function gI(c,f){return c==="textarea"||c==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var yI=null;function A1e(){var c=window.event;return c&&c.type==="popstate"?c===yI?!1:(yI=c,!0):(yI=null,!1)}var ZH=typeof setTimeout=="function"?setTimeout:void 0,C1e=typeof clearTimeout=="function"?clearTimeout:void 0,QH=typeof Promise=="function"?Promise:void 0,R1e=typeof queueMicrotask=="function"?queueMicrotask:typeof QH<"u"?function(c){return QH.resolve(null).then(c).catch(I1e)}:ZH;function I1e(c){setTimeout(function(){throw c})}function bI(c,f){var g=f,_=0;do{var I=g.nextSibling;if(c.removeChild(g),I&&I.nodeType===8)if(g=I.data,g==="/$"){if(_===0){c.removeChild(I),mw(f);return}_--}else g!=="$"&&g!=="$?"&&g!=="$!"||_++;g=I}while(g);mw(f)}function vI(c){var f=c.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var g=f;switch(f=f.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":vI(g),Xi(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}c.removeChild(g)}}function N1e(c,f,g,_){for(;c.nodeType===1;){var I=g;if(c.nodeName.toLowerCase()!==f.toLowerCase()){if(!_&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(_){if(!c[_i])switch(f){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(P=c.getAttribute("rel"),P==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(P!==I.rel||c.getAttribute("href")!==(I.href==null?null:I.href)||c.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin)||c.getAttribute("title")!==(I.title==null?null:I.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(P=c.getAttribute("src"),(P!==(I.src==null?null:I.src)||c.getAttribute("type")!==(I.type==null?null:I.type)||c.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin))&&P&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(f==="input"&&c.type==="hidden"){var P=I.name==null?null:""+I.name;if(I.type==="hidden"&&c.getAttribute("name")===P)return c}else return c;if(c=cc(c.nextSibling),c===null)break}return null}function O1e(c,f,g){if(f==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!g||(c=cc(c.nextSibling),c===null))return null;return c}function cc(c){for(;c!=null;c=c.nextSibling){var f=c.nodeType;if(f===1||f===3)break;if(f===8){if(f=c.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return c}function JH(c){c=c.previousSibling;for(var f=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"){if(f===0)return c;f--}else g==="/$"&&f++}c=c.previousSibling}return null}function eV(c,f,g){switch(f=Fx(g),c){case"html":if(c=f.documentElement,!c)throw Error(r(452));return c;case"head":if(c=f.head,!c)throw Error(r(453));return c;case"body":if(c=f.body,!c)throw Error(r(454));return c;default:throw Error(r(451))}}var wu=new Map,tV=new Set;function Bx(c){return typeof c.getRootNode=="function"?c.getRootNode():c.ownerDocument}var Hh=He.d;He.d={f:M1e,r:P1e,D:L1e,C:D1e,L:F1e,m:B1e,X:j1e,S:U1e,M:z1e};function M1e(){var c=Hh.f(),f=Ix();return c||f}function P1e(c){var f=lo(c);f!==null&&f.tag===5&&f.type==="form"?Cq(f):Hh.r(c)}var my=typeof document>"u"?null:document;function nV(c,f,g){var _=my;if(_&&typeof f=="string"&&f){var I=Va(f);I='link[rel="'+c+'"][href="'+I+'"]',typeof g=="string"&&(I+='[crossorigin="'+g+'"]'),tV.has(I)||(tV.add(I),c={rel:c,crossOrigin:g,href:f},_.querySelector(I)===null&&(f=_.createElement("link"),Is(f,"link",c),ci(f),_.head.appendChild(f)))}}function L1e(c){Hh.D(c),nV("dns-prefetch",c,null)}function D1e(c,f){Hh.C(c,f),nV("preconnect",c,f)}function F1e(c,f,g){Hh.L(c,f,g);var _=my;if(_&&c&&f){var I='link[rel="preload"][as="'+Va(f)+'"]';f==="image"&&g&&g.imageSrcSet?(I+='[imagesrcset="'+Va(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(I+='[imagesizes="'+Va(g.imageSizes)+'"]')):I+='[href="'+Va(c)+'"]';var P=I;switch(f){case"style":P=gy(c);break;case"script":P=yy(c)}wu.has(P)||(c=Q({rel:"preload",href:f==="image"&&g&&g.imageSrcSet?void 0:c,as:f},g),wu.set(P,c),_.querySelector(I)!==null||f==="style"&&_.querySelector(lw(P))||f==="script"&&_.querySelector(uw(P))||(f=_.createElement("link"),Is(f,"link",c),ci(f),_.head.appendChild(f)))}}function B1e(c,f){Hh.m(c,f);var g=my;if(g&&c){var _=f&&typeof f.as=="string"?f.as:"script",I='link[rel="modulepreload"][as="'+Va(_)+'"][href="'+Va(c)+'"]',P=I;switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=yy(c)}if(!wu.has(P)&&(c=Q({rel:"modulepreload",href:c},f),wu.set(P,c),g.querySelector(I)===null)){switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(uw(P)))return}_=g.createElement("link"),Is(_,"link",c),ci(_),g.head.appendChild(_)}}}function U1e(c,f,g){Hh.S(c,f,g);var _=my;if(_&&c){var I=Es(_).hoistableStyles,P=gy(c);f=f||"default";var ne=I.get(P);if(!ne){var we={loading:0,preload:null};if(ne=_.querySelector(lw(P)))we.loading=5;else{c=Q({rel:"stylesheet",href:c,"data-precedence":f},g),(g=wu.get(P))&&wI(c,g);var Le=ne=_.createElement("link");ci(Le),Is(Le,"link",c),Le._p=new Promise(function(rt,Ot){Le.onload=rt,Le.onerror=Ot}),Le.addEventListener("load",function(){we.loading|=1}),Le.addEventListener("error",function(){we.loading|=2}),we.loading|=4,Ux(ne,f,_)}ne={type:"stylesheet",instance:ne,count:1,state:we},I.set(P,ne)}}}function j1e(c,f){Hh.X(c,f);var g=my;if(g&&c){var _=Es(g).hoistableScripts,I=yy(c),P=_.get(I);P||(P=g.querySelector(uw(I)),P||(c=Q({src:c,async:!0},f),(f=wu.get(I))&&_I(c,f),P=g.createElement("script"),ci(P),Is(P,"link",c),g.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},_.set(I,P))}}function z1e(c,f){Hh.M(c,f);var g=my;if(g&&c){var _=Es(g).hoistableScripts,I=yy(c),P=_.get(I);P||(P=g.querySelector(uw(I)),P||(c=Q({src:c,async:!0,type:"module"},f),(f=wu.get(I))&&_I(c,f),P=g.createElement("script"),ci(P),Is(P,"link",c),g.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},_.set(I,P))}}function rV(c,f,g,_){var I=(I=Dt.current)?Bx(I):null;if(!I)throw Error(r(446));switch(c){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(f=gy(g.href),g=Es(I).hoistableStyles,_=g.get(f),_||(_={type:"style",instance:null,count:0,state:null},g.set(f,_)),_):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){c=gy(g.href);var P=Es(I).hoistableStyles,ne=P.get(c);if(ne||(I=I.ownerDocument||I,ne={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(c,ne),(P=I.querySelector(lw(c)))&&!P._p&&(ne.instance=P,ne.state.loading=5),wu.has(c)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},wu.set(c,g),P||$1e(I,c,g,ne.state))),f&&_===null)throw Error(r(528,""));return ne}if(f&&_!==null)throw Error(r(529,""));return null;case"script":return f=g.async,g=g.src,typeof g=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=yy(g),g=Es(I).hoistableScripts,_=g.get(f),_||(_={type:"script",instance:null,count:0,state:null},g.set(f,_)),_):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,c))}}function gy(c){return'href="'+Va(c)+'"'}function lw(c){return'link[rel="stylesheet"]['+c+"]"}function iV(c){return Q({},c,{"data-precedence":c.precedence,precedence:null})}function $1e(c,f,g,_){c.querySelector('link[rel="preload"][as="style"]['+f+"]")?_.loading=1:(f=c.createElement("link"),_.preload=f,f.addEventListener("load",function(){return _.loading|=1}),f.addEventListener("error",function(){return _.loading|=2}),Is(f,"link",g),ci(f),c.head.appendChild(f))}function yy(c){return'[src="'+Va(c)+'"]'}function uw(c){return"script[async]"+c}function aV(c,f,g){if(f.count++,f.instance===null)switch(f.type){case"style":var _=c.querySelector('style[data-href~="'+Va(g.href)+'"]');if(_)return f.instance=_,ci(_),_;var I=Q({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return _=(c.ownerDocument||c).createElement("style"),ci(_),Is(_,"style",I),Ux(_,g.precedence,c),f.instance=_;case"stylesheet":I=gy(g.href);var P=c.querySelector(lw(I));if(P)return f.state.loading|=4,f.instance=P,ci(P),P;_=iV(g),(I=wu.get(I))&&wI(_,I),P=(c.ownerDocument||c).createElement("link"),ci(P);var ne=P;return ne._p=new Promise(function(we,Le){ne.onload=we,ne.onerror=Le}),Is(P,"link",_),f.state.loading|=4,Ux(P,g.precedence,c),f.instance=P;case"script":return P=yy(g.src),(I=c.querySelector(uw(P)))?(f.instance=I,ci(I),I):(_=g,(I=wu.get(P))&&(_=Q({},g),_I(_,I)),c=c.ownerDocument||c,I=c.createElement("script"),ci(I),Is(I,"link",_),c.head.appendChild(I),f.instance=I);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&!(f.state.loading&4)&&(_=f.instance,f.state.loading|=4,Ux(_,g.precedence,c));return f.instance}function Ux(c,f,g){for(var _=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),I=_.length?_[_.length-1]:null,P=I,ne=0;ne<_.length;ne++){var we=_[ne];if(we.dataset.precedence===f)P=we;else if(P!==I)break}P?P.parentNode.insertBefore(c,P.nextSibling):(f=g.nodeType===9?g.head:g,f.insertBefore(c,f.firstChild))}function wI(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.title==null&&(c.title=f.title)}function _I(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.integrity==null&&(c.integrity=f.integrity)}var jx=null;function sV(c,f,g){if(jx===null){var _=new Map,I=jx=new Map;I.set(g,_)}else I=jx,_=I.get(g),_||(_=new Map,I.set(g,_));if(_.has(c))return _;for(_.set(c,null),g=g.getElementsByTagName(c),I=0;I<g.length;I++){var P=g[I];if(!(P[_i]||P[Tr]||c==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var ne=P.getAttribute(f)||"";ne=c+ne;var we=_.get(ne);we?we.push(P):_.set(ne,[P])}}return _}function oV(c,f,g){c=c.ownerDocument||c,c.head.insertBefore(g,f==="title"?c.querySelector("head > title"):null)}function q1e(c,f,g){if(g===1||f.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return c=f.disabled,typeof f.precedence=="string"&&c==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function lV(c){return!(c.type==="stylesheet"&&!(c.state.loading&3))}var cw=null;function H1e(){}function V1e(c,f,g){if(cw===null)throw Error(r(475));var _=cw;if(f.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&!(f.state.loading&4)){if(f.instance===null){var I=gy(g.href),P=c.querySelector(lw(I));if(P){c=P._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(_.count++,_=zx.bind(_),c.then(_,_)),f.state.loading|=4,f.instance=P,ci(P);return}P=c.ownerDocument||c,g=iV(g),(I=wu.get(I))&&wI(g,I),P=P.createElement("link"),ci(P);var ne=P;ne._p=new Promise(function(we,Le){ne.onload=we,ne.onerror=Le}),Is(P,"link",g),f.instance=P}_.stylesheets===null&&(_.stylesheets=new Map),_.stylesheets.set(f,c),(c=f.state.preload)&&!(f.state.loading&3)&&(_.count++,f=zx.bind(_),c.addEventListener("load",f),c.addEventListener("error",f))}}function G1e(){if(cw===null)throw Error(r(475));var c=cw;return c.stylesheets&&c.count===0&&SI(c,c.stylesheets),0<c.count?function(f){var g=setTimeout(function(){if(c.stylesheets&&SI(c,c.stylesheets),c.unsuspend){var _=c.unsuspend;c.unsuspend=null,_()}},6e4);return c.unsuspend=f,function(){c.unsuspend=null,clearTimeout(g)}}:null}function zx(){if(this.count--,this.count===0){if(this.stylesheets)SI(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var $x=null;function SI(c,f){c.stylesheets=null,c.unsuspend!==null&&(c.count++,$x=new Map,f.forEach(W1e,c),$x=null,zx.call(c))}function W1e(c,f){if(!(f.state.loading&4)){var g=$x.get(c);if(g)var _=g.get(null);else{g=new Map,$x.set(c,g);for(var I=c.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<I.length;P++){var ne=I[P];(ne.nodeName==="LINK"||ne.getAttribute("media")!=="not all")&&(g.set(ne.dataset.precedence,ne),_=ne)}_&&g.set(null,_)}I=f.instance,ne=I.getAttribute("data-precedence"),P=g.get(ne)||_,P===_&&g.set(null,I),g.set(ne,I),this.count++,_=zx.bind(this),I.addEventListener("load",_),I.addEventListener("error",_),P?P.parentNode.insertBefore(I,P.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(I,c.firstChild)),f.state.loading|=4}}var dw={$$typeof:m,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function K1e(c,f,g,_,I,P,ne,we){this.tag=1,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=St(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=St(0),this.hiddenUpdates=St(null),this.identifierPrefix=_,this.onUncaughtError=I,this.onCaughtError=P,this.onRecoverableError=ne,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=we,this.incompleteTransitions=new Map}function uV(c,f,g,_,I,P,ne,we,Le,rt,Ot,Bt){return c=new K1e(c,f,g,ne,we,Le,rt,Bt),f=1,P===!0&&(f|=24),P=bu(3,null,null,f),c.current=P,P.stateNode=c,f=J0(),f.refCount++,c.pooledCache=f,f.refCount++,P.memoizedState={element:_,isDehydrated:g,cache:f},P2(P),c}function cV(c){return c?(c=Ga,c):Ga}function dV(c,f,g,_,I,P){I=cV(I),_.context===null?_.context=I:_.pendingContext=I,_=kp(f),_.payload={element:g},P=P===void 0?null:P,P!==null&&(_.callback=P),g=Tp(c,_,f),g!==null&&(wo(g,c,f),Kv(g,c,f))}function hV(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<f?g:f}}function xI(c,f){hV(c,f),(c=c.alternate)&&hV(c,f)}function fV(c){if(c.tag===13){var f=zn(c,67108864);f!==null&&wo(f,c,67108864),xI(c,67108864)}}var qx=!0;function Y1e(c,f,g,_){var I=re.T;re.T=null;var P=He.p;try{He.p=2,EI(c,f,g,_)}finally{He.p=P,re.T=I}}function X1e(c,f,g,_){var I=re.T;re.T=null;var P=He.p;try{He.p=8,EI(c,f,g,_)}finally{He.p=P,re.T=I}}function EI(c,f,g,_){if(qx){var I=kI(_);if(I===null)hI(c,f,_,Hx,g),mV(c,_);else if(Q1e(I,c,f,g,_))_.stopPropagation();else if(mV(c,_),f&4&&-1<Z1e.indexOf(c)){for(;I!==null;){var P=lo(I);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var ne=Pt(P.pendingLanes);if(ne!==0){var we=P;for(we.pendingLanes|=2,we.entangledLanes|=2;ne;){var Le=1<<31-Sn(ne);we.entanglements[1]|=Le,ne&=~Le}hd(P),!(na&6)&&(Ax=Re()+500,aw(0))}}break;case 13:we=zn(P,2),we!==null&&wo(we,P,2),Ix(),xI(P,2)}if(P=kI(_),P===null&&hI(c,f,_,Hx,g),P===I)break;I=P}I!==null&&_.stopPropagation()}else hI(c,f,_,null,g)}}function kI(c){return c=Wf(c),TI(c)}var Hx=null;function TI(c){if(Hx=null,c=Zi(c),c!==null){var f=Te(c);if(f===null)c=null;else{var g=f.tag;if(g===13){if(c=he(f),c!==null)return c;c=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;c=null}else f!==c&&(c=null)}}return Hx=c,null}function pV(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nt()){case Oe:return 2;case K:return 8;case B:case V:return 32;case be:return 268435456;default:return 32}default:return 32}}var AI=!1,Mp=null,Pp=null,Lp=null,hw=new Map,fw=new Map,Dp=[],Z1e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mV(c,f){switch(c){case"focusin":case"focusout":Mp=null;break;case"dragenter":case"dragleave":Pp=null;break;case"mouseover":case"mouseout":Lp=null;break;case"pointerover":case"pointerout":hw.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":fw.delete(f.pointerId)}}function pw(c,f,g,_,I,P){return c===null||c.nativeEvent!==P?(c={blockedOn:f,domEventName:g,eventSystemFlags:_,nativeEvent:P,targetContainers:[I]},f!==null&&(f=lo(f),f!==null&&fV(f)),c):(c.eventSystemFlags|=_,f=c.targetContainers,I!==null&&f.indexOf(I)===-1&&f.push(I),c)}function Q1e(c,f,g,_,I){switch(f){case"focusin":return Mp=pw(Mp,c,f,g,_,I),!0;case"dragenter":return Pp=pw(Pp,c,f,g,_,I),!0;case"mouseover":return Lp=pw(Lp,c,f,g,_,I),!0;case"pointerover":var P=I.pointerId;return hw.set(P,pw(hw.get(P)||null,c,f,g,_,I)),!0;case"gotpointercapture":return P=I.pointerId,fw.set(P,pw(fw.get(P)||null,c,f,g,_,I)),!0}return!1}function gV(c){var f=Zi(c.target);if(f!==null){var g=Te(f);if(g!==null){if(f=g.tag,f===13){if(f=he(g),f!==null){c.blockedOn=f,ni(c.priority,function(){if(g.tag===13){var _=Ml(),I=zn(g,_);I!==null&&wo(I,g,_),xI(g,_)}});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Vx(c){if(c.blockedOn!==null)return!1;for(var f=c.targetContainers;0<f.length;){var g=kI(c.nativeEvent);if(g===null){g=c.nativeEvent;var _=new g.constructor(g.type,g);hh=_,g.target.dispatchEvent(_),hh=null}else return f=lo(g),f!==null&&fV(f),c.blockedOn=g,!1;f.shift()}return!0}function yV(c,f,g){Vx(c)&&g.delete(f)}function J1e(){AI=!1,Mp!==null&&Vx(Mp)&&(Mp=null),Pp!==null&&Vx(Pp)&&(Pp=null),Lp!==null&&Vx(Lp)&&(Lp=null),hw.forEach(yV),fw.forEach(yV)}function Gx(c,f){c.blockedOn===f&&(c.blockedOn=null,AI||(AI=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,J1e)))}var Wx=null;function bV(c){Wx!==c&&(Wx=c,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Wx===c&&(Wx=null);for(var f=0;f<c.length;f+=3){var g=c[f],_=c[f+1],I=c[f+2];if(typeof _!="function"){if(TI(_||g)===null)continue;break}var P=lo(g);P!==null&&(c.splice(f,3),f-=3,g2(P,{pending:!0,data:I,method:g.method,action:_},_,I))}}))}function mw(c){function f(Le){return Gx(Le,c)}Mp!==null&&Gx(Mp,c),Pp!==null&&Gx(Pp,c),Lp!==null&&Gx(Lp,c),hw.forEach(f),fw.forEach(f);for(var g=0;g<Dp.length;g++){var _=Dp[g];_.blockedOn===c&&(_.blockedOn=null)}for(;0<Dp.length&&(g=Dp[0],g.blockedOn===null);)gV(g),g.blockedOn===null&&Dp.shift();if(g=(c.ownerDocument||c).$$reactFormReplay,g!=null)for(_=0;_<g.length;_+=3){var I=g[_],P=g[_+1],ne=I[vr]||null;if(typeof P=="function")ne||bV(g);else if(ne){var we=null;if(P&&P.hasAttribute("formAction")){if(I=P,ne=P[vr]||null)we=ne.formAction;else if(TI(I)!==null)continue}else we=ne.action;typeof we=="function"?g[_+1]=we:(g.splice(_,3),_-=3),bV(g)}}}function CI(c){this._internalRoot=c}Kx.prototype.render=CI.prototype.render=function(c){var f=this._internalRoot;if(f===null)throw Error(r(409));var g=f.current,_=Ml();dV(g,_,c,f,null,null)},Kx.prototype.unmount=CI.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var f=c.containerInfo;c.tag===0&&hy(),dV(c.current,2,null,c,null,null),Ix(),f[Zr]=null}};function Kx(c){this._internalRoot=c}Kx.prototype.unstable_scheduleHydration=function(c){if(c){var f=ss();c={blockedOn:null,target:c,priority:f};for(var g=0;g<Dp.length&&f!==0&&f<Dp[g].priority;g++);Dp.splice(g,0,c),g===0&&gV(c)}};var vV=e.version;if(vV!=="19.0.0")throw Error(r(527,vV,"19.0.0"));He.findDOMNode=function(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=pe(f),c=c!==null?Ne(c):null,c=c===null?null:c.stateNode,c};var eSe={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:re,findFiberByHostInstance:Zi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yx.isDisabled&&Yx.supportsFiber)try{gt=Yx.inject(eSe),sn=Yx}catch{}}return bw.createRoot=function(c,f){if(!i(c))throw Error(r(299));var g=!1,_="",I=Dq,P=Fq,ne=Bq,we=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(_=f.identifierPrefix),f.onUncaughtError!==void 0&&(I=f.onUncaughtError),f.onCaughtError!==void 0&&(P=f.onCaughtError),f.onRecoverableError!==void 0&&(ne=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(we=f.unstable_transitionCallbacks)),f=uV(c,1,!1,null,null,g,_,I,P,ne,we,null),c[Zr]=f.current,dI(c.nodeType===8?c.parentNode:c),new CI(f)},bw.hydrateRoot=function(c,f,g){if(!i(c))throw Error(r(299));var _=!1,I="",P=Dq,ne=Fq,we=Bq,Le=null,rt=null;return g!=null&&(g.unstable_strictMode===!0&&(_=!0),g.identifierPrefix!==void 0&&(I=g.identifierPrefix),g.onUncaughtError!==void 0&&(P=g.onUncaughtError),g.onCaughtError!==void 0&&(ne=g.onCaughtError),g.onRecoverableError!==void 0&&(we=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(Le=g.unstable_transitionCallbacks),g.formState!==void 0&&(rt=g.formState)),f=uV(c,1,!0,f,g??null,_,I,P,ne,we,Le,rt),f.context=cV(null),g=f.current,_=Ml(),I=kp(_),I.callback=null,Tp(g,I,_),f.current.lanes=_,Ct(f,_),hd(f),c[Zr]=f.current,dI(c),new Kx(f)},bw.version="19.0.0",bw}var OV;function fSe(){if(OV)return OI.exports;OV=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),OI.exports=hSe(),OI.exports}var pSe=fSe(),rv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},f0=typeof window>"u"||"Deno"in globalThis;function Iu(){}function mSe(t,e){return typeof t=="function"?t(e):t}function _6(t){return typeof t=="number"&&t>=0&&t!==1/0}function ase(t,e){return Math.max(t+(e||0)-Date.now(),0)}function vb(t,e){return typeof t=="function"?t(e):t}function Ic(t,e){return typeof t=="function"?t(e):t}function MV(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:s,stale:o}=t;if(s){if(r){if(e.queryHash!==a7(s,e.options))return!1}else if(!n1(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||a&&!a(e))}function PV(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(p0(e.options.mutationKey)!==p0(a))return!1}else if(!n1(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function a7(t,e){return(e?.queryKeyHashFn||p0)(t)}function p0(t){return JSON.stringify(t,(e,n)=>S6(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function n1(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!n1(t[n],e[n])):!1}function sse(t,e){if(t===e)return t;const n=LV(t)&&LV(e);if(n||S6(t)&&S6(e)){const r=n?t:Object.keys(t),i=r.length,a=n?e:Object.keys(e),s=a.length,o=n?[]:{};let l=0;for(let u=0;u<s;u++){const d=n?u:a[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(o[d]=void 0,l++):(o[d]=sse(t[d],e[d]),o[d]===t[d]&&t[d]!==void 0&&l++)}return i===s&&l===i?t:o}return e}function Kk(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function LV(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function S6(t){if(!DV(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!DV(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function DV(t){return Object.prototype.toString.call(t)==="[object Object]"}function gSe(t){return new Promise(e=>{setTimeout(e,t)})}function x6(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?sse(t,e):e}function ySe(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function bSe(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var s7=Symbol();function ose(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===s7?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var vSe=class extends rv{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!f0&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},o7=new vSe,wSe=class extends rv{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!f0&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Yk=new wSe;function E6(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function _Se(t){return Math.min(1e3*2**t,3e4)}function lse(t){return(t??"online")==="online"?Yk.isOnline():!0}var use=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function DI(t){return t instanceof use}function cse(t){let e=!1,n=0,r=!1,i;const a=E6(),s=w=>{r||(p(new use(w)),t.abort?.())},o=()=>{e=!0},l=()=>{e=!1},u=()=>o7.isFocused()&&(t.networkMode==="always"||Yk.isOnline())&&t.canRun(),d=()=>lse(t.networkMode)&&t.canRun(),h=w=>{r||(r=!0,t.onSuccess?.(w),i?.(),a.resolve(w))},p=w=>{r||(r=!0,t.onError?.(w),i?.(),a.reject(w))},m=()=>new Promise(w=>{i=k=>{(r||u())&&w(k)},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),v=()=>{if(r)return;let w;const k=n===0?t.initialPromise:void 0;try{w=k??t.fn()}catch(T){w=Promise.reject(T)}Promise.resolve(w).then(h).catch(T=>{if(r)return;const C=t.retry??(f0?0:3),N=t.retryDelay??_Se,F=typeof N=="function"?N(n,T):N,D=C===!0||typeof C=="number"&&n<C||typeof C=="function"&&C(n,T);if(e||!D){p(T);return}n++,t.onFail?.(n,T),gSe(F).then(()=>u()?void 0:m()).then(()=>{e?p(T):v()})})};return{promise:a,cancel:s,continue:()=>(i?.(),a),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?v():m().then(v),a)}}function SSe(){let t=[],e=0,n=o=>{o()},r=o=>{o()},i=o=>setTimeout(o,0);const a=o=>{e?t.push(o):i(()=>{n(o)})},s=()=>{const o=t;t=[],o.length&&i(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||s()}return l},batchCalls:o=>(...l)=>{a(()=>{o(...l)})},schedule:a,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var Ja=SSe(),dse=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_6(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(f0?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},xSe=class extends dse{#e;#t;#n;#r;#a;#i;#l;constructor(t){super(),this.#l=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=ESe(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=x6(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#a?.promise;return this.#a?.cancel(t),e?e.then(Iu).catch(Iu):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Ic(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===s7||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!ase(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#a&&(this.#l?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(t&&this.setOptions(t),!this.options.queryFn){const o=this.observers.find(l=>l.options.queryFn);o&&this.setOptions(o.options)}const n=new AbortController,r=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#l=!0,n.signal)})},i=()=>{const o=ose(this.options,e),l={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(l),this.#l=!1,this.options.persister?this.options.persister(o,l,this):o(l)},a={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};r(a),this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:"fetch",meta:a.fetchOptions?.meta});const s=o=>{DI(o)&&o.silent||this.#s({type:"error",error:o}),DI(o)||(this.#n.config.onError?.(o,this),this.#n.config.onSettled?.(this.state.data,o,this)),this.scheduleGc()};return this.#a=cse({initialPromise:e?.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:o=>{if(o===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(o)}catch(l){s(l);return}this.#n.config.onSuccess?.(o,this),this.#n.config.onSettled?.(o,this.state.error,this),this.scheduleGc()},onError:s,onFail:(o,l)=>{this.#s({type:"failed",failureCount:o,error:l})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#a.start()}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...hse(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return DI(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Ja.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function hse(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:lse(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ESe(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var kSe=class extends rv{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??a7(r,e);let a=this.get(i);return a||(a=new xSe({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ja.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>MV(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>MV(t,n)):e}notify(t){Ja.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Ja.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ja.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},TSe=class extends dse{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||fse(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){this.#n=cse({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(r,i)=>{this.#r({type:"failed",failureCount:r,error:i})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",n=!this.#n.canStart();try{if(!e){this.#r({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);const i=await this.options.onMutate?.(t);i!==this.state.context&&this.#r({type:"pending",context:i,variables:t,isPaused:n})}const r=await this.#n.start();return await this.#t.config.onSuccess?.(r,t,this.state.context,this),await this.options.onSuccess?.(r,t,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,t,this.state.context),this.#r({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,t,this.state.context,this),await this.options.onError?.(r,t,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,t,this.state.context),r}finally{this.#r({type:"error",error:r})}}finally{this.#t.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Ja.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function fse(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ASe=class extends rv{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new TSe({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=Zx(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Zx(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Zx(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=Zx(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Ja.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>PV(e,n))}findAll(t={}){return this.getAll().filter(e=>PV(t,e))}notify(t){Ja.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Ja.batch(()=>Promise.all(t.map(e=>e.continue().catch(Iu))))}};function Zx(t){return t.options.scope?.id}function FV(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],s=e.state.data?.pageParams||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let d=!1;const h=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(e.signal.aborted?d=!0:e.signal.addEventListener("abort",()=>{d=!0}),e.signal)})},p=ose(e.options,e.fetchOptions),m=async(v,w,k)=>{if(d)return Promise.reject();if(w==null&&v.pages.length)return Promise.resolve(v);const T={client:e.client,queryKey:e.queryKey,pageParam:w,direction:k?"backward":"forward",meta:e.options.meta};h(T);const C=await p(T),{maxPages:N}=e.options,F=k?bSe:ySe;return{pages:F(v.pages,C,N),pageParams:F(v.pageParams,w,N)}};if(i&&a.length){const v=i==="backward",w=v?CSe:BV,k={pages:a,pageParams:s},T=w(r,k);o=await m(k,T,v)}else{const v=t??a.length;do{const w=l===0?s[0]??r.initialPageParam:BV(r,o);if(l>0&&w==null)break;o=await m(o,w),l++}while(l<v)}return o};e.options.persister?e.fetchFn=()=>e.options.persister?.(u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=u}}}function BV(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function CSe(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var RSe=class{#e;#t;#n;#r;#a;#i;#l;#s;constructor(t={}){this.#e=t.queryCache||new kSe,this.#t=t.mutationCache||new ASe,this.#n=t.defaultOptions||{},this.#r=new Map,this.#a=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=o7.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Yk.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(vb(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(r.queryHash)?.state.data,s=mSe(e,a);if(s!==void 0)return this.#e.build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return Ja.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Ja.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e,r={type:"active",...t};return Ja.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ja.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Iu).catch(Iu)}invalidateQueries(t,e={}){return Ja.batch(()=>{if(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none")return Promise.resolve();const n={...t,type:t?.refetchType??t?.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ja.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Iu)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Iu)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(vb(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Iu).catch(Iu)}fetchInfiniteQuery(t){return t.behavior=FV(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Iu).catch(Iu)}ensureInfiniteQueryData(t){return t.behavior=FV(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Yk.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(p0(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{n1(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#a.set(p0(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#a.values()];let n={};return e.forEach(r=>{n1(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=a7(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===s7&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},ISe=class extends rv{constructor(t,e){super(),this.options=e,this.#e=t,this.#s=null,this.#l=E6(),this.options.experimental_prefetchInRender||this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#a;#i;#l;#s;#c;#u;#h;#d;#f;#o;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),UV(this.#t,this.options)?this.#g():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return k6(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return k6(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#S(),this.#t.removeObserver(this)}setOptions(t,e){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ic(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#t.setOptions(this.options),n._defaulted&&!Kk(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&jV(this.#t,r,this.options,n)&&this.#g(),this.updateResult(e),i&&(this.#t!==r||Ic(this.options.enabled,this.#t)!==Ic(n.enabled,this.#t)||vb(this.options.staleTime,this.#t)!==vb(n.staleTime,this.#t))&&this.#m();const a=this.#y();i&&(this.#t!==r||Ic(this.options.enabled,this.#t)!==Ic(n.enabled,this.#t)||a!==this.#o)&&this.#v(a)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return OSe(this,n)&&(this.#r=n,this.#i=this.options,this.#a=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),e?.(r),t[r])})}),n}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#g({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#g(t){this.#x();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Iu)),e}#m(){this.#_();const t=vb(this.options.staleTime,this.#t);if(f0||this.#r.isStale||!_6(t))return;const n=ase(this.#r.dataUpdatedAt,t)+1;this.#d=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#S(),this.#o=t,!(f0||Ic(this.options.enabled,this.#t)===!1||!_6(this.#o)||this.#o===0)&&(this.#f=setInterval(()=>{(this.options.refetchIntervalInBackground||o7.isFocused())&&this.#g()},this.#o))}#b(){this.#m(),this.#v(this.#y())}#_(){this.#d&&(clearTimeout(this.#d),this.#d=void 0)}#S(){this.#f&&(clearInterval(this.#f),this.#f=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#r,a=this.#a,s=this.#i,l=t!==n?t.state:this.#n,{state:u}=t;let d={...u},h=!1,p;if(e._optimisticResults){const G=this.hasListeners(),se=!G&&UV(t,e),re=G&&jV(t,n,e,r);(se||re)&&(d={...d,...hse(u.data,t.options)}),e._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:v,status:w}=d;if(e.select&&d.data!==void 0)if(i&&d.data===a?.data&&e.select===this.#c)p=this.#u;else try{this.#c=e.select,p=e.select(d.data),p=x6(i?.data,p,e),this.#u=p,this.#s=null}catch(G){this.#s=G}else p=d.data;if(e.placeholderData!==void 0&&p===void 0&&w==="pending"){let G;if(i?.isPlaceholderData&&e.placeholderData===s?.placeholderData)G=i.data;else if(G=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,e.select&&G!==void 0)try{G=e.select(G),this.#s=null}catch(se){this.#s=se}G!==void 0&&(w="success",p=x6(i?.data,G,e),h=!0)}this.#s&&(m=this.#s,p=this.#u,v=Date.now(),w="error");const k=d.fetchStatus==="fetching",T=w==="pending",C=w==="error",N=T&&k,F=p!==void 0,U={status:w,fetchStatus:d.fetchStatus,isPending:T,isSuccess:w==="success",isError:C,isInitialLoading:N,isLoading:N,data:p,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:v,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:k,isRefetching:k&&!T,isLoadingError:C&&!F,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:C&&F,isStale:l7(t,e),refetch:this.refetch,promise:this.#l};if(this.options.experimental_prefetchInRender){const G=Q=>{U.status==="error"?Q.reject(U.error):U.data!==void 0&&Q.resolve(U.data)},se=()=>{const Q=this.#l=U.promise=E6();G(Q)},re=this.#l;switch(re.status){case"pending":t.queryHash===n.queryHash&&G(re);break;case"fulfilled":(U.status==="error"||U.data!==re.value)&&se();break;case"rejected":(U.status!=="error"||U.error!==re.reason)&&se();break}}return U}updateResult(t){const e=this.#r,n=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#i=this.options,this.#a.data!==void 0&&(this.#h=this.#t),Kk(n,e))return;this.#r=n;const r={},i=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!this.#p.size)return!0;const o=new Set(s??this.#p);return this.options.throwOnError&&o.add("error"),Object.keys(this.#r).some(l=>{const u=l;return this.#r[u]!==e[u]&&o.has(u)})};t?.listeners!==!1&&i()&&(r.listeners=!0),this.#T({...r,...t})}#x(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#T(t){Ja.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function NSe(t,e){return Ic(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function UV(t,e){return NSe(t,e)||t.state.data!==void 0&&k6(t,e,e.refetchOnMount)}function k6(t,e,n){if(Ic(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&l7(t,e)}return!1}function jV(t,e,n,r){return(t!==e||Ic(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&l7(t,n)}function l7(t,e){return Ic(e.enabled,t)!==!1&&t.isStaleByTime(vb(e.staleTime,t))}function OSe(t,e){return!Kk(t.getCurrentResult(),e)}var MSe=class extends rv{#e;#t=void 0;#n;#r;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Kk(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&p0(n.mutationKey)!==p0(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#i()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#a(){const e=this.#n?.state??fse();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#i(e){Ja.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}},pse=$.createContext(void 0),yA=t=>{const e=$.useContext(pse);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},PSe=({client:t,children:e})=>($.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),z.jsx(pse.Provider,{value:t,children:e})),mse=$.createContext(!1),LSe=()=>$.useContext(mse);mse.Provider;function DSe(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var FSe=$.createContext(DSe()),BSe=()=>$.useContext(FSe);function gse(t,e){return typeof t=="function"?t(...e):!!t}function T6(){}var USe=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},jSe=t=>{$.useEffect(()=>{t.clearReset()},[t])},zSe=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||gse(n,[t.error,r])),$Se=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},qSe=(t,e)=>t.isLoading&&t.isFetching&&!e,HSe=(t,e)=>t?.suspense&&e.isPending,zV=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function VSe(t,e,n){const r=yA(),i=LSe(),a=BSe(),s=r.defaultQueryOptions(t);r.getDefaultOptions().queries?._experimental_beforeQuery?.(s),s._optimisticResults=i?"isRestoring":"optimistic",$Se(s),USe(s,a),jSe(a);const o=!r.getQueryCache().get(s.queryHash),[l]=$.useState(()=>new e(r,s)),u=l.getOptimisticResult(s),d=!i&&t.subscribed!==!1;if($.useSyncExternalStore($.useCallback(h=>{const p=d?l.subscribe(Ja.batchCalls(h)):T6;return l.updateResult(),p},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),$.useEffect(()=>{l.setOptions(s,{listeners:!1})},[s,l]),HSe(s,u))throw zV(s,l,a);if(zSe({result:u,errorResetBoundary:a,throwOnError:s.throwOnError,query:r.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(s,u),s.experimental_prefetchInRender&&!f0&&qSe(u,i)&&(o?zV(s,l,a):r.getQueryCache().get(s.queryHash)?.promise)?.catch(T6).finally(()=>{l.updateResult()}),s.notifyOnChangeProps?u:l.trackResult(u)}function GSe(t,e){return VSe(t,ISe)}function yse(t,e){const n=yA(),[r]=$.useState(()=>new MSe(n,t));$.useEffect(()=>{r.setOptions(t)},[r,t]);const i=$.useSyncExternalStore($.useCallback(s=>r.subscribe(Ja.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=$.useCallback((s,o)=>{r.mutate(s,o).catch(T6)},[r]);if(i.error&&gse(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}var vw={},$V;function WSe(){if($V)return vw;$V=1,Object.defineProperty(vw,"__esModule",{value:!0}),vw.parse=s,vw.serialize=u;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function s(p,m){const v=new a,w=p.length;if(w<2)return v;const k=m?.decode||d;let T=0;do{const C=p.indexOf("=",T);if(C===-1)break;const N=p.indexOf(";",T),F=N===-1?w:N;if(C>F){T=p.lastIndexOf(";",C-1)+1;continue}const D=o(p,T,C),U=l(p,C,D),G=p.slice(D,U);if(v[G]===void 0){let se=o(p,C+1,F),re=l(p,F,se);const Q=k(p.slice(se,re));v[G]=Q}T=F+1}while(T<w);return v}function o(p,m,v){do{const w=p.charCodeAt(m);if(w!==32&&w!==9)return m}while(++m<v);return v}function l(p,m,v){for(;m>v;){const w=p.charCodeAt(--m);if(w!==32&&w!==9)return m+1}return v}function u(p,m,v){const w=v?.encode||encodeURIComponent;if(!t.test(p))throw new TypeError(`argument name is invalid: ${p}`);const k=w(m);if(!e.test(k))throw new TypeError(`argument val is invalid: ${m}`);let T=p+"="+k;if(!v)return T;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);T+="; Max-Age="+v.maxAge}if(v.domain){if(!n.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);T+="; Domain="+v.domain}if(v.path){if(!r.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);T+="; Path="+v.path}if(v.expires){if(!h(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);T+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(T+="; HttpOnly"),v.secure&&(T+="; Secure"),v.partitioned&&(T+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return T}function d(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function h(p){return i.call(p)==="[object Date]"}return vw}WSe();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qV="popstate";function KSe(t={}){function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return A6("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:r1(i)}return XSe(e,n,null,t)}function ua(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $d(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YSe(){return Math.random().toString(36).substring(2,10)}function HV(t,e){return{usr:t.state,key:t.key,idx:e}}function A6(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?iv(e):e,state:n,key:e&&e.key||r||YSe()}}function r1({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function iv(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function XSe(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",l=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function h(){o="POP";let k=d(),T=k==null?null:k-u;u=k,l&&l({action:o,location:w.location,delta:T})}function p(k,T){o="PUSH";let C=A6(w.location,k,T);u=d()+1;let N=HV(C,u),F=w.createHref(C);try{s.pushState(N,"",F)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(F)}a&&l&&l({action:o,location:w.location,delta:1})}function m(k,T){o="REPLACE";let C=A6(w.location,k,T);u=d();let N=HV(C,u),F=w.createHref(C);s.replaceState(N,"",F),a&&l&&l({action:o,location:w.location,delta:0})}function v(k){let T=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof k=="string"?k:r1(k);return C=C.replace(/ $/,"%20"),ua(T,`No window.location.(origin|href) available to create URL for href: ${C}`),new URL(C,T)}let w={get action(){return o},get location(){return t(i,s)},listen(k){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(qV,h),l=k,()=>{i.removeEventListener(qV,h),l=null}},createHref(k){return e(i,k)},createURL:v,encodeLocation(k){let T=v(k);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:p,replace:m,go(k){return s.go(k)}};return w}function bse(t,e,n="/"){return ZSe(t,e,n,!1)}function ZSe(t,e,n,r){let i=typeof e=="string"?iv(e):e,a=Em(i.pathname||"/",n);if(a==null)return null;let s=vse(t);QSe(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=uxe(a);o=oxe(s[l],u,r)}return o}function vse(t,e=[],n=[],r=""){let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(ua(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=gf([r,l.relativePath]),d=n.concat(l);a.children&&a.children.length>0&&(ua(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),vse(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:axe(u,a.index),routesMeta:d})};return t.forEach((a,s)=>{if(a.path===""||!a.path?.includes("?"))i(a,s);else for(let o of wse(a.path))i(a,s,o)}),e}function wse(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=wse(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function QSe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sxe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var JSe=/^:[\w-]+$/,exe=3,txe=2,nxe=1,rxe=10,ixe=-2,VV=t=>t==="*";function axe(t,e){let n=t.split("/"),r=n.length;return n.some(VV)&&(r+=ixe),e&&(r+=txe),n.filter(i=>!VV(i)).reduce((i,a)=>i+(JSe.test(a)?exe:a===""?nxe:rxe),r)}function sxe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function oxe(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=a==="/"?e:e.slice(a.length)||"/",h=Xk({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Xk({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:gf([a,h.pathname]),pathnameBase:fxe(gf([a,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(a=gf([a,h.pathnameBase]))}return s}function Xk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lxe(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},p)=>{if(d==="*"){let v=o[p]||"";s=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const m=o[p];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function lxe(t,e=!1,n=!0){$d(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function uxe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $d(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Em(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function cxe(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?iv(t):t;return{pathname:n?n.startsWith("/")?n:dxe(n,e):e,search:pxe(r),hash:mxe(i)}}function dxe(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function FI(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hxe(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _se(t){let e=hxe(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Sse(t,e,n,r=!1){let i;typeof t=="string"?i=iv(t):(i={...t},ua(!i.pathname||!i.pathname.includes("?"),FI("?","pathname","search",i)),ua(!i.pathname||!i.pathname.includes("#"),FI("#","pathname","hash",i)),ua(!i.search||!i.search.includes("#"),FI("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}o=h>=0?e[h]:"/"}let l=cxe(i,o),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var gf=t=>t.join("/").replace(/\/\/+/g,"/"),fxe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pxe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mxe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gxe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var xse=["POST","PUT","PATCH","DELETE"];new Set(xse);var yxe=["GET",...xse];new Set(yxe);var av=$.createContext(null);av.displayName="DataRouter";var bA=$.createContext(null);bA.displayName="DataRouterState";var Ese=$.createContext({isTransitioning:!1});Ese.displayName="ViewTransition";var bxe=$.createContext(new Map);bxe.displayName="Fetchers";var vxe=$.createContext(null);vxe.displayName="Await";var Zd=$.createContext(null);Zd.displayName="Navigation";var eS=$.createContext(null);eS.displayName="Location";var Qd=$.createContext({outlet:null,matches:[],isDataRoute:!1});Qd.displayName="Route";var u7=$.createContext(null);u7.displayName="RouteError";function wxe(t,{relative:e}={}){ua(tS(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=$.useContext(Zd),{hash:i,pathname:a,search:s}=nS(t,{relative:e}),o=a;return n!=="/"&&(o=a==="/"?n:gf([n,a])),r.createHref({pathname:o,search:s,hash:i})}function tS(){return $.useContext(eS)!=null}function Vm(){return ua(tS(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(eS).location}var kse="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Tse(t){$.useContext(Zd).static||$.useLayoutEffect(t)}function vA(){let{isDataRoute:t}=$.useContext(Qd);return t?Mxe():_xe()}function _xe(){ua(tS(),"useNavigate() may be used only in the context of a <Router> component.");let t=$.useContext(av),{basename:e,navigator:n}=$.useContext(Zd),{matches:r}=$.useContext(Qd),{pathname:i}=Vm(),a=JSON.stringify(_se(r)),s=$.useRef(!1);return Tse(()=>{s.current=!0}),$.useCallback((l,u={})=>{if($d(s.current,kse),!s.current)return;if(typeof l=="number"){n.go(l);return}let d=Sse(l,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:gf([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,a,i,t])}$.createContext(null);function Ase(){let{matches:t}=$.useContext(Qd),e=t[t.length-1];return e?e.params:{}}function nS(t,{relative:e}={}){let{matches:n}=$.useContext(Qd),{pathname:r}=Vm(),i=JSON.stringify(_se(n));return $.useMemo(()=>Sse(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Sxe(t,e){return Cse(t,e)}function Cse(t,e,n,r){ua(tS(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=$.useContext(Zd),{matches:s}=$.useContext(Qd),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let C=h&&h.path||"";Rse(u,!h||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let p=Vm(),m;if(e){let C=typeof e=="string"?iv(e):e;ua(d==="/"||C.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${C.pathname}" was given in the \`location\` prop.`),m=C}else m=p;let v=m.pathname||"/",w=v;if(d!=="/"){let C=d.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(C.length).join("/")}let k=!a&&n&&n.matches&&n.matches.length>0?n.matches:bse(t,{pathname:w});$d(h||k!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),$d(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=Axe(k&&k.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:gf([d,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:gf([d,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r);return e&&T?$.createElement(eS.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},T):T}function xxe(){let t=Oxe(),e=gxe(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:a},"ErrorBoundary")," or"," ",$.createElement("code",{style:a},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:i},n):null,s)}var Exe=$.createElement(xxe,null),kxe=class extends $.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?$.createElement(Qd.Provider,{value:this.props.routeContext},$.createElement(u7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Txe({routeContext:t,match:e,children:n}){let r=$.useContext(av);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Qd.Provider,{value:t},n)}function Axe(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n?.errors;if(a!=null){let l=i.findIndex(u=>u.route.id&&a?.[u.route.id]!==void 0);ua(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,o=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(o=l),u.route.id){let{loaderData:d,errors:h}=n,p=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||p){s=!0,o>=0?i=i.slice(0,o+1):i=[i[0]];break}}}return i.reduceRight((l,u,d)=>{let h,p=!1,m=null,v=null;n&&(h=a&&u.route.id?a[u.route.id]:void 0,m=u.route.errorElement||Exe,s&&(o<0&&d===0?(Rse("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):o===d&&(p=!0,v=u.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,d+1)),k=()=>{let T;return h?T=m:p?T=v:u.route.Component?T=$.createElement(u.route.Component,null):u.route.element?T=u.route.element:T=l,$.createElement(Txe,{match:u,routeContext:{outlet:l,matches:w,isDataRoute:n!=null},children:T})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?$.createElement(kxe,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:k(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):k()},null)}function c7(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cxe(t){let e=$.useContext(av);return ua(e,c7(t)),e}function Rxe(t){let e=$.useContext(bA);return ua(e,c7(t)),e}function Ixe(t){let e=$.useContext(Qd);return ua(e,c7(t)),e}function d7(t){let e=Ixe(t),n=e.matches[e.matches.length-1];return ua(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Nxe(){return d7("useRouteId")}function Oxe(){let t=$.useContext(u7),e=Rxe("useRouteError"),n=d7("useRouteError");return t!==void 0?t:e.errors?.[n]}function Mxe(){let{router:t}=Cxe("useNavigate"),e=d7("useNavigate"),n=$.useRef(!1);return Tse(()=>{n.current=!0}),$.useCallback(async(i,a={})=>{$d(n.current,kse),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var GV={};function Rse(t,e,n){!e&&!GV[t]&&(GV[t]=!0,$d(!1,n))}$.memo(Pxe);function Pxe({routes:t,future:e,state:n}){return Cse(t,void 0,n,e)}function ok(t){ua(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Lxe({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){ua(!tS(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),o=$.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof n=="string"&&(n=iv(n));let{pathname:l="/",search:u="",hash:d="",state:h=null,key:p="default"}=n,m=$.useMemo(()=>{let v=Em(l,s);return v==null?null:{location:{pathname:v,search:u,hash:d,state:h,key:p},navigationType:r}},[s,l,u,d,h,p,r]);return $d(m!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:$.createElement(Zd.Provider,{value:o},$.createElement(eS.Provider,{children:e,value:m}))}function Dxe({children:t,location:e}){return Sxe(C6(t),e)}function C6(t,e=[]){let n=[];return $.Children.forEach(t,(r,i)=>{if(!$.isValidElement(r))return;let a=[...e,i];if(r.type===$.Fragment){n.push.apply(n,C6(r.props.children,a));return}ua(r.type===ok,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ua(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=C6(r.props.children,a)),n.push(s)}),n}var lk="get",uk="application/x-www-form-urlencoded";function wA(t){return t!=null&&typeof t.tagName=="string"}function Fxe(t){return wA(t)&&t.tagName.toLowerCase()==="button"}function Bxe(t){return wA(t)&&t.tagName.toLowerCase()==="form"}function Uxe(t){return wA(t)&&t.tagName.toLowerCase()==="input"}function jxe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zxe(t,e){return t.button===0&&(!e||e==="_self")&&!jxe(t)}var Qx=null;function $xe(){if(Qx===null)try{new FormData(document.createElement("form"),0),Qx=!1}catch{Qx=!0}return Qx}var qxe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function BI(t){return t!=null&&!qxe.has(t)?($d(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uk}"`),null):t}function Hxe(t,e){let n,r,i,a,s;if(Bxe(t)){let o=t.getAttribute("action");r=o?Em(o,e):null,n=t.getAttribute("method")||lk,i=BI(t.getAttribute("enctype"))||uk,a=new FormData(t)}else if(Fxe(t)||Uxe(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?Em(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||lk,i=BI(t.getAttribute("formenctype"))||BI(o.getAttribute("enctype"))||uk,a=new FormData(o,t),!$xe()){let{name:u,type:d,value:h}=t;if(d==="image"){let p=u?`${u}.`:"";a.append(`${p}x`,"0"),a.append(`${p}y`,"0")}else u&&a.append(u,h)}}else{if(wA(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lk,r=null,i=uk,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}function h7(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Vxe(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Gxe(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Wxe(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await Vxe(a,n);return s.links?s.links():[]}return[]}));return Zxe(r.flat(1).filter(Gxe).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function WV(t,e,n,r,i,a){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,o=(l,u)=>n[u].pathname!==l.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==l.params["*"];return a==="assets"?e.filter((l,u)=>s(l,u)||o(l,u)):a==="data"?e.filter((l,u)=>{let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(s(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Kxe(t,e,{includeHydrateFallback:n}={}){return Yxe(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function Yxe(t){return[...new Set(t)]}function Xxe(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Zxe(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(Xxe(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function Qxe(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Jxe(){let t=$.useContext(av);return h7(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function eEe(){let t=$.useContext(bA);return h7(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var f7=$.createContext(void 0);f7.displayName="FrameworkContext";function Ise(){let t=$.useContext(f7);return h7(t,"You must render this element inside a <HydratedRouter> element"),t}function tEe(t,e){let n=$.useContext(f7),[r,i]=$.useState(!1),[a,s]=$.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,p=$.useRef(null);$.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let w=T=>{T.forEach(C=>{s(C.isIntersecting)})},k=new IntersectionObserver(w,{threshold:.5});return p.current&&k.observe(p.current),()=>{k.disconnect()}}},[t]),$.useEffect(()=>{if(r){let w=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(w)}}},[r]);let m=()=>{i(!0)},v=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,p,{}]:[a,p,{onFocus:ww(o,m),onBlur:ww(l,v),onMouseEnter:ww(u,m),onMouseLeave:ww(d,v),onTouchStart:ww(h,m)}]:[!1,p,{}]}function ww(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function nEe({page:t,...e}){let{router:n}=Jxe(),r=$.useMemo(()=>bse(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?$.createElement(iEe,{page:t,matches:r,...e}):null}function rEe(t){let{manifest:e,routeModules:n}=Ise(),[r,i]=$.useState([]);return $.useEffect(()=>{let a=!1;return Wxe(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function iEe({page:t,matches:e,...n}){let r=Vm(),{manifest:i,routeModules:a}=Ise(),{loaderData:s,matches:o}=eEe(),l=$.useMemo(()=>WV(t,e,o,i,r,"data"),[t,e,o,i,r]),u=$.useMemo(()=>WV(t,e,o,i,r,"assets"),[t,e,o,i,r]),d=$.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let m=new Set,v=!1;if(e.forEach(k=>{let T=i.routes[k.route.id];!T||!T.hasLoader||(!l.some(C=>C.route.id===k.route.id)&&k.route.id in s&&a[k.route.id]?.shouldRevalidate||T.hasClientLoader?v=!0:m.add(k.route.id))}),m.size===0)return[];let w=Qxe(t);return v&&m.size>0&&w.searchParams.set("_routes",e.filter(k=>m.has(k.route.id)).map(k=>k.route.id).join(",")),[w.pathname+w.search]},[s,r,i,l,e,t,a]),h=$.useMemo(()=>Kxe(u,i),[u,i]),p=rEe(u);return $.createElement($.Fragment,null,d.map(m=>$.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),h.map(m=>$.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),p.map(({key:m,link:v})=>$.createElement("link",{key:m,...v})))}function aEe(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Nse=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Nse&&(window.__reactRouterVersion="7.2.0")}catch{}function sEe({basename:t,children:e,window:n}){let r=$.useRef();r.current==null&&(r.current=KSe({window:n,v5Compat:!0}));let i=r.current,[a,s]=$.useState({action:i.action,location:i.location}),o=$.useCallback(l=>{$.startTransition(()=>s(l))},[s]);return $.useLayoutEffect(()=>i.listen(o),[i,o]),$.createElement(Lxe,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var Ose=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,N_=$.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h,...p},m){let{basename:v}=$.useContext(Zd),w=typeof u=="string"&&Ose.test(u),k,T=!1;if(typeof u=="string"&&w&&(k=u,Nse))try{let re=new URL(window.location.href),Q=u.startsWith("//")?new URL(re.protocol+u):new URL(u),ce=Em(Q.pathname,v);Q.origin===re.origin&&ce!=null?u=ce+Q.search+Q.hash:T=!0}catch{$d(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=wxe(u,{relative:i}),[N,F,D]=tEe(r,p),U=cEe(u,{replace:s,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:h});function G(re){e&&e(re),re.defaultPrevented||U(re)}let se=$.createElement("a",{...p,...D,href:k||C,onClick:T||a?e:G,ref:aEe(m,F),target:l,"data-discover":!w&&n==="render"?"true":void 0});return N&&!w?$.createElement($.Fragment,null,se,$.createElement(nEe,{page:C})):se});N_.displayName="Link";var oEe=$.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:o,children:l,...u},d){let h=nS(s,{relative:u.relative}),p=Vm(),m=$.useContext(bA),{navigator:v,basename:w}=$.useContext(Zd),k=m!=null&&mEe(h)&&o===!0,T=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,C=p.pathname,N=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(C=C.toLowerCase(),N=N?N.toLowerCase():null,T=T.toLowerCase()),N&&w&&(N=Em(N,w)||N);const F=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let D=C===T||!i&&C.startsWith(T)&&C.charAt(F)==="/",U=N!=null&&(N===T||!i&&N.startsWith(T)&&N.charAt(T.length)==="/"),G={isActive:D,isPending:U,isTransitioning:k},se=D?e:void 0,re;typeof r=="function"?re=r(G):re=[r,D?"active":null,U?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let Q=typeof a=="function"?a(G):a;return $.createElement(N_,{...u,"aria-current":se,className:re,ref:d,style:Q,to:s,viewTransition:o},typeof l=="function"?l(G):l)});oEe.displayName="NavLink";var lEe=$.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=lk,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...p},m)=>{let v=fEe(),w=pEe(o,{relative:u}),k=s.toLowerCase()==="get"?"get":"post",T=typeof o=="string"&&Ose.test(o),C=N=>{if(l&&l(N),N.defaultPrevented)return;N.preventDefault();let F=N.nativeEvent.submitter,D=F?.getAttribute("formmethod")||s;v(F||N.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:i,state:a,relative:u,preventScrollReset:d,viewTransition:h})};return $.createElement("form",{ref:m,method:k,action:w,onSubmit:r?l:C,...p,"data-discover":!T&&t==="render"?"true":void 0})});lEe.displayName="Form";function uEe(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mse(t){let e=$.useContext(av);return ua(e,uEe(t)),e}function cEe(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let o=vA(),l=Vm(),u=nS(t,{relative:a});return $.useCallback(d=>{if(zxe(d,e)){d.preventDefault();let h=n!==void 0?n:r1(l)===r1(u);o(t,{replace:h,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[l,o,u,n,r,e,t,i,a,s])}var dEe=0,hEe=()=>`__${String(++dEe)}__`;function fEe(){let{router:t}=Mse("useSubmit"),{basename:e}=$.useContext(Zd),n=Nxe();return $.useCallback(async(r,i={})=>{let{action:a,method:s,encType:o,formData:l,body:u}=Hxe(r,e);if(i.navigate===!1){let d=i.fetcherKey||hEe();await t.fetch(d,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function pEe(t,{relative:e}={}){let{basename:n}=$.useContext(Zd),r=$.useContext(Qd);ua(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...nS(t||".",{relative:e})},s=Vm();if(t==null){a.search=s.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();a.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:gf([n,a.pathname])),r1(a)}function mEe(t,e={}){let n=$.useContext(Ese);ua(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Mse("useViewTransitionState"),i=nS(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Em(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Em(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Xk(i.pathname,s)!=null||Xk(i.pathname,a)!=null}new TextEncoder;var rS=ise();const Pse=Yc(rS);function un(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function gEe(t,e){const n=$.createContext(e),r=a=>{const{children:s,...o}=a,l=$.useMemo(()=>o,Object.values(o));return z.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(a){const s=$.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function Hu(t,e=[]){let n=[];function r(a,s){const o=$.createContext(s),l=n.length;n=[...n,s];const u=h=>{const{scope:p,children:m,...v}=h,w=p?.[t]?.[l]||o,k=$.useMemo(()=>v,Object.values(v));return z.jsx(w.Provider,{value:k,children:m})};u.displayName=a+"Provider";function d(h,p){const m=p?.[t]?.[l]||o,v=$.useContext(m);if(v)return v;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=n.map(s=>$.createContext(s));return function(o){const l=o?.[t]||a;return $.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,yEe(i,...e)]}function yEe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:u})=>{const h=l(a)[`__scope${u}`];return{...o,...h}},{});return $.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function KV(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function _A(...t){return e=>{let n=!1;const r=t.map(i=>{const a=KV(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():KV(t[i],null)}}}}function Rr(...t){return $.useCallback(_A(...t),t)}var eu=$.forwardRef((t,e)=>{const{children:n,...r}=t,i=$.Children.toArray(n),a=i.find(bEe);if(a){const s=a.props.children,o=i.map(l=>l===a?$.Children.count(s)>1?$.Children.only(null):$.isValidElement(s)?s.props.children:null:l);return z.jsx(R6,{...r,ref:e,children:$.isValidElement(s)?$.cloneElement(s,void 0,o):null})}return z.jsx(R6,{...r,ref:e,children:n})});eu.displayName="Slot";var R6=$.forwardRef((t,e)=>{const{children:n,...r}=t;if($.isValidElement(n)){const i=wEe(n),a=vEe(r,n.props);return n.type!==$.Fragment&&(a.ref=e?_A(e,i):i),$.cloneElement(n,a)}return $.Children.count(n)>1?$.Children.only(null):null});R6.displayName="SlotClone";var Lse=({children:t})=>z.jsx(z.Fragment,{children:t});function bEe(t){return $.isValidElement(t)&&t.type===Lse}function vEe(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...o)=>{a(...o),i(...o)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function wEe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function p7(t){const e=t+"CollectionProvider",[n,r]=Hu(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=m=>{const{scope:v,children:w}=m,k=_t.useRef(null),T=_t.useRef(new Map).current;return z.jsx(i,{scope:v,itemMap:T,collectionRef:k,children:w})};s.displayName=e;const o=t+"CollectionSlot",l=_t.forwardRef((m,v)=>{const{scope:w,children:k}=m,T=a(o,w),C=Rr(v,T.collectionRef);return z.jsx(eu,{ref:C,children:k})});l.displayName=o;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=_t.forwardRef((m,v)=>{const{scope:w,children:k,...T}=m,C=_t.useRef(null),N=Rr(v,C),F=a(u,w);return _t.useEffect(()=>(F.itemMap.set(C,{ref:C,...T}),()=>void F.itemMap.delete(C))),z.jsx(eu,{[d]:"",ref:N,children:k})});h.displayName=u;function p(m){const v=a(t+"CollectionConsumer",m);return _t.useCallback(()=>{const k=v.collectionRef.current;if(!k)return[];const T=Array.from(k.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((F,D)=>T.indexOf(F.ref.current)-T.indexOf(D.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:s,Slot:l,ItemSlot:h},p,r]}var Bs=globalThis?.document?$.useLayoutEffect:()=>{},_Ee=lSe.useId||(()=>{}),SEe=0;function Fu(t){const[e,n]=$.useState(_Ee());return Bs(()=>{n(r=>r??String(SEe++))},[t]),e?`radix-${e}`:""}var xEe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Gn=xEe.reduce((t,e)=>{const n=$.forwardRef((r,i)=>{const{asChild:a,...s}=r,o=a?eu:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),z.jsx(o,{...s,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Dse(t,e){t&&rS.flushSync(()=>t.dispatchEvent(e))}function ts(t){const e=$.useRef(t);return $.useEffect(()=>{e.current=t}),$.useMemo(()=>(...n)=>e.current?.(...n),[])}function Sf({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=EEe({defaultProp:e,onChange:n}),a=t!==void 0,s=a?t:r,o=ts(n),l=$.useCallback(u=>{if(a){const h=typeof u=="function"?u(t):u;h!==t&&o(h)}else i(u)},[a,t,i,o]);return[s,l]}function EEe({defaultProp:t,onChange:e}){const n=$.useState(t),[r]=n,i=$.useRef(r),a=ts(e);return $.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}var kEe=$.createContext(void 0);function iS(t){const e=$.useContext(kEe);return t||e||"ltr"}var UI="rovingFocusGroup.onEntryFocus",TEe={bubbles:!1,cancelable:!0},SA="RovingFocusGroup",[I6,Fse,AEe]=p7(SA),[CEe,xA]=Hu(SA,[AEe]),[REe,IEe]=CEe(SA),Bse=$.forwardRef((t,e)=>z.jsx(I6.Provider,{scope:t.__scopeRovingFocusGroup,children:z.jsx(I6.Slot,{scope:t.__scopeRovingFocusGroup,children:z.jsx(NEe,{...t,ref:e})})}));Bse.displayName=SA;var NEe=$.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,p=$.useRef(null),m=Rr(e,p),v=iS(a),[w=null,k]=Sf({prop:s,defaultProp:o,onChange:l}),[T,C]=$.useState(!1),N=ts(u),F=Fse(n),D=$.useRef(!1),[U,G]=$.useState(0);return $.useEffect(()=>{const se=p.current;if(se)return se.addEventListener(UI,N),()=>se.removeEventListener(UI,N)},[N]),z.jsx(REe,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:w,onItemFocus:$.useCallback(se=>k(se),[k]),onItemShiftTab:$.useCallback(()=>C(!0),[]),onFocusableItemAdd:$.useCallback(()=>G(se=>se+1),[]),onFocusableItemRemove:$.useCallback(()=>G(se=>se-1),[]),children:z.jsx(Gn.div,{tabIndex:T||U===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:un(t.onMouseDown,()=>{D.current=!0}),onFocus:un(t.onFocus,se=>{const re=!D.current;if(se.target===se.currentTarget&&re&&!T){const Q=new CustomEvent(UI,TEe);if(se.currentTarget.dispatchEvent(Q),!Q.defaultPrevented){const ce=F().filter(ue=>ue.focusable),Ie=ce.find(ue=>ue.active),qe=ce.find(ue=>ue.id===w),Ce=[Ie,qe,...ce].filter(Boolean).map(ue=>ue.ref.current);zse(Ce,d)}}D.current=!1}),onBlur:un(t.onBlur,()=>C(!1))})})}),Use="RovingFocusGroupItem",jse=$.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,...s}=t,o=Fu(),l=a||o,u=IEe(Use,n),d=u.currentTabStopId===l,h=Fse(n),{onFocusableItemAdd:p,onFocusableItemRemove:m}=u;return $.useEffect(()=>{if(r)return p(),()=>m()},[r,p,m]),z.jsx(I6.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:z.jsx(Gn.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...s,ref:e,onMouseDown:un(t.onMouseDown,v=>{r?u.onItemFocus(l):v.preventDefault()}),onFocus:un(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:un(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const w=PEe(v,u.orientation,u.dir);if(w!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let T=h().filter(C=>C.focusable).map(C=>C.ref.current);if(w==="last")T.reverse();else if(w==="prev"||w==="next"){w==="prev"&&T.reverse();const C=T.indexOf(v.currentTarget);T=u.loop?LEe(T,C+1):T.slice(C+1)}setTimeout(()=>zse(T))}})})})});jse.displayName=Use;var OEe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function MEe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function PEe(t,e,n){const r=MEe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return OEe[r]}function zse(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function LEe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var $se=Bse,qse=jse;function DEe(t,e){return $.useReducer((n,r)=>e[n][r]??n,t)}var zo=t=>{const{present:e,children:n}=t,r=FEe(e),i=typeof n=="function"?n({present:r.isPresent}):$.Children.only(n),a=Rr(r.ref,BEe(i));return typeof n=="function"||r.isPresent?$.cloneElement(i,{ref:a}):null};zo.displayName="Presence";function FEe(t){const[e,n]=$.useState(),r=$.useRef({}),i=$.useRef(t),a=$.useRef("none"),s=t?"mounted":"unmounted",[o,l]=DEe(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return $.useEffect(()=>{const u=Jx(r.current);a.current=o==="mounted"?u:"none"},[o]),Bs(()=>{const u=r.current,d=i.current;if(d!==t){const p=a.current,m=Jx(u);t?l("MOUNT"):m==="none"||u?.display==="none"?l("UNMOUNT"):l(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Bs(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=m=>{const w=Jx(r.current).includes(m.animationName);if(m.target===e&&w&&(l("ANIMATION_END"),!i.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},p=m=>{m.target===e&&(a.current=Jx(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:$.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Jx(t){return t?.animationName||"none"}function BEe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var m7="Tabs",[UEe,rlt]=Hu(m7,[xA]),Hse=xA(),[jEe,g7]=UEe(m7),Vse=$.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:o,activationMode:l="automatic",...u}=t,d=iS(o),[h,p]=Sf({prop:r,onChange:i,defaultProp:a});return z.jsx(jEe,{scope:n,baseId:Fu(),value:h,onValueChange:p,orientation:s,dir:d,activationMode:l,children:z.jsx(Gn.div,{dir:d,"data-orientation":s,...u,ref:e})})});Vse.displayName=m7;var Gse="TabsList",Wse=$.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,a=g7(Gse,n),s=Hse(n);return z.jsx($se,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:r,children:z.jsx(Gn.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});Wse.displayName=Gse;var Kse="TabsTrigger",Yse=$.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=t,s=g7(Kse,n),o=Hse(n),l=Qse(s.baseId,r),u=Jse(s.baseId,r),d=r===s.value;return z.jsx(qse,{asChild:!0,...o,focusable:!i,active:d,children:z.jsx(Gn.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:e,onMouseDown:un(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?s.onValueChange(r):h.preventDefault()}),onKeyDown:un(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&s.onValueChange(r)}),onFocus:un(t.onFocus,()=>{const h=s.activationMode!=="manual";!d&&!i&&h&&s.onValueChange(r)})})})});Yse.displayName=Kse;var Xse="TabsContent",Zse=$.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...s}=t,o=g7(Xse,n),l=Qse(o.baseId,r),u=Jse(o.baseId,r),d=r===o.value,h=$.useRef(d);return $.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),z.jsx(zo,{present:i||d,children:({present:p})=>z.jsx(Gn.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:u,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&a})})});Zse.displayName=Xse;function Qse(t,e){return`${t}-trigger-${e}`}function Jse(t,e){return`${t}-content-${e}`}var zEe=Vse,eoe=Wse,toe=Yse,noe=Zse;function roe(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=roe(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ioe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=roe(t))&&(r&&(r+=" "),r+=e);return r}const y7="-",$Ee=t=>{const e=HEe(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const o=s.split(y7);return o[0]===""&&o.length!==1&&o.shift(),aoe(o,e)||qEe(s)},getConflictingClassGroupIds:(s,o)=>{const l=n[s]||[];return o&&r[s]?[...l,...r[s]]:l}}},aoe=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?aoe(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(y7);return e.validators.find(({validator:s})=>s(a))?.classGroupId},YV=/^\[(.+)\]$/,qEe=t=>{if(YV.test(t)){const e=YV.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},HEe=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)N6(n[i],r,i,e);return r},N6=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:XV(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(VEe(i)){N6(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,s])=>{N6(s,XV(e,a),n,r)})})},XV=(t,e)=>{let n=t;return e.split(y7).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},VEe=t=>t.isThemeGetter,GEe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,s)=>{n.set(a,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let s=n.get(a);if(s!==void 0)return s;if((s=r.get(a))!==void 0)return i(a,s),s},set(a,s){n.has(a)?n.set(a,s):i(a,s)}}},O6="!",M6=":",WEe=M6.length,KEe=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const a=[];let s=0,o=0,l=0,u;for(let v=0;v<i.length;v++){let w=i[v];if(s===0&&o===0){if(w===M6){a.push(i.slice(l,v)),l=v+WEe;continue}if(w==="/"){u=v;continue}}w==="["?s++:w==="]"?s--:w==="("?o++:w===")"&&o--}const d=a.length===0?i:i.substring(l),h=YEe(d),p=h!==d,m=u&&u>l?u-l:void 0;return{modifiers:a,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:m}};if(e){const i=e+M6,a=r;r=s=>s.startsWith(i)?a(s.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=a=>n({className:a,parseClassName:i})}return r},YEe=t=>t.endsWith(O6)?t.substring(0,t.length-1):t.startsWith(O6)?t.substring(1):t,XEe=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let a=[];return r.forEach(s=>{s[0]==="["||e[s]?(i.push(...a.sort(),s),a=[]):a.push(s)}),i.push(...a.sort()),i}},ZEe=t=>({cache:GEe(t.cacheSize),parseClassName:KEe(t),sortModifiers:XEe(t),...$Ee(t)}),QEe=/\s+/,JEe=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,s=[],o=t.trim().split(QEe);let l="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{isExternal:h,modifiers:p,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:w}=n(d);if(h){l=d+(l.length>0?" "+l:l);continue}let k=!!w,T=r(k?v.substring(0,w):v);if(!T){if(!k){l=d+(l.length>0?" "+l:l);continue}if(T=r(v),!T){l=d+(l.length>0?" "+l:l);continue}k=!1}const C=a(p).join(":"),N=m?C+O6:C,F=N+T;if(s.includes(F))continue;s.push(F);const D=i(T,k);for(let U=0;U<D.length;++U){const G=D[U];s.push(N+G)}l=d+(l.length>0?" "+l:l)}return l};function eke(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=soe(e))&&(r&&(r+=" "),r+=n);return r}const soe=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=soe(t[r]))&&(n&&(n+=" "),n+=e);return n};function tke(t,...e){let n,r,i,a=s;function s(l){const u=e.reduce((d,h)=>h(d),t());return n=ZEe(u),r=n.cache.get,i=n.cache.set,a=o,o(l)}function o(l){const u=r(l);if(u)return u;const d=JEe(l,n);return i(l,d),d}return function(){return a(eke.apply(null,arguments))}}const fs=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},ooe=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,loe=/^\((?:(\w[\w-]*):)?(.+)\)$/i,nke=/^\d+\/\d+$/,rke=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ike=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ake=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ske=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oke=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,by=t=>nke.test(t),Or=t=>!!t&&!Number.isNaN(Number(t)),Ag=t=>!!t&&Number.isInteger(Number(t)),ZV=t=>t.endsWith("%")&&Or(t.slice(0,-1)),Bp=t=>rke.test(t),lke=()=>!0,uke=t=>ike.test(t)&&!ake.test(t),b7=()=>!1,cke=t=>ske.test(t),dke=t=>oke.test(t),hke=t=>!wn(t)&&!_n(t),fke=t=>sv(t,doe,b7),wn=t=>ooe.test(t),Cg=t=>sv(t,hoe,uke),jI=t=>sv(t,Eke,Or),pke=t=>sv(t,uoe,b7),mke=t=>sv(t,coe,dke),gke=t=>sv(t,b7,cke),_n=t=>loe.test(t),eE=t=>ov(t,hoe),yke=t=>ov(t,kke),bke=t=>ov(t,uoe),vke=t=>ov(t,doe),wke=t=>ov(t,coe),_ke=t=>ov(t,Tke,!0),sv=(t,e,n)=>{const r=ooe.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},ov=(t,e,n=!1)=>{const r=loe.exec(t);return r?r[1]?e(r[1]):n:!1},uoe=t=>t==="position",Ske=new Set(["image","url"]),coe=t=>Ske.has(t),xke=new Set(["length","size","percentage"]),doe=t=>xke.has(t),hoe=t=>t==="length",Eke=t=>t==="number",kke=t=>t==="family-name",Tke=t=>t==="shadow",Ake=()=>{const t=fs("color"),e=fs("font"),n=fs("text"),r=fs("font-weight"),i=fs("tracking"),a=fs("leading"),s=fs("breakpoint"),o=fs("container"),l=fs("spacing"),u=fs("radius"),d=fs("shadow"),h=fs("inset-shadow"),p=fs("drop-shadow"),m=fs("blur"),v=fs("perspective"),w=fs("aspect"),k=fs("ease"),T=fs("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],U=()=>[_n,wn,l],G=()=>[by,"full","auto",...U()],se=()=>[Ag,"none","subgrid",_n,wn],re=()=>["auto",{span:["full",Ag,_n,wn]},_n,wn],Q=()=>[Ag,"auto",_n,wn],ce=()=>["auto","min","max","fr",_n,wn],Ie=()=>["start","end","center","between","around","evenly","stretch","baseline"],qe=()=>["start","end","center","stretch"],xe=()=>["auto",...U()],Ce=()=>[by,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...U()],ue=()=>[t,_n,wn],ke=()=>[ZV,Cg],Te=()=>["","none","full",u,_n,wn],he=()=>["",Or,eE,Cg],j=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ne=()=>["","none",m,_n,wn],ae=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_n,wn],He=()=>["none",Or,_n,wn],it=()=>["none",Or,_n,wn],Xe=()=>[Or,_n,wn],Ke=()=>[by,"full",...U()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Bp],breakpoint:[Bp],color:[lke],container:[Bp],"drop-shadow":[Bp],ease:["in","out","in-out"],font:[hke],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Bp],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Bp],shadow:[Bp],spacing:["px",Or],text:[Bp],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",by,wn,_n,w]}],container:["container"],columns:[{columns:[Or,wn,_n,o]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...N(),wn,_n]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:G()}],"inset-x":[{"inset-x":G()}],"inset-y":[{"inset-y":G()}],start:[{start:G()}],end:[{end:G()}],top:[{top:G()}],right:[{right:G()}],bottom:[{bottom:G()}],left:[{left:G()}],visibility:["visible","invisible","collapse"],z:[{z:[Ag,"auto",_n,wn]}],basis:[{basis:[by,"full","auto",o,...U()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Or,by,"auto","initial","none",wn]}],grow:[{grow:["",Or,_n,wn]}],shrink:[{shrink:["",Or,_n,wn]}],order:[{order:[Ag,"first","last","none",_n,wn]}],"grid-cols":[{"grid-cols":se()}],"col-start-end":[{col:re()}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":se()}],"row-start-end":[{row:re()}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ce()}],"auto-rows":[{"auto-rows":ce()}],gap:[{gap:U()}],"gap-x":[{"gap-x":U()}],"gap-y":[{"gap-y":U()}],"justify-content":[{justify:[...Ie(),"normal"]}],"justify-items":[{"justify-items":[...qe(),"normal"]}],"justify-self":[{"justify-self":["auto",...qe()]}],"align-content":[{content:["normal",...Ie()]}],"align-items":[{items:[...qe(),"baseline"]}],"align-self":[{self:["auto",...qe(),"baseline"]}],"place-content":[{"place-content":Ie()}],"place-items":[{"place-items":[...qe(),"baseline"]}],"place-self":[{"place-self":["auto",...qe()]}],p:[{p:U()}],px:[{px:U()}],py:[{py:U()}],ps:[{ps:U()}],pe:[{pe:U()}],pt:[{pt:U()}],pr:[{pr:U()}],pb:[{pb:U()}],pl:[{pl:U()}],m:[{m:xe()}],mx:[{mx:xe()}],my:[{my:xe()}],ms:[{ms:xe()}],me:[{me:xe()}],mt:[{mt:xe()}],mr:[{mr:xe()}],mb:[{mb:xe()}],ml:[{ml:xe()}],"space-x":[{"space-x":U()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":U()}],"space-y-reverse":["space-y-reverse"],size:[{size:Ce()}],w:[{w:[o,"screen",...Ce()]}],"min-w":[{"min-w":[o,"screen","none",...Ce()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[s]},...Ce()]}],h:[{h:["screen",...Ce()]}],"min-h":[{"min-h":["screen","none",...Ce()]}],"max-h":[{"max-h":["screen",...Ce()]}],"font-size":[{text:["base",n,eE,Cg]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,_n,jI]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ZV,wn]}],"font-family":[{font:[yke,wn,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,_n,wn]}],"line-clamp":[{"line-clamp":[Or,"none",_n,jI]}],leading:[{leading:[a,...U()]}],"list-image":[{"list-image":["none",_n,wn]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",_n,wn]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ue()}],"text-color":[{text:ue()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...j(),"wavy"]}],"text-decoration-thickness":[{decoration:[Or,"from-font","auto",_n,Cg]}],"text-decoration-color":[{decoration:ue()}],"underline-offset":[{"underline-offset":[Or,"auto",_n,wn]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_n,wn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_n,wn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...N(),bke,pke]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",vke,fke]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ag,_n,wn],radial:["",_n,wn],conic:[Ag,_n,wn]},wke,mke]}],"bg-color":[{bg:ue()}],"gradient-from-pos":[{from:ke()}],"gradient-via-pos":[{via:ke()}],"gradient-to-pos":[{to:ke()}],"gradient-from":[{from:ue()}],"gradient-via":[{via:ue()}],"gradient-to":[{to:ue()}],rounded:[{rounded:Te()}],"rounded-s":[{"rounded-s":Te()}],"rounded-e":[{"rounded-e":Te()}],"rounded-t":[{"rounded-t":Te()}],"rounded-r":[{"rounded-r":Te()}],"rounded-b":[{"rounded-b":Te()}],"rounded-l":[{"rounded-l":Te()}],"rounded-ss":[{"rounded-ss":Te()}],"rounded-se":[{"rounded-se":Te()}],"rounded-ee":[{"rounded-ee":Te()}],"rounded-es":[{"rounded-es":Te()}],"rounded-tl":[{"rounded-tl":Te()}],"rounded-tr":[{"rounded-tr":Te()}],"rounded-br":[{"rounded-br":Te()}],"rounded-bl":[{"rounded-bl":Te()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...j(),"hidden","none"]}],"divide-style":[{divide:[...j(),"hidden","none"]}],"border-color":[{border:ue()}],"border-color-x":[{"border-x":ue()}],"border-color-y":[{"border-y":ue()}],"border-color-s":[{"border-s":ue()}],"border-color-e":[{"border-e":ue()}],"border-color-t":[{"border-t":ue()}],"border-color-r":[{"border-r":ue()}],"border-color-b":[{"border-b":ue()}],"border-color-l":[{"border-l":ue()}],"divide-color":[{divide:ue()}],"outline-style":[{outline:[...j(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Or,_n,wn]}],"outline-w":[{outline:["",Or,eE,Cg]}],"outline-color":[{outline:[t]}],shadow:[{shadow:["","none",d,_ke,gke]}],"shadow-color":[{shadow:ue()}],"inset-shadow":[{"inset-shadow":["none",_n,wn,h]}],"inset-shadow-color":[{"inset-shadow":ue()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ue()}],"ring-offset-w":[{"ring-offset":[Or,Cg]}],"ring-offset-color":[{"ring-offset":ue()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":ue()}],opacity:[{opacity:[Or,_n,wn]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],filter:[{filter:["","none",_n,wn]}],blur:[{blur:Ne()}],brightness:[{brightness:[Or,_n,wn]}],contrast:[{contrast:[Or,_n,wn]}],"drop-shadow":[{"drop-shadow":["","none",p,_n,wn]}],grayscale:[{grayscale:["",Or,_n,wn]}],"hue-rotate":[{"hue-rotate":[Or,_n,wn]}],invert:[{invert:["",Or,_n,wn]}],saturate:[{saturate:[Or,_n,wn]}],sepia:[{sepia:["",Or,_n,wn]}],"backdrop-filter":[{"backdrop-filter":["","none",_n,wn]}],"backdrop-blur":[{"backdrop-blur":Ne()}],"backdrop-brightness":[{"backdrop-brightness":[Or,_n,wn]}],"backdrop-contrast":[{"backdrop-contrast":[Or,_n,wn]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Or,_n,wn]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Or,_n,wn]}],"backdrop-invert":[{"backdrop-invert":["",Or,_n,wn]}],"backdrop-opacity":[{"backdrop-opacity":[Or,_n,wn]}],"backdrop-saturate":[{"backdrop-saturate":[Or,_n,wn]}],"backdrop-sepia":[{"backdrop-sepia":["",Or,_n,wn]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":U()}],"border-spacing-x":[{"border-spacing-x":U()}],"border-spacing-y":[{"border-spacing-y":U()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",_n,wn]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Or,"initial",_n,wn]}],ease:[{ease:["linear","initial",k,_n,wn]}],delay:[{delay:[Or,_n,wn]}],animate:[{animate:["none",T,_n,wn]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,_n,wn]}],"perspective-origin":[{"perspective-origin":ae()}],rotate:[{rotate:He()}],"rotate-x":[{"rotate-x":He()}],"rotate-y":[{"rotate-y":He()}],"rotate-z":[{"rotate-z":He()}],scale:[{scale:it()}],"scale-x":[{"scale-x":it()}],"scale-y":[{"scale-y":it()}],"scale-z":[{"scale-z":it()}],"scale-3d":["scale-3d"],skew:[{skew:Xe()}],"skew-x":[{"skew-x":Xe()}],"skew-y":[{"skew-y":Xe()}],transform:[{transform:[_n,wn,"","none","gpu","cpu"]}],"transform-origin":[{origin:ae()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ke()}],"translate-x":[{"translate-x":Ke()}],"translate-y":[{"translate-y":Ke()}],"translate-z":[{"translate-z":Ke()}],"translate-none":["translate-none"],accent:[{accent:ue()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ue()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_n,wn]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_n,wn]}],fill:[{fill:["none",...ue()]}],"stroke-w":[{stroke:[Or,eE,Cg,jI]}],stroke:[{stroke:["none",...ue()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},Cke=tke(Ake);function cn(...t){return Cke(ioe(t))}const Rke=zEe,foe=$.forwardRef(({className:t,...e},n)=>z.jsx(eoe,{ref:n,className:cn("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));foe.displayName=eoe.displayName;const qw=$.forwardRef(({className:t,...e},n)=>z.jsx(toe,{ref:n,className:cn("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));qw.displayName=toe.displayName;const Hw=$.forwardRef(({className:t,...e},n)=>z.jsx(noe,{ref:n,className:cn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Hw.displayName=noe.displayName;var ck={exports:{}},Ike=ck.exports,QV;function Nke(){return QV||(QV=1,function(t,e){(function(n,r){t.exports=r()})(Ike,function(){var n=function(A,O){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,J){H.__proto__=J}||function(H,J){for(var ie in J)Object.prototype.hasOwnProperty.call(J,ie)&&(H[ie]=J[ie])})(A,O)},r=function(){return(r=Object.assign||function(A){for(var O,H=1,J=arguments.length;H<J;H++)for(var ie in O=arguments[H])Object.prototype.hasOwnProperty.call(O,ie)&&(A[ie]=O[ie]);return A}).apply(this,arguments)};function i(A,O,H){for(var J,ie=0,fe=O.length;ie<fe;ie++)!J&&ie in O||((J=J||Array.prototype.slice.call(O,0,ie))[ie]=O[ie]);return A.concat(J||Array.prototype.slice.call(O))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:t1,s=Object.keys,o=Array.isArray;function l(A,O){return typeof O!="object"||s(O).forEach(function(H){A[H]=O[H]}),A}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var u=Object.getPrototypeOf,d={}.hasOwnProperty;function h(A,O){return d.call(A,O)}function p(A,O){typeof O=="function"&&(O=O(u(A))),(typeof Reflect>"u"?s:Reflect.ownKeys)(O).forEach(function(H){v(A,H,O[H])})}var m=Object.defineProperty;function v(A,O,H,J){m(A,O,l(H&&h(H,"get")&&typeof H.get=="function"?{get:H.get,set:H.set,configurable:!0}:{value:H,configurable:!0,writable:!0},J))}function w(A){return{from:function(O){return A.prototype=Object.create(O.prototype),v(A.prototype,"constructor",A),{extend:p.bind(null,A.prototype)}}}}var k=Object.getOwnPropertyDescriptor,T=[].slice;function C(A,O,H){return T.call(A,O,H)}function N(A,O){return O(A)}function F(A){if(!A)throw new Error("Assertion Failed")}function D(A){a.setImmediate?setImmediate(A):setTimeout(A,0)}function U(A,O){if(typeof O=="string"&&h(A,O))return A[O];if(!O)return A;if(typeof O!="string"){for(var H=[],J=0,ie=O.length;J<ie;++J){var fe=U(A,O[J]);H.push(fe)}return H}var Ae=O.indexOf(".");if(Ae!==-1){var Fe=A[O.substr(0,Ae)];return Fe==null?void 0:U(Fe,O.substr(Ae+1))}}function G(A,O,H){if(A&&O!==void 0&&!("isFrozen"in Object&&Object.isFrozen(A)))if(typeof O!="string"&&"length"in O){F(typeof H!="string"&&"length"in H);for(var J=0,ie=O.length;J<ie;++J)G(A,O[J],H[J])}else{var fe,Ae,Fe=O.indexOf(".");Fe!==-1?(fe=O.substr(0,Fe),(Ae=O.substr(Fe+1))===""?H===void 0?o(A)&&!isNaN(parseInt(fe))?A.splice(fe,1):delete A[fe]:A[fe]=H:G(Fe=!(Fe=A[fe])||!h(A,fe)?A[fe]={}:Fe,Ae,H)):H===void 0?o(A)&&!isNaN(parseInt(O))?A.splice(O,1):delete A[O]:A[O]=H}}function se(A){var O,H={};for(O in A)h(A,O)&&(H[O]=A[O]);return H}var re=[].concat;function Q(A){return re.apply([],A)}var Oe="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Q([8,16,32,64].map(function(A){return["Int","Uint","Float"].map(function(O){return O+A+"Array"})}))).filter(function(A){return a[A]}),ce=new Set(Oe.map(function(A){return a[A]})),Ie=null;function qe(A){return Ie=new WeakMap,A=function O(H){if(!H||typeof H!="object")return H;var J=Ie.get(H);if(J)return J;if(o(H)){J=[],Ie.set(H,J);for(var ie=0,fe=H.length;ie<fe;++ie)J.push(O(H[ie]))}else if(ce.has(H.constructor))J=H;else{var Ae,Fe=u(H);for(Ae in J=Fe===Object.prototype?{}:Object.create(Fe),Ie.set(H,J),H)h(H,Ae)&&(J[Ae]=O(H[Ae]))}return J}(A),Ie=null,A}var xe={}.toString;function Ce(A){return xe.call(A).slice(8,-1)}var ue=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ke=typeof ue=="symbol"?function(A){var O;return A!=null&&(O=A[ue])&&O.apply(A)}:function(){return null};function Te(A,O){return O=A.indexOf(O),0<=O&&A.splice(O,1),0<=O}var he={};function j(A){var O,H,J,ie;if(arguments.length===1){if(o(A))return A.slice();if(this===he&&typeof A=="string")return[A];if(ie=ke(A)){for(H=[];!(J=ie.next()).done;)H.push(J.value);return H}if(A==null)return[A];if(typeof(O=A.length)!="number")return[A];for(H=new Array(O);O--;)H[O]=A[O];return H}for(O=arguments.length,H=new Array(O);O--;)H[O]=arguments[O];return H}var pe=typeof Symbol<"u"?function(A){return A[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},nt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Nr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(nt),Ne={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ae(A,O){this.name=A,this.message=O}function He(A,O){return A+". Errors: "+Object.keys(O).map(function(H){return O[H].toString()}).filter(function(H,J,ie){return ie.indexOf(H)===J}).join(`
`)}function it(A,O,H,J){this.failures=O,this.failedKeys=J,this.successCount=H,this.message=He(A,O)}function Xe(A,O){this.name="BulkError",this.failures=Object.keys(O).map(function(H){return O[H]}),this.failuresByPos=O,this.message=He(A,this.failures)}w(ae).from(Error).extend({toString:function(){return this.name+": "+this.message}}),w(it).from(ae),w(Xe).from(ae);var Ke=Nr.reduce(function(A,O){return A[O]=O+"Error",A},{}),ct=ae,de=Nr.reduce(function(A,O){var H=O+"Error";function J(ie,fe){this.name=H,ie?typeof ie=="string"?(this.message="".concat(ie).concat(fe?`
 `+fe:""),this.inner=fe||null):typeof ie=="object"&&(this.message="".concat(ie.name," ").concat(ie.message),this.inner=ie):(this.message=Ne[O]||H,this.inner=null)}return w(J).from(ct),A[O]=J,A},{});de.Syntax=SyntaxError,de.Type=TypeError,de.Range=RangeError;var Se=nt.reduce(function(A,O){return A[O+"Error"]=de[O],A},{}),ht=Nr.reduce(function(A,O){return["Syntax","Type","Range"].indexOf(O)===-1&&(A[O+"Error"]=de[O]),A},{});function vt(){}function Dt(A){return A}function an(A,O){return A==null||A===Dt?O:function(H){return O(A(H))}}function Nt(A,O){return function(){A.apply(this,arguments),O.apply(this,arguments)}}function Un(A,O){return A===vt?O:function(){var H=A.apply(this,arguments);H!==void 0&&(arguments[0]=H);var J=this.onsuccess,ie=this.onerror;this.onsuccess=null,this.onerror=null;var fe=O.apply(this,arguments);return J&&(this.onsuccess=this.onsuccess?Nt(J,this.onsuccess):J),ie&&(this.onerror=this.onerror?Nt(ie,this.onerror):ie),fe!==void 0?fe:H}}function rn(A,O){return A===vt?O:function(){A.apply(this,arguments);var H=this.onsuccess,J=this.onerror;this.onsuccess=this.onerror=null,O.apply(this,arguments),H&&(this.onsuccess=this.onsuccess?Nt(H,this.onsuccess):H),J&&(this.onerror=this.onerror?Nt(J,this.onerror):J)}}function tr(A,O){return A===vt?O:function(H){var J=A.apply(this,arguments);l(H,J);var ie=this.onsuccess,fe=this.onerror;return this.onsuccess=null,this.onerror=null,H=O.apply(this,arguments),ie&&(this.onsuccess=this.onsuccess?Nt(ie,this.onsuccess):ie),fe&&(this.onerror=this.onerror?Nt(fe,this.onerror):fe),J===void 0?H===void 0?void 0:H:l(J,H)}}function nr(A,O){return A===vt?O:function(){return O.apply(this,arguments)!==!1&&A.apply(this,arguments)}}function Dr(A,O){return A===vt?O:function(){var H=A.apply(this,arguments);if(H&&typeof H.then=="function"){for(var J=this,ie=arguments.length,fe=new Array(ie);ie--;)fe[ie]=arguments[ie];return H.then(function(){return O.apply(J,fe)})}return O.apply(this,arguments)}}ht.ModifyError=it,ht.DexieError=ae,ht.BulkError=Xe;var Ee=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ee(A){Ee=A}var te={},Re=100,Oe=typeof Promise>"u"?[]:function(){var A=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[A,u(A),A];var O=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[O,u(O),A]}(),nt=Oe[0],Nr=Oe[1],Oe=Oe[2],Nr=Nr&&Nr.then,K=nt&&nt.constructor,B=!!Oe,V=function(A,O){Sn.push([A,O]),je&&(queueMicrotask(on),je=!1)},be=!0,je=!0,We=[],gt=[],sn=Dt,xn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:vt,pgp:!1,env:{},finalize:vt},Mt=xn,Sn=[],En=0,li=[];function ze(A){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var O=this._PSD=Mt;if(typeof A!="function"){if(A!==te)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Pt(this,this._value))}this._state=null,this._value=null,++O.ref,function H(J,ie){try{ie(function(fe){if(J._state===null){if(fe===J)throw new TypeError("A promise cannot be resolved with itself.");var Ae=J._lib&&qn();fe&&typeof fe.then=="function"?H(J,function(Fe,Ve){fe instanceof ze?fe._then(Fe,Ve):fe.then(Fe,Ve)}):(J._state=!0,J._value=fe,In(J)),Ae&&St()}},Pt.bind(null,J))}catch(fe){Pt(J,fe)}}(this,A)}var Yt={get:function(){var A=Mt,O=Xn;function H(J,ie){var fe=this,Ae=!A.global&&(A!==Mt||O!==Xn),Fe=Ae&&!Ha(),Ve=new ze(function(Ye,Je){Ft(fe,new _e(Zi(J,A,Ae,Fe),Zi(ie,A,Ae,Fe),Ye,Je,A))});return this._consoleTask&&(Ve._consoleTask=this._consoleTask),Ve}return H.prototype=te,H},set:function(A){v(this,"then",A&&A.prototype===te?Yt:{get:function(){return A},set:Yt.set})}};function _e(A,O,H,J,ie){this.onFulfilled=typeof A=="function"?A:null,this.onRejected=typeof O=="function"?O:null,this.resolve=H,this.reject=J,this.psd=ie}function Pt(A,O){var H,J;gt.push(O),A._state===null&&(H=A._lib&&qn(),O=sn(O),A._state=!1,A._value=O,J=A,We.some(function(ie){return ie._value===J._value})||We.push(J),In(A),H&&St())}function In(A){var O=A._listeners;A._listeners=[];for(var H=0,J=O.length;H<J;++H)Ft(A,O[H]);var ie=A._PSD;--ie.ref||ie.finalize(),En===0&&(++En,V(function(){--En==0&&Ct()},[]))}function Ft(A,O){if(A._state!==null){var H=A._state?O.onFulfilled:O.onRejected;if(H===null)return(A._state?O.resolve:O.reject)(A._value);++O.psd.ref,++En,V(Ir,[H,A,O])}else A._listeners.push(O)}function Ir(A,O,H){try{var J,ie=O._value;!O._state&&gt.length&&(gt=[]),J=Ee&&O._consoleTask?O._consoleTask.run(function(){return A(ie)}):A(ie),O._state||gt.indexOf(ie)!==-1||function(fe){for(var Ae=We.length;Ae;)if(We[--Ae]._value===fe._value)return We.splice(Ae,1)}(O),H.resolve(J)}catch(fe){H.reject(fe)}finally{--En==0&&Ct(),--H.psd.ref||H.psd.finalize()}}function on(){Xi(xn,function(){qn()&&St()})}function qn(){var A=be;return je=be=!1,A}function St(){var A,O,H;do for(;0<Sn.length;)for(A=Sn,Sn=[],H=A.length,O=0;O<H;++O){var J=A[O];J[0].apply(null,J[1])}while(0<Sn.length);je=be=!0}function Ct(){var A=We;We=[],A.forEach(function(J){J._PSD.onunhandled.call(null,J._value,J)});for(var O=li.slice(0),H=O.length;H;)O[--H]()}function ji(A){return new ze(te,!1,A)}function mn(A,O){var H=Mt;return function(){var J=qn(),ie=Mt;try{return Ni(H,!0),A.apply(this,arguments)}catch(fe){O&&O(fe)}finally{Ni(ie,!1),J&&St()}}}p(ze.prototype,{then:Yt,_then:function(A,O){Ft(this,new _e(null,null,A,O,Mt))},catch:function(A){if(arguments.length===1)return this.then(null,A);var O=A,H=arguments[1];return typeof O=="function"?this.then(null,function(J){return(J instanceof O?H:ji)(J)}):this.then(null,function(J){return(J&&J.name===O?H:ji)(J)})},finally:function(A){return this.then(function(O){return ze.resolve(A()).then(function(){return O})},function(O){return ze.resolve(A()).then(function(){return ji(O)})})},timeout:function(A,O){var H=this;return A<1/0?new ze(function(J,ie){var fe=setTimeout(function(){return ie(new de.Timeout(O))},A);H.then(J,ie).finally(clearTimeout.bind(null,fe))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&v(ze.prototype,Symbol.toStringTag,"Dexie.Promise"),xn.env=_i(),p(ze,{all:function(){var A=j.apply(null,arguments).map(Wo);return new ze(function(O,H){A.length===0&&O([]);var J=A.length;A.forEach(function(ie,fe){return ze.resolve(ie).then(function(Ae){A[fe]=Ae,--J||O(A)},H)})})},resolve:function(A){return A instanceof ze?A:A&&typeof A.then=="function"?new ze(function(O,H){A.then(O,H)}):new ze(te,!0,A)},reject:ji,race:function(){var A=j.apply(null,arguments).map(Wo);return new ze(function(O,H){A.map(function(J){return ze.resolve(J).then(O,H)})})},PSD:{get:function(){return Mt},set:function(A){return Mt=A}},totalEchoes:{get:function(){return Xn}},newPSD:vr,usePSD:Xi,scheduler:{get:function(){return V},set:function(A){V=A}},rejectionMapper:{get:function(){return sn},set:function(A){sn=A}},follow:function(A,O){return new ze(function(H,J){return vr(function(ie,fe){var Ae=Mt;Ae.unhandleds=[],Ae.onunhandled=fe,Ae.finalize=Nt(function(){var Fe,Ve=this;Fe=function(){Ve.unhandleds.length===0?ie():fe(Ve.unhandleds[0])},li.push(function Ye(){Fe(),li.splice(li.indexOf(Ye),1)}),++En,V(function(){--En==0&&Ct()},[])},Ae.finalize),A()},O,H,J)})}}),K&&(K.allSettled&&v(ze,"allSettled",function(){var A=j.apply(null,arguments).map(Wo);return new ze(function(O){A.length===0&&O([]);var H=A.length,J=new Array(H);A.forEach(function(ie,fe){return ze.resolve(ie).then(function(Ae){return J[fe]={status:"fulfilled",value:Ae}},function(Ae){return J[fe]={status:"rejected",reason:Ae}}).then(function(){return--H||O(J)})})})}),K.any&&typeof AggregateError<"u"&&v(ze,"any",function(){var A=j.apply(null,arguments).map(Wo);return new ze(function(O,H){A.length===0&&H(new AggregateError([]));var J=A.length,ie=new Array(J);A.forEach(function(fe,Ae){return ze.resolve(fe).then(function(Fe){return O(Fe)},function(Fe){ie[Ae]=Fe,--J||H(new AggregateError(ie))})})})}),K.withResolvers&&(ze.withResolvers=K.withResolvers));var Jt={awaits:0,echoes:0,id:0},Ra=0,ss=[],ni=0,Xn=0,Tr=0;function vr(A,O,H,J){var ie=Mt,fe=Object.create(ie);return fe.parent=ie,fe.ref=0,fe.global=!1,fe.id=++Tr,xn.env,fe.env=B?{Promise:ze,PromiseProp:{value:ze,configurable:!0,writable:!0},all:ze.all,race:ze.race,allSettled:ze.allSettled,any:ze.any,resolve:ze.resolve,reject:ze.reject}:{},O&&l(fe,O),++ie.ref,fe.finalize=function(){--this.parent.ref||this.parent.finalize()},J=Xi(fe,A,H,J),fe.ref===0&&fe.finalize(),J}function Zr(){return Jt.id||(Jt.id=++Ra),++Jt.awaits,Jt.echoes+=Re,Jt.id}function Ha(){return!!Jt.awaits&&(--Jt.awaits==0&&(Jt.id=0),Jt.echoes=Jt.awaits*Re,!0)}function Wo(A){return Jt.echoes&&A&&A.constructor===K?(Zr(),A.then(function(O){return Ha(),O},function(O){return Ha(),ui(O)})):A}function ki(){var A=ss[ss.length-1];ss.pop(),Ni(A,!1)}function Ni(A,O){var H,J=Mt;(O?!Jt.echoes||ni++&&A===Mt:!ni||--ni&&A===Mt)||queueMicrotask(O?function(ie){++Xn,Jt.echoes&&--Jt.echoes!=0||(Jt.echoes=Jt.awaits=Jt.id=0),ss.push(Mt),Ni(ie,!0)}.bind(null,A):ki),A!==Mt&&(Mt=A,J===xn&&(xn.env=_i()),B&&(H=xn.env.Promise,O=A.env,(J.global||A.global)&&(Object.defineProperty(a,"Promise",O.PromiseProp),H.all=O.all,H.race=O.race,H.resolve=O.resolve,H.reject=O.reject,O.allSettled&&(H.allSettled=O.allSettled),O.any&&(H.any=O.any))))}function _i(){var A=a.Promise;return B?{Promise:A,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:A.all,race:A.race,allSettled:A.allSettled,any:A.any,resolve:A.resolve,reject:A.reject}:{}}function Xi(A,O,H,J,ie){var fe=Mt;try{return Ni(A,!0),O(H,J,ie)}finally{Ni(fe,!1)}}function Zi(A,O,H,J){return typeof A!="function"?A:function(){var ie=Mt;H&&Zr(),Ni(O,!0);try{return A.apply(this,arguments)}finally{Ni(ie,!1),J&&queueMicrotask(Ha)}}}function lo(A){Promise===K&&Jt.echoes===0?ni===0?A():enqueueNativeMicroTask(A):setTimeout(A,0)}(""+Nr).indexOf("[native code]")===-1&&(Zr=Ha=vt);var ui=ze.reject,Es="￿",ci="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",qf="String expected.",Ku=[],Ko="__dbnames",au="readonly",uo="readwrite";function Yu(A,O){return A?O?function(){return A.apply(this,arguments)&&O.apply(this,arguments)}:A:O}var tg={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function lh(A){return typeof A!="string"||/\./.test(A)?function(O){return O}:function(O){return O[A]===void 0&&A in O&&delete(O=qe(O))[A],O}}function B0(){throw de.Type()}function ar(A,O){try{var H=uh(A),J=uh(O);if(H!==J)return H==="Array"?1:J==="Array"?-1:H==="binary"?1:J==="binary"?-1:H==="string"?1:J==="string"?-1:H==="Date"?1:J!=="Date"?NaN:-1;switch(H){case"number":case"Date":case"string":return O<A?1:A<O?-1:0;case"binary":return function(ie,fe){for(var Ae=ie.length,Fe=fe.length,Ve=Ae<Fe?Ae:Fe,Ye=0;Ye<Ve;++Ye)if(ie[Ye]!==fe[Ye])return ie[Ye]<fe[Ye]?-1:1;return Ae===Fe?0:Ae<Fe?-1:1}(Yo(A),Yo(O));case"Array":return function(ie,fe){for(var Ae=ie.length,Fe=fe.length,Ve=Ae<Fe?Ae:Fe,Ye=0;Ye<Ve;++Ye){var Je=ar(ie[Ye],fe[Ye]);if(Je!==0)return Je}return Ae===Fe?0:Ae<Fe?-1:1}(A,O)}}catch{}return NaN}function uh(A){var O=typeof A;return O!="object"?O:ArrayBuffer.isView(A)?"binary":(A=Ce(A),A==="ArrayBuffer"?"binary":A)}function Yo(A){return A instanceof Uint8Array?A:ArrayBuffer.isView(A)?new Uint8Array(A.buffer,A.byteOffset,A.byteLength):new Uint8Array(A)}var ks=(di.prototype._trans=function(A,O,H){var J=this._tx||Mt.trans,ie=this.name,fe=Ee&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(A==="readonly"?"read":"write"," ").concat(this.name));function Ae(Ye,Je,$e){if(!$e.schema[ie])throw new de.NotFound("Table "+ie+" not part of transaction");return O($e.idbtrans,$e)}var Fe=qn();try{var Ve=J&&J.db._novip===this.db._novip?J===Mt.trans?J._promise(A,Ae,H):vr(function(){return J._promise(A,Ae,H)},{trans:J,transless:Mt.transless||Mt}):function Ye(Je,$e,ot,Ge){if(Je.idbdb&&(Je._state.openComplete||Mt.letThrough||Je._vip)){var tt=Je._createTransaction($e,ot,Je._dbSchema);try{tt.create(),Je._state.PR1398_maxLoop=3}catch(at){return at.name===Ke.InvalidState&&Je.isOpen()&&0<--Je._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Je.close({disableAutoOpen:!1}),Je.open().then(function(){return Ye(Je,$e,ot,Ge)})):ui(at)}return tt._promise($e,function(at,Qe){return vr(function(){return Mt.trans=tt,Ge(at,Qe,tt)})}).then(function(at){if($e==="readwrite")try{tt.idbtrans.commit()}catch{}return $e==="readonly"?at:tt._completion.then(function(){return at})})}if(Je._state.openComplete)return ui(new de.DatabaseClosed(Je._state.dbOpenError));if(!Je._state.isBeingOpened){if(!Je._state.autoOpen)return ui(new de.DatabaseClosed);Je.open().catch(vt)}return Je._state.dbReadyPromise.then(function(){return Ye(Je,$e,ot,Ge)})}(this.db,A,[this.name],Ae);return fe&&(Ve._consoleTask=fe,Ve=Ve.catch(function(Ye){return console.trace(Ye),ui(Ye)})),Ve}finally{Fe&&St()}},di.prototype.get=function(A,O){var H=this;return A&&A.constructor===Object?this.where(A).first(O):A==null?ui(new de.Type("Invalid argument to Table.get()")):this._trans("readonly",function(J){return H.core.get({trans:J,key:A}).then(function(ie){return H.hook.reading.fire(ie)})}).then(O)},di.prototype.where=function(A){if(typeof A=="string")return new this.db.WhereClause(this,A);if(o(A))return new this.db.WhereClause(this,"[".concat(A.join("+"),"]"));var O=s(A);if(O.length===1)return this.where(O[0]).equals(A[O[0]]);var H=this.schema.indexes.concat(this.schema.primKey).filter(function(Fe){if(Fe.compound&&O.every(function(Ye){return 0<=Fe.keyPath.indexOf(Ye)})){for(var Ve=0;Ve<O.length;++Ve)if(O.indexOf(Fe.keyPath[Ve])===-1)return!1;return!0}return!1}).sort(function(Fe,Ve){return Fe.keyPath.length-Ve.keyPath.length})[0];if(H&&this.db._maxKey!==Es){var fe=H.keyPath.slice(0,O.length);return this.where(fe).equals(fe.map(function(Ve){return A[Ve]}))}!H&&Ee&&console.warn("The query ".concat(JSON.stringify(A)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(O.join("+"),"]"));var J=this.schema.idxByName;function ie(Fe,Ve){return ar(Fe,Ve)===0}var Ae=O.reduce(function($e,Ve){var Ye=$e[0],Je=$e[1],$e=J[Ve],ot=A[Ve];return[Ye||$e,Ye||!$e?Yu(Je,$e&&$e.multi?function(Ge){return Ge=U(Ge,Ve),o(Ge)&&Ge.some(function(tt){return ie(ot,tt)})}:function(Ge){return ie(ot,U(Ge,Ve))}):Je]},[null,null]),fe=Ae[0],Ae=Ae[1];return fe?this.where(fe.name).equals(A[fe.keyPath]).filter(Ae):H?this.filter(Ae):this.where(O).equals("")},di.prototype.filter=function(A){return this.toCollection().and(A)},di.prototype.count=function(A){return this.toCollection().count(A)},di.prototype.offset=function(A){return this.toCollection().offset(A)},di.prototype.limit=function(A){return this.toCollection().limit(A)},di.prototype.each=function(A){return this.toCollection().each(A)},di.prototype.toArray=function(A){return this.toCollection().toArray(A)},di.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},di.prototype.orderBy=function(A){return new this.db.Collection(new this.db.WhereClause(this,o(A)?"[".concat(A.join("+"),"]"):A))},di.prototype.reverse=function(){return this.toCollection().reverse()},di.prototype.mapToClass=function(A){var O,H=this.db,J=this.name;function ie(){return O!==null&&O.apply(this,arguments)||this}(this.schema.mappedClass=A).prototype instanceof B0&&(function(Ve,Ye){if(typeof Ye!="function"&&Ye!==null)throw new TypeError("Class extends value "+String(Ye)+" is not a constructor or null");function Je(){this.constructor=Ve}n(Ve,Ye),Ve.prototype=Ye===null?Object.create(Ye):(Je.prototype=Ye.prototype,new Je)}(ie,O=A),Object.defineProperty(ie.prototype,"db",{get:function(){return H},enumerable:!1,configurable:!0}),ie.prototype.table=function(){return J},A=ie);for(var fe=new Set,Ae=A.prototype;Ae;Ae=u(Ae))Object.getOwnPropertyNames(Ae).forEach(function(Ve){return fe.add(Ve)});function Fe(Ve){if(!Ve)return Ve;var Ye,Je=Object.create(A.prototype);for(Ye in Ve)if(!fe.has(Ye))try{Je[Ye]=Ve[Ye]}catch{}return Je}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=Fe,this.hook("reading",Fe),A},di.prototype.defineClass=function(){return this.mapToClass(function(A){l(this,A)})},di.prototype.add=function(A,O){var H=this,J=this.schema.primKey,ie=J.auto,fe=J.keyPath,Ae=A;return fe&&ie&&(Ae=lh(fe)(A)),this._trans("readwrite",function(Fe){return H.core.mutate({trans:Fe,type:"add",keys:O!=null?[O]:null,values:[Ae]})}).then(function(Fe){return Fe.numFailures?ze.reject(Fe.failures[0]):Fe.lastResult}).then(function(Fe){if(fe)try{G(A,fe,Fe)}catch{}return Fe})},di.prototype.update=function(A,O){return typeof A!="object"||o(A)?this.where(":id").equals(A).modify(O):(A=U(A,this.schema.primKey.keyPath),A===void 0?ui(new de.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(A).modify(O))},di.prototype.put=function(A,O){var H=this,J=this.schema.primKey,ie=J.auto,fe=J.keyPath,Ae=A;return fe&&ie&&(Ae=lh(fe)(A)),this._trans("readwrite",function(Fe){return H.core.mutate({trans:Fe,type:"put",values:[Ae],keys:O!=null?[O]:null})}).then(function(Fe){return Fe.numFailures?ze.reject(Fe.failures[0]):Fe.lastResult}).then(function(Fe){if(fe)try{G(A,fe,Fe)}catch{}return Fe})},di.prototype.delete=function(A){var O=this;return this._trans("readwrite",function(H){return O.core.mutate({trans:H,type:"delete",keys:[A]})}).then(function(H){return H.numFailures?ze.reject(H.failures[0]):void 0})},di.prototype.clear=function(){var A=this;return this._trans("readwrite",function(O){return A.core.mutate({trans:O,type:"deleteRange",range:tg})}).then(function(O){return O.numFailures?ze.reject(O.failures[0]):void 0})},di.prototype.bulkGet=function(A){var O=this;return this._trans("readonly",function(H){return O.core.getMany({keys:A,trans:H}).then(function(J){return J.map(function(ie){return O.hook.reading.fire(ie)})})})},di.prototype.bulkAdd=function(A,O,H){var J=this,ie=Array.isArray(O)?O:void 0,fe=(H=H||(ie?void 0:O))?H.allKeys:void 0;return this._trans("readwrite",function(Ae){var Ye=J.schema.primKey,Fe=Ye.auto,Ye=Ye.keyPath;if(Ye&&ie)throw new de.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(ie&&ie.length!==A.length)throw new de.InvalidArgument("Arguments objects and keys must have the same length");var Ve=A.length,Ye=Ye&&Fe?A.map(lh(Ye)):A;return J.core.mutate({trans:Ae,type:"add",keys:ie,values:Ye,wantResults:fe}).then(function(tt){var $e=tt.numFailures,ot=tt.results,Ge=tt.lastResult,tt=tt.failures;if($e===0)return fe?ot:Ge;throw new Xe("".concat(J.name,".bulkAdd(): ").concat($e," of ").concat(Ve," operations failed"),tt)})})},di.prototype.bulkPut=function(A,O,H){var J=this,ie=Array.isArray(O)?O:void 0,fe=(H=H||(ie?void 0:O))?H.allKeys:void 0;return this._trans("readwrite",function(Ae){var Ye=J.schema.primKey,Fe=Ye.auto,Ye=Ye.keyPath;if(Ye&&ie)throw new de.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(ie&&ie.length!==A.length)throw new de.InvalidArgument("Arguments objects and keys must have the same length");var Ve=A.length,Ye=Ye&&Fe?A.map(lh(Ye)):A;return J.core.mutate({trans:Ae,type:"put",keys:ie,values:Ye,wantResults:fe}).then(function(tt){var $e=tt.numFailures,ot=tt.results,Ge=tt.lastResult,tt=tt.failures;if($e===0)return fe?ot:Ge;throw new Xe("".concat(J.name,".bulkPut(): ").concat($e," of ").concat(Ve," operations failed"),tt)})})},di.prototype.bulkUpdate=function(A){var O=this,H=this.core,J=A.map(function(Ae){return Ae.key}),ie=A.map(function(Ae){return Ae.changes}),fe=[];return this._trans("readwrite",function(Ae){return H.getMany({trans:Ae,keys:J,cache:"clone"}).then(function(Fe){var Ve=[],Ye=[];A.forEach(function($e,ot){var Ge=$e.key,tt=$e.changes,at=Fe[ot];if(at){for(var Qe=0,dt=Object.keys(tt);Qe<dt.length;Qe++){var bt=dt[Qe],mt=tt[bt];if(bt===O.schema.primKey.keyPath){if(ar(mt,Ge)!==0)throw new de.Constraint("Cannot update primary key in bulkUpdate()")}else G(at,bt,mt)}fe.push(ot),Ve.push(Ge),Ye.push(at)}});var Je=Ve.length;return H.mutate({trans:Ae,type:"put",keys:Ve,values:Ye,updates:{keys:J,changeSpecs:ie}}).then(function($e){var ot=$e.numFailures,Ge=$e.failures;if(ot===0)return Je;for(var tt=0,at=Object.keys(Ge);tt<at.length;tt++){var Qe,dt=at[tt],bt=fe[Number(dt)];bt!=null&&(Qe=Ge[dt],delete Ge[dt],Ge[bt]=Qe)}throw new Xe("".concat(O.name,".bulkUpdate(): ").concat(ot," of ").concat(Je," operations failed"),Ge)})})})},di.prototype.bulkDelete=function(A){var O=this,H=A.length;return this._trans("readwrite",function(J){return O.core.mutate({trans:J,type:"delete",keys:A})}).then(function(Ae){var ie=Ae.numFailures,fe=Ae.lastResult,Ae=Ae.failures;if(ie===0)return fe;throw new Xe("".concat(O.name,".bulkDelete(): ").concat(ie," of ").concat(H," operations failed"),Ae)})},di);function di(){}function ch(A){function O(Ae,Fe){if(Fe){for(var Ve=arguments.length,Ye=new Array(Ve-1);--Ve;)Ye[Ve-1]=arguments[Ve];return H[Ae].subscribe.apply(null,Ye),A}if(typeof Ae=="string")return H[Ae]}var H={};O.addEventType=fe;for(var J=1,ie=arguments.length;J<ie;++J)fe(arguments[J]);return O;function fe(Ae,Fe,Ve){if(typeof Ae!="object"){var Ye;Fe=Fe||nr;var Je={subscribers:[],fire:Ve=Ve||vt,subscribe:function($e){Je.subscribers.indexOf($e)===-1&&(Je.subscribers.push($e),Je.fire=Fe(Je.fire,$e))},unsubscribe:function($e){Je.subscribers=Je.subscribers.filter(function(ot){return ot!==$e}),Je.fire=Je.subscribers.reduce(Fe,Ve)}};return H[Ae]=O[Ae]=Je}s(Ye=Ae).forEach(function($e){var ot=Ye[$e];if(o(ot))fe($e,Ye[$e][0],Ye[$e][1]);else{if(ot!=="asap")throw new de.InvalidArgument("Invalid event config");var Ge=fe($e,Dt,function(){for(var tt=arguments.length,at=new Array(tt);tt--;)at[tt]=arguments[tt];Ge.subscribers.forEach(function(Qe){D(function(){Qe.apply(null,at)})})})}})}}function su(A,O){return w(O).from({prototype:A}),O}function Xu(A,O){return!(A.filter||A.algorithm||A.or)&&(O?A.justLimit:!A.replayFilter)}function Jc(A,O){A.filter=Yu(A.filter,O)}function ng(A,O,H){var J=A.replayFilter;A.replayFilter=J?function(){return Yu(J(),O())}:O,A.justLimit=H&&!J}function Va(A,O){if(A.isPrimKey)return O.primaryKey;var H=O.getIndexByKeyPath(A.index);if(!H)throw new de.Schema("KeyPath "+A.index+" on object store "+O.name+" is not indexed");return H}function Hf(A,O,H){var J=Va(A,O.schema);return O.openCursor({trans:H,values:!A.keysOnly,reverse:A.dir==="prev",unique:!!A.unique,query:{index:J,range:A.range}})}function dh(A,O,H,J){var ie=A.replayFilter?Yu(A.filter,A.replayFilter()):A.filter;if(A.or){var fe={},Ae=function(Fe,Ve,Ye){var Je,$e;ie&&!ie(Ve,Ye,function(ot){return Ve.stop(ot)},function(ot){return Ve.fail(ot)})||(($e=""+(Je=Ve.primaryKey))=="[object ArrayBuffer]"&&($e=""+new Uint8Array(Je)),h(fe,$e)||(fe[$e]=!0,O(Fe,Ve,Ye)))};return Promise.all([A.or._iterate(Ae,H),Vf(Hf(A,J,H),A.algorithm,Ae,!A.keysOnly&&A.valueMapper)])}return Vf(Hf(A,J,H),Yu(A.algorithm,ie),O,!A.keysOnly&&A.valueMapper)}function Vf(A,O,H,J){var ie=mn(J?function(fe,Ae,Fe){return H(J(fe),Ae,Fe)}:H);return A.then(function(fe){if(fe)return fe.start(function(){var Ae=function(){return fe.continue()};O&&!O(fe,function(Fe){return Ae=Fe},function(Fe){fe.stop(Fe),Ae=vt},function(Fe){fe.fail(Fe),Ae=vt})||ie(fe.value,fe,function(Fe){return Ae=Fe}),Ae()})})}var Xo=(rg.prototype.execute=function(A){var O=this["@@propmod"];if(O.add!==void 0){var H=O.add;if(o(H))return i(i([],o(A)?A:[],!0),H).sort();if(typeof H=="number")return(Number(A)||0)+H;if(typeof H=="bigint")try{return BigInt(A)+H}catch{return BigInt(0)+H}throw new TypeError("Invalid term ".concat(H))}if(O.remove!==void 0){var J=O.remove;if(o(J))return o(A)?A.filter(function(ie){return!J.includes(ie)}).sort():[];if(typeof J=="number")return Number(A)-J;if(typeof J=="bigint")try{return BigInt(A)-J}catch{return BigInt(0)-J}throw new TypeError("Invalid subtrahend ".concat(J))}return H=(H=O.replacePrefix)===null||H===void 0?void 0:H[0],H&&typeof A=="string"&&A.startsWith(H)?O.replacePrefix[1]+A.substring(H.length):A},rg);function rg(A){this["@@propmod"]=A}var U0=(ur.prototype._read=function(A,O){var H=this._ctx;return H.error?H.table._trans(null,ui.bind(null,H.error)):H.table._trans("readonly",A).then(O)},ur.prototype._write=function(A){var O=this._ctx;return O.error?O.table._trans(null,ui.bind(null,O.error)):O.table._trans("readwrite",A,"locked")},ur.prototype._addAlgorithm=function(A){var O=this._ctx;O.algorithm=Yu(O.algorithm,A)},ur.prototype._iterate=function(A,O){return dh(this._ctx,A,O,this._ctx.table.core)},ur.prototype.clone=function(A){var O=Object.create(this.constructor.prototype),H=Object.create(this._ctx);return A&&l(H,A),O._ctx=H,O},ur.prototype.raw=function(){return this._ctx.valueMapper=null,this},ur.prototype.each=function(A){var O=this._ctx;return this._read(function(H){return dh(O,A,H,O.table.core)})},ur.prototype.count=function(A){var O=this;return this._read(function(H){var J=O._ctx,ie=J.table.core;if(Xu(J,!0))return ie.count({trans:H,query:{index:Va(J,ie.schema),range:J.range}}).then(function(Ae){return Math.min(Ae,J.limit)});var fe=0;return dh(J,function(){return++fe,!1},H,ie).then(function(){return fe})}).then(A)},ur.prototype.sortBy=function(A,O){var H=A.split(".").reverse(),J=H[0],ie=H.length-1;function fe(Ve,Ye){return Ye?fe(Ve[H[Ye]],Ye-1):Ve[J]}var Ae=this._ctx.dir==="next"?1:-1;function Fe(Ve,Ye){return ar(fe(Ve,ie),fe(Ye,ie))*Ae}return this.toArray(function(Ve){return Ve.sort(Fe)}).then(O)},ur.prototype.toArray=function(A){var O=this;return this._read(function(H){var J=O._ctx;if(J.dir==="next"&&Xu(J,!0)&&0<J.limit){var ie=J.valueMapper,fe=Va(J,J.table.core.schema);return J.table.core.query({trans:H,limit:J.limit,values:!0,query:{index:fe,range:J.range}}).then(function(Fe){return Fe=Fe.result,ie?Fe.map(ie):Fe})}var Ae=[];return dh(J,function(Fe){return Ae.push(Fe)},H,J.table.core).then(function(){return Ae})},A)},ur.prototype.offset=function(A){var O=this._ctx;return A<=0||(O.offset+=A,Xu(O)?ng(O,function(){var H=A;return function(J,ie){return H===0||(H===1?--H:ie(function(){J.advance(H),H=0}),!1)}}):ng(O,function(){var H=A;return function(){return--H<0}})),this},ur.prototype.limit=function(A){return this._ctx.limit=Math.min(this._ctx.limit,A),ng(this._ctx,function(){var O=A;return function(H,J,ie){return--O<=0&&J(ie),0<=O}},!0),this},ur.prototype.until=function(A,O){return Jc(this._ctx,function(H,J,ie){return!A(H.value)||(J(ie),O)}),this},ur.prototype.first=function(A){return this.limit(1).toArray(function(O){return O[0]}).then(A)},ur.prototype.last=function(A){return this.reverse().first(A)},ur.prototype.filter=function(A){var O;return Jc(this._ctx,function(H){return A(H.value)}),(O=this._ctx).isMatch=Yu(O.isMatch,A),this},ur.prototype.and=function(A){return this.filter(A)},ur.prototype.or=function(A){return new this.db.WhereClause(this._ctx.table,A,this)},ur.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ur.prototype.desc=function(){return this.reverse()},ur.prototype.eachKey=function(A){var O=this._ctx;return O.keysOnly=!O.isMatch,this.each(function(H,J){A(J.key,J)})},ur.prototype.eachUniqueKey=function(A){return this._ctx.unique="unique",this.eachKey(A)},ur.prototype.eachPrimaryKey=function(A){var O=this._ctx;return O.keysOnly=!O.isMatch,this.each(function(H,J){A(J.primaryKey,J)})},ur.prototype.keys=function(A){var O=this._ctx;O.keysOnly=!O.isMatch;var H=[];return this.each(function(J,ie){H.push(ie.key)}).then(function(){return H}).then(A)},ur.prototype.primaryKeys=function(A){var O=this._ctx;if(O.dir==="next"&&Xu(O,!0)&&0<O.limit)return this._read(function(J){var ie=Va(O,O.table.core.schema);return O.table.core.query({trans:J,values:!1,limit:O.limit,query:{index:ie,range:O.range}})}).then(function(J){return J.result}).then(A);O.keysOnly=!O.isMatch;var H=[];return this.each(function(J,ie){H.push(ie.primaryKey)}).then(function(){return H}).then(A)},ur.prototype.uniqueKeys=function(A){return this._ctx.unique="unique",this.keys(A)},ur.prototype.firstKey=function(A){return this.limit(1).keys(function(O){return O[0]}).then(A)},ur.prototype.lastKey=function(A){return this.reverse().firstKey(A)},ur.prototype.distinct=function(){var A=this._ctx,A=A.index&&A.table.schema.idxByName[A.index];if(!A||!A.multi)return this;var O={};return Jc(this._ctx,function(ie){var J=ie.primaryKey.toString(),ie=h(O,J);return O[J]=!0,!ie}),this},ur.prototype.modify=function(A){var O=this,H=this._ctx;return this._write(function(J){var ie,fe,Ae;Ae=typeof A=="function"?A:(ie=s(A),fe=ie.length,function(Qe){for(var dt=!1,bt=0;bt<fe;++bt){var mt=ie[bt],Tt=A[mt],zt=U(Qe,mt);Tt instanceof Xo?(G(Qe,mt,Tt.execute(zt)),dt=!0):zt!==Tt&&(G(Qe,mt,Tt),dt=!0)}return dt});var Fe=H.table.core,$e=Fe.schema.primaryKey,Ve=$e.outbound,Ye=$e.extractKey,Je=200,$e=O.db._options.modifyChunkSize;$e&&(Je=typeof $e=="object"?$e[Fe.name]||$e["*"]||200:$e);function ot(Qe,mt){var bt=mt.failures,mt=mt.numFailures;tt+=Qe-mt;for(var Tt=0,zt=s(bt);Tt<zt.length;Tt++){var en=zt[Tt];Ge.push(bt[en])}}var Ge=[],tt=0,at=[];return O.clone().primaryKeys().then(function(Qe){function dt(mt){var Tt=Math.min(Je,Qe.length-mt);return Fe.getMany({trans:J,keys:Qe.slice(mt,mt+Tt),cache:"immutable"}).then(function(zt){for(var en=[],$t=[],Kt=Ve?[]:null,tn=[],Xt=0;Xt<Tt;++Xt){var Rt=zt[Xt],gn={value:qe(Rt),primKey:Qe[mt+Xt]};Ae.call(gn,gn.value,gn)!==!1&&(gn.value==null?tn.push(Qe[mt+Xt]):Ve||ar(Ye(Rt),Ye(gn.value))===0?($t.push(gn.value),Ve&&Kt.push(Qe[mt+Xt])):(tn.push(Qe[mt+Xt]),en.push(gn.value)))}return Promise.resolve(0<en.length&&Fe.mutate({trans:J,type:"add",values:en}).then(function(Wn){for(var On in Wn.failures)tn.splice(parseInt(On),1);ot(en.length,Wn)})).then(function(){return(0<$t.length||bt&&typeof A=="object")&&Fe.mutate({trans:J,type:"put",keys:Kt,values:$t,criteria:bt,changeSpec:typeof A!="function"&&A,isAdditionalChunk:0<mt}).then(function(Wn){return ot($t.length,Wn)})}).then(function(){return(0<tn.length||bt&&A===ig)&&Fe.mutate({trans:J,type:"delete",keys:tn,criteria:bt,isAdditionalChunk:0<mt}).then(function(Wn){return ot(tn.length,Wn)})}).then(function(){return Qe.length>mt+Tt&&dt(mt+Je)})})}var bt=Xu(H)&&H.limit===1/0&&(typeof A!="function"||A===ig)&&{index:H.index,range:H.range};return dt(0).then(function(){if(0<Ge.length)throw new it("Error modifying one or more objects",Ge,tt,at);return Qe.length})})})},ur.prototype.delete=function(){var A=this._ctx,O=A.range;return Xu(A)&&(A.isPrimKey||O.type===3)?this._write(function(H){var J=A.table.core.schema.primaryKey,ie=O;return A.table.core.count({trans:H,query:{index:J,range:ie}}).then(function(fe){return A.table.core.mutate({trans:H,type:"deleteRange",range:ie}).then(function(Ae){var Fe=Ae.failures;if(Ae.lastResult,Ae.results,Ae=Ae.numFailures,Ae)throw new it("Could not delete some values",Object.keys(Fe).map(function(Ve){return Fe[Ve]}),fe-Ae);return fe-Ae})})}):this.modify(ig)},ur);function ur(){}var ig=function(A,O){return O.value=null};function j0(A,O){return A<O?-1:A===O?0:1}function z0(A,O){return O<A?-1:A===O?0:1}function ir(A,O,H){return A=A instanceof Wf?new A.Collection(A):A,A._ctx.error=new(H||TypeError)(O),A}function ed(A){return new A.Collection(A,function(){return hh("")}).limit(0)}function Gf(A,O,H,J){var ie,fe,Ae,Fe,Ve,Ye,Je,$e=H.length;if(!H.every(function(tt){return typeof tt=="string"}))return ir(A,qf);function ot(tt){ie=tt==="next"?function(Qe){return Qe.toUpperCase()}:function(Qe){return Qe.toLowerCase()},fe=tt==="next"?function(Qe){return Qe.toLowerCase()}:function(Qe){return Qe.toUpperCase()},Ae=tt==="next"?j0:z0;var at=H.map(function(Qe){return{lower:fe(Qe),upper:ie(Qe)}}).sort(function(Qe,dt){return Ae(Qe.lower,dt.lower)});Fe=at.map(function(Qe){return Qe.upper}),Ve=at.map(function(Qe){return Qe.lower}),Je=(Ye=tt)==="next"?"":J}ot("next"),A=new A.Collection(A,function(){return Us(Fe[0],Ve[$e-1]+J)}),A._ondirectionchange=function(tt){ot(tt)};var Ge=0;return A._addAlgorithm(function(tt,at,Qe){var dt=tt.key;if(typeof dt!="string")return!1;var bt=fe(dt);if(O(bt,Ve,Ge))return!0;for(var mt=null,Tt=Ge;Tt<$e;++Tt){var zt=function(en,$t,Kt,tn,Xt,Rt){for(var gn=Math.min(en.length,tn.length),Wn=-1,On=0;On<gn;++On){var _a=$t[On];if(_a!==tn[On])return Xt(en[On],Kt[On])<0?en.substr(0,On)+Kt[On]+Kt.substr(On+1):Xt(en[On],tn[On])<0?en.substr(0,On)+tn[On]+Kt.substr(On+1):0<=Wn?en.substr(0,Wn)+$t[Wn]+Kt.substr(Wn+1):null;Xt(en[On],_a)<0&&(Wn=On)}return gn<tn.length&&Rt==="next"?en+Kt.substr(en.length):gn<en.length&&Rt==="prev"?en.substr(0,Kt.length):Wn<0?null:en.substr(0,Wn)+tn[Wn]+Kt.substr(Wn+1)}(dt,bt,Fe[Tt],Ve[Tt],Ae,Ye);zt===null&&mt===null?Ge=Tt+1:(mt===null||0<Ae(mt,zt))&&(mt=zt)}return at(mt!==null?function(){tt.continue(mt+Je)}:Qe),!1}),A}function Us(A,O,H,J){return{type:2,lower:A,upper:O,lowerOpen:H,upperOpen:J}}function hh(A){return{type:1,lower:A,upper:A}}var Wf=(Object.defineProperty(gi.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),gi.prototype.between=function(A,O,H,J){H=H!==!1,J=J===!0;try{return 0<this._cmp(A,O)||this._cmp(A,O)===0&&(H||J)&&(!H||!J)?ed(this):new this.Collection(this,function(){return Us(A,O,!H,!J)})}catch{return ir(this,ci)}},gi.prototype.equals=function(A){return A==null?ir(this,ci):new this.Collection(this,function(){return hh(A)})},gi.prototype.above=function(A){return A==null?ir(this,ci):new this.Collection(this,function(){return Us(A,void 0,!0)})},gi.prototype.aboveOrEqual=function(A){return A==null?ir(this,ci):new this.Collection(this,function(){return Us(A,void 0,!1)})},gi.prototype.below=function(A){return A==null?ir(this,ci):new this.Collection(this,function(){return Us(void 0,A,!1,!0)})},gi.prototype.belowOrEqual=function(A){return A==null?ir(this,ci):new this.Collection(this,function(){return Us(void 0,A)})},gi.prototype.startsWith=function(A){return typeof A!="string"?ir(this,qf):this.between(A,A+Es,!0,!0)},gi.prototype.startsWithIgnoreCase=function(A){return A===""?this.startsWith(A):Gf(this,function(O,H){return O.indexOf(H[0])===0},[A],Es)},gi.prototype.equalsIgnoreCase=function(A){return Gf(this,function(O,H){return O===H[0]},[A],"")},gi.prototype.anyOfIgnoreCase=function(){var A=j.apply(he,arguments);return A.length===0?ed(this):Gf(this,function(O,H){return H.indexOf(O)!==-1},A,"")},gi.prototype.startsWithAnyOfIgnoreCase=function(){var A=j.apply(he,arguments);return A.length===0?ed(this):Gf(this,function(O,H){return H.some(function(J){return O.indexOf(J)===0})},A,Es)},gi.prototype.anyOf=function(){var A=this,O=j.apply(he,arguments),H=this._cmp;try{O.sort(H)}catch{return ir(this,ci)}if(O.length===0)return ed(this);var J=new this.Collection(this,function(){return Us(O[0],O[O.length-1])});J._ondirectionchange=function(fe){H=fe==="next"?A._ascending:A._descending,O.sort(H)};var ie=0;return J._addAlgorithm(function(fe,Ae,Fe){for(var Ve=fe.key;0<H(Ve,O[ie]);)if(++ie===O.length)return Ae(Fe),!1;return H(Ve,O[ie])===0||(Ae(function(){fe.continue(O[ie])}),!1)}),J},gi.prototype.notEqual=function(A){return this.inAnyRange([[-1/0,A],[A,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},gi.prototype.noneOf=function(){var A=j.apply(he,arguments);if(A.length===0)return new this.Collection(this);try{A.sort(this._ascending)}catch{return ir(this,ci)}var O=A.reduce(function(H,J){return H?H.concat([[H[H.length-1][1],J]]):[[-1/0,J]]},null);return O.push([A[A.length-1],this.db._maxKey]),this.inAnyRange(O,{includeLowers:!1,includeUppers:!1})},gi.prototype.inAnyRange=function(dt,O){var H=this,J=this._cmp,ie=this._ascending,fe=this._descending,Ae=this._min,Fe=this._max;if(dt.length===0)return ed(this);if(!dt.every(function(bt){return bt[0]!==void 0&&bt[1]!==void 0&&ie(bt[0],bt[1])<=0}))return ir(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",de.InvalidArgument);var Ve=!O||O.includeLowers!==!1,Ye=O&&O.includeUppers===!0,Je,$e=ie;function ot(bt,mt){return $e(bt[0],mt[0])}try{(Je=dt.reduce(function(bt,mt){for(var Tt=0,zt=bt.length;Tt<zt;++Tt){var en=bt[Tt];if(J(mt[0],en[1])<0&&0<J(mt[1],en[0])){en[0]=Ae(en[0],mt[0]),en[1]=Fe(en[1],mt[1]);break}}return Tt===zt&&bt.push(mt),bt},[])).sort(ot)}catch{return ir(this,ci)}var Ge=0,tt=Ye?function(bt){return 0<ie(bt,Je[Ge][1])}:function(bt){return 0<=ie(bt,Je[Ge][1])},at=Ve?function(bt){return 0<fe(bt,Je[Ge][0])}:function(bt){return 0<=fe(bt,Je[Ge][0])},Qe=tt,dt=new this.Collection(this,function(){return Us(Je[0][0],Je[Je.length-1][1],!Ve,!Ye)});return dt._ondirectionchange=function(bt){$e=bt==="next"?(Qe=tt,ie):(Qe=at,fe),Je.sort(ot)},dt._addAlgorithm(function(bt,mt,Tt){for(var zt,en=bt.key;Qe(en);)if(++Ge===Je.length)return mt(Tt),!1;return!tt(zt=en)&&!at(zt)||(H._cmp(en,Je[Ge][1])===0||H._cmp(en,Je[Ge][0])===0||mt(function(){$e===ie?bt.continue(Je[Ge][0]):bt.continue(Je[Ge][1])}),!1)}),dt},gi.prototype.startsWithAnyOf=function(){var A=j.apply(he,arguments);return A.every(function(O){return typeof O=="string"})?A.length===0?ed(this):this.inAnyRange(A.map(function(O){return[O,O+Es]})):ir(this,"startsWithAnyOf() only works with strings")},gi);function gi(){}function Ia(A){return mn(function(O){return Zu(O),A(O.target.error),!1})}function Zu(A){A.stopPropagation&&A.stopPropagation(),A.preventDefault&&A.preventDefault()}var Qu="storagemutated",Kf="x-storagemutated-1",js=ch(null,Qu),ag=(os.prototype._lock=function(){return F(!Mt.global),++this._reculock,this._reculock!==1||Mt.global||(Mt.lockOwnerFor=this),this},os.prototype._unlock=function(){if(F(!Mt.global),--this._reculock==0)for(Mt.global||(Mt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var A=this._blockedFuncs.shift();try{Xi(A[1],A[0])}catch{}}return this},os.prototype._locked=function(){return this._reculock&&Mt.lockOwnerFor!==this},os.prototype.create=function(A){var O=this;if(!this.mode)return this;var H=this.db.idbdb,J=this.db._state.dbOpenError;if(F(!this.idbtrans),!A&&!H)switch(J&&J.name){case"DatabaseClosedError":throw new de.DatabaseClosed(J);case"MissingAPIError":throw new de.MissingAPI(J.message,J);default:throw new de.OpenFailed(J)}if(!this.active)throw new de.TransactionInactive;return F(this._completion._state===null),(A=this.idbtrans=A||(this.db.core||H).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=mn(function(ie){Zu(ie),O._reject(A.error)}),A.onabort=mn(function(ie){Zu(ie),O.active&&O._reject(new de.Abort(A.error)),O.active=!1,O.on("abort").fire(ie)}),A.oncomplete=mn(function(){O.active=!1,O._resolve(),"mutatedParts"in A&&js.storagemutated.fire(A.mutatedParts)}),this},os.prototype._promise=function(A,O,H){var J=this;if(A==="readwrite"&&this.mode!=="readwrite")return ui(new de.ReadOnly("Transaction is readonly"));if(!this.active)return ui(new de.TransactionInactive);if(this._locked())return new ze(function(fe,Ae){J._blockedFuncs.push([function(){J._promise(A,O,H).then(fe,Ae)},Mt])});if(H)return vr(function(){var fe=new ze(function(Ae,Fe){J._lock();var Ve=O(Ae,Fe,J);Ve&&Ve.then&&Ve.then(Ae,Fe)});return fe.finally(function(){return J._unlock()}),fe._lib=!0,fe});var ie=new ze(function(fe,Ae){var Fe=O(fe,Ae,J);Fe&&Fe.then&&Fe.then(fe,Ae)});return ie._lib=!0,ie},os.prototype._root=function(){return this.parent?this.parent._root():this},os.prototype.waitFor=function(A){var O,H=this._root(),J=ze.resolve(A);H._waitingFor?H._waitingFor=H._waitingFor.then(function(){return J}):(H._waitingFor=J,H._waitingQueue=[],O=H.idbtrans.objectStore(H.storeNames[0]),function fe(){for(++H._spinCount;H._waitingQueue.length;)H._waitingQueue.shift()();H._waitingFor&&(O.get(-1/0).onsuccess=fe)}());var ie=H._waitingFor;return new ze(function(fe,Ae){J.then(function(Fe){return H._waitingQueue.push(mn(fe.bind(null,Fe)))},function(Fe){return H._waitingQueue.push(mn(Ae.bind(null,Fe)))}).finally(function(){H._waitingFor===ie&&(H._waitingFor=null)})})},os.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new de.Abort))},os.prototype.table=function(A){var O=this._memoizedTables||(this._memoizedTables={});if(h(O,A))return O[A];var H=this.schema[A];if(!H)throw new de.NotFound("Table "+A+" not part of transaction");return H=new this.db.Table(A,H,this),H.core=this.db.core.table(A),O[A]=H},os);function os(){}function Zo(A,O,H,J,ie,fe,Ae){return{name:A,keyPath:O,unique:H,multi:J,auto:ie,compound:fe,src:(H&&!Ae?"&":"")+(J?"*":"")+(ie?"++":"")+Yf(O)}}function Yf(A){return typeof A=="string"?A:A?"["+[].join.call(A,"+")+"]":""}function td(A,O,H){return{name:A,primKey:O,indexes:H,mappedClass:null,idxByName:(J=function(ie){return[ie.name,ie]},H.reduce(function(ie,fe,Ae){return Ae=J(fe,Ae),Ae&&(ie[Ae[0]]=Ae[1]),ie},{}))};var J}var nd=function(A){try{return A.only([[]]),nd=function(){return[[]]},[[]]}catch{return nd=function(){return Es},Es}};function rd(A){return A==null?function(){}:typeof A=="string"?(O=A).split(".").length===1?function(H){return H[O]}:function(H){return U(H,O)}:function(H){return U(H,A)};var O}function fh(A){return[].slice.call(A)}var $0=0;function da(A){return A==null?":id":typeof A=="string"?A:"[".concat(A.join("+"),"]")}function Ju(A,O,Ve){function J(Qe){if(Qe.type===3)return null;if(Qe.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Ge=Qe.lower,tt=Qe.upper,at=Qe.lowerOpen,Qe=Qe.upperOpen;return Ge===void 0?tt===void 0?null:O.upperBound(tt,!!Qe):tt===void 0?O.lowerBound(Ge,!!at):O.bound(Ge,tt,!!at,!!Qe)}function ie(ot){var Ge,tt=ot.name;return{name:tt,schema:ot,mutate:function(at){var Qe=at.trans,dt=at.type,bt=at.keys,mt=at.values,Tt=at.range;return new Promise(function(zt,en){zt=mn(zt);var $t=Qe.objectStore(tt),Kt=$t.keyPath==null,tn=dt==="put"||dt==="add";if(!tn&&dt!=="delete"&&dt!=="deleteRange")throw new Error("Invalid operation type: "+dt);var Xt,Rt=(bt||mt||{length:1}).length;if(bt&&mt&&bt.length!==mt.length)throw new Error("Given keys array must have same length as given values array.");if(Rt===0)return zt({numFailures:0,failures:{},results:[],lastResult:void 0});function gn(zi){++_a,Zu(zi)}var Wn=[],On=[],_a=0;if(dt==="deleteRange"){if(Tt.type===4)return zt({numFailures:_a,failures:On,results:[],lastResult:void 0});Tt.type===3?Wn.push(Xt=$t.clear()):Wn.push(Xt=$t.delete(J(Tt)))}else{var Kt=tn?Kt?[mt,bt]:[mt,null]:[bt,null],jn=Kt[0],Oi=Kt[1];if(tn)for(var zn=0;zn<Rt;++zn)Wn.push(Xt=Oi&&Oi[zn]!==void 0?$t[dt](jn[zn],Oi[zn]):$t[dt](jn[zn])),Xt.onerror=gn;else for(zn=0;zn<Rt;++zn)Wn.push(Xt=$t[dt](jn[zn])),Xt.onerror=gn}function ac(zi){zi=zi.target.result,Wn.forEach(function(Ga,Sh){return Ga.error!=null&&(On[Sh]=Ga.error)}),zt({numFailures:_a,failures:On,results:dt==="delete"?bt:Wn.map(function(Ga){return Ga.result}),lastResult:zi})}Xt.onerror=function(zi){gn(zi),ac(zi)},Xt.onsuccess=ac})},getMany:function(at){var Qe=at.trans,dt=at.keys;return new Promise(function(bt,mt){bt=mn(bt);for(var Tt,zt=Qe.objectStore(tt),en=dt.length,$t=new Array(en),Kt=0,tn=0,Xt=function(Wn){Wn=Wn.target,$t[Wn._pos]=Wn.result,++tn===Kt&&bt($t)},Rt=Ia(mt),gn=0;gn<en;++gn)dt[gn]!=null&&((Tt=zt.get(dt[gn]))._pos=gn,Tt.onsuccess=Xt,Tt.onerror=Rt,++Kt);Kt===0&&bt($t)})},get:function(at){var Qe=at.trans,dt=at.key;return new Promise(function(bt,mt){bt=mn(bt);var Tt=Qe.objectStore(tt).get(dt);Tt.onsuccess=function(zt){return bt(zt.target.result)},Tt.onerror=Ia(mt)})},query:(Ge=Ye,function(at){return new Promise(function(Qe,dt){Qe=mn(Qe);var bt,mt,Tt,Kt=at.trans,zt=at.values,en=at.limit,Xt=at.query,$t=en===1/0?void 0:en,tn=Xt.index,Xt=Xt.range,Kt=Kt.objectStore(tt),tn=tn.isPrimaryKey?Kt:Kt.index(tn.name),Xt=J(Xt);if(en===0)return Qe({result:[]});Ge?(($t=zt?tn.getAll(Xt,$t):tn.getAllKeys(Xt,$t)).onsuccess=function(Rt){return Qe({result:Rt.target.result})},$t.onerror=Ia(dt)):(bt=0,mt=!zt&&"openKeyCursor"in tn?tn.openKeyCursor(Xt):tn.openCursor(Xt),Tt=[],mt.onsuccess=function(Rt){var gn=mt.result;return gn?(Tt.push(zt?gn.value:gn.primaryKey),++bt===en?Qe({result:Tt}):void gn.continue()):Qe({result:Tt})},mt.onerror=Ia(dt))})}),openCursor:function(at){var Qe=at.trans,dt=at.values,bt=at.query,mt=at.reverse,Tt=at.unique;return new Promise(function(zt,en){zt=mn(zt);var tn=bt.index,$t=bt.range,Kt=Qe.objectStore(tt),Kt=tn.isPrimaryKey?Kt:Kt.index(tn.name),tn=mt?Tt?"prevunique":"prev":Tt?"nextunique":"next",Xt=!dt&&"openKeyCursor"in Kt?Kt.openKeyCursor(J($t),tn):Kt.openCursor(J($t),tn);Xt.onerror=Ia(en),Xt.onsuccess=mn(function(Rt){var gn,Wn,On,_a,jn=Xt.result;jn?(jn.___id=++$0,jn.done=!1,gn=jn.continue.bind(jn),Wn=(Wn=jn.continuePrimaryKey)&&Wn.bind(jn),On=jn.advance.bind(jn),_a=function(){throw new Error("Cursor not stopped")},jn.trans=Qe,jn.stop=jn.continue=jn.continuePrimaryKey=jn.advance=function(){throw new Error("Cursor not started")},jn.fail=mn(en),jn.next=function(){var Oi=this,zn=1;return this.start(function(){return zn--?Oi.continue():Oi.stop()}).then(function(){return Oi})},jn.start=function(Oi){function zn(){if(Xt.result)try{Oi()}catch(zi){jn.fail(zi)}else jn.done=!0,jn.start=function(){throw new Error("Cursor behind last entry")},jn.stop()}var ac=new Promise(function(zi,Ga){zi=mn(zi),Xt.onerror=Ia(Ga),jn.fail=Ga,jn.stop=function(Sh){jn.stop=jn.continue=jn.continuePrimaryKey=jn.advance=_a,zi(Sh)}});return Xt.onsuccess=mn(function(zi){Xt.onsuccess=zn,zn()}),jn.continue=gn,jn.continuePrimaryKey=Wn,jn.advance=On,zn(),ac},zt(jn)):zt(null)},en)})},count:function(at){var Qe=at.query,dt=at.trans,bt=Qe.index,mt=Qe.range;return new Promise(function(Tt,zt){var en=dt.objectStore(tt),$t=bt.isPrimaryKey?en:en.index(bt.name),en=J(mt),$t=en?$t.count(en):$t.count();$t.onsuccess=mn(function(Kt){return Tt(Kt.target.result)}),$t.onerror=Ia(zt)})}}}var fe,Ae,Fe,Je=(Ae=Ve,Fe=fh((fe=A).objectStoreNames),{schema:{name:fe.name,tables:Fe.map(function(ot){return Ae.objectStore(ot)}).map(function(ot){var Ge=ot.keyPath,Qe=ot.autoIncrement,tt=o(Ge),at={},Qe={name:ot.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Ge==null,compound:tt,keyPath:Ge,autoIncrement:Qe,unique:!0,extractKey:rd(Ge)},indexes:fh(ot.indexNames).map(function(dt){return ot.index(dt)}).map(function(Tt){var bt=Tt.name,mt=Tt.unique,zt=Tt.multiEntry,Tt=Tt.keyPath,zt={name:bt,compound:o(Tt),keyPath:Tt,unique:mt,multiEntry:zt,extractKey:rd(Tt)};return at[da(Tt)]=zt}),getIndexByKeyPath:function(dt){return at[da(dt)]}};return at[":id"]=Qe.primaryKey,Ge!=null&&(at[da(Ge)]=Qe.primaryKey),Qe})},hasGetAll:0<Fe.length&&"getAll"in Ae.objectStore(Fe[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Ve=Je.schema,Ye=Je.hasGetAll,Je=Ve.tables.map(ie),$e={};return Je.forEach(function(ot){return $e[ot.name]=ot}),{stack:"dbcore",transaction:A.transaction.bind(A),table:function(ot){if(!$e[ot])throw new Error("Table '".concat(ot,"' not found"));return $e[ot]},MIN_KEY:-1/0,MAX_KEY:nd(O),schema:Ve}}function Xf(A,O,H,J){var ie=H.IDBKeyRange;return H.indexedDB,{dbcore:(J=Ju(O,ie,J),A.dbcore.reduce(function(fe,Ae){return Ae=Ae.create,r(r({},fe),Ae(fe))},J))}}function ou(A,J){var H=J.db,J=Xf(A._middlewares,H,A._deps,J);A.core=J.dbcore,A.tables.forEach(function(ie){var fe=ie.name;A.core.schema.tables.some(function(Ae){return Ae.name===fe})&&(ie.core=A.core.table(fe),A[fe]instanceof A.Table&&(A[fe].core=ie.core))})}function ph(A,O,H,J){H.forEach(function(ie){var fe=J[ie];O.forEach(function(Ae){var Fe=function Ve(Ye,Je){return k(Ye,Je)||(Ye=u(Ye))&&Ve(Ye,Je)}(Ae,ie);(!Fe||"value"in Fe&&Fe.value===void 0)&&(Ae===A.Transaction.prototype||Ae instanceof A.Transaction?v(Ae,ie,{get:function(){return this.table(ie)},set:function(Ve){m(this,ie,{value:Ve,writable:!0,configurable:!0,enumerable:!0})}}):Ae[ie]=new A.Table(ie,fe))})})}function id(A,O){O.forEach(function(H){for(var J in H)H[J]instanceof A.Table&&delete H[J]})}function Zf(A,O){return A._cfg.version-O._cfg.version}function ec(A,O,H,J){var ie=A._dbSchema;H.objectStoreNames.contains("$meta")&&!ie.$meta&&(ie.$meta=td("$meta",H0("")[0],[]),A._storeNames.push("$meta"));var fe=A._createTransaction("readwrite",A._storeNames,ie);fe.create(H),fe._completion.catch(J);var Ae=fe._reject.bind(fe),Fe=Mt.transless||Mt;vr(function(){return Mt.trans=fe,Mt.transless=Fe,O!==0?(ou(A,H),Ye=O,((Ve=fe).storeNames.includes("$meta")?Ve.table("$meta").get("version").then(function(Je){return Je??Ye}):ze.resolve(Ye)).then(function(Je){return ot=Je,Ge=fe,tt=H,at=[],Je=($e=A)._versions,Qe=$e._dbSchema=ad(0,$e.idbdb,tt),(Je=Je.filter(function(dt){return dt._cfg.version>=ot})).length!==0?(Je.forEach(function(dt){at.push(function(){var bt=Qe,mt=dt._cfg.dbschema;tp($e,bt,tt),tp($e,mt,tt),Qe=$e._dbSchema=mt;var Tt=Jf(bt,mt);Tt.add.forEach(function(tn){ep(tt,tn[0],tn[1].primKey,tn[1].indexes)}),Tt.change.forEach(function(tn){if(tn.recreate)throw new de.Upgrade("Not yet support for changing primary key");var Xt=tt.objectStore(tn.name);tn.add.forEach(function(Rt){return mh(Xt,Rt)}),tn.change.forEach(function(Rt){Xt.deleteIndex(Rt.name),mh(Xt,Rt)}),tn.del.forEach(function(Rt){return Xt.deleteIndex(Rt)})});var zt=dt._cfg.contentUpgrade;if(zt&&dt._cfg.version>ot){ou($e,tt),Ge._memoizedTables={};var en=se(mt);Tt.del.forEach(function(tn){en[tn]=bt[tn]}),id($e,[$e.Transaction.prototype]),ph($e,[$e.Transaction.prototype],s(en),en),Ge.schema=en;var $t,Kt=pe(zt);return Kt&&Zr(),Tt=ze.follow(function(){var tn;($t=zt(Ge))&&Kt&&(tn=Ha.bind(null,null),$t.then(tn,tn))}),$t&&typeof $t.then=="function"?ze.resolve($t):Tt.then(function(){return $t})}}),at.push(function(bt){var mt,Tt,zt=dt._cfg.dbschema;mt=zt,Tt=bt,[].slice.call(Tt.db.objectStoreNames).forEach(function(en){return mt[en]==null&&Tt.db.deleteObjectStore(en)}),id($e,[$e.Transaction.prototype]),ph($e,[$e.Transaction.prototype],$e._storeNames,$e._dbSchema),Ge.schema=$e._dbSchema}),at.push(function(bt){$e.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil($e.idbdb.version/10)===dt._cfg.version?($e.idbdb.deleteObjectStore("$meta"),delete $e._dbSchema.$meta,$e._storeNames=$e._storeNames.filter(function(mt){return mt!=="$meta"})):bt.objectStore("$meta").put(dt._cfg.version,"version"))})}),function dt(){return at.length?ze.resolve(at.shift()(Ge.idbtrans)).then(dt):ze.resolve()}().then(function(){q0(Qe,tt)})):ze.resolve();var $e,ot,Ge,tt,at,Qe}).catch(Ae)):(s(ie).forEach(function(Je){ep(H,Je,ie[Je].primKey,ie[Je].indexes)}),ou(A,H),void ze.follow(function(){return A.on.populate.fire(fe)}).catch(Ae));var Ve,Ye})}function Qf(A,O){q0(A._dbSchema,O),O.db.version%10!=0||O.objectStoreNames.contains("$meta")||O.db.createObjectStore("$meta").add(Math.ceil(O.db.version/10-1),"version");var H=ad(0,A.idbdb,O);tp(A,A._dbSchema,O);for(var J=0,ie=Jf(H,A._dbSchema).change;J<ie.length;J++){var fe=function(Ae){if(Ae.change.length||Ae.recreate)return console.warn("Unable to patch indexes of table ".concat(Ae.name," because it has changes on the type of index or primary key.")),{value:void 0};var Fe=O.objectStore(Ae.name);Ae.add.forEach(function(Ve){Ee&&console.debug("Dexie upgrade patch: Creating missing index ".concat(Ae.name,".").concat(Ve.src)),mh(Fe,Ve)})}(ie[J]);if(typeof fe=="object")return fe.value}}function Jf(A,O){var H,J={del:[],add:[],change:[]};for(H in A)O[H]||J.del.push(H);for(H in O){var ie=A[H],fe=O[H];if(ie){var Ae={name:H,def:fe,recreate:!1,del:[],add:[],change:[]};if(""+(ie.primKey.keyPath||"")!=""+(fe.primKey.keyPath||"")||ie.primKey.auto!==fe.primKey.auto)Ae.recreate=!0,J.change.push(Ae);else{var Fe=ie.idxByName,Ve=fe.idxByName,Ye=void 0;for(Ye in Fe)Ve[Ye]||Ae.del.push(Ye);for(Ye in Ve){var Je=Fe[Ye],$e=Ve[Ye];Je?Je.src!==$e.src&&Ae.change.push($e):Ae.add.push($e)}(0<Ae.del.length||0<Ae.add.length||0<Ae.change.length)&&J.change.push(Ae)}}else J.add.push([H,fe])}return J}function ep(A,O,H,J){var ie=A.db.createObjectStore(O,H.keyPath?{keyPath:H.keyPath,autoIncrement:H.auto}:{autoIncrement:H.auto});return J.forEach(function(fe){return mh(ie,fe)}),ie}function q0(A,O){s(A).forEach(function(H){O.db.objectStoreNames.contains(H)||(Ee&&console.debug("Dexie: Creating missing table",H),ep(O,H,A[H].primKey,A[H].indexes))})}function mh(A,O){A.createIndex(O.name,O.keyPath,{unique:O.unique,multiEntry:O.multi})}function ad(A,O,H){var J={};return C(O.objectStoreNames,0).forEach(function(ie){for(var fe=H.objectStore(ie),Ae=Zo(Yf(Ye=fe.keyPath),Ye||"",!0,!1,!!fe.autoIncrement,Ye&&typeof Ye!="string",!0),Fe=[],Ve=0;Ve<fe.indexNames.length;++Ve){var Je=fe.index(fe.indexNames[Ve]),Ye=Je.keyPath,Je=Zo(Je.name,Ye,!!Je.unique,!!Je.multiEntry,!1,Ye&&typeof Ye!="string",!1);Fe.push(Je)}J[ie]=td(ie,Ae,Fe)}),J}function tp(A,O,H){for(var J=H.db.objectStoreNames,ie=0;ie<J.length;++ie){var fe=J[ie],Ae=H.objectStore(fe);A._hasGetAll="getAll"in Ae;for(var Fe=0;Fe<Ae.indexNames.length;++Fe){var Ve=Ae.indexNames[Fe],Ye=Ae.index(Ve).keyPath,Je=typeof Ye=="string"?Ye:"["+C(Ye).join("+")+"]";!O[fe]||(Ye=O[fe].idxByName[Je])&&(Ye.name=Ve,delete O[fe].idxByName[Je],O[fe].idxByName[Ve]=Ye)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(A._hasGetAll=!1)}function H0(A){return A.split(",").map(function(O,H){var J=(O=O.trim()).replace(/([&*]|\+\+)/g,""),ie=/^\[/.test(J)?J.match(/^\[(.*)\]$/)[1].split("+"):J;return Zo(J,ie||null,/\&/.test(O),/\*/.test(O),/\+\+/.test(O),o(ie),H===0)})}var Bv=(np.prototype._parseStoresSpec=function(A,O){s(A).forEach(function(H){if(A[H]!==null){var J=H0(A[H]),ie=J.shift();if(ie.unique=!0,ie.multi)throw new de.Schema("Primary key cannot be multi-valued");J.forEach(function(fe){if(fe.auto)throw new de.Schema("Only primary key can be marked as autoIncrement (++)");if(!fe.keyPath)throw new de.Schema("Index must have a name and cannot be an empty string")}),O[H]=td(H,ie,J)}})},np.prototype.stores=function(H){var O=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,H):H;var H=O._versions,J={},ie={};return H.forEach(function(fe){l(J,fe._cfg.storesSource),ie=fe._cfg.dbschema={},fe._parseStoresSpec(J,ie)}),O._dbSchema=ie,id(O,[O._allTables,O,O.Transaction.prototype]),ph(O,[O._allTables,O,O.Transaction.prototype,this._cfg.tables],s(ie),ie),O._storeNames=s(ie),this},np.prototype.upgrade=function(A){return this._cfg.contentUpgrade=Dr(this._cfg.contentUpgrade||vt,A),this},np);function np(){}function rp(A,O){var H=A._dbNamesDB;return H||(H=A._dbNamesDB=new ho(Ko,{addons:[],indexedDB:A,IDBKeyRange:O})).version(1).stores({dbnames:"name"}),H.table("dbnames")}function gh(A){return A&&typeof A.databases=="function"}function ip(A){return vr(function(){return Mt.letThrough=!0,A()})}function ap(A){return!("from"in A)}var Qi=function(A,O){if(!this){var H=new Qi;return A&&"d"in A&&l(H,A),H}l(this,arguments.length?{d:1,from:A,to:1<arguments.length?O:A}:{d:0})};function yh(A,O,H){var J=ar(O,H);if(!isNaN(J)){if(0<J)throw RangeError();if(ap(A))return l(A,{from:O,to:H,d:1});var ie=A.l,J=A.r;if(ar(H,A.from)<0)return ie?yh(ie,O,H):A.l={from:O,to:H,d:1,l:null,r:null},G0(A);if(0<ar(O,A.to))return J?yh(J,O,H):A.r={from:O,to:H,d:1,l:null,r:null},G0(A);ar(O,A.from)<0&&(A.from=O,A.l=null,A.d=J?J.d+1:1),0<ar(H,A.to)&&(A.to=H,A.r=null,A.d=A.l?A.l.d+1:1),H=!A.r,ie&&!A.l&&tc(A,ie),J&&H&&tc(A,J)}}function tc(A,O){ap(O)||function H(J,Ve){var fe=Ve.from,Ae=Ve.to,Fe=Ve.l,Ve=Ve.r;yh(J,fe,Ae),Fe&&H(J,Fe),Ve&&H(J,Ve)}(A,O)}function V0(A,O){var H=bh(O),J=H.next();if(J.done)return!1;for(var ie=J.value,fe=bh(A),Ae=fe.next(ie.from),Fe=Ae.value;!J.done&&!Ae.done;){if(ar(Fe.from,ie.to)<=0&&0<=ar(Fe.to,ie.from))return!0;ar(ie.from,Fe.from)<0?ie=(J=H.next(Fe.from)).value:Fe=(Ae=fe.next(ie.from)).value}return!1}function bh(A){var O=ap(A)?null:{s:0,n:A};return{next:function(H){for(var J=0<arguments.length;O;)switch(O.s){case 0:if(O.s=1,J)for(;O.n.l&&ar(H,O.n.from)<0;)O={up:O,n:O.n.l,s:1};else for(;O.n.l;)O={up:O,n:O.n.l,s:1};case 1:if(O.s=2,!J||ar(H,O.n.to)<=0)return{value:O.n,done:!1};case 2:if(O.n.r){O.s=3,O={up:O,n:O.n.r,s:0};continue}case 3:O=O.up}return{done:!0}}}}function G0(A){var O,H,J=(((O=A.r)===null||O===void 0?void 0:O.d)||0)-(((H=A.l)===null||H===void 0?void 0:H.d)||0),ie=1<J?"r":J<-1?"l":"";ie&&(O=ie=="r"?"l":"r",H=r({},A),J=A[ie],A.from=J.from,A.to=J.to,A[ie]=J[ie],H[ie]=J[O],(A[O]=H).d=sp(H)),A.d=sp(A)}function sp(H){var O=H.r,H=H.l;return(O?H?Math.max(O.d,H.d):O.d:H?H.d:0)+1}function nc(A,O){return s(O).forEach(function(H){A[H]?tc(A[H],O[H]):A[H]=function J(ie){var fe,Ae,Fe={};for(fe in ie)h(ie,fe)&&(Ae=ie[fe],Fe[fe]=!Ae||typeof Ae!="object"||ce.has(Ae.constructor)?Ae:J(Ae));return Fe}(O[H])}),A}function Na(A,O){return A.all||O.all||Object.keys(A).some(function(H){return O[H]&&V0(O[H],A[H])})}p(Qi.prototype,((Nr={add:function(A){return tc(this,A),this},addKey:function(A){return yh(this,A,A),this},addKeys:function(A){var O=this;return A.forEach(function(H){return yh(O,H,H)}),this},hasKey:function(A){var O=bh(this).next(A).value;return O&&ar(O.from,A)<=0&&0<=ar(O.to,A)}})[ue]=function(){return bh(this)},Nr));var rc={},sg={},og=!1;function op(A){nc(sg,A),og||(og=!0,setTimeout(function(){og=!1,Ji(sg,!(sg={}))},0))}function Ji(A,O){O===void 0&&(O=!1);var H=new Set;if(A.all)for(var J=0,ie=Object.values(rc);J<ie.length;J++)W0(Ae=ie[J],A,H,O);else for(var fe in A){var Ae,Fe=/^idb\:\/\/(.*)\/(.*)\//.exec(fe);Fe&&(fe=Fe[1],Fe=Fe[2],(Ae=rc["idb://".concat(fe,"/").concat(Fe)])&&W0(Ae,A,H,O))}H.forEach(function(Ve){return Ve()})}function W0(A,O,H,J){for(var ie=[],fe=0,Ae=Object.entries(A.queries.query);fe<Ae.length;fe++){for(var Fe=Ae[fe],Ve=Fe[0],Ye=[],Je=0,$e=Fe[1];Je<$e.length;Je++){var ot=$e[Je];Na(O,ot.obsSet)?ot.subscribers.forEach(function(Qe){return H.add(Qe)}):J&&Ye.push(ot)}J&&ie.push([Ve,Ye])}if(J)for(var Ge=0,tt=ie;Ge<tt.length;Ge++){var at=tt[Ge],Ve=at[0],Ye=at[1];A.queries.query[Ve]=Ye}}function lp(A){var O=A._state,H=A._deps.indexedDB;if(O.isBeingOpened||A.idbdb)return O.dbReadyPromise.then(function(){return O.dbOpenError?ui(O.dbOpenError):A});O.isBeingOpened=!0,O.dbOpenError=null,O.openComplete=!1;var J=O.openCanceller,ie=Math.round(10*A.verno),fe=!1;function Ae(){if(O.openCanceller!==J)throw new de.DatabaseClosed("db.open() was cancelled")}function Fe(){return new ze(function(ot,Ge){if(Ae(),!H)throw new de.MissingAPI;var tt=A.name,at=O.autoSchema||!ie?H.open(tt):H.open(tt,ie);if(!at)throw new de.MissingAPI;at.onerror=Ia(Ge),at.onblocked=mn(A._fireOnBlocked),at.onupgradeneeded=mn(function(Qe){var dt;Je=at.transaction,O.autoSchema&&!A._options.allowEmptyDB?(at.onerror=Zu,Je.abort(),at.result.close(),(dt=H.deleteDatabase(tt)).onsuccess=dt.onerror=mn(function(){Ge(new de.NoSuchDatabase("Database ".concat(tt," doesnt exist")))})):(Je.onerror=Ia(Ge),Qe=Qe.oldVersion>Math.pow(2,62)?0:Qe.oldVersion,$e=Qe<1,A.idbdb=at.result,fe&&Qf(A,Je),ec(A,Qe/10,Je,Ge))},Ge),at.onsuccess=mn(function(){Je=null;var Qe,dt,bt,mt,Tt,zt=A.idbdb=at.result,en=C(zt.objectStoreNames);if(0<en.length)try{var $t=zt.transaction((mt=en).length===1?mt[0]:mt,"readonly");if(O.autoSchema)dt=zt,bt=$t,(Qe=A).verno=dt.version/10,bt=Qe._dbSchema=ad(0,dt,bt),Qe._storeNames=C(dt.objectStoreNames,0),ph(Qe,[Qe._allTables],s(bt),bt);else if(tp(A,A._dbSchema,$t),((Tt=Jf(ad(0,(Tt=A).idbdb,$t),Tt._dbSchema)).add.length||Tt.change.some(function(Kt){return Kt.add.length||Kt.change.length}))&&!fe)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),zt.close(),ie=zt.version+1,fe=!0,ot(Fe());ou(A,$t)}catch{}Ku.push(A),zt.onversionchange=mn(function(Kt){O.vcFired=!0,A.on("versionchange").fire(Kt)}),zt.onclose=mn(function(Kt){A.on("close").fire(Kt)}),$e&&(Tt=A._deps,$t=tt,zt=Tt.indexedDB,Tt=Tt.IDBKeyRange,gh(zt)||$t===Ko||rp(zt,Tt).put({name:$t}).catch(vt)),ot()},Ge)}).catch(function(ot){switch(ot?.name){case"UnknownError":if(0<O.PR1398_maxLoop)return O.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),Fe();break;case"VersionError":if(0<ie)return ie=0,Fe()}return ze.reject(ot)})}var Ve,Ye=O.dbReadyResolve,Je=null,$e=!1;return ze.race([J,(typeof navigator>"u"?ze.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ot){function Ge(){return indexedDB.databases().finally(ot)}Ve=setInterval(Ge,100),Ge()}).finally(function(){return clearInterval(Ve)}):Promise.resolve()).then(Fe)]).then(function(){return Ae(),O.onReadyBeingFired=[],ze.resolve(ip(function(){return A.on.ready.fire(A.vip)})).then(function ot(){if(0<O.onReadyBeingFired.length){var Ge=O.onReadyBeingFired.reduce(Dr,vt);return O.onReadyBeingFired=[],ze.resolve(ip(function(){return Ge(A.vip)})).then(ot)}})}).finally(function(){O.openCanceller===J&&(O.onReadyBeingFired=null,O.isBeingOpened=!1)}).catch(function(ot){O.dbOpenError=ot;try{Je&&Je.abort()}catch{}return J===O.openCanceller&&A._close(),ui(ot)}).finally(function(){O.openComplete=!0,Ye()}).then(function(){var ot;return $e&&(ot={},A.tables.forEach(function(Ge){Ge.schema.indexes.forEach(function(tt){tt.name&&(ot["idb://".concat(A.name,"/").concat(Ge.name,"/").concat(tt.name)]=new Qi(-1/0,[[[]]]))}),ot["idb://".concat(A.name,"/").concat(Ge.name,"/")]=ot["idb://".concat(A.name,"/").concat(Ge.name,"/:dels")]=new Qi(-1/0,[[[]]])}),js(Qu).fire(ot),Ji(ot,!0)),A})}function ri(A){function O(fe){return A.next(fe)}var H=ie(O),J=ie(function(fe){return A.throw(fe)});function ie(fe){return function(Ve){var Fe=fe(Ve),Ve=Fe.value;return Fe.done?Ve:Ve&&typeof Ve.then=="function"?Ve.then(H,J):o(Ve)?Promise.all(Ve).then(H,J):H(Ve)}}return ie(O)()}function lu(A,O,H){for(var J=o(A)?A.slice():[A],ie=0;ie<H;++ie)J.push(O);return J}var up={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(A){return r(r({},A),{table:function(O){var H=A.table(O),J=H.schema,ie={},fe=[];function Ae($e,ot,Ge){var tt=da($e),at=ie[tt]=ie[tt]||[],Qe=$e==null?0:typeof $e=="string"?1:$e.length,dt=0<ot,dt=r(r({},Ge),{name:dt?"".concat(tt,"(virtual-from:").concat(Ge.name,")"):Ge.name,lowLevelIndex:Ge,isVirtual:dt,keyTail:ot,keyLength:Qe,extractKey:rd($e),unique:!dt&&Ge.unique});return at.push(dt),dt.isPrimaryKey||fe.push(dt),1<Qe&&Ae(Qe===2?$e[0]:$e.slice(0,Qe-1),ot+1,Ge),at.sort(function(bt,mt){return bt.keyTail-mt.keyTail}),dt}O=Ae(J.primaryKey.keyPath,0,J.primaryKey),ie[":id"]=[O];for(var Fe=0,Ve=J.indexes;Fe<Ve.length;Fe++){var Ye=Ve[Fe];Ae(Ye.keyPath,0,Ye)}function Je($e){var ot,Ge=$e.query.index;return Ge.isVirtual?r(r({},$e),{query:{index:Ge.lowLevelIndex,range:(ot=$e.query.range,Ge=Ge.keyTail,{type:ot.type===1?2:ot.type,lower:lu(ot.lower,ot.lowerOpen?A.MAX_KEY:A.MIN_KEY,Ge),lowerOpen:!0,upper:lu(ot.upper,ot.upperOpen?A.MIN_KEY:A.MAX_KEY,Ge),upperOpen:!0})}}):$e}return r(r({},H),{schema:r(r({},J),{primaryKey:O,indexes:fe,getIndexByKeyPath:function($e){return($e=ie[da($e)])&&$e[0]}}),count:function($e){return H.count(Je($e))},query:function($e){return H.query(Je($e))},openCursor:function($e){var ot=$e.query.index,Ge=ot.keyTail,tt=ot.isVirtual,at=ot.keyLength;return tt?H.openCursor(Je($e)).then(function(dt){return dt&&Qe(dt)}):H.openCursor($e);function Qe(dt){return Object.create(dt,{continue:{value:function(bt){bt!=null?dt.continue(lu(bt,$e.reverse?A.MAX_KEY:A.MIN_KEY,Ge)):$e.unique?dt.continue(dt.key.slice(0,at).concat($e.reverse?A.MIN_KEY:A.MAX_KEY,Ge)):dt.continue()}},continuePrimaryKey:{value:function(bt,mt){dt.continuePrimaryKey(lu(bt,A.MAX_KEY,Ge),mt)}},primaryKey:{get:function(){return dt.primaryKey}},key:{get:function(){var bt=dt.key;return at===1?bt[0]:bt.slice(0,at)}},value:{get:function(){return dt.value}}})}}})}})}};function El(A,O,H,J){return H=H||{},J=J||"",s(A).forEach(function(ie){var fe,Ae,Fe;h(O,ie)?(fe=A[ie],Ae=O[ie],typeof fe=="object"&&typeof Ae=="object"&&fe&&Ae?(Fe=Ce(fe))!==Ce(Ae)?H[J+ie]=O[ie]:Fe==="Object"?El(fe,Ae,H,J+ie+"."):fe!==Ae&&(H[J+ie]=O[ie]):fe!==Ae&&(H[J+ie]=O[ie])):H[J+ie]=void 0}),s(O).forEach(function(ie){h(A,ie)||(H[J+ie]=O[ie])}),H}function vh(A,O){return O.type==="delete"?O.keys:O.keys||O.values.map(A.extractKey)}var K0={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(A){return r(r({},A),{table:function(O){var H=A.table(O),J=H.schema.primaryKey;return r(r({},H),{mutate:function(ie){var fe=Mt.trans,Ae=fe.table(O).hook,Fe=Ae.deleting,Ve=Ae.creating,Ye=Ae.updating;switch(ie.type){case"add":if(Ve.fire===vt)break;return fe._promise("readwrite",function(){return Je(ie)},!0);case"put":if(Ve.fire===vt&&Ye.fire===vt)break;return fe._promise("readwrite",function(){return Je(ie)},!0);case"delete":if(Fe.fire===vt)break;return fe._promise("readwrite",function(){return Je(ie)},!0);case"deleteRange":if(Fe.fire===vt)break;return fe._promise("readwrite",function(){return function $e(ot,Ge,tt){return H.query({trans:ot,values:!1,query:{index:J,range:Ge},limit:tt}).then(function(at){var Qe=at.result;return Je({type:"delete",keys:Qe,trans:ot}).then(function(dt){return 0<dt.numFailures?Promise.reject(dt.failures[0]):Qe.length<tt?{failures:[],numFailures:0,lastResult:void 0}:$e(ot,r(r({},Ge),{lower:Qe[Qe.length-1],lowerOpen:!0}),tt)})})}(ie.trans,ie.range,1e4)},!0)}return H.mutate(ie);function Je($e){var ot,Ge,tt,at=Mt.trans,Qe=$e.keys||vh(J,$e);if(!Qe)throw new Error("Keys missing");return($e=$e.type==="add"||$e.type==="put"?r(r({},$e),{keys:Qe}):r({},$e)).type!=="delete"&&($e.values=i([],$e.values)),$e.keys&&($e.keys=i([],$e.keys)),ot=H,tt=Qe,((Ge=$e).type==="add"?Promise.resolve([]):ot.getMany({trans:Ge.trans,keys:tt,cache:"immutable"})).then(function(dt){var bt=Qe.map(function(mt,Tt){var zt,en,$t,Kt=dt[Tt],tn={onerror:null,onsuccess:null};return $e.type==="delete"?Fe.fire.call(tn,mt,Kt,at):$e.type==="add"||Kt===void 0?(zt=Ve.fire.call(tn,mt,$e.values[Tt],at),mt==null&&zt!=null&&($e.keys[Tt]=mt=zt,J.outbound||G($e.values[Tt],J.keyPath,mt))):(zt=El(Kt,$e.values[Tt]),(en=Ye.fire.call(tn,zt,mt,Kt,at))&&($t=$e.values[Tt],Object.keys(en).forEach(function(Xt){h($t,Xt)?$t[Xt]=en[Xt]:G($t,Xt,en[Xt])}))),tn});return H.mutate($e).then(function(mt){for(var Tt=mt.failures,zt=mt.results,en=mt.numFailures,mt=mt.lastResult,$t=0;$t<Qe.length;++$t){var Kt=(zt||Qe)[$t],tn=bt[$t];Kt==null?tn.onerror&&tn.onerror(Tt[$t]):tn.onsuccess&&tn.onsuccess($e.type==="put"&&dt[$t]?$e.values[$t]:Kt)}return{failures:Tt,results:zt,numFailures:en,lastResult:mt}}).catch(function(mt){return bt.forEach(function(Tt){return Tt.onerror&&Tt.onerror(mt)}),Promise.reject(mt)})})}}})}})}};function cp(A,O,H){try{if(!O||O.keys.length<A.length)return null;for(var J=[],ie=0,fe=0;ie<O.keys.length&&fe<A.length;++ie)ar(O.keys[ie],A[fe])===0&&(J.push(H?qe(O.values[ie]):O.values[ie]),++fe);return J.length===A.length?J:null}catch{return null}}var wh={stack:"dbcore",level:-1,create:function(A){return{table:function(O){var H=A.table(O);return r(r({},H),{getMany:function(J){if(!J.cache)return H.getMany(J);var ie=cp(J.keys,J.trans._cache,J.cache==="clone");return ie?ze.resolve(ie):H.getMany(J).then(function(fe){return J.trans._cache={keys:J.keys,values:J.cache==="clone"?qe(fe):fe},fe})},mutate:function(J){return J.type!=="add"&&(J.trans._cache=null),H.mutate(J)}})}}}};function ii(A,O){return A.trans.mode==="readonly"&&!!A.subscr&&!A.trans.explicit&&A.trans.db._options.cache!=="disabled"&&!O.schema.primaryKey.outbound}function Y0(A,O){switch(A){case"query":return O.values&&!O.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var lg={stack:"dbcore",level:0,name:"Observability",create:function(A){var O=A.schema.name,H=new Qi(A.MIN_KEY,A.MAX_KEY);return r(r({},A),{transaction:function(J,ie,fe){if(Mt.subscr&&ie!=="readonly")throw new de.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Mt.querier));return A.transaction(J,ie,fe)},table:function(J){var ie=A.table(J),fe=ie.schema,Ae=fe.primaryKey,$e=fe.indexes,Fe=Ae.extractKey,Ve=Ae.outbound,Ye=Ae.autoIncrement&&$e.filter(function(Ge){return Ge.compound&&Ge.keyPath.includes(Ae.keyPath)}),Je=r(r({},ie),{mutate:function(Ge){function tt(Xt){return Xt="idb://".concat(O,"/").concat(J,"/").concat(Xt),mt[Xt]||(mt[Xt]=new Qi)}var at,Qe,dt,bt=Ge.trans,mt=Ge.mutatedParts||(Ge.mutatedParts={}),Tt=tt(""),zt=tt(":dels"),en=Ge.type,tn=Ge.type==="deleteRange"?[Ge.range]:Ge.type==="delete"?[Ge.keys]:Ge.values.length<50?[vh(Ae,Ge).filter(function(Xt){return Xt}),Ge.values]:[],$t=tn[0],Kt=tn[1],tn=Ge.trans._cache;return o($t)?(Tt.addKeys($t),(tn=en==="delete"||$t.length===Kt.length?cp($t,tn):null)||zt.addKeys($t),(tn||Kt)&&(at=tt,Qe=tn,dt=Kt,fe.indexes.forEach(function(Xt){var Rt=at(Xt.name||"");function gn(On){return On!=null?Xt.extractKey(On):null}function Wn(On){return Xt.multiEntry&&o(On)?On.forEach(function(_a){return Rt.addKey(_a)}):Rt.addKey(On)}(Qe||dt).forEach(function(On,Oi){var jn=Qe&&gn(Qe[Oi]),Oi=dt&&gn(dt[Oi]);ar(jn,Oi)!==0&&(jn!=null&&Wn(jn),Oi!=null&&Wn(Oi))})}))):$t?(Kt={from:(Kt=$t.lower)!==null&&Kt!==void 0?Kt:A.MIN_KEY,to:(Kt=$t.upper)!==null&&Kt!==void 0?Kt:A.MAX_KEY},zt.add(Kt),Tt.add(Kt)):(Tt.add(H),zt.add(H),fe.indexes.forEach(function(Xt){return tt(Xt.name).add(H)})),ie.mutate(Ge).then(function(Xt){return!$t||Ge.type!=="add"&&Ge.type!=="put"||(Tt.addKeys(Xt.results),Ye&&Ye.forEach(function(Rt){for(var gn=Ge.values.map(function(jn){return Rt.extractKey(jn)}),Wn=Rt.keyPath.findIndex(function(jn){return jn===Ae.keyPath}),On=0,_a=Xt.results.length;On<_a;++On)gn[On][Wn]=Xt.results[On];tt(Rt.name).addKeys(gn)})),bt.mutatedParts=nc(bt.mutatedParts||{},mt),Xt})}}),$e=function(tt){var at=tt.query,tt=at.index,at=at.range;return[tt,new Qi((tt=at.lower)!==null&&tt!==void 0?tt:A.MIN_KEY,(at=at.upper)!==null&&at!==void 0?at:A.MAX_KEY)]},ot={get:function(Ge){return[Ae,new Qi(Ge.key)]},getMany:function(Ge){return[Ae,new Qi().addKeys(Ge.keys)]},count:$e,query:$e,openCursor:$e};return s(ot).forEach(function(Ge){Je[Ge]=function(tt){var at=Mt.subscr,Qe=!!at,dt=ii(Mt,ie)&&Y0(Ge,tt)?tt.obsSet={}:at;if(Qe){var bt=function(Kt){return Kt="idb://".concat(O,"/").concat(J,"/").concat(Kt),dt[Kt]||(dt[Kt]=new Qi)},mt=bt(""),Tt=bt(":dels"),at=ot[Ge](tt),Qe=at[0],at=at[1];if((Ge==="query"&&Qe.isPrimaryKey&&!tt.values?Tt:bt(Qe.name||"")).add(at),!Qe.isPrimaryKey){if(Ge!=="count"){var zt=Ge==="query"&&Ve&&tt.values&&ie.query(r(r({},tt),{values:!1}));return ie[Ge].apply(this,arguments).then(function(Kt){if(Ge==="query"){if(Ve&&tt.values)return zt.then(function(gn){return gn=gn.result,mt.addKeys(gn),Kt});var tn=tt.values?Kt.result.map(Fe):Kt.result;(tt.values?mt:Tt).addKeys(tn)}else if(Ge==="openCursor"){var Xt=Kt,Rt=tt.values;return Xt&&Object.create(Xt,{key:{get:function(){return Tt.addKey(Xt.primaryKey),Xt.key}},primaryKey:{get:function(){var gn=Xt.primaryKey;return Tt.addKey(gn),gn}},value:{get:function(){return Rt&&mt.addKey(Xt.primaryKey),Xt.value}}})}return Kt})}Tt.add(H)}}return ie[Ge].apply(this,arguments)}}),Je}})}};function X0(A,O,H){if(H.numFailures===0)return O;if(O.type==="deleteRange")return null;var J=O.keys?O.keys.length:"values"in O&&O.values?O.values.length:1;return H.numFailures===J?null:(O=r({},O),o(O.keys)&&(O.keys=O.keys.filter(function(ie,fe){return!(fe in H.failures)})),"values"in O&&o(O.values)&&(O.values=O.values.filter(function(ie,fe){return!(fe in H.failures)})),O)}function dp(A,O){return H=A,((J=O).lower===void 0||(J.lowerOpen?0<ar(H,J.lower):0<=ar(H,J.lower)))&&(A=A,(O=O).upper===void 0||(O.upperOpen?ar(A,O.upper)<0:ar(A,O.upper)<=0));var H,J}function zs(A,O,ot,J,ie,fe){if(!ot||ot.length===0)return A;var Ae=O.query.index,Fe=Ae.multiEntry,Ve=O.query.range,Ye=J.schema.primaryKey.extractKey,Je=Ae.extractKey,$e=(Ae.lowLevelIndex||Ae).extractKey,ot=ot.reduce(function(Ge,tt){var at=Ge,Qe=[];if(tt.type==="add"||tt.type==="put")for(var dt=new Qi,bt=tt.values.length-1;0<=bt;--bt){var mt,Tt=tt.values[bt],zt=Ye(Tt);dt.hasKey(zt)||(mt=Je(Tt),(Fe&&o(mt)?mt.some(function(Xt){return dp(Xt,Ve)}):dp(mt,Ve))&&(dt.addKey(zt),Qe.push(Tt)))}switch(tt.type){case"add":var en=new Qi().addKeys(O.values?Ge.map(function(Rt){return Ye(Rt)}):Ge),at=Ge.concat(O.values?Qe.filter(function(Rt){return Rt=Ye(Rt),!en.hasKey(Rt)&&(en.addKey(Rt),!0)}):Qe.map(function(Rt){return Ye(Rt)}).filter(function(Rt){return!en.hasKey(Rt)&&(en.addKey(Rt),!0)}));break;case"put":var $t=new Qi().addKeys(tt.values.map(function(Rt){return Ye(Rt)}));at=Ge.filter(function(Rt){return!$t.hasKey(O.values?Ye(Rt):Rt)}).concat(O.values?Qe:Qe.map(function(Rt){return Ye(Rt)}));break;case"delete":var Kt=new Qi().addKeys(tt.keys);at=Ge.filter(function(Rt){return!Kt.hasKey(O.values?Ye(Rt):Rt)});break;case"deleteRange":var tn=tt.range;at=Ge.filter(function(Rt){return!dp(Ye(Rt),tn)})}return at},A);return ot===A?A:(ot.sort(function(Ge,tt){return ar($e(Ge),$e(tt))||ar(Ye(Ge),Ye(tt))}),O.limit&&O.limit<1/0&&(ot.length>O.limit?ot.length=O.limit:A.length===O.limit&&ot.length<O.limit&&(ie.dirty=!0)),fe?Object.freeze(ot):ot)}function sd(A,O){return ar(A.lower,O.lower)===0&&ar(A.upper,O.upper)===0&&!!A.lowerOpen==!!O.lowerOpen&&!!A.upperOpen==!!O.upperOpen}function uu(A,O){return function(H,J,ie,fe){if(H===void 0)return J!==void 0?-1:0;if(J===void 0)return 1;if((J=ar(H,J))===0){if(ie&&fe)return 0;if(ie)return 1;if(fe)return-1}return J}(A.lower,O.lower,A.lowerOpen,O.lowerOpen)<=0&&0<=function(H,J,ie,fe){if(H===void 0)return J!==void 0?1:0;if(J===void 0)return-1;if((J=ar(H,J))===0){if(ie&&fe)return 0;if(ie)return-1;if(fe)return 1}return J}(A.upper,O.upper,A.upperOpen,O.upperOpen)}function ls(A,O,H,J){A.subscribers.add(H),J.addEventListener("abort",function(){var ie,fe;A.subscribers.delete(H),A.subscribers.size===0&&(ie=A,fe=O,setTimeout(function(){ie.subscribers.size===0&&Te(fe,ie)},3e3))})}var co={stack:"dbcore",level:0,name:"Cache",create:function(A){var O=A.schema.name;return r(r({},A),{transaction:function(H,J,ie){var fe,Ae,Fe=A.transaction(H,J,ie);return J==="readwrite"&&(Ae=(fe=new AbortController).signal,ie=function(Ve){return function(){if(fe.abort(),J==="readwrite"){for(var Ye=new Set,Je=0,$e=H;Je<$e.length;Je++){var ot=$e[Je],Ge=rc["idb://".concat(O,"/").concat(ot)];if(Ge){var tt=A.table(ot),at=Ge.optimisticOps.filter(function(Rt){return Rt.trans===Fe});if(Fe._explicit&&Ve&&Fe.mutatedParts)for(var Qe=0,dt=Object.values(Ge.queries.query);Qe<dt.length;Qe++)for(var bt=0,mt=(en=dt[Qe]).slice();bt<mt.length;bt++)Na(($t=mt[bt]).obsSet,Fe.mutatedParts)&&(Te(en,$t),$t.subscribers.forEach(function(Rt){return Ye.add(Rt)}));else if(0<at.length){Ge.optimisticOps=Ge.optimisticOps.filter(function(Rt){return Rt.trans!==Fe});for(var Tt=0,zt=Object.values(Ge.queries.query);Tt<zt.length;Tt++)for(var en,$t,Kt,tn=0,Xt=(en=zt[Tt]).slice();tn<Xt.length;tn++)($t=Xt[tn]).res!=null&&Fe.mutatedParts&&(Ve&&!$t.dirty?(Kt=Object.isFrozen($t.res),Kt=zs($t.res,$t.req,at,tt,$t,Kt),$t.dirty?(Te(en,$t),$t.subscribers.forEach(function(Rt){return Ye.add(Rt)})):Kt!==$t.res&&($t.res=Kt,$t.promise=ze.resolve({result:Kt}))):($t.dirty&&Te(en,$t),$t.subscribers.forEach(function(Rt){return Ye.add(Rt)})))}}}Ye.forEach(function(Rt){return Rt()})}}},Fe.addEventListener("abort",ie(!1),{signal:Ae}),Fe.addEventListener("error",ie(!1),{signal:Ae}),Fe.addEventListener("complete",ie(!0),{signal:Ae})),Fe},table:function(H){var J=A.table(H),ie=J.schema.primaryKey;return r(r({},J),{mutate:function(fe){var Ae=Mt.trans;if(ie.outbound||Ae.db._options.cache==="disabled"||Ae.explicit||Ae.idbtrans.mode!=="readwrite")return J.mutate(fe);var Fe=rc["idb://".concat(O,"/").concat(H)];return Fe?(Ae=J.mutate(fe),fe.type!=="add"&&fe.type!=="put"||!(50<=fe.values.length||vh(ie,fe).some(function(Ve){return Ve==null}))?(Fe.optimisticOps.push(fe),fe.mutatedParts&&op(fe.mutatedParts),Ae.then(function(Ve){0<Ve.numFailures&&(Te(Fe.optimisticOps,fe),(Ve=X0(0,fe,Ve))&&Fe.optimisticOps.push(Ve),fe.mutatedParts&&op(fe.mutatedParts))}),Ae.catch(function(){Te(Fe.optimisticOps,fe),fe.mutatedParts&&op(fe.mutatedParts)})):Ae.then(function(Ve){var Ye=X0(0,r(r({},fe),{values:fe.values.map(function(Je,$e){var ot;return Ve.failures[$e]?Je:(Je=(ot=ie.keyPath)!==null&&ot!==void 0&&ot.includes(".")?qe(Je):r({},Je),G(Je,ie.keyPath,Ve.results[$e]),Je)})}),Ve);Fe.optimisticOps.push(Ye),queueMicrotask(function(){return fe.mutatedParts&&op(fe.mutatedParts)})}),Ae):J.mutate(fe)},query:function(fe){if(!ii(Mt,J)||!Y0("query",fe))return J.query(fe);var Ae=((Ye=Mt.trans)===null||Ye===void 0?void 0:Ye.db._options.cache)==="immutable",$e=Mt,Fe=$e.requery,Ve=$e.signal,Ye=function(tt,at,Qe,dt){var bt=rc["idb://".concat(tt,"/").concat(at)];if(!bt)return[];if(!(at=bt.queries[Qe]))return[null,!1,bt,null];var mt=at[(dt.query?dt.query.index.name:null)||""];if(!mt)return[null,!1,bt,null];switch(Qe){case"query":var Tt=mt.find(function(zt){return zt.req.limit===dt.limit&&zt.req.values===dt.values&&sd(zt.req.query.range,dt.query.range)});return Tt?[Tt,!0,bt,mt]:[mt.find(function(zt){return("limit"in zt.req?zt.req.limit:1/0)>=dt.limit&&(!dt.values||zt.req.values)&&uu(zt.req.query.range,dt.query.range)}),!1,bt,mt];case"count":return Tt=mt.find(function(zt){return sd(zt.req.query.range,dt.query.range)}),[Tt,!!Tt,bt,mt]}}(O,H,"query",fe),Je=Ye[0],$e=Ye[1],ot=Ye[2],Ge=Ye[3];return Je&&$e?Je.obsSet=fe.obsSet:($e=J.query(fe).then(function(tt){var at=tt.result;if(Je&&(Je.res=at),Ae){for(var Qe=0,dt=at.length;Qe<dt;++Qe)Object.freeze(at[Qe]);Object.freeze(at)}else tt.result=qe(at);return tt}).catch(function(tt){return Ge&&Je&&Te(Ge,Je),Promise.reject(tt)}),Je={obsSet:fe.obsSet,promise:$e,subscribers:new Set,type:"query",req:fe,dirty:!1},Ge?Ge.push(Je):(Ge=[Je],(ot=ot||(rc["idb://".concat(O,"/").concat(H)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[fe.query.index.name||""]=Ge)),ls(Je,Ge,Fe,Ve),Je.promise.then(function(tt){return{result:zs(tt.result,fe,ot?.optimisticOps,J,Je,Ae)}})}})}})}};function ic(A,O){return new Proxy(A,{get:function(H,J,ie){return J==="db"?O:Reflect.get(H,J,ie)}})}var ho=(hi.prototype.version=function(A){if(isNaN(A)||A<.1)throw new de.Type("Given version is not a positive number");if(A=Math.round(10*A)/10,this.idbdb||this._state.isBeingOpened)throw new de.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,A);var O=this._versions,H=O.filter(function(J){return J._cfg.version===A})[0];return H||(H=new this.Version(A),O.push(H),O.sort(Zf),H.stores({}),this._state.autoSchema=!1,H)},hi.prototype._whenReady=function(A){var O=this;return this.idbdb&&(this._state.openComplete||Mt.letThrough||this._vip)?A():new ze(function(H,J){if(O._state.openComplete)return J(new de.DatabaseClosed(O._state.dbOpenError));if(!O._state.isBeingOpened){if(!O._state.autoOpen)return void J(new de.DatabaseClosed);O.open().catch(vt)}O._state.dbReadyPromise.then(H,J)}).then(A)},hi.prototype.use=function(A){var O=A.stack,H=A.create,J=A.level,ie=A.name;return ie&&this.unuse({stack:O,name:ie}),A=this._middlewares[O]||(this._middlewares[O]=[]),A.push({stack:O,create:H,level:J??10,name:ie}),A.sort(function(fe,Ae){return fe.level-Ae.level}),this},hi.prototype.unuse=function(A){var O=A.stack,H=A.name,J=A.create;return O&&this._middlewares[O]&&(this._middlewares[O]=this._middlewares[O].filter(function(ie){return J?ie.create!==J:!!H&&ie.name!==H})),this},hi.prototype.open=function(){var A=this;return Xi(xn,function(){return lp(A)})},hi.prototype._close=function(){var A=this._state,O=Ku.indexOf(this);if(0<=O&&Ku.splice(O,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}A.isBeingOpened||(A.dbReadyPromise=new ze(function(H){A.dbReadyResolve=H}),A.openCanceller=new ze(function(H,J){A.cancelOpen=J}))},hi.prototype.close=function(H){var O=(H===void 0?{disableAutoOpen:!0}:H).disableAutoOpen,H=this._state;O?(H.isBeingOpened&&H.cancelOpen(new de.DatabaseClosed),this._close(),H.autoOpen=!1,H.dbOpenError=new de.DatabaseClosed):(this._close(),H.autoOpen=this._options.autoOpen||H.isBeingOpened,H.openComplete=!1,H.dbOpenError=null)},hi.prototype.delete=function(A){var O=this;A===void 0&&(A={disableAutoOpen:!0});var H=0<arguments.length&&typeof arguments[0]!="object",J=this._state;return new ze(function(ie,fe){function Ae(){O.close(A);var Fe=O._deps.indexedDB.deleteDatabase(O.name);Fe.onsuccess=mn(function(){var Ve,Ye,Je;Ve=O._deps,Ye=O.name,Je=Ve.indexedDB,Ve=Ve.IDBKeyRange,gh(Je)||Ye===Ko||rp(Je,Ve).delete(Ye).catch(vt),ie()}),Fe.onerror=Ia(fe),Fe.onblocked=O._fireOnBlocked}if(H)throw new de.InvalidArgument("Invalid closeOptions argument to db.delete()");J.isBeingOpened?J.dbReadyPromise.then(Ae):Ae()})},hi.prototype.backendDB=function(){return this.idbdb},hi.prototype.isOpen=function(){return this.idbdb!==null},hi.prototype.hasBeenClosed=function(){var A=this._state.dbOpenError;return A&&A.name==="DatabaseClosed"},hi.prototype.hasFailed=function(){return this._state.dbOpenError!==null},hi.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(hi.prototype,"tables",{get:function(){var A=this;return s(this._allTables).map(function(O){return A._allTables[O]})},enumerable:!1,configurable:!0}),hi.prototype.transaction=function(){var A=function(O,H,J){var ie=arguments.length;if(ie<2)throw new de.InvalidArgument("Too few arguments");for(var fe=new Array(ie-1);--ie;)fe[ie-1]=arguments[ie];return J=fe.pop(),[O,Q(fe),J]}.apply(this,arguments);return this._transaction.apply(this,A)},hi.prototype._transaction=function(A,O,H){var J=this,ie=Mt.trans;ie&&ie.db===this&&A.indexOf("!")===-1||(ie=null);var fe,Ae,Fe=A.indexOf("?")!==-1;A=A.replace("!","").replace("?","");try{if(Ae=O.map(function(Ye){if(Ye=Ye instanceof J.Table?Ye.name:Ye,typeof Ye!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Ye}),A=="r"||A===au)fe=au;else{if(A!="rw"&&A!=uo)throw new de.InvalidArgument("Invalid transaction mode: "+A);fe=uo}if(ie){if(ie.mode===au&&fe===uo){if(!Fe)throw new de.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");ie=null}ie&&Ae.forEach(function(Ye){if(ie&&ie.storeNames.indexOf(Ye)===-1){if(!Fe)throw new de.SubTransaction("Table "+Ye+" not included in parent transaction.");ie=null}}),Fe&&ie&&!ie.active&&(ie=null)}}catch(Ye){return ie?ie._promise(null,function(Je,$e){$e(Ye)}):ui(Ye)}var Ve=function Ye(Je,$e,ot,Ge,tt){return ze.resolve().then(function(){var at=Mt.transless||Mt,Qe=Je._createTransaction($e,ot,Je._dbSchema,Ge);if(Qe.explicit=!0,at={trans:Qe,transless:at},Ge)Qe.idbtrans=Ge.idbtrans;else try{Qe.create(),Qe.idbtrans._explicit=!0,Je._state.PR1398_maxLoop=3}catch(mt){return mt.name===Ke.InvalidState&&Je.isOpen()&&0<--Je._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Je.close({disableAutoOpen:!1}),Je.open().then(function(){return Ye(Je,$e,ot,null,tt)})):ui(mt)}var dt,bt=pe(tt);return bt&&Zr(),at=ze.follow(function(){var mt;(dt=tt.call(Qe,Qe))&&(bt?(mt=Ha.bind(null,null),dt.then(mt,mt)):typeof dt.next=="function"&&typeof dt.throw=="function"&&(dt=ri(dt)))},at),(dt&&typeof dt.then=="function"?ze.resolve(dt).then(function(mt){return Qe.active?mt:ui(new de.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):at.then(function(){return dt})).then(function(mt){return Ge&&Qe._resolve(),Qe._completion.then(function(){return mt})}).catch(function(mt){return Qe._reject(mt),ui(mt)})})}.bind(null,this,fe,Ae,ie,H);return ie?ie._promise(fe,Ve,"lock"):Mt.trans?Xi(Mt.transless,function(){return J._whenReady(Ve)}):this._whenReady(Ve)},hi.prototype.table=function(A){if(!h(this._allTables,A))throw new de.InvalidTable("Table ".concat(A," does not exist"));return this._allTables[A]},hi);function hi(A,O){var H=this;this._middlewares={},this.verno=0;var J=hi.dependencies;this._options=O=r({addons:hi.addons,autoOpen:!0,indexedDB:J.indexedDB,IDBKeyRange:J.IDBKeyRange,cache:"cloned"},O),this._deps={indexedDB:O.indexedDB,IDBKeyRange:O.IDBKeyRange},J=O.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var ie,fe,Ae,Fe,Ve,Ye={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:vt,dbReadyPromise:null,cancelOpen:vt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:O.autoOpen};Ye.dbReadyPromise=new ze(function($e){Ye.dbReadyResolve=$e}),Ye.openCanceller=new ze(function($e,ot){Ye.cancelOpen=ot}),this._state=Ye,this.name=A,this.on=ch(this,"populate","blocked","versionchange","close",{ready:[Dr,vt]}),this.on.ready.subscribe=N(this.on.ready.subscribe,function($e){return function(ot,Ge){hi.vip(function(){var tt,at=H._state;at.openComplete?(at.dbOpenError||ze.resolve().then(ot),Ge&&$e(ot)):at.onReadyBeingFired?(at.onReadyBeingFired.push(ot),Ge&&$e(ot)):($e(ot),tt=H,Ge||$e(function Qe(){tt.on.ready.unsubscribe(ot),tt.on.ready.unsubscribe(Qe)}))})}}),this.Collection=(ie=this,su(U0.prototype,function(dt,Qe){this.db=ie;var Ge=tg,tt=null;if(Qe)try{Ge=Qe()}catch(bt){tt=bt}var at=dt._ctx,Qe=at.table,dt=Qe.hook.reading.fire;this._ctx={table:Qe,index:at.index,isPrimKey:!at.index||Qe.schema.primKey.keyPath&&at.index===Qe.schema.primKey.name,range:Ge,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:tt,or:at.or,valueMapper:dt!==Dt?dt:null}})),this.Table=(fe=this,su(ks.prototype,function($e,ot,Ge){this.db=fe,this._tx=Ge,this.name=$e,this.schema=ot,this.hook=fe._allTables[$e]?fe._allTables[$e].hook:ch(null,{creating:[Un,vt],reading:[an,Dt],updating:[tr,vt],deleting:[rn,vt]})})),this.Transaction=(Ae=this,su(ag.prototype,function($e,ot,Ge,tt,at){var Qe=this;this.db=Ae,this.mode=$e,this.storeNames=ot,this.schema=Ge,this.chromeTransactionDurability=tt,this.idbtrans=null,this.on=ch(this,"complete","error","abort"),this.parent=at||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ze(function(dt,bt){Qe._resolve=dt,Qe._reject=bt}),this._completion.then(function(){Qe.active=!1,Qe.on.complete.fire()},function(dt){var bt=Qe.active;return Qe.active=!1,Qe.on.error.fire(dt),Qe.parent?Qe.parent._reject(dt):bt&&Qe.idbtrans&&Qe.idbtrans.abort(),ui(dt)})})),this.Version=(Fe=this,su(Bv.prototype,function($e){this.db=Fe,this._cfg={version:$e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Ve=this,su(Wf.prototype,function($e,ot,Ge){if(this.db=Ve,this._ctx={table:$e,index:ot===":id"?null:ot,or:Ge},this._cmp=this._ascending=ar,this._descending=function(tt,at){return ar(at,tt)},this._max=function(tt,at){return 0<ar(tt,at)?tt:at},this._min=function(tt,at){return ar(tt,at)<0?tt:at},this._IDBKeyRange=Ve._deps.IDBKeyRange,!this._IDBKeyRange)throw new de.MissingAPI})),this.on("versionchange",function($e){0<$e.newVersion?console.warn("Another connection wants to upgrade database '".concat(H.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(H.name,"'. Closing db now to resume the delete request.")),H.close({disableAutoOpen:!1})}),this.on("blocked",function($e){!$e.newVersion||$e.newVersion<$e.oldVersion?console.warn("Dexie.delete('".concat(H.name,"') was blocked")):console.warn("Upgrade '".concat(H.name,"' blocked by other connection holding version ").concat($e.oldVersion/10))}),this._maxKey=nd(O.IDBKeyRange),this._createTransaction=function($e,ot,Ge,tt){return new H.Transaction($e,ot,Ge,H._options.chromeTransactionDurability,tt)},this._fireOnBlocked=function($e){H.on("blocked").fire($e),Ku.filter(function(ot){return ot.name===H.name&&ot!==H&&!ot._state.vcFired}).map(function(ot){return ot.on("versionchange").fire($e)})},this.use(wh),this.use(co),this.use(lg),this.use(up),this.use(K0);var Je=new Proxy(this,{get:function($e,ot,Ge){if(ot==="_vip")return!0;if(ot==="table")return function(at){return ic(H.table(at),Je)};var tt=Reflect.get($e,ot,Ge);return tt instanceof ks?ic(tt,Je):ot==="tables"?tt.map(function(at){return ic(at,Je)}):ot==="_createTransaction"?function(){return ic(tt.apply(this,arguments),Je)}:tt}});this.vip=Je,J.forEach(function($e){return $e(H)})}var ha,Nr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Qo=(_h.prototype.subscribe=function(A,O,H){return this._subscribe(A&&typeof A!="function"?A:{next:A,error:O,complete:H})},_h.prototype[Nr]=function(){return this},_h);function _h(A){this._subscribe=A}try{ha={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{ha={indexedDB:null,IDBKeyRange:null}}function ug(A){var O,H=!1,J=new Qo(function(ie){var fe=pe(A),Ae,Fe=!1,Ve={},Ye={},Je={get closed(){return Fe},unsubscribe:function(){Fe||(Fe=!0,Ae&&Ae.abort(),$e&&js.storagemutated.unsubscribe(Ge))}};ie.start&&ie.start(Je);var $e=!1,ot=function(){return lo(tt)},Ge=function(at){nc(Ve,at),Na(Ye,Ve)&&ot()},tt=function(){var at,Qe,dt;!Fe&&ha.indexedDB&&(Ve={},at={},Ae&&Ae.abort(),Ae=new AbortController,dt=function(bt){var mt=qn();try{fe&&Zr();var Tt=vr(A,bt);return Tt=fe?Tt.finally(Ha):Tt}finally{mt&&St()}}(Qe={subscr:at,signal:Ae.signal,requery:ot,querier:A,trans:null}),Promise.resolve(dt).then(function(bt){H=!0,O=bt,Fe||Qe.signal.aborted||(Ve={},function(mt){for(var Tt in mt)if(h(mt,Tt))return;return 1}(Ye=at)||$e||(js(Qu,Ge),$e=!0),lo(function(){return!Fe&&ie.next&&ie.next(bt)}))},function(bt){H=!1,["DatabaseClosedError","AbortError"].includes(bt?.name)||Fe||lo(function(){Fe||ie.error&&ie.error(bt)})}))};return setTimeout(ot,0),Je});return J.hasValue=function(){return H},J.getValue=function(){return O},J}var cu=ho;function cg(A){var O=Ts;try{Ts=!0,js.storagemutated.fire(A),Ji(A,!0)}finally{Ts=O}}p(cu,r(r({},ht),{delete:function(A){return new cu(A,{addons:[]}).delete()},exists:function(A){return new cu(A,{addons:[]}).open().then(function(O){return O.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(A){try{return O=cu.dependencies,H=O.indexedDB,O=O.IDBKeyRange,(gh(H)?Promise.resolve(H.databases()).then(function(J){return J.map(function(ie){return ie.name}).filter(function(ie){return ie!==Ko})}):rp(H,O).toCollection().primaryKeys()).then(A)}catch{return ui(new de.MissingAPI)}var O,H},defineClass:function(){return function(A){l(this,A)}},ignoreTransaction:function(A){return Mt.trans?Xi(Mt.transless,A):A()},vip:ip,async:function(A){return function(){try{var O=ri(A.apply(this,arguments));return O&&typeof O.then=="function"?O:ze.resolve(O)}catch(H){return ui(H)}}},spawn:function(A,O,H){try{var J=ri(A.apply(H,O||[]));return J&&typeof J.then=="function"?J:ze.resolve(J)}catch(ie){return ui(ie)}},currentTransaction:{get:function(){return Mt.trans||null}},waitFor:function(A,O){return O=ze.resolve(typeof A=="function"?cu.ignoreTransaction(A):A).timeout(O||6e4),Mt.trans?Mt.trans.waitFor(O):O},Promise:ze,debug:{get:function(){return Ee},set:function(A){ee(A)}},derive:w,extend:l,props:p,override:N,Events:ch,on:js,liveQuery:ug,extendObservabilitySet:nc,getByKeyPath:U,setByKeyPath:G,delByKeyPath:function(A,O){typeof O=="string"?G(A,O,void 0):"length"in O&&[].map.call(O,function(H){G(A,H,void 0)})},shallowClone:se,deepClone:qe,getObjectDiff:El,cmp:ar,asap:D,minKey:-1/0,addons:[],connections:Ku,errnames:Ke,dependencies:ha,cache:rc,semVer:"4.0.11",version:"4.0.11".split(".").map(function(A){return parseInt(A)}).reduce(function(A,O,H){return A+O/Math.pow(10,2*H)})})),cu.maxKey=nd(cu.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(js(Qu,function(A){Ts||(A=new CustomEvent(Kf,{detail:A}),Ts=!0,dispatchEvent(A),Ts=!1)}),addEventListener(Kf,function(A){A=A.detail,Ts||cg(A)}));var $s,Ts=!1,Oa=function(){};return typeof BroadcastChannel<"u"&&((Oa=function(){($s=new BroadcastChannel(Kf)).onmessage=function(A){return A.data&&cg(A.data)}})(),typeof $s.unref=="function"&&$s.unref(),js(Qu,function(A){Ts||$s.postMessage(A)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(A){if(!ho.disableBfCache&&A.persisted){Ee&&console.debug("Dexie: handling persisted pagehide"),$s?.close();for(var O=0,H=Ku;O<H.length;O++)H[O].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(A){!ho.disableBfCache&&A.persisted&&(Ee&&console.debug("Dexie: handling persisted pageshow"),Oa(),cg({all:new Qi(-1/0,[[]])}))})),ze.rejectionMapper=function(A,O){return!A||A instanceof ae||A instanceof TypeError||A instanceof SyntaxError||!A.name||!Se[A.name]?A:(O=new Se[A.name](O||A.message,A),"stack"in A&&v(O,"stack",{get:function(){return this.inner.stack}}),O)},ee(Ee),r(ho,Object.freeze({__proto__:null,Dexie:ho,liveQuery:ug,Entity:B0,cmp:ar,PropModification:Xo,replacePrefix:function(A,O){return new Xo({replacePrefix:[A,O]})},add:function(A){return new Xo({add:A})},remove:function(A){return new Xo({remove:A})},default:ho,RangeSet:Qi,mergeRanges:tc,rangesOverlap:V0}),{default:ho}),ho})}(ck)),ck.exports}var Oke=Nke();const P6=Yc(Oke),JV=Symbol.for("Dexie"),Mb=globalThis[JV]||(globalThis[JV]=P6);if(P6.semVer!==Mb.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${P6.semVer} and ${Mb.semVer}`);const{liveQuery:Mke,mergeRanges:ilt,rangesOverlap:alt,RangeSet:slt,cmp:olt,Entity:llt,PropModification:ult,replacePrefix:clt,add:dlt,remove:hlt}=Mb,Pke="modulepreload",Lke=function(t){return"/"+t},eG={},Ps=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=s?.nonce||s?.getAttribute("nonce");i=Promise.allSettled(n.map(l=>{if(l=Lke(l),l in eG)return;eG[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Pke,u||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},tG={default_chat_model:"",enabled_chat_models:[],default_embedding_model:"",enabled_embedding_models:[],ollama_base_url:"http://localhost:11434",openai_api_key:"",openai_base_url:"",openai_model:"",anthropic_api_key:"",gemini_api_key:"",ollama_available:!1,hf_token:"",hf_model:"",hf_custom_models:""};var qi=(t=>(t.openai="openai",t.anthropic="anthropic",t.ollama="ollama",t.gemini="gemini",t.huggingface="huggingface",t))(qi||{}),Vw=(t=>(t.image="image",t.audio="audio",t.video="video",t.pdf="pdf",t))(Vw||{});const dk={openai:["openai_api_key","openai_base_url","openai_model"],anthropic:["anthropic_api_key"],ollama:["ollama_base_url"],gemini:["gemini_api_key"],huggingface:["hf_token","hf_custom_models"]},L6=[{name:"GPT-4o",provider:"openai",model:"gpt-4o",description:"OpenAI GPT-4o",modalities:["image"],isReasoning:!1},{name:"GPT-4o Mini",provider:"openai",model:"gpt-4o-mini",description:"OpenAI GPT-4o Mini",modalities:["image"],isReasoning:!1},{name:"o3-mini",provider:"openai",model:"o3-mini",description:"OpenAI o3-mini",modalities:[],isReasoning:!0,reasoningArgs:["low","medium","high"]},{name:"Claude 3.5 Sonnet",provider:"anthropic",model:"claude-3-5-sonnet-20240620",description:"Anthropic Claude 3.5 Sonnet",modalities:["image","pdf"],isReasoning:!1},{name:"Claude 3.5 Haiku",provider:"anthropic",model:"claude-3-5-haiku-20241022",description:"Anthropic Claude 3.5 Haiku",modalities:["image","pdf"],isReasoning:!1},{name:"Gemini 2.0 Flash",provider:"gemini",model:"gemini-2.0-flash",description:"Google Gemini 2.0 Flash",modalities:["image","pdf","audio","video"],isReasoning:!1},{name:"Gemini 2.0 Flash Lite",provider:"gemini",model:"gemini-2.0-flash-lite-preview-02-05",description:"Google Gemini 2.0 Flash Lite",modalities:["image","pdf","audio","video"],isReasoning:!1},{name:"Gemini 2.0 Pro Exp",provider:"gemini",model:"gemini-2.0-pro-exp-02-05",description:"Google Gemini 2.0 Pro Exp",modalities:["image","pdf","audio","video"],isReasoning:!1},{name:"Gemini 2.0 Flash Thinking Exp",provider:"gemini",model:"gemini-2.0-flash-thinking-exp-01-21",description:"Google Gemini 2.0 Flash Thinking Exp",modalities:["image","pdf","audio","video"],isReasoning:!1},{name:"Hugging Face - Mistral",provider:"huggingface",model:"mistralai/Mistral-7B-Instruct-v0.2",description:"Mistral AI 7B Instruct model",modalities:[],isReasoning:!1},{name:"Hugging Face - Llama 2",provider:"huggingface",model:"meta-llama/Llama-2-7b-chat-hf",description:"Meta Llama 2 7B Chat",modalities:[],isReasoning:!1}],D6=[{name:"OpenAI Embeddings",provider:"openai",model:"text-embedding-3-small",description:"OpenAI Embeddings"},{name:"Gemini Embeddings",provider:"gemini",model:"text-embedding-005",description:"Google GenAI Embeddings"}];async function Dke(t){return!t||t.trim()===""?[]:t.split(",").map(n=>n.trim()).map(n=>({name:`Custom: ${n}`,provider:"openai",model:n,description:`Custom OpenAI model: ${n}`,modalities:["image"],isReasoning:!1}))}async function Fke(t){if(!t||t.trim()==="")return[];try{const e=await fetch(`${t}/api/tags`);if(!e.ok)throw new Error(`Failed to connect to Ollama server: ${e.statusText}`);return(await e.json()).models.map(r=>({name:r.name,model:r.name,description:"Ollama model",provider:"ollama",modalities:[],isReasoning:!1}))}catch(e){return console.error("Failed to fetch Ollama models:",e),[]}}async function Bke(t){if(!t||t.trim()==="")return[];try{const e=await fetch(`${t}/api/tags`);if(!e.ok)throw new Error(`Failed to connect to Ollama server: ${e.statusText}`);return(await e.json()).models.map(r=>({name:r.name,model:r.name,description:"Ollama Embeddings",provider:"ollama"}))}catch(e){return console.error("Failed to fetch Ollama embedding models:",e),[]}}async function Uke(t){return!t||t.trim()===""?[]:t.split(",").map(n=>n.trim()).map(n=>({name:`HF Custom: ${n.split("/").pop()||n}`,provider:"huggingface",model:n,description:`Custom Hugging Face model: ${n}`,modalities:["image"],isReasoning:!1}))}let xf=[...L6],i1=[...D6];async function jke(t,e,n){try{const i=await(await Ps(async()=>{const{ConfigManager:u}=await Promise.resolve().then(()=>zke);return{ConfigManager:u}},[])).ConfigManager.getInstance().getConfig();if(t===void 0)try{t=i.ollama_base_url}catch(u){console.error("Error getting config for Ollama base URL:",u),t=""}let a=[],s=[];t&&t.trim()!==""&&(a=await Fke(t),s=await Bke(t));const o=await Dke(e||i.openai_model),l=await Uke(n||i.hf_custom_models);return xf=[...L6,...a,...o,...l],i1=[...D6,...s],{ollamaAvailable:a.length>0,chatModels:xf,embeddingModels:i1}}catch(r){return console.error("Error loading models:",r),{ollamaAvailable:!1,chatModels:L6,embeddingModels:D6}}}class Yl extends Mb{configs;static instance;currentConfig=null;initPromise=null;constructor(){super("configs"),this.version(1).stores({configs:"id, createdAt, updatedAt"}),this.initPromise=this.initialize()}static getInstance(){return Yl.instance||(Yl.instance=new Yl),Yl.instance}async initialize(){if(this.currentConfig)return this.currentConfig;if(this.initPromise)return this.initPromise;try{const e=await this.configs.toArray();if(e.length===0){const n={...tG,id:crypto.randomUUID(),createdAt:Date.now(),updatedAt:Date.now(),ollama_available:!1};n.ollama_base_url.trim()!==""&&(n.ollama_available=await this.checkOllamaAvailability(n.ollama_base_url)),await this.configs.add(n),this.currentConfig=n}else if(this.currentConfig=e.sort((n,r)=>r.updatedAt-n.updatedAt)[0],this.currentConfig.ollama_base_url.trim()!==""){const n=await this.checkOllamaAvailability(this.currentConfig.ollama_base_url);n!==this.currentConfig.ollama_available&&await this.updateConfig({ollama_available:n})}return await this.loadModels(),this.currentConfig}catch(e){throw console.error("Error initializing config:",e),e}finally{this.initPromise=null}}async checkOllamaAvailability(e){if(!e||e.trim()==="")return!1;try{const n=await fetch(`${e}/api/tags`);if(!n.ok)return!1;const r=await n.json();return Array.isArray(r.models)&&r.models.length>0}catch(n){return console.error("Ollama server not available:",n),!1}}async loadModels(){if(this.currentConfig)try{const{ollamaAvailable:e}=await jke(this.currentConfig.ollama_base_url,this.currentConfig.openai_model,this.currentConfig.hf_custom_models);e!==this.currentConfig.ollama_available&&await this.updateConfig({ollama_available:e})}catch(e){console.error("Error loading models:",e)}}async getConfig(){return this.currentConfig||this.initialize()}async updateConfig(e){const n=await this.getConfig(),r={...n,...e,updatedAt:Date.now()};if(await this.configs.put(r),this.currentConfig=r,e.ollama_base_url!==void 0&&e.ollama_base_url!==n.ollama_base_url){const i=e.ollama_base_url.trim()===""?!1:await this.checkOllamaAvailability(e.ollama_base_url);if(i!==this.currentConfig.ollama_available)return this.updateConfig({ollama_available:i});await this.loadModels()}return e.openai_model!==void 0&&e.openai_model!==n.openai_model&&await this.loadModels(),e.hf_custom_models!==void 0&&e.hf_custom_models!==n.hf_custom_models&&await this.loadModels(),r}async resetToDefaults(){const e=await this.getConfig(),n={...tG,id:e.id,createdAt:e.createdAt,updatedAt:Date.now(),ollama_available:!1};return n.ollama_base_url.trim()!==""&&(n.ollama_available=await this.checkOllamaAvailability(n.ollama_base_url)),await this.configs.put(n),this.currentConfig=n,await this.loadModels(),n}}const zke=Object.freeze(Object.defineProperty({__proto__:null,ConfigManager:Yl},Symbol.toStringTag,{value:"Module"}));function $ke(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const qke=t=>{switch(t){case"success":return Gke;case"info":return Kke;case"warning":return Wke;case"error":return Yke;default:return null}},Hke=Array(12).fill(0),Vke=({visible:t,className:e})=>_t.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},_t.createElement("div",{className:"sonner-spinner"},Hke.map((n,r)=>_t.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Gke=_t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_t.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Wke=_t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},_t.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Kke=_t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_t.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Yke=_t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_t.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Xke=_t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},_t.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),_t.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Zke=()=>{const[t,e]=_t.useState(document.hidden);return _t.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let F6=1;class Qke{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,a=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:F6++,s=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),s?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...i,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0}))),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,s;const o=i.then(async u=>{if(s=["resolve",u],_t.isValidElement(u))a=!1,this.create({id:r,type:"default",message:u});else if(eTe(u)&&!u.ok){a=!1;const h=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,m=typeof h=="object"?h:{message:h};this.create({id:r,type:"error",description:p,...m})}else if(u instanceof Error){a=!1;const h=typeof n.error=="function"?await n.error(u):n.error,p=typeof n.description=="function"?await n.description(u):n.description,m=typeof h=="object"?h:{message:h};this.create({id:r,type:"error",description:p,...m})}else if(n.success!==void 0){a=!1;const h=typeof n.success=="function"?await n.success(u):n.success,p=typeof n.description=="function"?await n.description(u):n.description,m=typeof h=="object"?h:{message:h};this.create({id:r,type:"success",description:p,...m})}}).catch(async u=>{if(s=["reject",u],n.error!==void 0){a=!1;const d=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description,p=typeof d=="object"?d:{message:d};this.create({id:r,type:"error",description:h,...p})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),l=()=>new Promise((u,d)=>o.then(()=>s[0]==="reject"?d(s[1]):u(s[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{const r=n?.id||F6++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const fl=new Qke,Jke=(t,e)=>{const n=e?.id||F6++;return fl.addToast({title:t,...e,id:n}),n},eTe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",tTe=Jke,nTe=()=>fl.toasts,rTe=()=>fl.getActiveToasts(),Xl=Object.assign(tTe,{success:fl.success,info:fl.info,warning:fl.warning,error:fl.error,custom:fl.custom,message:fl.message,promise:fl.promise,dismiss:fl.dismiss,loading:fl.loading},{getHistory:nTe,getToasts:rTe});$ke("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function tE(t){return t.label!==void 0}const iTe=3,aTe="24px",sTe="16px",nG=4e3,oTe=356,lTe=14,uTe=45,cTe=200;function fd(...t){return t.filter(Boolean).join(" ")}function dTe(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const hTe=t=>{var e,n,r,i,a,s,o,l,u;const{invert:d,toast:h,unstyled:p,interacting:m,setHeights:v,visibleToasts:w,heights:k,index:T,toasts:C,expanded:N,removeToast:F,defaultRichColors:D,closeButton:U,style:G,cancelButtonStyle:se,actionButtonStyle:re,className:Q="",descriptionClassName:ce="",duration:Ie,position:qe,gap:xe,expandByDefault:Ce,classNames:ue,icons:ke,closeButtonAriaLabel:Te="Close toast"}=t,[he,j]=_t.useState(null),[pe,Ne]=_t.useState(null),[ae,He]=_t.useState(!1),[it,Xe]=_t.useState(!1),[Ke,ct]=_t.useState(!1),[de,Se]=_t.useState(!1),[ht,vt]=_t.useState(!1),[Dt,an]=_t.useState(0),[Nt,Un]=_t.useState(0),rn=_t.useRef(h.duration||Ie||nG),tr=_t.useRef(null),nr=_t.useRef(null),Dr=T===0,Ee=T+1<=w,ee=h.type,te=h.dismissible!==!1,Re=h.className||"",nt=h.descriptionClassName||"",Oe=_t.useMemo(()=>k.findIndex(Pt=>Pt.toastId===h.id)||0,[k,h.id]),K=_t.useMemo(()=>{var Pt;return(Pt=h.closeButton)!=null?Pt:U},[h.closeButton,U]),B=_t.useMemo(()=>h.duration||Ie||nG,[h.duration,Ie]),V=_t.useRef(0),be=_t.useRef(0),je=_t.useRef(0),We=_t.useRef(null),[gt,sn]=qe.split("-"),xn=_t.useMemo(()=>k.reduce((Pt,In,Ft)=>Ft>=Oe?Pt:Pt+In.height,0),[k,Oe]),Mt=Zke(),Sn=h.invert||d,En=ee==="loading";be.current=_t.useMemo(()=>Oe*xe+xn,[Oe,xn]),_t.useEffect(()=>{rn.current=B},[B]),_t.useEffect(()=>{He(!0)},[]),_t.useEffect(()=>{const Pt=nr.current;if(Pt){const In=Pt.getBoundingClientRect().height;return Un(In),v(Ft=>[{toastId:h.id,height:In,position:h.position},...Ft]),()=>v(Ft=>Ft.filter(Ir=>Ir.toastId!==h.id))}},[v,h.id]),_t.useLayoutEffect(()=>{if(!ae)return;const Pt=nr.current,In=Pt.style.height;Pt.style.height="auto";const Ft=Pt.getBoundingClientRect().height;Pt.style.height=In,Un(Ft),v(Ir=>Ir.find(qn=>qn.toastId===h.id)?Ir.map(qn=>qn.toastId===h.id?{...qn,height:Ft}:qn):[{toastId:h.id,height:Ft,position:h.position},...Ir])},[ae,h.title,h.description,v,h.id]);const li=_t.useCallback(()=>{Xe(!0),an(be.current),v(Pt=>Pt.filter(In=>In.toastId!==h.id)),setTimeout(()=>{F(h)},cTe)},[h,F,v,be]);_t.useEffect(()=>{if(h.promise&&ee==="loading"||h.duration===1/0||h.type==="loading")return;let Pt;return N||m||Mt?(()=>{if(je.current<V.current){const Ir=new Date().getTime()-V.current;rn.current=rn.current-Ir}je.current=new Date().getTime()})():(()=>{rn.current!==1/0&&(V.current=new Date().getTime(),Pt=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),li()},rn.current))})(),()=>clearTimeout(Pt)},[N,m,h,ee,Mt,li]),_t.useEffect(()=>{h.delete&&li()},[li,h.delete]);function ze(){var Pt;if(ke?.loading){var In;return _t.createElement("div",{className:fd(ue?.loader,h==null||(In=h.classNames)==null?void 0:In.loader,"sonner-loader"),"data-visible":ee==="loading"},ke.loading)}return _t.createElement(Vke,{className:fd(ue?.loader,h==null||(Pt=h.classNames)==null?void 0:Pt.loader),visible:ee==="loading"})}var Yt,_e;return _t.createElement("li",{tabIndex:0,ref:nr,className:fd(Q,Re,ue?.toast,h==null||(e=h.classNames)==null?void 0:e.toast,ue?.default,ue?.[ee],h==null||(n=h.classNames)==null?void 0:n[ee]),"data-sonner-toast":"","data-rich-colors":(Yt=h.richColors)!=null?Yt:D,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":ae,"data-promise":!!h.promise,"data-swiped":ht,"data-removed":it,"data-visible":Ee,"data-y-position":gt,"data-x-position":sn,"data-index":T,"data-front":Dr,"data-swiping":Ke,"data-dismissible":te,"data-type":ee,"data-invert":Sn,"data-swipe-out":de,"data-swipe-direction":pe,"data-expanded":!!(N||Ce&&ae),style:{"--index":T,"--toasts-before":T,"--z-index":C.length-T,"--offset":`${it?Dt:be.current}px`,"--initial-height":Ce?"auto":`${Nt}px`,...G,...h.style},onDragEnd:()=>{ct(!1),j(null),We.current=null},onPointerDown:Pt=>{En||!te||(tr.current=new Date,an(be.current),Pt.target.setPointerCapture(Pt.pointerId),Pt.target.tagName!=="BUTTON"&&(ct(!0),We.current={x:Pt.clientX,y:Pt.clientY}))},onPointerUp:()=>{var Pt,In,Ft;if(de||!te)return;We.current=null;const Ir=Number(((Pt=nr.current)==null?void 0:Pt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),on=Number(((In=nr.current)==null?void 0:In.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),qn=new Date().getTime()-((Ft=tr.current)==null?void 0:Ft.getTime()),St=he==="x"?Ir:on,Ct=Math.abs(St)/qn;if(Math.abs(St)>=uTe||Ct>.11){an(be.current),h.onDismiss==null||h.onDismiss.call(h,h),Ne(he==="x"?Ir>0?"right":"left":on>0?"down":"up"),li(),Se(!0);return}else{var ji,mn;(ji=nr.current)==null||ji.style.setProperty("--swipe-amount-x","0px"),(mn=nr.current)==null||mn.style.setProperty("--swipe-amount-y","0px")}vt(!1),ct(!1),j(null)},onPointerMove:Pt=>{var In,Ft,Ir;if(!We.current||!te||((In=window.getSelection())==null?void 0:In.toString().length)>0)return;const qn=Pt.clientY-We.current.y,St=Pt.clientX-We.current.x;var Ct;const ji=(Ct=t.swipeDirections)!=null?Ct:dTe(qe);!he&&(Math.abs(St)>1||Math.abs(qn)>1)&&j(Math.abs(St)>Math.abs(qn)?"x":"y");let mn={x:0,y:0};const Jt=Ra=>1/(1.5+Math.abs(Ra)/20);if(he==="y"){if(ji.includes("top")||ji.includes("bottom"))if(ji.includes("top")&&qn<0||ji.includes("bottom")&&qn>0)mn.y=qn;else{const Ra=qn*Jt(qn);mn.y=Math.abs(Ra)<Math.abs(qn)?Ra:qn}}else if(he==="x"&&(ji.includes("left")||ji.includes("right")))if(ji.includes("left")&&St<0||ji.includes("right")&&St>0)mn.x=St;else{const Ra=St*Jt(St);mn.x=Math.abs(Ra)<Math.abs(St)?Ra:St}(Math.abs(mn.x)>0||Math.abs(mn.y)>0)&&vt(!0),(Ft=nr.current)==null||Ft.style.setProperty("--swipe-amount-x",`${mn.x}px`),(Ir=nr.current)==null||Ir.style.setProperty("--swipe-amount-y",`${mn.y}px`)}},K&&!h.jsx&&ee!=="loading"?_t.createElement("button",{"aria-label":Te,"data-disabled":En,"data-close-button":!0,onClick:En||!te?()=>{}:()=>{li(),h.onDismiss==null||h.onDismiss.call(h,h)},className:fd(ue?.closeButton,h==null||(r=h.classNames)==null?void 0:r.closeButton)},(_e=ke?.close)!=null?_e:Xke):null,ee||h.icon||h.promise?_t.createElement("div",{"data-icon":"",className:fd(ue?.icon,h==null||(i=h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||ze():null,h.type!=="loading"?h.icon||ke?.[ee]||qke(ee):null):null,_t.createElement("div",{"data-content":"",className:fd(ue?.content,h==null||(a=h.classNames)==null?void 0:a.content)},_t.createElement("div",{"data-title":"",className:fd(ue?.title,h==null||(s=h.classNames)==null?void 0:s.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?_t.createElement("div",{"data-description":"",className:fd(ce,nt,ue?.description,h==null||(o=h.classNames)==null?void 0:o.description)},typeof h.description=="function"?h.description():h.description):null),_t.isValidElement(h.cancel)?h.cancel:h.cancel&&tE(h.cancel)?_t.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||se,onClick:Pt=>{tE(h.cancel)&&te&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,Pt),li())},className:fd(ue?.cancelButton,h==null||(l=h.classNames)==null?void 0:l.cancelButton)},h.cancel.label):null,_t.isValidElement(h.action)?h.action:h.action&&tE(h.action)?_t.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||re,onClick:Pt=>{tE(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,Pt),!Pt.defaultPrevented&&li())},className:fd(ue?.actionButton,h==null||(u=h.classNames)==null?void 0:u.actionButton)},h.action.label):null)};function rG(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function fTe(t,e){const n={};return[t,e].forEach((r,i)=>{const a=i===1,s=a?"--mobile-offset":"--offset",o=a?sTe:aTe;function l(u){["top","right","bottom","left"].forEach(d=>{n[`${s}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${s}-${u}`]=o:n[`${s}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(o)}),n}const poe=_t.forwardRef(function(e,n){const{invert:r,position:i="bottom-right",hotkey:a=["altKey","KeyT"],expand:s,closeButton:o,className:l,offset:u,mobileOffset:d,theme:h="light",richColors:p,duration:m,style:v,visibleToasts:w=iTe,toastOptions:k,dir:T=rG(),gap:C=lTe,icons:N,containerAriaLabel:F="Notifications"}=e,[D,U]=_t.useState([]),G=_t.useMemo(()=>Array.from(new Set([i].concat(D.filter(pe=>pe.position).map(pe=>pe.position)))),[D,i]),[se,re]=_t.useState([]),[Q,ce]=_t.useState(!1),[Ie,qe]=_t.useState(!1),[xe,Ce]=_t.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ue=_t.useRef(null),ke=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),Te=_t.useRef(null),he=_t.useRef(!1),j=_t.useCallback(pe=>{U(Ne=>{var ae;return(ae=Ne.find(He=>He.id===pe.id))!=null&&ae.delete||fl.dismiss(pe.id),Ne.filter(({id:He})=>He!==pe.id)})},[]);return _t.useEffect(()=>fl.subscribe(pe=>{if(pe.dismiss){const Ne=D.map(ae=>ae.id===pe.id?{...ae,delete:!0}:ae);requestAnimationFrame(()=>{U(Ne)});return}setTimeout(()=>{Pse.flushSync(()=>{U(Ne=>{const ae=Ne.findIndex(He=>He.id===pe.id);return ae!==-1?[...Ne.slice(0,ae),{...Ne[ae],...pe},...Ne.slice(ae+1)]:[pe,...Ne]})})})}),[D]),_t.useEffect(()=>{if(h!=="system"){Ce(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Ce("dark"):Ce("light")),typeof window>"u")return;const pe=window.matchMedia("(prefers-color-scheme: dark)");try{pe.addEventListener("change",({matches:Ne})=>{Ce(Ne?"dark":"light")})}catch{pe.addListener(({matches:ae})=>{try{Ce(ae?"dark":"light")}catch(He){console.error(He)}})}},[h]),_t.useEffect(()=>{D.length<=1&&ce(!1)},[D]),_t.useEffect(()=>{const pe=Ne=>{var ae;if(a.every(Xe=>Ne[Xe]||Ne.code===Xe)){var it;ce(!0),(it=ue.current)==null||it.focus()}Ne.code==="Escape"&&(document.activeElement===ue.current||(ae=ue.current)!=null&&ae.contains(document.activeElement))&&ce(!1)};return document.addEventListener("keydown",pe),()=>document.removeEventListener("keydown",pe)},[a]),_t.useEffect(()=>{if(ue.current)return()=>{Te.current&&(Te.current.focus({preventScroll:!0}),Te.current=null,he.current=!1)}},[ue.current]),_t.createElement("section",{ref:n,"aria-label":`${F} ${ke}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},G.map((pe,Ne)=>{var ae;const[He,it]=pe.split("-");return D.length?_t.createElement("ol",{key:pe,dir:T==="auto"?rG():T,tabIndex:-1,ref:ue,className:l,"data-sonner-toaster":!0,"data-sonner-theme":xe,"data-y-position":He,"data-lifted":Q&&D.length>1&&!s,"data-x-position":it,style:{"--front-toast-height":`${((ae=se[0])==null?void 0:ae.height)||0}px`,"--width":`${oTe}px`,"--gap":`${C}px`,...v,...fTe(u,d)},onBlur:Xe=>{he.current&&!Xe.currentTarget.contains(Xe.relatedTarget)&&(he.current=!1,Te.current&&(Te.current.focus({preventScroll:!0}),Te.current=null))},onFocus:Xe=>{Xe.target instanceof HTMLElement&&Xe.target.dataset.dismissible==="false"||he.current||(he.current=!0,Te.current=Xe.relatedTarget)},onMouseEnter:()=>ce(!0),onMouseMove:()=>ce(!0),onMouseLeave:()=>{Ie||ce(!1)},onDragEnd:()=>ce(!1),onPointerDown:Xe=>{Xe.target instanceof HTMLElement&&Xe.target.dataset.dismissible==="false"||qe(!0)},onPointerUp:()=>qe(!1)},D.filter(Xe=>!Xe.position&&Ne===0||Xe.position===pe).map((Xe,Ke)=>{var ct,de;return _t.createElement(hTe,{key:Xe.id,icons:N,index:Ke,toast:Xe,defaultRichColors:p,duration:(ct=k?.duration)!=null?ct:m,className:k?.className,descriptionClassName:k?.descriptionClassName,invert:r,visibleToasts:w,closeButton:(de=k?.closeButton)!=null?de:o,interacting:Ie,position:pe,style:k?.style,unstyled:k?.unstyled,classNames:k?.classNames,cancelButtonStyle:k?.cancelButtonStyle,actionButtonStyle:k?.actionButtonStyle,closeButtonAriaLabel:k?.closeButtonAriaLabel,removeToast:j,toasts:D.filter(Se=>Se.position==Xe.position),heights:se.filter(Se=>Se.position==Xe.position),setHeights:re,expandByDefault:s,gap:C,expanded:Q,swipeDirections:e.swipeDirections})})):null}))}),EA={all:["config"],details:()=>[...EA.all,"details"]};function pTe(){const t=Yl.getInstance();return GSe({queryKey:EA.details(),queryFn:async()=>await t.getConfig()})}function moe(){const t=yA(),e=Yl.getInstance();return yse({mutationFn:async n=>await e.updateConfig(n),onSuccess:()=>{t.invalidateQueries({queryKey:EA.all}),Xl.success("Configuration updated successfully")},onError:n=>{Xl.error("Failed to update configuration"),console.error("Config update error:",n)}})}function mTe(t){const e=yA(),n=Yl.getInstance(),r=t==="chat"?"enabled_chat_models":"enabled_embedding_models";return yse({mutationFn:async({modelId:i,enabled:a})=>{const s=await n.getConfig(),o=new Set(s[r]||[]);return a?o.add(i):o.delete(i),await n.updateConfig({[r]:Array.from(o)})},onSuccess:()=>{e.invalidateQueries({queryKey:EA.all}),Xl.success(`${t==="chat"?"Chat":"Embedding"} models updated successfully`)},onError:i=>{Xl.error(`Failed to update ${t==="chat"?"chat":"embedding"} models`),console.error(`${t} models update error:`,i)}})}function gTe(t,e){const n=$.useRef(void 0);return $.useCallback((...r)=>{n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{t(...r)},e)},[t,e])}function yTe({message:t="Loading..."}){return z.jsx("div",{className:"fixed inset-0 flex flex-col items-center justify-center bg-background/80 backdrop-blur-sm z-50",children:z.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 rounded-lg bg-card shadow-lg",children:[z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),z.jsx("p",{className:"text-lg font-medium text-foreground",children:t})]})})}const goe=$.createContext(void 0);function bTe({children:t}){const[e,n]=$.useState(!1),[r,i]=$.useState("Loading..."),a=(o="Loading...")=>{i(o),n(!0)},s=()=>{n(!1)};return z.jsxs(goe.Provider,{value:{isLoading:e,message:r,startLoading:a,stopLoading:s},children:[t,e&&z.jsx(yTe,{message:r})]})}function yoe(){const t=$.useContext(goe);if(t===void 0)throw new Error("useLoading must be used within a LoadingProvider");return t}const aS=$.forwardRef(({className:t,...e},n)=>z.jsx("div",{ref:n,className:cn("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));aS.displayName="Card";const sS=$.forwardRef(({className:t,...e},n)=>z.jsx("div",{ref:n,className:cn("flex flex-col space-y-1.5 p-6",t),...e}));sS.displayName="CardHeader";const oS=$.forwardRef(({className:t,...e},n)=>z.jsx("div",{ref:n,className:cn("text-2xl font-semibold leading-none tracking-tight",t),...e}));oS.displayName="CardTitle";const lS=$.forwardRef(({className:t,...e},n)=>z.jsx("div",{ref:n,className:cn("text-sm text-muted-foreground",t),...e}));lS.displayName="CardDescription";const kA=$.forwardRef(({className:t,...e},n)=>z.jsx("div",{ref:n,className:cn("p-6 pt-0",t),...e}));kA.displayName="CardContent";const vTe=$.forwardRef(({className:t,...e},n)=>z.jsx("div",{ref:n,className:cn("flex items-center p-6 pt-0",t),...e}));vTe.displayName="CardFooter";const lm=$.forwardRef(({className:t,type:e,...n},r)=>z.jsx("input",{type:e,className:cn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));lm.displayName="Input";function B6(t,[e,n]){return Math.min(n,Math.max(e,t))}function wTe(t,e){return $.useReducer((n,r)=>e[n][r]??n,t)}var v7="ScrollArea",[boe,flt]=Hu(v7),[_Te,Vu]=boe(v7),voe=$.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...s}=t,[o,l]=$.useState(null),[u,d]=$.useState(null),[h,p]=$.useState(null),[m,v]=$.useState(null),[w,k]=$.useState(null),[T,C]=$.useState(0),[N,F]=$.useState(0),[D,U]=$.useState(!1),[G,se]=$.useState(!1),re=Rr(e,ce=>l(ce)),Q=iS(i);return z.jsx(_Te,{scope:n,type:r,dir:Q,scrollHideDelay:a,scrollArea:o,viewport:u,onViewportChange:d,content:h,onContentChange:p,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:D,onScrollbarXEnabledChange:U,scrollbarY:w,onScrollbarYChange:k,scrollbarYEnabled:G,onScrollbarYEnabledChange:se,onCornerWidthChange:C,onCornerHeightChange:F,children:z.jsx(Gn.div,{dir:Q,...s,ref:re,style:{position:"relative","--radix-scroll-area-corner-width":T+"px","--radix-scroll-area-corner-height":N+"px",...t.style}})})});voe.displayName=v7;var woe="ScrollAreaViewport",_oe=$.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...a}=t,s=Vu(woe,n),o=$.useRef(null),l=Rr(e,o,s.onViewportChange);return z.jsxs(z.Fragment,{children:[z.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),z.jsx(Gn.div,{"data-radix-scroll-area-viewport":"",...a,ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:z.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});_oe.displayName=woe;var Jd="ScrollAreaScrollbar",TA=$.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Vu(Jd,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:s}=i,o=t.orientation==="horizontal";return $.useEffect(()=>(o?a(!0):s(!0),()=>{o?a(!1):s(!1)}),[o,a,s]),i.type==="hover"?z.jsx(STe,{...r,ref:e,forceMount:n}):i.type==="scroll"?z.jsx(xTe,{...r,ref:e,forceMount:n}):i.type==="auto"?z.jsx(Soe,{...r,ref:e,forceMount:n}):i.type==="always"?z.jsx(w7,{...r,ref:e}):null});TA.displayName=Jd;var STe=$.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Vu(Jd,t.__scopeScrollArea),[a,s]=$.useState(!1);return $.useEffect(()=>{const o=i.scrollArea;let l=0;if(o){const u=()=>{window.clearTimeout(l),s(!0)},d=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",u),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",u),o.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),z.jsx(zo,{present:n||a,children:z.jsx(Soe,{"data-state":a?"visible":"hidden",...r,ref:e})})}),xTe=$.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Vu(Jd,t.__scopeScrollArea),a=t.orientation==="horizontal",s=CA(()=>l("SCROLL_END"),100),[o,l]=wTe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return $.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,i.scrollHideDelay,l]),$.useEffect(()=>{const u=i.viewport,d=a?"scrollLeft":"scrollTop";if(u){let h=u[d];const p=()=>{const m=u[d];h!==m&&(l("SCROLL"),s()),h=m};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[i.viewport,a,l,s]),z.jsx(zo,{present:n||o!=="hidden",children:z.jsx(w7,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:un(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:un(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),Soe=$.forwardRef((t,e)=>{const n=Vu(Jd,t.__scopeScrollArea),{forceMount:r,...i}=t,[a,s]=$.useState(!1),o=t.orientation==="horizontal",l=CA(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;s(o?u:d)}},10);return Pb(n.viewport,l),Pb(n.content,l),z.jsx(zo,{present:r||a,children:z.jsx(w7,{"data-state":a?"visible":"hidden",...i,ref:e})})}),w7=$.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Vu(Jd,t.__scopeScrollArea),a=$.useRef(null),s=$.useRef(0),[o,l]=$.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Toe(o.viewport,o.content),d={...r,sizes:o,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:p=>a.current=p,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:p=>s.current=p};function h(p,m){return RTe(p,s.current,o,m)}return n==="horizontal"?z.jsx(ETe,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const p=i.viewport.scrollLeft,m=iG(p,o,i.dir);a.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollLeft=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollLeft=h(p,i.dir))}}):n==="vertical"?z.jsx(kTe,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const p=i.viewport.scrollTop,m=iG(p,o);a.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollTop=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollTop=h(p))}}):null}),ETe=$.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,a=Vu(Jd,t.__scopeScrollArea),[s,o]=$.useState(),l=$.useRef(null),u=Rr(e,l,a.onScrollbarXChange);return $.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),z.jsx(Eoe,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":AA(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(a.viewport){const p=a.viewport.scrollLeft+d.deltaX;t.onWheelScroll(p),Coe(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&s&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Qk(s.paddingLeft),paddingEnd:Qk(s.paddingRight)}})}})}),kTe=$.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,a=Vu(Jd,t.__scopeScrollArea),[s,o]=$.useState(),l=$.useRef(null),u=Rr(e,l,a.onScrollbarYChange);return $.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),z.jsx(Eoe,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":AA(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(a.viewport){const p=a.viewport.scrollTop+d.deltaY;t.onWheelScroll(p),Coe(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&s&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Qk(s.paddingTop),paddingEnd:Qk(s.paddingBottom)}})}})}),[TTe,xoe]=boe(Jd),Eoe=$.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:s,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:h,...p}=t,m=Vu(Jd,n),[v,w]=$.useState(null),k=Rr(e,re=>w(re)),T=$.useRef(null),C=$.useRef(""),N=m.viewport,F=r.content-r.viewport,D=ts(d),U=ts(l),G=CA(h,10);function se(re){if(T.current){const Q=re.clientX-T.current.left,ce=re.clientY-T.current.top;u({x:Q,y:ce})}}return $.useEffect(()=>{const re=Q=>{const ce=Q.target;v?.contains(ce)&&D(Q,F)};return document.addEventListener("wheel",re,{passive:!1}),()=>document.removeEventListener("wheel",re,{passive:!1})},[N,v,F,D]),$.useEffect(U,[r,U]),Pb(v,G),Pb(m.content,G),z.jsx(TTe,{scope:n,scrollbar:v,hasThumb:i,onThumbChange:ts(a),onThumbPointerUp:ts(s),onThumbPositionChange:U,onThumbPointerDown:ts(o),children:z.jsx(Gn.div,{...p,ref:k,style:{position:"absolute",...p.style},onPointerDown:un(t.onPointerDown,re=>{re.button===0&&(re.target.setPointerCapture(re.pointerId),T.current=v.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),se(re))}),onPointerMove:un(t.onPointerMove,se),onPointerUp:un(t.onPointerUp,re=>{const Q=re.target;Q.hasPointerCapture(re.pointerId)&&Q.releasePointerCapture(re.pointerId),document.body.style.webkitUserSelect=C.current,m.viewport&&(m.viewport.style.scrollBehavior=""),T.current=null})})})}),Zk="ScrollAreaThumb",_7=$.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=xoe(Zk,t.__scopeScrollArea);return z.jsx(zo,{present:n||i.hasThumb,children:z.jsx(ATe,{ref:e,...r})})}),ATe=$.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,a=Vu(Zk,n),s=xoe(Zk,n),{onThumbPositionChange:o}=s,l=Rr(e,h=>s.onThumbChange(h)),u=$.useRef(void 0),d=CA(()=>{u.current&&(u.current(),u.current=void 0)},100);return $.useEffect(()=>{const h=a.viewport;if(h){const p=()=>{if(d(),!u.current){const m=ITe(h,o);u.current=m,o()}};return o(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[a.viewport,d,o]),z.jsx(Gn.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:un(t.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),v=h.clientX-m.left,w=h.clientY-m.top;s.onThumbPointerDown({x:v,y:w})}),onPointerUp:un(t.onPointerUp,s.onThumbPointerUp)})});_7.displayName=Zk;var S7="ScrollAreaCorner",koe=$.forwardRef((t,e)=>{const n=Vu(S7,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?z.jsx(CTe,{...t,ref:e}):null});koe.displayName=S7;var CTe=$.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Vu(S7,n),[a,s]=$.useState(0),[o,l]=$.useState(0),u=!!(a&&o);return Pb(i.scrollbarX,()=>{const d=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(d),l(d)}),Pb(i.scrollbarY,()=>{const d=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(d),s(d)}),u?z.jsx(Gn.div,{...r,ref:e,style:{width:a,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Qk(t){return t?parseInt(t,10):0}function Toe(t,e){const n=t/e;return isNaN(n)?0:n}function AA(t){const e=Toe(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function RTe(t,e,n,r="ltr"){const i=AA(n),a=i/2,s=e||a,o=i-s,l=n.scrollbar.paddingStart+s,u=n.scrollbar.size-n.scrollbar.paddingEnd-o,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return Aoe([l,u],h)(t)}function iG(t,e,n="ltr"){const r=AA(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,s=e.content-e.viewport,o=a-r,l=n==="ltr"?[0,s]:[s*-1,0],u=B6(t,l);return Aoe([0,s],[0,o])(u)}function Aoe(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Coe(t,e){return t>0&&t<e}var ITe=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const a={left:t.scrollLeft,top:t.scrollTop},s=n.left!==a.left,o=n.top!==a.top;(s||o)&&e(),n=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function CA(t,e){const n=ts(t),r=$.useRef(0);return $.useEffect(()=>()=>window.clearTimeout(r.current),[]),$.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Pb(t,e){const n=ts(e);Bs(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var x7=voe,Roe=_oe,NTe=TA,OTe=_7,MTe=koe;const uS=$.forwardRef(({className:t,children:e,...n},r)=>z.jsxs(x7,{ref:r,className:cn("relative overflow-hidden",t),...n,children:[z.jsx(Roe,{className:"h-full w-full rounded-[inherit]",children:e}),z.jsx(Ioe,{}),z.jsx(MTe,{})]}));uS.displayName=x7.displayName;const Ioe=$.forwardRef(({className:t,orientation:e="vertical",...n},r)=>z.jsx(TA,{ref:r,orientation:e,className:cn("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:z.jsx(_7,{className:"relative flex-1 rounded-full bg-border"})}));Ioe.displayName=TA.displayName;const aG=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,sG=ioe,cS=(t,e)=>n=>{var r;if(e?.variants==null)return sG(t,n?.class,n?.className);const{variants:i,defaultVariants:a}=e,s=Object.keys(i).map(u=>{const d=n?.[u],h=a?.[u];if(d===null)return null;const p=aG(d)||aG(h);return i[u][p]}),o=n&&Object.entries(n).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:p,...m}=d;return Object.entries(m).every(v=>{let[w,k]=v;return Array.isArray(k)?k.includes({...a,...o}[w]):{...a,...o}[w]===k})?[...u,h,p]:u},[]);return sG(t,s,l,n?.class,n?.className)},PTe=cS("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Md({className:t,variant:e,...n}){return z.jsx("div",{className:cn(PTe({variant:e}),t),...n})}const LTe=cS("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Jk=$.forwardRef(({className:t,variant:e,...n},r)=>z.jsx("div",{ref:r,role:"alert",className:cn(LTe({variant:e}),t),...n}));Jk.displayName="Alert";const eT=$.forwardRef(({className:t,...e},n)=>z.jsx("h5",{ref:n,className:cn("mb-1 font-medium leading-none tracking-tight",t),...e}));eT.displayName="AlertTitle";const tT=$.forwardRef(({className:t,...e},n)=>z.jsx("div",{ref:n,className:cn("text-sm [&_p]:leading-relaxed",t),...e}));tT.displayName="AlertDescription";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DTe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Noe=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FTe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BTe=$.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>$.createElement("svg",{ref:l,...FTe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Noe("lucide",i),...o},[...s.map(([u,d])=>$.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=(t,e)=>{const n=$.forwardRef(({className:r,...i},a)=>$.createElement(BTe,{ref:a,iconNode:e,className:Noe(`lucide-${DTe(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UTe=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],jTe=Ki("ArrowDown",UTe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zTe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],RA=Ki("Check",zTe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Te=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],E7=Ki("ChevronDown",$Te);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qTe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],HTe=Ki("ChevronRight",qTe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VTe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],GTe=Ki("ChevronUp",VTe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WTe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Gw=Ki("CircleAlert",WTe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KTe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],YTe=Ki("CircleCheck",KTe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XTe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ZTe=Ki("Circle",XTe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QTe=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]],U6=Ki("ClipboardCopy",QTe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JTe=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],eAe=Ki("Download",JTe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tAe=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],nAe=Ki("House",tAe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rAe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],iAe=Ki("Info",rAe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aAe=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],sAe=Ki("Link2",aAe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oAe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],k7=Ki("LoaderCircle",oAe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lAe=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],uAe=Ki("MessageSquare",lAe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cAe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],dAe=Ki("PanelLeft",cAe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hAe=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],fAe=Ki("Paperclip",hAe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pAe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],mAe=Ki("Pencil",pAe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gAe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],yAe=Ki("Plus",gAe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bAe=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],vAe=Ki("RefreshCcw",bAe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wAe=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],_Ae=Ki("Send",wAe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SAe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],xAe=Ki("Trash2",SAe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EAe=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],kAe=Ki("Upload",EAe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TAe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],IA=Ki("X",TAe);var T7="Collapsible",[AAe,plt]=Hu(T7),[CAe,A7]=AAe(T7),Ooe=$.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:a,onOpenChange:s,...o}=t,[l=!1,u]=Sf({prop:r,defaultProp:i,onChange:s});return z.jsx(CAe,{scope:n,disabled:a,contentId:Fu(),open:l,onOpenToggle:$.useCallback(()=>u(d=>!d),[u]),children:z.jsx(Gn.div,{"data-state":R7(l),"data-disabled":a?"":void 0,...o,ref:e})})});Ooe.displayName=T7;var Moe="CollapsibleTrigger",Poe=$.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=A7(Moe,n);return z.jsx(Gn.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":R7(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:un(t.onClick,i.onOpenToggle)})});Poe.displayName=Moe;var C7="CollapsibleContent",Loe=$.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=A7(C7,t.__scopeCollapsible);return z.jsx(zo,{present:n||i.open,children:({present:a})=>z.jsx(RAe,{...r,ref:e,present:a})})});Loe.displayName=C7;var RAe=$.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...a}=t,s=A7(C7,n),[o,l]=$.useState(r),u=$.useRef(null),d=Rr(e,u),h=$.useRef(0),p=h.current,m=$.useRef(0),v=m.current,w=s.open||o,k=$.useRef(w),T=$.useRef(void 0);return $.useEffect(()=>{const C=requestAnimationFrame(()=>k.current=!1);return()=>cancelAnimationFrame(C)},[]),Bs(()=>{const C=u.current;if(C){T.current=T.current||{transitionDuration:C.style.transitionDuration,animationName:C.style.animationName},C.style.transitionDuration="0s",C.style.animationName="none";const N=C.getBoundingClientRect();h.current=N.height,m.current=N.width,k.current||(C.style.transitionDuration=T.current.transitionDuration,C.style.animationName=T.current.animationName),l(r)}},[s.open,r]),z.jsx(Gn.div,{"data-state":R7(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!w,...a,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...t.style},children:w&&i})});function R7(t){return t?"open":"closed"}var IAe=Ooe;const NAe=IAe,OAe=Poe,MAe=Loe,PAe=cS("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),la=$.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const s=r?eu:"button";return z.jsx(s,{className:cn(PAe({variant:e,size:n,className:t})),ref:a,...i})});la.displayName="Button";const LAe=({config:t})=>{const e=moe(),[n,r]=$.useState({}),[i,a]=$.useState(!1),s=gTe(l=>{e.mutate(l)},500);if(!t)return null;const o=()=>{const l="f6008d6a-fbbf-484a-9ade-0d07405e08e7",u="http://localhost:5173/integrations/huggingface-callback",d=Math.random().toString(36).substring(2),h=`https://huggingface.co/oauth/authorize?client_id=${l}&redirect_uri=${u}&response_type=code&scope=openid%20inference-api&prompt=consent&state=${d}`;window.location.href=h};return z.jsxs(aS,{className:"h-[calc(100vh-12rem)]",children:[z.jsxs(sS,{children:[z.jsx(oS,{children:"Providers"}),z.jsx(lS,{children:"Configure your AI provider credentials"})]}),z.jsx(uS,{className:"h-[calc(100%-8rem)]",children:z.jsx(kA,{className:"space-y-8 px-6",children:Object.values(qi).map(l=>z.jsxs("div",{className:"space-y-4",children:[z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsx("h3",{className:"text-lg font-semibold capitalize",children:l}),l===qi.ollama&&z.jsx("div",{className:"flex items-center gap-2",children:!t.ollama_base_url||t.ollama_base_url.trim()===""?z.jsxs(Md,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200 dark:bg-yellow-950 dark:text-yellow-300 dark:border-yellow-800",children:[z.jsx(Gw,{className:"h-3.5 w-3.5 mr-1"}),"Not Configured"]}):t.ollama_available?z.jsxs(Md,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200 dark:bg-green-950 dark:text-green-300 dark:border-green-800",children:[z.jsx(YTe,{className:"h-3.5 w-3.5 mr-1"}),"Connected"]}):z.jsxs(Md,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200 dark:bg-red-950 dark:text-red-300 dark:border-red-800",children:[z.jsx(Gw,{className:"h-3.5 w-3.5 mr-1"}),"Not Connected"]})}),l===qi.huggingface&&t?.hf_token&&z.jsx(Md,{children:"Connected"})]}),z.jsx("div",{className:"grid gap-4",children:l===qi.openai?z.jsxs(z.Fragment,{children:[dk[l].filter(u=>u==="openai_api_key").map(u=>{const d=n[u]??t[u]??"";return z.jsxs("div",{className:"space-y-2",children:[z.jsx("label",{htmlFor:u,className:"text-sm font-medium flex items-center",children:u.replace(/_/g," ").replace(/url/i,"URL")}),z.jsx(lm,{id:u,type:"text",value:d,onChange:h=>{const p=h.target.value;r(m=>({...m,[u]:p})),s({[u]:p})},disabled:e.isPending,className:"font-mono"})]},u)}),z.jsxs(NAe,{open:i,onOpenChange:a,className:"mt-2 space-y-2 border rounded-md p-2",children:[z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Advanced Options"}),z.jsx(OAe,{asChild:!0,children:z.jsxs(la,{variant:"ghost",size:"sm",className:"p-0 h-8 w-8",children:[z.jsx(E7,{className:`h-4 w-4 transition-transform ${i?"transform rotate-180":""}`}),z.jsx("span",{className:"sr-only",children:"Toggle advanced options"})]})})]}),z.jsx(MAe,{className:"space-y-4 pt-2",children:dk[l].filter(u=>u==="openai_base_url"||u==="openai_model").map(u=>{const d=n[u]??t[u]??"";return z.jsxs("div",{className:"space-y-2",children:[z.jsxs("label",{htmlFor:u,className:"text-sm font-medium flex items-center",children:[u.replace(/_/g," ").replace(/url/i,"URL"),z.jsx(Md,{variant:"outline",className:"ml-2 text-xs font-normal bg-gray-50 text-gray-500 border-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700",children:"Optional"})]}),z.jsx(lm,{id:u,type:"text",value:d,onChange:h=>{const p=h.target.value;r(m=>({...m,[u]:p})),s({[u]:p})},disabled:e.isPending,className:"font-mono"}),u==="openai_model"&&z.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Enter comma-separated model names to add multiple custom models (e.g. "gpt-4-turbo,gpt-4-vision")'})]},u)})})]})]}):l===qi.huggingface?z.jsxs(z.Fragment,{children:[z.jsxs("div",{className:"space-y-2",children:[z.jsx("label",{htmlFor:"hf_token",className:"text-sm font-medium flex items-center",children:"API Token"}),z.jsxs("div",{className:"flex gap-2",children:[z.jsx(lm,{id:"hf_token",type:"password",placeholder:"Enter your Hugging Face API token",value:n.hf_token??t?.hf_token??"",onChange:u=>{const d=u.target.value;r(h=>({...h,hf_token:d})),s({hf_token:d})},disabled:e.isPending,className:"font-mono"}),z.jsx(la,{variant:"outline",onClick:o,disabled:e.isPending,children:"Connect"})]})]}),z.jsxs("div",{className:"space-y-2",children:[z.jsx("label",{htmlFor:"hf_custom_models",className:"text-sm font-medium flex items-center",children:"Custom Models (comma-separated)"}),z.jsx(lm,{id:"hf_custom_models",placeholder:"e.g. Qwen/Qwen2-VL-7B-Instruct,mistralai/Mixtral-8x7B-Instruct-v0.1",value:n.hf_custom_models??t?.hf_custom_models??"",onChange:u=>{const d=u.target.value;r(h=>({...h,hf_custom_models:d})),s({hf_custom_models:d})},disabled:e.isPending,className:"font-mono"}),z.jsx("p",{className:"text-xs text-muted-foreground",children:"Add custom models in the format: owner/model-name"})]})]}):dk[l].map(u=>{const d=n[u]??t[u]??"";return z.jsxs("div",{className:"space-y-2",children:[z.jsx("label",{htmlFor:u,className:"text-sm font-medium flex items-center",children:u.replace(/_/g," ").replace(/url/i,"URL")}),z.jsx(lm,{id:u,type:"text",value:d,onChange:h=>{const p=h.target.value;r(m=>({...m,[u]:p})),s({[u]:p})},disabled:e.isPending,className:"font-mono"})]},u)})}),l===qi.ollama&&z.jsx(z.Fragment,{children:!t.ollama_base_url||t.ollama_base_url.trim()===""?z.jsxs(Jk,{className:"mt-4 border-yellow-200 text-yellow-800 dark:border-yellow-800 dark:text-yellow-300",children:[z.jsx(Gw,{className:"h-4 w-4"}),z.jsx(eT,{children:"Ollama Not Configured"}),z.jsx(tT,{children:"Please enter a valid Ollama server URL to enable Ollama models."})]}):!t.ollama_available&&z.jsxs(Jk,{variant:"destructive",className:"mt-4",children:[z.jsx(Gw,{className:"h-4 w-4"}),z.jsx(eT,{children:"Connection Error"}),z.jsxs(tT,{children:["Could not connect to Ollama server at ",t.ollama_base_url,". Please check that Ollama is running and the URL is correct."]})]})})]},l))})})]})};function Doe(t){const e=$.useRef({value:t,previous:t});return $.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function Foe(t){const[e,n]=$.useState(void 0);return Bs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,o;if("borderBoxSize"in a){const l=a.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,o=u.blockSize}else s=t.offsetWidth,o=t.offsetHeight;n({width:s,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var I7="Switch",[DAe,mlt]=Hu(I7),[FAe,BAe]=DAe(I7),Boe=$.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:s,disabled:o,value:l="on",onCheckedChange:u,form:d,...h}=t,[p,m]=$.useState(null),v=Rr(e,N=>m(N)),w=$.useRef(!1),k=p?d||!!p.closest("form"):!0,[T=!1,C]=Sf({prop:i,defaultProp:a,onChange:u});return z.jsxs(FAe,{scope:n,checked:T,disabled:o,children:[z.jsx(Gn.button,{type:"button",role:"switch","aria-checked":T,"aria-required":s,"data-state":zoe(T),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:v,onClick:un(t.onClick,N=>{C(F=>!F),k&&(w.current=N.isPropagationStopped(),w.current||N.stopPropagation())})}),k&&z.jsx(UAe,{control:p,bubbles:!w.current,name:r,value:l,checked:T,required:s,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});Boe.displayName=I7;var Uoe="SwitchThumb",joe=$.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=BAe(Uoe,n);return z.jsx(Gn.span,{"data-state":zoe(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});joe.displayName=Uoe;var UAe=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,a=$.useRef(null),s=Doe(n),o=Foe(e);return $.useEffect(()=>{const l=a.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(s!==n&&h){const p=new Event("click",{bubbles:r});h.call(l,n),l.dispatchEvent(p)}},[s,n,r]),z.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function zoe(t){return t?"checked":"unchecked"}var $oe=Boe,jAe=joe;const qoe=$.forwardRef(({className:t,...e},n)=>z.jsx($oe,{className:cn("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:z.jsx(jAe,{className:cn("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));qoe.displayName=$oe.displayName;function zAe(t,e=globalThis?.document){const n=ts(t);$.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var $Ae="DismissableLayer",j6="dismissableLayer.update",qAe="dismissableLayer.pointerDownOutside",HAe="dismissableLayer.focusOutside",oG,Hoe=$.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dS=$.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:o,...l}=t,u=$.useContext(Hoe),[d,h]=$.useState(null),p=d?.ownerDocument??globalThis?.document,[,m]=$.useState({}),v=Rr(e,G=>h(G)),w=Array.from(u.layers),[k]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),T=w.indexOf(k),C=d?w.indexOf(d):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,F=C>=T,D=WAe(G=>{const se=G.target,re=[...u.branches].some(Q=>Q.contains(se));!F||re||(i?.(G),s?.(G),G.defaultPrevented||o?.())},p),U=KAe(G=>{const se=G.target;[...u.branches].some(Q=>Q.contains(se))||(a?.(G),s?.(G),G.defaultPrevented||o?.())},p);return zAe(G=>{C===u.layers.size-1&&(r?.(G),!G.defaultPrevented&&o&&(G.preventDefault(),o()))},p),$.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(oG=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),lG(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=oG)}},[d,p,n,u]),$.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),lG())},[d,u]),$.useEffect(()=>{const G=()=>m({});return document.addEventListener(j6,G),()=>document.removeEventListener(j6,G)},[]),z.jsx(Gn.div,{...l,ref:v,style:{pointerEvents:N?F?"auto":"none":void 0,...t.style},onFocusCapture:un(t.onFocusCapture,U.onFocusCapture),onBlurCapture:un(t.onBlurCapture,U.onBlurCapture),onPointerDownCapture:un(t.onPointerDownCapture,D.onPointerDownCapture)})});dS.displayName=$Ae;var VAe="DismissableLayerBranch",GAe=$.forwardRef((t,e)=>{const n=$.useContext(Hoe),r=$.useRef(null),i=Rr(e,r);return $.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),z.jsx(Gn.div,{...t,ref:i})});GAe.displayName=VAe;function WAe(t,e=globalThis?.document){const n=ts(t),r=$.useRef(!1),i=$.useRef(()=>{});return $.useEffect(()=>{const a=o=>{if(o.target&&!r.current){let l=function(){Voe(qAe,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function KAe(t,e=globalThis?.document){const n=ts(t),r=$.useRef(!1);return $.useEffect(()=>{const i=a=>{a.target&&!r.current&&Voe(HAe,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function lG(){const t=new CustomEvent(j6);document.dispatchEvent(t)}function Voe(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Dse(i,a):i.dispatchEvent(a)}var zI=0;function N7(){$.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??uG()),document.body.insertAdjacentElement("beforeend",t[1]??uG()),zI++,()=>{zI===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),zI--}},[])}function uG(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var $I="focusScope.autoFocusOnMount",qI="focusScope.autoFocusOnUnmount",cG={bubbles:!1,cancelable:!0},YAe="FocusScope",NA=$.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=t,[o,l]=$.useState(null),u=ts(i),d=ts(a),h=$.useRef(null),p=Rr(e,w=>l(w)),m=$.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;$.useEffect(()=>{if(r){let w=function(N){if(m.paused||!o)return;const F=N.target;o.contains(F)?h.current=F:Wp(h.current,{select:!0})},k=function(N){if(m.paused||!o)return;const F=N.relatedTarget;F!==null&&(o.contains(F)||Wp(h.current,{select:!0}))},T=function(N){if(document.activeElement===document.body)for(const D of N)D.removedNodes.length>0&&Wp(o)};document.addEventListener("focusin",w),document.addEventListener("focusout",k);const C=new MutationObserver(T);return o&&C.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",k),C.disconnect()}}},[r,o,m.paused]),$.useEffect(()=>{if(o){hG.add(m);const w=document.activeElement;if(!o.contains(w)){const T=new CustomEvent($I,cG);o.addEventListener($I,u),o.dispatchEvent(T),T.defaultPrevented||(XAe(tCe(Goe(o)),{select:!0}),document.activeElement===w&&Wp(o))}return()=>{o.removeEventListener($I,u),setTimeout(()=>{const T=new CustomEvent(qI,cG);o.addEventListener(qI,d),o.dispatchEvent(T),T.defaultPrevented||Wp(w??document.body,{select:!0}),o.removeEventListener(qI,d),hG.remove(m)},0)}}},[o,u,d,m]);const v=$.useCallback(w=>{if(!n&&!r||m.paused)return;const k=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,T=document.activeElement;if(k&&T){const C=w.currentTarget,[N,F]=ZAe(C);N&&F?!w.shiftKey&&T===F?(w.preventDefault(),n&&Wp(N,{select:!0})):w.shiftKey&&T===N&&(w.preventDefault(),n&&Wp(F,{select:!0})):T===C&&w.preventDefault()}},[n,r,m.paused]);return z.jsx(Gn.div,{tabIndex:-1,...s,ref:p,onKeyDown:v})});NA.displayName=YAe;function XAe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Wp(r,{select:e}),document.activeElement!==n)return}function ZAe(t){const e=Goe(t),n=dG(e,t),r=dG(e.reverse(),t);return[n,r]}function Goe(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function dG(t,e){for(const n of t)if(!QAe(n,{upTo:e}))return n}function QAe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function JAe(t){return t instanceof HTMLInputElement&&"select"in t}function Wp(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&JAe(t)&&e&&t.select()}}var hG=eCe();function eCe(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=fG(t,e),t.unshift(e)},remove(e){t=fG(t,e),t[0]?.resume()}}}function fG(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function tCe(t){return t.filter(e=>e.tagName!=="A")}const nCe=["top","right","bottom","left"],km=Math.min,Gl=Math.max,nT=Math.round,nE=Math.floor,Ud=t=>({x:t,y:t}),rCe={left:"right",right:"left",bottom:"top",top:"bottom"},iCe={start:"end",end:"start"};function z6(t,e,n){return Gl(t,km(e,n))}function Ef(t,e){return typeof t=="function"?t(e):t}function kf(t){return t.split("-")[0]}function lv(t){return t.split("-")[1]}function O7(t){return t==="x"?"y":"x"}function M7(t){return t==="y"?"height":"width"}function Tm(t){return["top","bottom"].includes(kf(t))?"y":"x"}function P7(t){return O7(Tm(t))}function aCe(t,e,n){n===void 0&&(n=!1);const r=lv(t),i=P7(t),a=M7(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=rT(s)),[s,rT(s)]}function sCe(t){const e=rT(t);return[$6(t),e,$6(e)]}function $6(t){return t.replace(/start|end/g,e=>iCe[e])}function oCe(t,e,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?a:s;default:return[]}}function lCe(t,e,n,r){const i=lv(t);let a=oCe(kf(t),n==="start",r);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map($6)))),a}function rT(t){return t.replace(/left|right|bottom|top/g,e=>rCe[e])}function uCe(t){return{top:0,right:0,bottom:0,left:0,...t}}function Woe(t){return typeof t!="number"?uCe(t):{top:t,right:t,bottom:t,left:t}}function iT(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function pG(t,e,n){let{reference:r,floating:i}=t;const a=Tm(e),s=P7(e),o=M7(s),l=kf(e),u=a==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[o]/2-i[o]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(lv(e)){case"start":m[s]-=p*(n&&u?-1:1);break;case"end":m[s]+=p*(n&&u?-1:1);break}return m}const cCe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=pG(u,r,l),p=r,m={},v=0;for(let w=0;w<o.length;w++){const{name:k,fn:T}=o[w],{x:C,y:N,data:F,reset:D}=await T({x:d,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:u,platform:s,elements:{reference:t,floating:e}});d=C??d,h=N??h,m={...m,[k]:{...m[k],...F}},D&&v<=50&&(v++,typeof D=="object"&&(D.placement&&(p=D.placement),D.rects&&(u=D.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:d,y:h}=pG(u,p,l)),w=-1)}return{x:d,y:h,placement:p,strategy:i,middlewareData:m}};async function a1(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:s,elements:o,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=Ef(e,t),v=Woe(m),k=o[p?h==="floating"?"reference":"floating":h],T=iT(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(k)))==null||n?k:k.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:l})),C=h==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),F=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},D=iT(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:C,offsetParent:N,strategy:l}):C);return{top:(T.top-D.top+v.top)/F.y,bottom:(D.bottom-T.bottom+v.bottom)/F.y,left:(T.left-D.left+v.left)/F.x,right:(D.right-T.right+v.right)/F.x}}const dCe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:s,elements:o,middlewareData:l}=e,{element:u,padding:d=0}=Ef(t,e)||{};if(u==null)return{};const h=Woe(d),p={x:n,y:r},m=P7(i),v=M7(m),w=await s.getDimensions(u),k=m==="y",T=k?"top":"left",C=k?"bottom":"right",N=k?"clientHeight":"clientWidth",F=a.reference[v]+a.reference[m]-p[m]-a.floating[v],D=p[m]-a.reference[m],U=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let G=U?U[N]:0;(!G||!await(s.isElement==null?void 0:s.isElement(U)))&&(G=o.floating[N]||a.floating[v]);const se=F/2-D/2,re=G/2-w[v]/2-1,Q=km(h[T],re),ce=km(h[C],re),Ie=Q,qe=G-w[v]-ce,xe=G/2-w[v]/2+se,Ce=z6(Ie,xe,qe),ue=!l.arrow&&lv(i)!=null&&xe!==Ce&&a.reference[v]/2-(xe<Ie?Q:ce)-w[v]/2<0,ke=ue?xe<Ie?xe-Ie:xe-qe:0;return{[m]:p[m]+ke,data:{[m]:Ce,centerOffset:xe-Ce-ke,...ue&&{alignmentOffset:ke}},reset:ue}}}),hCe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:w=!0,...k}=Ef(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const T=kf(i),C=Tm(o),N=kf(o)===o,F=await(l.isRTL==null?void 0:l.isRTL(u.floating)),D=p||(N||!w?[rT(o)]:sCe(o)),U=v!=="none";!p&&U&&D.push(...lCe(o,w,v,F));const G=[o,...D],se=await a1(e,k),re=[];let Q=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&re.push(se[T]),h){const xe=aCe(i,s,F);re.push(se[xe[0]],se[xe[1]])}if(Q=[...Q,{placement:i,overflows:re}],!re.every(xe=>xe<=0)){var ce,Ie;const xe=(((ce=a.flip)==null?void 0:ce.index)||0)+1,Ce=G[xe];if(Ce)return{data:{index:xe,overflows:Q},reset:{placement:Ce}};let ue=(Ie=Q.filter(ke=>ke.overflows[0]<=0).sort((ke,Te)=>ke.overflows[1]-Te.overflows[1])[0])==null?void 0:Ie.placement;if(!ue)switch(m){case"bestFit":{var qe;const ke=(qe=Q.filter(Te=>{if(U){const he=Tm(Te.placement);return he===C||he==="y"}return!0}).map(Te=>[Te.placement,Te.overflows.filter(he=>he>0).reduce((he,j)=>he+j,0)]).sort((Te,he)=>Te[1]-he[1])[0])==null?void 0:qe[0];ke&&(ue=ke);break}case"initialPlacement":ue=o;break}if(i!==ue)return{reset:{placement:ue}}}return{}}}};function mG(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function gG(t){return nCe.some(e=>t[e]>=0)}const fCe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Ef(t,e);switch(r){case"referenceHidden":{const a=await a1(e,{...i,elementContext:"reference"}),s=mG(a,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:gG(s)}}}case"escaped":{const a=await a1(e,{...i,altBoundary:!0}),s=mG(a,n.floating);return{data:{escapedOffsets:s,escaped:gG(s)}}}default:return{}}}}};async function pCe(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=kf(n),o=lv(n),l=Tm(n)==="y",u=["left","top"].includes(s)?-1:1,d=a&&l?-1:1,h=Ef(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof v=="number"&&(m=o==="end"?v*-1:v),l?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const mCe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:s,middlewareData:o}=e,l=await pCe(e,t);return s===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}},gCe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:k=>{let{x:T,y:C}=k;return{x:T,y:C}}},...l}=Ef(t,e),u={x:n,y:r},d=await a1(e,l),h=Tm(kf(i)),p=O7(h);let m=u[p],v=u[h];if(a){const k=p==="y"?"top":"left",T=p==="y"?"bottom":"right",C=m+d[k],N=m-d[T];m=z6(C,m,N)}if(s){const k=h==="y"?"top":"left",T=h==="y"?"bottom":"right",C=v+d[k],N=v-d[T];v=z6(C,v,N)}const w=o.fn({...e,[p]:m,[h]:v});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[p]:a,[h]:s}}}}}},yCe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:s}=e,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=Ef(t,e),d={x:n,y:r},h=Tm(i),p=O7(h);let m=d[p],v=d[h];const w=Ef(o,e),k=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const N=p==="y"?"height":"width",F=a.reference[p]-a.floating[N]+k.mainAxis,D=a.reference[p]+a.reference[N]-k.mainAxis;m<F?m=F:m>D&&(m=D)}if(u){var T,C;const N=p==="y"?"width":"height",F=["top","left"].includes(kf(i)),D=a.reference[h]-a.floating[N]+(F&&((T=s.offset)==null?void 0:T[h])||0)+(F?0:k.crossAxis),U=a.reference[h]+a.reference[N]+(F?0:((C=s.offset)==null?void 0:C[h])||0)-(F?k.crossAxis:0);v<D?v=D:v>U&&(v=U)}return{[p]:m,[h]:v}}}},bCe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:s,elements:o}=e,{apply:l=()=>{},...u}=Ef(t,e),d=await a1(e,u),h=kf(i),p=lv(i),m=Tm(i)==="y",{width:v,height:w}=a.floating;let k,T;h==="top"||h==="bottom"?(k=h,T=p===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(T=h,k=p==="end"?"top":"bottom");const C=w-d.top-d.bottom,N=v-d.left-d.right,F=km(w-d[k],C),D=km(v-d[T],N),U=!e.middlewareData.shift;let G=F,se=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(se=N),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(G=C),U&&!p){const Q=Gl(d.left,0),ce=Gl(d.right,0),Ie=Gl(d.top,0),qe=Gl(d.bottom,0);m?se=v-2*(Q!==0||ce!==0?Q+ce:Gl(d.left,d.right)):G=w-2*(Ie!==0||qe!==0?Ie+qe:Gl(d.top,d.bottom))}await l({...e,availableWidth:se,availableHeight:G});const re=await s.getDimensions(o.floating);return v!==re.width||w!==re.height?{reset:{rects:!0}}:{}}}};function OA(){return typeof window<"u"}function uv(t){return Koe(t)?(t.nodeName||"").toLowerCase():"#document"}function Zl(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function eh(t){var e;return(e=(Koe(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Koe(t){return OA()?t instanceof Node||t instanceof Zl(t).Node:!1}function Hc(t){return OA()?t instanceof Element||t instanceof Zl(t).Element:!1}function qd(t){return OA()?t instanceof HTMLElement||t instanceof Zl(t).HTMLElement:!1}function yG(t){return!OA()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Zl(t).ShadowRoot}function hS(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Vc(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function vCe(t){return["table","td","th"].includes(uv(t))}function MA(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function L7(t){const e=D7(),n=Hc(t)?Vc(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function wCe(t){let e=Am(t);for(;qd(e)&&!Lb(e);){if(L7(e))return e;if(MA(e))return null;e=Am(e)}return null}function D7(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Lb(t){return["html","body","#document"].includes(uv(t))}function Vc(t){return Zl(t).getComputedStyle(t)}function PA(t){return Hc(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Am(t){if(uv(t)==="html")return t;const e=t.assignedSlot||t.parentNode||yG(t)&&t.host||eh(t);return yG(e)?e.host:e}function Yoe(t){const e=Am(t);return Lb(e)?t.ownerDocument?t.ownerDocument.body:t.body:qd(e)&&hS(e)?e:Yoe(e)}function s1(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Yoe(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),s=Zl(i);if(a){const o=q6(s);return e.concat(s,s.visualViewport||[],hS(i)?i:[],o&&n?s1(o):[])}return e.concat(i,s1(i,[],n))}function q6(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Xoe(t){const e=Vc(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=qd(t),a=i?t.offsetWidth:n,s=i?t.offsetHeight:r,o=nT(n)!==a||nT(r)!==s;return o&&(n=a,r=s),{width:n,height:r,$:o}}function F7(t){return Hc(t)?t:t.contextElement}function wb(t){const e=F7(t);if(!qd(e))return Ud(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=Xoe(e);let s=(a?nT(n.width):n.width)/r,o=(a?nT(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const _Ce=Ud(0);function Zoe(t){const e=Zl(t);return!D7()||!e.visualViewport?_Ce:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function SCe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Zl(t)?!1:e}function m0(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=F7(t);let s=Ud(1);e&&(r?Hc(r)&&(s=wb(r)):s=wb(t));const o=SCe(a,n,r)?Zoe(a):Ud(0);let l=(i.left+o.x)/s.x,u=(i.top+o.y)/s.y,d=i.width/s.x,h=i.height/s.y;if(a){const p=Zl(a),m=r&&Hc(r)?Zl(r):r;let v=p,w=q6(v);for(;w&&r&&m!==v;){const k=wb(w),T=w.getBoundingClientRect(),C=Vc(w),N=T.left+(w.clientLeft+parseFloat(C.paddingLeft))*k.x,F=T.top+(w.clientTop+parseFloat(C.paddingTop))*k.y;l*=k.x,u*=k.y,d*=k.x,h*=k.y,l+=N,u+=F,v=Zl(w),w=q6(v)}}return iT({width:d,height:h,x:l,y:u})}function B7(t,e){const n=PA(t).scrollLeft;return e?e.left+n:m0(eh(t)).left+n}function Qoe(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:B7(t,r)),a=r.top+e.scrollTop;return{x:i,y:a}}function xCe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",s=eh(r),o=e?MA(e.floating):!1;if(r===s||o&&a)return n;let l={scrollLeft:0,scrollTop:0},u=Ud(1);const d=Ud(0),h=qd(r);if((h||!h&&!a)&&((uv(r)!=="body"||hS(s))&&(l=PA(r)),qd(r))){const m=m0(r);u=wb(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=s&&!h&&!a?Qoe(s,l,!0):Ud(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-l.scrollTop*u.y+d.y+p.y}}function ECe(t){return Array.from(t.getClientRects())}function kCe(t){const e=eh(t),n=PA(t),r=t.ownerDocument.body,i=Gl(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Gl(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+B7(t);const o=-n.scrollTop;return Vc(r).direction==="rtl"&&(s+=Gl(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:o}}function TCe(t,e){const n=Zl(t),r=eh(t),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const u=D7();(!u||u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}function ACe(t,e){const n=m0(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=qd(t)?wb(t):Ud(1),s=t.clientWidth*a.x,o=t.clientHeight*a.y,l=i*a.x,u=r*a.y;return{width:s,height:o,x:l,y:u}}function bG(t,e,n){let r;if(e==="viewport")r=TCe(t,n);else if(e==="document")r=kCe(eh(t));else if(Hc(e))r=ACe(e,n);else{const i=Zoe(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return iT(r)}function Joe(t,e){const n=Am(t);return n===e||!Hc(n)||Lb(n)?!1:Vc(n).position==="fixed"||Joe(n,e)}function CCe(t,e){const n=e.get(t);if(n)return n;let r=s1(t,[],!1).filter(o=>Hc(o)&&uv(o)!=="body"),i=null;const a=Vc(t).position==="fixed";let s=a?Am(t):t;for(;Hc(s)&&!Lb(s);){const o=Vc(s),l=L7(s);!l&&o.position==="fixed"&&(i=null),(a?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||hS(s)&&!l&&Joe(t,s))?r=r.filter(d=>d!==s):i=o,s=Am(s)}return e.set(t,r),r}function RCe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?MA(e)?[]:CCe(e,this._c):[].concat(n),r],o=s[0],l=s.reduce((u,d)=>{const h=bG(e,d,i);return u.top=Gl(h.top,u.top),u.right=km(h.right,u.right),u.bottom=km(h.bottom,u.bottom),u.left=Gl(h.left,u.left),u},bG(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ICe(t){const{width:e,height:n}=Xoe(t);return{width:e,height:n}}function NCe(t,e,n){const r=qd(e),i=eh(e),a=n==="fixed",s=m0(t,!0,a,e);let o={scrollLeft:0,scrollTop:0};const l=Ud(0);if(r||!r&&!a)if((uv(e)!=="body"||hS(i))&&(o=PA(e)),r){const p=m0(e,!0,a,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=B7(i));const u=i&&!r&&!a?Qoe(i,o):Ud(0),d=s.left+o.scrollLeft-l.x-u.x,h=s.top+o.scrollTop-l.y-u.y;return{x:d,y:h,width:s.width,height:s.height}}function HI(t){return Vc(t).position==="static"}function vG(t,e){if(!qd(t)||Vc(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return eh(t)===n&&(n=n.ownerDocument.body),n}function ele(t,e){const n=Zl(t);if(MA(t))return n;if(!qd(t)){let i=Am(t);for(;i&&!Lb(i);){if(Hc(i)&&!HI(i))return i;i=Am(i)}return n}let r=vG(t,e);for(;r&&vCe(r)&&HI(r);)r=vG(r,e);return r&&Lb(r)&&HI(r)&&!L7(r)?n:r||wCe(t)||n}const OCe=async function(t){const e=this.getOffsetParent||ele,n=this.getDimensions,r=await n(t.floating);return{reference:NCe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function MCe(t){return Vc(t).direction==="rtl"}const PCe={convertOffsetParentRelativeRectToViewportRelativeRect:xCe,getDocumentElement:eh,getClippingRect:RCe,getOffsetParent:ele,getElementRects:OCe,getClientRects:ECe,getDimensions:ICe,getScale:wb,isElement:Hc,isRTL:MCe};function tle(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function LCe(t,e){let n=null,r;const i=eh(t);function a(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const u=t.getBoundingClientRect(),{left:d,top:h,width:p,height:m}=u;if(o||e(),!p||!m)return;const v=nE(h),w=nE(i.clientWidth-(d+p)),k=nE(i.clientHeight-(h+m)),T=nE(d),N={rootMargin:-v+"px "+-w+"px "+-k+"px "+-T+"px",threshold:Gl(0,km(1,l))||1};let F=!0;function D(U){const G=U[0].intersectionRatio;if(G!==l){if(!F)return s();G?s(!1,G):r=setTimeout(()=>{s(!1,1e-7)},1e3)}G===1&&!tle(u,t.getBoundingClientRect())&&s(),F=!1}try{n=new IntersectionObserver(D,{...N,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,N)}n.observe(t)}return s(!0),a}function DCe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=F7(t),d=i||a?[...u?s1(u):[],...s1(e)]:[];d.forEach(T=>{i&&T.addEventListener("scroll",n,{passive:!0}),a&&T.addEventListener("resize",n)});const h=u&&o?LCe(u,n):null;let p=-1,m=null;s&&(m=new ResizeObserver(T=>{let[C]=T;C&&C.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var N;(N=m)==null||N.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let v,w=l?m0(t):null;l&&k();function k(){const T=m0(t);w&&!tle(w,T)&&n(),w=T,v=requestAnimationFrame(k)}return n(),()=>{var T;d.forEach(C=>{i&&C.removeEventListener("scroll",n),a&&C.removeEventListener("resize",n)}),h?.(),(T=m)==null||T.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const FCe=mCe,BCe=gCe,UCe=hCe,jCe=bCe,zCe=fCe,wG=dCe,$Ce=yCe,qCe=(t,e,n)=>{const r=new Map,i={platform:PCe,...n},a={...i.platform,_c:r};return cCe(t,e,{...i,platform:a})};var hk=typeof document<"u"?$.useLayoutEffect:$.useEffect;function aT(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!aT(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!aT(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function nle(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function _G(t,e){const n=nle(t);return Math.round(e*n)/n}function VI(t){const e=$.useRef(t);return hk(()=>{e.current=t}),e}function HCe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:u}=t,[d,h]=$.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=$.useState(r);aT(p,r)||m(r);const[v,w]=$.useState(null),[k,T]=$.useState(null),C=$.useCallback(Te=>{Te!==U.current&&(U.current=Te,w(Te))},[]),N=$.useCallback(Te=>{Te!==G.current&&(G.current=Te,T(Te))},[]),F=a||v,D=s||k,U=$.useRef(null),G=$.useRef(null),se=$.useRef(d),re=l!=null,Q=VI(l),ce=VI(i),Ie=VI(u),qe=$.useCallback(()=>{if(!U.current||!G.current)return;const Te={placement:e,strategy:n,middleware:p};ce.current&&(Te.platform=ce.current),qCe(U.current,G.current,Te).then(he=>{const j={...he,isPositioned:Ie.current!==!1};xe.current&&!aT(se.current,j)&&(se.current=j,rS.flushSync(()=>{h(j)}))})},[p,e,n,ce,Ie]);hk(()=>{u===!1&&se.current.isPositioned&&(se.current.isPositioned=!1,h(Te=>({...Te,isPositioned:!1})))},[u]);const xe=$.useRef(!1);hk(()=>(xe.current=!0,()=>{xe.current=!1}),[]),hk(()=>{if(F&&(U.current=F),D&&(G.current=D),F&&D){if(Q.current)return Q.current(F,D,qe);qe()}},[F,D,qe,Q,re]);const Ce=$.useMemo(()=>({reference:U,floating:G,setReference:C,setFloating:N}),[C,N]),ue=$.useMemo(()=>({reference:F,floating:D}),[F,D]),ke=$.useMemo(()=>{const Te={position:n,left:0,top:0};if(!ue.floating)return Te;const he=_G(ue.floating,d.x),j=_G(ue.floating,d.y);return o?{...Te,transform:"translate("+he+"px, "+j+"px)",...nle(ue.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:he,top:j}},[n,o,ue.floating,d.x,d.y]);return $.useMemo(()=>({...d,update:qe,refs:Ce,elements:ue,floatingStyles:ke}),[d,qe,Ce,ue,ke])}const VCe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?wG({element:r.current,padding:i}).fn(n):{}:r?wG({element:r,padding:i}).fn(n):{}}}},GCe=(t,e)=>({...FCe(t),options:[t,e]}),WCe=(t,e)=>({...BCe(t),options:[t,e]}),KCe=(t,e)=>({...$Ce(t),options:[t,e]}),YCe=(t,e)=>({...UCe(t),options:[t,e]}),XCe=(t,e)=>({...jCe(t),options:[t,e]}),ZCe=(t,e)=>({...zCe(t),options:[t,e]}),QCe=(t,e)=>({...VCe(t),options:[t,e]});var JCe="Arrow",rle=$.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return z.jsx(Gn.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:z.jsx("polygon",{points:"0,0 30,0 15,10"})})});rle.displayName=JCe;var eRe=rle,U7="Popper",[ile,cv]=Hu(U7),[tRe,ale]=ile(U7),sle=t=>{const{__scopePopper:e,children:n}=t,[r,i]=$.useState(null);return z.jsx(tRe,{scope:e,anchor:r,onAnchorChange:i,children:n})};sle.displayName=U7;var ole="PopperAnchor",lle=$.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=ale(ole,n),s=$.useRef(null),o=Rr(e,s);return $.useEffect(()=>{a.onAnchorChange(r?.current||s.current)}),r?null:z.jsx(Gn.div,{...i,ref:o})});lle.displayName=ole;var j7="PopperContent",[nRe,rRe]=ile(j7),ule=$.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:v,...w}=t,k=ale(j7,n),[T,C]=$.useState(null),N=Rr(e,Ke=>C(Ke)),[F,D]=$.useState(null),U=Foe(F),G=U?.width??0,se=U?.height??0,re=r+(a!=="center"?"-"+a:""),Q=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},ce=Array.isArray(u)?u:[u],Ie=ce.length>0,qe={padding:Q,boundary:ce.filter(aRe),altBoundary:Ie},{refs:xe,floatingStyles:Ce,placement:ue,isPositioned:ke,middlewareData:Te}=HCe({strategy:"fixed",placement:re,whileElementsMounted:(...Ke)=>DCe(...Ke,{animationFrame:m==="always"}),elements:{reference:k.anchor},middleware:[GCe({mainAxis:i+se,alignmentAxis:s}),l&&WCe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?KCe():void 0,...qe}),l&&YCe({...qe}),XCe({...qe,apply:({elements:Ke,rects:ct,availableWidth:de,availableHeight:Se})=>{const{width:ht,height:vt}=ct.reference,Dt=Ke.floating.style;Dt.setProperty("--radix-popper-available-width",`${de}px`),Dt.setProperty("--radix-popper-available-height",`${Se}px`),Dt.setProperty("--radix-popper-anchor-width",`${ht}px`),Dt.setProperty("--radix-popper-anchor-height",`${vt}px`)}}),F&&QCe({element:F,padding:o}),sRe({arrowWidth:G,arrowHeight:se}),p&&ZCe({strategy:"referenceHidden",...qe})]}),[he,j]=hle(ue),pe=ts(v);Bs(()=>{ke&&pe?.()},[ke,pe]);const Ne=Te.arrow?.x,ae=Te.arrow?.y,He=Te.arrow?.centerOffset!==0,[it,Xe]=$.useState();return Bs(()=>{T&&Xe(window.getComputedStyle(T).zIndex)},[T]),z.jsx("div",{ref:xe.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ce,transform:ke?Ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:it,"--radix-popper-transform-origin":[Te.transformOrigin?.x,Te.transformOrigin?.y].join(" "),...Te.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:z.jsx(nRe,{scope:n,placedSide:he,onArrowChange:D,arrowX:Ne,arrowY:ae,shouldHideArrow:He,children:z.jsx(Gn.div,{"data-side":he,"data-align":j,...w,ref:N,style:{...w.style,animation:ke?void 0:"none"}})})})});ule.displayName=j7;var cle="PopperArrow",iRe={top:"bottom",right:"left",bottom:"top",left:"right"},dle=$.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=rRe(cle,r),s=iRe[a.placedSide];return z.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:z.jsx(eRe,{...i,ref:n,style:{...i.style,display:"block"}})})});dle.displayName=cle;function aRe(t){return t!==null}var sRe=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,s=i.arrow?.centerOffset!==0,o=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[u,d]=hle(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(i.arrow?.x??0)+o/2,m=(i.arrow?.y??0)+l/2;let v="",w="";return u==="bottom"?(v=s?h:`${p}px`,w=`${-l}px`):u==="top"?(v=s?h:`${p}px`,w=`${r.floating.height+l}px`):u==="right"?(v=`${-l}px`,w=s?h:`${m}px`):u==="left"&&(v=`${r.floating.width+l}px`,w=s?h:`${m}px`),{data:{x:v,y:w}}}});function hle(t){const[e,n="center"]=t.split("-");return[e,n]}var z7=sle,$7=lle,q7=ule,H7=dle,oRe="Portal",LA=$.forwardRef((t,e)=>{const{container:n,...r}=t,[i,a]=$.useState(!1);Bs(()=>a(!0),[]);const s=n||i&&globalThis?.document?.body;return s?Pse.createPortal(z.jsx(Gn.div,{...r,ref:e}),s):null});LA.displayName=oRe;var lRe="VisuallyHidden",V7=$.forwardRef((t,e)=>z.jsx(Gn.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));V7.displayName=lRe;var uRe=V7,cRe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},vy=new WeakMap,rE=new WeakMap,iE={},GI=0,fle=function(t){return t&&(t.host||fle(t.parentNode))},dRe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=fle(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},hRe=function(t,e,n,r){var i=dRe(e,Array.isArray(t)?t:[t]);iE[n]||(iE[n]=new WeakMap);var a=iE[n],s=[],o=new Set,l=new Set(i),u=function(h){!h||o.has(h)||(o.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(o.has(p))d(p);else try{var m=p.getAttribute(r),v=m!==null&&m!=="false",w=(vy.get(p)||0)+1,k=(a.get(p)||0)+1;vy.set(p,w),a.set(p,k),s.push(p),w===1&&v&&rE.set(p,!0),k===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(T){console.error("aria-hidden: cannot operate on ",p,T)}})};return d(e),o.clear(),GI++,function(){s.forEach(function(h){var p=vy.get(h)-1,m=a.get(h)-1;vy.set(h,p),a.set(h,m),p||(rE.has(h)||h.removeAttribute(r),rE.delete(h)),m||h.removeAttribute(n)}),GI--,GI||(vy=new WeakMap,vy=new WeakMap,rE=new WeakMap,iE={})}},G7=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=cRe(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),hRe(r,i,n,"aria-hidden")):function(){return null}},um=function(){return um=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},um.apply(this,arguments)};function fRe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function pRe(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var fk="right-scroll-bar-position",pk="width-before-scroll-bar",mRe="with-scroll-bars-hidden",gRe="--removed-body-scroll-bar-size";function WI(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function yRe(t,e){var n=$.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var bRe=typeof window<"u"?$.useLayoutEffect:$.useEffect,SG=new WeakMap;function vRe(t,e){var n=yRe(null,function(r){return t.forEach(function(i){return WI(i,r)})});return bRe(function(){var r=SG.get(n);if(r){var i=new Set(r),a=new Set(t),s=n.current;i.forEach(function(o){a.has(o)||WI(o,null)}),a.forEach(function(o){i.has(o)||WI(o,s)})}SG.set(n,t)},[t]),n}var sT=function(){return sT=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},sT.apply(this,arguments)};function wRe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _Re(t){return t}function SRe(t,e){e===void 0&&(e=_Re);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var s=e(a,r);return n.push(s),function(){n=n.filter(function(o){return o!==s})}},assignSyncMedium:function(a){for(r=!0;n.length;){var s=n;n=[],s.forEach(a)}n={push:function(o){return a(o)},filter:function(){return n}}},assignMedium:function(a){r=!0;var s=[];if(n.length){var o=n;n=[],o.forEach(a),s=n}var l=function(){var d=s;s=[],d.forEach(a)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),n}}}};return i}function xRe(t){t===void 0&&(t={});var e=SRe(null);return e.options=sT({async:!0,ssr:!1},t),e}var ple=function(t){var e=t.sideCar,n=wRe(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return $.createElement(r,sT({},n))};ple.isSideCarExport=!0;function ERe(t,e){return t.useMedium(e),ple}var mle=xRe(),KI=function(){},DA=$.forwardRef(function(t,e){var n=$.useRef(null),r=$.useState({onScrollCapture:KI,onWheelCapture:KI,onTouchMoveCapture:KI}),i=r[0],a=r[1],s=t.forwardProps,o=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,m=t.noIsolation,v=t.inert,w=t.allowPinchZoom,k=t.as,T=k===void 0?"div":k,C=t.gapMode,N=fRe(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=p,D=vRe([n,e]),U=um(um({},N),i);return $.createElement($.Fragment,null,d&&$.createElement(F,{sideCar:mle,removeScrollBar:u,shards:h,noIsolation:m,inert:v,setCallbacks:a,allowPinchZoom:!!w,lockRef:n,gapMode:C}),s?$.cloneElement($.Children.only(o),um(um({},U),{ref:D})):$.createElement(T,um({},U,{className:l,ref:D}),o))});DA.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};DA.classNames={fullWidth:pk,zeroRight:fk};var kRe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function TRe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=kRe();return e&&t.setAttribute("nonce",e),t}function ARe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function CRe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var RRe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=TRe())&&(ARe(e,n),CRe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},IRe=function(){var t=RRe();return function(e,n){$.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},gle=function(){var t=IRe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},NRe={left:0,top:0,right:0,gap:0},YI=function(t){return parseInt(t||"",10)||0},ORe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[YI(n),YI(r),YI(i)]},MRe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return NRe;var e=ORe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},PRe=gle(),_b="data-scroll-locked",LRe=function(t,e,n,r){var i=t.left,a=t.top,s=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(mRe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(_b,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fk,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(pk,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(fk," .").concat(fk,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(pk," .").concat(pk,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(_b,`] {
    `).concat(gRe,": ").concat(o,`px;
  }
`)},xG=function(){var t=parseInt(document.body.getAttribute(_b)||"0",10);return isFinite(t)?t:0},DRe=function(){$.useEffect(function(){return document.body.setAttribute(_b,(xG()+1).toString()),function(){var t=xG()-1;t<=0?document.body.removeAttribute(_b):document.body.setAttribute(_b,t.toString())}},[])},FRe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;DRe();var a=$.useMemo(function(){return MRe(i)},[i]);return $.createElement(PRe,{styles:LRe(a,!e,i,n?"":"!important")})},H6=!1;if(typeof window<"u")try{var aE=Object.defineProperty({},"passive",{get:function(){return H6=!0,!0}});window.addEventListener("test",aE,aE),window.removeEventListener("test",aE,aE)}catch{H6=!1}var wy=H6?{passive:!1}:!1,BRe=function(t){return t.tagName==="TEXTAREA"},yle=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!BRe(t)&&n[e]==="visible")},URe=function(t){return yle(t,"overflowY")},jRe=function(t){return yle(t,"overflowX")},EG=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=ble(t,r);if(i){var a=vle(t,r),s=a[1],o=a[2];if(s>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},zRe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},$Re=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},ble=function(t,e){return t==="v"?URe(e):jRe(e)},vle=function(t,e){return t==="v"?zRe(e):$Re(e)},qRe=function(t,e){return t==="h"&&e==="rtl"?-1:1},HRe=function(t,e,n,r,i){var a=qRe(t,window.getComputedStyle(e).direction),s=a*r,o=n.target,l=e.contains(o),u=!1,d=s>0,h=0,p=0;do{var m=vle(t,o),v=m[0],w=m[1],k=m[2],T=w-k-a*v;(v||T)&&ble(t,o)&&(h+=T,p+=v),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(d&&Math.abs(h)<1||!d&&Math.abs(p)<1)&&(u=!0),u},sE=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},kG=function(t){return[t.deltaX,t.deltaY]},TG=function(t){return t&&"current"in t?t.current:t},VRe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},GRe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},WRe=0,_y=[];function KRe(t){var e=$.useRef([]),n=$.useRef([0,0]),r=$.useRef(),i=$.useState(WRe++)[0],a=$.useState(gle)[0],s=$.useRef(t);$.useEffect(function(){s.current=t},[t]),$.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=pRe([t.lockRef.current],(t.shards||[]).map(TG),!0).filter(Boolean);return w.forEach(function(k){return k.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=$.useCallback(function(w,k){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!s.current.allowPinchZoom;var T=sE(w),C=n.current,N="deltaX"in w?w.deltaX:C[0]-T[0],F="deltaY"in w?w.deltaY:C[1]-T[1],D,U=w.target,G=Math.abs(N)>Math.abs(F)?"h":"v";if("touches"in w&&G==="h"&&U.type==="range")return!1;var se=EG(G,U);if(!se)return!0;if(se?D=G:(D=G==="v"?"h":"v",se=EG(G,U)),!se)return!1;if(!r.current&&"changedTouches"in w&&(N||F)&&(r.current=D),!D)return!0;var re=r.current||D;return HRe(re,k,w,re==="h"?N:F)},[]),l=$.useCallback(function(w){var k=w;if(!(!_y.length||_y[_y.length-1]!==a)){var T="deltaY"in k?kG(k):sE(k),C=e.current.filter(function(D){return D.name===k.type&&(D.target===k.target||k.target===D.shadowParent)&&VRe(D.delta,T)})[0];if(C&&C.should){k.cancelable&&k.preventDefault();return}if(!C){var N=(s.current.shards||[]).map(TG).filter(Boolean).filter(function(D){return D.contains(k.target)}),F=N.length>0?o(k,N[0]):!s.current.noIsolation;F&&k.cancelable&&k.preventDefault()}}},[]),u=$.useCallback(function(w,k,T,C){var N={name:w,delta:k,target:T,should:C,shadowParent:YRe(T)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(F){return F!==N})},1)},[]),d=$.useCallback(function(w){n.current=sE(w),r.current=void 0},[]),h=$.useCallback(function(w){u(w.type,kG(w),w.target,o(w,t.lockRef.current))},[]),p=$.useCallback(function(w){u(w.type,sE(w),w.target,o(w,t.lockRef.current))},[]);$.useEffect(function(){return _y.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,wy),document.addEventListener("touchmove",l,wy),document.addEventListener("touchstart",d,wy),function(){_y=_y.filter(function(w){return w!==a}),document.removeEventListener("wheel",l,wy),document.removeEventListener("touchmove",l,wy),document.removeEventListener("touchstart",d,wy)}},[]);var m=t.removeScrollBar,v=t.inert;return $.createElement($.Fragment,null,v?$.createElement(a,{styles:GRe(i)}):null,m?$.createElement(FRe,{gapMode:t.gapMode}):null)}function YRe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const XRe=ERe(mle,KRe);var FA=$.forwardRef(function(t,e){return $.createElement(DA,um({},t,{ref:e,sideCar:XRe}))});FA.classNames=DA.classNames;var ZRe=[" ","Enter","ArrowUp","ArrowDown"],QRe=[" ","Enter"],fS="Select",[BA,UA,JRe]=p7(fS),[dv,glt]=Hu(fS,[JRe,cv]),jA=cv(),[e2e,Gm]=dv(fS),[t2e,n2e]=dv(fS),wle=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:s,defaultValue:o,onValueChange:l,dir:u,name:d,autoComplete:h,disabled:p,required:m,form:v}=t,w=jA(e),[k,T]=$.useState(null),[C,N]=$.useState(null),[F,D]=$.useState(!1),U=iS(u),[G=!1,se]=Sf({prop:r,defaultProp:i,onChange:a}),[re,Q]=Sf({prop:s,defaultProp:o,onChange:l}),ce=$.useRef(null),Ie=k?v||!!k.closest("form"):!0,[qe,xe]=$.useState(new Set),Ce=Array.from(qe).map(ue=>ue.props.value).join(";");return z.jsx(z7,{...w,children:z.jsxs(e2e,{required:m,scope:e,trigger:k,onTriggerChange:T,valueNode:C,onValueNodeChange:N,valueNodeHasChildren:F,onValueNodeHasChildrenChange:D,contentId:Fu(),value:re,onValueChange:Q,open:G,onOpenChange:se,dir:U,triggerPointerDownPosRef:ce,disabled:p,children:[z.jsx(BA.Provider,{scope:e,children:z.jsx(t2e,{scope:t.__scopeSelect,onNativeOptionAdd:$.useCallback(ue=>{xe(ke=>new Set(ke).add(ue))},[]),onNativeOptionRemove:$.useCallback(ue=>{xe(ke=>{const Te=new Set(ke);return Te.delete(ue),Te})},[]),children:n})}),Ie?z.jsxs(Vle,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:re,onChange:ue=>Q(ue.target.value),disabled:p,form:v,children:[re===void 0?z.jsx("option",{value:""}):null,Array.from(qe)]},Ce):null]})})};wle.displayName=fS;var _le="SelectTrigger",Sle=$.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=jA(n),s=Gm(_le,n),o=s.disabled||r,l=Rr(e,s.onTriggerChange),u=UA(n),d=$.useRef("touch"),[h,p,m]=Gle(w=>{const k=u().filter(N=>!N.disabled),T=k.find(N=>N.value===s.value),C=Wle(k,w,T);C!==void 0&&s.onValueChange(C.value)}),v=w=>{o||(s.onOpenChange(!0),m()),w&&(s.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return z.jsx($7,{asChild:!0,...a,children:z.jsx(Gn.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":Hle(s.value)?"":void 0,...i,ref:l,onClick:un(i.onClick,w=>{w.currentTarget.focus(),d.current!=="mouse"&&v(w)}),onPointerDown:un(i.onPointerDown,w=>{d.current=w.pointerType;const k=w.target;k.hasPointerCapture(w.pointerId)&&k.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(v(w),w.preventDefault())}),onKeyDown:un(i.onKeyDown,w=>{const k=h.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&p(w.key),!(k&&w.key===" ")&&ZRe.includes(w.key)&&(v(),w.preventDefault())})})})});Sle.displayName=_le;var xle="SelectValue",Ele=$.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:s="",...o}=t,l=Gm(xle,n),{onValueNodeHasChildrenChange:u}=l,d=a!==void 0,h=Rr(e,l.onValueNodeChange);return Bs(()=>{u(d)},[u,d]),z.jsx(Gn.span,{...o,ref:h,style:{pointerEvents:"none"},children:Hle(l.value)?z.jsx(z.Fragment,{children:s}):a})});Ele.displayName=xle;var r2e="SelectIcon",kle=$.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return z.jsx(Gn.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});kle.displayName=r2e;var i2e="SelectPortal",Tle=t=>z.jsx(LA,{asChild:!0,...t});Tle.displayName=i2e;var g0="SelectContent",Ale=$.forwardRef((t,e)=>{const n=Gm(g0,t.__scopeSelect),[r,i]=$.useState();if(Bs(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?rS.createPortal(z.jsx(Cle,{scope:t.__scopeSelect,children:z.jsx(BA.Slot,{scope:t.__scopeSelect,children:z.jsx("div",{children:t.children})})}),a):null}return z.jsx(Rle,{...t,ref:e})});Ale.displayName=g0;var xc=10,[Cle,Wm]=dv(g0),a2e="SelectContentImpl",Rle=$.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:w,avoidCollisions:k,...T}=t,C=Gm(g0,n),[N,F]=$.useState(null),[D,U]=$.useState(null),G=Rr(e,Ke=>F(Ke)),[se,re]=$.useState(null),[Q,ce]=$.useState(null),Ie=UA(n),[qe,xe]=$.useState(!1),Ce=$.useRef(!1);$.useEffect(()=>{if(N)return G7(N)},[N]),N7();const ue=$.useCallback(Ke=>{const[ct,...de]=Ie().map(vt=>vt.ref.current),[Se]=de.slice(-1),ht=document.activeElement;for(const vt of Ke)if(vt===ht||(vt?.scrollIntoView({block:"nearest"}),vt===ct&&D&&(D.scrollTop=0),vt===Se&&D&&(D.scrollTop=D.scrollHeight),vt?.focus(),document.activeElement!==ht))return},[Ie,D]),ke=$.useCallback(()=>ue([se,N]),[ue,se,N]);$.useEffect(()=>{qe&&ke()},[qe,ke]);const{onOpenChange:Te,triggerPointerDownPosRef:he}=C;$.useEffect(()=>{if(N){let Ke={x:0,y:0};const ct=Se=>{Ke={x:Math.abs(Math.round(Se.pageX)-(he.current?.x??0)),y:Math.abs(Math.round(Se.pageY)-(he.current?.y??0))}},de=Se=>{Ke.x<=10&&Ke.y<=10?Se.preventDefault():N.contains(Se.target)||Te(!1),document.removeEventListener("pointermove",ct),he.current=null};return he.current!==null&&(document.addEventListener("pointermove",ct),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ct),document.removeEventListener("pointerup",de,{capture:!0})}}},[N,Te,he]),$.useEffect(()=>{const Ke=()=>Te(!1);return window.addEventListener("blur",Ke),window.addEventListener("resize",Ke),()=>{window.removeEventListener("blur",Ke),window.removeEventListener("resize",Ke)}},[Te]);const[j,pe]=Gle(Ke=>{const ct=Ie().filter(ht=>!ht.disabled),de=ct.find(ht=>ht.ref.current===document.activeElement),Se=Wle(ct,Ke,de);Se&&setTimeout(()=>Se.ref.current.focus())}),Ne=$.useCallback((Ke,ct,de)=>{const Se=!Ce.current&&!de;(C.value!==void 0&&C.value===ct||Se)&&(re(Ke),Se&&(Ce.current=!0))},[C.value]),ae=$.useCallback(()=>N?.focus(),[N]),He=$.useCallback((Ke,ct,de)=>{const Se=!Ce.current&&!de;(C.value!==void 0&&C.value===ct||Se)&&ce(Ke)},[C.value]),it=r==="popper"?V6:Ile,Xe=it===V6?{side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:w,avoidCollisions:k}:{};return z.jsx(Cle,{scope:n,content:N,viewport:D,onViewportChange:U,itemRefCallback:Ne,selectedItem:se,onItemLeave:ae,itemTextRefCallback:He,focusSelectedItem:ke,selectedItemText:Q,position:r,isPositioned:qe,searchRef:j,children:z.jsx(FA,{as:eu,allowPinchZoom:!0,children:z.jsx(NA,{asChild:!0,trapped:C.open,onMountAutoFocus:Ke=>{Ke.preventDefault()},onUnmountAutoFocus:un(i,Ke=>{C.trigger?.focus({preventScroll:!0}),Ke.preventDefault()}),children:z.jsx(dS,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:Ke=>Ke.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:z.jsx(it,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:Ke=>Ke.preventDefault(),...T,...Xe,onPlaced:()=>xe(!0),ref:G,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:un(T.onKeyDown,Ke=>{const ct=Ke.ctrlKey||Ke.altKey||Ke.metaKey;if(Ke.key==="Tab"&&Ke.preventDefault(),!ct&&Ke.key.length===1&&pe(Ke.key),["ArrowUp","ArrowDown","Home","End"].includes(Ke.key)){let Se=Ie().filter(ht=>!ht.disabled).map(ht=>ht.ref.current);if(["ArrowUp","End"].includes(Ke.key)&&(Se=Se.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ke.key)){const ht=Ke.target,vt=Se.indexOf(ht);Se=Se.slice(vt+1)}setTimeout(()=>ue(Se)),Ke.preventDefault()}})})})})})})});Rle.displayName=a2e;var s2e="SelectItemAlignedPosition",Ile=$.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=Gm(g0,n),s=Wm(g0,n),[o,l]=$.useState(null),[u,d]=$.useState(null),h=Rr(e,G=>d(G)),p=UA(n),m=$.useRef(!1),v=$.useRef(!0),{viewport:w,selectedItem:k,selectedItemText:T,focusSelectedItem:C}=s,N=$.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&u&&w&&k&&T){const G=a.trigger.getBoundingClientRect(),se=u.getBoundingClientRect(),re=a.valueNode.getBoundingClientRect(),Q=T.getBoundingClientRect();if(a.dir!=="rtl"){const ht=Q.left-se.left,vt=re.left-ht,Dt=G.left-vt,an=G.width+Dt,Nt=Math.max(an,se.width),Un=window.innerWidth-xc,rn=B6(vt,[xc,Math.max(xc,Un-Nt)]);o.style.minWidth=an+"px",o.style.left=rn+"px"}else{const ht=se.right-Q.right,vt=window.innerWidth-re.right-ht,Dt=window.innerWidth-G.right-vt,an=G.width+Dt,Nt=Math.max(an,se.width),Un=window.innerWidth-xc,rn=B6(vt,[xc,Math.max(xc,Un-Nt)]);o.style.minWidth=an+"px",o.style.right=rn+"px"}const ce=p(),Ie=window.innerHeight-xc*2,qe=w.scrollHeight,xe=window.getComputedStyle(u),Ce=parseInt(xe.borderTopWidth,10),ue=parseInt(xe.paddingTop,10),ke=parseInt(xe.borderBottomWidth,10),Te=parseInt(xe.paddingBottom,10),he=Ce+ue+qe+Te+ke,j=Math.min(k.offsetHeight*5,he),pe=window.getComputedStyle(w),Ne=parseInt(pe.paddingTop,10),ae=parseInt(pe.paddingBottom,10),He=G.top+G.height/2-xc,it=Ie-He,Xe=k.offsetHeight/2,Ke=k.offsetTop+Xe,ct=Ce+ue+Ke,de=he-ct;if(ct<=He){const ht=ce.length>0&&k===ce[ce.length-1].ref.current;o.style.bottom="0px";const vt=u.clientHeight-w.offsetTop-w.offsetHeight,Dt=Math.max(it,Xe+(ht?ae:0)+vt+ke),an=ct+Dt;o.style.height=an+"px"}else{const ht=ce.length>0&&k===ce[0].ref.current;o.style.top="0px";const Dt=Math.max(He,Ce+w.offsetTop+(ht?Ne:0)+Xe)+de;o.style.height=Dt+"px",w.scrollTop=ct-He+w.offsetTop}o.style.margin=`${xc}px 0`,o.style.minHeight=j+"px",o.style.maxHeight=Ie+"px",r?.(),requestAnimationFrame(()=>m.current=!0)}},[p,a.trigger,a.valueNode,o,u,w,k,T,a.dir,r]);Bs(()=>N(),[N]);const[F,D]=$.useState();Bs(()=>{u&&D(window.getComputedStyle(u).zIndex)},[u]);const U=$.useCallback(G=>{G&&v.current===!0&&(N(),C?.(),v.current=!1)},[N,C]);return z.jsx(l2e,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:m,onScrollButtonChange:U,children:z.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:F},children:z.jsx(Gn.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Ile.displayName=s2e;var o2e="SelectPopperPosition",V6=$.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=xc,...a}=t,s=jA(n);return z.jsx(q7,{...s,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});V6.displayName=o2e;var[l2e,W7]=dv(g0,{}),G6="SelectViewport",Nle=$.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=Wm(G6,n),s=W7(G6,n),o=Rr(e,a.onViewportChange),l=$.useRef(0);return z.jsxs(z.Fragment,{children:[z.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),z.jsx(BA.Slot,{scope:n,children:z.jsx(Gn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:un(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=s;if(p?.current&&h){const m=Math.abs(l.current-d.scrollTop);if(m>0){const v=window.innerHeight-xc*2,w=parseFloat(h.style.minHeight),k=parseFloat(h.style.height),T=Math.max(w,k);if(T<v){const C=T+m,N=Math.min(v,C),F=C-N;h.style.height=N+"px",h.style.bottom==="0px"&&(d.scrollTop=F>0?F:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});Nle.displayName=G6;var Ole="SelectGroup",[u2e,c2e]=dv(Ole),d2e=$.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Fu();return z.jsx(u2e,{scope:n,id:i,children:z.jsx(Gn.div,{role:"group","aria-labelledby":i,...r,ref:e})})});d2e.displayName=Ole;var Mle="SelectLabel",Ple=$.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=c2e(Mle,n);return z.jsx(Gn.div,{id:i.id,...r,ref:e})});Ple.displayName=Mle;var oT="SelectItem",[h2e,Lle]=dv(oT),Dle=$.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...s}=t,o=Gm(oT,n),l=Wm(oT,n),u=o.value===r,[d,h]=$.useState(a??""),[p,m]=$.useState(!1),v=Rr(e,C=>l.itemRefCallback?.(C,r,i)),w=Fu(),k=$.useRef("touch"),T=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return z.jsx(h2e,{scope:n,value:r,disabled:i,textId:w,isSelected:u,onItemTextChange:$.useCallback(C=>{h(N=>N||(C?.textContent??"").trim())},[]),children:z.jsx(BA.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:z.jsx(Gn.div,{role:"option","aria-labelledby":w,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:v,onFocus:un(s.onFocus,()=>m(!0)),onBlur:un(s.onBlur,()=>m(!1)),onClick:un(s.onClick,()=>{k.current!=="mouse"&&T()}),onPointerUp:un(s.onPointerUp,()=>{k.current==="mouse"&&T()}),onPointerDown:un(s.onPointerDown,C=>{k.current=C.pointerType}),onPointerMove:un(s.onPointerMove,C=>{k.current=C.pointerType,i?l.onItemLeave?.():k.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:un(s.onPointerLeave,C=>{C.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:un(s.onKeyDown,C=>{l.searchRef?.current!==""&&C.key===" "||(QRe.includes(C.key)&&T(),C.key===" "&&C.preventDefault())})})})})});Dle.displayName=oT;var Ww="SelectItemText",Fle=$.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,s=Gm(Ww,n),o=Wm(Ww,n),l=Lle(Ww,n),u=n2e(Ww,n),[d,h]=$.useState(null),p=Rr(e,T=>h(T),l.onItemTextChange,T=>o.itemTextRefCallback?.(T,l.value,l.disabled)),m=d?.textContent,v=$.useMemo(()=>z.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:w,onNativeOptionRemove:k}=u;return Bs(()=>(w(v),()=>k(v)),[w,k,v]),z.jsxs(z.Fragment,{children:[z.jsx(Gn.span,{id:l.textId,...a,ref:p}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?rS.createPortal(a.children,s.valueNode):null]})});Fle.displayName=Ww;var Ble="SelectItemIndicator",Ule=$.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return Lle(Ble,n).isSelected?z.jsx(Gn.span,{"aria-hidden":!0,...r,ref:e}):null});Ule.displayName=Ble;var W6="SelectScrollUpButton",jle=$.forwardRef((t,e)=>{const n=Wm(W6,t.__scopeSelect),r=W7(W6,t.__scopeSelect),[i,a]=$.useState(!1),s=Rr(e,r.onScrollButtonChange);return Bs(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=l.scrollTop>0;a(u)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?z.jsx($le,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});jle.displayName=W6;var K6="SelectScrollDownButton",zle=$.forwardRef((t,e)=>{const n=Wm(K6,t.__scopeSelect),r=W7(K6,t.__scopeSelect),[i,a]=$.useState(!1),s=Rr(e,r.onScrollButtonChange);return Bs(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;a(d)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?z.jsx($le,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});zle.displayName=K6;var $le=$.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=Wm("SelectScrollButton",n),s=$.useRef(null),o=UA(n),l=$.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return $.useEffect(()=>()=>l(),[l]),Bs(()=>{o().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[o]),z.jsx(Gn.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:un(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:un(i.onPointerMove,()=>{a.onItemLeave?.(),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:un(i.onPointerLeave,()=>{l()})})}),f2e="SelectSeparator",qle=$.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return z.jsx(Gn.div,{"aria-hidden":!0,...r,ref:e})});qle.displayName=f2e;var Y6="SelectArrow",p2e=$.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=jA(n),a=Gm(Y6,n),s=Wm(Y6,n);return a.open&&s.position==="popper"?z.jsx(H7,{...i,...r,ref:e}):null});p2e.displayName=Y6;function Hle(t){return t===""||t===void 0}var Vle=$.forwardRef((t,e)=>{const{value:n,...r}=t,i=$.useRef(null),a=Rr(e,i),s=Doe(n);return $.useEffect(()=>{const o=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&d){const h=new Event("change",{bubbles:!0});d.call(o,n),o.dispatchEvent(h)}},[s,n]),z.jsx(V7,{asChild:!0,children:z.jsx("select",{...r,ref:a,defaultValue:n})})});Vle.displayName="BubbleSelect";function Gle(t){const e=ts(t),n=$.useRef(""),r=$.useRef(0),i=$.useCallback(s=>{const o=n.current+s;e(o),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),a=$.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return $.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function Wle(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let s=m2e(t,Math.max(a,0));i.length===1&&(s=s.filter(u=>u!==n));const l=s.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function m2e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var g2e=wle,Kle=Sle,y2e=Ele,b2e=kle,v2e=Tle,Yle=Ale,w2e=Nle,Xle=Ple,Zle=Dle,_2e=Fle,S2e=Ule,Qle=jle,Jle=zle,eue=qle;const x2e=g2e,E2e=y2e,tue=$.forwardRef(({className:t,children:e,...n},r)=>z.jsxs(Kle,{ref:r,className:cn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,z.jsx(b2e,{asChild:!0,children:z.jsx(E7,{className:"h-4 w-4 opacity-50"})})]}));tue.displayName=Kle.displayName;const nue=$.forwardRef(({className:t,...e},n)=>z.jsx(Qle,{ref:n,className:cn("flex cursor-default items-center justify-center py-1",t),...e,children:z.jsx(GTe,{className:"h-4 w-4"})}));nue.displayName=Qle.displayName;const rue=$.forwardRef(({className:t,...e},n)=>z.jsx(Jle,{ref:n,className:cn("flex cursor-default items-center justify-center py-1",t),...e,children:z.jsx(E7,{className:"h-4 w-4"})}));rue.displayName=Jle.displayName;const iue=$.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>z.jsx(v2e,{children:z.jsxs(Yle,{ref:i,className:cn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[z.jsx(nue,{}),z.jsx(w2e,{className:cn("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),z.jsx(rue,{})]})}));iue.displayName=Yle.displayName;const k2e=$.forwardRef(({className:t,...e},n)=>z.jsx(Xle,{ref:n,className:cn("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));k2e.displayName=Xle.displayName;const aue=$.forwardRef(({className:t,children:e,...n},r)=>z.jsxs(Zle,{ref:r,className:cn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[z.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:z.jsx(S2e,{children:z.jsx(RA,{className:"h-4 w-4"})})}),z.jsx(_2e,{children:e})]}));aue.displayName=Zle.displayName;const T2e=$.forwardRef(({className:t,...e},n)=>z.jsx(eue,{ref:n,className:cn("-mx-1 my-1 h-px bg-muted",t),...e}));T2e.displayName=eue.displayName;const sue=({type:t,models:e,config:n,enabledModels:r,defaultModel:i,title:a,description:s})=>{const o=mTe(t),l=moe(),[u,d]=$.useState(i),h=async(k,T)=>{await o.mutateAsync({modelId:k.model,enabled:T})},p=async k=>{d(k),await l.mutateAsync({[t==="chat"?"default_chat_model":"default_embedding_model"]:k})};if(!n)return null;const m=k=>k===qi.openai?n.openai_api_key&&n.openai_api_key.trim().length>0:dk[k].every(T=>{const C=n[T];return typeof C=="string"&&C.trim().length>0}),v=async()=>{for(const k of e)m(k.provider)&&!r.includes(k.model)&&await o.mutateAsync({modelId:k.model,enabled:!0})},w=async()=>{for(const k of e)r.includes(k.model)&&await o.mutateAsync({modelId:k.model,enabled:!1});l.mutate({[`default_${t}_model`]:""})};return z.jsxs(aS,{className:"h-[calc(100vh-12rem)]",children:[z.jsxs(sS,{className:"space-y-6",children:[z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{children:[z.jsx(oS,{children:a}),z.jsx(lS,{children:s})]}),z.jsxs("div",{className:"flex gap-2",children:[z.jsx(la,{variant:"outline",size:"sm",onClick:v,disabled:e.length===0||l.isPending,children:"Select All"}),z.jsx(la,{variant:"outline",size:"sm",onClick:w,disabled:r.length===0||l.isPending,children:"Unselect All"})]})]}),z.jsxs("div",{children:[z.jsxs(x2e,{value:u,onValueChange:p,children:[z.jsx(tue,{className:"w-[200px]",children:z.jsx(E2e,{placeholder:"Select default model"})}),z.jsx(iue,{children:e.filter(k=>r.includes(k.model)).map(k=>z.jsx(aue,{value:k.model,children:k.name},k.model))})]}),r.length===0&&z.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Enable at least one model to set as default"})]})]}),z.jsx(uS,{className:"h-[calc(100%-13rem)] px-6",children:z.jsx("div",{className:"space-y-4 pb-6",children:e.map(k=>{const T=m(k.provider),C=N=>"modalities"in N;return z.jsx("div",{className:`p-4 rounded-lg border ${T?"":"opacity-50"}`,children:z.jsxs("div",{className:"flex items-start justify-between",children:[z.jsxs("div",{className:"space-y-1",children:[z.jsx("h3",{className:"font-medium",children:k.name}),z.jsx("p",{className:"text-sm text-muted-foreground",children:k.description}),!T&&z.jsxs("p",{className:"text-sm text-muted-foreground",children:["Configure ",k.provider," provider first"]}),C(k)&&k.modalities&&k.modalities.length>0&&z.jsx("div",{className:"flex gap-2 flex-wrap pt-2",children:k.modalities.map(N=>z.jsx(Md,{variant:"outline",className:"capitalize",children:N.toLowerCase()},N))}),C(k)&&k.isReasoning&&z.jsx("div",{className:"flex gap-2 flex-wrap pt-2",children:z.jsx(Md,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200 dark:bg-purple-950 dark:text-purple-300 dark:border-purple-800",children:"Thinking"})})]}),z.jsx(qoe,{checked:r.includes(k.model),onCheckedChange:N=>{h(k,N),!N&&u===k.model&&p("")},disabled:!T||o.isPending})]})},k.model)})})})]})},A2e=({config:t})=>t?z.jsx(sue,{type:"chat",models:xf,config:t,enabledModels:t.enabled_chat_models||[],defaultModel:t.default_chat_model,title:"Chat Models",description:"Enable or disable available chat models"}):null,C2e=({config:t})=>t?z.jsx(sue,{type:"embedding",models:i1,config:t,enabledModels:t.enabled_embedding_models||[],defaultModel:t.default_embedding_model,title:"Embedding Models",description:"Enable or disable available embedding models"}):null,R2e=({config:t})=>t?z.jsxs(aS,{className:"h-[calc(100vh-12rem)]",children:[z.jsxs(sS,{children:[z.jsx(oS,{children:"Other Settings"}),z.jsx(lS,{children:"Additional configuration options"})]}),z.jsx(kA,{className:"space-y-8 px-6",children:z.jsx("div",{className:"space-y-4",children:z.jsx("div",{className:"flex items-center justify-between",children:z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-semibold",children:"Integrations"}),z.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect to external services like Hugging Face to use their inference endpoints"})]})})})})]}):null;function I2e(){const{data:t,isLoading:e,error:n}=pTe(),{startLoading:r,stopLoading:i}=yoe();return $.useEffect(()=>(e?r("Loading configuration..."):i(),()=>{i()}),[e,r,i]),n?z.jsx("div",{className:"flex items-center justify-center h-screen",children:z.jsxs("div",{className:"text-center space-y-4",children:[z.jsx("p",{className:"text-destructive",children:"Failed to load configuration"}),z.jsx("p",{className:"text-sm text-muted-foreground",children:"Please try refreshing the page"})]})}):z.jsx("div",{className:"container mx-auto py-8 px-4",children:z.jsxs(Rke,{defaultValue:"providers",className:"space-y-6",children:[z.jsxs(foe,{className:"w-full justify-start",children:[z.jsx(qw,{value:"providers",children:"Providers"}),z.jsx(qw,{value:"chat-models",children:"Chat Models"}),z.jsx(qw,{value:"embedding-models",children:"Embedding Models"}),z.jsx(qw,{value:"others",children:"Others"})]}),z.jsx(Hw,{value:"providers",children:z.jsx(LAe,{config:t})}),z.jsx(Hw,{value:"chat-models",children:z.jsx(A2e,{config:t})}),z.jsx(Hw,{value:"embedding-models",children:z.jsx(C2e,{config:t})}),z.jsx(Hw,{value:"others",children:z.jsx(R2e,{config:t})})]})})}const oue=[{path:"/",label:"Home",icon:z.jsx(nAe,{}),component:z.jsx(I2e,{})}],XI=768;function N2e(){const[t,e]=$.useState(void 0);return $.useEffect(()=>{const n=window.matchMedia(`(max-width: ${XI-1}px)`),r=()=>{e(window.innerWidth<XI)};return n.addEventListener("change",r),e(window.innerWidth<XI),()=>n.removeEventListener("change",r)},[]),!!t}var O2e="Separator",AG="horizontal",M2e=["horizontal","vertical"],lue=$.forwardRef((t,e)=>{const{decorative:n,orientation:r=AG,...i}=t,a=P2e(r)?r:AG,o=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return z.jsx(Gn.div,{"data-orientation":a,...o,...i,ref:e})});lue.displayName=O2e;function P2e(t){return M2e.includes(t)}var uue=lue;const cue=$.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>z.jsx(uue,{ref:i,decorative:n,orientation:e,className:cn("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));cue.displayName=uue.displayName;var K7="Dialog",[due,ylt]=Hu(K7),[L2e,Xc]=due(K7),hue=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:s=!0}=t,o=$.useRef(null),l=$.useRef(null),[u=!1,d]=Sf({prop:r,defaultProp:i,onChange:a});return z.jsx(L2e,{scope:e,triggerRef:o,contentRef:l,contentId:Fu(),titleId:Fu(),descriptionId:Fu(),open:u,onOpenChange:d,onOpenToggle:$.useCallback(()=>d(h=>!h),[d]),modal:s,children:n})};hue.displayName=K7;var fue="DialogTrigger",D2e=$.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Xc(fue,n),a=Rr(e,i.triggerRef);return z.jsx(Gn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Z7(i.open),...r,ref:a,onClick:un(t.onClick,i.onOpenToggle)})});D2e.displayName=fue;var Y7="DialogPortal",[F2e,pue]=due(Y7,{forceMount:void 0}),mue=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=Xc(Y7,e);return z.jsx(F2e,{scope:e,forceMount:n,children:$.Children.map(r,s=>z.jsx(zo,{present:n||a.open,children:z.jsx(LA,{asChild:!0,container:i,children:s})}))})};mue.displayName=Y7;var lT="DialogOverlay",gue=$.forwardRef((t,e)=>{const n=pue(lT,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=Xc(lT,t.__scopeDialog);return a.modal?z.jsx(zo,{present:r||a.open,children:z.jsx(B2e,{...i,ref:e})}):null});gue.displayName=lT;var B2e=$.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Xc(lT,n);return z.jsx(FA,{as:eu,allowPinchZoom:!0,shards:[i.contentRef],children:z.jsx(Gn.div,{"data-state":Z7(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),y0="DialogContent",yue=$.forwardRef((t,e)=>{const n=pue(y0,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=Xc(y0,t.__scopeDialog);return z.jsx(zo,{present:r||a.open,children:a.modal?z.jsx(U2e,{...i,ref:e}):z.jsx(j2e,{...i,ref:e})})});yue.displayName=y0;var U2e=$.forwardRef((t,e)=>{const n=Xc(y0,t.__scopeDialog),r=$.useRef(null),i=Rr(e,n.contentRef,r);return $.useEffect(()=>{const a=r.current;if(a)return G7(a)},[]),z.jsx(bue,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:un(t.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:un(t.onPointerDownOutside,a=>{const s=a.detail.originalEvent,o=s.button===0&&s.ctrlKey===!0;(s.button===2||o)&&a.preventDefault()}),onFocusOutside:un(t.onFocusOutside,a=>a.preventDefault())})}),j2e=$.forwardRef((t,e)=>{const n=Xc(y0,t.__scopeDialog),r=$.useRef(!1),i=$.useRef(!1);return z.jsx(bue,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;n.triggerRef.current?.contains(s)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),bue=$.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=t,o=Xc(y0,n),l=$.useRef(null),u=Rr(e,l);return N7(),z.jsxs(z.Fragment,{children:[z.jsx(NA,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:z.jsx(dS,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":Z7(o.open),...s,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),z.jsxs(z.Fragment,{children:[z.jsx(z2e,{titleId:o.titleId}),z.jsx(q2e,{contentRef:l,descriptionId:o.descriptionId})]})]})}),X7="DialogTitle",vue=$.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Xc(X7,n);return z.jsx(Gn.h2,{id:i.titleId,...r,ref:e})});vue.displayName=X7;var wue="DialogDescription",_ue=$.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Xc(wue,n);return z.jsx(Gn.p,{id:i.descriptionId,...r,ref:e})});_ue.displayName=wue;var Sue="DialogClose",xue=$.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Xc(Sue,n);return z.jsx(Gn.button,{type:"button",...r,ref:e,onClick:un(t.onClick,()=>i.onOpenChange(!1))})});xue.displayName=Sue;function Z7(t){return t?"open":"closed"}var Eue="DialogTitleWarning",[blt,kue]=gEe(Eue,{contentName:y0,titleName:X7,docsSlug:"dialog"}),z2e=({titleId:t})=>{const e=kue(Eue),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return $.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},$2e="DialogDescriptionWarning",q2e=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${kue($2e).contentName}}.`;return $.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Tue=hue,Aue=mue,zA=gue,$A=yue,qA=vue,HA=_ue,Cue=xue;const H2e=Tue,V2e=Aue,Rue=$.forwardRef(({className:t,...e},n)=>z.jsx(zA,{className:cn("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));Rue.displayName=zA.displayName;const G2e=cS("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Iue=$.forwardRef(({side:t="right",className:e,children:n,...r},i)=>z.jsxs(V2e,{children:[z.jsx(Rue,{}),z.jsxs($A,{ref:i,className:cn(G2e({side:t}),e),...r,children:[n,z.jsxs(Cue,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[z.jsx(IA,{className:"h-4 w-4"}),z.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Iue.displayName=$A.displayName;const W2e=$.forwardRef(({className:t,...e},n)=>z.jsx(qA,{ref:n,className:cn("text-lg font-semibold text-foreground",t),...e}));W2e.displayName=qA.displayName;const K2e=$.forwardRef(({className:t,...e},n)=>z.jsx(HA,{ref:n,className:cn("text-sm text-muted-foreground",t),...e}));K2e.displayName=HA.displayName;function CG({className:t,...e}){return z.jsx("div",{className:cn("animate-pulse rounded-md bg-muted",t),...e})}var[VA,vlt]=Hu("Tooltip",[cv]),GA=cv(),Nue="TooltipProvider",Y2e=700,X6="tooltip.open",[X2e,Q7]=VA(Nue),Oue=t=>{const{__scopeTooltip:e,delayDuration:n=Y2e,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=t,[s,o]=$.useState(!0),l=$.useRef(!1),u=$.useRef(0);return $.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),z.jsx(X2e,{scope:e,isOpenDelayed:s,delayDuration:n,onOpen:$.useCallback(()=>{window.clearTimeout(u.current),o(!1)},[]),onClose:$.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:$.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};Oue.displayName=Nue;var WA="Tooltip",[Z2e,KA]=VA(WA),Mue=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:s,delayDuration:o}=t,l=Q7(WA,t.__scopeTooltip),u=GA(e),[d,h]=$.useState(null),p=Fu(),m=$.useRef(0),v=s??l.disableHoverableContent,w=o??l.delayDuration,k=$.useRef(!1),[T=!1,C]=Sf({prop:r,defaultProp:i,onChange:G=>{G?(l.onOpen(),document.dispatchEvent(new CustomEvent(X6))):l.onClose(),a?.(G)}}),N=$.useMemo(()=>T?k.current?"delayed-open":"instant-open":"closed",[T]),F=$.useCallback(()=>{window.clearTimeout(m.current),m.current=0,k.current=!1,C(!0)},[C]),D=$.useCallback(()=>{window.clearTimeout(m.current),m.current=0,C(!1)},[C]),U=$.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{k.current=!0,C(!0),m.current=0},w)},[w,C]);return $.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),z.jsx(z7,{...u,children:z.jsx(Z2e,{scope:e,contentId:p,open:T,stateAttribute:N,trigger:d,onTriggerChange:h,onTriggerEnter:$.useCallback(()=>{l.isOpenDelayed?U():F()},[l.isOpenDelayed,U,F]),onTriggerLeave:$.useCallback(()=>{v?D():(window.clearTimeout(m.current),m.current=0)},[D,v]),onOpen:F,onClose:D,disableHoverableContent:v,children:n})})};Mue.displayName=WA;var Z6="TooltipTrigger",Pue=$.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=KA(Z6,n),a=Q7(Z6,n),s=GA(n),o=$.useRef(null),l=Rr(e,o,i.onTriggerChange),u=$.useRef(!1),d=$.useRef(!1),h=$.useCallback(()=>u.current=!1,[]);return $.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),z.jsx($7,{asChild:!0,...s,children:z.jsx(Gn.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:un(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:un(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:un(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:un(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:un(t.onBlur,i.onClose),onClick:un(t.onClick,i.onClose)})})});Pue.displayName=Z6;var Q2e="TooltipPortal",[wlt,J2e]=VA(Q2e,{forceMount:void 0}),Db="TooltipContent",Lue=$.forwardRef((t,e)=>{const n=J2e(Db,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=t,s=KA(Db,t.__scopeTooltip);return z.jsx(zo,{present:r||s.open,children:s.disableHoverableContent?z.jsx(Due,{side:i,...a,ref:e}):z.jsx(eIe,{side:i,...a,ref:e})})}),eIe=$.forwardRef((t,e)=>{const n=KA(Db,t.__scopeTooltip),r=Q7(Db,t.__scopeTooltip),i=$.useRef(null),a=Rr(e,i),[s,o]=$.useState(null),{trigger:l,onClose:u}=n,d=i.current,{onPointerInTransitChange:h}=r,p=$.useCallback(()=>{o(null),h(!1)},[h]),m=$.useCallback((v,w)=>{const k=v.currentTarget,T={x:v.clientX,y:v.clientY},C=iIe(T,k.getBoundingClientRect()),N=aIe(T,C),F=sIe(w.getBoundingClientRect()),D=lIe([...N,...F]);o(D),h(!0)},[h]);return $.useEffect(()=>()=>p(),[p]),$.useEffect(()=>{if(l&&d){const v=k=>m(k,d),w=k=>m(k,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",w),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",w)}}},[l,d,m,p]),$.useEffect(()=>{if(s){const v=w=>{const k=w.target,T={x:w.clientX,y:w.clientY},C=l?.contains(k)||d?.contains(k),N=!oIe(T,s);C?p():N&&(p(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,s,u,p]),z.jsx(Due,{...t,ref:a})}),[tIe,nIe]=VA(WA,{isInside:!1}),Due=$.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...o}=t,l=KA(Db,n),u=GA(n),{onClose:d}=l;return $.useEffect(()=>(document.addEventListener(X6,d),()=>document.removeEventListener(X6,d)),[d]),$.useEffect(()=>{if(l.trigger){const h=p=>{p.target?.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),z.jsx(dS,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:z.jsxs(q7,{"data-state":l.stateAttribute,...u,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[z.jsx(Lse,{children:r}),z.jsx(tIe,{scope:n,isInside:!0,children:z.jsx(uRe,{id:l.contentId,role:"tooltip",children:i||r})})]})})});Lue.displayName=Db;var Fue="TooltipArrow",rIe=$.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=GA(n);return nIe(Fue,n).isInside?null:z.jsx(H7,{...i,...r,ref:e})});rIe.displayName=Fue;function iIe(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function aIe(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function sIe(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function oIe(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const o=e[a].x,l=e[a].y,u=e[s].x,d=e[s].y;l>r!=d>r&&n<(u-o)*(r-l)/(d-l)+o&&(i=!i)}return i}function lIe(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),uIe(e)}function uIe(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const a=e[e.length-1],s=e[e.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const a=n[n.length-1],s=n[n.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var cIe=Oue,dIe=Mue,hIe=Pue,Bue=Lue;const Uue=cIe,jue=dIe,zue=hIe,J7=$.forwardRef(({className:t,sideOffset:e=4,...n},r)=>z.jsx(Bue,{ref:r,sideOffset:e,className:cn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));J7.displayName=Bue.displayName;const fIe="sidebar_state",pIe=60*60*24*7,mIe="16rem",gIe="18rem",yIe="3rem",bIe="b",$ue=$.createContext(null);function YA(){const t=$.useContext($ue);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const que=$.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:i,children:a,...s},o)=>{const l=N2e(),[u,d]=$.useState(!1),[h,p]=$.useState(t),m=e??h,v=$.useCallback(C=>{const N=typeof C=="function"?C(m):C;n?n(N):p(N),document.cookie=`${fIe}=${N}; path=/; max-age=${pIe}`},[n,m]),w=$.useCallback(()=>l?d(C=>!C):v(C=>!C),[l,v,d]);$.useEffect(()=>{const C=N=>{N.key===bIe&&(N.metaKey||N.ctrlKey)&&(N.preventDefault(),w())};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[w]);const k=m?"expanded":"collapsed",T=$.useMemo(()=>({state:k,open:m,setOpen:v,isMobile:l,openMobile:u,setOpenMobile:d,toggleSidebar:w}),[k,m,v,l,u,d,w]);return z.jsx($ue.Provider,{value:T,children:z.jsx(Uue,{delayDuration:0,children:z.jsx("div",{style:{"--sidebar-width":mIe,"--sidebar-width-icon":yIe,...i},className:cn("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:o,...s,children:a})})})});que.displayName="SidebarProvider";const Hue=$.forwardRef(({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:r,children:i,...a},s)=>{const{isMobile:o,state:l,openMobile:u,setOpenMobile:d}=YA();return n==="none"?z.jsx("div",{className:cn("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:s,...a,children:i}):o?z.jsx(H2e,{open:u,onOpenChange:d,...a,children:z.jsx(Iue,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":gIe},side:t,children:z.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):z.jsxs("div",{ref:s,className:"group peer hidden md:block text-sidebar-foreground","data-state":l,"data-collapsible":l==="collapsed"?n:"","data-variant":e,"data-side":t,children:[z.jsx("div",{className:cn("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),z.jsx("div",{className:cn("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...a,children:z.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});Hue.displayName="Sidebar";const Vue=$.forwardRef(({className:t,onClick:e,...n},r)=>{const{toggleSidebar:i}=YA();return z.jsxs(la,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:cn("h-7 w-7",t),onClick:a=>{e?.(a),i()},...n,children:[z.jsx(dAe,{}),z.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Vue.displayName="SidebarTrigger";const vIe=$.forwardRef(({className:t,...e},n)=>{const{toggleSidebar:r}=YA();return z.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:cn("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});vIe.displayName="SidebarRail";const wIe=$.forwardRef(({className:t,...e},n)=>z.jsx("main",{ref:n,className:cn("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));wIe.displayName="SidebarInset";const _Ie=$.forwardRef(({className:t,...e},n)=>z.jsx(lm,{ref:n,"data-sidebar":"input",className:cn("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));_Ie.displayName="SidebarInput";const Gue=$.forwardRef(({className:t,...e},n)=>z.jsx("div",{ref:n,"data-sidebar":"header",className:cn("flex flex-col gap-2 p-2",t),...e}));Gue.displayName="SidebarHeader";const SIe=$.forwardRef(({className:t,...e},n)=>z.jsx("div",{ref:n,"data-sidebar":"footer",className:cn("flex flex-col gap-2 p-2",t),...e}));SIe.displayName="SidebarFooter";const xIe=$.forwardRef(({className:t,...e},n)=>z.jsx(cue,{ref:n,"data-sidebar":"separator",className:cn("mx-2 w-auto bg-sidebar-border",t),...e}));xIe.displayName="SidebarSeparator";const Wue=$.forwardRef(({className:t,...e},n)=>z.jsx("div",{ref:n,"data-sidebar":"content",className:cn("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));Wue.displayName="SidebarContent";const Q6=$.forwardRef(({className:t,...e},n)=>z.jsx("div",{ref:n,"data-sidebar":"group",className:cn("relative flex w-full min-w-0 flex-col p-2",t),...e}));Q6.displayName="SidebarGroup";const J6=$.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const i=e?eu:"div";return z.jsx(i,{ref:r,"data-sidebar":"group-label",className:cn("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})});J6.displayName="SidebarGroupLabel";const EIe=$.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const i=e?eu:"button";return z.jsx(i,{ref:r,"data-sidebar":"group-action",className:cn("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...n})});EIe.displayName="SidebarGroupAction";const e5=$.forwardRef(({className:t,...e},n)=>z.jsx("div",{ref:n,"data-sidebar":"group-content",className:cn("w-full text-sm",t),...e}));e5.displayName="SidebarGroupContent";const t5=$.forwardRef(({className:t,...e},n)=>z.jsx("ul",{ref:n,"data-sidebar":"menu",className:cn("flex w-full min-w-0 flex-col gap-1",t),...e}));t5.displayName="SidebarMenu";const n5=$.forwardRef(({className:t,...e},n)=>z.jsx("li",{ref:n,"data-sidebar":"menu-item",className:cn("group/menu-item relative",t),...e}));n5.displayName="SidebarMenuItem";const kIe=cS("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),r5=$.forwardRef(({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:i,className:a,...s},o)=>{const l=t?eu:"button",{isMobile:u,state:d}=YA(),h=z.jsx(l,{ref:o,"data-sidebar":"menu-button","data-size":r,"data-active":e,className:cn(kIe({variant:n,size:r}),a),...s});return i?(typeof i=="string"&&(i={children:i}),z.jsxs(jue,{children:[z.jsx(zue,{asChild:!0,children:h}),z.jsx(J7,{side:"right",align:"center",hidden:d!=="collapsed"||u,...i})]})):h});r5.displayName="SidebarMenuButton";const TIe=$.forwardRef(({className:t,asChild:e=!1,showOnHover:n=!1,...r},i)=>{const a=e?eu:"button";return z.jsx(a,{ref:i,"data-sidebar":"menu-action",className:cn("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...r})});TIe.displayName="SidebarMenuAction";const AIe=$.forwardRef(({className:t,...e},n)=>z.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:cn("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));AIe.displayName="SidebarMenuBadge";const CIe=$.forwardRef(({className:t,showIcon:e=!1,...n},r)=>{const i=$.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return z.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:cn("rounded-md h-8 flex gap-2 px-2 items-center",t),...n,children:[e&&z.jsx(CG,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),z.jsx(CG,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});CIe.displayName="SidebarMenuSkeleton";const RIe=$.forwardRef(({className:t,...e},n)=>z.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:cn("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));RIe.displayName="SidebarMenuSub";const IIe=$.forwardRef(({...t},e)=>z.jsx("li",{ref:e,...t}));IIe.displayName="SidebarMenuSubItem";const NIe=$.forwardRef(({asChild:t=!1,size:e="md",isActive:n,className:r,...i},a)=>{const s=t?eu:"a";return z.jsx(s,{ref:a,"data-sidebar":"menu-sub-button","data-size":e,"data-active":n,className:cn("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...i})});NIe.displayName="SidebarMenuSubButton";function OIe(t,e,n){var r,i;typeof t=="function"?(r=e||[],i=n):(r=[],i=e);var a=_t.useRef({hasResult:!1,result:i,error:null}),s=_t.useReducer(function(u){return u+1},0);s[0];var o=s[1],l=_t.useMemo(function(){var u=typeof t=="function"?t():t;if(!u||typeof u.subscribe!="function")throw t===u?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!a.current.hasResult&&typeof window<"u"&&(typeof u.hasValue!="function"||u.hasValue()))if(typeof u.getValue=="function")a.current.result=u.getValue(),a.current.hasResult=!0;else{var d=u.subscribe(function(h){a.current.result=h,a.current.hasResult=!0});typeof d=="function"?d():d.unsubscribe()}return u},r);if(_t.useDebugValue(a.current.result),_t.useEffect(function(){var u=l.subscribe(function(d){var h=a.current;(h.error!==null||h.result!==d)&&(h.error=null,h.result=d,h.hasResult=!0,o())},function(d){var h=a.current;h.error!==d&&(h.error=d,o())});return typeof u=="function"?u:u.unsubscribe.bind(u)},r),a.current.error)throw a.current.error;return a.current.result}function XA(t,e,n){return OIe(function(){return Mke(t)},e||[],n)}var ZI,RG;function MIe(){return RG||(RG=1,ZI=function(t,e){if(typeof t!="string")throw new TypeError("Expected a string");return e=typeof e>"u"?"_":e,t.replace(/([a-z\d])([A-Z])/g,"$1"+e+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2").toLowerCase()}),ZI}var PIe=MIe();const LIe=Yc(PIe);var oE={exports:{}},IG;function DIe(){if(IG)return oE.exports;IG=1;const t=/[\p{Lu}]/u,e=/[\p{Ll}]/u,n=/^[\p{Lu}](?![\p{Lu}])/gu,r=/([\p{Alpha}\p{N}_]|$)/u,i=/[_.\- ]+/,a=new RegExp("^"+i.source),s=new RegExp(i.source+r.source,"gu"),o=new RegExp("\\d+"+r.source,"gu"),l=(p,m,v)=>{let w=!1,k=!1,T=!1;for(let C=0;C<p.length;C++){const N=p[C];w&&t.test(N)?(p=p.slice(0,C)+"-"+p.slice(C),w=!1,T=k,k=!0,C++):k&&T&&e.test(N)?(p=p.slice(0,C-1)+"-"+p.slice(C-1),T=k,k=!1,w=!0):(w=m(N)===N&&v(N)!==N,T=k,k=v(N)===N&&m(N)!==N)}return p},u=(p,m)=>(n.lastIndex=0,p.replace(n,v=>m(v))),d=(p,m)=>(s.lastIndex=0,o.lastIndex=0,p.replace(s,(v,w)=>m(w)).replace(o,v=>m(v))),h=(p,m)=>{if(!(typeof p=="string"||Array.isArray(p)))throw new TypeError("Expected the input to be `string | string[]`");if(m={pascalCase:!1,preserveConsecutiveUppercase:!1,...m},Array.isArray(p)?p=p.map(T=>T.trim()).filter(T=>T.length).join("-"):p=p.trim(),p.length===0)return"";const v=m.locale===!1?T=>T.toLowerCase():T=>T.toLocaleLowerCase(m.locale),w=m.locale===!1?T=>T.toUpperCase():T=>T.toLocaleUpperCase(m.locale);return p.length===1?m.pascalCase?w(p):v(p):(p!==v(p)&&(p=l(p,v,w)),p=p.replace(a,""),m.preserveConsecutiveUppercase?p=u(p,v):p=v(p),m.pascalCase&&(p=w(p.charAt(0))+p.slice(1)),d(p,w))};return oE.exports=h,oE.exports.default=h,oE.exports}DIe();function FIe(t,e){return e?.[t]||LIe(t)}function BIe(t,e,n){const r={};for(const i in t)Object.hasOwn(t,i)&&(r[e(i,n)]=t[i]);return r}function NG(t){return Array.isArray(t)?[...t]:{...t}}function UIe(t,e){const n=NG(t);for(const[r,i]of Object.entries(e)){const[a,...s]=r.split(".").reverse();let o=n;for(const l of s.reverse()){if(o[l]===void 0)break;o[l]=NG(o[l]),o=o[l]}o[a]!==void 0&&(o[a]={lc:1,type:"secret",id:[i]})}return n}function Kue(t){const e=Object.getPrototypeOf(t);return typeof t.lc_name=="function"&&(typeof e.lc_name!="function"||t.lc_name()!==e.lc_name())?t.lc_name():t.name}class Hd{static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,Kue(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}constructor(e,...n){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_serializable_keys!==void 0?this.lc_kwargs=Object.fromEntries(Object.entries(e||{}).filter(([r])=>this.lc_serializable_keys?.includes(r))):this.lc_kwargs=e??{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof Hd||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const e={},n={},r=Object.keys(this.lc_kwargs).reduce((i,a)=>(i[a]=a in this?this[a]:this.lc_kwargs[a],i),{});for(let i=Object.getPrototypeOf(this);i;i=Object.getPrototypeOf(i))Object.assign(e,Reflect.get(i,"lc_aliases",this)),Object.assign(n,Reflect.get(i,"lc_secrets",this)),Object.assign(r,Reflect.get(i,"lc_attributes",this));return Object.keys(n).forEach(i=>{let a=this,s=r;const[o,...l]=i.split(".").reverse();for(const u of l.reverse()){if(!(u in a)||a[u]===void 0)return;(!(u in s)||s[u]===void 0)&&(typeof a[u]=="object"&&a[u]!=null?s[u]={}:Array.isArray(a[u])&&(s[u]=[])),a=a[u],s=s[u]}o in a&&a[o]!==void 0&&(s[o]=s[o]||a[o])}),{lc:1,type:"constructor",id:this.lc_id,kwargs:BIe(Object.keys(n).length?UIe(r,n):r,FIe,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}}function OG(t,e=eF){t=t.trim();const n=/```(json)?(.*)```/s.exec(t);return e(n?n[2]:t)}function eF(t){if(typeof t>"u")return null;try{return JSON.parse(t)}catch{}let e="";const n=[];let r=!1,i=!1;for(let a of t){if(r)a==='"'&&!i?r=!1:a===`
`&&!i?a="\\n":a==="\\"?i=!i:i=!1;else if(a==='"')r=!0,i=!1;else if(a==="{")n.push("}");else if(a==="[")n.push("]");else if(a==="}"||a==="]")if(n&&n[n.length-1]===a)n.pop();else return null;e+=a}r&&(e+='"');for(let a=n.length-1;a>=0;a-=1)e+=n[a];try{return JSON.parse(e)}catch{return null}}function hv(t,e){return typeof t=="string"?typeof e=="string"?t+e:[{type:"text",text:t},...e]:Array.isArray(e)?ZA(t,e)??[...t,...e]:[...t,{type:"text",text:e}]}function jIe(t,e){return t==="error"||e==="error"?"error":"success"}function zIe(t,e){function n(r,i){if(typeof r!="object"||r===null||r===void 0)return r;if(i>=e)return Array.isArray(r)?"[Array]":"[Object]";if(Array.isArray(r))return r.map(s=>n(s,i+1));const a={};for(const s of Object.keys(r))a[s]=n(r[s],i+1);return a}return JSON.stringify(n(t,0),null,2)}class jd extends Hd{get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}get text(){return typeof this.content=="string"?this.content:""}getType(){return this._getType()}constructor(e,n){typeof e=="string"&&(e={content:e,additional_kwargs:n,response_metadata:{}}),e.additional_kwargs||(e.additional_kwargs={}),e.response_metadata||(e.response_metadata={}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","messages"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"additional_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.content=e.content,this.additional_kwargs=e.additional_kwargs,this.response_metadata=e.response_metadata,this.id=e.id}toDict(){return{type:this._getType(),data:this.toJSON().kwargs}}static lc_name(){return"BaseMessage"}get _printableFields(){return{id:this.id,content:this.content,name:this.name,additional_kwargs:this.additional_kwargs,response_metadata:this.response_metadata}}_updateId(e){this.id=e,this.lc_kwargs.id=e}get[Symbol.toStringTag](){return this.constructor.lc_name()}[Symbol.for("nodejs.util.inspect.custom")](e){if(e===null)return this;const n=zIe(this._printableFields,Math.max(4,e));return`${this.constructor.lc_name()} ${n}`}}function Uo(t,e){const n={...t};for(const[r,i]of Object.entries(e))if(n[r]==null)n[r]=i;else{if(i==null)continue;if(typeof n[r]!=typeof i||Array.isArray(n[r])!==Array.isArray(i))throw new Error(`field[${r}] already exists in the message chunk, but with a different type.`);if(typeof n[r]=="string"){if(r==="type")continue;n[r]+=i}else if(typeof n[r]=="object"&&!Array.isArray(n[r]))n[r]=Uo(n[r],i);else if(Array.isArray(n[r]))n[r]=ZA(n[r],i);else{if(n[r]===i)continue;console.warn(`field[${r}] already exists in this message chunk and value has unsupported type.`)}}return n}function ZA(t,e){if(!(t===void 0&&e===void 0)){if(t===void 0||e===void 0)return t||e;{const n=[...t];for(const r of e)if(typeof r=="object"&&"index"in r&&typeof r.index=="number"){const i=n.findIndex(a=>a.index===r.index);i!==-1?n[i]=Uo(n[i],r):n.push(r)}else{if(typeof r=="object"&&"text"in r&&r.text==="")continue;n.push(r)}return n}}}function $Ie(t,e){if(!t&&!e)throw new Error("Cannot merge two undefined objects.");if(!t||!e)return t||e;if(typeof t!=typeof e)throw new Error(`Cannot merge objects of different types.
Left ${typeof t}
Right ${typeof e}`);if(typeof t=="string"&&typeof e=="string")return t+e;if(Array.isArray(t)&&Array.isArray(e))return ZA(t,e);if(typeof t=="object"&&typeof e=="object")return Uo(t,e);if(t===e)return t;throw new Error(`Can not merge objects of different types.
Left ${t}
Right ${e}`)}class fv extends jd{}function qIe(t){return typeof t.role=="string"}function Oc(t){return typeof t?._getType=="function"}function HIe(t){return Oc(t)&&typeof t.concat=="function"}function VIe(t){return t!=null&&typeof t=="object"&&"lc_direct_tool_output"in t&&t.lc_direct_tool_output===!0}class Fb extends jd{static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}constructor(e,n,r){typeof e=="string"&&(e={content:e,name:r,tool_call_id:n}),super(e),Object.defineProperty(this,"lc_direct_tool_output",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tool_call_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"artifact",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}_getType(){return"tool"}static isInstance(e){return e._getType()==="tool"}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}}class tF extends fv{constructor(e){super(e),Object.defineProperty(this,"tool_call_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"artifact",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}static lc_name(){return"ToolMessageChunk"}_getType(){return"tool"}concat(e){return new tF({content:hv(this.content,e.content),additional_kwargs:Uo(this.additional_kwargs,e.additional_kwargs),response_metadata:Uo(this.response_metadata,e.response_metadata),artifact:$Ie(this.artifact,e.artifact),tool_call_id:this.tool_call_id,id:this.id??e.id,status:jIe(this.status,e.status)})}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}}function GIe(t){const e=[],n=[];for(const r of t)if(r.function){const i=r.function.name;try{const a=JSON.parse(r.function.arguments),s={name:i||"",args:a||{},id:r.id};e.push(s)}catch{n.push({name:i,args:r.function.arguments,id:r.id,error:"Malformed args."})}}else continue;return[e,n]}class yl extends jd{get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}constructor(e,n){let r;if(typeof e=="string")r={content:e,tool_calls:[],invalid_tool_calls:[],additional_kwargs:n??{}};else{r=e;const i=r.additional_kwargs?.tool_calls,a=r.tool_calls;i!=null&&i.length>0&&(a===void 0||a.length===0)&&console.warn(["New LangChain packages are available that more efficiently handle",`tool calling.

Please upgrade your packages to versions that set`,"message tool calls. e.g., `yarn add @langchain/anthropic`,","yarn add @langchain/openai`, etc."].join(" "));try{if(i!=null&&a===void 0){const[s,o]=GIe(i);r.tool_calls=s??[],r.invalid_tool_calls=o??[]}else r.tool_calls=r.tool_calls??[],r.invalid_tool_calls=r.invalid_tool_calls??[]}catch{r.tool_calls=[],r.invalid_tool_calls=[]}}super(r),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof r!="string"&&(this.tool_calls=r.tool_calls??this.tool_calls,this.invalid_tool_calls=r.invalid_tool_calls??this.invalid_tool_calls),this.usage_metadata=r.usage_metadata}static lc_name(){return"AIMessage"}_getType(){return"ai"}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}}function pv(t){return t._getType()==="ai"}function MG(t){return t._getType()==="ai"}class _s extends fv{constructor(e){let n;if(typeof e=="string")n={content:e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if(e.tool_call_chunks===void 0)n={...e,tool_calls:e.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[],usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0};else{const r=[],i=[];for(const a of e.tool_call_chunks){let s={};try{if(s=eF(a.args||"{}"),s===null||typeof s!="object"||Array.isArray(s))throw new Error("Malformed tool call chunk args.");r.push({name:a.name??"",args:s,id:a.id,type:"tool_call"})}catch{i.push({name:a.name,args:a.args,id:a.id,error:"Malformed args.",type:"invalid_tool_call"})}}n={...e,tool_calls:r,invalid_tool_calls:i,usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0}}super(n),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tool_call_chunks",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_chunks=n.tool_call_chunks??this.tool_call_chunks,this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=n.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}_getType(){return"ai"}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,tool_call_chunks:this.tool_call_chunks,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}concat(e){const n={content:hv(this.content,e.content),additional_kwargs:Uo(this.additional_kwargs,e.additional_kwargs),response_metadata:Uo(this.response_metadata,e.response_metadata),tool_call_chunks:[],id:this.id??e.id};if(this.tool_call_chunks!==void 0||e.tool_call_chunks!==void 0){const r=ZA(this.tool_call_chunks,e.tool_call_chunks);r!==void 0&&r.length>0&&(n.tool_call_chunks=r)}if(this.usage_metadata!==void 0||e.usage_metadata!==void 0){const r={...(this.usage_metadata?.input_token_details?.audio!==void 0||e.usage_metadata?.input_token_details?.audio!==void 0)&&{audio:(this.usage_metadata?.input_token_details?.audio??0)+(e.usage_metadata?.input_token_details?.audio??0)},...(this.usage_metadata?.input_token_details?.cache_read!==void 0||e.usage_metadata?.input_token_details?.cache_read!==void 0)&&{cache_read:(this.usage_metadata?.input_token_details?.cache_read??0)+(e.usage_metadata?.input_token_details?.cache_read??0)},...(this.usage_metadata?.input_token_details?.cache_creation!==void 0||e.usage_metadata?.input_token_details?.cache_creation!==void 0)&&{cache_creation:(this.usage_metadata?.input_token_details?.cache_creation??0)+(e.usage_metadata?.input_token_details?.cache_creation??0)}},i={...(this.usage_metadata?.output_token_details?.audio!==void 0||e.usage_metadata?.output_token_details?.audio!==void 0)&&{audio:(this.usage_metadata?.output_token_details?.audio??0)+(e.usage_metadata?.output_token_details?.audio??0)},...(this.usage_metadata?.output_token_details?.reasoning!==void 0||e.usage_metadata?.output_token_details?.reasoning!==void 0)&&{reasoning:(this.usage_metadata?.output_token_details?.reasoning??0)+(e.usage_metadata?.output_token_details?.reasoning??0)}},a=this.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},s=e.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},o={input_tokens:a.input_tokens+s.input_tokens,output_tokens:a.output_tokens+s.output_tokens,total_tokens:a.total_tokens+s.total_tokens,...Object.keys(r).length>0&&{input_token_details:r},...Object.keys(i).length>0&&{output_token_details:i}};n.usage_metadata=o}return new _s(n)}}class Bf extends jd{static lc_name(){return"ChatMessage"}static _chatMessageClass(){return Bf}constructor(e,n){typeof e=="string"&&(e={content:e,role:n}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}static isInstance(e){return e._getType()==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}}class QA extends fv{static lc_name(){return"ChatMessageChunk"}constructor(e,n){typeof e=="string"&&(e={content:e,role:n}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}concat(e){return new QA({content:hv(this.content,e.content),additional_kwargs:Uo(this.additional_kwargs,e.additional_kwargs),response_metadata:Uo(this.response_metadata,e.response_metadata),role:this.role,id:this.id??e.id})}get _printableFields(){return{...super._printableFields,role:this.role}}}class WIe extends jd{static lc_name(){return"FunctionMessage"}constructor(e,n){typeof e=="string"&&(e={content:e,name:n}),super(e)}_getType(){return"function"}}class JA extends fv{static lc_name(){return"FunctionMessageChunk"}_getType(){return"function"}concat(e){return new JA({content:hv(this.content,e.content),additional_kwargs:Uo(this.additional_kwargs,e.additional_kwargs),response_metadata:Uo(this.response_metadata,e.response_metadata),name:this.name??"",id:this.id??e.id})}}class Po extends jd{static lc_name(){return"HumanMessage"}_getType(){return"human"}}class eC extends fv{static lc_name(){return"HumanMessageChunk"}_getType(){return"human"}concat(e){return new eC({content:hv(this.content,e.content),additional_kwargs:Uo(this.additional_kwargs,e.additional_kwargs),response_metadata:Uo(this.response_metadata,e.response_metadata),id:this.id??e.id})}}function KIe(t){return t.getType()==="human"}class uT extends jd{static lc_name(){return"SystemMessage"}_getType(){return"system"}}class o1 extends fv{static lc_name(){return"SystemMessageChunk"}_getType(){return"system"}concat(e){return new o1({content:hv(this.content,e.content),additional_kwargs:Uo(this.additional_kwargs,e.additional_kwargs),response_metadata:Uo(this.response_metadata,e.response_metadata),id:this.id??e.id})}}function tC(t,e){return t.lc_error_code=e,t.message=`${t.message}

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/${e}/
`,t}function nF(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="tool_call")}class cT extends Error{constructor(e,n){super(e),Object.defineProperty(this,"output",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.output=n}}function YIe(t){return nF(t)?t:typeof t.id=="string"&&t.type==="function"&&typeof t.function=="object"&&t.function!==null&&"arguments"in t.function&&typeof t.function.arguments=="string"&&"name"in t.function&&typeof t.function.name=="string"?{id:t.id,args:JSON.parse(t.function.arguments),name:t.function.name,type:"tool_call"}:t}function XIe(t){return typeof t=="object"&&t!=null&&t.lc===1&&Array.isArray(t.id)&&t.kwargs!=null&&typeof t.kwargs=="object"}function QI(t){let e,n;if(XIe(t)){const r=t.id.at(-1);r==="HumanMessage"||r==="HumanMessageChunk"?e="user":r==="AIMessage"||r==="AIMessageChunk"?e="assistant":r==="SystemMessage"||r==="SystemMessageChunk"?e="system":r==="FunctionMessage"||r==="FunctionMessageChunk"?e="function":r==="ToolMessage"||r==="ToolMessageChunk"?e="tool":e="unknown",n=t.kwargs}else{const{type:r,...i}=t;e=r,n=i}if(e==="human"||e==="user")return new Po(n);if(e==="ai"||e==="assistant"){const{tool_calls:r,...i}=n;if(!Array.isArray(r))return new yl(n);const a=r.map(YIe);return new yl({...i,tool_calls:a})}else{if(e==="system")return new uT(n);if(e==="developer")return new uT({...n,additional_kwargs:{...n.additional_kwargs,__openai_role__:"developer"}});if(e==="tool"&&"tool_call_id"in n)return new Fb({...n,content:n.content,tool_call_id:n.tool_call_id,name:n.name});throw tC(new Error(`Unable to coerce message from array: only human, AI, system, developer, or tool message coercion is currently supported.

Received: ${JSON.stringify(t,null,2)}`),"MESSAGE_COERCION_FAILURE")}}function fm(t){if(typeof t=="string")return new Po(t);if(Oc(t))return t;if(Array.isArray(t)){const[e,n]=t;return QI({type:e,content:n})}else if(qIe(t)){const{role:e,...n}=t;return QI({...n,type:e})}else return QI(t)}function Yue(t,e="Human",n="AI"){const r=[];for(const i of t){let a;if(i._getType()==="human")a=e;else if(i._getType()==="ai")a=n;else if(i._getType()==="system")a="System";else if(i._getType()==="function")a="Function";else if(i._getType()==="tool")a="Tool";else if(i._getType()==="generic")a=i.role;else throw new Error(`Got unsupported message type: ${i._getType()}`);const s=i.name?`${i.name}, `:"",o=typeof i.content=="string"?i.content:JSON.stringify(i.content,null,2);r.push(`${a}: ${s}${o}`)}return r.join(`
`)}function ZIe(t){if(t.data!==void 0)return t;{const e=t;return{type:e.type,data:{content:e.text,role:e.role,name:void 0,tool_call_id:void 0}}}}function Xue(t){const e=ZIe(t);switch(e.type){case"human":return new Po(e.data);case"ai":return new yl(e.data);case"system":return new uT(e.data);case"function":if(e.data.name===void 0)throw new Error("Name must be defined for function messages");return new WIe(e.data);case"tool":if(e.data.tool_call_id===void 0)throw new Error("Tool call ID must be defined for tool messages");return new Fb(e.data);case"generic":{if(e.data.role===void 0)throw new Error("Role must be defined for chat messages");return new Bf(e.data)}default:throw new Error(`Got unexpected type: ${e.type}`)}}function QIe(t){return t.map(e=>e.toDict())}function JIe(t){const e=t._getType();if(e==="human")return new eC({...t});if(e==="ai"){let n={...t};return"tool_calls"in n&&(n={...n,tool_call_chunks:n.tool_calls?.map(r=>({...r,type:"tool_call_chunk",index:void 0,args:JSON.stringify(r.args)}))}),new _s({...n})}else{if(e==="system")return new o1({...t});if(e==="function")return new JA({...t});if(Bf.isInstance(t))return new QA({...t});throw new Error("Unknown message type.")}}var Gr;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},t.find=(i,a)=>{for(const s of i)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Gr||(Gr={}));var i5;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(i5||(i5={}));const fn=Gr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),df=t=>{switch(typeof t){case"undefined":return fn.undefined;case"string":return fn.string;case"number":return isNaN(t)?fn.nan:fn.number;case"boolean":return fn.boolean;case"function":return fn.function;case"bigint":return fn.bigint;case"symbol":return fn.symbol;case"object":return Array.isArray(t)?fn.array:t===null?fn.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?fn.promise:typeof Map<"u"&&t instanceof Map?fn.map:typeof Set<"u"&&t instanceof Set?fn.set:typeof Date<"u"&&t instanceof Date?fn.date:fn.object;default:return fn.unknown}},Vt=Gr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),eNe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ql extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let o=r,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(n(s))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return i(this),r}static assert(e){if(!(e instanceof Ql))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Gr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ql.create=t=>new Ql(t);const Bb=(t,e)=>{let n;switch(t.code){case Vt.invalid_type:t.received===fn.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Vt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Gr.jsonStringifyReplacer)}`;break;case Vt.unrecognized_keys:n=`Unrecognized key(s) in object: ${Gr.joinValues(t.keys,", ")}`;break;case Vt.invalid_union:n="Invalid input";break;case Vt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Gr.joinValues(t.options)}`;break;case Vt.invalid_enum_value:n=`Invalid enum value. Expected ${Gr.joinValues(t.options)}, received '${t.received}'`;break;case Vt.invalid_arguments:n="Invalid function arguments";break;case Vt.invalid_return_type:n="Invalid function return type";break;case Vt.invalid_date:n="Invalid date";break;case Vt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Gr.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Vt.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Vt.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Vt.custom:n="Invalid input";break;case Vt.invalid_intersection_types:n="Intersection results could not be merged";break;case Vt.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Vt.not_finite:n="Number must be finite";break;default:n=e.defaultError,Gr.assertNever(t)}return{message:n}};let Zue=Bb;function tNe(t){Zue=t}function dT(){return Zue}const hT=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)o=u(s,{data:e,defaultError:o}).message;return{...i,path:a,message:o}},nNe=[];function ln(t,e){const n=dT(),r=hT({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Bb?void 0:Bb].filter(i=>!!i)});t.common.issues.push(r)}class io{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Yn;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,s=await i.value;r.push({key:a,value:s})}return io.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return Yn;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[a.value]=s.value)}return{status:e.value,value:r}}}const Yn=Object.freeze({status:"aborted"}),sb=t=>({status:"dirty",value:t}),jo=t=>({status:"valid",value:t}),a5=t=>t.status==="aborted",s5=t=>t.status==="dirty",b0=t=>t.status==="valid",l1=t=>typeof Promise<"u"&&t instanceof Promise;function fT(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Que(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var kn;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(kn||(kn={}));var Kw,Yw;class Vd{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const PG=(t,e)=>{if(b0(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ql(t.common.issues);return this._error=n,this._error}}};function lr(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>{var l,u;const{message:d}=t;return s.code==="invalid_enum_value"?{message:d??o.defaultError}:typeof o.data>"u"?{message:(l=d??r)!==null&&l!==void 0?l:o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:o.defaultError}},description:i}}class br{get description(){return this._def.description}_getType(e){return df(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:df(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new io,ctx:{common:e.parent.common,data:e.data,parsedType:df(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(l1(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:df(e)},a=this._parseSync({data:e,path:i.path,parent:i});return PG(i,a)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:df(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:i});return b0(a)?{value:a.value}:{issues:i.common.issues}}catch(a){!((r=(n=a?.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(a=>b0(a)?{value:a.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:df(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(l1(i)?i:Promise.resolve(i));return PG(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const s=e(i),o=()=>a.addIssue({code:Vt.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Gc({schema:this,typeName:Et.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Bc.create(this,this._def)}nullable(){return Nm.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Fc.create(this)}promise(){return jb.create(this,this._def)}or(e){return h1.create([this,e],this._def)}and(e){return f1.create(this,e,this._def)}transform(e){return new Gc({...lr(this._def),schema:this,typeName:Et.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new b1({...lr(this._def),innerType:this,defaultValue:n,typeName:Et.ZodDefault})}brand(){return new rF({typeName:Et.ZodBranded,type:this,...lr(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new v1({...lr(this._def),innerType:this,catchValue:n,typeName:Et.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return pS.create(this,e)}readonly(){return w1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const rNe=/^c[^\s-]{8,}$/i,iNe=/^[0-9a-z]+$/,aNe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,sNe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,oNe=/^[a-z0-9_-]{21}$/i,lNe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,uNe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,cNe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,dNe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let JI;const hNe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,fNe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,pNe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,mNe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,gNe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,yNe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Jue="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",bNe=new RegExp(`^${Jue}$`);function ece(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function vNe(t){return new RegExp(`^${ece(t)}$`)}function tce(t){let e=`${Jue}T${ece(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function wNe(t,e){return!!((e==="v4"||!e)&&hNe.test(t)||(e==="v6"||!e)&&pNe.test(t))}function _Ne(t,e){if(!lNe.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function SNe(t,e){return!!((e==="v4"||!e)&&fNe.test(t)||(e==="v6"||!e)&&mNe.test(t))}class Mc extends br{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==fn.string){const a=this._getOrReturnCtx(e);return ln(a,{code:Vt.invalid_type,expected:fn.string,received:a.parsedType}),Yn}const r=new io;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),ln(i,{code:Vt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),ln(i,{code:Vt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(e,i),s?ln(i,{code:Vt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&ln(i,{code:Vt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")cNe.test(e.data)||(i=this._getOrReturnCtx(e,i),ln(i,{validation:"email",code:Vt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")JI||(JI=new RegExp(dNe,"u")),JI.test(e.data)||(i=this._getOrReturnCtx(e,i),ln(i,{validation:"emoji",code:Vt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")sNe.test(e.data)||(i=this._getOrReturnCtx(e,i),ln(i,{validation:"uuid",code:Vt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")oNe.test(e.data)||(i=this._getOrReturnCtx(e,i),ln(i,{validation:"nanoid",code:Vt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")rNe.test(e.data)||(i=this._getOrReturnCtx(e,i),ln(i,{validation:"cuid",code:Vt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")iNe.test(e.data)||(i=this._getOrReturnCtx(e,i),ln(i,{validation:"cuid2",code:Vt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")aNe.test(e.data)||(i=this._getOrReturnCtx(e,i),ln(i,{validation:"ulid",code:Vt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ln(i,{validation:"url",code:Vt.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ln(i,{validation:"regex",code:Vt.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),ln(i,{code:Vt.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),ln(i,{code:Vt.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),ln(i,{code:Vt.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?tce(a).test(e.data)||(i=this._getOrReturnCtx(e,i),ln(i,{code:Vt.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?bNe.test(e.data)||(i=this._getOrReturnCtx(e,i),ln(i,{code:Vt.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?vNe(a).test(e.data)||(i=this._getOrReturnCtx(e,i),ln(i,{code:Vt.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?uNe.test(e.data)||(i=this._getOrReturnCtx(e,i),ln(i,{validation:"duration",code:Vt.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?wNe(e.data,a.version)||(i=this._getOrReturnCtx(e,i),ln(i,{validation:"ip",code:Vt.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?_Ne(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),ln(i,{validation:"jwt",code:Vt.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?SNe(e.data,a.version)||(i=this._getOrReturnCtx(e,i),ln(i,{validation:"cidr",code:Vt.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?gNe.test(e.data)||(i=this._getOrReturnCtx(e,i),ln(i,{validation:"base64",code:Vt.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?yNe.test(e.data)||(i=this._getOrReturnCtx(e,i),ln(i,{validation:"base64url",code:Vt.invalid_string,message:a.message}),r.dirty()):Gr.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Vt.invalid_string,...kn.errToObj(r)})}_addCheck(e){return new Mc({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...kn.errToObj(e)})}url(e){return this._addCheck({kind:"url",...kn.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...kn.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...kn.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...kn.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...kn.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...kn.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...kn.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...kn.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...kn.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...kn.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...kn.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...kn.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,local:(r=e?.local)!==null&&r!==void 0?r:!1,...kn.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...kn.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...kn.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...kn.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...kn.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...kn.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...kn.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...kn.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...kn.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...kn.errToObj(n)})}nonempty(e){return this.min(1,kn.errToObj(e))}trim(){return new Mc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Mc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Mc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Mc.create=t=>{var e;return new Mc({checks:[],typeName:Et.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...lr(t)})};function xNe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=parseInt(t.toFixed(i).replace(".","")),s=parseInt(e.toFixed(i).replace(".",""));return a%s/Math.pow(10,i)}class Cm extends br{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==fn.number){const a=this._getOrReturnCtx(e);return ln(a,{code:Vt.invalid_type,expected:fn.number,received:a.parsedType}),Yn}let r;const i=new io;for(const a of this._def.checks)a.kind==="int"?Gr.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ln(r,{code:Vt.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),ln(r,{code:Vt.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),ln(r,{code:Vt.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?xNe(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),ln(r,{code:Vt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ln(r,{code:Vt.not_finite,message:a.message}),i.dirty()):Gr.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,kn.toString(n))}gt(e,n){return this.setLimit("min",e,!1,kn.toString(n))}lte(e,n){return this.setLimit("max",e,!0,kn.toString(n))}lt(e,n){return this.setLimit("max",e,!1,kn.toString(n))}setLimit(e,n,r,i){return new Cm({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:kn.toString(i)}]})}_addCheck(e){return new Cm({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:kn.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:kn.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:kn.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:kn.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:kn.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:kn.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:kn.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:kn.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:kn.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Gr.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Cm.create=t=>new Cm({checks:[],typeName:Et.ZodNumber,coerce:t?.coerce||!1,...lr(t)});class Rm extends br{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==fn.bigint)return this._getInvalidInput(e);let r;const i=new io;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),ln(r,{code:Vt.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),ln(r,{code:Vt.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ln(r,{code:Vt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Gr.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ln(n,{code:Vt.invalid_type,expected:fn.bigint,received:n.parsedType}),Yn}gte(e,n){return this.setLimit("min",e,!0,kn.toString(n))}gt(e,n){return this.setLimit("min",e,!1,kn.toString(n))}lte(e,n){return this.setLimit("max",e,!0,kn.toString(n))}lt(e,n){return this.setLimit("max",e,!1,kn.toString(n))}setLimit(e,n,r,i){return new Rm({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:kn.toString(i)}]})}_addCheck(e){return new Rm({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:kn.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:kn.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:kn.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:kn.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:kn.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Rm.create=t=>{var e;return new Rm({checks:[],typeName:Et.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...lr(t)})};class u1 extends br{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==fn.boolean){const r=this._getOrReturnCtx(e);return ln(r,{code:Vt.invalid_type,expected:fn.boolean,received:r.parsedType}),Yn}return jo(e.data)}}u1.create=t=>new u1({typeName:Et.ZodBoolean,coerce:t?.coerce||!1,...lr(t)});class v0 extends br{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==fn.date){const a=this._getOrReturnCtx(e);return ln(a,{code:Vt.invalid_type,expected:fn.date,received:a.parsedType}),Yn}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return ln(a,{code:Vt.invalid_date}),Yn}const r=new io;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),ln(i,{code:Vt.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),ln(i,{code:Vt.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Gr.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new v0({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:kn.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:kn.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}v0.create=t=>new v0({checks:[],coerce:t?.coerce||!1,typeName:Et.ZodDate,...lr(t)});class pT extends br{_parse(e){if(this._getType(e)!==fn.symbol){const r=this._getOrReturnCtx(e);return ln(r,{code:Vt.invalid_type,expected:fn.symbol,received:r.parsedType}),Yn}return jo(e.data)}}pT.create=t=>new pT({typeName:Et.ZodSymbol,...lr(t)});class c1 extends br{_parse(e){if(this._getType(e)!==fn.undefined){const r=this._getOrReturnCtx(e);return ln(r,{code:Vt.invalid_type,expected:fn.undefined,received:r.parsedType}),Yn}return jo(e.data)}}c1.create=t=>new c1({typeName:Et.ZodUndefined,...lr(t)});class d1 extends br{_parse(e){if(this._getType(e)!==fn.null){const r=this._getOrReturnCtx(e);return ln(r,{code:Vt.invalid_type,expected:fn.null,received:r.parsedType}),Yn}return jo(e.data)}}d1.create=t=>new d1({typeName:Et.ZodNull,...lr(t)});class Ub extends br{constructor(){super(...arguments),this._any=!0}_parse(e){return jo(e.data)}}Ub.create=t=>new Ub({typeName:Et.ZodAny,...lr(t)});class s0 extends br{constructor(){super(...arguments),this._unknown=!0}_parse(e){return jo(e.data)}}s0.create=t=>new s0({typeName:Et.ZodUnknown,...lr(t)});class Tf extends br{_parse(e){const n=this._getOrReturnCtx(e);return ln(n,{code:Vt.invalid_type,expected:fn.never,received:n.parsedType}),Yn}}Tf.create=t=>new Tf({typeName:Et.ZodNever,...lr(t)});class mT extends br{_parse(e){if(this._getType(e)!==fn.undefined){const r=this._getOrReturnCtx(e);return ln(r,{code:Vt.invalid_type,expected:fn.void,received:r.parsedType}),Yn}return jo(e.data)}}mT.create=t=>new mT({typeName:Et.ZodVoid,...lr(t)});class Fc extends br{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==fn.array)return ln(n,{code:Vt.invalid_type,expected:fn.array,received:n.parsedType}),Yn;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(s||o)&&(ln(n,{code:s?Vt.too_big:Vt.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(ln(n,{code:Vt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(ln(n,{code:Vt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,o)=>i.type._parseAsync(new Vd(n,s,n.path,o)))).then(s=>io.mergeArray(r,s));const a=[...n.data].map((s,o)=>i.type._parseSync(new Vd(n,s,n.path,o)));return io.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new Fc({...this._def,minLength:{value:e,message:kn.toString(n)}})}max(e,n){return new Fc({...this._def,maxLength:{value:e,message:kn.toString(n)}})}length(e,n){return new Fc({...this._def,exactLength:{value:e,message:kn.toString(n)}})}nonempty(e){return this.min(1,e)}}Fc.create=(t,e)=>new Fc({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Et.ZodArray,...lr(e)});function My(t){if(t instanceof sa){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Bc.create(My(r))}return new sa({...t._def,shape:()=>e})}else return t instanceof Fc?new Fc({...t._def,type:My(t.element)}):t instanceof Bc?Bc.create(My(t.unwrap())):t instanceof Nm?Nm.create(My(t.unwrap())):t instanceof Gd?Gd.create(t.items.map(e=>My(e))):t}class sa extends br{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Gr.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==fn.object){const u=this._getOrReturnCtx(e);return ln(u,{code:Vt.invalid_type,expected:fn.object,received:u.parsedType}),Yn}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof Tf&&this._def.unknownKeys==="strip"))for(const u in i.data)s.includes(u)||o.push(u);const l=[];for(const u of s){const d=a[u],h=i.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new Vd(i,h,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Tf){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")o.length>0&&(ln(i,{code:Vt.unrecognized_keys,keys:o}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const h=i.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new Vd(i,h,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const h=await d.key,p=await d.value;u.push({key:h,value:p,alwaysSet:d.alwaysSet})}return u}).then(u=>io.mergeObjectSync(r,u)):io.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return kn.errToObj,new sa({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,a,s,o;const l=(s=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,n,r).message)!==null&&s!==void 0?s:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=kn.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new sa({...this._def,unknownKeys:"strip"})}passthrough(){return new sa({...this._def,unknownKeys:"passthrough"})}extend(e){return new sa({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new sa({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Et.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new sa({...this._def,catchall:e})}pick(e){const n={};return Gr.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new sa({...this._def,shape:()=>n})}omit(e){const n={};return Gr.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new sa({...this._def,shape:()=>n})}deepPartial(){return My(this)}partial(e){const n={};return Gr.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new sa({...this._def,shape:()=>n})}required(e){const n={};return Gr.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Bc;)a=a._def.innerType;n[r]=a}}),new sa({...this._def,shape:()=>n})}keyof(){return nce(Gr.objectKeys(this.shape))}}sa.create=(t,e)=>new sa({shape:()=>t,unknownKeys:"strip",catchall:Tf.create(),typeName:Et.ZodObject,...lr(e)});sa.strictCreate=(t,e)=>new sa({shape:()=>t,unknownKeys:"strict",catchall:Tf.create(),typeName:Et.ZodObject,...lr(e)});sa.lazycreate=(t,e)=>new sa({shape:t,unknownKeys:"strip",catchall:Tf.create(),typeName:Et.ZodObject,...lr(e)});class h1 extends br{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new Ql(o.ctx.common.issues));return ln(n,{code:Vt.invalid_union,unionErrors:s}),Yn}if(n.common.async)return Promise.all(r.map(async a=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(l=>new Ql(l));return ln(n,{code:Vt.invalid_union,unionErrors:o}),Yn}}get options(){return this._def.options}}h1.create=(t,e)=>new h1({options:t,typeName:Et.ZodUnion,...lr(e)});const Qh=t=>t instanceof m1?Qh(t.schema):t instanceof Gc?Qh(t.innerType()):t instanceof g1?[t.value]:t instanceof Im?t.options:t instanceof y1?Gr.objectValues(t.enum):t instanceof b1?Qh(t._def.innerType):t instanceof c1?[void 0]:t instanceof d1?[null]:t instanceof Bc?[void 0,...Qh(t.unwrap())]:t instanceof Nm?[null,...Qh(t.unwrap())]:t instanceof rF||t instanceof w1?Qh(t.unwrap()):t instanceof v1?Qh(t._def.innerType):[];class nC extends br{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==fn.object)return ln(n,{code:Vt.invalid_type,expected:fn.object,received:n.parsedType}),Yn;const r=this.discriminator,i=n.data[r],a=this.optionsMap.get(i);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(ln(n,{code:Vt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Yn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const a of n){const s=Qh(a.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of s){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,a)}}return new nC({typeName:Et.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...lr(r)})}}function o5(t,e){const n=df(t),r=df(e);if(t===e)return{valid:!0,data:t};if(n===fn.object&&r===fn.object){const i=Gr.objectKeys(e),a=Gr.objectKeys(t).filter(o=>i.indexOf(o)!==-1),s={...t,...e};for(const o of a){const l=o5(t[o],e[o]);if(!l.valid)return{valid:!1};s[o]=l.data}return{valid:!0,data:s}}else if(n===fn.array&&r===fn.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const s=t[a],o=e[a],l=o5(s,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===fn.date&&r===fn.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class f1 extends br{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,s)=>{if(a5(a)||a5(s))return Yn;const o=o5(a.value,s.value);return o.valid?((s5(a)||s5(s))&&n.dirty(),{status:n.value,value:o.data}):(ln(r,{code:Vt.invalid_intersection_types}),Yn)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}f1.create=(t,e,n)=>new f1({left:t,right:e,typeName:Et.ZodIntersection,...lr(n)});class Gd extends br{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==fn.array)return ln(r,{code:Vt.invalid_type,expected:fn.array,received:r.parsedType}),Yn;if(r.data.length<this._def.items.length)return ln(r,{code:Vt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Yn;!this._def.rest&&r.data.length>this._def.items.length&&(ln(r,{code:Vt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((s,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Vd(r,s,r.path,o)):null}).filter(s=>!!s);return r.common.async?Promise.all(a).then(s=>io.mergeArray(n,s)):io.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new Gd({...this._def,rest:e})}}Gd.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Gd({items:t,typeName:Et.ZodTuple,rest:null,...lr(e)})};class p1 extends br{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==fn.object)return ln(r,{code:Vt.invalid_type,expected:fn.object,received:r.parsedType}),Yn;const i=[],a=this._def.keyType,s=this._def.valueType;for(const o in r.data)i.push({key:a._parse(new Vd(r,o,r.path,o)),value:s._parse(new Vd(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?io.mergeObjectAsync(n,i):io.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof br?new p1({keyType:e,valueType:n,typeName:Et.ZodRecord,...lr(r)}):new p1({keyType:Mc.create(),valueType:e,typeName:Et.ZodRecord,...lr(n)})}}class gT extends br{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==fn.map)return ln(r,{code:Vt.invalid_type,expected:fn.map,received:r.parsedType}),Yn;const i=this._def.keyType,a=this._def.valueType,s=[...r.data.entries()].map(([o,l],u)=>({key:i._parse(new Vd(r,o,r.path,[u,"key"])),value:a._parse(new Vd(r,l,r.path,[u,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of s){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return Yn;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(u.value,d.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of s){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return Yn;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(u.value,d.value)}return{status:n.value,value:o}}}}gT.create=(t,e,n)=>new gT({valueType:e,keyType:t,typeName:Et.ZodMap,...lr(n)});class w0 extends br{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==fn.set)return ln(r,{code:Vt.invalid_type,expected:fn.set,received:r.parsedType}),Yn;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(ln(r,{code:Vt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(ln(r,{code:Vt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function s(l){const u=new Set;for(const d of l){if(d.status==="aborted")return Yn;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const o=[...r.data.values()].map((l,u)=>a._parse(new Vd(r,l,r.path,u)));return r.common.async?Promise.all(o).then(l=>s(l)):s(o)}min(e,n){return new w0({...this._def,minSize:{value:e,message:kn.toString(n)}})}max(e,n){return new w0({...this._def,maxSize:{value:e,message:kn.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}w0.create=(t,e)=>new w0({valueType:t,minSize:null,maxSize:null,typeName:Et.ZodSet,...lr(e)});class Sb extends br{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==fn.function)return ln(n,{code:Vt.invalid_type,expected:fn.function,received:n.parsedType}),Yn;function r(o,l){return hT({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,dT(),Bb].filter(u=>!!u),issueData:{code:Vt.invalid_arguments,argumentsError:l}})}function i(o,l){return hT({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,dT(),Bb].filter(u=>!!u),issueData:{code:Vt.invalid_return_type,returnTypeError:l}})}const a={errorMap:n.common.contextualErrorMap},s=n.data;if(this._def.returns instanceof jb){const o=this;return jo(async function(...l){const u=new Ql([]),d=await o._def.args.parseAsync(l,a).catch(m=>{throw u.addIssue(r(l,m)),u}),h=await Reflect.apply(s,this,d);return await o._def.returns._def.type.parseAsync(h,a).catch(m=>{throw u.addIssue(i(h,m)),u})})}else{const o=this;return jo(function(...l){const u=o._def.args.safeParse(l,a);if(!u.success)throw new Ql([r(l,u.error)]);const d=Reflect.apply(s,this,u.data),h=o._def.returns.safeParse(d,a);if(!h.success)throw new Ql([i(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Sb({...this._def,args:Gd.create(e).rest(s0.create())})}returns(e){return new Sb({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Sb({args:e||Gd.create([]).rest(s0.create()),returns:n||s0.create(),typeName:Et.ZodFunction,...lr(r)})}}class m1 extends br{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}m1.create=(t,e)=>new m1({getter:t,typeName:Et.ZodLazy,...lr(e)});class g1 extends br{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ln(n,{received:n.data,code:Vt.invalid_literal,expected:this._def.value}),Yn}return{status:"valid",value:e.data}}get value(){return this._def.value}}g1.create=(t,e)=>new g1({value:t,typeName:Et.ZodLiteral,...lr(e)});function nce(t,e){return new Im({values:t,typeName:Et.ZodEnum,...lr(e)})}class Im extends br{constructor(){super(...arguments),Kw.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ln(n,{expected:Gr.joinValues(r),received:n.parsedType,code:Vt.invalid_type}),Yn}if(fT(this,Kw)||Que(this,Kw,new Set(this._def.values)),!fT(this,Kw).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ln(n,{received:n.data,code:Vt.invalid_enum_value,options:r}),Yn}return jo(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Im.create(e,{...this._def,...n})}exclude(e,n=this._def){return Im.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Kw=new WeakMap;Im.create=nce;class y1 extends br{constructor(){super(...arguments),Yw.set(this,void 0)}_parse(e){const n=Gr.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==fn.string&&r.parsedType!==fn.number){const i=Gr.objectValues(n);return ln(r,{expected:Gr.joinValues(i),received:r.parsedType,code:Vt.invalid_type}),Yn}if(fT(this,Yw)||Que(this,Yw,new Set(Gr.getValidEnumValues(this._def.values))),!fT(this,Yw).has(e.data)){const i=Gr.objectValues(n);return ln(r,{received:r.data,code:Vt.invalid_enum_value,options:i}),Yn}return jo(e.data)}get enum(){return this._def.values}}Yw=new WeakMap;y1.create=(t,e)=>new y1({values:t,typeName:Et.ZodNativeEnum,...lr(e)});class jb extends br{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==fn.promise&&n.common.async===!1)return ln(n,{code:Vt.invalid_type,expected:fn.promise,received:n.parsedType}),Yn;const r=n.parsedType===fn.promise?n.data:Promise.resolve(n.data);return jo(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}jb.create=(t,e)=>new jb({type:t,typeName:Et.ZodPromise,...lr(e)});class Gc extends br{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Et.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:s=>{ln(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(r.data,a);if(r.common.async)return Promise.resolve(s).then(async o=>{if(n.value==="aborted")return Yn;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?Yn:l.status==="dirty"||n.value==="dirty"?sb(l.value):l});{if(n.value==="aborted")return Yn;const o=this._def.schema._parseSync({data:s,path:r.path,parent:r});return o.status==="aborted"?Yn:o.status==="dirty"||n.value==="dirty"?sb(o.value):o}}if(i.type==="refinement"){const s=o=>{const l=i.refinement(o,a);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Yn:(o.status==="dirty"&&n.dirty(),s(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?Yn:(o.status==="dirty"&&n.dirty(),s(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!b0(s))return s;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>b0(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:n.value,value:o})):s);Gr.assertNever(i)}}Gc.create=(t,e,n)=>new Gc({schema:t,typeName:Et.ZodEffects,effect:e,...lr(n)});Gc.createWithPreprocess=(t,e,n)=>new Gc({schema:e,effect:{type:"preprocess",transform:t},typeName:Et.ZodEffects,...lr(n)});class Bc extends br{_parse(e){return this._getType(e)===fn.undefined?jo(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Bc.create=(t,e)=>new Bc({innerType:t,typeName:Et.ZodOptional,...lr(e)});class Nm extends br{_parse(e){return this._getType(e)===fn.null?jo(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Nm.create=(t,e)=>new Nm({innerType:t,typeName:Et.ZodNullable,...lr(e)});class b1 extends br{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===fn.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}b1.create=(t,e)=>new b1({innerType:t,typeName:Et.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...lr(e)});class v1 extends br{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return l1(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ql(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ql(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}v1.create=(t,e)=>new v1({innerType:t,typeName:Et.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...lr(e)});class yT extends br{_parse(e){if(this._getType(e)!==fn.nan){const r=this._getOrReturnCtx(e);return ln(r,{code:Vt.invalid_type,expected:fn.nan,received:r.parsedType}),Yn}return{status:"valid",value:e.data}}}yT.create=t=>new yT({typeName:Et.ZodNaN,...lr(t)});const ENe=Symbol("zod_brand");class rF extends br{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class pS extends br{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Yn:a.status==="dirty"?(n.dirty(),sb(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Yn:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new pS({in:e,out:n,typeName:Et.ZodPipeline})}}class w1 extends br{_parse(e){const n=this._def.innerType._parse(e),r=i=>(b0(i)&&(i.value=Object.freeze(i.value)),i);return l1(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}w1.create=(t,e)=>new w1({innerType:t,typeName:Et.ZodReadonly,...lr(e)});function LG(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function rce(t,e={},n){return t?Ub.create().superRefine((r,i)=>{var a,s;const o=t(r);if(o instanceof Promise)return o.then(l=>{var u,d;if(!l){const h=LG(e,r),p=(d=(u=h.fatal)!==null&&u!==void 0?u:n)!==null&&d!==void 0?d:!0;i.addIssue({code:"custom",...h,fatal:p})}});if(!o){const l=LG(e,r),u=(s=(a=l.fatal)!==null&&a!==void 0?a:n)!==null&&s!==void 0?s:!0;i.addIssue({code:"custom",...l,fatal:u})}}):Ub.create()}const kNe={object:sa.lazycreate};var Et;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Et||(Et={}));const TNe=(t,e={message:`Input not instance of ${t.name}`})=>rce(n=>n instanceof t,e),ice=Mc.create,ace=Cm.create,ANe=yT.create,CNe=Rm.create,sce=u1.create,RNe=v0.create,INe=pT.create,NNe=c1.create,ONe=d1.create,MNe=Ub.create,PNe=s0.create,LNe=Tf.create,DNe=mT.create,FNe=Fc.create,BNe=sa.create,UNe=sa.strictCreate,jNe=h1.create,zNe=nC.create,$Ne=f1.create,qNe=Gd.create,HNe=p1.create,VNe=gT.create,GNe=w0.create,WNe=Sb.create,KNe=m1.create,YNe=g1.create,XNe=Im.create,ZNe=y1.create,QNe=jb.create,DG=Gc.create,JNe=Bc.create,eOe=Nm.create,tOe=Gc.createWithPreprocess,nOe=pS.create,rOe=()=>ice().optional(),iOe=()=>ace().optional(),aOe=()=>sce().optional(),sOe={string:t=>Mc.create({...t,coerce:!0}),number:t=>Cm.create({...t,coerce:!0}),boolean:t=>u1.create({...t,coerce:!0}),bigint:t=>Rm.create({...t,coerce:!0}),date:t=>v0.create({...t,coerce:!0})},oOe=Yn;var yf=Object.freeze({__proto__:null,defaultErrorMap:Bb,setErrorMap:tNe,getErrorMap:dT,makeIssue:hT,EMPTY_PATH:nNe,addIssueToContext:ln,ParseStatus:io,INVALID:Yn,DIRTY:sb,OK:jo,isAborted:a5,isDirty:s5,isValid:b0,isAsync:l1,get util(){return Gr},get objectUtil(){return i5},ZodParsedType:fn,getParsedType:df,ZodType:br,datetimeRegex:tce,ZodString:Mc,ZodNumber:Cm,ZodBigInt:Rm,ZodBoolean:u1,ZodDate:v0,ZodSymbol:pT,ZodUndefined:c1,ZodNull:d1,ZodAny:Ub,ZodUnknown:s0,ZodNever:Tf,ZodVoid:mT,ZodArray:Fc,ZodObject:sa,ZodUnion:h1,ZodDiscriminatedUnion:nC,ZodIntersection:f1,ZodTuple:Gd,ZodRecord:p1,ZodMap:gT,ZodSet:w0,ZodFunction:Sb,ZodLazy:m1,ZodLiteral:g1,ZodEnum:Im,ZodNativeEnum:y1,ZodPromise:jb,ZodEffects:Gc,ZodTransformer:Gc,ZodOptional:Bc,ZodNullable:Nm,ZodDefault:b1,ZodCatch:v1,ZodNaN:yT,BRAND:ENe,ZodBranded:rF,ZodPipeline:pS,ZodReadonly:w1,custom:rce,Schema:br,ZodSchema:br,late:kNe,get ZodFirstPartyTypeKind(){return Et},coerce:sOe,any:MNe,array:FNe,bigint:CNe,boolean:sce,date:RNe,discriminatedUnion:zNe,effect:DG,enum:XNe,function:WNe,instanceof:TNe,intersection:$Ne,lazy:KNe,literal:YNe,map:VNe,nan:ANe,nativeEnum:ZNe,never:LNe,null:ONe,nullable:eOe,number:ace,object:BNe,oboolean:aOe,onumber:iOe,optional:JNe,ostring:rOe,pipeline:nOe,preprocess:tOe,promise:QNe,record:HNe,set:GNe,strictObject:UNe,string:ice,symbol:INe,transformer:DG,tuple:qNe,undefined:NNe,union:jNe,unknown:PNe,void:DNe,NEVER:oOe,ZodIssueCode:Vt,quotelessJson:eNe,ZodError:Ql}),_w={exports:{}},eN={},tN,FG;function lOe(){if(FG)return tN;FG=1;function t(e,n){typeof n=="boolean"&&(n={forever:n}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=n||{},this._maxRetryTime=n&&n.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return tN=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var n=new Date().getTime();if(e&&n-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var i=this;return this._timer=setTimeout(function(){i._attempts++,i._operationTimeoutCb&&(i._timeout=setTimeout(function(){i._operationTimeoutCb(i._attempts)},i._operationTimeout),i._options.unref&&i._timeout.unref()),i._fn(i._attempts)},r),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,n){this._fn=e,n&&(n.timeout&&(this._operationTimeout=n.timeout),n.cb&&(this._operationTimeoutCb=n.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},n=null,r=0,i=0;i<this._errors.length;i++){var a=this._errors[i],s=a.message,o=(e[s]||0)+1;e[s]=o,o>=r&&(n=a,r=o)}return n},tN}var BG;function uOe(){return BG||(BG=1,function(t){var e=lOe();t.operation=function(n){var r=t.timeouts(n);return new e(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},t.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in n)r[i]=n[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],s=0;s<r.retries;s++)a.push(this.createTimeout(s,r));return n&&n.forever&&!a.length&&a.push(this.createTimeout(s,r)),a.sort(function(o,l){return o-l}),a},t.createTimeout=function(n,r){var i=r.randomize?Math.random()+1:1,a=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return a=Math.min(a,r.maxTimeout),a},t.wrap=function(n,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var a in n)typeof n[a]=="function"&&i.push(a)}for(var s=0;s<i.length;s++){var o=i[s],l=n[o];n[o]=function(d){var h=t.operation(r),p=Array.prototype.slice.call(arguments,1),m=p.pop();p.push(function(v){h.retry(v)||(v&&(arguments[0]=h.mainError()),m.apply(this,arguments))}),h.attempt(function(){d.apply(n,p)})}.bind(n,l),n[o].options=r}}}(eN)),eN}var nN,UG;function cOe(){return UG||(UG=1,nN=uOe()),nN}var jG;function dOe(){if(jG)return _w.exports;jG=1;const t=cOe(),e=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class n extends Error{constructor(o){super(),o instanceof Error?(this.originalError=o,{message:o}=o):(this.originalError=new Error(o),this.originalError.stack=this.stack),this.name="AbortError",this.message=o}}const r=(s,o,l)=>{const u=l.retries-(o-1);return s.attemptNumber=o,s.retriesLeft=u,s},i=s=>e.includes(s),a=(s,o)=>new Promise((l,u)=>{o={onFailedAttempt:()=>{},retries:10,...o};const d=t.operation(o);d.attempt(async h=>{try{l(await s(h))}catch(p){if(!(p instanceof Error)){u(new TypeError(`Non-error was thrown: "${p}". You should only throw errors.`));return}if(p instanceof n)d.stop(),u(p.originalError);else if(p instanceof TypeError&&!i(p.message))d.stop(),u(p);else{r(p,h,o);try{await o.onFailedAttempt(p)}catch(m){u(m);return}d.retry(p)||u(d.mainError())}}})});return _w.exports=a,_w.exports.default=a,_w.exports.AbortError=n,_w.exports}var hOe=dOe();const bT=Yc(hOe),fOe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function O_(t){return typeof t=="string"&&fOe.test(t)}var Ns=[];for(var rN=0;rN<256;++rN)Ns.push((rN+256).toString(16).slice(1));function pOe(t,e=0){return(Ns[t[e+0]]+Ns[t[e+1]]+Ns[t[e+2]]+Ns[t[e+3]]+"-"+Ns[t[e+4]]+Ns[t[e+5]]+"-"+Ns[t[e+6]]+Ns[t[e+7]]+"-"+Ns[t[e+8]]+Ns[t[e+9]]+"-"+Ns[t[e+10]]+Ns[t[e+11]]+Ns[t[e+12]]+Ns[t[e+13]]+Ns[t[e+14]]+Ns[t[e+15]]).toLowerCase()}var lE,mOe=new Uint8Array(16);function gOe(){if(!lE&&(lE=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!lE))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return lE(mOe)}var yOe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const zG={randomUUID:yOe};function No(t,e,n){if(zG.randomUUID&&!t)return zG.randomUUID();t=t||{};var r=t.random||(t.rng||gOe)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,pOe(r)}var uE={},iN={exports:{}},$G;function bOe(){return $G||($G=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function a(l,u,d,h,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,h||l,p),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=n?n+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,m=h.length,v=new Array(m);p<m;p++)v[p]=h[p].fn;return v},o.prototype.listenerCount=function(u){var d=n?n+u:u,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,d,h,p,m,v){var w=n?n+u:u;if(!this._events[w])return!1;var k=this._events[w],T=arguments.length,C,N;if(k.fn){switch(k.once&&this.removeListener(u,k.fn,void 0,!0),T){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,d),!0;case 3:return k.fn.call(k.context,d,h),!0;case 4:return k.fn.call(k.context,d,h,p),!0;case 5:return k.fn.call(k.context,d,h,p,m),!0;case 6:return k.fn.call(k.context,d,h,p,m,v),!0}for(N=1,C=new Array(T-1);N<T;N++)C[N-1]=arguments[N];k.fn.apply(k.context,C)}else{var F=k.length,D;for(N=0;N<F;N++)switch(k[N].once&&this.removeListener(u,k[N].fn,void 0,!0),T){case 1:k[N].fn.call(k[N].context);break;case 2:k[N].fn.call(k[N].context,d);break;case 3:k[N].fn.call(k[N].context,d,h);break;case 4:k[N].fn.call(k[N].context,d,h,p);break;default:if(!C)for(D=1,C=new Array(T-1);D<T;D++)C[D-1]=arguments[D];k[N].fn.apply(k[N].context,C)}}return!0},o.prototype.on=function(u,d,h){return a(this,u,d,h,!1)},o.prototype.once=function(u,d,h){return a(this,u,d,h,!0)},o.prototype.removeListener=function(u,d,h,p){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!p||v.once)&&(!h||v.context===h)&&s(this,m);else{for(var w=0,k=[],T=v.length;w<T;w++)(v[w].fn!==d||p&&!v[w].once||h&&v[w].context!==h)&&k.push(v[w]);k.length?this._events[m]=k.length===1?k[0]:k:s(this,m)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o}(iN)),iN.exports}var Sw={exports:{}},aN,qG;function vOe(){return qG||(qG=1,aN=(t,e)=>(e=e||(()=>{}),t.then(n=>new Promise(r=>{r(e())}).then(()=>n),n=>new Promise(r=>{r(e())}).then(()=>{throw n})))),aN}var HG;function wOe(){if(HG)return Sw.exports;HG=1;const t=vOe();class e extends Error{constructor(i){super(i),this.name="TimeoutError"}}const n=(r,i,a)=>new Promise((s,o)=>{if(typeof i!="number"||i<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(i===1/0){s(r);return}const l=setTimeout(()=>{if(typeof a=="function"){try{s(a())}catch(h){o(h)}return}const u=typeof a=="string"?a:`Promise timed out after ${i} milliseconds`,d=a instanceof Error?a:new e(u);typeof r.cancel=="function"&&r.cancel(),o(d)},i);t(r.then(s,o),()=>{clearTimeout(l)})});return Sw.exports=n,Sw.exports.default=n,Sw.exports.TimeoutError=e,Sw.exports}var cE={},dE={},VG;function _Oe(){if(VG)return dE;VG=1,Object.defineProperty(dE,"__esModule",{value:!0});function t(e,n,r){let i=0,a=e.length;for(;a>0;){const s=a/2|0;let o=i+s;r(e[o],n)<=0?(i=++o,a-=s+1):a=s}return i}return dE.default=t,dE}var GG;function SOe(){if(GG)return cE;GG=1,Object.defineProperty(cE,"__esModule",{value:!0});const t=_Oe();class e{constructor(){this._queue=[]}enqueue(r,i){i=Object.assign({priority:0},i);const a={priority:i.priority,run:r};if(this.size&&this._queue[this.size-1].priority>=i.priority){this._queue.push(a);return}const s=t.default(this._queue,a,(o,l)=>l.priority-o.priority);this._queue.splice(s,0,a)}dequeue(){const r=this._queue.shift();return r?.run}filter(r){return this._queue.filter(i=>i.priority===r.priority).map(i=>i.run)}get size(){return this._queue.length}}return cE.default=e,cE}var WG;function xOe(){if(WG)return uE;WG=1,Object.defineProperty(uE,"__esModule",{value:!0});const t=bOe(),e=wOe(),n=SOe(),r=()=>{},i=new e.TimeoutError;class a extends t{constructor(o){var l,u,d,h;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=r,this._resolveIdle=r,o=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:n.default},o),!(typeof o.intervalCap=="number"&&o.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(u=(l=o.intervalCap)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""}\` (${typeof o.intervalCap})`);if(o.interval===void 0||!(Number.isFinite(o.interval)&&o.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(h=(d=o.interval)===null||d===void 0?void 0:d.toString())!==null&&h!==void 0?h:""}\` (${typeof o.interval})`);this._carryoverConcurrencyCount=o.carryoverConcurrencyCount,this._isIntervalIgnored=o.intervalCap===1/0||o.interval===0,this._intervalCap=o.intervalCap,this._interval=o.interval,this._queue=new o.queueClass,this._queueClass=o.queueClass,this.concurrency=o.concurrency,this._timeout=o.timeout,this._throwOnTimeout=o.throwOnTimeout===!0,this._isPaused=o.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=r,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=r,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const o=Date.now();if(this._intervalId===void 0){const l=this._intervalEnd-o;if(l<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},l)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const o=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const l=this._queue.dequeue();return l?(this.emit("active"),l(),o&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(o){if(!(typeof o=="number"&&o>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${o}\` (${typeof o})`);this._concurrency=o,this._processQueue()}async add(o,l={}){return new Promise((u,d)=>{const h=async()=>{this._pendingCount++,this._intervalCount++;try{const p=this._timeout===void 0&&l.timeout===void 0?o():e.default(Promise.resolve(o()),l.timeout===void 0?this._timeout:l.timeout,()=>{(l.throwOnTimeout===void 0?this._throwOnTimeout:l.throwOnTimeout)&&d(i)});u(await p)}catch(p){d(p)}this._next()};this._queue.enqueue(h,l),this._tryToStartAnother(),this.emit("add")})}async addAll(o,l){return Promise.all(o.map(async u=>this.add(u,l)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(o=>{const l=this._resolveEmpty;this._resolveEmpty=()=>{l(),o()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(o=>{const l=this._resolveIdle;this._resolveIdle=()=>{l(),o()}})}get size(){return this._queue.size}sizeBy(o){return this._queue.filter(o).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(o){this._timeout=o}}return uE.default=a,uE}var EOe=xOe();const bf=Yc(EOe),kOe=(...t)=>fetch(...t),TOe=Symbol.for("ls:fetch_implementation"),An=()=>globalThis[TOe]??kOe,AOe=[400,401,403,404,405,406,407,408],COe=[409];let KG=class{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,"default"in bf?this.queue=new bf.default({concurrency:this.maxConcurrency}):this.queue=new bf({concurrency:this.maxConcurrency}),this.onFailedResponseHook=e?.onFailedResponseHook}call(e,...n){const r=this.onFailedResponseHook;return this.queue.add(()=>bT(()=>e(...n).catch(i=>{throw i instanceof Error?i:new Error(i)}),{async onFailedAttempt(i){if(i.message.startsWith("Cancel")||i.message.startsWith("TimeoutError")||i.message.startsWith("AbortError")||i?.code==="ECONNABORTED")throw i;const a=i?.response,s=a?.status;if(s){if(AOe.includes(+s))throw i;if(COe.includes(+s))return;r&&await r(a)}},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,n,...r){return e.signal?Promise.race([this.call(n,...r),new Promise((i,a)=>{e.signal?.addEventListener("abort",()=>{a(new Error("AbortError"))})})]):this.call(n,...r)}fetch(...e){return this.call(()=>An()(...e).then(n=>n.ok?n:Promise.reject(n)))}};function YG(t){return typeof t?._getType=="function"}function XG(t){const e={type:t._getType(),data:{content:t.content}};return t?.additional_kwargs&&Object.keys(t.additional_kwargs).length>0&&(e.data.additional_kwargs={...t.additional_kwargs}),e}function hr(t,e){if(!O_(t)){const n=e!==void 0?`Invalid UUID for ${e}: ${t}`:`Invalid UUID: ${t}`;throw new Error(n)}return t}const ZG={};function oce(t){ZG[t]||(console.warn(t),ZG[t]=!0)}var hE={exports:{}},sN,QG;function rC(){if(QG)return sN;QG=1;const t="2.0.0",e=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,i=e-6;return sN={MAX_LENGTH:e,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},sN}var oN,JG;function iC(){if(JG)return oN;JG=1;var t={};return oN=typeof process=="object"&&t&&t.NODE_DEBUG&&/\bsemver\b/i.test(t.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{},oN}var eW;function mS(){return eW||(eW=1,function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=rC(),a=iC();e=t.exports={};const s=e.re=[],o=e.safeRe=[],l=e.src=[],u=e.safeSrc=[],d=e.t={};let h=0;const p="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",i],[p,r]],v=k=>{for(const[T,C]of m)k=k.split(`${T}*`).join(`${T}{0,${C}}`).split(`${T}+`).join(`${T}{1,${C}}`);return k},w=(k,T,C)=>{const N=v(T),F=h++;a(k,F,T),d[k]=F,l[F]=T,u[F]=N,s[F]=new RegExp(T,C?"g":void 0),o[F]=new RegExp(N,C?"g":void 0)};w("NUMERICIDENTIFIER","0|[1-9]\\d*"),w("NUMERICIDENTIFIERLOOSE","\\d+"),w("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),w("MAINVERSION",`(${l[d.NUMERICIDENTIFIER]})\\.(${l[d.NUMERICIDENTIFIER]})\\.(${l[d.NUMERICIDENTIFIER]})`),w("MAINVERSIONLOOSE",`(${l[d.NUMERICIDENTIFIERLOOSE]})\\.(${l[d.NUMERICIDENTIFIERLOOSE]})\\.(${l[d.NUMERICIDENTIFIERLOOSE]})`),w("PRERELEASEIDENTIFIER",`(?:${l[d.NUMERICIDENTIFIER]}|${l[d.NONNUMERICIDENTIFIER]})`),w("PRERELEASEIDENTIFIERLOOSE",`(?:${l[d.NUMERICIDENTIFIERLOOSE]}|${l[d.NONNUMERICIDENTIFIER]})`),w("PRERELEASE",`(?:-(${l[d.PRERELEASEIDENTIFIER]}(?:\\.${l[d.PRERELEASEIDENTIFIER]})*))`),w("PRERELEASELOOSE",`(?:-?(${l[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[d.PRERELEASEIDENTIFIERLOOSE]})*))`),w("BUILDIDENTIFIER",`${p}+`),w("BUILD",`(?:\\+(${l[d.BUILDIDENTIFIER]}(?:\\.${l[d.BUILDIDENTIFIER]})*))`),w("FULLPLAIN",`v?${l[d.MAINVERSION]}${l[d.PRERELEASE]}?${l[d.BUILD]}?`),w("FULL",`^${l[d.FULLPLAIN]}$`),w("LOOSEPLAIN",`[v=\\s]*${l[d.MAINVERSIONLOOSE]}${l[d.PRERELEASELOOSE]}?${l[d.BUILD]}?`),w("LOOSE",`^${l[d.LOOSEPLAIN]}$`),w("GTLT","((?:<|>)?=?)"),w("XRANGEIDENTIFIERLOOSE",`${l[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),w("XRANGEIDENTIFIER",`${l[d.NUMERICIDENTIFIER]}|x|X|\\*`),w("XRANGEPLAIN",`[v=\\s]*(${l[d.XRANGEIDENTIFIER]})(?:\\.(${l[d.XRANGEIDENTIFIER]})(?:\\.(${l[d.XRANGEIDENTIFIER]})(?:${l[d.PRERELEASE]})?${l[d.BUILD]}?)?)?`),w("XRANGEPLAINLOOSE",`[v=\\s]*(${l[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[d.XRANGEIDENTIFIERLOOSE]})(?:${l[d.PRERELEASELOOSE]})?${l[d.BUILD]}?)?)?`),w("XRANGE",`^${l[d.GTLT]}\\s*${l[d.XRANGEPLAIN]}$`),w("XRANGELOOSE",`^${l[d.GTLT]}\\s*${l[d.XRANGEPLAINLOOSE]}$`),w("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),w("COERCE",`${l[d.COERCEPLAIN]}(?:$|[^\\d])`),w("COERCEFULL",l[d.COERCEPLAIN]+`(?:${l[d.PRERELEASE]})?(?:${l[d.BUILD]})?(?:$|[^\\d])`),w("COERCERTL",l[d.COERCE],!0),w("COERCERTLFULL",l[d.COERCEFULL],!0),w("LONETILDE","(?:~>?)"),w("TILDETRIM",`(\\s*)${l[d.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",w("TILDE",`^${l[d.LONETILDE]}${l[d.XRANGEPLAIN]}$`),w("TILDELOOSE",`^${l[d.LONETILDE]}${l[d.XRANGEPLAINLOOSE]}$`),w("LONECARET","(?:\\^)"),w("CARETTRIM",`(\\s*)${l[d.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",w("CARET",`^${l[d.LONECARET]}${l[d.XRANGEPLAIN]}$`),w("CARETLOOSE",`^${l[d.LONECARET]}${l[d.XRANGEPLAINLOOSE]}$`),w("COMPARATORLOOSE",`^${l[d.GTLT]}\\s*(${l[d.LOOSEPLAIN]})$|^$`),w("COMPARATOR",`^${l[d.GTLT]}\\s*(${l[d.FULLPLAIN]})$|^$`),w("COMPARATORTRIM",`(\\s*)${l[d.GTLT]}\\s*(${l[d.LOOSEPLAIN]}|${l[d.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",w("HYPHENRANGE",`^\\s*(${l[d.XRANGEPLAIN]})\\s+-\\s+(${l[d.XRANGEPLAIN]})\\s*$`),w("HYPHENRANGELOOSE",`^\\s*(${l[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[d.XRANGEPLAINLOOSE]})\\s*$`),w("STAR","(<|>)?=?\\s*\\*"),w("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),w("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(hE,hE.exports)),hE.exports}var lN,tW;function iF(){if(tW)return lN;tW=1;const t=Object.freeze({loose:!0}),e=Object.freeze({});return lN=r=>r?typeof r!="object"?t:r:e,lN}var uN,nW;function lce(){if(nW)return uN;nW=1;const t=/^[0-9]+$/,e=(r,i)=>{const a=t.test(r),s=t.test(i);return a&&s&&(r=+r,i=+i),r===i?0:a&&!s?-1:s&&!a?1:r<i?-1:1};return uN={compareIdentifiers:e,rcompareIdentifiers:(r,i)=>e(i,r)},uN}var cN,rW;function $o(){if(rW)return cN;rW=1;const t=iC(),{MAX_LENGTH:e,MAX_SAFE_INTEGER:n}=rC(),{safeRe:r,safeSrc:i,t:a}=mS(),s=iF(),{compareIdentifiers:o}=lce();class l{constructor(d,h){if(h=s(h),d instanceof l){if(d.loose===!!h.loose&&d.includePrerelease===!!h.includePrerelease)return d;d=d.version}else if(typeof d!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof d}".`);if(d.length>e)throw new TypeError(`version is longer than ${e} characters`);t("SemVer",d,h),this.options=h,this.loose=!!h.loose,this.includePrerelease=!!h.includePrerelease;const p=d.trim().match(h.loose?r[a.LOOSE]:r[a.FULL]);if(!p)throw new TypeError(`Invalid Version: ${d}`);if(this.raw=d,this.major=+p[1],this.minor=+p[2],this.patch=+p[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");p[4]?this.prerelease=p[4].split(".").map(m=>{if(/^[0-9]+$/.test(m)){const v=+m;if(v>=0&&v<n)return v}return m}):this.prerelease=[],this.build=p[5]?p[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(d){if(t("SemVer.compare",this.version,this.options,d),!(d instanceof l)){if(typeof d=="string"&&d===this.version)return 0;d=new l(d,this.options)}return d.version===this.version?0:this.compareMain(d)||this.comparePre(d)}compareMain(d){return d instanceof l||(d=new l(d,this.options)),o(this.major,d.major)||o(this.minor,d.minor)||o(this.patch,d.patch)}comparePre(d){if(d instanceof l||(d=new l(d,this.options)),this.prerelease.length&&!d.prerelease.length)return-1;if(!this.prerelease.length&&d.prerelease.length)return 1;if(!this.prerelease.length&&!d.prerelease.length)return 0;let h=0;do{const p=this.prerelease[h],m=d.prerelease[h];if(t("prerelease compare",h,p,m),p===void 0&&m===void 0)return 0;if(m===void 0)return 1;if(p===void 0)return-1;if(p===m)continue;return o(p,m)}while(++h)}compareBuild(d){d instanceof l||(d=new l(d,this.options));let h=0;do{const p=this.build[h],m=d.build[h];if(t("build compare",h,p,m),p===void 0&&m===void 0)return 0;if(m===void 0)return 1;if(p===void 0)return-1;if(p===m)continue;return o(p,m)}while(++h)}inc(d,h,p){if(d.startsWith("pre")){if(!h&&p===!1)throw new Error("invalid increment argument: identifier is empty");if(h){const m=new RegExp(`^${this.options.loose?i[a.PRERELEASELOOSE]:i[a.PRERELEASE]}$`),v=`-${h}`.match(m);if(!v||v[1]!==h)throw new Error(`invalid identifier: ${h}`)}}switch(d){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",h,p);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",h,p);break;case"prepatch":this.prerelease.length=0,this.inc("patch",h,p),this.inc("pre",h,p);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",h,p),this.inc("pre",h,p);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const m=Number(p)?1:0;if(this.prerelease.length===0)this.prerelease=[m];else{let v=this.prerelease.length;for(;--v>=0;)typeof this.prerelease[v]=="number"&&(this.prerelease[v]++,v=-2);if(v===-1){if(h===this.prerelease.join(".")&&p===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(m)}}if(h){let v=[h,m];p===!1&&(v=[h]),o(this.prerelease[0],h)===0?isNaN(this.prerelease[1])&&(this.prerelease=v):this.prerelease=v}break}default:throw new Error(`invalid increment argument: ${d}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return cN=l,cN}var dN,iW;function mv(){if(iW)return dN;iW=1;const t=$o();return dN=(n,r,i=!1)=>{if(n instanceof t)return n;try{return new t(n,r)}catch(a){if(!i)return null;throw a}},dN}var hN,aW;function ROe(){if(aW)return hN;aW=1;const t=mv();return hN=(n,r)=>{const i=t(n,r);return i?i.version:null},hN}var fN,sW;function IOe(){if(sW)return fN;sW=1;const t=mv();return fN=(n,r)=>{const i=t(n.trim().replace(/^[=v]+/,""),r);return i?i.version:null},fN}var pN,oW;function NOe(){if(oW)return pN;oW=1;const t=$o();return pN=(n,r,i,a,s)=>{typeof i=="string"&&(s=a,a=i,i=void 0);try{return new t(n instanceof t?n.version:n,i).inc(r,a,s).version}catch{return null}},pN}var mN,lW;function OOe(){if(lW)return mN;lW=1;const t=mv();return mN=(n,r)=>{const i=t(n,null,!0),a=t(r,null,!0),s=i.compare(a);if(s===0)return null;const o=s>0,l=o?i:a,u=o?a:i,d=!!l.prerelease.length;if(!!u.prerelease.length&&!d){if(!u.patch&&!u.minor)return"major";if(u.compareMain(l)===0)return u.minor&&!u.patch?"minor":"patch"}const p=d?"pre":"";return i.major!==a.major?p+"major":i.minor!==a.minor?p+"minor":i.patch!==a.patch?p+"patch":"prerelease"},mN}var gN,uW;function MOe(){if(uW)return gN;uW=1;const t=$o();return gN=(n,r)=>new t(n,r).major,gN}var yN,cW;function POe(){if(cW)return yN;cW=1;const t=$o();return yN=(n,r)=>new t(n,r).minor,yN}var bN,dW;function LOe(){if(dW)return bN;dW=1;const t=$o();return bN=(n,r)=>new t(n,r).patch,bN}var vN,hW;function DOe(){if(hW)return vN;hW=1;const t=mv();return vN=(n,r)=>{const i=t(n,r);return i&&i.prerelease.length?i.prerelease:null},vN}var wN,fW;function Zc(){if(fW)return wN;fW=1;const t=$o();return wN=(n,r,i)=>new t(n,i).compare(new t(r,i)),wN}var _N,pW;function FOe(){if(pW)return _N;pW=1;const t=Zc();return _N=(n,r,i)=>t(r,n,i),_N}var SN,mW;function BOe(){if(mW)return SN;mW=1;const t=Zc();return SN=(n,r)=>t(n,r,!0),SN}var xN,gW;function aF(){if(gW)return xN;gW=1;const t=$o();return xN=(n,r,i)=>{const a=new t(n,i),s=new t(r,i);return a.compare(s)||a.compareBuild(s)},xN}var EN,yW;function UOe(){if(yW)return EN;yW=1;const t=aF();return EN=(n,r)=>n.sort((i,a)=>t(i,a,r)),EN}var kN,bW;function jOe(){if(bW)return kN;bW=1;const t=aF();return kN=(n,r)=>n.sort((i,a)=>t(a,i,r)),kN}var TN,vW;function aC(){if(vW)return TN;vW=1;const t=Zc();return TN=(n,r,i)=>t(n,r,i)>0,TN}var AN,wW;function sF(){if(wW)return AN;wW=1;const t=Zc();return AN=(n,r,i)=>t(n,r,i)<0,AN}var CN,_W;function uce(){if(_W)return CN;_W=1;const t=Zc();return CN=(n,r,i)=>t(n,r,i)===0,CN}var RN,SW;function cce(){if(SW)return RN;SW=1;const t=Zc();return RN=(n,r,i)=>t(n,r,i)!==0,RN}var IN,xW;function oF(){if(xW)return IN;xW=1;const t=Zc();return IN=(n,r,i)=>t(n,r,i)>=0,IN}var NN,EW;function lF(){if(EW)return NN;EW=1;const t=Zc();return NN=(n,r,i)=>t(n,r,i)<=0,NN}var ON,kW;function dce(){if(kW)return ON;kW=1;const t=uce(),e=cce(),n=aC(),r=oF(),i=sF(),a=lF();return ON=(o,l,u,d)=>{switch(l){case"===":return typeof o=="object"&&(o=o.version),typeof u=="object"&&(u=u.version),o===u;case"!==":return typeof o=="object"&&(o=o.version),typeof u=="object"&&(u=u.version),o!==u;case"":case"=":case"==":return t(o,u,d);case"!=":return e(o,u,d);case">":return n(o,u,d);case">=":return r(o,u,d);case"<":return i(o,u,d);case"<=":return a(o,u,d);default:throw new TypeError(`Invalid operator: ${l}`)}},ON}var MN,TW;function zOe(){if(TW)return MN;TW=1;const t=$o(),e=mv(),{safeRe:n,t:r}=mS();return MN=(a,s)=>{if(a instanceof t)return a;if(typeof a=="number"&&(a=String(a)),typeof a!="string")return null;s=s||{};let o=null;if(!s.rtl)o=a.match(s.includePrerelease?n[r.COERCEFULL]:n[r.COERCE]);else{const m=s.includePrerelease?n[r.COERCERTLFULL]:n[r.COERCERTL];let v;for(;(v=m.exec(a))&&(!o||o.index+o[0].length!==a.length);)(!o||v.index+v[0].length!==o.index+o[0].length)&&(o=v),m.lastIndex=v.index+v[1].length+v[2].length;m.lastIndex=-1}if(o===null)return null;const l=o[2],u=o[3]||"0",d=o[4]||"0",h=s.includePrerelease&&o[5]?`-${o[5]}`:"",p=s.includePrerelease&&o[6]?`+${o[6]}`:"";return e(`${l}.${u}.${d}${h}${p}`,s)},MN}var PN,AW;function $Oe(){if(AW)return PN;AW=1;class t{constructor(){this.max=1e3,this.map=new Map}get(n){const r=this.map.get(n);if(r!==void 0)return this.map.delete(n),this.map.set(n,r),r}delete(n){return this.map.delete(n)}set(n,r){if(!this.delete(n)&&r!==void 0){if(this.map.size>=this.max){const a=this.map.keys().next().value;this.delete(a)}this.map.set(n,r)}return this}}return PN=t,PN}var LN,CW;function Qc(){if(CW)return LN;CW=1;const t=/\s+/g;class e{constructor(Ce,ue){if(ue=i(ue),Ce instanceof e)return Ce.loose===!!ue.loose&&Ce.includePrerelease===!!ue.includePrerelease?Ce:new e(Ce.raw,ue);if(Ce instanceof a)return this.raw=Ce.value,this.set=[[Ce]],this.formatted=void 0,this;if(this.options=ue,this.loose=!!ue.loose,this.includePrerelease=!!ue.includePrerelease,this.raw=Ce.trim().replace(t," "),this.set=this.raw.split("||").map(ke=>this.parseRange(ke.trim())).filter(ke=>ke.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const ke=this.set[0];if(this.set=this.set.filter(Te=>!w(Te[0])),this.set.length===0)this.set=[ke];else if(this.set.length>1){for(const Te of this.set)if(Te.length===1&&k(Te[0])){this.set=[Te];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let Ce=0;Ce<this.set.length;Ce++){Ce>0&&(this.formatted+="||");const ue=this.set[Ce];for(let ke=0;ke<ue.length;ke++)ke>0&&(this.formatted+=" "),this.formatted+=ue[ke].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(Ce){const ke=((this.options.includePrerelease&&m)|(this.options.loose&&v))+":"+Ce,Te=r.get(ke);if(Te)return Te;const he=this.options.loose,j=he?l[u.HYPHENRANGELOOSE]:l[u.HYPHENRANGE];Ce=Ce.replace(j,Ie(this.options.includePrerelease)),s("hyphen replace",Ce),Ce=Ce.replace(l[u.COMPARATORTRIM],d),s("comparator trim",Ce),Ce=Ce.replace(l[u.TILDETRIM],h),s("tilde trim",Ce),Ce=Ce.replace(l[u.CARETTRIM],p),s("caret trim",Ce);let pe=Ce.split(" ").map(it=>C(it,this.options)).join(" ").split(/\s+/).map(it=>ce(it,this.options));he&&(pe=pe.filter(it=>(s("loose invalid filter",it,this.options),!!it.match(l[u.COMPARATORLOOSE])))),s("range list",pe);const Ne=new Map,ae=pe.map(it=>new a(it,this.options));for(const it of ae){if(w(it))return[it];Ne.set(it.value,it)}Ne.size>1&&Ne.has("")&&Ne.delete("");const He=[...Ne.values()];return r.set(ke,He),He}intersects(Ce,ue){if(!(Ce instanceof e))throw new TypeError("a Range is required");return this.set.some(ke=>T(ke,ue)&&Ce.set.some(Te=>T(Te,ue)&&ke.every(he=>Te.every(j=>he.intersects(j,ue)))))}test(Ce){if(!Ce)return!1;if(typeof Ce=="string")try{Ce=new o(Ce,this.options)}catch{return!1}for(let ue=0;ue<this.set.length;ue++)if(qe(this.set[ue],Ce,this.options))return!0;return!1}}LN=e;const n=$Oe(),r=new n,i=iF(),a=sC(),s=iC(),o=$o(),{safeRe:l,t:u,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:p}=mS(),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:v}=rC(),w=xe=>xe.value==="<0.0.0-0",k=xe=>xe.value==="",T=(xe,Ce)=>{let ue=!0;const ke=xe.slice();let Te=ke.pop();for(;ue&&ke.length;)ue=ke.every(he=>Te.intersects(he,Ce)),Te=ke.pop();return ue},C=(xe,Ce)=>(s("comp",xe,Ce),xe=U(xe,Ce),s("caret",xe),xe=F(xe,Ce),s("tildes",xe),xe=se(xe,Ce),s("xrange",xe),xe=Q(xe,Ce),s("stars",xe),xe),N=xe=>!xe||xe.toLowerCase()==="x"||xe==="*",F=(xe,Ce)=>xe.trim().split(/\s+/).map(ue=>D(ue,Ce)).join(" "),D=(xe,Ce)=>{const ue=Ce.loose?l[u.TILDELOOSE]:l[u.TILDE];return xe.replace(ue,(ke,Te,he,j,pe)=>{s("tilde",xe,ke,Te,he,j,pe);let Ne;return N(Te)?Ne="":N(he)?Ne=`>=${Te}.0.0 <${+Te+1}.0.0-0`:N(j)?Ne=`>=${Te}.${he}.0 <${Te}.${+he+1}.0-0`:pe?(s("replaceTilde pr",pe),Ne=`>=${Te}.${he}.${j}-${pe} <${Te}.${+he+1}.0-0`):Ne=`>=${Te}.${he}.${j} <${Te}.${+he+1}.0-0`,s("tilde return",Ne),Ne})},U=(xe,Ce)=>xe.trim().split(/\s+/).map(ue=>G(ue,Ce)).join(" "),G=(xe,Ce)=>{s("caret",xe,Ce);const ue=Ce.loose?l[u.CARETLOOSE]:l[u.CARET],ke=Ce.includePrerelease?"-0":"";return xe.replace(ue,(Te,he,j,pe,Ne)=>{s("caret",xe,Te,he,j,pe,Ne);let ae;return N(he)?ae="":N(j)?ae=`>=${he}.0.0${ke} <${+he+1}.0.0-0`:N(pe)?he==="0"?ae=`>=${he}.${j}.0${ke} <${he}.${+j+1}.0-0`:ae=`>=${he}.${j}.0${ke} <${+he+1}.0.0-0`:Ne?(s("replaceCaret pr",Ne),he==="0"?j==="0"?ae=`>=${he}.${j}.${pe}-${Ne} <${he}.${j}.${+pe+1}-0`:ae=`>=${he}.${j}.${pe}-${Ne} <${he}.${+j+1}.0-0`:ae=`>=${he}.${j}.${pe}-${Ne} <${+he+1}.0.0-0`):(s("no pr"),he==="0"?j==="0"?ae=`>=${he}.${j}.${pe}${ke} <${he}.${j}.${+pe+1}-0`:ae=`>=${he}.${j}.${pe}${ke} <${he}.${+j+1}.0-0`:ae=`>=${he}.${j}.${pe} <${+he+1}.0.0-0`),s("caret return",ae),ae})},se=(xe,Ce)=>(s("replaceXRanges",xe,Ce),xe.split(/\s+/).map(ue=>re(ue,Ce)).join(" ")),re=(xe,Ce)=>{xe=xe.trim();const ue=Ce.loose?l[u.XRANGELOOSE]:l[u.XRANGE];return xe.replace(ue,(ke,Te,he,j,pe,Ne)=>{s("xRange",xe,ke,Te,he,j,pe,Ne);const ae=N(he),He=ae||N(j),it=He||N(pe),Xe=it;return Te==="="&&Xe&&(Te=""),Ne=Ce.includePrerelease?"-0":"",ae?Te===">"||Te==="<"?ke="<0.0.0-0":ke="*":Te&&Xe?(He&&(j=0),pe=0,Te===">"?(Te=">=",He?(he=+he+1,j=0,pe=0):(j=+j+1,pe=0)):Te==="<="&&(Te="<",He?he=+he+1:j=+j+1),Te==="<"&&(Ne="-0"),ke=`${Te+he}.${j}.${pe}${Ne}`):He?ke=`>=${he}.0.0${Ne} <${+he+1}.0.0-0`:it&&(ke=`>=${he}.${j}.0${Ne} <${he}.${+j+1}.0-0`),s("xRange return",ke),ke})},Q=(xe,Ce)=>(s("replaceStars",xe,Ce),xe.trim().replace(l[u.STAR],"")),ce=(xe,Ce)=>(s("replaceGTE0",xe,Ce),xe.trim().replace(l[Ce.includePrerelease?u.GTE0PRE:u.GTE0],"")),Ie=xe=>(Ce,ue,ke,Te,he,j,pe,Ne,ae,He,it,Xe)=>(N(ke)?ue="":N(Te)?ue=`>=${ke}.0.0${xe?"-0":""}`:N(he)?ue=`>=${ke}.${Te}.0${xe?"-0":""}`:j?ue=`>=${ue}`:ue=`>=${ue}${xe?"-0":""}`,N(ae)?Ne="":N(He)?Ne=`<${+ae+1}.0.0-0`:N(it)?Ne=`<${ae}.${+He+1}.0-0`:Xe?Ne=`<=${ae}.${He}.${it}-${Xe}`:xe?Ne=`<${ae}.${He}.${+it+1}-0`:Ne=`<=${Ne}`,`${ue} ${Ne}`.trim()),qe=(xe,Ce,ue)=>{for(let ke=0;ke<xe.length;ke++)if(!xe[ke].test(Ce))return!1;if(Ce.prerelease.length&&!ue.includePrerelease){for(let ke=0;ke<xe.length;ke++)if(s(xe[ke].semver),xe[ke].semver!==a.ANY&&xe[ke].semver.prerelease.length>0){const Te=xe[ke].semver;if(Te.major===Ce.major&&Te.minor===Ce.minor&&Te.patch===Ce.patch)return!0}return!1}return!0};return LN}var DN,RW;function sC(){if(RW)return DN;RW=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(d,h){if(h=n(h),d instanceof e){if(d.loose===!!h.loose)return d;d=d.value}d=d.trim().split(/\s+/).join(" "),s("comparator",d,h),this.options=h,this.loose=!!h.loose,this.parse(d),this.semver===t?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(d){const h=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],p=d.match(h);if(!p)throw new TypeError(`Invalid comparator: ${d}`);this.operator=p[1]!==void 0?p[1]:"",this.operator==="="&&(this.operator=""),p[2]?this.semver=new o(p[2],this.options.loose):this.semver=t}toString(){return this.value}test(d){if(s("Comparator.test",d,this.options.loose),this.semver===t||d===t)return!0;if(typeof d=="string")try{d=new o(d,this.options)}catch{return!1}return a(d,this.operator,this.semver,this.options)}intersects(d,h){if(!(d instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(d.value,h).test(this.value):d.operator===""?d.value===""?!0:new l(this.value,h).test(d.semver):(h=n(h),h.includePrerelease&&(this.value==="<0.0.0-0"||d.value==="<0.0.0-0")||!h.includePrerelease&&(this.value.startsWith("<0.0.0")||d.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&d.operator.startsWith(">")||this.operator.startsWith("<")&&d.operator.startsWith("<")||this.semver.version===d.semver.version&&this.operator.includes("=")&&d.operator.includes("=")||a(this.semver,"<",d.semver,h)&&this.operator.startsWith(">")&&d.operator.startsWith("<")||a(this.semver,">",d.semver,h)&&this.operator.startsWith("<")&&d.operator.startsWith(">")))}}DN=e;const n=iF(),{safeRe:r,t:i}=mS(),a=dce(),s=iC(),o=$o(),l=Qc();return DN}var FN,IW;function oC(){if(IW)return FN;IW=1;const t=Qc();return FN=(n,r,i)=>{try{r=new t(r,i)}catch{return!1}return r.test(n)},FN}var BN,NW;function qOe(){if(NW)return BN;NW=1;const t=Qc();return BN=(n,r)=>new t(n,r).set.map(i=>i.map(a=>a.value).join(" ").trim().split(" ")),BN}var UN,OW;function HOe(){if(OW)return UN;OW=1;const t=$o(),e=Qc();return UN=(r,i,a)=>{let s=null,o=null,l=null;try{l=new e(i,a)}catch{return null}return r.forEach(u=>{l.test(u)&&(!s||o.compare(u)===-1)&&(s=u,o=new t(s,a))}),s},UN}var jN,MW;function VOe(){if(MW)return jN;MW=1;const t=$o(),e=Qc();return jN=(r,i,a)=>{let s=null,o=null,l=null;try{l=new e(i,a)}catch{return null}return r.forEach(u=>{l.test(u)&&(!s||o.compare(u)===1)&&(s=u,o=new t(s,a))}),s},jN}var zN,PW;function GOe(){if(PW)return zN;PW=1;const t=$o(),e=Qc(),n=aC();return zN=(i,a)=>{i=new e(i,a);let s=new t("0.0.0");if(i.test(s)||(s=new t("0.0.0-0"),i.test(s)))return s;s=null;for(let o=0;o<i.set.length;++o){const l=i.set[o];let u=null;l.forEach(d=>{const h=new t(d.semver.version);switch(d.operator){case">":h.prerelease.length===0?h.patch++:h.prerelease.push(0),h.raw=h.format();case"":case">=":(!u||n(h,u))&&(u=h);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${d.operator}`)}}),u&&(!s||n(s,u))&&(s=u)}return s&&i.test(s)?s:null},zN}var $N,LW;function WOe(){if(LW)return $N;LW=1;const t=Qc();return $N=(n,r)=>{try{return new t(n,r).range||"*"}catch{return null}},$N}var qN,DW;function uF(){if(DW)return qN;DW=1;const t=$o(),e=sC(),{ANY:n}=e,r=Qc(),i=oC(),a=aC(),s=sF(),o=lF(),l=oF();return qN=(d,h,p,m)=>{d=new t(d,m),h=new r(h,m);let v,w,k,T,C;switch(p){case">":v=a,w=o,k=s,T=">",C=">=";break;case"<":v=s,w=l,k=a,T="<",C="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i(d,h,m))return!1;for(let N=0;N<h.set.length;++N){const F=h.set[N];let D=null,U=null;if(F.forEach(G=>{G.semver===n&&(G=new e(">=0.0.0")),D=D||G,U=U||G,v(G.semver,D.semver,m)?D=G:k(G.semver,U.semver,m)&&(U=G)}),D.operator===T||D.operator===C||(!U.operator||U.operator===T)&&w(d,U.semver))return!1;if(U.operator===C&&k(d,U.semver))return!1}return!0},qN}var HN,FW;function KOe(){if(FW)return HN;FW=1;const t=uF();return HN=(n,r,i)=>t(n,r,">",i),HN}var VN,BW;function YOe(){if(BW)return VN;BW=1;const t=uF();return VN=(n,r,i)=>t(n,r,"<",i),VN}var GN,UW;function XOe(){if(UW)return GN;UW=1;const t=Qc();return GN=(n,r,i)=>(n=new t(n,i),r=new t(r,i),n.intersects(r,i)),GN}var WN,jW;function ZOe(){if(jW)return WN;jW=1;const t=oC(),e=Zc();return WN=(n,r,i)=>{const a=[];let s=null,o=null;const l=n.sort((p,m)=>e(p,m,i));for(const p of l)t(p,r,i)?(o=p,s||(s=p)):(o&&a.push([s,o]),o=null,s=null);s&&a.push([s,null]);const u=[];for(const[p,m]of a)p===m?u.push(p):!m&&p===l[0]?u.push("*"):m?p===l[0]?u.push(`<=${m}`):u.push(`${p} - ${m}`):u.push(`>=${p}`);const d=u.join(" || "),h=typeof r.raw=="string"?r.raw:String(r);return d.length<h.length?d:r},WN}var KN,zW;function QOe(){if(zW)return KN;zW=1;const t=Qc(),e=sC(),{ANY:n}=e,r=oC(),i=Zc(),a=(h,p,m={})=>{if(h===p)return!0;h=new t(h,m),p=new t(p,m);let v=!1;e:for(const w of h.set){for(const k of p.set){const T=l(w,k,m);if(v=v||T!==null,T)continue e}if(v)return!1}return!0},s=[new e(">=0.0.0-0")],o=[new e(">=0.0.0")],l=(h,p,m)=>{if(h===p)return!0;if(h.length===1&&h[0].semver===n){if(p.length===1&&p[0].semver===n)return!0;m.includePrerelease?h=s:h=o}if(p.length===1&&p[0].semver===n){if(m.includePrerelease)return!0;p=o}const v=new Set;let w,k;for(const se of h)se.operator===">"||se.operator===">="?w=u(w,se,m):se.operator==="<"||se.operator==="<="?k=d(k,se,m):v.add(se.semver);if(v.size>1)return null;let T;if(w&&k){if(T=i(w.semver,k.semver,m),T>0)return null;if(T===0&&(w.operator!==">="||k.operator!=="<="))return null}for(const se of v){if(w&&!r(se,String(w),m)||k&&!r(se,String(k),m))return null;for(const re of p)if(!r(se,String(re),m))return!1;return!0}let C,N,F,D,U=k&&!m.includePrerelease&&k.semver.prerelease.length?k.semver:!1,G=w&&!m.includePrerelease&&w.semver.prerelease.length?w.semver:!1;U&&U.prerelease.length===1&&k.operator==="<"&&U.prerelease[0]===0&&(U=!1);for(const se of p){if(D=D||se.operator===">"||se.operator===">=",F=F||se.operator==="<"||se.operator==="<=",w){if(G&&se.semver.prerelease&&se.semver.prerelease.length&&se.semver.major===G.major&&se.semver.minor===G.minor&&se.semver.patch===G.patch&&(G=!1),se.operator===">"||se.operator===">="){if(C=u(w,se,m),C===se&&C!==w)return!1}else if(w.operator===">="&&!r(w.semver,String(se),m))return!1}if(k){if(U&&se.semver.prerelease&&se.semver.prerelease.length&&se.semver.major===U.major&&se.semver.minor===U.minor&&se.semver.patch===U.patch&&(U=!1),se.operator==="<"||se.operator==="<="){if(N=d(k,se,m),N===se&&N!==k)return!1}else if(k.operator==="<="&&!r(k.semver,String(se),m))return!1}if(!se.operator&&(k||w)&&T!==0)return!1}return!(w&&F&&!k&&T!==0||k&&D&&!w&&T!==0||G||U)},u=(h,p,m)=>{if(!h)return p;const v=i(h.semver,p.semver,m);return v>0?h:v<0||p.operator===">"&&h.operator===">="?p:h},d=(h,p,m)=>{if(!h)return p;const v=i(h.semver,p.semver,m);return v<0?h:v>0||p.operator==="<"&&h.operator==="<="?p:h};return KN=a,KN}var YN,$W;function JOe(){if($W)return YN;$W=1;const t=mS(),e=rC(),n=$o(),r=lce(),i=mv(),a=ROe(),s=IOe(),o=NOe(),l=OOe(),u=MOe(),d=POe(),h=LOe(),p=DOe(),m=Zc(),v=FOe(),w=BOe(),k=aF(),T=UOe(),C=jOe(),N=aC(),F=sF(),D=uce(),U=cce(),G=oF(),se=lF(),re=dce(),Q=zOe(),ce=sC(),Ie=Qc(),qe=oC(),xe=qOe(),Ce=HOe(),ue=VOe(),ke=GOe(),Te=WOe(),he=uF(),j=KOe(),pe=YOe(),Ne=XOe(),ae=ZOe(),He=QOe();return YN={parse:i,valid:a,clean:s,inc:o,diff:l,major:u,minor:d,patch:h,prerelease:p,compare:m,rcompare:v,compareLoose:w,compareBuild:k,sort:T,rsort:C,gt:N,lt:F,eq:D,neq:U,gte:G,lte:se,cmp:re,coerce:Q,Comparator:ce,Range:Ie,satisfies:qe,toComparators:xe,maxSatisfying:Ce,minSatisfying:ue,minVersion:ke,validRange:Te,outside:he,gtr:j,ltr:pe,intersects:Ne,simplifyRange:ae,subset:He,SemVer:n,re:t.re,src:t.src,tokens:t.t,SEMVER_SPEC_VERSION:e.SEMVER_SPEC_VERSION,RELEASE_TYPES:e.RELEASE_TYPES,compareIdentifiers:r.compareIdentifiers,rcompareIdentifiers:r.rcompareIdentifiers},YN}JOe();function Up(t){if(!t||t.split("/").length>2||t.startsWith("/")||t.endsWith("/")||t.split(":").length>2)throw new Error(`Invalid identifier format: ${t}`);const[e,n]=t.split(":"),r=n||"latest";if(e.includes("/")){const[i,a]=e.split("/",2);if(!i||!a)throw new Error(`Invalid identifier format: ${t}`);return[i,a,r]}else{if(!e)throw new Error(`Invalid identifier format: ${t}`);return["-",e,r]}}class e4e extends Error{constructor(e){super(e),this.name="LangSmithConflictError"}}async function sr(t,e,n){let r;if(t.ok){n&&(r=await t.text());return}r=await t.text();const i=`Failed to ${e}. Received status [${t.status}]: ${t.statusText}. Server response: ${r}`;throw t.status===409?new e4e(i):new Error(i)}var qW="[...]",t4e={result:"[Circular]"},vT=[],ob=[];const n4e=new TextEncoder;function r4e(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function fE(t){return n4e.encode(t)}function Dl(t,e,n,r){try{const i=JSON.stringify(t,e,n);return fE(i)}catch(i){if(!i.message?.includes("Converting circular structure to JSON"))return console.warn("[WARNING]: LangSmith received unserializable value."),fE("[Unserializable]");console.warn("[WARNING]: LangSmith received circular JSON. This will decrease tracer performance."),typeof r>"u"&&(r=r4e()),l5(t,"",0,[],void 0,0,r);let a;try{ob.length===0?a=JSON.stringify(t,e,n):a=JSON.stringify(t,i4e(e),n)}catch{return fE("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;vT.length!==0;){const s=vT.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return fE(a)}}function XN(t,e,n,r){var i=Object.getOwnPropertyDescriptor(r,n);i.get!==void 0?i.configurable?(Object.defineProperty(r,n,{value:t}),vT.push([r,n,e,i])):ob.push([e,n,t]):(r[n]=t,vT.push([r,n,e]))}function l5(t,e,n,r,i,a,s){a+=1;var o;if(typeof t=="object"&&t!==null){for(o=0;o<r.length;o++)if(r[o]===t){XN(t4e,t,e,i);return}if(typeof s.depthLimit<"u"&&a>s.depthLimit){XN(qW,t,e,i);return}if(typeof s.edgesLimit<"u"&&n+1>s.edgesLimit){XN(qW,t,e,i);return}if(r.push(t),Array.isArray(t))for(o=0;o<t.length;o++)l5(t[o],o,o,r,t,a,s);else{var l=Object.keys(t);for(o=0;o<l.length;o++){var u=l[o];l5(t[u],u,o,r,t,a,s)}}r.pop()}}function i4e(t){return t=typeof t<"u"?t:function(e,n){return n},function(e,n){if(ob.length>0)for(var r=0;r<ob.length;r++){var i=ob[r];if(i[1]===e&&i[0]===n){n=i[2],ob.splice(r,1);break}}return t.call(this,e,n)}}function HW(t){const e=pce(),n=y4e(),r=t.extra??{},i=r.metadata;return t.extra={...r,runtime:{...e,...r?.runtime},metadata:{...n,...n.revision_id||t.revision_id?{revision_id:t.revision_id??n.revision_id}:{},...i}},t}const a4e=()=>{const t=cm("TRACING_SAMPLING_RATE");if(t===void 0)return;const e=parseFloat(t);if(e<0||e>1)throw new Error(`LANGSMITH_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${e}`);return e},s4e=t=>{const n=t.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return n==="localhost"||n==="127.0.0.1"||n==="::1"};async function o4e(t){const e=[];for await(const n of t)e.push(n);return e}function ZN(t){if(t!==void 0)return t.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}const l4e=async t=>{if(t?.status===429){const e=parseInt(t.headers.get("retry-after")??"30",10)*1e3;if(e>0)return await new Promise(n=>setTimeout(n,e)),!0}return!1};class u4e{constructor(){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"sizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0})}peek(){return this.items[0]}push(e){let n;const r=new Promise(a=>{n=a}),i=Dl(e.item).length;return this.items.push({action:e.action,payload:e.item,itemPromiseResolve:n,itemPromise:r,size:i}),this.sizeBytes+=i,r}pop(e){if(e<1)throw new Error("Number of bytes to pop off may not be less than 1.");const n=[];let r=0;for(;r+(this.peek()?.size??0)<e&&this.items.length>0;){const i=this.items.shift();i&&(n.push(i),r+=i.size,this.sizeBytes-=i.size)}if(n.length===0&&this.items.length>0){const i=this.items.shift();n.push(i),r+=i.size,this.sizeBytes-=i.size}return[n.map(i=>({action:i.action,item:i.payload})),()=>n.forEach(i=>i.itemPromiseResolve())]}}const c4e=20971520,d4e=2500;class _1{constructor(e={}){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filteredPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:new u4e}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"batchSizeBytesLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"blockOnRootRunFinalization",{enumerable:!0,configurable:!0,writable:!0,value:o0("LANGSMITH_TRACING_BACKGROUND")==="false"}),Object.defineProperty(this,"traceBatchConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:5}),Object.defineProperty(this,"_serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_getServerInfoPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"manualFlushMode",{enumerable:!0,configurable:!0,writable:!0,value:!1});const n=_1.getDefaultClientConfig();if(this.tracingSampleRate=a4e(),this.apiUrl=ZN(e.apiUrl??n.apiUrl)??"",this.apiUrl.endsWith("/")&&(this.apiUrl=this.apiUrl.slice(0,-1)),this.apiKey=ZN(e.apiKey??n.apiKey),this.webUrl=ZN(e.webUrl??n.webUrl),this.webUrl?.endsWith("/")&&(this.webUrl=this.webUrl.slice(0,-1)),this.timeout_ms=e.timeout_ms??9e4,this.caller=new KG(e.callerOptions??{}),this.traceBatchConcurrency=e.traceBatchConcurrency??this.traceBatchConcurrency,this.traceBatchConcurrency<1)throw new Error("Trace batch concurrency must be positive.");this.batchIngestCaller=new KG({maxRetries:2,maxConcurrency:this.traceBatchConcurrency,...e.callerOptions??{},onFailedResponseHook:l4e}),this.hideInputs=e.hideInputs??e.anonymizer??n.hideInputs,this.hideOutputs=e.hideOutputs??e.anonymizer??n.hideOutputs,this.autoBatchTracing=e.autoBatchTracing??this.autoBatchTracing,this.blockOnRootRunFinalization=e.blockOnRootRunFinalization??this.blockOnRootRunFinalization,this.batchSizeBytesLimit=e.batchSizeBytesLimit,this.fetchOptions=e.fetchOptions||{},this.manualFlushMode=e.manualFlushMode??this.manualFlushMode}static getDefaultClientConfig(){const e=cm("API_KEY"),n=cm("ENDPOINT")??"https://api.smith.langchain.com",r=cm("HIDE_INPUTS")==="true",i=cm("HIDE_OUTPUTS")==="true";return{apiUrl:n,apiKey:e,webUrl:void 0,hideInputs:r,hideOutputs:i}}getHostUrl(){return this.webUrl?this.webUrl:s4e(this.apiUrl)?(this.webUrl="http://localhost:3000",this.webUrl):this.apiUrl.endsWith("/api/v1")?(this.webUrl=this.apiUrl.replace("/api/v1",""),this.webUrl):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("eu")?(this.webUrl="https://eu.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("beta")?(this.webUrl="https://beta.smith.langchain.com",this.webUrl):(this.webUrl="https://smith.langchain.com",this.webUrl)}get headers(){const e={"User-Agent":`langsmith-js/${hce}`};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),e}processInputs(e){return this.hideInputs===!1?e:this.hideInputs===!0?{}:typeof this.hideInputs=="function"?this.hideInputs(e):e}processOutputs(e){return this.hideOutputs===!1?e:this.hideOutputs===!0?{}:typeof this.hideOutputs=="function"?this.hideOutputs(e):e}prepareRunCreateOrUpdateInputs(e){const n={...e};return n.inputs!==void 0&&(n.inputs=this.processInputs(n.inputs)),n.outputs!==void 0&&(n.outputs=this.processOutputs(n.outputs)),n}async _getResponse(e,n){const r=n?.toString()??"",i=`${this.apiUrl}${e}?${r}`,a=await this.caller.call(An(),i,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await sr(a,`Failed to fetch ${e}`),a}async _get(e,n){return(await this._getResponse(e,n)).json()}async*_getPaginated(e,n=new URLSearchParams,r){let i=Number(n.get("offset"))||0;const a=Number(n.get("limit"))||100;for(;;){n.set("offset",String(i)),n.set("limit",String(a));const s=`${this.apiUrl}${e}?${n}`,o=await this.caller.call(An(),s,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await sr(o,`Failed to fetch ${e}`);const l=r?r(await o.json()):await o.json();if(l.length===0||(yield l,l.length<a))break;i+=l.length}}async*_getCursorPaginatedList(e,n=null,r="POST",i="runs"){const a=n?{...n}:{};for(;;){const o=await(await this.caller.call(An(),`${this.apiUrl}${e}`,{method:r,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:JSON.stringify(a)})).json();if(!o||!o[i])break;yield o[i];const l=o.cursors;if(!l||!l.next)break;a.cursor=l.next}}_filterForSampling(e,n=!1){if(this.tracingSampleRate===void 0)return e;if(n){const r=[];for(const i of e)this.filteredPostUuids.has(i.id)?this.filteredPostUuids.delete(i.id):r.push(i);return r}else{const r=[];for(const i of e)i.id!==i.trace_id&&!this.filteredPostUuids.has(i.trace_id)||Math.random()<this.tracingSampleRate?r.push(i):this.filteredPostUuids.add(i.id);return r}}async _getBatchSizeLimitBytes(){const e=await this._ensureServerInfo();return this.batchSizeBytesLimit??e.batch_ingest_config?.size_limit_bytes??c4e}async _getMultiPartSupport(){return(await this._ensureServerInfo()).instance_flags?.dataset_examples_multipart_enabled??!1}drainAutoBatchQueue(e){const n=[];for(;this.autoBatchQueue.items.length>0;){const[r,i]=this.autoBatchQueue.pop(e);if(!r.length){i();break}const a=this._processBatch(r,i).catch(console.error);n.push(a)}return Promise.all(n)}async _processBatch(e,n){if(!e.length){n();return}try{const r={runCreates:e.filter(a=>a.action==="create").map(a=>a.item),runUpdates:e.filter(a=>a.action==="update").map(a=>a.item)};(await this._ensureServerInfo())?.batch_ingest_config?.use_multipart_endpoint?await this.multipartIngestRuns(r):await this.batchIngestRuns(r)}finally{n()}}async processRunOperation(e){clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0,e.action==="create"&&(e.item=HW(e.item));const n=this.autoBatchQueue.push(e);if(this.manualFlushMode)return n;const r=await this._getBatchSizeLimitBytes();return this.autoBatchQueue.sizeBytes>r&&this.drainAutoBatchQueue(r),this.autoBatchQueue.items.length>0&&(this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue(r)},this.autoBatchAggregationDelayMs)),n}async _getServerInfo(){const e=await An()(`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(d4e),...this.fetchOptions});return await sr(e,"get server info"),e.json()}async _ensureServerInfo(){return this._getServerInfoPromise===void 0&&(this._getServerInfoPromise=(async()=>{if(this._serverInfo===void 0)try{this._serverInfo=await this._getServerInfo()}catch{console.warn("[WARNING]: LangSmith failed to fetch info on supported operations. Falling back to batch operations and default limits.")}return this._serverInfo??{}})()),this._getServerInfoPromise.then(e=>(this._serverInfo===void 0&&(this._getServerInfoPromise=void 0),e))}async _getSettings(){return this.settings||(this.settings=this._get("/settings")),await this.settings}async flush(){const e=await this._getBatchSizeLimitBytes();await this.drainAutoBatchQueue(e)}async createRun(e){if(!this._filterForSampling([e]).length)return;const n={...this.headers,"Content-Type":"application/json"},r=e.project_name;delete e.project_name;const i=this.prepareRunCreateOrUpdateInputs({session_name:r,...e,start_time:e.start_time??Date.now()});if(this.autoBatchTracing&&i.trace_id!==void 0&&i.dotted_order!==void 0){this.processRunOperation({action:"create",item:i}).catch(console.error);return}const a=HW(i),s=await this.caller.call(An(),`${this.apiUrl}/runs`,{method:"POST",headers:n,body:Dl(a),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await sr(s,"create run",!0)}async batchIngestRuns({runCreates:e,runUpdates:n}){if(e===void 0&&n===void 0)return;let r=e?.map(o=>this.prepareRunCreateOrUpdateInputs(o))??[],i=n?.map(o=>this.prepareRunCreateOrUpdateInputs(o))??[];if(r.length>0&&i.length>0){const o=r.reduce((u,d)=>(d.id&&(u[d.id]=d),u),{}),l=[];for(const u of i)u.id!==void 0&&o[u.id]?o[u.id]={...o[u.id],...u}:l.push(u);r=Object.values(o),i=l}const a={post:this._filterForSampling(r),patch:this._filterForSampling(i,!0)};if(!a.post.length&&!a.patch.length)return;const s={post:[],patch:[]};for(const o of["post","patch"]){const l=o,u=a[l].reverse();let d=u.pop();for(;d!==void 0;)s[l].push(d),d=u.pop()}(s.post.length>0||s.patch.length>0)&&await this._postBatchIngestRuns(Dl(s))}async _postBatchIngestRuns(e){const n={...this.headers,"Content-Type":"application/json",Accept:"application/json"},r=await this.batchIngestCaller.call(An(),`${this.apiUrl}/runs/batch`,{method:"POST",headers:n,body:e,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await sr(r,"batch create run",!0)}async multipartIngestRuns({runCreates:e,runUpdates:n}){if(e===void 0&&n===void 0)return;const r={};let i=[];for(const d of e??[]){const h=this.prepareRunCreateOrUpdateInputs(d);h.id!==void 0&&h.attachments!==void 0&&(r[h.id]=h.attachments),delete h.attachments,i.push(h)}let a=[];for(const d of n??[])a.push(this.prepareRunCreateOrUpdateInputs(d));if(i.find(d=>d.trace_id===void 0||d.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when creating a run');if(a.find(d=>d.trace_id===void 0||d.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when updating a run');if(i.length>0&&a.length>0){const d=i.reduce((p,m)=>(m.id&&(p[m.id]=m),p),{}),h=[];for(const p of a)p.id!==void 0&&d[p.id]?d[p.id]={...d[p.id],...p}:h.push(p);i=Object.values(d),a=h}if(i.length===0&&a.length===0)return;const l=[],u=[];for(const[d,h]of[["post",i],["patch",a]])for(const p of h){const{inputs:m,outputs:v,events:w,attachments:k,...T}=p,C={inputs:m,outputs:v,events:w},N=Dl(T);u.push({name:`${d}.${T.id}`,payload:new Blob([N],{type:`application/json; length=${N.length}`})});for(const[F,D]of Object.entries(C)){if(D===void 0)continue;const U=Dl(D);u.push({name:`${d}.${T.id}.${F}`,payload:new Blob([U],{type:`application/json; length=${U.length}`})})}if(T.id!==void 0){const F=r[T.id];if(F){delete r[T.id];for(const[D,U]of Object.entries(F)){let G,se;if(Array.isArray(U)?[G,se]=U:(G=U.mimeType,se=U.data),D.includes(".")){console.warn(`Skipping attachment '${D}' for run ${T.id}: Invalid attachment name. Attachment names must not contain periods ('.'). Please rename the attachment and try again.`);continue}u.push({name:`attachment.${T.id}.${D}`,payload:new Blob([se],{type:`${G}; length=${se.byteLength}`})})}}}l.push(`trace=${T.trace_id},id=${T.id}`)}await this._sendMultipartRequest(u,l.join("; "))}async _sendMultipartRequest(e,n){try{const r="----LangSmithFormBoundary"+Math.random().toString(36).slice(2),i=[];for(const l of e)i.push(new Blob([`--${r}\r
`])),i.push(new Blob([`Content-Disposition: form-data; name="${l.name}"\r
`,`Content-Type: ${l.payload.type}\r
\r
`])),i.push(l.payload),i.push(new Blob([`\r
`]));i.push(new Blob([`--${r}--\r
`]));const s=await new Blob(i).arrayBuffer(),o=await this.batchIngestCaller.call(An(),`${this.apiUrl}/runs/multipart`,{method:"POST",headers:{...this.headers,"Content-Type":`multipart/form-data; boundary=${r}`},body:s,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await sr(o,"ingest multipart runs",!0)}catch(r){console.warn(`${r.message.trim()}

Context: ${n}`)}}async updateRun(e,n){hr(e),n.inputs&&(n.inputs=this.processInputs(n.inputs)),n.outputs&&(n.outputs=this.processOutputs(n.outputs));const r={...n,id:e};if(!this._filterForSampling([r],!0).length)return;if(this.autoBatchTracing&&r.trace_id!==void 0&&r.dotted_order!==void 0){if(n.end_time!==void 0&&r.parent_run_id===void 0&&this.blockOnRootRunFinalization&&!this.manualFlushMode){await this.processRunOperation({action:"update",item:r}).catch(console.error);return}else this.processRunOperation({action:"update",item:r}).catch(console.error);return}const i={...this.headers,"Content-Type":"application/json"},a=await this.caller.call(An(),`${this.apiUrl}/runs/${e}`,{method:"PATCH",headers:i,body:Dl(n),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await sr(a,"update run",!0)}async readRun(e,{loadChildRuns:n}={loadChildRuns:!1}){hr(e);let r=await this._get(`/runs/${e}`);return n&&r.child_run_ids&&(r=await this._loadChildRuns(r)),r}async getRunUrl({runId:e,run:n,projectOpts:r}){if(n!==void 0){let i;n.session_id?i=n.session_id:r?.projectName?i=(await this.readProject({projectName:r?.projectName})).id:r?.projectId?i=r?.projectId:i=(await this.readProject({projectName:cm("PROJECT")||"default"})).id;const a=await this._getTenantId();return`${this.getHostUrl()}/o/${a}/projects/p/${i}/r/${n.id}?poll=true`}else if(e!==void 0){const i=await this.readRun(e);if(!i.app_path)throw new Error(`Run ${e} has no app_path`);return`${this.getHostUrl()}${i.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(e){const n=await o4e(this.listRuns({id:e.child_run_ids})),r={},i={};n.sort((a,s)=>(a?.dotted_order??"").localeCompare(s?.dotted_order??""));for(const a of n){if(a.parent_run_id===null||a.parent_run_id===void 0)throw new Error(`Child run ${a.id} has no parent`);a.parent_run_id in r||(r[a.parent_run_id]=[]),r[a.parent_run_id].push(a),i[a.id]=a}e.child_runs=r[e.id]||[];for(const a in r)a!==e.id&&(i[a].child_runs=r[a]);return e}async*listRuns(e){const{projectId:n,projectName:r,parentRunId:i,traceId:a,referenceExampleId:s,startTime:o,executionOrder:l,isRoot:u,runType:d,error:h,id:p,query:m,filter:v,traceFilter:w,treeFilter:k,limit:T,select:C}=e;let N=[];if(n&&(N=Array.isArray(n)?n:[n]),r){const G=Array.isArray(r)?r:[r],se=await Promise.all(G.map(re=>this.readProject({projectName:re}).then(Q=>Q.id)));N.push(...se)}const F=["app_path","child_run_ids","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],D={session:N.length?N:null,run_type:d,reference_example:s,query:m,filter:v,trace_filter:w,tree_filter:k,execution_order:l,parent_run:i,start_time:o?o.toISOString():null,error:h,id:p,limit:T,trace:a,select:C||F,is_root:u};let U=0;for await(const G of this._getCursorPaginatedList("/runs/query",D))if(T){if(U>=T)break;if(G.length+U>T){yield*G.slice(0,T-U);break}U+=G.length,yield*G}else yield*G}async getRunStats({id:e,trace:n,parentRun:r,runType:i,projectNames:a,projectIds:s,referenceExampleIds:o,startTime:l,endTime:u,error:d,query:h,filter:p,traceFilter:m,treeFilter:v,isRoot:w,dataSourceType:k}){let T=s||[];a&&(T=[...s||[],...await Promise.all(a.map(U=>this.readProject({projectName:U}).then(G=>G.id)))]);const N=Object.fromEntries(Object.entries({id:e,trace:n,parent_run:r,run_type:i,session:T,reference_example:o,start_time:l,end_time:u,error:d,query:h,filter:p,trace_filter:m,tree_filter:v,is_root:w,data_source_type:k}).filter(([U,G])=>G!==void 0));return await(await this.caller.call(An(),`${this.apiUrl}/runs/stats`,{method:"POST",headers:this.headers,body:JSON.stringify(N),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async shareRun(e,{shareId:n}={}){const r={run_id:e,share_token:n||No()};hr(e);const a=await(await this.caller.call(An(),`${this.apiUrl}/runs/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();if(a===null||!("share_token"in a))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${a.share_token}/r`}async unshareRun(e){hr(e);const n=await this.caller.call(An(),`${this.apiUrl}/runs/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await sr(n,"unshare run",!0)}async readRunSharedLink(e){hr(e);const r=await(await this.caller.call(An(),`${this.apiUrl}/runs/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();if(!(r===null||!("share_token"in r)))return`${this.getHostUrl()}/public/${r.share_token}/r`}async listSharedRuns(e,{runIds:n}={}){const r=new URLSearchParams({share_token:e});if(n!==void 0)for(const s of n)r.append("id",s);return hr(e),await(await this.caller.call(An(),`${this.apiUrl}/public/${e}/runs${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async readDatasetSharedSchema(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id),hr(e);const i=await(await this.caller.call(An(),`${this.apiUrl}/datasets/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();return i.url=`${this.getHostUrl()}/public/${i.share_token}/d`,i}async shareDataset(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id);const r={dataset_id:e};hr(e);const a=await(await this.caller.call(An(),`${this.apiUrl}/datasets/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();return a.url=`${this.getHostUrl()}/public/${a.share_token}/d`,a}async unshareDataset(e){hr(e);const n=await this.caller.call(An(),`${this.apiUrl}/datasets/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await sr(n,"unshare dataset",!0)}async readSharedDataset(e){return hr(e),await(await this.caller.call(An(),`${this.apiUrl}/public/${e}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async listSharedExamples(e,n){const r={};n?.exampleIds&&(r.id=n.exampleIds);const i=new URLSearchParams;Object.entries(r).forEach(([o,l])=>{Array.isArray(l)?l.forEach(u=>i.append(o,u)):i.append(o,l)});const a=await this.caller.call(An(),`${this.apiUrl}/public/${e}/examples?${i.toString()}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),s=await a.json();if(!a.ok)throw"detail"in s?new Error(`Failed to list shared examples.
Status: ${a.status}
Message: ${s.detail.join(`
`)}`):new Error(`Failed to list shared examples: ${a.status} ${a.statusText}`);return s.map(o=>({...o,_hostUrl:this.getHostUrl()}))}async createProject({projectName:e,description:n=null,metadata:r=null,upsert:i=!1,projectExtra:a=null,referenceDatasetId:s=null}){const o=i?"?upsert=true":"",l=`${this.apiUrl}/sessions${o}`,u=a||{};r&&(u.metadata=r);const d={name:e,extra:u,description:n};s!==null&&(d.reference_dataset_id=s);const h=await this.caller.call(An(),l,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(d),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await sr(h,"create project"),await h.json()}async updateProject(e,{name:n=null,description:r=null,metadata:i=null,projectExtra:a=null,endTime:s=null}){const o=`${this.apiUrl}/sessions/${e}`;let l=a;i&&(l={...l||{},metadata:i});const u={name:n,extra:l,description:r,end_time:s?new Date(s).toISOString():null},d=await this.caller.call(An(),o,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(u),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await sr(d,"update project"),await d.json()}async hasProject({projectId:e,projectName:n}){let r="/sessions";const i=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)hr(e),r+=`/${e}`;else if(n!==void 0)i.append("name",n);else throw new Error("Must provide projectName or projectId");const a=await this.caller.call(An(),`${this.apiUrl}${r}?${i}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});try{const s=await a.json();return a.ok?Array.isArray(s)?s.length>0:!0:!1}catch{return!1}}async readProject({projectId:e,projectName:n,includeStats:r}){let i="/sessions";const a=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)hr(e),i+=`/${e}`;else if(n!==void 0)a.append("name",n);else throw new Error("Must provide projectName or projectId");r!==void 0&&a.append("include_stats",r.toString());const s=await this._get(i,a);let o;if(Array.isArray(s)){if(s.length===0)throw new Error(`Project[id=${e}, name=${n}] not found`);o=s[0]}else o=s;return o}async getProjectUrl({projectId:e,projectName:n}){if(e===void 0&&n===void 0)throw new Error("Must provide either projectName or projectId");const r=await this.readProject({projectId:e,projectName:n}),i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/projects/p/${r.id}`}async getDatasetUrl({datasetId:e,datasetName:n}){if(e===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");const r=await this.readDataset({datasetId:e,datasetName:n}),i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/datasets/${r.id}`}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;const e=new URLSearchParams({limit:"1"});for await(const n of this._getPaginated("/sessions",e))return this._tenantId=n[0].tenant_id,n[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:e,name:n,nameContains:r,referenceDatasetId:i,referenceDatasetName:a,referenceFree:s,metadata:o}={}){const l=new URLSearchParams;if(e!==void 0)for(const u of e)l.append("id",u);if(n!==void 0&&l.append("name",n),r!==void 0&&l.append("name_contains",r),i!==void 0)l.append("reference_dataset",i);else if(a!==void 0){const u=await this.readDataset({datasetName:a});l.append("reference_dataset",u.id)}s!==void 0&&l.append("reference_free",s.toString()),o!==void 0&&l.append("metadata",JSON.stringify(o));for await(const u of this._getPaginated("/sessions",l))yield*u}async deleteProject({projectId:e,projectName:n}){let r;if(e===void 0&&n===void 0)throw new Error("Must provide projectName or projectId");if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");e===void 0?r=(await this.readProject({projectName:n})).id:r=e,hr(r);const i=await this.caller.call(An(),`${this.apiUrl}/sessions/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await sr(i,`delete session ${r} (${n})`,!0)}async uploadCsv({csvFile:e,fileName:n,inputKeys:r,outputKeys:i,description:a,dataType:s,name:o}){const l=`${this.apiUrl}/datasets/upload`,u=new FormData;u.append("file",e,n),r.forEach(p=>{u.append("input_keys",p)}),i.forEach(p=>{u.append("output_keys",p)}),a&&u.append("description",a),s&&u.append("data_type",s),o&&u.append("name",o);const d=await this.caller.call(An(),l,{method:"POST",headers:this.headers,body:u,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await sr(d,"upload CSV"),await d.json()}async createDataset(e,{description:n,dataType:r,inputsSchema:i,outputsSchema:a,metadata:s}={}){const o={name:e,description:n,extra:s?{metadata:s}:void 0};r&&(o.data_type=r),i&&(o.inputs_schema_definition=i),a&&(o.outputs_schema_definition=a);const l=await this.caller.call(An(),`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await sr(l,"create dataset"),await l.json()}async readDataset({datasetId:e,datasetName:n}){let r="/datasets";const i=new URLSearchParams({limit:"1"});if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)hr(e),r+=`/${e}`;else if(n!==void 0)i.append("name",n);else throw new Error("Must provide datasetName or datasetId");const a=await this._get(r,i);let s;if(Array.isArray(a)){if(a.length===0)throw new Error(`Dataset[id=${e}, name=${n}] not found`);s=a[0]}else s=a;return s}async hasDataset({datasetId:e,datasetName:n}){try{return await this.readDataset({datasetId:e,datasetName:n}),!0}catch(r){if(r instanceof Error&&r.message.toLocaleLowerCase().includes("not found"))return!1;throw r}}async diffDatasetVersions({datasetId:e,datasetName:n,fromVersion:r,toVersion:i}){let a=e;if(a===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");if(a!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");a===void 0&&(a=(await this.readDataset({datasetName:n})).id);const s=new URLSearchParams({from_version:typeof r=="string"?r:r.toISOString(),to_version:typeof i=="string"?i:i.toISOString()});return await this._get(`/datasets/${a}/versions/diff`,s)}async readDatasetOpenaiFinetuning({datasetId:e,datasetName:n}){const r="/datasets";if(e===void 0)if(n!==void 0)e=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide datasetName or datasetId");return(await(await this._getResponse(`${r}/${e}/openai_ft`)).text()).trim().split(`
`).map(o=>JSON.parse(o))}async*listDatasets({limit:e=100,offset:n=0,datasetIds:r,datasetName:i,datasetNameContains:a,metadata:s}={}){const o="/datasets",l=new URLSearchParams({limit:e.toString(),offset:n.toString()});if(r!==void 0)for(const u of r)l.append("id",u);i!==void 0&&l.append("name",i),a!==void 0&&l.append("name_contains",a),s!==void 0&&l.append("metadata",JSON.stringify(s));for await(const u of this._getPaginated(o,l))yield*u}async updateDataset(e){const{datasetId:n,datasetName:r,...i}=e;if(!n&&!r)throw new Error("Must provide either datasetName or datasetId");const a=n??(await this.readDataset({datasetName:r})).id;hr(a);const s=await this.caller.call(An(),`${this.apiUrl}/datasets/${a}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await sr(s,"update dataset"),await s.json()}async updateDatasetTag(e){const{datasetId:n,datasetName:r,asOf:i,tag:a}=e;if(!n&&!r)throw new Error("Must provide either datasetName or datasetId");const s=n??(await this.readDataset({datasetName:r})).id;hr(s);const o=await this.caller.call(An(),`${this.apiUrl}/datasets/${s}/tags`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify({as_of:typeof i=="string"?i:i.toISOString(),tag:a}),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await sr(o,"update dataset tags")}async deleteDataset({datasetId:e,datasetName:n}){let r="/datasets",i=e;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(n!==void 0&&(i=(await this.readDataset({datasetName:n})).id),i!==void 0)hr(i),r+=`/${i}`;else throw new Error("Must provide datasetName or datasetId");const a=await this.caller.call(An(),this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await sr(a,`delete ${r}`),await a.json()}async indexDataset({datasetId:e,datasetName:n,tag:r}){let i=e;if(!i&&!n)throw new Error("Must provide either datasetName or datasetId");if(i&&n)throw new Error("Must provide either datasetName or datasetId, not both");i||(i=(await this.readDataset({datasetName:n})).id),hr(i);const a={tag:r},s=await this.caller.call(An(),`${this.apiUrl}/datasets/${i}/index`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await sr(s,"index dataset"),await s.json()}async similarExamples(e,n,r,{filter:i}={}){const a={limit:r,inputs:e};i!==void 0&&(a.filter=i),hr(n);const s=await this.caller.call(An(),`${this.apiUrl}/datasets/${n}/search`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await sr(s,"fetch similar examples"),(await s.json()).examples}async createExample(e,n,{datasetId:r,datasetName:i,createdAt:a,exampleId:s,metadata:o,split:l,sourceRunId:u}){let d=r;if(d===void 0&&i===void 0)throw new Error("Must provide either datasetName or datasetId");if(d!==void 0&&i!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");d===void 0&&(d=(await this.readDataset({datasetName:i})).id);const p={dataset_id:d,inputs:e,outputs:n,created_at:(a||new Date)?.toISOString(),id:s,metadata:o,split:l,source_run_id:u},m=await this.caller.call(An(),`${this.apiUrl}/examples`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(p),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await sr(m,"create example"),await m.json()}async createExamples(e){const{inputs:n,outputs:r,metadata:i,sourceRunIds:a,exampleIds:s,datasetId:o,datasetName:l}=e;let u=o;if(u===void 0&&l===void 0)throw new Error("Must provide either datasetName or datasetId");if(u!==void 0&&l!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");u===void 0&&(u=(await this.readDataset({datasetName:l})).id);const d=n.map((m,v)=>({dataset_id:u,inputs:m,outputs:r?r[v]:void 0,metadata:i?i[v]:void 0,split:e.splits?e.splits[v]:void 0,id:s?s[v]:void 0,source_run_id:a?a[v]:void 0})),h=await this.caller.call(An(),`${this.apiUrl}/examples/bulk`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(d),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await sr(h,"create examples"),await h.json()}async createLLMExample(e,n,r){return this.createExample({input:e},{output:n},r)}async createChatExample(e,n,r){const i=e.map(s=>YG(s)?XG(s):s),a=YG(n)?XG(n):n;return this.createExample({input:i},{output:a},r)}async readExample(e){hr(e);const n=`/examples/${e}`,r=await this._get(n),{attachment_urls:i,...a}=r,s=a;return i&&(s.attachments=Object.entries(i).reduce((o,[l,u])=>(o[l.slice(11)]={presigned_url:u.presigned_url,mime_type:u.mime_type},o),{})),s}async*listExamples({datasetId:e,datasetName:n,exampleIds:r,asOf:i,splits:a,inlineS3Urls:s,metadata:o,limit:l,offset:u,filter:d,includeAttachments:h}={}){let p;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)p=e;else if(n!==void 0)p=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide a datasetName or datasetId");const m=new URLSearchParams({dataset:p}),v=i?typeof i=="string"?i:i?.toISOString():void 0;v&&m.append("as_of",v);const w=s??!0;if(m.append("inline_s3_urls",w.toString()),r!==void 0)for(const T of r)m.append("id",T);if(a!==void 0)for(const T of a)m.append("splits",T);if(o!==void 0){const T=JSON.stringify(o);m.append("metadata",T)}l!==void 0&&m.append("limit",l.toString()),u!==void 0&&m.append("offset",u.toString()),d!==void 0&&m.append("filter",d),h===!0&&["attachment_urls","outputs","metadata"].forEach(T=>m.append("select",T));let k=0;for await(const T of this._getPaginated("/examples",m)){for(const C of T){const{attachment_urls:N,...F}=C,D=F;N&&(D.attachments=Object.entries(N).reduce((U,[G,se])=>(U[G.slice(11)]={presigned_url:se.presigned_url,mime_type:se.mime_type||void 0},U),{})),yield D,k++}if(l!==void 0&&k>=l)break}}async deleteExample(e){hr(e);const n=`/examples/${e}`,r=await this.caller.call(An(),this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await sr(r,`delete ${n}`),await r.json()}async updateExample(e,n){hr(e);const r=await this.caller.call(An(),`${this.apiUrl}/examples/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await sr(r,"update example"),await r.json()}async updateExamples(e){const n=await this.caller.call(An(),`${this.apiUrl}/examples/bulk`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(e),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await sr(n,"update examples"),await n.json()}async readDatasetVersion({datasetId:e,datasetName:n,asOf:r,tag:i}){let a;if(e?a=e:a=(await this.readDataset({datasetName:n})).id,hr(a),r&&i||!r&&!i)throw new Error("Exactly one of asOf and tag must be specified.");const s=new URLSearchParams;r!==void 0&&s.append("as_of",typeof r=="string"?r:r.toISOString()),i!==void 0&&s.append("tag",i);const o=await this.caller.call(An(),`${this.apiUrl}/datasets/${a}/version?${s.toString()}`,{method:"GET",headers:{...this.headers},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await sr(o,"read dataset version"),await o.json()}async listDatasetSplits({datasetId:e,datasetName:n,asOf:r}){let i;if(e===void 0&&n===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?i=(await this.readDataset({datasetName:n})).id:i=e,hr(i);const a=new URLSearchParams,s=r?typeof r=="string"?r:r?.toISOString():void 0;return s&&a.append("as_of",s),await this._get(`/datasets/${i}/splits`,a)}async updateDatasetSplits({datasetId:e,datasetName:n,splitName:r,exampleIds:i,remove:a=!1}){let s;if(e===void 0&&n===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?s=(await this.readDataset({datasetName:n})).id:s=e,hr(s);const o={split_name:r,examples:i.map(u=>(hr(u),u)),remove:a},l=await this.caller.call(An(),`${this.apiUrl}/datasets/${s}/splits`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await sr(l,"update dataset splits",!0)}async evaluateRun(e,n,{sourceInfo:r,loadChildRuns:i,referenceExample:a}={loadChildRuns:!1}){oce("This method is deprecated and will be removed in future LangSmith versions, use `evaluate` from `langsmith/evaluation` instead.");let s;if(typeof e=="string")s=await this.readRun(e,{loadChildRuns:i});else if(typeof e=="object"&&"id"in e)s=e;else throw new Error(`Invalid run type: ${typeof e}`);s.reference_example_id!==null&&s.reference_example_id!==void 0&&(a=await this.readExample(s.reference_example_id));const o=await n.evaluateRun(s,a),[l,u]=await this._logEvaluationFeedback(o,s,r);return u[0]}async createFeedback(e,n,{score:r,value:i,correction:a,comment:s,sourceInfo:o,feedbackSourceType:l="api",sourceRunId:u,feedbackId:d,feedbackConfig:h,projectId:p,comparativeExperimentId:m}){if(!e&&!p)throw new Error("One of runId or projectId must be provided");if(e&&p)throw new Error("Only one of runId or projectId can be provided");const v={type:l??"api",metadata:o??{}};u!==void 0&&v?.metadata!==void 0&&!v.metadata.__run&&(v.metadata.__run={run_id:u}),v?.metadata!==void 0&&v.metadata.__run?.run_id!==void 0&&hr(v.metadata.__run.run_id);const w={id:d??No(),run_id:e,key:n,score:r,value:i,correction:a,comment:s,feedback_source:v,comparative_experiment_id:m,feedbackConfig:h,session_id:p},k=`${this.apiUrl}/feedback`,T=await this.caller.call(An(),k,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(w),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await sr(T,"create feedback",!0),w}async updateFeedback(e,{score:n,value:r,correction:i,comment:a}){const s={};n!=null&&(s.score=n),r!=null&&(s.value=r),i!=null&&(s.correction=i),a!=null&&(s.comment=a),hr(e);const o=await this.caller.call(An(),`${this.apiUrl}/feedback/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(s),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await sr(o,"update feedback",!0)}async readFeedback(e){hr(e);const n=`/feedback/${e}`;return await this._get(n)}async deleteFeedback(e){hr(e);const n=`/feedback/${e}`,r=await this.caller.call(An(),this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await sr(r,`delete ${n}`),await r.json()}async*listFeedback({runIds:e,feedbackKeys:n,feedbackSourceTypes:r}={}){const i=new URLSearchParams;if(e&&i.append("run",e.join(",")),n)for(const a of n)i.append("key",a);if(r)for(const a of r)i.append("source",a);for await(const a of this._getPaginated("/feedback",i))yield*a}async createPresignedFeedbackToken(e,n,{expiration:r,feedbackConfig:i}={}){const a={run_id:e,feedback_key:n,feedback_config:i};return r?typeof r=="string"?a.expires_at=r:(r?.hours||r?.minutes||r?.days)&&(a.expires_in=r):a.expires_in={hours:3},await(await this.caller.call(An(),`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async createComparativeExperiment({name:e,experimentIds:n,referenceDatasetId:r,createdAt:i,description:a,metadata:s,id:o}){if(n.length===0)throw new Error("At least one experiment is required");if(r||(r=(await this.readProject({projectId:n[0]})).reference_dataset_id),!r==null)throw new Error("A reference dataset is required");const l={id:o,name:e,experiment_ids:n,reference_dataset_id:r,description:a,created_at:(i??new Date)?.toISOString(),extra:{}};return s&&(l.extra.metadata=s),await(await this.caller.call(An(),`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(l),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async*listPresignedFeedbackTokens(e){hr(e);const n=new URLSearchParams({run_id:e});for await(const r of this._getPaginated("/feedback/tokens",n))yield*r}_selectEvalResults(e){let n;return"results"in e?n=e.results:n=[e],n}async _logEvaluationFeedback(e,n,r){const i=this._selectEvalResults(e),a=[];for(const s of i){let o=r||{};s.evaluatorInfo&&(o={...s.evaluatorInfo,...o});let l=null;s.targetRunId?l=s.targetRunId:n&&(l=n.id),a.push(await this.createFeedback(l,s.key,{score:s.score,value:s.value,comment:s.comment,correction:s.correction,sourceInfo:o,sourceRunId:s.sourceRunId,feedbackConfig:s.feedbackConfig,feedbackSourceType:"model"}))}return[i,a]}async logEvaluationFeedback(e,n,r){const[i]=await this._logEvaluationFeedback(e,n,r);return i}async*listAnnotationQueues(e={}){const{queueIds:n,name:r,nameContains:i,limit:a}=e,s=new URLSearchParams;n&&n.forEach((l,u)=>{hr(l,`queueIds[${u}]`),s.append("ids",l)}),r&&s.append("name",r),i&&s.append("name_contains",i),s.append("limit",(a!==void 0?Math.min(a,100):100).toString());let o=0;for await(const l of this._getPaginated("/annotation-queues",s))if(yield*l,o++,a!==void 0&&o>=a)break}async createAnnotationQueue(e){const{name:n,description:r,queueId:i}=e,a={name:n,description:r,id:i||No()},s=await this.caller.call(An(),`${this.apiUrl}/annotation-queues`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(Object.fromEntries(Object.entries(a).filter(([l,u])=>u!==void 0))),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await sr(s,"create annotation queue"),await s.json()}async readAnnotationQueue(e){const n=await this.listAnnotationQueues({queueIds:[e]}).next();if(n.done)throw new Error(`Annotation queue with ID ${e} not found`);return n.value}async updateAnnotationQueue(e,n){const{name:r,description:i}=n,a=await this.caller.call(An(),`${this.apiUrl}/annotation-queues/${hr(e,"queueId")}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify({name:r,description:i}),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await sr(a,"update annotation queue")}async deleteAnnotationQueue(e){const n=await this.caller.call(An(),`${this.apiUrl}/annotation-queues/${hr(e,"queueId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await sr(n,"delete annotation queue")}async addRunsToAnnotationQueue(e,n){const r=await this.caller.call(An(),`${this.apiUrl}/annotation-queues/${hr(e,"queueId")}/runs`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(n.map((i,a)=>hr(i,`runIds[${a}]`).toString())),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await sr(r,"add runs to annotation queue")}async getRunFromAnnotationQueue(e,n){const r=`/annotation-queues/${hr(e,"queueId")}/run`,i=await this.caller.call(An(),`${this.apiUrl}${r}/${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await sr(i,"get run from annotation queue"),await i.json()}async deleteRunFromAnnotationQueue(e,n){const r=await this.caller.call(An(),`${this.apiUrl}/annotation-queues/${hr(e,"queueId")}/runs/${hr(n,"queueRunId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await sr(r,"delete run from annotation queue")}async getSizeFromAnnotationQueue(e){const n=await this.caller.call(An(),`${this.apiUrl}/annotation-queues/${hr(e,"queueId")}/size`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await sr(n,"get size from annotation queue"),await n.json()}async _currentTenantIsOwner(e){const n=await this._getSettings();return e=="-"||n.tenant_handle===e}async _ownerConflictError(e,n){const r=await this._getSettings();return new Error(`Cannot ${e} for another tenant.

      Current tenant: ${r.tenant_handle}

      Requested tenant: ${n}`)}async _getLatestCommitHash(e){const n=await this.caller.call(An(),`${this.apiUrl}/commits/${e}/?limit=1&offset=0`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),r=await n.json();if(!n.ok){const i=typeof r.detail=="string"?r.detail:JSON.stringify(r.detail),a=new Error(`Error ${n.status}: ${n.statusText}
${i}`);throw a.statusCode=n.status,a}if(r.commits.length!==0)return r.commits[0].commit_hash}async _likeOrUnlikePrompt(e,n){const[r,i,a]=Up(e),s=await this.caller.call(An(),`${this.apiUrl}/likes/${r}/${i}`,{method:"POST",body:JSON.stringify({like:n}),headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await sr(s,`${n?"like":"unlike"} prompt`),await s.json()}async _getPromptUrl(e){const[n,r,i]=Up(e);if(await this._currentTenantIsOwner(n)){const a=await this._getSettings();return i!=="latest"?`${this.getHostUrl()}/prompts/${r}/${i.substring(0,8)}?organizationId=${a.id}`:`${this.getHostUrl()}/prompts/${r}?organizationId=${a.id}`}else return i!=="latest"?`${this.getHostUrl()}/hub/${n}/${r}/${i.substring(0,8)}`:`${this.getHostUrl()}/hub/${n}/${r}`}async promptExists(e){return!!await this.getPrompt(e)}async likePrompt(e){return this._likeOrUnlikePrompt(e,!0)}async unlikePrompt(e){return this._likeOrUnlikePrompt(e,!1)}async*listCommits(e){for await(const n of this._getPaginated(`/commits/${e}/`,new URLSearchParams,r=>r.commits))yield*n}async*listPrompts(e){const n=new URLSearchParams;n.append("sort_field",e?.sortField??"updated_at"),n.append("sort_direction","desc"),n.append("is_archived",(!!e?.isArchived).toString()),e?.isPublic!==void 0&&n.append("is_public",e.isPublic.toString()),e?.query&&n.append("query",e.query);for await(const r of this._getPaginated("/repos",n,i=>i.repos))yield*r}async getPrompt(e){const[n,r,i]=Up(e),a=await this.caller.call(An(),`${this.apiUrl}/repos/${n}/${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(a.status===404)return null;await sr(a,"get prompt");const s=await a.json();return s.repo?s.repo:null}async createPrompt(e,n){const r=await this._getSettings();if(n?.isPublic&&!r.tenant_handle)throw new Error(`Cannot create a public prompt without first

        creating a LangChain Hub handle. 
        You can add a handle by creating a public prompt at:

        https://smith.langchain.com/prompts`);const[i,a,s]=Up(e);if(!await this._currentTenantIsOwner(i))throw await this._ownerConflictError("create a prompt",i);const o={repo_handle:a,...n?.description&&{description:n.description},...n?.readme&&{readme:n.readme},...n?.tags&&{tags:n.tags},is_public:!!n?.isPublic},l=await this.caller.call(An(),`${this.apiUrl}/repos/`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await sr(l,"create prompt");const{repo:u}=await l.json();return u}async createCommit(e,n,r){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[i,a,s]=Up(e),o=r?.parentCommitHash==="latest"||!r?.parentCommitHash?await this._getLatestCommitHash(`${i}/${a}`):r?.parentCommitHash,l={manifest:JSON.parse(JSON.stringify(n)),parent_commit:o},u=await this.caller.call(An(),`${this.apiUrl}/commits/${i}/${a}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(l),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await sr(u,"create commit");const d=await u.json();return this._getPromptUrl(`${i}/${a}${d.commit_hash?`:${d.commit_hash}`:""}`)}async updateExamplesMultipart(e,n=[]){if(!await this._getMultiPartSupport())throw new Error("Your LangSmith version does not allow using the multipart examples endpoint, please update to the latest version.");const r=new FormData;for(const s of n){const o=s.id,l={...s.metadata&&{metadata:s.metadata},...s.split&&{split:s.split}},u=Dl(l),d=new Blob([u],{type:"application/json"});if(r.append(o,d),s.inputs){const h=Dl(s.inputs),p=new Blob([h],{type:"application/json"});r.append(`${o}.inputs`,p)}if(s.outputs){const h=Dl(s.outputs),p=new Blob([h],{type:"application/json"});r.append(`${o}.outputs`,p)}if(s.attachments)for(const[h,p]of Object.entries(s.attachments)){let m,v;Array.isArray(p)?[m,v]=p:(m=p.mimeType,v=p.data);const w=new Blob([v],{type:`${m}; length=${v.byteLength}`});r.append(`${o}.attachment.${h}`,w)}if(s.attachments_operations){const h=Dl(s.attachments_operations),p=new Blob([h],{type:"application/json"});r.append(`${o}.attachments_operations`,p)}}return await(await this.caller.call(An(),`${this.apiUrl}/v1/platform/datasets/${e}/examples`,{method:"PATCH",headers:this.headers,body:r})).json()}async uploadExamplesMultipart(e,n=[]){if(!await this._getMultiPartSupport())throw new Error("Your LangSmith version does not allow using the multipart examples endpoint, please update to the latest version.");const r=new FormData;for(const s of n){const o=(s.id??No()).toString(),l={created_at:s.created_at,...s.metadata&&{metadata:s.metadata},...s.split&&{split:s.split}},u=Dl(l),d=new Blob([u],{type:"application/json"});r.append(o,d);const h=Dl(s.inputs),p=new Blob([h],{type:"application/json"});if(r.append(`${o}.inputs`,p),s.outputs){const m=Dl(s.outputs),v=new Blob([m],{type:"application/json"});r.append(`${o}.outputs`,v)}if(s.attachments)for(const[m,v]of Object.entries(s.attachments)){let w,k;Array.isArray(v)?[w,k]=v:(w=v.mimeType,k=v.data);const T=new Blob([k],{type:`${w}; length=${k.byteLength}`});r.append(`${o}.attachment.${m}`,T)}}return await(await this.caller.call(An(),`${this.apiUrl}/v1/platform/datasets/${e}/examples`,{method:"POST",headers:this.headers,body:r})).json()}async updatePrompt(e,n){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[r,i]=Up(e);if(!await this._currentTenantIsOwner(r))throw await this._ownerConflictError("update a prompt",r);const a={};if(n?.description!==void 0&&(a.description=n.description),n?.readme!==void 0&&(a.readme=n.readme),n?.tags!==void 0&&(a.tags=n.tags),n?.isPublic!==void 0&&(a.is_public=n.isPublic),n?.isArchived!==void 0&&(a.is_archived=n.isArchived),Object.keys(a).length===0)throw new Error("No valid update options provided");const s=await this.caller.call(An(),`${this.apiUrl}/repos/${r}/${i}`,{method:"PATCH",body:JSON.stringify(a),headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await sr(s,"update prompt"),s.json()}async deletePrompt(e){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[n,r,i]=Up(e);if(!await this._currentTenantIsOwner(n))throw await this._ownerConflictError("delete a prompt",n);return await(await this.caller.call(An(),`${this.apiUrl}/repos/${n}/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async pullPromptCommit(e,n){const[r,i,a]=Up(e),s=await this.caller.call(An(),`${this.apiUrl}/commits/${r}/${i}/${a}${n?.includeModel?"?include_model=true":""}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await sr(s,"pull prompt commit");const o=await s.json();return{owner:r,repo:i,commit_hash:o.commit_hash,manifest:o.manifest,examples:o.examples}}async _pullPrompt(e,n){const r=await this.pullPromptCommit(e,{includeModel:n?.includeModel});return JSON.stringify(r.manifest)}async pushPrompt(e,n){return await this.promptExists(e)?n&&Object.keys(n).some(i=>i!=="object")&&await this.updatePrompt(e,{description:n?.description,readme:n?.readme,tags:n?.tags,isPublic:n?.isPublic}):await this.createPrompt(e,{description:n?.description,readme:n?.readme,tags:n?.tags,isPublic:n?.isPublic}),n?.object?await this.createCommit(e,n?.object,{parentCommitHash:n?.parentCommitHash}):await this._getPromptUrl(e)}async clonePublicDataset(e,n={}){const{sourceApiUrl:r=this.apiUrl,datasetName:i}=n,[a,s]=this.parseTokenOrUrl(e,r),o=new _1({apiUrl:a,apiKey:"placeholder"}),l=await o.readSharedDataset(s),u=i||l.name;try{if(await this.hasDataset({datasetId:u})){console.log(`Dataset ${u} already exists in your tenant. Skipping.`);return}}catch{}const d=await o.listSharedExamples(s),h=await this.createDataset(u,{description:l.description,dataType:l.data_type||"kv",inputsSchema:l.inputs_schema_definition??void 0,outputsSchema:l.outputs_schema_definition??void 0});try{await this.createExamples({inputs:d.map(p=>p.inputs),outputs:d.flatMap(p=>p.outputs?[p.outputs]:[]),datasetId:h.id})}catch(p){throw console.error(`An error occurred while creating dataset ${u}. You should delete it manually.`),p}}parseTokenOrUrl(e,n,r=2,i="dataset"){try{return hr(e),[n,e]}catch{}try{const s=new URL(e).pathname.split("/").filter(o=>o!=="");if(s.length>=r){const o=s[s.length-r];return[n,o]}else throw new Error(`Invalid public ${i} URL: ${e}`)}catch{throw new Error(`Invalid public ${i} URL or token: ${e}`)}}awaitPendingTraceBatches(){return this.manualFlushMode?(console.warn("[WARNING]: When tracing in manual flush mode, you must call `await client.flush()` manually to submit trace batches."),Promise.resolve()):Promise.all([...this.autoBatchQueue.items.map(({itemPromise:e})=>e),this.batchIngestCaller.queue.onIdle()])}}const hce="0.3.10";var u5={};let Vh;const h4e=()=>typeof window<"u"&&typeof window.document<"u",f4e=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",p4e=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),fce=()=>typeof Deno<"u",m4e=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!fce(),g4e=()=>Vh||(h4e()?Vh="browser":m4e()?Vh="node":f4e()?Vh="webworker":p4e()?Vh="jsdom":fce()?Vh="deno":Vh="other",Vh);let QN;function pce(){if(QN===void 0){const t=g4e(),e=v4e();QN={library:"langsmith",runtime:t,sdk:"langsmith-js",sdk_version:hce,...e}}return QN}function y4e(){const t=b4e()||{},e={},n=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION","LANGSMITH_API_KEY","LANGSMITH_ENDPOINT","LANGSMITH_TRACING_V2","LANGSMITH_PROJECT","LANGSMITH_SESSION"];for(const[r,i]of Object.entries(t))(r.startsWith("LANGCHAIN_")||r.startsWith("LANGSMITH_"))&&typeof i=="string"&&!n.includes(r)&&!r.toLowerCase().includes("key")&&!r.toLowerCase().includes("secret")&&!r.toLowerCase().includes("token")&&(r==="LANGCHAIN_REVISION_ID"?e.revision_id=i:e[r]=i);return e}function b4e(){try{return typeof process<"u"&&u5?Object.entries(u5).reduce((t,[e,n])=>(t[e]=String(n),t),{}):void 0}catch{return}}function o0(t){try{return typeof process<"u"?u5?.[t]:void 0}catch{return}}function cm(t){return o0(`LANGSMITH_${t}`)||o0(`LANGCHAIN_${t}`)}let JN;function v4e(){if(JN!==void 0)return JN;const t=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],e={};for(const n of t){const r=o0(n);r!==void 0&&(e[n]=r)}return JN=e,e}const w4e=t=>!!["TRACING_V2","TRACING"].find(n=>cm(n)==="true"),eO=Symbol.for("lc:context_variables");function _4e(t){return t.replace(/[-:.]/g,"")}function S4e(t,e,n=1){const r=n.toFixed(0).slice(0,3).padStart(3,"0");return _4e(`${new Date(t).toISOString().slice(0,-1)}${r}Z`)+e}class wT{constructor(e,n){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=e,this.tags=n}static fromHeader(e){const n=e.split(",");let r={},i=[];for(const a of n){const[s,o]=a.split("="),l=decodeURIComponent(o);s==="langsmith-metadata"?r=JSON.parse(l):s==="langsmith-tags"&&(i=l.split(","))}return new wT(r,i)}toHeader(){const e=[];return this.metadata&&Object.keys(this.metadata).length>0&&e.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`),this.tags&&this.tags.length>0&&e.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`),e.join(",")}}class $l{constructor(e){if(Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"attachments",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),mce(e)){Object.assign(this,{...e});return}const n=$l.getDefaultConfig(),{metadata:r,...i}=e,a=i.client??$l.getSharedClient(),s={...r,...i?.extra?.metadata};if(i.extra={...i.extra,metadata:s},Object.assign(this,{...n,...i,client:a}),this.trace_id||(this.parent_run?this.trace_id=this.parent_run.trace_id??this.id:this.trace_id=this.id),this.execution_order??=1,this.child_execution_order??=1,!this.dotted_order){const o=S4e(this.start_time,this.id,this.execution_order);this.parent_run?this.dotted_order=this.parent_run.dotted_order+"."+o:this.dotted_order=o}}static getDefaultConfig(){return{id:No(),run_type:"chain",project_name:cm("PROJECT")??o0("LANGCHAIN_SESSION")??"default",child_runs:[],api_url:o0("LANGCHAIN_ENDPOINT")??"http://localhost:1984",api_key:o0("LANGCHAIN_API_KEY"),caller_options:{},start_time:Date.now(),serialized:{},inputs:{},extra:{}}}static getSharedClient(){return $l.sharedClient||($l.sharedClient=new _1),$l.sharedClient}createChild(e){const n=this.child_execution_order+1,r=new $l({...e,parent_run:this,project_name:this.project_name,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:n,child_execution_order:n});eO in this&&(r[eO]=this[eO]);const i=Symbol.for("lc:child_config"),a=e.extra?.[i]??this.extra[i];if(E4e(a)){const l={...a},u=x4e(l.callbacks)?l.callbacks.copy?.():void 0;u&&(Object.assign(u,{_parentRunId:r.id}),u.handlers?.find(gce)?.updateFromRunTree?.(r),l.callbacks=u),r.extra[i]=l}const s=new Set;let o=this;for(;o!=null&&!s.has(o.id);)s.add(o.id),o.child_execution_order=Math.max(o.child_execution_order,n),o=o.parent_run;return this.child_runs.push(r),r}async end(e,n,r=Date.now(),i){this.outputs=this.outputs??e,this.error=this.error??n,this.end_time=this.end_time??r,i&&Object.keys(i).length>0&&(this.extra=this.extra?{...this.extra,metadata:{...this.extra.metadata,...i}}:{metadata:i})}_convertToCreate(e,n,r=!0){const i=e.extra??{};if(i.runtime||(i.runtime={}),n)for(const[l,u]of Object.entries(n))i.runtime[l]||(i.runtime[l]=u);let a,s;return r?(s=e.parent_run?.id,a=[]):(a=e.child_runs.map(l=>this._convertToCreate(l,n,r)),s=void 0),{id:e.id,name:e.name,start_time:e.start_time,end_time:e.end_time,run_type:e.run_type,reference_example_id:e.reference_example_id,extra:i,serialized:e.serialized,error:e.error,inputs:e.inputs,outputs:e.outputs,session_name:e.project_name,child_runs:a,parent_run_id:s,trace_id:e.trace_id,dotted_order:e.dotted_order,tags:e.tags,attachments:e.attachments}}async postRun(e=!0){try{const n=pce(),r=await this._convertToCreate(this,n,!0);if(await this.client.createRun(r),!e){oce("Posting with excludeChildRuns=false is deprecated and will be removed in a future version.");for(const i of this.child_runs)await i.postRun(!1)}}catch(n){console.error(`Error in postRun for run ${this.id}:`,n)}}async patchRun(){try{const e={end_time:this.end_time,error:this.error,inputs:this.inputs,outputs:this.outputs,parent_run_id:this.parent_run?.id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags,attachments:this.attachments};await this.client.updateRun(this.id,e)}catch(e){console.error(`Error in patchRun for run ${this.id}`,e)}}toJSON(){return this._convertToCreate(this,void 0,!1)}addEvent(e){this.events||(this.events=[]),typeof e=="string"?this.events.push({name:"event",time:new Date().toISOString(),message:e}):this.events.push({...e,time:e.time??new Date().toISOString()})}static fromRunnableConfig(e,n){const r=e?.callbacks;let i,a,s,o=w4e();if(r){const u=r?.getParentRunId?.()??"",d=r?.handlers?.find(h=>h?.name=="langchain_tracer");i=d?.getRun?.(u),a=d?.projectName,s=d?.client,o=o||!!d}return i?new $l({name:i.name,id:i.id,trace_id:i.trace_id,dotted_order:i.dotted_order,client:s,tracingEnabled:o,project_name:a,tags:[...new Set((i?.tags??[]).concat(e?.tags??[]))],extra:{metadata:{...i?.extra?.metadata,...e?.metadata}}}).createChild(n):new $l({...n,client:s,tracingEnabled:o,project_name:a})}static fromDottedOrder(e){return this.fromHeaders({"langsmith-trace":e})}static fromHeaders(e,n){const r="get"in e&&typeof e.get=="function"?{"langsmith-trace":e.get("langsmith-trace"),baggage:e.get("baggage")}:e,i=r["langsmith-trace"];if(!i||typeof i!="string")return;const a=i.trim(),s=a.split(".").map(u=>{const[d,h]=u.split("Z");return{strTime:d,time:Date.parse(d+"Z"),uuid:h}}),o=s[0].uuid,l={...n,name:n?.name??"parent",run_type:n?.run_type??"chain",start_time:n?.start_time??Date.now(),id:s.at(-1)?.uuid,trace_id:o,dotted_order:a};if(r.baggage&&typeof r.baggage=="string"){const u=wT.fromHeader(r.baggage);l.metadata=u.metadata,l.tags=u.tags}return new $l(l)}toHeaders(e){const n={"langsmith-trace":this.dotted_order,baggage:new wT(this.extra?.metadata,this.tags).toHeader()};if(e)for(const[r,i]of Object.entries(n))e.set(r,i);return n}}Object.defineProperty($l,"sharedClient",{enumerable:!0,configurable:!0,writable:!0,value:null});function mce(t){return t!==void 0&&typeof t.createChild=="function"&&typeof t.postRun=="function"}function gce(t){return typeof t=="object"&&t!=null&&typeof t.name=="string"&&t.name==="langchain_tracer"}function VW(t){return Array.isArray(t)&&t.some(e=>gce(e))}function x4e(t){return typeof t=="object"&&t!=null&&Array.isArray(t.handlers)}function E4e(t){return t!==void 0&&typeof t.callbacks=="object"&&(VW(t.callbacks?.handlers)||VW(t.callbacks))}let k4e=class{getStore(){}run(e,n){return n()}};const tO=Symbol.for("ls:tracing_async_local_storage"),T4e=new k4e;let A4e=class{getInstance(){return globalThis[tO]??T4e}initializeGlobalInstance(e){globalThis[tO]===void 0&&(globalThis[tO]=e)}};const C4e=new A4e,R4e=()=>{const t=C4e.getInstance().getStore();if(!mce(t))throw new Error(["Could not get the current run tree.","","Please make sure you are calling this method within a traceable function and that tracing is enabled."].join(`
`));return t};function cF(t){return typeof t=="function"&&"langsmith:traceable"in t}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */const I4e=Object.prototype.hasOwnProperty;function c5(t,e){return I4e.call(t,e)}function d5(t){if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<n.length;r++)n[r]=""+r;return n}if(Object.keys)return Object.keys(t);let e=[];for(let n in t)c5(t,n)&&e.push(n);return e}function Ld(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function h5(t){let e=0;const n=t.length;let r;for(;e<n;){if(r=t.charCodeAt(e),r>=48&&r<=57){e++;continue}return!1}return!0}function Sy(t){return t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function N4e(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function f5(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(f5(t[n]))return!0}else if(typeof t=="object"){const n=d5(t),r=n.length;for(var e=0;e<r;e++)if(f5(t[n[e]]))return!0}}return!1}function GW(t,e){const n=[t];for(const r in e){const i=typeof e[r]=="object"?JSON.stringify(e[r],null,2):e[r];typeof i<"u"&&n.push(`${r}: ${i}`)}return n.join(`
`)}class O4e extends Error{constructor(e,n,r,i,a){super(GW(e,{name:n,index:r,operation:i,tree:a})),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"operation",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"tree",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.setPrototypeOf(this,new.target.prototype),this.message=GW(e,{name:n,index:r,operation:i,tree:a})}}const ja=O4e,lb={add:function(t,e,n){return t[e]=this.value,{newDocument:n}},remove:function(t,e,n){var r=t[e];return delete t[e],{newDocument:n,removed:r}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:function(t,e,n){let r=p5(n,this.path);r&&(r=Ld(r));const i=M_(n,{op:"remove",path:this.from}).removed;return M_(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(t,e,n){const r=p5(n,this.from);return M_(n,{op:"add",path:this.path,value:Ld(r)}),{newDocument:n}},test:function(t,e,n){return{newDocument:n,test:ST(t[e],this.value)}},_get:function(t,e,n){return this.value=t[e],{newDocument:n}}};var M4e={add:function(t,e,n){return h5(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:n,index:e}},remove:function(t,e,n){var r=t.splice(e,1);return{newDocument:n,removed:r[0]}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:lb.move,copy:lb.copy,test:lb.test,_get:lb._get};function p5(t,e){if(e=="")return t;var n={op:"_get",path:e};return M_(t,n),n.value}function M_(t,e,n=!1,r=!0,i=!0,a=0){if(n&&(typeof n=="function"?n(e,0,t,e.path):m5(e,0)),e.path===""){let s={newDocument:t};if(e.op==="add")return s.newDocument=e.value,s;if(e.op==="replace")return s.newDocument=e.value,s.removed=t,s;if(e.op==="move"||e.op==="copy")return s.newDocument=p5(t,e.from),e.op==="move"&&(s.removed=t),s;if(e.op==="test"){if(s.test=ST(t,e.value),s.test===!1)throw new ja("Test operation failed","TEST_OPERATION_FAILED",a,e,t);return s.newDocument=t,s}else{if(e.op==="remove")return s.removed=t,s.newDocument=null,s;if(e.op==="_get")return e.value=t,s;if(n)throw new ja("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,e,t);return s}}else{r||(t=Ld(t));const o=(e.path||"").split("/");let l=t,u=1,d=o.length,h,p,m;for(typeof n=="function"?m=n:m=m5;;){if(p=o[u],p&&p.indexOf("~")!=-1&&(p=N4e(p)),i&&(p=="__proto__"||p=="prototype"&&u>0&&o[u-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&h===void 0&&(l[p]===void 0?h=o.slice(0,u).join("/"):u==d-1&&(h=e.path),h!==void 0&&m(e,0,t,h)),u++,Array.isArray(l)){if(p==="-")p=l.length;else{if(n&&!h5(p))throw new ja("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,e,t);h5(p)&&(p=~~p)}if(u>=d){if(n&&e.op==="add"&&p>l.length)throw new ja("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,e,t);const v=M4e[e.op].call(e,l,p,t);if(v.test===!1)throw new ja("Test operation failed","TEST_OPERATION_FAILED",a,e,t);return v}}else if(u>=d){const v=lb[e.op].call(e,l,p,t);if(v.test===!1)throw new ja("Test operation failed","TEST_OPERATION_FAILED",a,e,t);return v}if(l=l[p],n&&u<d&&(!l||typeof l!="object"))throw new ja("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,e,t)}}}function _T(t,e,n,r=!0,i=!0){if(n&&!Array.isArray(e))throw new ja("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(t=Ld(t));const a=new Array(e.length);for(let s=0,o=e.length;s<o;s++)a[s]=M_(t,e[s],n,!0,i,s),t=a[s].newDocument;return a.newDocument=t,a}function m5(t,e,n,r){if(typeof t!="object"||t===null||Array.isArray(t))throw new ja("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,n);if(lb[t.op]){if(typeof t.path!="string")throw new ja("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,n);if(t.path.indexOf("/")!==0&&t.path.length>0)throw new ja('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,n);if((t.op==="move"||t.op==="copy")&&typeof t.from!="string")throw new ja("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&t.value===void 0)throw new ja("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&f5(t.value))throw new ja("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,n);if(n){if(t.op=="add"){var i=t.path.split("/").length,a=r.split("/").length;if(i!==a+1&&i!==a)throw new ja("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,n)}else if(t.op==="replace"||t.op==="remove"||t.op==="_get"){if(t.path!==r)throw new ja("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,n)}else if(t.op==="move"||t.op==="copy"){var s={op:"_get",path:t.from,value:void 0},o=P4e([s],n);if(o&&o.name==="OPERATION_PATH_UNRESOLVABLE")throw new ja("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,n)}}}else throw new ja("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,n)}function P4e(t,e,n){try{if(!Array.isArray(t))throw new ja("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)_T(Ld(e),Ld(t),n||!0);else{n=n||m5;for(var r=0;r<t.length;r++)n(t[r],r,e,void 0)}}catch(i){if(i instanceof ja)return i;throw i}}function ST(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=Array.isArray(t),r=Array.isArray(e),i,a,s;if(n&&r){if(a=t.length,a!=e.length)return!1;for(i=a;i--!==0;)if(!ST(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var o=Object.keys(t);if(a=o.length,a!==Object.keys(e).length)return!1;for(i=a;i--!==0;)if(!e.hasOwnProperty(o[i]))return!1;for(i=a;i--!==0;)if(s=o[i],!ST(t[s],e[s]))return!1;return!0}return t!==t&&e!==e}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2013-2021 Joachim Wester
 * MIT license
 */function yce(t,e,n,r,i){if(e!==t){typeof e.toJSON=="function"&&(e=e.toJSON());for(var a=d5(e),s=d5(t),o=!1,l=s.length-1;l>=0;l--){var u=s[l],d=t[u];if(c5(e,u)&&!(e[u]===void 0&&d!==void 0&&Array.isArray(e)===!1)){var h=e[u];typeof d=="object"&&d!=null&&typeof h=="object"&&h!=null&&Array.isArray(d)===Array.isArray(h)?yce(d,h,n,r+"/"+Sy(u),i):d!==h&&(i&&n.push({op:"test",path:r+"/"+Sy(u),value:Ld(d)}),n.push({op:"replace",path:r+"/"+Sy(u),value:Ld(h)}))}else Array.isArray(t)===Array.isArray(e)?(i&&n.push({op:"test",path:r+"/"+Sy(u),value:Ld(d)}),n.push({op:"remove",path:r+"/"+Sy(u)}),o=!0):(i&&n.push({op:"test",path:r,value:t}),n.push({op:"replace",path:r,value:e}))}if(!(!o&&a.length==s.length))for(var l=0;l<a.length;l++){var u=a[l];!c5(t,u)&&e[u]!==void 0&&n.push({op:"add",path:r+"/"+Sy(u),value:Ld(e[u])})}}}function L4e(t,e,n=!1){var r=[];return yce(t,e,r,"",n),r}var D4e={};const F4e=()=>typeof window<"u"&&typeof window.document<"u",B4e=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",U4e=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),dF=()=>typeof Deno<"u",j4e=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!dF(),hF=()=>{let t;return F4e()?t="browser":j4e()?t="node":B4e()?t="webworker":U4e()?t="jsdom":dF()?t="deno":t="other",t};let nO;async function z4e(){return nO===void 0&&(nO={library:"langchain-js",runtime:hF()}),nO}function Lo(t){try{return typeof process<"u"?D4e?.[t]:dF()?Deno?.env.get(t):void 0}catch{return}}class $4e{}function q4e(t){return"lc_prefer_streaming"in t&&t.lc_prefer_streaming}class gS extends $4e{get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,Kue(this.constructor)]}constructor(e){super(),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreLLM",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreChain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreAgent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreRetriever",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreCustomEvent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"raiseError",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"awaitHandlers",{enumerable:!0,configurable:!0,writable:!0,value:Lo("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"}),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever,this.ignoreCustomEvent=e.ignoreCustomEvent??this.ignoreCustomEvent,this.raiseError=e.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||(e._awaitHandler??this.awaitHandlers))}copy(){return new this.constructor(this)}toJSON(){return Hd.prototype.toJSON.call(this)}toJSONNotImplemented(){return Hd.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class n extends gS{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:No()}),Object.assign(this,e)}}return new n}}const H4e=t=>{const e=t;return e!==void 0&&typeof e.copy=="function"&&typeof e.name=="string"&&typeof e.awaitHandlers=="boolean"};function rO(t,e){return t&&!Array.isArray(t)&&typeof t=="object"?t:{[e]:t}}function V4e(t){return t.replace(/[-:.]/g,"")}function G4e(t,e,n){const r=n.toFixed(0).slice(0,3).padStart(3,"0");return V4e(`${new Date(t).toISOString().slice(0,-1)}${r}Z`)+e}function xw(t){return typeof t._addRunToRunMap=="function"}class yS extends gS{constructor(e){super(...arguments),Object.defineProperty(this,"runMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}copy(){return this}stringifyError(e){return e instanceof Error?e.message+(e?.stack?`

${e.stack}`:""):typeof e=="string"?e:`${e}`}_addChildRun(e,n){e.child_runs.push(n)}_addRunToRunMap(e){const n=G4e(e.start_time,e.id,e.execution_order),r={...e};if(r.parent_run_id!==void 0){const i=this.runMap.get(r.parent_run_id);i&&(this._addChildRun(i,r),i.child_execution_order=Math.max(i.child_execution_order,r.child_execution_order),r.trace_id=i.trace_id,i.dotted_order!==void 0&&(r.dotted_order=[i.dotted_order,n].join(".")))}else r.trace_id=r.id,r.dotted_order=n;return this.runMap.set(r.id,r),r}async _endTrace(e){const n=e.parent_run_id!==void 0&&this.runMap.get(e.parent_run_id);n?n.child_execution_order=Math.max(n.child_execution_order,e.child_execution_order):await this.persistRun(e),this.runMap.delete(e.id),await this.onRunUpdate?.(e)}_getExecutionOrder(e){const n=e!==void 0&&this.runMap.get(e);return n?n.child_execution_order+1:1}_createRunForLLMStart(e,n,r,i,a,s,o,l){const u=this._getExecutionOrder(i),d=Date.now(),h=o?{...a,metadata:o}:a,p={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:{prompts:n},execution_order:u,child_runs:[],child_execution_order:u,run_type:"llm",extra:h??{},tags:s||[]};return this._addRunToRunMap(p)}async handleLLMStart(e,n,r,i,a,s,o,l){const u=this.runMap.get(r)??this._createRunForLLMStart(e,n,r,i,a,s,o,l);return await this.onRunCreate?.(u),await this.onLLMStart?.(u),u}_createRunForChatModelStart(e,n,r,i,a,s,o,l){const u=this._getExecutionOrder(i),d=Date.now(),h=o?{...a,metadata:o}:a,p={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:{messages:n},execution_order:u,child_runs:[],child_execution_order:u,run_type:"llm",extra:h??{},tags:s||[]};return this._addRunToRunMap(p)}async handleChatModelStart(e,n,r,i,a,s,o,l){const u=this.runMap.get(r)??this._createRunForChatModelStart(e,n,r,i,a,s,o,l);return await this.onRunCreate?.(u),await this.onLLMStart?.(u),u}async handleLLMEnd(e,n,r,i,a){const s=this.runMap.get(n);if(!s||s?.run_type!=="llm")throw new Error("No LLM run to end.");return s.end_time=Date.now(),s.outputs=e,s.events.push({name:"end",time:new Date(s.end_time).toISOString()}),s.extra={...s.extra,...a},await this.onLLMEnd?.(s),await this._endTrace(s),s}async handleLLMError(e,n,r,i,a){const s=this.runMap.get(n);if(!s||s?.run_type!=="llm")throw new Error("No LLM run to end.");return s.end_time=Date.now(),s.error=this.stringifyError(e),s.events.push({name:"error",time:new Date(s.end_time).toISOString()}),s.extra={...s.extra,...a},await this.onLLMError?.(s),await this._endTrace(s),s}_createRunForChainStart(e,n,r,i,a,s,o,l){const u=this._getExecutionOrder(i),d=Date.now(),h={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:n,execution_order:u,child_execution_order:u,run_type:o??"chain",child_runs:[],extra:s?{metadata:s}:{},tags:a||[]};return this._addRunToRunMap(h)}async handleChainStart(e,n,r,i,a,s,o,l){const u=this.runMap.get(r)??this._createRunForChainStart(e,n,r,i,a,s,o,l);return await this.onRunCreate?.(u),await this.onChainStart?.(u),u}async handleChainEnd(e,n,r,i,a){const s=this.runMap.get(n);if(!s)throw new Error("No chain run to end.");return s.end_time=Date.now(),s.outputs=rO(e,"output"),s.events.push({name:"end",time:new Date(s.end_time).toISOString()}),a?.inputs!==void 0&&(s.inputs=rO(a.inputs,"input")),await this.onChainEnd?.(s),await this._endTrace(s),s}async handleChainError(e,n,r,i,a){const s=this.runMap.get(n);if(!s)throw new Error("No chain run to end.");return s.end_time=Date.now(),s.error=this.stringifyError(e),s.events.push({name:"error",time:new Date(s.end_time).toISOString()}),a?.inputs!==void 0&&(s.inputs=rO(a.inputs,"input")),await this.onChainError?.(s),await this._endTrace(s),s}_createRunForToolStart(e,n,r,i,a,s,o){const l=this._getExecutionOrder(i),u=Date.now(),d={id:r,name:o??e.id[e.id.length-1],parent_run_id:i,start_time:u,serialized:e,events:[{name:"start",time:new Date(u).toISOString()}],inputs:{input:n},execution_order:l,child_execution_order:l,run_type:"tool",child_runs:[],extra:s?{metadata:s}:{},tags:a||[]};return this._addRunToRunMap(d)}async handleToolStart(e,n,r,i,a,s,o){const l=this.runMap.get(r)??this._createRunForToolStart(e,n,r,i,a,s,o);return await this.onRunCreate?.(l),await this.onToolStart?.(l),l}async handleToolEnd(e,n){const r=this.runMap.get(n);if(!r||r?.run_type!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.outputs={output:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await this.onToolEnd?.(r),await this._endTrace(r),r}async handleToolError(e,n){const r=this.runMap.get(n);if(!r||r?.run_type!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await this.onToolError?.(r),await this._endTrace(r),r}async handleAgentAction(e,n){const r=this.runMap.get(n);if(!r||r?.run_type!=="chain")return;const i=r;i.actions=i.actions||[],i.actions.push(e),i.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:e}}),await this.onAgentAction?.(r)}async handleAgentEnd(e,n){const r=this.runMap.get(n);!r||r?.run_type!=="chain"||(r.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:e}}),await this.onAgentEnd?.(r))}_createRunForRetrieverStart(e,n,r,i,a,s,o){const l=this._getExecutionOrder(i),u=Date.now(),d={id:r,name:o??e.id[e.id.length-1],parent_run_id:i,start_time:u,serialized:e,events:[{name:"start",time:new Date(u).toISOString()}],inputs:{query:n},execution_order:l,child_execution_order:l,run_type:"retriever",child_runs:[],extra:s?{metadata:s}:{},tags:a||[]};return this._addRunToRunMap(d)}async handleRetrieverStart(e,n,r,i,a,s,o){const l=this.runMap.get(r)??this._createRunForRetrieverStart(e,n,r,i,a,s,o);return await this.onRunCreate?.(l),await this.onRetrieverStart?.(l),l}async handleRetrieverEnd(e,n){const r=this.runMap.get(n);if(!r||r?.run_type!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.outputs={documents:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await this.onRetrieverEnd?.(r),await this._endTrace(r),r}async handleRetrieverError(e,n){const r=this.runMap.get(n);if(!r||r?.run_type!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await this.onRetrieverError?.(r),await this._endTrace(r),r}async handleText(e,n){const r=this.runMap.get(n);!r||r?.run_type!=="chain"||(r.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:e}}),await this.onText?.(r))}async handleLLMNewToken(e,n,r,i,a,s){const o=this.runMap.get(r);if(!o||o?.run_type!=="llm")throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return o.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:e,idx:n,chunk:s?.chunk}}),await this.onLLMNewToken?.(o,e,{chunk:s?.chunk}),o}}var mk={exports:{}};mk.exports;var WW;function W4e(){return WW||(WW=1,function(t){const n=(a=0)=>s=>`\x1B[${38+a};5;${s}m`,r=(a=0)=>(s,o,l)=>`\x1B[${38+a};2;${s};${o};${l}m`;function i(){const a=new Map,s={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};s.color.gray=s.color.blackBright,s.bgColor.bgGray=s.bgColor.bgBlackBright,s.color.grey=s.color.blackBright,s.bgColor.bgGrey=s.bgColor.bgBlackBright;for(const[o,l]of Object.entries(s)){for(const[u,d]of Object.entries(l))s[u]={open:`\x1B[${d[0]}m`,close:`\x1B[${d[1]}m`},l[u]=s[u],a.set(d[0],d[1]);Object.defineProperty(s,o,{value:l,enumerable:!1})}return Object.defineProperty(s,"codes",{value:a,enumerable:!1}),s.color.close="\x1B[39m",s.bgColor.close="\x1B[49m",s.color.ansi256=n(),s.color.ansi16m=r(),s.bgColor.ansi256=n(10),s.bgColor.ansi16m=r(10),Object.defineProperties(s,{rgbToAnsi256:{value:(o,l,u)=>o===l&&l===u?o<8?16:o>248?231:Math.round((o-8)/247*24)+232:16+36*Math.round(o/255*5)+6*Math.round(l/255*5)+Math.round(u/255*5),enumerable:!1},hexToRgb:{value:o=>{const l=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(o.toString(16));if(!l)return[0,0,0];let{colorString:u}=l.groups;u.length===3&&(u=u.split("").map(h=>h+h).join(""));const d=Number.parseInt(u,16);return[d>>16&255,d>>8&255,d&255]},enumerable:!1},hexToAnsi256:{value:o=>s.rgbToAnsi256(...s.hexToRgb(o)),enumerable:!1}}),s}Object.defineProperty(t,"exports",{enumerable:!0,get:i})}(mk)),mk.exports}var K4e=W4e();const bce=Yc(K4e);function _o(t,e){return`${t.open}${e}${t.close}`}function Au(t,e){try{return JSON.stringify(t,null,2)}catch{return e}}function KW(t){return typeof t=="string"?t.trim():t==null?t:Au(t,t.toString())}function jp(t){if(!t.end_time)return"";const e=t.end_time-t.start_time;return e<1e3?`${e}ms`:`${(e/1e3).toFixed(2)}s`}const{color:nl}=bce;class YW extends yS{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"console_callback_handler"})}persistRun(e){return Promise.resolve()}getParents(e){const n=[];let r=e;for(;r.parent_run_id;){const i=this.runMap.get(r.parent_run_id);if(i)n.push(i),r=i;else break}return n}getBreadcrumbs(e){const r=[...this.getParents(e).reverse(),e].map((i,a,s)=>{const o=`${i.execution_order}:${i.run_type}:${i.name}`;return a===s.length-1?_o(bce.bold,o):o}).join(" > ");return _o(nl.grey,r)}onChainStart(e){const n=this.getBreadcrumbs(e);console.log(`${_o(nl.green,"[chain/start]")} [${n}] Entering Chain run with input: ${Au(e.inputs,"[inputs]")}`)}onChainEnd(e){const n=this.getBreadcrumbs(e);console.log(`${_o(nl.cyan,"[chain/end]")} [${n}] [${jp(e)}] Exiting Chain run with output: ${Au(e.outputs,"[outputs]")}`)}onChainError(e){const n=this.getBreadcrumbs(e);console.log(`${_o(nl.red,"[chain/error]")} [${n}] [${jp(e)}] Chain run errored with error: ${Au(e.error,"[error]")}`)}onLLMStart(e){const n=this.getBreadcrumbs(e),r="prompts"in e.inputs?{prompts:e.inputs.prompts.map(i=>i.trim())}:e.inputs;console.log(`${_o(nl.green,"[llm/start]")} [${n}] Entering LLM run with input: ${Au(r,"[inputs]")}`)}onLLMEnd(e){const n=this.getBreadcrumbs(e);console.log(`${_o(nl.cyan,"[llm/end]")} [${n}] [${jp(e)}] Exiting LLM run with output: ${Au(e.outputs,"[response]")}`)}onLLMError(e){const n=this.getBreadcrumbs(e);console.log(`${_o(nl.red,"[llm/error]")} [${n}] [${jp(e)}] LLM run errored with error: ${Au(e.error,"[error]")}`)}onToolStart(e){const n=this.getBreadcrumbs(e);console.log(`${_o(nl.green,"[tool/start]")} [${n}] Entering Tool run with input: "${KW(e.inputs.input)}"`)}onToolEnd(e){const n=this.getBreadcrumbs(e);console.log(`${_o(nl.cyan,"[tool/end]")} [${n}] [${jp(e)}] Exiting Tool run with output: "${KW(e.outputs?.output)}"`)}onToolError(e){const n=this.getBreadcrumbs(e);console.log(`${_o(nl.red,"[tool/error]")} [${n}] [${jp(e)}] Tool run errored with error: ${Au(e.error,"[error]")}`)}onRetrieverStart(e){const n=this.getBreadcrumbs(e);console.log(`${_o(nl.green,"[retriever/start]")} [${n}] Entering Retriever run with input: ${Au(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){const n=this.getBreadcrumbs(e);console.log(`${_o(nl.cyan,"[retriever/end]")} [${n}] [${jp(e)}] Exiting Retriever run with output: ${Au(e.outputs,"[outputs]")}`)}onRetrieverError(e){const n=this.getBreadcrumbs(e);console.log(`${_o(nl.red,"[retriever/error]")} [${n}] [${jp(e)}] Retriever run errored with error: ${Au(e.error,"[error]")}`)}onAgentAction(e){const n=e,r=this.getBreadcrumbs(e);console.log(`${_o(nl.blue,"[agent/action]")} [${r}] Agent selected action: ${Au(n.actions[n.actions.length-1],"[action]")}`)}}let iO;const Y4e=()=>{if(iO===void 0){const t=Lo("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"?{blockOnRootRunFinalization:!0}:{};iO=new _1(t)}return iO};class P_ extends yS{constructor(e={}){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"projectName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{exampleId:n,projectName:r,client:i}=e;this.projectName=r??Lo("LANGCHAIN_PROJECT")??Lo("LANGCHAIN_SESSION"),this.exampleId=n,this.client=i??Y4e();const a=P_.getTraceableRunTree();a&&this.updateFromRunTree(a)}async _convertToCreate(e,n=void 0){return{...e,extra:{...e.extra,runtime:await z4e()},child_runs:void 0,session_name:this.projectName,reference_example_id:e.parent_run_id?void 0:n}}async persistRun(e){}async onRunCreate(e){const n=await this._convertToCreate(e,this.exampleId);await this.client.createRun(n)}async onRunUpdate(e){const n={end_time:e.end_time,error:e.error,outputs:e.outputs,events:e.events,inputs:e.inputs,trace_id:e.trace_id,dotted_order:e.dotted_order,parent_run_id:e.parent_run_id,extra:e.extra};await this.client.updateRun(e.id,n)}getRun(e){return this.runMap.get(e)}updateFromRunTree(e){let n=e;const r=new Set;for(;n.parent_run&&!(r.has(n.id)||(r.add(n.id),!n.parent_run));)n=n.parent_run;r.clear();const i=[n];for(;i.length>0;){const a=i.shift();!a||r.has(a.id)||(r.add(a.id),this.runMap.set(a.id,a),a.child_runs&&i.push(...a.child_runs))}this.client=e.client??this.client,this.projectName=e.project_name??this.projectName,this.exampleId=e.reference_example_id??this.exampleId}convertToRunTree(e){const n={},r=[];for(const[i,a]of this.runMap){const s=new $l({...a,child_runs:[],parent_run:void 0,client:this.client,project_name:this.projectName,reference_example_id:this.exampleId,tracingEnabled:!0});n[i]=s,r.push([i,a.dotted_order])}r.sort((i,a)=>!i[1]||!a[1]?0:i[1].localeCompare(a[1]));for(const[i]of r){const a=this.runMap.get(i),s=n[i];if(!(!a||!s)&&a.parent_run_id){const o=n[a.parent_run_id];o&&(o.child_runs.push(s),s.parent_run=o)}}return n[e]}static getTraceableRunTree(){try{return R4e()}catch{return}}}const vce=Symbol.for("ls:tracing_async_local_storage"),gk=Symbol.for("lc:context_variables"),X4e=t=>{globalThis[vce]=t},S1=()=>globalThis[vce];let L_;function Z4e(){const t="default"in bf?bf.default:bf;return new t({autoStart:!0,concurrency:1})}function Q4e(){return typeof L_>"u"&&(L_=Z4e()),L_}async function es(t,e){if(e===!0){const n=S1();n!==void 0?await n.run(void 0,async()=>t()):await t()}else L_=Q4e(),L_.add(async()=>{const n=S1();n!==void 0?await n.run(void 0,async()=>t()):await t()})}const J4e=t=>!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find(n=>Lo(n)==="true");function wce(t){const e=S1();return e===void 0?void 0:e.getStore()?.[gk]?.[t]}const e3e=Symbol("lc:configure_hooks"),t3e=()=>wce(e3e)||[];function _ce(t){return t?Array.isArray(t)||"name"in t?{callbacks:t}:t:{}}class n3e{setHandler(e){return this.setHandlers([e])}}class lC{constructor(e,n,r,i,a,s,o,l){Object.defineProperty(this,"runId",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:l})}get parentRunId(){return this._parentRunId}async handleText(e){await Promise.all(this.handlers.map(n=>es(async()=>{try{await n.handleText?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleText: ${r}`),n.raiseError)throw r}},n.awaitHandlers)))}async handleCustomEvent(e,n,r,i,a){await Promise.all(this.handlers.map(s=>es(async()=>{try{await s.handleCustomEvent?.(e,n,this.runId,this.tags,this.metadata)}catch(o){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleCustomEvent: ${o}`),s.raiseError)throw o}},s.awaitHandlers)))}}class r3e extends lC{getChild(e){const n=new Fs(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleRetrieverEnd(e){await Promise.all(this.handlers.map(n=>es(async()=>{if(!n.ignoreRetriever)try{await n.handleRetrieverEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleRetriever`),n.raiseError)throw r}},n.awaitHandlers)))}async handleRetrieverError(e){await Promise.all(this.handlers.map(n=>es(async()=>{if(!n.ignoreRetriever)try{await n.handleRetrieverError?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleRetrieverError: ${r}`),n.raiseError)throw e}},n.awaitHandlers)))}}class XW extends lC{async handleLLMNewToken(e,n,r,i,a,s){await Promise.all(this.handlers.map(o=>es(async()=>{if(!o.ignoreLLM)try{await o.handleLLMNewToken?.(e,n??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,s)}catch(l){if((o.raiseError?console.error:console.warn)(`Error in handler ${o.constructor.name}, handleLLMNewToken: ${l}`),o.raiseError)throw l}},o.awaitHandlers)))}async handleLLMError(e,n,r,i,a){await Promise.all(this.handlers.map(s=>es(async()=>{if(!s.ignoreLLM)try{await s.handleLLMError?.(e,this.runId,this._parentRunId,this.tags,a)}catch(o){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleLLMError: ${o}`),s.raiseError)throw o}},s.awaitHandlers)))}async handleLLMEnd(e,n,r,i,a){await Promise.all(this.handlers.map(s=>es(async()=>{if(!s.ignoreLLM)try{await s.handleLLMEnd?.(e,this.runId,this._parentRunId,this.tags,a)}catch(o){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleLLMEnd: ${o}`),s.raiseError)throw o}},s.awaitHandlers)))}}class i3e extends lC{getChild(e){const n=new Fs(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleChainError(e,n,r,i,a){await Promise.all(this.handlers.map(s=>es(async()=>{if(!s.ignoreChain)try{await s.handleChainError?.(e,this.runId,this._parentRunId,this.tags,a)}catch(o){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleChainError: ${o}`),s.raiseError)throw o}},s.awaitHandlers)))}async handleChainEnd(e,n,r,i,a){await Promise.all(this.handlers.map(s=>es(async()=>{if(!s.ignoreChain)try{await s.handleChainEnd?.(e,this.runId,this._parentRunId,this.tags,a)}catch(o){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleChainEnd: ${o}`),s.raiseError)throw o}},s.awaitHandlers)))}async handleAgentAction(e){await Promise.all(this.handlers.map(n=>es(async()=>{if(!n.ignoreAgent)try{await n.handleAgentAction?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleAgentAction: ${r}`),n.raiseError)throw r}},n.awaitHandlers)))}async handleAgentEnd(e){await Promise.all(this.handlers.map(n=>es(async()=>{if(!n.ignoreAgent)try{await n.handleAgentEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleAgentEnd: ${r}`),n.raiseError)throw r}},n.awaitHandlers)))}}class a3e extends lC{getChild(e){const n=new Fs(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleToolError(e){await Promise.all(this.handlers.map(n=>es(async()=>{if(!n.ignoreAgent)try{await n.handleToolError?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleToolError: ${r}`),n.raiseError)throw r}},n.awaitHandlers)))}async handleToolEnd(e){await Promise.all(this.handlers.map(n=>es(async()=>{if(!n.ignoreAgent)try{await n.handleToolEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleToolEnd: ${r}`),n.raiseError)throw r}},n.awaitHandlers)))}}class Fs extends n3e{constructor(e,n){super(),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"callback_manager"}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.handlers=n?.handlers??this.handlers,this.inheritableHandlers=n?.inheritableHandlers??this.inheritableHandlers,this.tags=n?.tags??this.tags,this.inheritableTags=n?.inheritableTags??this.inheritableTags,this.metadata=n?.metadata??this.metadata,this.inheritableMetadata=n?.inheritableMetadata??this.inheritableMetadata,this._parentRunId=e}getParentRunId(){return this._parentRunId}async handleLLMStart(e,n,r=void 0,i=void 0,a=void 0,s=void 0,o=void 0,l=void 0){return Promise.all(n.map(async(u,d)=>{const h=d===0&&r?r:No();return await Promise.all(this.handlers.map(p=>{if(!p.ignoreLLM)return xw(p)&&p._createRunForLLMStart(e,[u],h,this._parentRunId,a,this.tags,this.metadata,l),es(async()=>{try{await p.handleLLMStart?.(e,[u],h,this._parentRunId,a,this.tags,this.metadata,l)}catch(m){if((p.raiseError?console.error:console.warn)(`Error in handler ${p.constructor.name}, handleLLMStart: ${m}`),p.raiseError)throw m}},p.awaitHandlers)})),new XW(h,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(e,n,r=void 0,i=void 0,a=void 0,s=void 0,o=void 0,l=void 0){return Promise.all(n.map(async(u,d)=>{const h=d===0&&r?r:No();return await Promise.all(this.handlers.map(p=>{if(!p.ignoreLLM)return xw(p)&&p._createRunForChatModelStart(e,[u],h,this._parentRunId,a,this.tags,this.metadata,l),es(async()=>{try{if(p.handleChatModelStart)await p.handleChatModelStart?.(e,[u],h,this._parentRunId,a,this.tags,this.metadata,l);else if(p.handleLLMStart){const m=Yue(u);await p.handleLLMStart?.(e,[m],h,this._parentRunId,a,this.tags,this.metadata,l)}}catch(m){if((p.raiseError?console.error:console.warn)(`Error in handler ${p.constructor.name}, handleLLMStart: ${m}`),p.raiseError)throw m}},p.awaitHandlers)})),new XW(h,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(e,n,r=No(),i=void 0,a=void 0,s=void 0,o=void 0){return await Promise.all(this.handlers.map(l=>{if(!l.ignoreChain)return xw(l)&&l._createRunForChainStart(e,n,r,this._parentRunId,this.tags,this.metadata,i,o),es(async()=>{try{await l.handleChainStart?.(e,n,r,this._parentRunId,this.tags,this.metadata,i,o)}catch(u){if((l.raiseError?console.error:console.warn)(`Error in handler ${l.constructor.name}, handleChainStart: ${u}`),l.raiseError)throw u}},l.awaitHandlers)})),new i3e(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(e,n,r=No(),i=void 0,a=void 0,s=void 0,o=void 0){return await Promise.all(this.handlers.map(l=>{if(!l.ignoreAgent)return xw(l)&&l._createRunForToolStart(e,n,r,this._parentRunId,this.tags,this.metadata,o),es(async()=>{try{await l.handleToolStart?.(e,n,r,this._parentRunId,this.tags,this.metadata,o)}catch(u){if((l.raiseError?console.error:console.warn)(`Error in handler ${l.constructor.name}, handleToolStart: ${u}`),l.raiseError)throw u}},l.awaitHandlers)})),new a3e(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(e,n,r=No(),i=void 0,a=void 0,s=void 0,o=void 0){return await Promise.all(this.handlers.map(l=>{if(!l.ignoreRetriever)return xw(l)&&l._createRunForRetrieverStart(e,n,r,this._parentRunId,this.tags,this.metadata,o),es(async()=>{try{await l.handleRetrieverStart?.(e,n,r,this._parentRunId,this.tags,this.metadata,o)}catch(u){if((l.raiseError?console.error:console.warn)(`Error in handler ${l.constructor.name}, handleRetrieverStart: ${u}`),l.raiseError)throw u}},l.awaitHandlers)})),new r3e(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleCustomEvent(e,n,r,i,a){await Promise.all(this.handlers.map(s=>es(async()=>{if(!s.ignoreCustomEvent)try{await s.handleCustomEvent?.(e,n,r,this.tags,this.metadata)}catch(o){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleCustomEvent: ${o}`),s.raiseError)throw o}},s.awaitHandlers)))}addHandler(e,n=!0){this.handlers.push(e),n&&this.inheritableHandlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter(n=>n!==e),this.inheritableHandlers=this.inheritableHandlers.filter(n=>n!==e)}setHandlers(e,n=!0){this.handlers=[],this.inheritableHandlers=[];for(const r of e)this.addHandler(r,n)}addTags(e,n=!0){this.removeTags(e),this.tags.push(...e),n&&this.inheritableTags.push(...e)}removeTags(e){this.tags=this.tags.filter(n=>!e.includes(n)),this.inheritableTags=this.inheritableTags.filter(n=>!e.includes(n))}addMetadata(e,n=!0){this.metadata={...this.metadata,...e},n&&(this.inheritableMetadata={...this.inheritableMetadata,...e})}removeMetadata(e){for(const n of Object.keys(e))delete this.metadata[n],delete this.inheritableMetadata[n]}copy(e=[],n=!0){const r=new Fs(this._parentRunId);for(const i of this.handlers){const a=this.inheritableHandlers.includes(i);r.addHandler(i,a)}for(const i of this.tags){const a=this.inheritableTags.includes(i);r.addTags([i],a)}for(const i of Object.keys(this.metadata)){const a=Object.keys(this.inheritableMetadata).includes(i);r.addMetadata({[i]:this.metadata[i]},a)}for(const i of e)r.handlers.filter(a=>a.name==="console_callback_handler").some(a=>a.name===i.name)||r.addHandler(i,n);return r}static fromHandlers(e){class n extends gS{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:No()}),Object.assign(this,e)}}const r=new this;return r.addHandler(new n),r}static configure(e,n,r,i,a,s,o){return this._configureSync(e,n,r,i,a,s,o)}static _configureSync(e,n,r,i,a,s,o){let l;(e||n)&&(Array.isArray(e)||!e?(l=new Fs,l.setHandlers(e?.map(xT)??[],!0)):l=e,l=l.copy(Array.isArray(n)?n.map(xT):n?.handlers,!1));const u=Lo("LANGCHAIN_VERBOSE")==="true"||o?.verbose,d=P_.getTraceableRunTree()?.tracingEnabled||J4e(),h=d||(Lo("LANGCHAIN_TRACING")??!1);if(u||h){if(l||(l=new Fs),u&&!l.handlers.some(p=>p.name===YW.prototype.name)){const p=new YW;l.addHandler(p,!0)}if(h&&!l.handlers.some(p=>p.name==="langchain_tracer")&&d){const p=new P_;l.addHandler(p,!0),l._parentRunId=P_.getTraceableRunTree()?.id??l._parentRunId}}for(const{contextVar:p,inheritable:m=!0,handlerClass:v,envVar:w}of t3e()){const k=w&&Lo(w)==="true"&&v;let T;const C=p!==void 0?wce(p):void 0;C&&H4e(C)?T=C:k&&(T=new v({})),T!==void 0&&(l||(l=new Fs),l.handlers.some(N=>N.name===T.name)||l.addHandler(T,m))}return(r||i)&&l&&(l.addTags(r??[]),l.addTags(i??[],!1)),(a||s)&&l&&(l.addMetadata(a??{}),l.addMetadata(s??{},!1)),l}}function xT(t){return"name"in t?t:gS.fromMethods(t)}class s3e{getStore(){}run(e,n){return n()}enterWith(e){}}const o3e=new s3e,ZW=Symbol.for("lc:child_config");class l3e{getInstance(){return S1()??o3e}getRunnableConfig(){return this.getInstance().getStore()?.extra?.[ZW]}runWithConfig(e,n,r){const i=Fs._configureSync(e?.callbacks,void 0,e?.tags,void 0,e?.metadata),a=this.getInstance(),s=a.getStore(),o=i?.getParentRunId(),l=i?.handlers?.find(d=>d?.name==="langchain_tracer");let u;return l&&o?u=l.convertToRunTree(o):r||(u=new $l({name:"<runnable_lambda>",tracingEnabled:!1})),u&&(u.extra={...u.extra,[ZW]:e}),s!==void 0&&s[gk]!==void 0&&(u[gk]=s[gk]),a.run(u,n)}initializeGlobalInstance(e){S1()===void 0&&X4e(e)}}const Om=new l3e,aO=25;async function Uc(t){return Fs._configureSync(t?.callbacks,void 0,t?.tags,void 0,t?.metadata)}function QW(...t){const e={};for(const n of t.filter(r=>!!r))for(const r of Object.keys(n))if(r==="metadata")e[r]={...e[r],...n[r]};else if(r==="tags"){const i=e[r]??[];e[r]=[...new Set(i.concat(n[r]??[]))]}else if(r==="configurable")e[r]={...e[r],...n[r]};else if(r==="timeout")e.timeout===void 0?e.timeout=n.timeout:n.timeout!==void 0&&(e.timeout=Math.min(e.timeout,n.timeout));else if(r==="signal")e.signal===void 0?e.signal=n.signal:n.signal!==void 0&&("any"in AbortSignal?e.signal=AbortSignal.any([e.signal,n.signal]):e.signal=n.signal);else if(r==="callbacks"){const i=e.callbacks,a=n.callbacks;if(Array.isArray(a))if(!i)e.callbacks=a;else if(Array.isArray(i))e.callbacks=i.concat(a);else{const s=i.copy();for(const o of a)s.addHandler(xT(o),!0);e.callbacks=s}else if(a)if(!i)e.callbacks=a;else if(Array.isArray(i)){const s=a.copy();for(const o of i)s.addHandler(xT(o),!0);e.callbacks=s}else e.callbacks=new Fs(a._parentRunId,{handlers:i.handlers.concat(a.handlers),inheritableHandlers:i.inheritableHandlers.concat(a.inheritableHandlers),tags:Array.from(new Set(i.tags.concat(a.tags))),inheritableTags:Array.from(new Set(i.inheritableTags.concat(a.inheritableTags))),metadata:{...i.metadata,...a.metadata}})}else{const i=r;e[i]=n[i]??e[i]}return e}const u3e=new Set(["string","number","boolean"]);function Jr(t){const e=Om.getRunnableConfig();let n={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(e){const{runId:r,runName:i,...a}=e;n=Object.entries(a).reduce((s,[o,l])=>(l!==void 0&&(s[o]=l),s),n)}if(t&&(n=Object.entries(t).reduce((r,[i,a])=>(a!==void 0&&(r[i]=a),r),n)),n?.configurable)for(const r of Object.keys(n.configurable))u3e.has(typeof n.configurable[r])&&!n.metadata?.[r]&&(n.metadata||(n.metadata={}),n.metadata[r]=n.configurable[r]);if(n.timeout!==void 0){if(n.timeout<=0)throw new Error("Timeout must be a positive number");const r=AbortSignal.timeout(n.timeout);n.signal!==void 0?"any"in AbortSignal&&(n.signal=AbortSignal.any([n.signal,r])):n.signal=r,delete n.timeout}return n}function ns(t={},{callbacks:e,maxConcurrency:n,recursionLimit:r,runName:i,configurable:a,runId:s}={}){const o=Jr(t);return e!==void 0&&(delete o.runName,o.callbacks=e),r!==void 0&&(o.recursionLimit=r),n!==void 0&&(o.maxConcurrency=n),i!==void 0&&(o.runName=i),a!==void 0&&(o.configurable={...o.configurable,...a}),s!==void 0&&delete o.runId,o}function zb(t){return t?{configurable:t.configurable,recursionLimit:t.recursionLimit,callbacks:t.callbacks,tags:t.tags,metadata:t.metadata,maxConcurrency:t.maxConcurrency,timeout:t.timeout,signal:t.signal}:void 0}async function Mm(t,e){if(e===void 0)return t;let n;return Promise.race([t.catch(r=>{if(!e?.aborted)throw r}),new Promise((r,i)=>{n=()=>{i(new Error("Aborted"))},e.addEventListener("abort",n),e.aborted&&i(new Error("Aborted"))})]).finally(()=>e.removeEventListener("abort",n))}class tu extends ReadableStream{constructor(){super(...arguments),Object.defineProperty(this,"reader",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const e=await this.reader.read();return e.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:e.value}}catch(e){throw this.reader.releaseLock(),e}}async return(){if(this.ensureReader(),this.locked){const e=this.reader.cancel();this.reader.releaseLock(),await e}return{done:!0,value:void 0}}async throw(e){if(this.ensureReader(),this.locked){const n=this.reader.cancel();this.reader.releaseLock(),await n}throw e}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}static fromReadableStream(e){const n=e.getReader();return new tu({start(r){return i();function i(){return n.read().then(({done:a,value:s})=>{if(a){r.close();return}return r.enqueue(s),i()})}},cancel(){n.releaseLock()}})}static fromAsyncGenerator(e){return new tu({async pull(n){const{value:r,done:i}=await e.next();i&&n.close(),n.enqueue(r)},async cancel(n){await e.return(n)}})}}function Sce(t,e=2){const n=Array.from({length:e},()=>[]);return n.map(async function*(i){for(;;)if(i.length===0){const a=await t.next();for(const s of n)s.push(a)}else{if(i[0].done)return;yield i.shift().value}})}function Bu(t,e){if(Array.isArray(t)&&Array.isArray(e))return t.concat(e);if(typeof t=="string"&&typeof e=="string")return t+e;if(typeof t=="number"&&typeof e=="number")return t+e;if("concat"in t&&typeof t.concat=="function")return t.concat(e);if(typeof t=="object"&&typeof e=="object"){const n={...t};for(const[r,i]of Object.entries(e))r in n&&!Array.isArray(n[r])?n[r]=Bu(n[r],i):n[r]=i;return n}else throw new Error(`Cannot concat ${typeof t} and ${typeof e}`)}class gv{constructor(e){Object.defineProperty(this,"generator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResult",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResultUsed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.generator=e.generator,this.config=e.config,this.signal=e.signal??this.config?.signal,this.setup=new Promise((n,r)=>{Om.runWithConfig(zb(e.config),async()=>{this.firstResult=e.generator.next(),e.startSetup?this.firstResult.then(e.startSetup).then(n,r):this.firstResult.then(i=>n(void 0),r)},!0)})}async next(...e){return this.signal?.throwIfAborted(),this.firstResultUsed?Om.runWithConfig(zb(this.config),this.signal?async()=>Mm(this.generator.next(...e),this.signal):async()=>this.generator.next(...e),!0):(this.firstResultUsed=!0,this.firstResult)}async return(e){return this.generator.return(e)}async throw(e){return this.generator.throw(e)}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}}async function c3e(t,e,n,r,...i){const a=new gv({generator:e,startSetup:n,signal:r}),s=await a.setup;return{output:t(a,s,...i),setup:s}}class nm{constructor(e){Object.defineProperty(this,"ops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.ops=e.ops??[]}concat(e){const n=this.ops.concat(e.ops),r=_T({},n);return new x1({ops:n,state:r[r.length-1].newDocument})}}class x1 extends nm{constructor(e){super(e),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state=e.state}concat(e){const n=this.ops.concat(e.ops),r=_T(this.state,e.ops);return new x1({ops:n,state:r[r.length-1].newDocument})}static fromRunLogPatch(e){const n=_T({},e.ops);return new x1({ops:e.ops,state:n[n.length-1].newDocument})}}const d3e=t=>t.name==="log_stream_tracer";async function JW(t,e){if(e==="original")throw new Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");const{inputs:n}=t;if(["retriever","llm","prompt"].includes(t.run_type))return n;if(!(Object.keys(n).length===1&&n?.input===""))return n.input}async function eK(t,e){const{outputs:n}=t;return e==="original"||["retriever","llm","prompt"].includes(t.run_type)?n:n!==void 0&&Object.keys(n).length===1&&n?.output!==void 0?n.output:n}function h3e(t){return t!==void 0&&t.message!==void 0}class tK extends yS{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_schemaFormat",{enumerable:!0,configurable:!0,writable:!0,value:"original"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keyMapByRunId",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"counterMapByRunName",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"log_stream_tracer"}),Object.defineProperty(this,"lc_prefer_streaming",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.autoClose=e?.autoClose??!0,this.includeNames=e?.includeNames,this.includeTypes=e?.includeTypes,this.includeTags=e?.includeTags,this.excludeNames=e?.excludeNames,this.excludeTypes=e?.excludeTypes,this.excludeTags=e?.excludeTags,this._schemaFormat=e?._schemaFormat??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=tu.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.id===this.rootId)return!1;const n=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.run_type)),this.includeTags!==void 0&&(r=r||n.find(i=>this.includeTags?.includes(i))!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.run_type)),this.excludeTags!==void 0&&(r=r&&n.every(i=>!this.excludeTags?.includes(i))),r}async*tapOutputIterable(e,n){for await(const r of n){if(e!==this.rootId){const i=this.keyMapByRunId[e];i&&await this.writer.write(new nm({ops:[{op:"add",path:`/logs/${i}/streamed_output/-`,value:r}]}))}yield r}}async onRunCreate(e){if(this.rootId===void 0&&(this.rootId=e.id,await this.writer.write(new nm({ops:[{op:"replace",path:"",value:{id:e.id,name:e.name,type:e.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(e))return;this.counterMapByRunName[e.name]===void 0&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;const n=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=n===1?e.name:`${e.name}:${n}`;const r={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:e.extra?.metadata??{},start_time:new Date(e.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};this._schemaFormat==="streaming_events"&&(r.inputs=await JW(e,this._schemaFormat)),await this.writer.write(new nm({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:r}]}))}async onRunUpdate(e){try{const n=this.keyMapByRunId[e.id];if(n===void 0)return;const r=[];this._schemaFormat==="streaming_events"&&r.push({op:"replace",path:`/logs/${n}/inputs`,value:await JW(e,this._schemaFormat)}),r.push({op:"add",path:`/logs/${n}/final_output`,value:await eK(e,this._schemaFormat)}),e.end_time!==void 0&&r.push({op:"add",path:`/logs/${n}/end_time`,value:new Date(e.end_time).toISOString()});const i=new nm({ops:r});await this.writer.write(i)}finally{if(e.id===this.rootId){const n=new nm({ops:[{op:"replace",path:"/final_output",value:await eK(e,this._schemaFormat)}]});await this.writer.write(n),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,n,r){const i=this.keyMapByRunId[e.id];if(i===void 0)return;const a=e.inputs.messages!==void 0;let s;a?h3e(r?.chunk)?s=r?.chunk:s=new _s({id:`run-${e.id}`,content:n}):s=n;const o=new nm({ops:[{op:"add",path:`/logs/${i}/streamed_output_str/-`,value:n},{op:"add",path:`/logs/${i}/streamed_output/-`,value:s}]});await this.writer.write(o)}}const g5="__run";class $b{constructor(e){Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generationInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.text=e.text,this.generationInfo=e.generationInfo}concat(e){return new $b({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo}})}}class jc extends $b{constructor(e){super(e),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=e.message}concat(e){return new jc({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo},message:this.message.concat(e.message)})}}function pE({name:t,serialized:e}){return t!==void 0?t:e?.name!==void 0?e.name:e?.id!==void 0&&Array.isArray(e?.id)?e.id[e.id.length-1]:"Unnamed"}const f3e=t=>t.name==="event_stream_tracer";class p3e extends yS{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"runInfoMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"tappedPromises",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"event_stream_tracer"}),Object.defineProperty(this,"lc_prefer_streaming",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.autoClose=e?.autoClose??!0,this.includeNames=e?.includeNames,this.includeTypes=e?.includeTypes,this.includeTags=e?.includeTags,this.excludeNames=e?.excludeNames,this.excludeTypes=e?.excludeTypes,this.excludeTags=e?.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=tu.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){const n=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.runType)),this.includeTags!==void 0&&(r=r||n.find(i=>this.includeTags?.includes(i))!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.runType)),this.excludeTags!==void 0&&(r=r&&n.every(i=>!this.excludeTags?.includes(i))),r}async*tapOutputIterable(e,n){const r=await n.next();if(r.done)return;const i=this.runInfoMap.get(e);if(i===void 0){yield r.value;return}function a(o,l){return o==="llm"&&typeof l=="string"?new $b({text:l}):l}let s=this.tappedPromises.get(e);if(s===void 0){let o;s=new Promise(l=>{o=l}),this.tappedPromises.set(e,s);try{const l={event:`on_${i.runType}_stream`,run_id:e,name:i.name,tags:i.tags,metadata:i.metadata,data:{}};await this.send({...l,data:{chunk:a(i.runType,r.value)}},i),yield r.value;for await(const u of n)i.runType!=="tool"&&i.runType!=="retriever"&&await this.send({...l,data:{chunk:a(i.runType,u)}},i),yield u}finally{o()}}else{yield r.value;for await(const o of n)yield o}}async send(e,n){this._includeRun(n)&&await this.writer.write(e)}async sendEndEvent(e,n){const r=this.tappedPromises.get(e.run_id);r!==void 0?r.then(()=>{this.send(e,n)}):await this.send(e,n)}async onLLMStart(e){const n=pE(e),r=e.inputs.messages!==void 0?"chat_model":"llm",i={tags:e.tags??[],metadata:e.extra?.metadata??{},name:n,runType:r,inputs:e.inputs};this.runInfoMap.set(e.id,i);const a=`on_${r}_start`;await this.send({event:a,data:{input:e.inputs},name:n,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},i)}async onLLMNewToken(e,n,r){const i=this.runInfoMap.get(e.id);let a,s;if(i===void 0)throw new Error(`onLLMNewToken: Run ID ${e.id} not found in run map.`);if(this.runInfoMap.size!==1){if(i.runType==="chat_model")s="on_chat_model_stream",r?.chunk===void 0?a=new _s({content:n,id:`run-${e.id}`}):a=r.chunk.message;else if(i.runType==="llm")s="on_llm_stream",r?.chunk===void 0?a=new $b({text:n}):a=r.chunk;else throw new Error(`Unexpected run type ${i.runType}`);await this.send({event:s,data:{chunk:a},run_id:e.id,name:i.name,tags:i.tags,metadata:i.metadata},i)}}async onLLMEnd(e){const n=this.runInfoMap.get(e.id);this.runInfoMap.delete(e.id);let r;if(n===void 0)throw new Error(`onLLMEnd: Run ID ${e.id} not found in run map.`);const i=e.outputs?.generations;let a;if(n.runType==="chat_model"){for(const s of i??[]){if(a!==void 0)break;a=s[0]?.message}r="on_chat_model_end"}else if(n.runType==="llm")a={generations:i?.map(s=>s.map(o=>({text:o.text,generationInfo:o.generationInfo}))),llmOutput:e.outputs?.llmOutput??{}},r="on_llm_end";else throw new Error(`onLLMEnd: Unexpected run type: ${n.runType}`);await this.sendEndEvent({event:r,data:{output:a,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onChainStart(e){const n=pE(e),r=e.run_type??"chain",i={tags:e.tags??[],metadata:e.extra?.metadata??{},name:n,runType:e.run_type};let a={};e.inputs.input===""&&Object.keys(e.inputs).length===1?(a={},i.inputs={}):e.inputs.input!==void 0?(a.input=e.inputs.input,i.inputs=e.inputs.input):(a.input=e.inputs,i.inputs=e.inputs),this.runInfoMap.set(e.id,i),await this.send({event:`on_${r}_start`,data:a,name:n,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},i)}async onChainEnd(e){const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onChainEnd: Run ID ${e.id} not found in run map.`);const r=`on_${e.run_type}_end`,i=e.inputs??n.inputs??{},s={output:e.outputs?.output??e.outputs,input:i};i.input&&Object.keys(i).length===1&&(s.input=i.input,n.inputs=i.input),await this.sendEndEvent({event:r,data:s,run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata??{}},n)}async onToolStart(e){const n=pE(e),r={tags:e.tags??[],metadata:e.extra?.metadata??{},name:n,runType:"tool",inputs:e.inputs??{}};this.runInfoMap.set(e.id,r),await this.send({event:"on_tool_start",data:{input:e.inputs??{}},name:n,run_id:e.id,tags:e.tags??[],metadata:e.extra?.metadata??{}},r)}async onToolEnd(e){const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onToolEnd: Run ID ${e.id} not found in run map.`);if(n.inputs===void 0)throw new Error(`onToolEnd: Run ID ${e.id} is a tool call, and is expected to have traced inputs.`);const r=e.outputs?.output===void 0?e.outputs:e.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:r,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onRetrieverStart(e){const n=pE(e),i={tags:e.tags??[],metadata:e.extra?.metadata??{},name:n,runType:"retriever",inputs:{query:e.inputs.query}};this.runInfoMap.set(e.id,i),await this.send({event:"on_retriever_start",data:{input:{query:e.inputs.query}},name:n,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},i)}async onRetrieverEnd(e){const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onRetrieverEnd: Run ID ${e.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:e.outputs?.documents??e.outputs,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async handleCustomEvent(e,n,r){const i=this.runInfoMap.get(r);if(i===void 0)throw new Error(`handleCustomEvent: Run ID ${r} not found in run map.`);await this.send({event:"on_custom_event",run_id:r,name:e,tags:i.tags,metadata:i.metadata,data:n},i)}async finish(){const e=[...this.tappedPromises.values()];Promise.all(e).finally(()=>{this.writer.close()})}}const m3e=[400,401,402,403,404,405,406,407,409],g3e=t=>{if(t.message.startsWith("Cancel")||t.message.startsWith("AbortError")||t.name==="AbortError"||t?.code==="ECONNABORTED")throw t;const e=t?.response?.status??t?.status;if(e&&m3e.includes(+e))throw t;if(t?.error?.code==="insufficient_quota"){const n=new Error(t?.message);throw n.name="InsufficientQuotaError",n}};class uC{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.onFailedAttempt=e.onFailedAttempt??g3e;const n="default"in bf?bf.default:bf;this.queue=new n({concurrency:this.maxConcurrency})}call(e,...n){return this.queue.add(()=>bT(()=>e(...n).catch(r=>{throw r instanceof Error?r:new Error(r)}),{onFailedAttempt:this.onFailedAttempt,retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,n,...r){return e.signal?Promise.race([this.call(n,...r),new Promise((i,a)=>{e.signal?.addEventListener("abort",()=>{a(new Error("AbortError"))})})]):this.call(n,...r)}fetch(...e){return this.call(()=>fetch(...e).then(n=>n.ok?n:Promise.reject(n)))}}class xce extends yS{constructor({config:e,onStart:n,onEnd:r,onError:i}){super({_awaitHandler:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RootListenersTracer"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.config=e,this.argOnStart=n,this.argOnEnd=r,this.argOnError=i}persistRun(e){return Promise.resolve()}async onRunCreate(e){this.rootId||(this.rootId=e.id,this.argOnStart&&await this.argOnStart(e,this.config))}async onRunUpdate(e){e.id===this.rootId&&(e.error?this.argOnError&&await this.argOnError(e,this.config):this.argOnEnd&&await this.argOnEnd(e,this.config))}}function fF(t){return t?t.lc_runnable:!1}class y3e{constructor(e){Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.includeNames=e.includeNames,this.includeTypes=e.includeTypes,this.includeTags=e.includeTags,this.excludeNames=e.excludeNames,this.excludeTypes=e.excludeTypes,this.excludeTags=e.excludeTags}includeEvent(e,n){let r=this.includeNames===void 0&&this.includeTypes===void 0&&this.includeTags===void 0;const i=e.tags??[];return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(n)),this.includeTags!==void 0&&(r=r||i.some(a=>this.includeTags?.includes(a))),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(n)),this.excludeTags!==void 0&&(r=r&&i.every(a=>!this.excludeTags?.includes(a))),r}}const b3e=Symbol("Let zodToJsonSchema decide on which parser to use"),v3e={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},w3e=t=>({...v3e,...t}),_3e=t=>{const e=w3e(t),n=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([r,i])=>[i._def,{def:i._def,path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}};function Ece(t,e,n,r){r?.errorMessages&&n&&(t.errorMessage={...t.errorMessage,[e]:n})}function bi(t,e,n,r,i){t[e]=n,Ece(t,e,r,i)}function S3e(){return{}}function x3e(t,e){const n={type:"array"};return t.type?._def&&t.type?._def?.typeName!==Et.ZodAny&&(n.items=si(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&bi(n,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&bi(n,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(bi(n,"minItems",t.exactLength.value,t.exactLength.message,e),bi(n,"maxItems",t.exactLength.value,t.exactLength.message,e)),n}function E3e(t,e){const n={type:"integer",format:"int64"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?bi(n,"minimum",r.value,r.message,e):bi(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),bi(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?bi(n,"maximum",r.value,r.message,e):bi(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),bi(n,"maximum",r.value,r.message,e));break;case"multipleOf":bi(n,"multipleOf",r.value,r.message,e);break}return n}function k3e(){return{type:"boolean"}}function kce(t,e){return si(t.type._def,e)}const T3e=(t,e)=>si(t.innerType._def,e);function Tce(t,e,n){const r=n??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((i,a)=>Tce(t,e,i))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return A3e(t,e)}}const A3e=(t,e)=>{const n={type:"integer",format:"unix-time"};if(e.target==="openApi3")return n;for(const r of t.checks)switch(r.kind){case"min":bi(n,"minimum",r.value,r.message,e);break;case"max":bi(n,"maximum",r.value,r.message,e);break}return n};function C3e(t,e){return{...si(t.innerType._def,e),default:t.defaultValue()}}function R3e(t,e){return e.effectStrategy==="input"?si(t.schema._def,e):{}}function I3e(t){return{type:"string",enum:Array.from(t.values)}}const N3e=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function O3e(t,e){const n=[si(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),si(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(a=>!!a);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const i=[];return n.forEach(a=>{if(N3e(a))i.push(...a.allOf),a.unevaluatedProperties===void 0&&(r=void 0);else{let s=a;if("additionalProperties"in a&&a.additionalProperties===!1){const{additionalProperties:o,...l}=a;s=l}else r=void 0;i.push(s)}}),i.length?{allOf:i,...r}:void 0}function M3e(t,e){const n=typeof t.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[t.value]}:{type:n==="bigint"?"integer":n,const:t.value}}let sO;const dc={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(sO===void 0&&(sO=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),sO),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Ace(t,e){const n={type:"string"};if(t.checks)for(const r of t.checks)switch(r.kind){case"min":bi(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,e);break;case"max":bi(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,e);break;case"email":switch(e.emailStrategy){case"format:email":hc(n,"email",r.message,e);break;case"format:idn-email":hc(n,"idn-email",r.message,e);break;case"pattern:zod":So(n,dc.email,r.message,e);break}break;case"url":hc(n,"uri",r.message,e);break;case"uuid":hc(n,"uuid",r.message,e);break;case"regex":So(n,r.regex,r.message,e);break;case"cuid":So(n,dc.cuid,r.message,e);break;case"cuid2":So(n,dc.cuid2,r.message,e);break;case"startsWith":So(n,RegExp(`^${oO(r.value,e)}`),r.message,e);break;case"endsWith":So(n,RegExp(`${oO(r.value,e)}$`),r.message,e);break;case"datetime":hc(n,"date-time",r.message,e);break;case"date":hc(n,"date",r.message,e);break;case"time":hc(n,"time",r.message,e);break;case"duration":hc(n,"duration",r.message,e);break;case"length":bi(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,e),bi(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,e);break;case"includes":{So(n,RegExp(oO(r.value,e)),r.message,e);break}case"ip":{r.version!=="v6"&&hc(n,"ipv4",r.message,e),r.version!=="v4"&&hc(n,"ipv6",r.message,e);break}case"base64url":So(n,dc.base64url,r.message,e);break;case"jwt":So(n,dc.jwt,r.message,e);break;case"cidr":{r.version!=="v6"&&So(n,dc.ipv4Cidr,r.message,e),r.version!=="v4"&&So(n,dc.ipv6Cidr,r.message,e);break}case"emoji":So(n,dc.emoji(),r.message,e);break;case"ulid":{So(n,dc.ulid,r.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{hc(n,"binary",r.message,e);break}case"contentEncoding:base64":{bi(n,"contentEncoding","base64",r.message,e);break}case"pattern:zod":{So(n,dc.base64,r.message,e);break}}break}case"nanoid":So(n,dc.nanoid,r.message,e)}return n}function oO(t,e){return e.patternStrategy==="escape"?L3e(t):t}const P3e=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function L3e(t){let e="";for(let n=0;n<t.length;n++)P3e.has(t[n])||(e+="\\"),e+=t[n];return e}function hc(t,e,n,r){t.format||t.anyOf?.some(i=>i.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&r.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...n&&r.errorMessages&&{errorMessage:{format:n}}})):bi(t,"format",e,n,r)}function So(t,e,n,r){t.pattern||t.allOf?.some(i=>i.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&r.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:nK(e,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):bi(t,"pattern",nK(e,r),n,r)}function nK(t,e){if(!e.applyRegexFlags||!t.flags)return t.source;const n={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},r=n.i?t.source.toLowerCase():t.source;let i="",a=!1,s=!1,o=!1;for(let l=0;l<r.length;l++){if(a){i+=r[l],a=!1;continue}if(n.i){if(s){if(r[l].match(/[a-z]/)){o?(i+=r[l],i+=`${r[l-2]}-${r[l]}`.toUpperCase(),o=!1):r[l+1]==="-"&&r[l+2]?.match(/[a-z]/)?(i+=r[l],o=!0):i+=`${r[l]}${r[l].toUpperCase()}`;continue}}else if(r[l].match(/[a-z]/)){i+=`[${r[l]}${r[l].toUpperCase()}]`;continue}}if(n.m){if(r[l]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(r[l]==="$"){i+=`($|(?=[\r
]))`;continue}}if(n.s&&r[l]==="."){i+=s?`${r[l]}\r
`:`[${r[l]}\r
]`;continue}i+=r[l],r[l]==="\\"?a=!0:s&&r[l]==="]"?s=!1:!s&&r[l]==="["&&(s=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return i}function Cce(t,e){if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&t.keyType?._def.typeName===Et.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((r,i)=>({...r,[i]:si(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",i]})??{}}),{}),additionalProperties:!1};const n={type:"object",additionalProperties:si(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??{}};if(e.target==="openApi3")return n;if(t.keyType?._def.typeName===Et.ZodString&&t.keyType._def.checks?.length){const{type:r,...i}=Ace(t.keyType._def,e);return{...n,propertyNames:i}}else{if(t.keyType?._def.typeName===Et.ZodEnum)return{...n,propertyNames:{enum:t.keyType._def.values}};if(t.keyType?._def.typeName===Et.ZodBranded&&t.keyType._def.type._def.typeName===Et.ZodString&&t.keyType._def.type._def.checks?.length){const{type:r,...i}=kce(t.keyType._def,e);return{...n,propertyNames:i}}}return n}function D3e(t,e){if(e.mapStrategy==="record")return Cce(t,e);const n=si(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},r=si(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function F3e(t){const e=t.values,r=Object.keys(t.values).filter(a=>typeof e[e[a]]!="number").map(a=>e[a]),i=Array.from(new Set(r.map(a=>typeof a)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:r}}function B3e(){return{not:{}}}function U3e(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const ET={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function j3e(t,e){if(e.target==="openApi3")return rK(t,e);const n=t.options instanceof Map?Array.from(t.options.values()):t.options;if(n.every(r=>r._def.typeName in ET&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((i,a)=>{const s=ET[a._def.typeName];return s&&!i.includes(s)?[...i,s]:i},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((i,a)=>{const s=typeof a._def.value;switch(s){case"string":case"number":case"boolean":return[...i,s];case"bigint":return[...i,"integer"];case"object":if(a._def.value===null)return[...i,"null"];case"symbol":case"undefined":case"function":default:return i}},[]);if(r.length===n.length){const i=r.filter((a,s,o)=>o.indexOf(a)===s);return{type:i.length>1?i:i[0],enum:n.reduce((a,s)=>a.includes(s._def.value)?a:[...a,s._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,i)=>[...r,...i._def.values.filter(a=>!r.includes(a))],[])};return rK(t,e)}const rK=(t,e)=>{const n=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((r,i)=>si(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${i}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function z3e(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:ET[t.innerType._def.typeName],nullable:!0}:{type:[ET[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=si(t.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=si(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function $3e(t,e){const n={type:"number"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"int":n.type="integer",Ece(n,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?bi(n,"minimum",r.value,r.message,e):bi(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),bi(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?bi(n,"maximum",r.value,r.message,e):bi(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),bi(n,"maximum",r.value,r.message,e));break;case"multipleOf":bi(n,"multipleOf",r.value,r.message,e);break}return n}function q3e(t,e){return e.removeAdditionalStrategy==="strict"?t.catchall._def.typeName==="ZodNever"?t.unknownKeys!=="strict":si(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0:t.catchall._def.typeName==="ZodNever"?t.unknownKeys==="passthrough":si(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0}function H3e(t,e){const n=e.target==="openAi",r={type:"object",...Object.entries(t.shape()).reduce((i,[a,s])=>{if(s===void 0||s._def===void 0)return i;let o=s.isOptional();o&&n&&(s instanceof Bc&&(s=s._def.innerType),s.isNullable()||(s=s.nullable()),o=!1);const l=si(s._def,{...e,currentPath:[...e.currentPath,"properties",a],propertyPath:[...e.currentPath,"properties",a]});return l===void 0?i:{properties:{...i.properties,[a]:l},required:o?i.required:[...i.required,a]}},{properties:{},required:[]}),additionalProperties:q3e(t,e)};return r.required.length||delete r.required,r}const V3e=(t,e)=>{if(e.currentPath.toString()===e.propertyPath?.toString())return si(t.innerType._def,e);const n=si(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}},G3e=(t,e)=>{if(e.pipeStrategy==="input")return si(t.in._def,e);if(e.pipeStrategy==="output")return si(t.out._def,e);const n=si(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=si(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(i=>i!==void 0)}};function W3e(t,e){return si(t.type._def,e)}function K3e(t,e){const r={type:"array",uniqueItems:!0,items:si(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&bi(r,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&bi(r,"maxItems",t.maxSize.value,t.maxSize.message,e),r}function Y3e(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((n,r)=>si(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:si(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((n,r)=>si(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function X3e(){return{not:{}}}function Z3e(){return{}}const Q3e=(t,e)=>si(t.innerType._def,e),J3e=(t,e,n)=>{switch(e){case Et.ZodString:return Ace(t,n);case Et.ZodNumber:return $3e(t,n);case Et.ZodObject:return H3e(t,n);case Et.ZodBigInt:return E3e(t,n);case Et.ZodBoolean:return k3e();case Et.ZodDate:return Tce(t,n);case Et.ZodUndefined:return X3e();case Et.ZodNull:return U3e(n);case Et.ZodArray:return x3e(t,n);case Et.ZodUnion:case Et.ZodDiscriminatedUnion:return j3e(t,n);case Et.ZodIntersection:return O3e(t,n);case Et.ZodTuple:return Y3e(t,n);case Et.ZodRecord:return Cce(t,n);case Et.ZodLiteral:return M3e(t,n);case Et.ZodEnum:return I3e(t);case Et.ZodNativeEnum:return F3e(t);case Et.ZodNullable:return z3e(t,n);case Et.ZodOptional:return V3e(t,n);case Et.ZodMap:return D3e(t,n);case Et.ZodSet:return K3e(t,n);case Et.ZodLazy:return()=>t.getter()._def;case Et.ZodPromise:return W3e(t,n);case Et.ZodNaN:case Et.ZodNever:return B3e();case Et.ZodEffects:return R3e(t,n);case Et.ZodAny:return S3e();case Et.ZodUnknown:return Z3e();case Et.ZodDefault:return C3e(t,n);case Et.ZodBranded:return kce(t,n);case Et.ZodReadonly:return Q3e(t,n);case Et.ZodCatch:return T3e(t,n);case Et.ZodPipeline:return G3e(t,n);case Et.ZodFunction:case Et.ZodVoid:case Et.ZodSymbol:return;default:return(r=>{})()}};function si(t,e,n=!1){const r=e.seen.get(t);if(e.override){const o=e.override?.(t,e,r,n);if(o!==b3e)return o}if(r&&!n){const o=eMe(r,e);if(o!==void 0)return o}const i={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,i);const a=J3e(t,t.typeName,e),s=typeof a=="function"?si(a(),e):a;return s&&nMe(t,e,s),i.jsonSchema=s,s}const eMe=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:tMe(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((n,r)=>e.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},tMe=(t,e)=>{let n=0;for(;n<t.length&&n<e.length&&t[n]===e[n];n++);return[(t.length-n).toString(),...e.slice(n)].join("/")},nMe=(t,e,n)=>(t.description&&(n.description=t.description,e.markdownDescription&&(n.markdownDescription=t.description)),n),Af=(t,e)=>{const n=_3e(e),r=void 0,i=e?.name,a=si(t._def,n,!1)??{},s=i===void 0?r?{...a,[n.definitionPath]:r}:a:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...r,[i]:a}};return n.target==="jsonSchema7"?s.$schema="http://json-schema.org/draft-07/schema#":(n.target==="jsonSchema2019-09"||n.target==="openAi")&&(s.$schema="https://json-schema.org/draft/2019-09/schema#"),n.target==="openAi"&&("anyOf"in s||"oneOf"in s||"allOf"in s||"type"in s&&Array.isArray(s.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),s};function lO(t){return t.replace(/[^a-zA-Z-_0-9]/g,"_")}const rMe=["*","_","`"];function iMe(t){let e="";for(const[n,r]of Object.entries(t))e+=`	classDef ${n} ${r};
`;return e}function aMe(t,e,n){const{firstNode:r,lastNode:i,nodeColors:a,withStyles:s=!0,curveStyle:o="linear",wrapLabelNWords:l=9}=n??{};let u=s?`%%{init: {'flowchart': {'curve': '${o}'}}}%%
graph TD;
`:`graph TD;
`;if(s){const m="default",v={[m]:"{0}({1})"};r!==void 0&&(v[r]="{0}([{1}]):::first"),i!==void 0&&(v[i]="{0}([{1}]):::last");for(const[w,k]of Object.entries(t)){const T=k.name.split(":").pop()??"";let N=rMe.some(D=>T.startsWith(D)&&T.endsWith(D))?`<p>${T}</p>`:T;Object.keys(k.metadata??{}).length&&(N+=`<hr/><small><em>${Object.entries(k.metadata??{}).map(([D,U])=>`${D} = ${U}`).join(`
`)}</em></small>`);const F=(v[w]??v[m]).replace("{0}",lO(w)).replace("{1}",N);u+=`	${F}
`}}const d={};for(const m of e){const v=m.source.split(":"),w=m.target.split(":"),k=v.filter((T,C)=>T===w[C]).join(":");d[k]||(d[k]=[]),d[k].push(m)}const h=new Set;function p(m,v){const w=m.length===1&&m[0].source===m[0].target;if(v&&!w){const k=v.split(":").pop();if(h.has(k))throw new Error(`Found duplicate subgraph '${k}' -- this likely means that you're reusing a subgraph node with the same name. Please adjust your graph to have subgraph nodes with unique names.`);h.add(k),u+=`	subgraph ${k}
`}for(const k of m){const{source:T,target:C,data:N,conditional:F}=k;let D="";if(N!==void 0){let U=N;const G=U.split(" ");G.length>l&&(U=Array.from({length:Math.ceil(G.length/l)},(se,re)=>G.slice(re*l,(re+1)*l).join(" ")).join("&nbsp;<br>&nbsp;")),D=F?` -. &nbsp;${U}&nbsp; .-> `:` -- &nbsp;${U}&nbsp; --> `}else D=F?" -.-> ":" --> ";u+=`	${lO(T)}${D}${lO(C)};
`}for(const k in d)k.startsWith(`${v}:`)&&k!==v&&p(d[k],k);v&&!w&&(u+=`	end
`)}p(d[""]??[],"");for(const m in d)!m.includes(":")&&m!==""&&p(d[m],m);return s&&(u+=iMe(a??{})),u}async function sMe(t,e){let{backgroundColor:n="white"}=e??{};const r=btoa(t);n!==void 0&&(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(n)||(n=`!${n}`));const i=`https://mermaid.ink/img/${r}?bgColor=${n}`,a=await fetch(i);if(!a.ok)throw new Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${a.status}`,`Status text: ${a.statusText}`].join(`
`));return await a.blob()}function oMe(t,e){if(t!==void 0&&!O_(t))return t;if(fF(e))try{let n=e.getName();return n=n.startsWith("Runnable")?n.slice(8):n,n}catch{return e.getName()}else return e.name??"UnknownSchema"}function lMe(t){return fF(t.data)?{type:"runnable",data:{id:t.data.lc_id,name:t.data.getName()}}:{type:"schema",data:{...Af(t.data.schema),title:t.data.name}}}class cC{constructor(e){Object.defineProperty(this,"nodes",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"edges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.nodes=e?.nodes??this.nodes,this.edges=e?.edges??this.edges}toJSON(){const e={};return Object.values(this.nodes).forEach((n,r)=>{e[n.id]=O_(n.id)?r:n.id}),{nodes:Object.values(this.nodes).map(n=>({id:e[n.id],...lMe(n)})),edges:this.edges.map(n=>{const r={source:e[n.source],target:e[n.target]};return typeof n.data<"u"&&(r.data=n.data),typeof n.conditional<"u"&&(r.conditional=n.conditional),r})}}addNode(e,n,r){if(n!==void 0&&this.nodes[n]!==void 0)throw new Error(`Node with id ${n} already exists`);const i=n??No(),a={id:i,data:e,name:oMe(n,e),metadata:r};return this.nodes[i]=a,a}removeNode(e){delete this.nodes[e.id],this.edges=this.edges.filter(n=>n.source!==e.id&&n.target!==e.id)}addEdge(e,n,r,i){if(this.nodes[e.id]===void 0)throw new Error(`Source node ${e.id} not in graph`);if(this.nodes[n.id]===void 0)throw new Error(`Target node ${n.id} not in graph`);const a={source:e.id,target:n.id,data:r,conditional:i};return this.edges.push(a),a}firstNode(){return iK(this)}lastNode(){return aK(this)}extend(e,n=""){let r=n;Object.values(e.nodes).map(u=>u.id).every(O_)&&(r="");const a=u=>r?`${r}:${u}`:u;Object.entries(e.nodes).forEach(([u,d])=>{this.nodes[a(u)]={...d,id:a(u)}});const s=e.edges.map(u=>({...u,source:a(u.source),target:a(u.target)}));this.edges=[...this.edges,...s];const o=e.firstNode(),l=e.lastNode();return[o?{id:a(o.id),data:o.data}:void 0,l?{id:a(l.id),data:l.data}:void 0]}trimFirstNode(){const e=this.firstNode();e&&iK(this,[e.id])&&this.removeNode(e)}trimLastNode(){const e=this.lastNode();e&&aK(this,[e.id])&&this.removeNode(e)}reid(){const e=Object.fromEntries(Object.values(this.nodes).map(i=>[i.id,i.name])),n=new Map;Object.values(e).forEach(i=>{n.set(i,(n.get(i)||0)+1)});const r=i=>{const a=e[i];return O_(i)&&n.get(a)===1?a:i};return new cC({nodes:Object.fromEntries(Object.entries(this.nodes).map(([i,a])=>[r(i),{...a,id:r(i)}])),edges:this.edges.map(i=>({...i,source:r(i.source),target:r(i.target)}))})}drawMermaid(e){const{withStyles:n,curveStyle:r,nodeColors:i={default:"fill:#f2f0ff,line-height:1.2",first:"fill-opacity:0",last:"fill:#bfb6fc"},wrapLabelNWords:a}=e??{},s=this.reid(),o=s.firstNode(),l=s.lastNode();return aMe(s.nodes,s.edges,{firstNode:o?.id,lastNode:l?.id,withStyles:n,curveStyle:r,nodeColors:i,wrapLabelNWords:a})}async drawMermaidPng(e){const n=this.drawMermaid(e);return sMe(n,{backgroundColor:e?.backgroundColor})}}function iK(t,e=[]){const n=new Set(t.edges.filter(i=>!e.includes(i.source)).map(i=>i.target)),r=[];for(const i of Object.values(t.nodes))!e.includes(i.id)&&!n.has(i.id)&&r.push(i);return r.length===1?r[0]:void 0}function aK(t,e=[]){const n=new Set(t.edges.filter(i=>!e.includes(i.target)).map(i=>i.source)),r=[];for(const i of Object.values(t.nodes))!e.includes(i.id)&&!n.has(i.id)&&r.push(i);return r.length===1?r[0]:void 0}function uMe(t){const e=new TextEncoder,n=new ReadableStream({async start(r){for await(const i of t)r.enqueue(e.encode(`event: data
data: ${JSON.stringify(i)}

`));r.enqueue(e.encode(`event: end

`)),r.close()}});return tu.fromReadableStream(n)}function sK(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.iterator]=="function"&&typeof t.next=="function"}const cMe=t=>t!=null&&typeof t=="object"&&"next"in t&&typeof t.next=="function";function y5(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.asyncIterator]=="function"}function*oK(t,e){for(;;){const{value:n,done:r}=Om.runWithConfig(zb(t),e.next.bind(e),!0);if(r)break;yield n}}async function*b5(t,e){const n=e[Symbol.asyncIterator]();for(;;){const{value:r,done:i}=await Om.runWithConfig(zb(t),n.next.bind(e),!0);if(i)break;yield r}}function Ss(t,e){return t&&!Array.isArray(t)&&!(t instanceof Date)&&typeof t=="object"?t:{[e]:t}}class Aa extends Hd{constructor(){super(...arguments),Object.defineProperty(this,"lc_runnable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}getName(e){const n=this.name??this.constructor.lc_name()??this.constructor.name;return e?`${n}${e}`:n}bind(e){return new vm({bound:this,kwargs:e,config:{}})}map(){return new kT({bound:this})}withRetry(e){return new dMe({bound:this,kwargs:{},config:{},maxAttemptNumber:e?.stopAfterAttempt,...e})}withConfig(e){return new vm({bound:this,config:e,kwargs:{}})}withFallbacks(e){const n=Array.isArray(e)?e:e.fallbacks;return new fMe({runnable:this,fallbacks:n})}_getOptionsList(e,n=0){if(Array.isArray(e)&&e.length!==n)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${n} inputs`);if(Array.isArray(e))return e.map(Jr);if(n>1&&!Array.isArray(e)&&e.runId){console.warn("Provided runId will be used only for the first element of the batch.");const r=Object.fromEntries(Object.entries(e).filter(([i])=>i!=="runId"));return Array.from({length:n},(i,a)=>Jr(a===0?e:r))}return Array.from({length:n},()=>Jr(e))}async batch(e,n,r){const i=this._getOptionsList(n??{},e.length),a=i[0]?.maxConcurrency??r?.maxConcurrency,s=new uC({maxConcurrency:a,onFailedAttempt:l=>{throw l}}),o=e.map((l,u)=>s.call(async()=>{try{return await this.invoke(l,i[u])}catch(d){if(r?.returnExceptions)return d;throw d}}));return Promise.all(o)}async*_streamIterator(e,n){yield this.invoke(e,n)}async stream(e,n){const r=Jr(n),i=new gv({generator:this._streamIterator(e,r),config:r});return await i.setup,tu.fromAsyncGenerator(i)}_separateRunnableConfigFromCallOptions(e){let n;e===void 0?n=Jr(e):n=Jr({callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName,configurable:e.configurable,recursionLimit:e.recursionLimit,maxConcurrency:e.maxConcurrency,runId:e.runId,timeout:e.timeout,signal:e.signal});const r={...e};return delete r.callbacks,delete r.tags,delete r.metadata,delete r.runName,delete r.configurable,delete r.recursionLimit,delete r.maxConcurrency,delete r.runId,delete r.timeout,delete r.signal,[n,r]}async _callWithConfig(e,n,r){const i=Jr(r),s=await(await Uc(i))?.handleChainStart(this.toJSON(),Ss(n,"input"),i.runId,i?.runType,void 0,void 0,i?.runName??this.getName());delete i.runId;let o;try{const l=e.call(this,n,i,s);o=await Mm(l,r?.signal)}catch(l){throw await s?.handleChainError(l),l}return await s?.handleChainEnd(Ss(o,"output")),o}async _batchWithConfig(e,n,r,i){const a=this._getOptionsList(r??{},n.length),s=await Promise.all(a.map(Uc)),o=await Promise.all(s.map(async(u,d)=>{const h=await u?.handleChainStart(this.toJSON(),Ss(n[d],"input"),a[d].runId,a[d].runType,void 0,void 0,a[d].runName??this.getName());return delete a[d].runId,h}));let l;try{const u=e.call(this,n,a,o,i);l=await Mm(u,a?.[0]?.signal)}catch(u){throw await Promise.all(o.map(d=>d?.handleChainError(u))),u}return await Promise.all(o.map(u=>u?.handleChainEnd(Ss(l,"output")))),l}async*_transformStreamWithConfig(e,n,r){let i,a=!0,s,o=!0;const l=Jr(r),u=await Uc(l);async function*d(){for await(const p of e){if(a)if(i===void 0)i=p;else try{i=Bu(i,p)}catch{i=void 0,a=!1}yield p}}let h;try{const p=await c3e(n.bind(this),d(),async()=>u?.handleChainStart(this.toJSON(),{input:""},l.runId,l.runType,void 0,void 0,l.runName??this.getName()),r?.signal,l);delete l.runId,h=p.setup;const m=h?.handlers.find(f3e);let v=p.output;m!==void 0&&h!==void 0&&(v=m.tapOutputIterable(h.runId,v));const w=h?.handlers.find(d3e);w!==void 0&&h!==void 0&&(v=w.tapOutputIterable(h.runId,v));for await(const k of v)if(yield k,o)if(s===void 0)s=k;else try{s=Bu(s,k)}catch{s=void 0,o=!1}}catch(p){throw await h?.handleChainError(p,void 0,void 0,void 0,{inputs:Ss(i,"input")}),p}await h?.handleChainEnd(s??{},void 0,void 0,void 0,{inputs:Ss(i,"input")})}getGraph(e){const n=new cC,r=n.addNode({name:`${this.getName()}Input`,schema:yf.any()}),i=n.addNode(this),a=n.addNode({name:`${this.getName()}Output`,schema:yf.any()});return n.addEdge(r,i),n.addEdge(i,a),n}pipe(e){return new gl({first:this,last:e0(e)})}pick(e){return this.pipe(new pMe(e))}assign(e){return this.pipe(new Rce(new yv({steps:e})))}async*transform(e,n){let r;for await(const i of e)r===void 0?r=i:r=Bu(r,i);yield*this._streamIterator(r,Jr(n))}async*streamLog(e,n,r){const i=new tK({...r,autoClose:!1,_schemaFormat:"original"}),a=Jr(n);yield*this._streamLog(e,i,a)}async*_streamLog(e,n,r){const{callbacks:i}=r;if(i===void 0)r.callbacks=[n];else if(Array.isArray(i))r.callbacks=i.concat([n]);else{const l=i.copy();l.addHandler(n,!0),r.callbacks=l}const a=this.stream(e,r);async function s(){try{const l=await a;for await(const u of l){const d=new nm({ops:[{op:"add",path:"/streamed_output/-",value:u}]});await n.writer.write(d)}}finally{await n.writer.close()}}const o=s();try{for await(const l of n)yield l}finally{await o}}streamEvents(e,n,r){let i;if(n.version==="v1")i=this._streamEventsV1(e,n,r);else if(n.version==="v2")i=this._streamEventsV2(e,n,r);else throw new Error('Only versions "v1" and "v2" of the schema are currently supported.');return n.encoding==="text/event-stream"?uMe(i):tu.fromAsyncGenerator(i)}async*_streamEventsV2(e,n,r){const i=new p3e({...r,autoClose:!1}),a=Jr(n),s=a.runId??No();a.runId=s;const o=a.callbacks;if(o===void 0)a.callbacks=[i];else if(Array.isArray(o))a.callbacks=o.concat(i);else{const v=o.copy();v.addHandler(i,!0),a.callbacks=v}const l=new AbortController,u=this;async function d(){try{let v;n?.signal?"any"in AbortSignal?v=AbortSignal.any([l.signal,n.signal]):(v=n.signal,n.signal.addEventListener("abort",()=>{l.abort()},{once:!0})):v=l.signal;const w=await u.stream(e,{...a,signal:v}),k=i.tapOutputIterable(s,w);for await(const T of k)if(l.signal.aborted)break}finally{await i.finish()}}const h=d();let p=!1,m;try{for await(const v of i){if(!p){v.data.input=e,p=!0,m=v.run_id,yield v;continue}v.run_id===m&&v.event.endsWith("_end")&&v.data?.input&&delete v.data.input,yield v}}finally{l.abort(),await h}}async*_streamEventsV1(e,n,r){let i,a=!1;const s=Jr(n),o=s.tags??[],l=s.metadata??{},u=s.runName??this.getName(),d=new tK({...r,autoClose:!1,_schemaFormat:"streaming_events"}),h=new y3e({...r}),p=this._streamLog(e,d,s);for await(const v of p){if(i?i=i.concat(v):i=x1.fromRunLogPatch(v),i.state===void 0)throw new Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!a){a=!0;const C={...i.state},N={run_id:C.id,event:`on_${C.type}_start`,name:u,tags:o,metadata:l,data:{input:e}};h.includeEvent(N,C.type)&&(yield N)}const w=v.ops.filter(C=>C.path.startsWith("/logs/")).map(C=>C.path.split("/")[2]),k=[...new Set(w)];for(const C of k){let N,F={};const D=i.state.logs[C];if(D.end_time===void 0?D.streamed_output.length>0?N="stream":N="start":N="end",N==="start")D.inputs!==void 0&&(F.input=D.inputs);else if(N==="end")D.inputs!==void 0&&(F.input=D.inputs),F.output=D.final_output;else if(N==="stream"){const U=D.streamed_output.length;if(U!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${U} instead. Encountered in: "${D.name}"`);F={chunk:D.streamed_output[0]},D.streamed_output=[]}yield{event:`on_${D.type}_${N}`,name:D.name,run_id:D.id,tags:D.tags,metadata:D.metadata,data:F}}const{state:T}=i;if(T.streamed_output.length>0){const C=T.streamed_output.length;if(C!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${C} instead. Encountered in: "${T.name}"`);const N={chunk:T.streamed_output[0]};T.streamed_output=[];const F={event:`on_${T.type}_stream`,run_id:T.id,tags:o,metadata:l,name:u,data:N};h.includeEvent(F,T.type)&&(yield F)}}const m=i?.state;if(m!==void 0){const v={event:`on_${m.type}_end`,name:u,run_id:m.id,tags:o,metadata:l,data:{output:m.final_output}};h.includeEvent(v,m.type)&&(yield v)}}static isRunnable(e){return fF(e)}withListeners({onStart:e,onEnd:n,onError:r}){return new vm({bound:this,config:{},configFactories:[i=>({callbacks:[new xce({config:i,onStart:e,onEnd:n,onError:r})]})]})}asTool(e){return mMe(this,e)}}class vm extends Aa{static lc_name(){return"RunnableBinding"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"configFactories",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound,this.kwargs=e.kwargs,this.config=e.config,this.configFactories=e.configFactories}getName(e){return this.bound.getName(e)}async _mergeConfig(...e){const n=QW(this.config,...e);return QW(n,...this.configFactories?await Promise.all(this.configFactories.map(async r=>await r(n))):[])}bind(e){return new this.constructor({bound:this.bound,kwargs:{...this.kwargs,...e},config:this.config})}withConfig(e){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...e}})}withRetry(e){return new this.constructor({bound:this.bound.withRetry(e),kwargs:this.kwargs,config:this.config})}async invoke(e,n){return this.bound.invoke(e,await this._mergeConfig(Jr(n),this.kwargs))}async batch(e,n,r){const i=Array.isArray(n)?await Promise.all(n.map(async a=>this._mergeConfig(Jr(a),this.kwargs))):await this._mergeConfig(Jr(n),this.kwargs);return this.bound.batch(e,i,r)}async*_streamIterator(e,n){yield*this.bound._streamIterator(e,await this._mergeConfig(Jr(n),this.kwargs))}async stream(e,n){return this.bound.stream(e,await this._mergeConfig(Jr(n),this.kwargs))}async*transform(e,n){yield*this.bound.transform(e,await this._mergeConfig(Jr(n),this.kwargs))}streamEvents(e,n,r){const i=this,a=async function*(){yield*i.bound.streamEvents(e,{...await i._mergeConfig(Jr(n),i.kwargs),version:n.version},r)};return tu.fromAsyncGenerator(a())}static isRunnableBinding(e){return e.bound&&Aa.isRunnable(e.bound)}withListeners({onStart:e,onEnd:n,onError:r}){return new vm({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[i=>({callbacks:[new xce({config:i,onStart:e,onEnd:n,onError:r})]})]})}}class kT extends Aa{static lc_name(){return"RunnableEach"}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound}bind(e){return new kT({bound:this.bound.bind(e)})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async _invoke(e,n,r){return this.bound.batch(e,ns(n,{callbacks:r?.getChild()}))}withListeners({onStart:e,onEnd:n,onError:r}){return new kT({bound:this.bound.withListeners({onStart:e,onEnd:n,onError:r})})}}class dMe extends vm{static lc_name(){return"RunnableRetry"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"maxAttemptNumber",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:()=>{}}),this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry(e,n,r){const i=e>1?`retry:attempt:${e}`:void 0;return ns(n,{callbacks:r?.getChild(i)})}async _invoke(e,n,r){return bT(i=>super.invoke(e,this._patchConfigForRetry(i,n,r)),{onFailedAttempt:i=>this.onFailedAttempt(i,e),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async _batch(e,n,r,i){const a={};try{await bT(async s=>{const o=e.map((p,m)=>m).filter(p=>a[p.toString()]===void 0||a[p.toString()]instanceof Error),l=o.map(p=>e[p]),u=o.map(p=>this._patchConfigForRetry(s,n?.[p],r?.[p])),d=await super.batch(l,u,{...i,returnExceptions:!0});let h;for(let p=0;p<d.length;p+=1){const m=d[p],v=o[p];m instanceof Error&&h===void 0&&(h=m,h.input=l[p]),a[v.toString()]=m}if(h)throw h;return d},{onFailedAttempt:s=>this.onFailedAttempt(s,s.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(s){if(i?.returnExceptions!==!0)throw s}return Object.keys(a).sort((s,o)=>parseInt(s,10)-parseInt(o,10)).map(s=>a[parseInt(s,10)])}async batch(e,n,r){return this._batchWithConfig(this._batch.bind(this),e,n,r)}}class gl extends Aa{static lc_name(){return"RunnableSequence"}constructor(e){super(e),Object.defineProperty(this,"first",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"middle",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"omitSequenceTags",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),this.first=e.first,this.middle=e.middle??this.middle,this.last=e.last,this.name=e.name,this.omitSequenceTags=e.omitSequenceTags??this.omitSequenceTags}get steps(){return[this.first,...this.middle,this.last]}async invoke(e,n){const r=Jr(n),a=await(await Uc(r))?.handleChainStart(this.toJSON(),Ss(e,"input"),r.runId,void 0,void 0,void 0,r?.runName);delete r.runId;let s=e,o;try{const l=[this.first,...this.middle];for(let u=0;u<l.length;u+=1){const h=l[u].invoke(s,ns(r,{callbacks:a?.getChild(this.omitSequenceTags?void 0:`seq:step:${u+1}`)}));s=await Mm(h,n?.signal)}if(n?.signal?.aborted)throw new Error("Aborted");o=await this.last.invoke(s,ns(r,{callbacks:a?.getChild(this.omitSequenceTags?void 0:`seq:step:${this.steps.length}`)}))}catch(l){throw await a?.handleChainError(l),l}return await a?.handleChainEnd(Ss(o,"output")),o}async batch(e,n,r){const i=this._getOptionsList(n??{},e.length),a=await Promise.all(i.map(Uc)),s=await Promise.all(a.map(async(l,u)=>{const d=await l?.handleChainStart(this.toJSON(),Ss(e[u],"input"),i[u].runId,void 0,void 0,void 0,i[u].runName);return delete i[u].runId,d}));let o=e;try{for(let l=0;l<this.steps.length;l+=1){const d=this.steps[l].batch(o,s.map((h,p)=>{const m=h?.getChild(this.omitSequenceTags?void 0:`seq:step:${l+1}`);return ns(i[p],{callbacks:m})}),r);o=await Mm(d,i[0]?.signal)}}catch(l){throw await Promise.all(s.map(u=>u?.handleChainError(l))),l}return await Promise.all(s.map(l=>l?.handleChainEnd(Ss(o,"output")))),o}async*_streamIterator(e,n){const r=await Uc(n),{runId:i,...a}=n??{},s=await r?.handleChainStart(this.toJSON(),Ss(e,"input"),i,void 0,void 0,void 0,a?.runName),o=[this.first,...this.middle,this.last];let l=!0,u;async function*d(){yield e}try{let h=o[0].transform(d(),ns(a,{callbacks:s?.getChild(this.omitSequenceTags?void 0:"seq:step:1")}));for(let p=1;p<o.length;p+=1)h=await o[p].transform(h,ns(a,{callbacks:s?.getChild(this.omitSequenceTags?void 0:`seq:step:${p+1}`)}));for await(const p of h)if(n?.signal?.throwIfAborted(),yield p,l)if(u===void 0)u=p;else try{u=Bu(u,p)}catch{u=void 0,l=!1}}catch(h){throw await s?.handleChainError(h),h}await s?.handleChainEnd(Ss(u,"output"))}getGraph(e){const n=new cC;let r=null;return this.steps.forEach((i,a)=>{const s=i.getGraph(e);a!==0&&s.trimFirstNode(),a!==this.steps.length-1&&s.trimLastNode(),n.extend(s);const o=s.firstNode();if(!o)throw new Error(`Runnable ${i} has no first node`);r&&n.addEdge(r,o),r=s.lastNode()}),n}pipe(e){return gl.isRunnableSequence(e)?new gl({first:this.first,middle:this.middle.concat([this.last,e.first,...e.middle]),last:e.last,name:this.name??e.name}):new gl({first:this.first,middle:[...this.middle,this.last],last:e0(e),name:this.name})}static isRunnableSequence(e){return Array.isArray(e.middle)&&Aa.isRunnable(e)}static from([e,...n],r){let i={};return typeof r=="string"?i.name=r:r!==void 0&&(i=r),new gl({...i,first:e0(e),middle:n.slice(0,-1).map(e0),last:e0(n[n.length-1])})}}class yv extends Aa{static lc_name(){return"RunnableMap"}getStepsKeys(){return Object.keys(this.steps)}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"steps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.steps={};for(const[n,r]of Object.entries(e.steps))this.steps[n]=e0(r)}static from(e){return new yv({steps:e})}async invoke(e,n){const r=Jr(n),a=await(await Uc(r))?.handleChainStart(this.toJSON(),{input:e},r.runId,void 0,void 0,void 0,r?.runName);delete r.runId;const s={};try{const o=Object.entries(this.steps).map(async([l,u])=>{s[l]=await u.invoke(e,ns(r,{callbacks:a?.getChild(`map:key:${l}`)}))});await Mm(Promise.all(o),n?.signal)}catch(o){throw await a?.handleChainError(o),o}return await a?.handleChainEnd(s),s}async*_transform(e,n,r){const i={...this.steps},a=Sce(e,Object.keys(i).length),s=new Map(Object.entries(i).map(([o,l],u)=>{const d=l.transform(a[u],ns(r,{callbacks:n?.getChild(`map:key:${o}`)}));return[o,d.next().then(h=>({key:o,gen:d,result:h}))]}));for(;s.size;){const o=Promise.race(s.values()),{key:l,result:u,gen:d}=await Mm(o,r?.signal);s.delete(l),u.done||(yield{[l]:u.value},s.set(l,d.next().then(h=>({key:l,gen:d,result:h}))))}}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=Jr(n),a=new gv({generator:this.transform(r(),i),config:i});return await a.setup,tu.fromAsyncGenerator(a)}}class pF extends Aa{constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!cF(e.func))throw new Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=e.func}async invoke(e,n){const[r]=this._getOptionsList(n??{},1),i=await Uc(r),a=this.func(ns(r,{callbacks:i}),e);return Mm(a,r?.signal)}async*_streamIterator(e,n){const[r]=this._getOptionsList(n??{},1),i=await this.invoke(e,n);if(y5(i)){for await(const a of i)r?.signal?.throwIfAborted(),yield a;return}if(cMe(i)){for(;;){r?.signal?.throwIfAborted();const a=i.next();if(a.done)break;yield a.value}return}yield i}static from(e){return new pF({func:e})}}function hMe(t){if(cF(t))throw new Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}class bv extends Aa{static lc_name(){return"RunnableLambda"}constructor(e){if(cF(e.func))return pF.from(e.func);super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),hMe(e.func),this.func=e.func}static from(e){return new bv({func:e})}async _invoke(e,n,r){return new Promise((i,a)=>{const s=ns(n,{callbacks:r?.getChild(),recursionLimit:(n?.recursionLimit??aO)-1});Om.runWithConfig(zb(s),async()=>{try{let o=await this.func(e,{...s});if(o&&Aa.isRunnable(o)){if(n?.recursionLimit===0)throw new Error("Recursion limit reached.");o=await o.invoke(e,{...s,recursionLimit:(s.recursionLimit??aO)-1})}else if(y5(o)){let l;for await(const u of b5(s,o))if(n?.signal?.throwIfAborted(),l===void 0)l=u;else try{l=Bu(l,u)}catch{l=u}o=l}else if(sK(o)){let l;for(const u of oK(s,o))if(n?.signal?.throwIfAborted(),l===void 0)l=u;else try{l=Bu(l,u)}catch{l=u}o=l}i(o)}catch(o){a(o)}})})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async*_transform(e,n,r){let i;for await(const o of e)if(i===void 0)i=o;else try{i=Bu(i,o)}catch{i=o}const a=ns(r,{callbacks:n?.getChild(),recursionLimit:(r?.recursionLimit??aO)-1}),s=await new Promise((o,l)=>{Om.runWithConfig(zb(a),async()=>{try{const u=await this.func(i,{...a,config:a});o(u)}catch(u){l(u)}})});if(s&&Aa.isRunnable(s)){if(r?.recursionLimit===0)throw new Error("Recursion limit reached.");const o=await s.stream(i,a);for await(const l of o)yield l}else if(y5(s))for await(const o of b5(a,s))r?.signal?.throwIfAborted(),yield o;else if(sK(s))for(const o of oK(a,s))r?.signal?.throwIfAborted(),yield o;else yield s}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=Jr(n),a=new gv({generator:this.transform(r(),i),config:i});return await a.setup,tu.fromAsyncGenerator(a)}}class fMe extends Aa{static lc_name(){return"RunnableWithFallbacks"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fallbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnable=e.runnable,this.fallbacks=e.fallbacks}*runnables(){yield this.runnable;for(const e of this.fallbacks)yield e}async invoke(e,n){const r=Jr(n),i=await Uc(r),{runId:a,...s}=r,o=await i?.handleChainStart(this.toJSON(),Ss(e,"input"),a,void 0,void 0,void 0,s?.runName),l=ns(s,{callbacks:o?.getChild()});return await Om.runWithConfig(l,async()=>{let d;for(const h of this.runnables()){r?.signal?.throwIfAborted();try{const p=await h.invoke(e,l);return await o?.handleChainEnd(Ss(p,"output")),p}catch(p){d===void 0&&(d=p)}}throw d===void 0?new Error("No error stored at end of fallback."):(await o?.handleChainError(d),d)})}async*_streamIterator(e,n){const r=Jr(n),i=await Uc(r),{runId:a,...s}=r,o=await i?.handleChainStart(this.toJSON(),Ss(e,"input"),a,void 0,void 0,void 0,s?.runName);let l,u;for(const h of this.runnables()){r?.signal?.throwIfAborted();const p=ns(s,{callbacks:o?.getChild()});try{const m=await h.stream(e,p);u=b5(p,m);break}catch(m){l===void 0&&(l=m)}}if(u===void 0){const h=l??new Error("No error stored at end of fallback.");throw await o?.handleChainError(h),h}let d;try{for await(const h of u){yield h;try{d=d===void 0?d:Bu(d,h)}catch{d=void 0}}}catch(h){throw await o?.handleChainError(h),h}await o?.handleChainEnd(Ss(d,"output"))}async batch(e,n,r){if(r?.returnExceptions)throw new Error("Not implemented.");const i=this._getOptionsList(n??{},e.length),a=await Promise.all(i.map(l=>Uc(l))),s=await Promise.all(a.map(async(l,u)=>{const d=await l?.handleChainStart(this.toJSON(),Ss(e[u],"input"),i[u].runId,void 0,void 0,void 0,i[u].runName);return delete i[u].runId,d}));let o;for(const l of this.runnables()){i[0].signal?.throwIfAborted();try{const u=await l.batch(e,s.map((d,h)=>ns(i[h],{callbacks:d?.getChild()})),r);return await Promise.all(s.map((d,h)=>d?.handleChainEnd(Ss(u[h],"output")))),u}catch(u){o===void 0&&(o=u)}}throw o?(await Promise.all(s.map(l=>l?.handleChainError(o))),o):new Error("No error stored at end of fallbacks.")}}function e0(t){if(typeof t=="function")return new bv({func:t});if(Aa.isRunnable(t))return t;if(!Array.isArray(t)&&typeof t=="object"){const e={};for(const[n,r]of Object.entries(t))e[n]=e0(r);return new yv({steps:e})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}class Rce extends Aa{static lc_name(){return"RunnableAssign"}constructor(e){e instanceof yv&&(e={mapper:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"mapper",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.mapper=e.mapper}async invoke(e,n){const r=await this.mapper.invoke(e,n);return{...e,...r}}async*_transform(e,n,r){const i=this.mapper.getStepsKeys(),[a,s]=Sce(e),o=this.mapper.transform(s,ns(r,{callbacks:n?.getChild()})),l=o.next();for await(const u of a){if(typeof u!="object"||Array.isArray(u))throw new Error(`RunnableAssign can only be used with objects as input, got ${typeof u}`);const d=Object.fromEntries(Object.entries(u).filter(([h])=>!i.includes(h)));Object.keys(d).length>0&&(yield d)}yield(await l).value;for await(const u of o)yield u}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=Jr(n),a=new gv({generator:this.transform(r(),i),config:i});return await a.setup,tu.fromAsyncGenerator(a)}}class pMe extends Aa{static lc_name(){return"RunnablePick"}constructor(e){(typeof e=="string"||Array.isArray(e))&&(e={keys:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"keys",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keys=e.keys}async _pick(e){if(typeof this.keys=="string")return e[this.keys];{const n=this.keys.map(r=>[r,e[r]]).filter(r=>r[1]!==void 0);return n.length===0?void 0:Object.fromEntries(n)}}async invoke(e,n){return this._callWithConfig(this._pick.bind(this),e,n)}async*_transform(e){for await(const n of e){const r=await this._pick(n);r!==void 0&&(yield r)}}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=Jr(n),a=new gv({generator:this.transform(r(),i),config:i});return await a.setup,tu.fromAsyncGenerator(a)}}class lK extends vm{constructor(e){const n=gl.from([bv.from(async r=>{let i;if(nF(r))try{i=await this.schema.parseAsync(r.args)}catch{throw new cT("Received tool input did not match expected schema",JSON.stringify(r.args))}else i=r;return i}).withConfig({runName:`${e.name}:parse_input`}),e.bound]).withConfig({runName:e.name});super({bound:n,config:e.config??{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.description=e.description,this.schema=e.schema}static lc_name(){return"RunnableToolLike"}}function mMe(t,e){const n=e.name??t.getName(),r=e.description??e.schema?.description;return e.schema.constructor===yf.ZodString?new lK({name:n,description:r,schema:yf.object({input:yf.string()}).transform(i=>i.input),bound:t}):new lK({name:n,description:r,schema:e.schema,bound:t})}class gMe extends Hd{async addMessages(e){for(const n of e)await this.addMessage(n)}}class pf extends Mb{sessions;static instance=null;constructor(){super("chat_history"),this.version(1).stores({sessions:"id, title, createdAt, updatedAt, model, embedding_model, enabled_tools, messages"})}static getInstance(){return pf.instance||(pf.instance=new pf),pf.instance}}class uK extends gMe{db;lc_namespace=["langchain","stores","message","dexie"];sessionId;chatHistory;config;configManager;initialized=!1;constructor(e){super(),this.sessionId=e,this.db=pf.getInstance(),this.configManager=Yl.getInstance()}async initialize(){if(!this.initialized){if(this.config=await this.configManager.getConfig(),this.chatHistory=await this.db.sessions.get(this.sessionId),!this.chatHistory){const e=xf.find(r=>r.model===this.config.default_chat_model),n=i1.find(r=>r.model===this.config.default_embedding_model);if(!e||!n)throw new Error("Chat or embedding models are not configured.");this.chatHistory={id:this.sessionId,name:"New Chat",createdAt:Date.now(),updatedAt:Date.now(),model:e.model,embedding_model:n.model,enabled_tools:[],messages:[]},await this.db.sessions.put(this.chatHistory)}this.initialized=!0}}async updateSession(){this.chatHistory&&(this.chatHistory.updatedAt=Date.now(),await this.db.sessions.put(this.chatHistory))}async getMessages(){return await this.initialize(),this.chatHistory?.messages.map(Xue)||[]}async addMessage(e){if(await this.initialize(),!this.chatHistory)return;const n=QIe([e]);this.chatHistory.messages.push(n[0]),await this.updateSession()}async addUserMessage(e){await this.addMessage(new Po(e))}async addAIChatMessage(e){await this.addMessage(new yl(e))}async clear(){this.chatHistory=void 0,this.initialized=!1,await this.db.sessions.delete(this.sessionId)}}function yMe(){const t=Vm(),e=vA(),n=XA(async()=>(await pf.getInstance().sessions.toArray()).sort((s,o)=>o.updatedAt-s.updatedAt)),[r,i]=$.useState(null);return z.jsxs(Hue,{children:[z.jsxs(Gue,{className:"flex flex-row items-center justify-between border-b",children:[z.jsx("span",{className:"text-lg font-bold",children:"Sheer"}),z.jsx(N_,{to:"/chat/new",children:z.jsx(la,{variant:"ghost",size:"icon",children:z.jsx(yAe,{})})})]}),z.jsxs(Wue,{className:"gap-0",children:[z.jsxs(Q6,{children:[z.jsx(J6,{children:"Application"}),z.jsx(e5,{children:z.jsx(t5,{children:oue.map(a=>z.jsx(n5,{children:z.jsx(r5,{asChild:!0,isActive:t.pathname===a.path,children:z.jsxs(N_,{to:a.path,children:[a.icon,z.jsx("span",{children:a.label})]})})},a.path))})})]}),z.jsxs(Q6,{children:[z.jsx(J6,{children:"Chats"}),z.jsx(e5,{children:z.jsx(t5,{children:n?.map(a=>z.jsx(n5,{children:z.jsx(r5,{asChild:!0,isActive:t.pathname===`/chat/${a.id}`,className:"flex flex-row items-center justify-between overflow-hidden",onMouseEnter:()=>i(a.id),onMouseLeave:()=>i(null),children:z.jsxs(N_,{to:`/chat/${a.id}`,className:"flex w-full items-center",children:[z.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-2",children:[z.jsx(uAe,{className:"h-4 w-4 shrink-0"}),z.jsx("span",{className:"truncate",children:a.name})]}),z.jsx("button",{className:`ml-2 shrink-0 transition-transform duration-200 hover:text-destructive ${r===a.id||t.pathname===`/chat/${a.id}`?"translate-x-0":"translate-x-[200%]"}`,onClick:s=>(s.preventDefault(),pf.getInstance().sessions.delete(a.id),Xl.success("Chat deleted"),e("/chat/new")),children:z.jsx(xAe,{className:"h-4 w-4"})})]})})},a.id))})})]})]})]})}var bMe=(t,e,n,r,i,a,s,o)=>{let l=document.documentElement,u=["light","dark"];function d(m){(Array.isArray(t)?t:[t]).forEach(v=>{let w=v==="class",k=w&&a?i.map(T=>a[T]||T):i;w?(l.classList.remove(...k),l.classList.add(m)):l.setAttribute(v,m)}),h(m)}function h(m){o&&u.includes(m)&&(l.style.colorScheme=m)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let m=localStorage.getItem(e)||n,v=s&&m==="system"?p():m;d(v)}catch{}},vMe=$.createContext(void 0),wMe={setTheme:t=>{},themes:[]},_Me=()=>{var t;return(t=$.useContext(vMe))!=null?t:wMe};$.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:s,themes:o,nonce:l,scriptProps:u})=>{let d=JSON.stringify([n,e,a,t,o,s,r,i]).slice(1,-1);return $.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${bMe.toString()})(${d})`}})});const SMe=({...t})=>{const{theme:e="system"}=_Me();return z.jsx(poe,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function cK({children:t}){return z.jsxs(que,{children:[z.jsx(yMe,{}),z.jsxs("main",{className:"flex flex-col w-full",children:[z.jsx("div",{className:"fixed p-4 z-50 opacity-0 hover:opacity-100",children:z.jsx(Vue,{})}),t,z.jsx(SMe,{})]})]})}const xMe=({textAreaRef:t,triggerAutoSize:e,maxHeight:n=Number.MAX_SAFE_INTEGER,minHeight:r=0})=>{const[i,a]=$.useState(!0);$.useEffect(()=>{const o=t.current;if(o){i&&(o.style.minHeight=`${r+6}px`,n>r&&(o.style.maxHeight=`${n}px`),a(!1)),o.style.height=`${r+6}px`;const l=o.scrollHeight;l>n?o.style.height=`${n}px`:o.style.height=`${l+6}px`}},[t.current,e])},mF=$.forwardRef(({maxHeight:t=Number.MAX_SAFE_INTEGER,minHeight:e=52,className:n,onChange:r,value:i,...a},s)=>{const o=$.useRef(null),[l,u]=$.useState("");return xMe({textAreaRef:o,triggerAutoSize:l,maxHeight:t,minHeight:e}),$.useImperativeHandle(s,()=>({textArea:o.current,focus:()=>o?.current?.focus(),maxHeight:t,minHeight:e})),$.useEffect(()=>{u(i)},[a?.defaultValue,i]),z.jsx("textarea",{...a,value:i,ref:o,className:cn("flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),onChange:d=>{u(d.target.value),r?.(d)}})});mF.displayName="AutosizeTextarea";const Ice=_t.memo(({document:t,onPreview:e,onRemove:n,removeable:r=!0})=>z.jsxs(Md,{className:"gap-1 cursor-pointer justify-between max-w-[200px] w-fit truncate bg-muted-foreground/20 hover:bg-primary/5",onClick:e,children:[z.jsx("span",{className:"truncate",children:t.name}),r&&z.jsx(la,{variant:"ghost",size:"icon",className:"h-4 w-4",onClick:i=>{i.stopPropagation(),n()},children:z.jsx(IA,{className:"h-3 w-3"})})]},t.id));Ice.displayName="DocumentBadge";const gF=_t.memo(({documents:t,onPreview:e,onRemove:n,removeable:r=!0,maxHeight:i="100px",className:a="",rowReverse:s=!0})=>z.jsx(uS,{className:cn("w-full",a),style:{maxHeight:i},children:z.jsx("div",{className:`flex ${s?"flex-row-reverse":"flex-row"} flex-wrap-reverse gap-1 p-1`,children:t.map(o=>z.jsx(Ice,{document:o,onPreview:()=>e(o),onRemove:()=>n(o.id),removeable:r},o.id))})}));gF.displayName="DocumentBadgesScrollArea";const v5=_t.memo(({message:t,setPreviewDocument:e,onEdit:n,onRegenerate:r,isEditing:i,onSave:a,onCancelEdit:s})=>{const[o,l]=_t.useState(String(t.content));return t.response_metadata?.documents?.length?z.jsx("div",{className:"flex flex-col gap-1 max-w-[70%] ml-auto items-end",children:z.jsx(gF,{documents:t.response_metadata.documents,onPreview:u=>e?.(u),onRemove:()=>{},removeable:!1,maxHeight:"200px"})}):z.jsx("div",{className:"flex flex-col gap-1 max-w-[70%] ml-auto items-end group",children:i?z.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[z.jsx(mF,{value:o,onChange:u=>l(u.target.value),className:"bg-muted p-5 rounded-md",maxHeight:300}),z.jsxs("div",{className:"flex gap-2 justify-end",children:[z.jsxs(la,{variant:"ghost",size:"sm",onClick:s,children:[z.jsx(IA,{className:"h-4 w-4 mr-2"}),"Cancel"]}),z.jsxs(la,{size:"sm",onClick:()=>a?.(o),children:[z.jsx(RA,{className:"h-4 w-4 mr-2"}),"Save"]})]})]}):z.jsxs(z.Fragment,{children:[z.jsx("div",{className:"flex p-5 bg-muted rounded-md",style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:String(t.content)}),z.jsxs("div",{className:"flex flex-row gap-1 opacity-0 group-hover:opacity-100",children:[z.jsx(la,{variant:"ghost",size:"icon",onClick:r,children:z.jsx(vAe,{className:"h-4 w-4"})}),z.jsx(la,{variant:"ghost",size:"icon",onClick:n,children:z.jsx(mAe,{className:"h-4 w-4"})}),z.jsx(la,{variant:"ghost",size:"icon",onClick:()=>navigator.clipboard.writeText(String(t.content)).then(()=>Xl.success("Message copied to clipboard")),children:z.jsx(U6,{className:"h-4 w-4"})})]})]})})});v5.displayName="HumanMessageComponent";function dK(t){const e=[],n=String(t||"");let r=n.indexOf(","),i=0,a=!1;for(;!a;){r===-1&&(r=n.length,a=!0);const s=n.slice(i,r).trim();(s||!a)&&e.push(s),i=r+1,r=n.indexOf(",",i)}return e}function EMe(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const kMe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,TMe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,AMe={};function hK(t,e){return(AMe.jsx?TMe:kMe).test(t)}const CMe=/[ \t\n\f\r]/g;function RMe(t){return typeof t=="object"?t.type==="text"?fK(t.value):!1:fK(t)}function fK(t){return t.replace(CMe,"")===""}class bS{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}bS.prototype.normal={};bS.prototype.property={};bS.prototype.space=void 0;function Nce(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new bS(n,r,e)}function E1(t){return t.toLowerCase()}class _l{constructor(e,n){this.attribute=n,this.property=e}}_l.prototype.attribute="";_l.prototype.booleanish=!1;_l.prototype.boolean=!1;_l.prototype.commaOrSpaceSeparated=!1;_l.prototype.commaSeparated=!1;_l.prototype.defined=!1;_l.prototype.mustUseProperty=!1;_l.prototype.number=!1;_l.prototype.overloadedBoolean=!1;_l.prototype.property="";_l.prototype.spaceSeparated=!1;_l.prototype.space=void 0;let IMe=0;const or=R0(),Ua=R0(),Oce=R0(),Zt=R0(),Li=R0(),xb=R0(),Fl=R0();function R0(){return 2**++IMe}const w5=Object.freeze(Object.defineProperty({__proto__:null,boolean:or,booleanish:Ua,commaOrSpaceSeparated:Fl,commaSeparated:xb,number:Zt,overloadedBoolean:Oce,spaceSeparated:Li},Symbol.toStringTag,{value:"Module"})),uO=Object.keys(w5);class yF extends _l{constructor(e,n,r,i){let a=-1;if(super(e,n),pK(this,"space",i),typeof r=="number")for(;++a<uO.length;){const s=uO[a];pK(this,uO[a],(r&w5[s])===w5[s])}}}yF.prototype.defined=!0;function pK(t,e,n){n&&(t[e]=n)}function vv(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new yF(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[E1(r)]=r,n[E1(a.attribute)]=r}return new bS(e,n,t.space)}const Mce=vv({properties:{ariaActiveDescendant:null,ariaAtomic:Ua,ariaAutoComplete:null,ariaBusy:Ua,ariaChecked:Ua,ariaColCount:Zt,ariaColIndex:Zt,ariaColSpan:Zt,ariaControls:Li,ariaCurrent:null,ariaDescribedBy:Li,ariaDetails:null,ariaDisabled:Ua,ariaDropEffect:Li,ariaErrorMessage:null,ariaExpanded:Ua,ariaFlowTo:Li,ariaGrabbed:Ua,ariaHasPopup:null,ariaHidden:Ua,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Li,ariaLevel:Zt,ariaLive:null,ariaModal:Ua,ariaMultiLine:Ua,ariaMultiSelectable:Ua,ariaOrientation:null,ariaOwns:Li,ariaPlaceholder:null,ariaPosInSet:Zt,ariaPressed:Ua,ariaReadOnly:Ua,ariaRelevant:null,ariaRequired:Ua,ariaRoleDescription:Li,ariaRowCount:Zt,ariaRowIndex:Zt,ariaRowSpan:Zt,ariaSelected:Ua,ariaSetSize:Zt,ariaSort:null,ariaValueMax:Zt,ariaValueMin:Zt,ariaValueNow:Zt,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Pce(t,e){return e in t?t[e]:e}function Lce(t,e){return Pce(t,e.toLowerCase())}const NMe=vv({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:xb,acceptCharset:Li,accessKey:Li,action:null,allow:null,allowFullScreen:or,allowPaymentRequest:or,allowUserMedia:or,alt:null,as:null,async:or,autoCapitalize:null,autoComplete:Li,autoFocus:or,autoPlay:or,blocking:Li,capture:null,charSet:null,checked:or,cite:null,className:Li,cols:Zt,colSpan:null,content:null,contentEditable:Ua,controls:or,controlsList:Li,coords:Zt|xb,crossOrigin:null,data:null,dateTime:null,decoding:null,default:or,defer:or,dir:null,dirName:null,disabled:or,download:Oce,draggable:Ua,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:or,formTarget:null,headers:Li,height:Zt,hidden:or,high:Zt,href:null,hrefLang:null,htmlFor:Li,httpEquiv:Li,id:null,imageSizes:null,imageSrcSet:null,inert:or,inputMode:null,integrity:null,is:null,isMap:or,itemId:null,itemProp:Li,itemRef:Li,itemScope:or,itemType:Li,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:or,low:Zt,manifest:null,max:null,maxLength:Zt,media:null,method:null,min:null,minLength:Zt,multiple:or,muted:or,name:null,nonce:null,noModule:or,noValidate:or,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:or,optimum:Zt,pattern:null,ping:Li,placeholder:null,playsInline:or,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:or,referrerPolicy:null,rel:Li,required:or,reversed:or,rows:Zt,rowSpan:Zt,sandbox:Li,scope:null,scoped:or,seamless:or,selected:or,shadowRootClonable:or,shadowRootDelegatesFocus:or,shadowRootMode:null,shape:null,size:Zt,sizes:null,slot:null,span:Zt,spellCheck:Ua,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Zt,step:null,style:null,tabIndex:Zt,target:null,title:null,translate:null,type:null,typeMustMatch:or,useMap:null,value:Ua,width:Zt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Li,axis:null,background:null,bgColor:null,border:Zt,borderColor:null,bottomMargin:Zt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:or,declare:or,event:null,face:null,frame:null,frameBorder:null,hSpace:Zt,leftMargin:Zt,link:null,longDesc:null,lowSrc:null,marginHeight:Zt,marginWidth:Zt,noResize:or,noHref:or,noShade:or,noWrap:or,object:null,profile:null,prompt:null,rev:null,rightMargin:Zt,rules:null,scheme:null,scrolling:Ua,standby:null,summary:null,text:null,topMargin:Zt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Zt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:or,disableRemotePlayback:or,prefix:null,property:null,results:Zt,security:null,unselectable:null},space:"html",transform:Lce}),OMe=vv({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Fl,accentHeight:Zt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Zt,amplitude:Zt,arabicForm:null,ascent:Zt,attributeName:null,attributeType:null,azimuth:Zt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Zt,by:null,calcMode:null,capHeight:Zt,className:Li,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Zt,diffuseConstant:Zt,direction:null,display:null,dur:null,divisor:Zt,dominantBaseline:null,download:or,dx:null,dy:null,edgeMode:null,editable:null,elevation:Zt,enableBackground:null,end:null,event:null,exponent:Zt,externalResourcesRequired:null,fill:null,fillOpacity:Zt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:xb,g2:xb,glyphName:xb,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Zt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Zt,horizOriginX:Zt,horizOriginY:Zt,id:null,ideographic:Zt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Zt,k:Zt,k1:Zt,k2:Zt,k3:Zt,k4:Zt,kernelMatrix:Fl,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Zt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Zt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Zt,overlineThickness:Zt,paintOrder:null,panose1:null,path:null,pathLength:Zt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Li,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Zt,pointsAtY:Zt,pointsAtZ:Zt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Fl,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Fl,rev:Fl,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Fl,requiredFeatures:Fl,requiredFonts:Fl,requiredFormats:Fl,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Zt,specularExponent:Zt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Zt,strikethroughThickness:Zt,string:null,stroke:null,strokeDashArray:Fl,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Zt,strokeOpacity:Zt,strokeWidth:null,style:null,surfaceScale:Zt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Fl,tabIndex:Zt,tableValues:null,target:null,targetX:Zt,targetY:Zt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Fl,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Zt,underlineThickness:Zt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Zt,values:null,vAlphabetic:Zt,vMathematical:Zt,vectorEffect:null,vHanging:Zt,vIdeographic:Zt,version:null,vertAdvY:Zt,vertOriginX:Zt,vertOriginY:Zt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Zt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Pce}),Dce=vv({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Fce=vv({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Lce}),Bce=vv({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),MMe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},PMe=/[A-Z]/g,mK=/-[a-z]/g,LMe=/^data[-\w.:]+$/i;function Uce(t,e){const n=E1(e);let r=e,i=_l;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&LMe.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(mK,FMe);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!mK.test(a)){let s=a.replace(PMe,DMe);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=yF}return new i(r,e)}function DMe(t){return"-"+t.toLowerCase()}function FMe(t){return t.charAt(1).toUpperCase()}const jce=Nce([Mce,NMe,Dce,Fce,Bce],"html"),dC=Nce([Mce,OMe,Dce,Fce,Bce],"svg");function gK(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function BMe(t){return t.join(" ").trim()}var xy={},cO,yK;function UMe(){if(yK)return cO;yK=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,o=/^\s+|\s+$/g,l=`
`,u="/",d="*",h="",p="comment",m="declaration";cO=function(w,k){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];k=k||{};var T=1,C=1;function N(qe){var xe=qe.match(e);xe&&(T+=xe.length);var Ce=qe.lastIndexOf(l);C=~Ce?qe.length-Ce:C+qe.length}function F(){var qe={line:T,column:C};return function(xe){return xe.position=new D(qe),se(),xe}}function D(qe){this.start=qe,this.end={line:T,column:C},this.source=k.source}D.prototype.content=w;function U(qe){var xe=new Error(k.source+":"+T+":"+C+": "+qe);if(xe.reason=qe,xe.filename=k.source,xe.line=T,xe.column=C,xe.source=w,!k.silent)throw xe}function G(qe){var xe=qe.exec(w);if(xe){var Ce=xe[0];return N(Ce),w=w.slice(Ce.length),xe}}function se(){G(n)}function re(qe){var xe;for(qe=qe||[];xe=Q();)xe!==!1&&qe.push(xe);return qe}function Q(){var qe=F();if(!(u!=w.charAt(0)||d!=w.charAt(1))){for(var xe=2;h!=w.charAt(xe)&&(d!=w.charAt(xe)||u!=w.charAt(xe+1));)++xe;if(xe+=2,h===w.charAt(xe-1))return U("End of comment missing");var Ce=w.slice(2,xe-2);return C+=2,N(Ce),w=w.slice(xe),C+=2,qe({type:p,comment:Ce})}}function ce(){var qe=F(),xe=G(r);if(xe){if(Q(),!G(i))return U("property missing ':'");var Ce=G(a),ue=qe({type:m,property:v(xe[0].replace(t,h)),value:Ce?v(Ce[0].replace(t,h)):h});return G(s),ue}}function Ie(){var qe=[];re(qe);for(var xe;xe=ce();)xe!==!1&&(qe.push(xe),re(qe));return qe}return se(),Ie()};function v(w){return w?w.replace(o,h):h}return cO}var bK;function jMe(){if(bK)return xy;bK=1;var t=xy&&xy.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xy,"__esModule",{value:!0}),xy.default=n;var e=t(UMe());function n(r,i){var a=null;if(!r||typeof r!="string")return a;var s=(0,e.default)(r),o=typeof i=="function";return s.forEach(function(l){if(l.type==="declaration"){var u=l.property,d=l.value;o?i(u,d,l):d&&(a=a||{},a[u]=d)}}),a}return xy}var zMe=jMe();const vK=Yc(zMe),$Me=vK.default||vK,zce=$ce("end"),bF=$ce("start");function $ce(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function qMe(t){const e=bF(t),n=zce(t);if(e&&n)return{start:e,end:n}}function D_(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?wK(t.position):"start"in t||"end"in t?wK(t):"line"in t||"column"in t?_5(t):""}function _5(t){return _K(t&&t.line)+":"+_K(t&&t.column)}function wK(t){return _5(t&&t.start)+"-"+_5(t&&t.end)}function _K(t){return t&&typeof t=="number"?t:1}class oo extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(s=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=o?o.line:void 0,this.name=D_(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}oo.prototype.file="";oo.prototype.name="";oo.prototype.reason="";oo.prototype.message="";oo.prototype.stack="";oo.prototype.column=void 0;oo.prototype.line=void 0;oo.prototype.ancestors=void 0;oo.prototype.cause=void 0;oo.prototype.fatal=void 0;oo.prototype.place=void 0;oo.prototype.ruleId=void 0;oo.prototype.source=void 0;const vF={}.hasOwnProperty,HMe=new Map,VMe=/[A-Z]/g,GMe=/-([a-z])/g,WMe=new Set(["table","tbody","thead","tfoot","tr"]),KMe=new Set(["td","th"]),qce="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function YMe(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=rPe(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=nPe(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?dC:jce,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=Hce(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function Hce(t,e,n){if(e.type==="element")return XMe(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return ZMe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return JMe(t,e,n);if(e.type==="mdxjsEsm")return QMe(t,e);if(e.type==="root")return ePe(t,e,n);if(e.type==="text")return tPe(t,e)}function XMe(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=dC,t.schema=i),t.ancestors.push(e);const a=Gce(t,e.tagName,!1),s=iPe(t,e);let o=_F(t,e);return WMe.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!RMe(l):!0})),Vce(t,s,a,e),wF(s,o),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function ZMe(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}k1(t,e.position)}function QMe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);k1(t,e.position)}function JMe(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=dC,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:Gce(t,e.name,!0),s=aPe(t,e),o=_F(t,e);return Vce(t,s,a,e),wF(s,o),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function ePe(t,e,n){const r={};return wF(r,_F(t,e)),t.create(e,t.Fragment,r,n)}function tPe(t,e){return e.value}function Vce(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function wF(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function nPe(t,e,n){return r;function r(i,a,s,o){const u=Array.isArray(s.children)?n:e;return o?u(a,s,o):u(a,s)}}function rPe(t,e){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=bF(r);return e(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function iPe(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&vF.call(e.properties,i)){const a=sPe(t,i,e.properties[i]);if(a){const[s,o]=a;t.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&KMe.has(e.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function aPe(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,t.evaluater.evaluateExpression(o.argument))}else k1(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const o=r.value.data.estree.body[0];o.type,a=t.evaluater.evaluateExpression(o.expression)}else k1(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function _F(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:HMe;for(;++r<e.children.length;){const a=e.children[r];let s;if(t.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const u=i.get(l)||0;s=l+"-"+u,i.set(l,u+1)}}const o=Hce(t,a,s);o!==void 0&&n.push(o)}return n}function sPe(t,e,n){const r=Uce(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?EMe(n):BMe(n)),r.property==="style"){let i=typeof n=="object"?n:oPe(t,String(n));return t.stylePropertyNameCase==="css"&&(i=lPe(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?MMe[r.property]||r.property:r.attribute,n]}}function oPe(t,e){const n={};try{$Me(e,r)}catch(i){if(!t.ignoreInvalidStyle){const a=i,s=new oo("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=qce+"#cannot-parse-style-attribute",s}}return n;function r(i,a){let s=i;s.slice(0,2)!=="--"&&(s.slice(0,4)==="-ms-"&&(s="ms-"+s.slice(4)),s=s.replace(GMe,cPe)),n[s]=a}}function Gce(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,s;for(;++a<i.length;){const o=hK(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=hK(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return vF.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);k1(t)}function k1(t,e){const n=new oo("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=qce+"#cannot-handle-mdx-estrees-without-createevaluater",n}function lPe(t){const e={};let n;for(n in t)vF.call(t,n)&&(e[uPe(n)]=t[n]);return e}function uPe(t){let e=t.replace(VMe,dPe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function cPe(t,e){return e.toUpperCase()}function dPe(t){return"-"+t.toLowerCase()}const dO={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},hPe={};function SF(t,e){const n=hPe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Wce(t,r,i)}function Wce(t,e,n){if(fPe(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return SK(t.children,e,n)}return Array.isArray(t)?SK(t,e,n):""}function SK(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=Wce(t[i],e,n);return r.join("")}function fPe(t){return!!(t&&typeof t=="object")}const xK=document.createElement("i");function xF(t){const e="&"+t+";";xK.innerHTML=e;const n=xK.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Jl(t,e,n,r){const i=t.length;let a=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(e,0),t.splice(...s),a+=1e4,e+=1e4}function Ou(t,e){return t.length>0?(Jl(t,t.length,0,e),t):e}const EK={}.hasOwnProperty;function Kce(t){const e={};let n=-1;for(;++n<t.length;)pPe(e,t[n]);return e}function pPe(t,e){let n;for(n in e){const i=(EK.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let s;if(a)for(s in a){EK.call(i,s)||(i[s]=[]);const o=a[s];mPe(i[s],Array.isArray(o)?o:o?[o]:[])}}}function mPe(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Jl(t,0,0,r)}function Yce(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function zc(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Oo=Km(/[A-Za-z]/),ro=Km(/[\dA-Za-z]/),gPe=Km(/[#-'*+\--9=?A-Z^-~]/);function TT(t){return t!==null&&(t<32||t===127)}const S5=Km(/\d/),yPe=Km(/[\dA-Fa-f]/),bPe=Km(/[!-/:-@[-`{-~]/);function Cn(t){return t!==null&&t<-2}function Ci(t){return t!==null&&(t<0||t===32)}function Cr(t){return t===-2||t===-1||t===32}const hC=Km(/\p{P}|\p{S}/u),_0=Km(/\s/);function Km(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function wv(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let s="";if(a===37&&ro(t.charCodeAt(n+1))&&ro(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=t.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s="�"}else s=String.fromCharCode(a);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function kr(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return Cr(l)?(t.enter(n),o(l)):e(l)}function o(l){return Cr(l)&&a++<i?(t.consume(l),o):(t.exit(n),e(l))}}const vPe={tokenize:wPe};function wPe(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),kr(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),a(o)}function a(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return Cn(o)?(t.consume(o),t.exit("chunkText"),a):(t.consume(o),s)}}const _Pe={tokenize:SPe},kK={tokenize:xPe};function SPe(t){const e=this,n=[];let r=0,i,a,s;return o;function o(N){if(r<n.length){const F=n[r];return e.containerState=F[1],t.attempt(F[0].continuation,l,u)(N)}return u(N)}function l(N){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&C();const F=e.events.length;let D=F,U;for(;D--;)if(e.events[D][0]==="exit"&&e.events[D][1].type==="chunkFlow"){U=e.events[D][1].end;break}T(r);let G=F;for(;G<e.events.length;)e.events[G][1].end={...U},G++;return Jl(e.events,D+1,0,e.events.slice(F)),e.events.length=G,u(N)}return o(N)}function u(N){if(r===n.length){if(!i)return p(N);if(i.currentConstruct&&i.currentConstruct.concrete)return v(N);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(kK,d,h)(N)}function d(N){return i&&C(),T(r),p(N)}function h(N){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,v(N)}function p(N){return e.containerState={},t.attempt(kK,m,v)(N)}function m(N){return r++,n.push([e.currentConstruct,e.containerState]),p(N)}function v(N){if(N===null){i&&C(),T(0),t.consume(N);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),w(N)}function w(N){if(N===null){k(t.exit("chunkFlow"),!0),T(0),t.consume(N);return}return Cn(N)?(t.consume(N),k(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(N),w)}function k(N,F){const D=e.sliceStream(N);if(F&&D.push(null),N.previous=a,a&&(a.next=N),a=N,i.defineSkip(N.start),i.write(D),e.parser.lazy[N.start.line]){let U=i.events.length;for(;U--;)if(i.events[U][1].start.offset<s&&(!i.events[U][1].end||i.events[U][1].end.offset>s))return;const G=e.events.length;let se=G,re,Q;for(;se--;)if(e.events[se][0]==="exit"&&e.events[se][1].type==="chunkFlow"){if(re){Q=e.events[se][1].end;break}re=!0}for(T(r),U=G;U<e.events.length;)e.events[U][1].end={...Q},U++;Jl(e.events,se+1,0,e.events.slice(G)),e.events.length=U}}function T(N){let F=n.length;for(;F-- >N;){const D=n[F];e.containerState=D[1],D[0].exit.call(e,t)}n.length=N}function C(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function xPe(t,e,n){return kr(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function qb(t){if(t===null||Ci(t)||_0(t))return 1;if(hC(t))return 2}function fC(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const x5={name:"attention",resolveAll:EPe,tokenize:kPe};function EPe(t,e){let n=-1,r,i,a,s,o,l,u,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const h={...t[r][1].end},p={...t[n][1].start};TK(h,-l),TK(p,l),s={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...t[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:p},a={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},t[r][1].end={...s.start},t[n][1].start={...o.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=Ou(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=Ou(u,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",a,e]]),u=Ou(u,fC(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=Ou(u,[["exit",a,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,u=Ou(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,Jl(t,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function kPe(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=qb(r);let a;return s;function s(l){return a=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===a)return t.consume(l),o;const u=t.exit("attentionSequence"),d=qb(l),h=!d||d===2&&i||n.includes(l),p=!i||i===2&&d||n.includes(r);return u._open=!!(a===42?h:h&&(i||!p)),u._close=!!(a===42?p:p&&(d||!h)),e(l)}}function TK(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const TPe={name:"autolink",tokenize:APe};function APe(t,e,n){let r=0;return i;function i(m){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(m){return Oo(m)?(t.consume(m),s):m===64?n(m):u(m)}function s(m){return m===43||m===45||m===46||ro(m)?(r=1,o(m)):u(m)}function o(m){return m===58?(t.consume(m),r=0,l):(m===43||m===45||m===46||ro(m))&&r++<32?(t.consume(m),o):(r=0,u(m))}function l(m){return m===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):m===null||m===32||m===60||TT(m)?n(m):(t.consume(m),l)}function u(m){return m===64?(t.consume(m),d):gPe(m)?(t.consume(m),u):n(m)}function d(m){return ro(m)?h(m):n(m)}function h(m){return m===46?(t.consume(m),r=0,d):m===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):p(m)}function p(m){if((m===45||ro(m))&&r++<63){const v=m===45?p:h;return t.consume(m),v}return n(m)}}const vS={partial:!0,tokenize:CPe};function CPe(t,e,n){return r;function r(a){return Cr(a)?kr(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||Cn(a)?e(a):n(a)}}const Xce={continuation:{tokenize:IPe},exit:NPe,name:"blockQuote",tokenize:RPe};function RPe(t,e,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),a}return n(s)}function a(s){return Cr(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function IPe(t,e,n){const r=this;return i;function i(s){return Cr(s)?kr(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return t.attempt(Xce,e,n)(s)}}function NPe(t){t.exit("blockQuote")}const Zce={name:"characterEscape",tokenize:OPe};function OPe(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return bPe(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const Qce={name:"characterReference",tokenize:MPe};function MPe(t,e,n){const r=this;let i=0,a,s;return o;function o(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),l}function l(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),a=31,s=ro,d(h))}function u(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,s=yPe,d):(t.enter("characterReferenceValue"),a=7,s=S5,d(h))}function d(h){if(h===59&&i){const p=t.exit("characterReferenceValue");return s===ro&&!xF(r.sliceSerialize(p))?n(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(h)&&i++<a?(t.consume(h),d):n(h)}}const AK={partial:!0,tokenize:LPe},CK={concrete:!0,name:"codeFenced",tokenize:PPe};function PPe(t,e,n){const r=this,i={partial:!0,tokenize:D};let a=0,s=0,o;return l;function l(U){return u(U)}function u(U){const G=r.events[r.events.length-1];return a=G&&G[1].type==="linePrefix"?G[2].sliceSerialize(G[1],!0).length:0,o=U,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(U)}function d(U){return U===o?(s++,t.consume(U),d):s<3?n(U):(t.exit("codeFencedFenceSequence"),Cr(U)?kr(t,h,"whitespace")(U):h(U))}function h(U){return U===null||Cn(U)?(t.exit("codeFencedFence"),r.interrupt?e(U):t.check(AK,w,F)(U)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),p(U))}function p(U){return U===null||Cn(U)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),h(U)):Cr(U)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),kr(t,m,"whitespace")(U)):U===96&&U===o?n(U):(t.consume(U),p)}function m(U){return U===null||Cn(U)?h(U):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),v(U))}function v(U){return U===null||Cn(U)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),h(U)):U===96&&U===o?n(U):(t.consume(U),v)}function w(U){return t.attempt(i,F,k)(U)}function k(U){return t.enter("lineEnding"),t.consume(U),t.exit("lineEnding"),T}function T(U){return a>0&&Cr(U)?kr(t,C,"linePrefix",a+1)(U):C(U)}function C(U){return U===null||Cn(U)?t.check(AK,w,F)(U):(t.enter("codeFlowValue"),N(U))}function N(U){return U===null||Cn(U)?(t.exit("codeFlowValue"),C(U)):(t.consume(U),N)}function F(U){return t.exit("codeFenced"),e(U)}function D(U,G,se){let re=0;return Q;function Q(Ce){return U.enter("lineEnding"),U.consume(Ce),U.exit("lineEnding"),ce}function ce(Ce){return U.enter("codeFencedFence"),Cr(Ce)?kr(U,Ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Ce):Ie(Ce)}function Ie(Ce){return Ce===o?(U.enter("codeFencedFenceSequence"),qe(Ce)):se(Ce)}function qe(Ce){return Ce===o?(re++,U.consume(Ce),qe):re>=s?(U.exit("codeFencedFenceSequence"),Cr(Ce)?kr(U,xe,"whitespace")(Ce):xe(Ce)):se(Ce)}function xe(Ce){return Ce===null||Cn(Ce)?(U.exit("codeFencedFence"),G(Ce)):se(Ce)}}}function LPe(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const hO={name:"codeIndented",tokenize:FPe},DPe={partial:!0,tokenize:BPe};function FPe(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),kr(t,a,"linePrefix",5)(u)}function a(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):Cn(u)?t.attempt(DPe,s,l)(u):(t.enter("codeFlowValue"),o(u))}function o(u){return u===null||Cn(u)?(t.exit("codeFlowValue"),s(u)):(t.consume(u),o)}function l(u){return t.exit("codeIndented"),e(u)}}function BPe(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Cn(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):kr(t,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):Cn(s)?i(s):n(s)}}const UPe={name:"codeText",previous:zPe,resolve:jPe,tokenize:$Pe};function jPe(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function zPe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function $Pe(t,e,n){let r=0,i,a;return s;function s(h){return t.enter("codeText"),t.enter("codeTextSequence"),o(h)}function o(h){return h===96?(t.consume(h),r++,o):(t.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),l):h===96?(a=t.enter("codeTextSequence"),i=0,d(h)):Cn(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||Cn(h)?(t.exit("codeTextData"),l(h)):(t.consume(h),u)}function d(h){return h===96?(t.consume(h),i++,d):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(a.type="codeTextData",u(h))}}class qPe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Ew(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Ew(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Ew(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Ew(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Ew(this.left,n.reverse())}}}function Ew(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function Jce(t){const e={};let n=-1,r,i,a,s,o,l,u;const d=new qPe(t);for(;++n<d.length;){for(;n in e;)n=e[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,HPe(d,n)),n=e[n],u=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=d.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(s[1].type!=="linePrefix")break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return Jl(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function HPe(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[],s=n._tokenizer||r.parser[n.contentType](n.start),o=s.events,l=[],u={};let d,h,p=-1,m=n,v=0,w=0;const k=[w];for(;m;){for(;t.get(++i)[1]!==m;);a.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),h&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),h=m,m=m.next}for(m=n;++p<o.length;)o[p][0]==="exit"&&o[p-1][0]==="enter"&&o[p][1].type===o[p-1][1].type&&o[p][1].start.line!==o[p][1].end.line&&(w=p+1,k.push(w),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):k.pop(),p=k.length;p--;){const T=o.slice(k[p],k[p+1]),C=a.pop();l.push([C,C+T.length-1]),t.splice(C,2,T)}for(l.reverse(),p=-1;++p<l.length;)u[v+l[p][0]]=v+l[p][1],v+=l[p][1]-l[p][0]-1;return u}const VPe={resolve:WPe,tokenize:KPe},GPe={partial:!0,tokenize:YPe};function WPe(t){return Jce(t),t}function KPe(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):Cn(o)?t.check(GPe,s,a)(o):(t.consume(o),i)}function a(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function s(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function YPe(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),kr(t,a,"linePrefix")}function a(s){if(s===null||Cn(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function ede(t,e,n,r,i,a,s,o,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return h;function h(T){return T===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(T),t.exit(a),p):T===null||T===32||T===41||TT(T)?n(T):(t.enter(r),t.enter(s),t.enter(o),t.enter("chunkString",{contentType:"string"}),w(T))}function p(T){return T===62?(t.enter(a),t.consume(T),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),m(T))}function m(T){return T===62?(t.exit("chunkString"),t.exit(o),p(T)):T===null||T===60||Cn(T)?n(T):(t.consume(T),T===92?v:m)}function v(T){return T===60||T===62||T===92?(t.consume(T),m):m(T)}function w(T){return!d&&(T===null||T===41||Ci(T))?(t.exit("chunkString"),t.exit(o),t.exit(s),t.exit(r),e(T)):d<u&&T===40?(t.consume(T),d++,w):T===41?(t.consume(T),d--,w):T===null||T===32||T===40||TT(T)?n(T):(t.consume(T),T===92?k:w)}function k(T){return T===40||T===41||T===92?(t.consume(T),w):w(T)}}function tde(t,e,n,r,i,a){const s=this;let o=0,l;return u;function u(m){return t.enter(r),t.enter(i),t.consume(m),t.exit(i),t.enter(a),d}function d(m){return o>999||m===null||m===91||m===93&&!l||m===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(m):m===93?(t.exit(a),t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):Cn(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===null||m===91||m===93||Cn(m)||o++>999?(t.exit("chunkString"),d(m)):(t.consume(m),l||(l=!Cr(m)),m===92?p:h)}function p(m){return m===91||m===92||m===93?(t.consume(m),o++,h):h(m)}}function nde(t,e,n,r,i,a){let s;return o;function o(p){return p===34||p===39||p===40?(t.enter(r),t.enter(i),t.consume(p),t.exit(i),s=p===40?41:p,l):n(p)}function l(p){return p===s?(t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):(t.enter(a),u(p))}function u(p){return p===s?(t.exit(a),l(s)):p===null?n(p):Cn(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),kr(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===s||p===null||Cn(p)?(t.exit("chunkString"),u(p)):(t.consume(p),p===92?h:d)}function h(p){return p===s||p===92?(t.consume(p),d):d(p)}}function F_(t,e){let n;return r;function r(i){return Cn(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Cr(i)?kr(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const XPe={name:"definition",tokenize:QPe},ZPe={partial:!0,tokenize:JPe};function QPe(t,e,n){const r=this;let i;return a;function a(m){return t.enter("definition"),s(m)}function s(m){return tde.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function o(m){return i=zc(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),l):n(m)}function l(m){return Ci(m)?F_(t,u)(m):u(m)}function u(m){return ede(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return t.attempt(ZPe,h,h)(m)}function h(m){return Cr(m)?kr(t,p,"whitespace")(m):p(m)}function p(m){return m===null||Cn(m)?(t.exit("definition"),r.parser.defined.push(i),e(m)):n(m)}}function JPe(t,e,n){return r;function r(o){return Ci(o)?F_(t,i)(o):n(o)}function i(o){return nde(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return Cr(o)?kr(t,s,"whitespace")(o):s(o)}function s(o){return o===null||Cn(o)?e(o):n(o)}}const eLe={name:"hardBreakEscape",tokenize:tLe};function tLe(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return Cn(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const nLe={name:"headingAtx",resolve:rLe,tokenize:iLe};function rLe(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Jl(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function iLe(t,e,n){let r=0;return i;function i(d){return t.enter("atxHeading"),a(d)}function a(d){return t.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(t.consume(d),s):d===null||Ci(d)?(t.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(t.enter("atxHeadingSequence"),l(d)):d===null||Cn(d)?(t.exit("atxHeading"),e(d)):Cr(d)?kr(t,o,"whitespace")(d):(t.enter("atxHeadingText"),u(d))}function l(d){return d===35?(t.consume(d),l):(t.exit("atxHeadingSequence"),o(d))}function u(d){return d===null||d===35||Ci(d)?(t.exit("atxHeadingText"),o(d)):(t.consume(d),u)}}const aLe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],RK=["pre","script","style","textarea"],sLe={concrete:!0,name:"htmlFlow",resolveTo:uLe,tokenize:cLe},oLe={partial:!0,tokenize:hLe},lLe={partial:!0,tokenize:dLe};function uLe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function cLe(t,e,n){const r=this;let i,a,s,o,l;return u;function u(ae){return d(ae)}function d(ae){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(ae),h}function h(ae){return ae===33?(t.consume(ae),p):ae===47?(t.consume(ae),a=!0,w):ae===63?(t.consume(ae),i=3,r.interrupt?e:j):Oo(ae)?(t.consume(ae),s=String.fromCharCode(ae),k):n(ae)}function p(ae){return ae===45?(t.consume(ae),i=2,m):ae===91?(t.consume(ae),i=5,o=0,v):Oo(ae)?(t.consume(ae),i=4,r.interrupt?e:j):n(ae)}function m(ae){return ae===45?(t.consume(ae),r.interrupt?e:j):n(ae)}function v(ae){const He="CDATA[";return ae===He.charCodeAt(o++)?(t.consume(ae),o===He.length?r.interrupt?e:Ie:v):n(ae)}function w(ae){return Oo(ae)?(t.consume(ae),s=String.fromCharCode(ae),k):n(ae)}function k(ae){if(ae===null||ae===47||ae===62||Ci(ae)){const He=ae===47,it=s.toLowerCase();return!He&&!a&&RK.includes(it)?(i=1,r.interrupt?e(ae):Ie(ae)):aLe.includes(s.toLowerCase())?(i=6,He?(t.consume(ae),T):r.interrupt?e(ae):Ie(ae)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(ae):a?C(ae):N(ae))}return ae===45||ro(ae)?(t.consume(ae),s+=String.fromCharCode(ae),k):n(ae)}function T(ae){return ae===62?(t.consume(ae),r.interrupt?e:Ie):n(ae)}function C(ae){return Cr(ae)?(t.consume(ae),C):Q(ae)}function N(ae){return ae===47?(t.consume(ae),Q):ae===58||ae===95||Oo(ae)?(t.consume(ae),F):Cr(ae)?(t.consume(ae),N):Q(ae)}function F(ae){return ae===45||ae===46||ae===58||ae===95||ro(ae)?(t.consume(ae),F):D(ae)}function D(ae){return ae===61?(t.consume(ae),U):Cr(ae)?(t.consume(ae),D):N(ae)}function U(ae){return ae===null||ae===60||ae===61||ae===62||ae===96?n(ae):ae===34||ae===39?(t.consume(ae),l=ae,G):Cr(ae)?(t.consume(ae),U):se(ae)}function G(ae){return ae===l?(t.consume(ae),l=null,re):ae===null||Cn(ae)?n(ae):(t.consume(ae),G)}function se(ae){return ae===null||ae===34||ae===39||ae===47||ae===60||ae===61||ae===62||ae===96||Ci(ae)?D(ae):(t.consume(ae),se)}function re(ae){return ae===47||ae===62||Cr(ae)?N(ae):n(ae)}function Q(ae){return ae===62?(t.consume(ae),ce):n(ae)}function ce(ae){return ae===null||Cn(ae)?Ie(ae):Cr(ae)?(t.consume(ae),ce):n(ae)}function Ie(ae){return ae===45&&i===2?(t.consume(ae),ue):ae===60&&i===1?(t.consume(ae),ke):ae===62&&i===4?(t.consume(ae),pe):ae===63&&i===3?(t.consume(ae),j):ae===93&&i===5?(t.consume(ae),he):Cn(ae)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(oLe,Ne,qe)(ae)):ae===null||Cn(ae)?(t.exit("htmlFlowData"),qe(ae)):(t.consume(ae),Ie)}function qe(ae){return t.check(lLe,xe,Ne)(ae)}function xe(ae){return t.enter("lineEnding"),t.consume(ae),t.exit("lineEnding"),Ce}function Ce(ae){return ae===null||Cn(ae)?qe(ae):(t.enter("htmlFlowData"),Ie(ae))}function ue(ae){return ae===45?(t.consume(ae),j):Ie(ae)}function ke(ae){return ae===47?(t.consume(ae),s="",Te):Ie(ae)}function Te(ae){if(ae===62){const He=s.toLowerCase();return RK.includes(He)?(t.consume(ae),pe):Ie(ae)}return Oo(ae)&&s.length<8?(t.consume(ae),s+=String.fromCharCode(ae),Te):Ie(ae)}function he(ae){return ae===93?(t.consume(ae),j):Ie(ae)}function j(ae){return ae===62?(t.consume(ae),pe):ae===45&&i===2?(t.consume(ae),j):Ie(ae)}function pe(ae){return ae===null||Cn(ae)?(t.exit("htmlFlowData"),Ne(ae)):(t.consume(ae),pe)}function Ne(ae){return t.exit("htmlFlow"),e(ae)}}function dLe(t,e,n){const r=this;return i;function i(s){return Cn(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function hLe(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(vS,e,n)}}const fLe={name:"htmlText",tokenize:pLe};function pLe(t,e,n){const r=this;let i,a,s;return o;function o(j){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(j),l}function l(j){return j===33?(t.consume(j),u):j===47?(t.consume(j),D):j===63?(t.consume(j),N):Oo(j)?(t.consume(j),se):n(j)}function u(j){return j===45?(t.consume(j),d):j===91?(t.consume(j),a=0,v):Oo(j)?(t.consume(j),C):n(j)}function d(j){return j===45?(t.consume(j),m):n(j)}function h(j){return j===null?n(j):j===45?(t.consume(j),p):Cn(j)?(s=h,ke(j)):(t.consume(j),h)}function p(j){return j===45?(t.consume(j),m):h(j)}function m(j){return j===62?ue(j):j===45?p(j):h(j)}function v(j){const pe="CDATA[";return j===pe.charCodeAt(a++)?(t.consume(j),a===pe.length?w:v):n(j)}function w(j){return j===null?n(j):j===93?(t.consume(j),k):Cn(j)?(s=w,ke(j)):(t.consume(j),w)}function k(j){return j===93?(t.consume(j),T):w(j)}function T(j){return j===62?ue(j):j===93?(t.consume(j),T):w(j)}function C(j){return j===null||j===62?ue(j):Cn(j)?(s=C,ke(j)):(t.consume(j),C)}function N(j){return j===null?n(j):j===63?(t.consume(j),F):Cn(j)?(s=N,ke(j)):(t.consume(j),N)}function F(j){return j===62?ue(j):N(j)}function D(j){return Oo(j)?(t.consume(j),U):n(j)}function U(j){return j===45||ro(j)?(t.consume(j),U):G(j)}function G(j){return Cn(j)?(s=G,ke(j)):Cr(j)?(t.consume(j),G):ue(j)}function se(j){return j===45||ro(j)?(t.consume(j),se):j===47||j===62||Ci(j)?re(j):n(j)}function re(j){return j===47?(t.consume(j),ue):j===58||j===95||Oo(j)?(t.consume(j),Q):Cn(j)?(s=re,ke(j)):Cr(j)?(t.consume(j),re):ue(j)}function Q(j){return j===45||j===46||j===58||j===95||ro(j)?(t.consume(j),Q):ce(j)}function ce(j){return j===61?(t.consume(j),Ie):Cn(j)?(s=ce,ke(j)):Cr(j)?(t.consume(j),ce):re(j)}function Ie(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(t.consume(j),i=j,qe):Cn(j)?(s=Ie,ke(j)):Cr(j)?(t.consume(j),Ie):(t.consume(j),xe)}function qe(j){return j===i?(t.consume(j),i=void 0,Ce):j===null?n(j):Cn(j)?(s=qe,ke(j)):(t.consume(j),qe)}function xe(j){return j===null||j===34||j===39||j===60||j===61||j===96?n(j):j===47||j===62||Ci(j)?re(j):(t.consume(j),xe)}function Ce(j){return j===47||j===62||Ci(j)?re(j):n(j)}function ue(j){return j===62?(t.consume(j),t.exit("htmlTextData"),t.exit("htmlText"),e):n(j)}function ke(j){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),Te}function Te(j){return Cr(j)?kr(t,he,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):he(j)}function he(j){return t.enter("htmlTextData"),s(j)}}const EF={name:"labelEnd",resolveAll:bLe,resolveTo:vLe,tokenize:wLe},mLe={tokenize:_Le},gLe={tokenize:SLe},yLe={tokenize:xLe};function bLe(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Jl(t,0,t.length,n),t}function vLe(t,e){let n=t.length,r=0,i,a,s,o;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[a][1].start},end:{...t[s][1].end}},d={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[s-2][1].start}};return o=[["enter",l,e],["enter",u,e]],o=Ou(o,t.slice(a+1,a+r+3)),o=Ou(o,[["enter",d,e]]),o=Ou(o,fC(e.parser.constructs.insideSpan.null,t.slice(a+r+4,s-3),e)),o=Ou(o,[["exit",d,e],t[s-2],t[s-1],["exit",u,e]]),o=Ou(o,t.slice(s+1)),o=Ou(o,[["exit",l,e]]),Jl(t,a,t.length,o),t}function wLe(t,e,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(p){return a?a._inactive?h(p):(s=r.parser.defined.includes(zc(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(p),t.exit("labelMarker"),t.exit("labelEnd"),l):n(p)}function l(p){return p===40?t.attempt(mLe,d,s?d:h)(p):p===91?t.attempt(gLe,d,s?u:h)(p):s?d(p):h(p)}function u(p){return t.attempt(yLe,d,h)(p)}function d(p){return e(p)}function h(p){return a._balanced=!0,n(p)}}function _Le(t,e,n){return r;function r(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),i}function i(h){return Ci(h)?F_(t,a)(h):a(h)}function a(h){return h===41?d(h):ede(t,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function s(h){return Ci(h)?F_(t,l)(h):d(h)}function o(h){return n(h)}function l(h){return h===34||h===39||h===40?nde(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function u(h){return Ci(h)?F_(t,d)(h):d(h)}function d(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):n(h)}}function SLe(t,e,n){const r=this;return i;function i(o){return tde.call(r,t,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(zc(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function s(o){return n(o)}}function xLe(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const ELe={name:"labelStartImage",resolveAll:EF.resolveAll,tokenize:kLe};function kLe(t,e,n){const r=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),a}function a(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const TLe={name:"labelStartLink",resolveAll:EF.resolveAll,tokenize:ALe};function ALe(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const fO={name:"lineEnding",tokenize:CLe};function CLe(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),kr(t,e,"linePrefix")}}const yk={name:"thematicBreak",tokenize:RLe};function RLe(t,e,n){let r=0,i;return a;function a(u){return t.enter("thematicBreak"),s(u)}function s(u){return i=u,o(u)}function o(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Cn(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),Cr(u)?kr(t,o,"whitespace")(u):o(u))}}const al={continuation:{tokenize:MLe},exit:LLe,name:"list",tokenize:OLe},ILe={partial:!0,tokenize:DLe},NLe={partial:!0,tokenize:PLe};function OLe(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(m){const v=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:S5(m)){if(r.containerState.type||(r.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),m===42||m===45?t.check(yk,n,u)(m):u(m);if(!r.interrupt||m===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(m)}return n(m)}function l(m){return S5(m)&&++s<10?(t.consume(m),l):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(t.exit("listItemValue"),u(m)):n(m)}function u(m){return t.enter("listItemMarker"),t.consume(m),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,t.check(vS,r.interrupt?n:d,t.attempt(ILe,p,h))}function d(m){return r.containerState.initialBlankLine=!0,a++,p(m)}function h(m){return Cr(m)?(t.enter("listItemPrefixWhitespace"),t.consume(m),t.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(m)}}function MLe(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(vS,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,kr(t,e,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!Cr(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(NLe,e,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,kr(t,t.attempt(al,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function PLe(t,e,n){const r=this;return kr(t,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(a):n(a)}}function LLe(t){t.exit(this.containerState.type)}function DLe(t,e,n){const r=this;return kr(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!Cr(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const IK={name:"setextUnderline",resolveTo:FLe,tokenize:BLe};function FLe(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",s,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function BLe(t,e,n){const r=this;let i;return a;function a(u){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(t.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return t.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(t.consume(u),o):(t.exit("setextHeadingLineSequence"),Cr(u)?kr(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Cn(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const ULe={tokenize:jLe};function jLe(t){const e=this,n=t.attempt(vS,r,t.attempt(this.parser.constructs.flowInitial,i,kr(t,t.attempt(this.parser.constructs.flow,i,t.attempt(VPe,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const zLe={resolveAll:ide()},$Le=rde("string"),qLe=rde("text");function rde(t){return{resolveAll:ide(t==="text"?HLe:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,s,o);return s;function s(d){return u(d)?a(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return u(d)?(n.exit("data"),a(d)):(n.consume(d),l)}function u(d){if(d===null)return!0;const h=i[d];let p=-1;if(h)for(;++p<h.length;){const m=h[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function ide(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function HLe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const u=i[a];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(u===-2)l=!0,o++;else if(u!==-1){a++;break}}if(o){const u={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const VLe={42:al,43:al,45:al,48:al,49:al,50:al,51:al,52:al,53:al,54:al,55:al,56:al,57:al,62:Xce},GLe={91:XPe},WLe={[-2]:hO,[-1]:hO,32:hO},KLe={35:nLe,42:yk,45:[IK,yk],60:sLe,61:IK,95:yk,96:CK,126:CK},YLe={38:Qce,92:Zce},XLe={[-5]:fO,[-4]:fO,[-3]:fO,33:ELe,38:Qce,42:x5,60:[TPe,fLe],91:TLe,92:[eLe,Zce],93:EF,95:x5,96:UPe},ZLe={null:[x5,zLe]},QLe={null:[42,95]},JLe={null:[]},eDe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:QLe,contentInitial:GLe,disable:JLe,document:VLe,flow:KLe,flowInitial:WLe,insideSpan:ZLe,string:YLe,text:XLe},Symbol.toStringTag,{value:"Module"}));function tDe(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:G(D),check:G(U),consume:C,enter:N,exit:F,interrupt:G(U,{interrupt:!0})},u={code:null,containerState:{},defineSkip:w,events:[],now:v,parser:t,previous:null,sliceSerialize:p,sliceStream:m,write:h};let d=e.tokenize.call(u,l);return e.resolveAll&&a.push(e),u;function h(ce){return s=Ou(s,ce),k(),s[s.length-1]!==null?[]:(se(e,0),u.events=fC(a,u.events,u),u.events)}function p(ce,Ie){return rDe(m(ce),Ie)}function m(ce){return nDe(s,ce)}function v(){const{_bufferIndex:ce,_index:Ie,line:qe,column:xe,offset:Ce}=r;return{_bufferIndex:ce,_index:Ie,line:qe,column:xe,offset:Ce}}function w(ce){i[ce.line]=ce.column,Q()}function k(){let ce;for(;r._index<s.length;){const Ie=s[r._index];if(typeof Ie=="string")for(ce=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===ce&&r._bufferIndex<Ie.length;)T(Ie.charCodeAt(r._bufferIndex));else T(Ie)}}function T(ce){d=d(ce)}function C(ce){Cn(ce)?(r.line++,r.column=1,r.offset+=ce===-3?2:1,Q()):ce!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=ce}function N(ce,Ie){const qe=Ie||{};return qe.type=ce,qe.start=v(),u.events.push(["enter",qe,u]),o.push(qe),qe}function F(ce){const Ie=o.pop();return Ie.end=v(),u.events.push(["exit",Ie,u]),Ie}function D(ce,Ie){se(ce,Ie.from)}function U(ce,Ie){Ie.restore()}function G(ce,Ie){return qe;function qe(xe,Ce,ue){let ke,Te,he,j;return Array.isArray(xe)?Ne(xe):"tokenize"in xe?Ne([xe]):pe(xe);function pe(Xe){return Ke;function Ke(ct){const de=ct!==null&&Xe[ct],Se=ct!==null&&Xe.null,ht=[...Array.isArray(de)?de:de?[de]:[],...Array.isArray(Se)?Se:Se?[Se]:[]];return Ne(ht)(ct)}}function Ne(Xe){return ke=Xe,Te=0,Xe.length===0?ue:ae(Xe[Te])}function ae(Xe){return Ke;function Ke(ct){return j=re(),he=Xe,Xe.partial||(u.currentConstruct=Xe),Xe.name&&u.parser.constructs.disable.null.includes(Xe.name)?it():Xe.tokenize.call(Ie?Object.assign(Object.create(u),Ie):u,l,He,it)(ct)}}function He(Xe){return ce(he,j),Ce}function it(Xe){return j.restore(),++Te<ke.length?ae(ke[Te]):ue}}}function se(ce,Ie){ce.resolveAll&&!a.includes(ce)&&a.push(ce),ce.resolve&&Jl(u.events,Ie,u.events.length-Ie,ce.resolve(u.events.slice(Ie),u)),ce.resolveTo&&(u.events=ce.resolveTo(u.events,u))}function re(){const ce=v(),Ie=u.previous,qe=u.currentConstruct,xe=u.events.length,Ce=Array.from(o);return{from:xe,restore:ue};function ue(){r=ce,u.previous=Ie,u.currentConstruct=qe,u.events.length=xe,o=Ce,Q()}}function Q(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function nDe(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,a)];else{if(s=t.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(t[i].slice(0,a))}return s}function rDe(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function iDe(t){const r={constructs:Kce([eDe,...(t||{}).extensions||[]]),content:i(vPe),defined:[],document:i(_Pe),flow:i(ULe),lazy:{},string:i($Le),text:i(qLe)};return r;function i(a){return s;function s(o){return tDe(r,a,o)}}}function aDe(t){for(;!Jce(t););return t}const NK=/[\0\t\n\r]/g;function sDe(){let t=1,e="",n=!0,r;return i;function i(a,s,o){const l=[];let u,d,h,p,m;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),h=0,e="",n&&(a.charCodeAt(0)===65279&&h++,n=void 0);h<a.length;){if(NK.lastIndex=h,u=NK.exec(a),p=u&&u.index!==void 0?u.index:a.length,m=a.charCodeAt(p),!u){e=a.slice(h);break}if(m===10&&h===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<p&&(l.push(a.slice(h,p)),t+=p-h),m){case 0:{l.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,l.push(-2);t++<d;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}h=p+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const oDe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function lDe(t){return t.replace(oDe,uDe)}function uDe(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return Yce(n.slice(a?2:1),a?16:10)}return xF(n)||t}const ade={}.hasOwnProperty;function cDe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),dDe(n)(aDe(iDe(n).document().write(sDe()(t,e,!0))))}function dDe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(nr),autolinkProtocol:re,autolinkEmail:re,atxHeading:a(Nt),blockQuote:a(Se),characterEscape:re,characterReference:re,codeFenced:a(ht),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(ht,s),codeText:a(vt,s),codeTextData:re,data:re,codeFlowValue:re,definition:a(Dt),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(an),hardBreakEscape:a(Un),hardBreakTrailing:a(Un),htmlFlow:a(rn,s),htmlFlowData:re,htmlText:a(rn,s),htmlTextData:re,image:a(tr),label:s,link:a(nr),listItem:a(Ee),listItemValue:p,listOrdered:a(Dr,h),listUnordered:a(Dr),paragraph:a(ee),reference:ae,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(Nt),strong:a(te),thematicBreak:a(nt)},exit:{atxHeading:l(),atxHeadingSequence:D,autolink:l(),autolinkEmail:de,autolinkProtocol:ct,blockQuote:l(),characterEscapeValue:Q,characterReferenceMarkerHexadecimal:it,characterReferenceMarkerNumeric:it,characterReferenceValue:Xe,characterReference:Ke,codeFenced:l(k),codeFencedFence:w,codeFencedFenceInfo:m,codeFencedFenceMeta:v,codeFlowValue:Q,codeIndented:l(T),codeText:l(Ce),codeTextData:Q,data:Q,definition:l(),definitionDestinationString:F,definitionLabelString:C,definitionTitleString:N,emphasis:l(),hardBreakEscape:l(Ie),hardBreakTrailing:l(Ie),htmlFlow:l(qe),htmlFlowData:Q,htmlText:l(xe),htmlTextData:Q,image:l(ke),label:he,labelText:Te,lineEnding:ce,link:l(ue),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:He,resourceDestinationString:j,resourceTitleString:pe,resource:Ne,setextHeading:l(se),setextHeadingLineSequence:G,setextHeadingText:U,strong:l(),thematicBreak:l()}};sde(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(Oe){let K={type:"root",children:[]};const B={stack:[K],tokenStack:[],config:e,enter:o,exit:u,buffer:s,resume:d,data:n},V=[];let be=-1;for(;++be<Oe.length;)if(Oe[be][1].type==="listOrdered"||Oe[be][1].type==="listUnordered")if(Oe[be][0]==="enter")V.push(be);else{const je=V.pop();be=i(Oe,je,be)}for(be=-1;++be<Oe.length;){const je=e[Oe[be][0]];ade.call(je,Oe[be][1].type)&&je[Oe[be][1].type].call(Object.assign({sliceSerialize:Oe[be][2].sliceSerialize},B),Oe[be][1])}if(B.tokenStack.length>0){const je=B.tokenStack[B.tokenStack.length-1];(je[1]||OK).call(B,void 0,je[0])}for(K.position={start:zp(Oe.length>0?Oe[0][1].start:{line:1,column:1,offset:0}),end:zp(Oe.length>0?Oe[Oe.length-2][1].end:{line:1,column:1,offset:0})},be=-1;++be<e.transforms.length;)K=e.transforms[be](K)||K;return K}function i(Oe,K,B){let V=K-1,be=-1,je=!1,We,gt,sn,xn;for(;++V<=B;){const Mt=Oe[V];switch(Mt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Mt[0]==="enter"?be++:be--,xn=void 0;break}case"lineEndingBlank":{Mt[0]==="enter"&&(We&&!xn&&!be&&!sn&&(sn=V),xn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:xn=void 0}if(!be&&Mt[0]==="enter"&&Mt[1].type==="listItemPrefix"||be===-1&&Mt[0]==="exit"&&(Mt[1].type==="listUnordered"||Mt[1].type==="listOrdered")){if(We){let Sn=V;for(gt=void 0;Sn--;){const En=Oe[Sn];if(En[1].type==="lineEnding"||En[1].type==="lineEndingBlank"){if(En[0]==="exit")continue;gt&&(Oe[gt][1].type="lineEndingBlank",je=!0),En[1].type="lineEnding",gt=Sn}else if(!(En[1].type==="linePrefix"||En[1].type==="blockQuotePrefix"||En[1].type==="blockQuotePrefixWhitespace"||En[1].type==="blockQuoteMarker"||En[1].type==="listItemIndent"))break}sn&&(!gt||sn<gt)&&(We._spread=!0),We.end=Object.assign({},gt?Oe[gt][1].start:Mt[1].end),Oe.splice(gt||V,0,["exit",We,Mt[2]]),V++,B++}if(Mt[1].type==="listItemPrefix"){const Sn={type:"listItem",_spread:!1,start:Object.assign({},Mt[1].start),end:void 0};We=Sn,Oe.splice(V,0,["enter",Sn,Mt[2]]),V++,B++,sn=void 0,xn=!0}}}return Oe[K][1]._spread=je,B}function a(Oe,K){return B;function B(V){o.call(this,Oe(V),V),K&&K.call(this,V)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(Oe,K,B){this.stack[this.stack.length-1].children.push(Oe),this.stack.push(Oe),this.tokenStack.push([K,B||void 0]),Oe.position={start:zp(K.start),end:void 0}}function l(Oe){return K;function K(B){Oe&&Oe.call(this,B),u.call(this,B)}}function u(Oe,K){const B=this.stack.pop(),V=this.tokenStack.pop();if(V)V[0].type!==Oe.type&&(K?K.call(this,Oe,V[0]):(V[1]||OK).call(this,Oe,V[0]));else throw new Error("Cannot close `"+Oe.type+"` ("+D_({start:Oe.start,end:Oe.end})+"): it’s not open");B.position.end=zp(Oe.end)}function d(){return SF(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function p(Oe){if(this.data.expectingFirstListItemValue){const K=this.stack[this.stack.length-2];K.start=Number.parseInt(this.sliceSerialize(Oe),10),this.data.expectingFirstListItemValue=void 0}}function m(){const Oe=this.resume(),K=this.stack[this.stack.length-1];K.lang=Oe}function v(){const Oe=this.resume(),K=this.stack[this.stack.length-1];K.meta=Oe}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function k(){const Oe=this.resume(),K=this.stack[this.stack.length-1];K.value=Oe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function T(){const Oe=this.resume(),K=this.stack[this.stack.length-1];K.value=Oe.replace(/(\r?\n|\r)$/g,"")}function C(Oe){const K=this.resume(),B=this.stack[this.stack.length-1];B.label=K,B.identifier=zc(this.sliceSerialize(Oe)).toLowerCase()}function N(){const Oe=this.resume(),K=this.stack[this.stack.length-1];K.title=Oe}function F(){const Oe=this.resume(),K=this.stack[this.stack.length-1];K.url=Oe}function D(Oe){const K=this.stack[this.stack.length-1];if(!K.depth){const B=this.sliceSerialize(Oe).length;K.depth=B}}function U(){this.data.setextHeadingSlurpLineEnding=!0}function G(Oe){const K=this.stack[this.stack.length-1];K.depth=this.sliceSerialize(Oe).codePointAt(0)===61?1:2}function se(){this.data.setextHeadingSlurpLineEnding=void 0}function re(Oe){const B=this.stack[this.stack.length-1].children;let V=B[B.length-1];(!V||V.type!=="text")&&(V=Re(),V.position={start:zp(Oe.start),end:void 0},B.push(V)),this.stack.push(V)}function Q(Oe){const K=this.stack.pop();K.value+=this.sliceSerialize(Oe),K.position.end=zp(Oe.end)}function ce(Oe){const K=this.stack[this.stack.length-1];if(this.data.atHardBreak){const B=K.children[K.children.length-1];B.position.end=zp(Oe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(K.type)&&(re.call(this,Oe),Q.call(this,Oe))}function Ie(){this.data.atHardBreak=!0}function qe(){const Oe=this.resume(),K=this.stack[this.stack.length-1];K.value=Oe}function xe(){const Oe=this.resume(),K=this.stack[this.stack.length-1];K.value=Oe}function Ce(){const Oe=this.resume(),K=this.stack[this.stack.length-1];K.value=Oe}function ue(){const Oe=this.stack[this.stack.length-1];if(this.data.inReference){const K=this.data.referenceType||"shortcut";Oe.type+="Reference",Oe.referenceType=K,delete Oe.url,delete Oe.title}else delete Oe.identifier,delete Oe.label;this.data.referenceType=void 0}function ke(){const Oe=this.stack[this.stack.length-1];if(this.data.inReference){const K=this.data.referenceType||"shortcut";Oe.type+="Reference",Oe.referenceType=K,delete Oe.url,delete Oe.title}else delete Oe.identifier,delete Oe.label;this.data.referenceType=void 0}function Te(Oe){const K=this.sliceSerialize(Oe),B=this.stack[this.stack.length-2];B.label=lDe(K),B.identifier=zc(K).toLowerCase()}function he(){const Oe=this.stack[this.stack.length-1],K=this.resume(),B=this.stack[this.stack.length-1];if(this.data.inReference=!0,B.type==="link"){const V=Oe.children;B.children=V}else B.alt=K}function j(){const Oe=this.resume(),K=this.stack[this.stack.length-1];K.url=Oe}function pe(){const Oe=this.resume(),K=this.stack[this.stack.length-1];K.title=Oe}function Ne(){this.data.inReference=void 0}function ae(){this.data.referenceType="collapsed"}function He(Oe){const K=this.resume(),B=this.stack[this.stack.length-1];B.label=K,B.identifier=zc(this.sliceSerialize(Oe)).toLowerCase(),this.data.referenceType="full"}function it(Oe){this.data.characterReferenceType=Oe.type}function Xe(Oe){const K=this.sliceSerialize(Oe),B=this.data.characterReferenceType;let V;B?(V=Yce(K,B==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):V=xF(K);const be=this.stack[this.stack.length-1];be.value+=V}function Ke(Oe){const K=this.stack.pop();K.position.end=zp(Oe.end)}function ct(Oe){Q.call(this,Oe);const K=this.stack[this.stack.length-1];K.url=this.sliceSerialize(Oe)}function de(Oe){Q.call(this,Oe);const K=this.stack[this.stack.length-1];K.url="mailto:"+this.sliceSerialize(Oe)}function Se(){return{type:"blockquote",children:[]}}function ht(){return{type:"code",lang:null,meta:null,value:""}}function vt(){return{type:"inlineCode",value:""}}function Dt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function an(){return{type:"emphasis",children:[]}}function Nt(){return{type:"heading",depth:0,children:[]}}function Un(){return{type:"break"}}function rn(){return{type:"html",value:""}}function tr(){return{type:"image",title:null,url:"",alt:null}}function nr(){return{type:"link",title:null,url:"",children:[]}}function Dr(Oe){return{type:"list",ordered:Oe.type==="listOrdered",start:null,spread:Oe._spread,children:[]}}function Ee(Oe){return{type:"listItem",spread:Oe._spread,checked:null,children:[]}}function ee(){return{type:"paragraph",children:[]}}function te(){return{type:"strong",children:[]}}function Re(){return{type:"text",value:""}}function nt(){return{type:"thematicBreak"}}}function zp(t){return{line:t.line,column:t.column,offset:t.offset}}function sde(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?sde(t,r):hDe(t,r)}}function hDe(t,e){let n;for(n in e)if(ade.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function OK(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+D_({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+D_({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+D_({start:e.start,end:e.end})+") is still open")}function fDe(t){const e=this;e.parser=n;function n(r){return cDe(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function pDe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function mDe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function gDe(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function yDe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function bDe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function vDe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=wv(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let s,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=a+1,o+=1,t.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function wDe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function _De(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function ode(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function SDe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return ode(t,e);const i={src:wv(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function xDe(t,e){const n={src:wv(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function EDe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function kDe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return ode(t,e);const i={href:wv(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function TDe(t,e){const n={href:wv(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function ADe(t,e,n){const r=t.all(e),i=n?CDe(n):lde(e),a={},s=[];if(typeof e.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?s.push(...d.children):s.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:s};return t.patch(e,u),t.applyData(e,u)}function CDe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=lde(n[r])}return e}function lde(t){const e=t.spread;return e??t.children.length>1}function RDe(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function IDe(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function NDe(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function ODe(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function MDe(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=bF(e.children[1]),l=zce(e.children[e.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function PDe(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:e.children.length;let l=-1;const u=[];for(;++l<o;){const h=e.children[l],p={},m=s?s[l]:void 0;m&&(p.align=m);let v={type:"element",tagName:a,properties:p,children:[]};h&&(v.children=t.all(h),t.patch(h,v),v=t.applyData(h,v)),u.push(v)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,d),t.applyData(e,d)}function LDe(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const MK=9,PK=32;function DDe(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(LK(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(LK(e.slice(i),i>0,!1)),a.join("")}function LK(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===MK||a===PK;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===MK||a===PK;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function FDe(t,e){const n={type:"text",value:DDe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function BDe(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const UDe={blockquote:pDe,break:mDe,code:gDe,delete:yDe,emphasis:bDe,footnoteReference:vDe,heading:wDe,html:_De,imageReference:SDe,image:xDe,inlineCode:EDe,linkReference:kDe,link:TDe,listItem:ADe,list:RDe,paragraph:IDe,root:NDe,strong:ODe,table:MDe,tableCell:LDe,tableRow:PDe,text:FDe,thematicBreak:BDe,toml:mE,yaml:mE,definition:mE,footnoteDefinition:mE};function mE(){}const ude=-1,pC=0,B_=1,AT=2,kF=3,TF=4,AF=5,CF=6,cde=7,dde=8,DK=typeof self=="object"?self:globalThis,jDe=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,s]=e[i];switch(a){case pC:case ude:return n(s,i);case B_:{const o=n([],i);for(const l of s)o.push(r(l));return o}case AT:{const o=n({},i);for(const[l,u]of s)o[r(l)]=r(u);return o}case kF:return n(new Date(s),i);case TF:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case AF:{const o=n(new Map,i);for(const[l,u]of s)o.set(r(l),r(u));return o}case CF:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case cde:{const{name:o,message:l}=s;return n(new DK[o](l),i)}case dde:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new DK[a](s),i)};return r},FK=t=>jDe(new Map,t)(0),Ey="",{toString:zDe}={},{keys:$De}=Object,kw=t=>{const e=typeof t;if(e!=="object"||!t)return[pC,e];const n=zDe.call(t).slice(8,-1);switch(n){case"Array":return[B_,Ey];case"Object":return[AT,Ey];case"Date":return[kF,Ey];case"RegExp":return[TF,Ey];case"Map":return[AF,Ey];case"Set":return[CF,Ey];case"DataView":return[B_,n]}return n.includes("Array")?[B_,n]:n.includes("Error")?[cde,n]:[AT,n]},gE=([t,e])=>t===pC&&(e==="function"||e==="symbol"),qDe=(t,e,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=kw(s);switch(o){case pC:{let d=s;switch(l){case"bigint":o=dde,d=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([ude],s)}return i([o,d],s)}case B_:{if(l){let p=s;return l==="DataView"?p=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(s)),i([l,[...p]],s)}const d=[],h=i([o,d],s);for(const p of s)d.push(a(p));return h}case AT:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const d=[],h=i([o,d],s);for(const p of $De(s))(t||!gE(kw(s[p])))&&d.push([a(p),a(s[p])]);return h}case kF:return i([o,s.toISOString()],s);case TF:{const{source:d,flags:h}=s;return i([o,{source:d,flags:h}],s)}case AF:{const d=[],h=i([o,d],s);for(const[p,m]of s)(t||!(gE(kw(p))||gE(kw(m))))&&d.push([a(p),a(m)]);return h}case CF:{const d=[],h=i([o,d],s);for(const p of s)(t||!gE(kw(p)))&&d.push(a(p));return h}}const{message:u}=s;return i([o,{name:l,message:u}],s)};return a},BK=(t,{json:e,lossy:n}={})=>{const r=[];return qDe(!(e||n),!!e,new Map,r)(t),r},CT=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?FK(BK(t,e)):structuredClone(t):(t,e)=>FK(BK(t,e));function HDe(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function VDe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function GDe(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||HDe,r=t.options.footnoteBackLabel||VDe,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const d=t.all(u),h=String(u.identifier).toUpperCase(),p=wv(h.toLowerCase());let m=0;const v=[],w=t.footnoteCounts.get(h);for(;w!==void 0&&++m<=w;){v.length>0&&v.push({type:"text",value:" "});let C=typeof n=="string"?n:n(l,m);typeof C=="string"&&(C={type:"text",value:C}),v.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(C)?C:[C]})}const k=d[d.length-1];if(k&&k.type==="element"&&k.tagName==="p"){const C=k.children[k.children.length-1];C&&C.type==="text"?C.value+=" ":k.children.push({type:"text",value:" "}),k.children.push(...v)}else d.push(...v);const T={type:"element",tagName:"li",properties:{id:e+"fn-"+p},children:t.wrap(d,!0)};t.patch(u,T),o.push(T)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...CT(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const wS=function(t){if(t==null)return XDe;if(typeof t=="function")return mC(t);if(typeof t=="object")return Array.isArray(t)?WDe(t):KDe(t);if(typeof t=="string")return YDe(t);throw new Error("Expected function, string, or object as test")};function WDe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=wS(t[n]);return mC(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function KDe(t){const e=t;return mC(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function YDe(t){return mC(e);function e(n){return n&&n.type===t}}function mC(t){return e;function e(n,r,i){return!!(ZDe(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function XDe(){return!0}function ZDe(t){return t!==null&&typeof t=="object"&&"type"in t}const hde=[],QDe=!0,E5=!1,fde="skip";function RF(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=wS(i),s=r?-1:1;o(t,void 0,[])();function o(l,u,d){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const m=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=hde,v,w,k;if((!e||a(l,u,d[d.length-1]||void 0))&&(m=JDe(n(l,d)),m[0]===E5))return m;if("children"in l&&l.children){const T=l;if(T.children&&m[0]!==fde)for(w=(r?T.children.length:-1)+s,k=d.concat(T);w>-1&&w<T.children.length;){const C=T.children[w];if(v=o(C,w,k)(),v[0]===E5)return v;w=typeof v[1]=="number"?v[1]:w+s}}return m}}}function JDe(t){return Array.isArray(t)?t:typeof t=="number"?[QDe,t]:t==null?hde:[t]}function IF(t,e,n,r){let i,a,s;typeof e=="function"?(a=void 0,s=e,i=n):(a=e,s=n,i=r),RF(t,a,o,i);function o(l,u){const d=u[u.length-1],h=d?d.children.indexOf(l):void 0;return s(l,h,d)}}const k5={}.hasOwnProperty,e6e={};function t6e(t,e){const n=e||e6e,r=new Map,i=new Map,a=new Map,s={...UDe,...n.handlers},o={all:u,applyData:r6e,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:n6e,wrap:a6e};return IF(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:i,p=String(d.identifier).toUpperCase();h.has(p)||h.set(p,d)}}),o;function l(d,h){const p=d.type,m=o.handlers[p];if(k5.call(o.handlers,p)&&m)return m(o,d,h);if(o.options.passThrough&&o.options.passThrough.includes(p)){if("children"in d){const{children:w,...k}=d,T=CT(k);return T.children=o.all(d),T}return CT(d)}return(o.options.unknownHandler||i6e)(o,d,h)}function u(d){const h=[];if("children"in d){const p=d.children;let m=-1;for(;++m<p.length;){const v=o.one(p[m],d);if(v){if(m&&p[m-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=UK(v.value)),!Array.isArray(v)&&v.type==="element")){const w=v.children[0];w&&w.type==="text"&&(w.value=UK(w.value))}Array.isArray(v)?h.push(...v):h.push(v)}}}return h}}function n6e(t,e){t.position&&(e.position=qMe(t))}function r6e(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,CT(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function i6e(t,e){const n=e.data||{},r="value"in e&&!(k5.call(n,"hProperties")||k5.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function a6e(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function UK(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function jK(t,e){const n=t6e(t,e),r=n.one(t,void 0),i=GDe(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function s6e(t,e){return t&&"run"in t?async function(n,r){const i=jK(n,{file:r,...e});await t.run(i,r)}:function(n,r){return jK(n,{file:r,...t||e})}}function zK(t){if(t)throw t}var pO,$K;function o6e(){if($K)return pO;$K=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):e.call(u)==="[object Array]"},a=function(u){if(!u||e.call(u)!=="[object Object]")return!1;var d=t.call(u,"constructor"),h=u.constructor&&u.constructor.prototype&&t.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!d&&!h)return!1;var p;for(p in u);return typeof p>"u"||t.call(u,p)},s=function(u,d){n&&d.name==="__proto__"?n(u,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):u[d.name]=d.newValue},o=function(u,d){if(d==="__proto__")if(t.call(u,d)){if(r)return r(u,d).value}else return;return u[d]};return pO=function l(){var u,d,h,p,m,v,w=arguments[0],k=1,T=arguments.length,C=!1;for(typeof w=="boolean"&&(C=w,w=arguments[1]||{},k=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});k<T;++k)if(u=arguments[k],u!=null)for(d in u)h=o(w,d),p=o(u,d),w!==p&&(C&&p&&(a(p)||(m=i(p)))?(m?(m=!1,v=h&&i(h)?h:[]):v=h&&a(h)?h:{},s(w,{name:d,newValue:l(C,v,p)})):typeof p<"u"&&s(w,{name:d,newValue:p}));return w},pO}var l6e=o6e();const mO=Yc(l6e);function T5(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function u6e(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...u){const d=t[++a];let h=-1;if(l){s(l);return}for(;++h<i.length;)(u[h]===null||u[h]===void 0)&&(u[h]=i[h]);i=u,d?c6e(d,o)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function c6e(t,e){let n;return r;function r(...s){const o=t.length>s.length;let l;o&&s.push(i);try{l=t.apply(this,s)}catch(u){const d=u;if(o&&n)throw d;return i(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,e(s,...o))}function a(s){i(null,s)}}const Ad={basename:d6e,dirname:h6e,extname:f6e,join:p6e,sep:"/"};function d6e(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');_S(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function h6e(t){if(_S(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function f6e(t){_S(t);let e=t.length,n=-1,r=0,i=-1,a=0,s;for(;e--;){const o=t.codePointAt(e);if(o===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),o===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function p6e(...t){let e=-1,n;for(;++e<t.length;)_S(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":m6e(n)}function m6e(t){_S(t);const e=t.codePointAt(0)===47;let n=g6e(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function g6e(t,e){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=t.length;){if(s<t.length)o=t.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function _S(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const y6e={cwd:b6e};function b6e(){return"/"}function A5(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function v6e(t){if(typeof t=="string")t=new URL(t);else if(!A5(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return w6e(t)}function w6e(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const gO=["history","path","basename","stem","extname","dirname"];class pde{constructor(e){let n;e?A5(e)?n={path:e}:typeof e=="string"||_6e(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":y6e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<gO.length;){const a=gO[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)gO.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ad.basename(this.path):void 0}set basename(e){bO(e,"basename"),yO(e,"basename"),this.path=Ad.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Ad.dirname(this.path):void 0}set dirname(e){qK(this.basename,"dirname"),this.path=Ad.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Ad.extname(this.path):void 0}set extname(e){if(yO(e,"extname"),qK(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ad.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){A5(e)&&(e=v6e(e)),bO(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Ad.basename(this.path,this.extname):void 0}set stem(e){bO(e,"stem"),yO(e,"stem"),this.path=Ad.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new oo(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function yO(t,e){if(t&&t.includes(Ad.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ad.sep+"`")}function bO(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function qK(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function _6e(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const S6e=function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},x6e={}.hasOwnProperty;class NF extends S6e{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=u6e()}copy(){const e=new NF;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(mO(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(_O("data",this.frozen),this.namespace[e]=n,this):x6e.call(this.namespace,e)&&this.namespace[e]||void 0:e?(_O("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=yE(e),r=this.parser||this.Parser;return vO("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),vO("process",this.parser||this.Parser),wO("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=yE(e),l=r.parse(o);r.run(l,o,function(d,h,p){if(d||!h||!p)return u(d);const m=h,v=r.stringify(m,p);T6e(v)?p.value=v:p.result=v,u(d,p)});function u(d,h){d||!h?s(d):a?a(h):n(void 0,h)}}}processSync(e){let n=!1,r;return this.freeze(),vO("processSync",this.parser||this.Parser),wO("processSync",this.compiler||this.Compiler),this.process(e,i),VK("processSync","process",n),r;function i(a,s){n=!0,zK(a),r=s}}run(e,n,r){HK(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=yE(n);i.run(e,l,u);function u(d,h,p){const m=h||e;d?o(d):s?s(m):r(void 0,m,p)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),VK("runSync","run",r),i;function a(s,o){zK(s),i=o,r=!0}}stringify(e,n){this.freeze();const r=yE(n),i=this.compiler||this.Compiler;return wO("stringify",i),HK(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(_O("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...h]=u;l(d,h)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=mO(!0,i.settings,u.settings))}function o(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const h=u[d];a(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let h=-1,p=-1;for(;++h<r.length;)if(r[h][0]===u){p=h;break}if(p===-1)r.push([u,...d]);else if(d.length>0){let[m,...v]=d;const w=r[p][1];T5(w)&&T5(m)&&(m=mO(!0,w,m)),r[p]=[u,m,...v]}}}}const E6e=new NF().freeze();function vO(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function wO(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function _O(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function HK(t){if(!T5(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function VK(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function yE(t){return k6e(t)?t:new pde(t)}function k6e(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function T6e(t){return typeof t=="string"||A6e(t)}function A6e(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const C6e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",GK=[],WK={allowDangerousHtml:!0},R6e=/^(https?|ircs?|mailto|xmpp)$/i,I6e=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function N6e(t){const e=O6e(t),n=M6e(t);return P6e(e.runSync(e.parse(n),n),t)}function O6e(t){const e=t.rehypePlugins||GK,n=t.remarkPlugins||GK,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...WK}:WK;return E6e().use(fDe).use(n).use(s6e,r).use(e)}function M6e(t){const e=t.children||"",n=new pde;return typeof e=="string"&&(n.value=e),n}function P6e(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,s=e.skipHtml,o=e.unwrapDisallowed,l=e.urlTransform||L6e;for(const d of I6e)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+C6e+d.id,void 0);return IF(t,u),YMe(t,{Fragment:z.Fragment,components:i,ignoreInvalidStyle:!0,jsx:z.jsx,jsxs:z.jsxs,passKeys:!0,passNode:!0});function u(d,h,p){if(d.type==="raw"&&p&&typeof h=="number")return s?p.children.splice(h,1):p.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let m;for(m in dO)if(Object.hasOwn(dO,m)&&Object.hasOwn(d.properties,m)){const v=d.properties[m],w=dO[m];(w===null||w.includes(d.tagName))&&(d.properties[m]=l(String(v||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!m&&r&&typeof h=="number"&&(m=!r(d,h,p)),m&&p&&typeof h=="number")return o&&d.children?p.children.splice(h,1,...d.children):p.children.splice(h,1),h}}}function L6e(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||R6e.test(t.slice(0,e))?t:""}function D6e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function F6e(t,e){if(t==null)return{};var n,r,i=D6e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function C5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function B6e(t){if(Array.isArray(t))return C5(t)}function U6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function j6e(t,e){if(t){if(typeof t=="string")return C5(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C5(t,e):void 0}}function z6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R5(t){return B6e(t)||U6e(t)||j6e(t)||z6e()}function T1(t){"@babel/helpers - typeof";return T1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T1(t)}function $6e(t,e){if(T1(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(T1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q6e(t){var e=$6e(t,"string");return T1(e)=="symbol"?e:e+""}function mde(t,e,n){return(e=q6e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I5(){return I5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I5.apply(null,arguments)}function KK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ub(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KK(Object(n),!0).forEach(function(r){mde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H6e(t){var e=t.length;if(e===0||e===1)return t;if(e===2)return[t[0],t[1],"".concat(t[0],".").concat(t[1]),"".concat(t[1],".").concat(t[0])];if(e===3)return[t[0],t[1],t[2],"".concat(t[0],".").concat(t[1]),"".concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[0]),"".concat(t[1],".").concat(t[2]),"".concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[1],".").concat(t[0])];if(e>=4)return[t[0],t[1],t[2],t[3],"".concat(t[0],".").concat(t[1]),"".concat(t[0],".").concat(t[2]),"".concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[0]),"".concat(t[1],".").concat(t[2]),"".concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[1]),"".concat(t[2],".").concat(t[3]),"".concat(t[3],".").concat(t[0]),"".concat(t[3],".").concat(t[1]),"".concat(t[3],".").concat(t[2]),"".concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[1],".").concat(t[3]),"".concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[2],".").concat(t[3]),"".concat(t[0],".").concat(t[3],".").concat(t[1]),"".concat(t[0],".").concat(t[3],".").concat(t[2]),"".concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[1],".").concat(t[2],".").concat(t[3]),"".concat(t[1],".").concat(t[3],".").concat(t[0]),"".concat(t[1],".").concat(t[3],".").concat(t[2]),"".concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[0],".").concat(t[3]),"".concat(t[2],".").concat(t[1],".").concat(t[0]),"".concat(t[2],".").concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[3],".").concat(t[0]),"".concat(t[2],".").concat(t[3],".").concat(t[1]),"".concat(t[3],".").concat(t[0],".").concat(t[1]),"".concat(t[3],".").concat(t[0],".").concat(t[2]),"".concat(t[3],".").concat(t[1],".").concat(t[0]),"".concat(t[3],".").concat(t[1],".").concat(t[2]),"".concat(t[3],".").concat(t[2],".").concat(t[0]),"".concat(t[3],".").concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[1],".").concat(t[2],".").concat(t[3]),"".concat(t[0],".").concat(t[1],".").concat(t[3],".").concat(t[2]),"".concat(t[0],".").concat(t[2],".").concat(t[1],".").concat(t[3]),"".concat(t[0],".").concat(t[2],".").concat(t[3],".").concat(t[1]),"".concat(t[0],".").concat(t[3],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[3],".").concat(t[2],".").concat(t[1]),"".concat(t[1],".").concat(t[0],".").concat(t[2],".").concat(t[3]),"".concat(t[1],".").concat(t[0],".").concat(t[3],".").concat(t[2]),"".concat(t[1],".").concat(t[2],".").concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[2],".").concat(t[3],".").concat(t[0]),"".concat(t[1],".").concat(t[3],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[3],".").concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[0],".").concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[0],".").concat(t[3],".").concat(t[1]),"".concat(t[2],".").concat(t[1],".").concat(t[0],".").concat(t[3]),"".concat(t[2],".").concat(t[1],".").concat(t[3],".").concat(t[0]),"".concat(t[2],".").concat(t[3],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[3],".").concat(t[1],".").concat(t[0]),"".concat(t[3],".").concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[3],".").concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[3],".").concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[3],".").concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[3],".").concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[3],".").concat(t[2],".").concat(t[1],".").concat(t[0])]}var SO={};function V6e(t){if(t.length===0||t.length===1)return t;var e=t.join(".");return SO[e]||(SO[e]=H6e(t)),SO[e]}function G6e(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.filter(function(a){return a!=="token"}),i=V6e(r);return i.reduce(function(a,s){return ub(ub({},a),n[s])},e)}function YK(t){return t.join(" ")}function W6e(t,e){var n=0;return function(r){return n+=1,r.map(function(i,a){return gde({node:i,stylesheet:t,useInlineStyles:e,key:"code-segment-".concat(n,"-").concat(a)})})}}function gde(t){var e=t.node,n=t.stylesheet,r=t.style,i=r===void 0?{}:r,a=t.useInlineStyles,s=t.key,o=e.properties,l=e.type,u=e.tagName,d=e.value;if(l==="text")return d;if(u){var h=W6e(n,a),p;if(!a)p=ub(ub({},o),{},{className:YK(o.className)});else{var m=Object.keys(n).reduce(function(T,C){return C.split(".").forEach(function(N){T.includes(N)||T.push(N)}),T},[]),v=o.className&&o.className.includes("token")?["token"]:[],w=o.className&&v.concat(o.className.filter(function(T){return!m.includes(T)}));p=ub(ub({},o),{},{className:YK(w)||void 0,style:G6e(o.className,Object.assign({},o.style,i),n)})}var k=h(e.children);return _t.createElement(u,I5({key:s},p),k)}}const K6e=function(t,e){var n=t.listLanguages();return n.indexOf(e)!==-1};var Y6e=["language","children","style","customStyle","codeTagProps","useInlineStyles","showLineNumbers","showInlineLineNumbers","startingLineNumber","lineNumberContainerStyle","lineNumberStyle","wrapLines","wrapLongLines","lineProps","renderer","PreTag","CodeTag","code","astGenerator"];function XK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XK(Object(n),!0).forEach(function(r){mde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var X6e=/\n/g;function Z6e(t){return t.match(X6e)}function Q6e(t){var e=t.lines,n=t.startingLineNumber,r=t.style;return e.map(function(i,a){var s=a+n;return _t.createElement("span",{key:"line-".concat(a),className:"react-syntax-highlighter-line-number",style:typeof r=="function"?r(s):r},"".concat(s,`
`))})}function J6e(t){var e=t.codeString,n=t.codeStyle,r=t.containerStyle,i=r===void 0?{float:"left",paddingRight:"10px"}:r,a=t.numberStyle,s=a===void 0?{}:a,o=t.startingLineNumber;return _t.createElement("code",{style:Object.assign({},n,i)},Q6e({lines:e.replace(/\n$/,"").split(`
`),style:s,startingLineNumber:o}))}function e5e(t){return"".concat(t.toString().length,".25em")}function yde(t,e){return{type:"element",tagName:"span",properties:{key:"line-number--".concat(t),className:["comment","linenumber","react-syntax-highlighter-line-number"],style:e},children:[{type:"text",value:t}]}}function bde(t,e,n){var r={display:"inline-block",minWidth:e5e(n),paddingRight:"1em",textAlign:"right",userSelect:"none"},i=typeof t=="function"?t(e):t,a=pm(pm({},r),i);return a}function bk(t){var e=t.children,n=t.lineNumber,r=t.lineNumberStyle,i=t.largestLineNumber,a=t.showInlineLineNumbers,s=t.lineProps,o=s===void 0?{}:s,l=t.className,u=l===void 0?[]:l,d=t.showLineNumbers,h=t.wrapLongLines,p=t.wrapLines,m=p===void 0?!1:p,v=m?pm({},typeof o=="function"?o(n):o):{};if(v.className=v.className?[].concat(R5(v.className.trim().split(/\s+/)),R5(u)):u,n&&a){var w=bde(r,n,i);e.unshift(yde(n,w))}return h&d&&(v.style=pm({display:"flex"},v.style)),{type:"element",tagName:"span",properties:v,children:e}}function vde(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=0;r<t.length;r++){var i=t[r];if(i.type==="text")n.push(bk({children:[i],className:R5(new Set(e))}));else if(i.children){var a=e.concat(i.properties.className);vde(i.children,a).forEach(function(s){return n.push(s)})}}return n}function t5e(t,e,n,r,i,a,s,o,l){var u,d=vde(t.value),h=[],p=-1,m=0;function v(D,U){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return bk({children:D,lineNumber:U,lineNumberStyle:o,largestLineNumber:s,showInlineLineNumbers:i,lineProps:n,className:G,showLineNumbers:r,wrapLongLines:l,wrapLines:e})}function w(D,U){if(r&&U&&i){var G=bde(o,U,s);D.unshift(yde(U,G))}return D}function k(D,U){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return e||G.length>0?v(D,U,G):w(D,U)}for(var T=function(){var U=d[m],G=U.children[0].value,se=Z6e(G);if(se){var re=G.split(`
`);re.forEach(function(Q,ce){var Ie=r&&h.length+a,qe={type:"text",value:"".concat(Q,`
`)};if(ce===0){var xe=d.slice(p+1,m).concat(bk({children:[qe],className:U.properties.className})),Ce=k(xe,Ie);h.push(Ce)}else if(ce===re.length-1){var ue=d[m+1]&&d[m+1].children&&d[m+1].children[0],ke={type:"text",value:"".concat(Q)};if(ue){var Te=bk({children:[ke],className:U.properties.className});d.splice(m+1,0,Te)}else{var he=[ke],j=k(he,Ie,U.properties.className);h.push(j)}}else{var pe=[qe],Ne=k(pe,Ie,U.properties.className);h.push(Ne)}}),p=m}m++};m<d.length;)T();if(p!==d.length-1){var C=d.slice(p+1,d.length);if(C&&C.length){var N=r&&h.length+a,F=k(C,N);h.push(F)}}return e?h:(u=[]).concat.apply(u,h)}function n5e(t){var e=t.rows,n=t.stylesheet,r=t.useInlineStyles;return e.map(function(i,a){return gde({node:i,stylesheet:n,useInlineStyles:r,key:"code-segement".concat(a)})})}function wde(t){return t&&typeof t.highlightAuto<"u"}function r5e(t){var e=t.astGenerator,n=t.language,r=t.code,i=t.defaultCodeValue;if(wde(e)){var a=K6e(e,n);return n==="text"?{value:i,language:"text"}:a?e.highlight(n,r):e.highlightAuto(r)}try{return n&&n!=="text"?{value:e.highlight(r,n)}:{value:i}}catch{return{value:i}}}function i5e(t,e){return function(r){var i=r.language,a=r.children,s=r.style,o=s===void 0?e:s,l=r.customStyle,u=l===void 0?{}:l,d=r.codeTagProps,h=d===void 0?{className:i?"language-".concat(i):void 0,style:pm(pm({},o['code[class*="language-"]']),o['code[class*="language-'.concat(i,'"]')])}:d,p=r.useInlineStyles,m=p===void 0?!0:p,v=r.showLineNumbers,w=v===void 0?!1:v,k=r.showInlineLineNumbers,T=k===void 0?!0:k,C=r.startingLineNumber,N=C===void 0?1:C,F=r.lineNumberContainerStyle,D=r.lineNumberStyle,U=D===void 0?{}:D,G=r.wrapLines,se=r.wrapLongLines,re=se===void 0?!1:se,Q=r.lineProps,ce=Q===void 0?{}:Q,Ie=r.renderer,qe=r.PreTag,xe=qe===void 0?"pre":qe,Ce=r.CodeTag,ue=Ce===void 0?"code":Ce,ke=r.code,Te=ke===void 0?(Array.isArray(a)?a[0]:a)||"":ke,he=r.astGenerator,j=F6e(r,Y6e);he=he||t;var pe=w?_t.createElement(J6e,{containerStyle:F,codeStyle:h.style||{},numberStyle:U,startingLineNumber:N,codeString:Te}):null,Ne=o.hljs||o['pre[class*="language-"]']||{backgroundColor:"#fff"},ae=wde(he)?"hljs":"prismjs",He=m?Object.assign({},j,{style:Object.assign({},Ne,u)}):Object.assign({},j,{className:j.className?"".concat(ae," ").concat(j.className):ae,style:Object.assign({},u)});if(re?h.style=pm({whiteSpace:"pre-wrap"},h.style):h.style=pm({whiteSpace:"pre"},h.style),!he)return _t.createElement(xe,He,pe,_t.createElement(ue,h,Te));(G===void 0&&Ie||re)&&(G=!0),Ie=Ie||n5e;var it=[{type:"text",value:Te}],Xe=r5e({astGenerator:he,language:i,code:Te,defaultCodeValue:it});Xe.language===null&&(Xe.value=it);var Ke=Xe.value.length;Ke===1&&Xe.value[0].type==="text"&&(Ke=Xe.value[0].value.split(`
`).length);var ct=Ke+N,de=t5e(Xe,G,ce,w,T,N,ct,U,re);return _t.createElement(xe,He,_t.createElement(ue,h,!T&&pe,Ie({rows:de,stylesheet:o,useInlineStyles:m})))}}const a5e=["abap","abnf","actionscript","ada","agda","al","antlr4","apacheconf","apex","apl","applescript","aql","arduino","arff","asciidoc","asm6502","asmatmel","aspnet","autohotkey","autoit","avisynth","avro-idl","bash","basic","batch","bbcode","bicep","birb","bison","bnf","brainfuck","brightscript","bro","bsl","c","cfscript","chaiscript","cil","clike","clojure","cmake","cobol","coffeescript","concurnas","coq","cpp","crystal","csharp","cshtml","csp","css-extras","css","csv","cypher","d","dart","dataweave","dax","dhall","diff","django","dns-zone-file","docker","dot","ebnf","editorconfig","eiffel","ejs","elixir","elm","erb","erlang","etlua","excel-formula","factor","false","firestore-security-rules","flow","fortran","fsharp","ftl","gap","gcode","gdscript","gedcom","gherkin","git","glsl","gml","gn","go-module","go","graphql","groovy","haml","handlebars","haskell","haxe","hcl","hlsl","hoon","hpkp","hsts","http","ichigojam","icon","icu-message-format","idris","iecst","ignore","inform7","ini","io","j","java","javadoc","javadoclike","javascript","javastacktrace","jexl","jolie","jq","js-extras","js-templates","jsdoc","json","json5","jsonp","jsstacktrace","jsx","julia","keepalived","keyman","kotlin","kumir","kusto","latex","latte","less","lilypond","liquid","lisp","livescript","llvm","log","lolcode","lua","magma","makefile","markdown","markup-templating","markup","matlab","maxscript","mel","mermaid","mizar","mongodb","monkey","moonscript","n1ql","n4js","nand2tetris-hdl","naniscript","nasm","neon","nevod","nginx","nim","nix","nsis","objectivec","ocaml","opencl","openqasm","oz","parigp","parser","pascal","pascaligo","pcaxis","peoplecode","perl","php-extras","php","phpdoc","plsql","powerquery","powershell","processing","prolog","promql","properties","protobuf","psl","pug","puppet","pure","purebasic","purescript","python","q","qml","qore","qsharp","r","racket","reason","regex","rego","renpy","rest","rip","roboconf","robotframework","ruby","rust","sas","sass","scala","scheme","scss","shell-session","smali","smalltalk","smarty","sml","solidity","solution-file","soy","sparql","splunk-spl","sqf","sql","squirrel","stan","stylus","swift","systemd","t4-cs","t4-templating","t4-vb","tap","tcl","textile","toml","tremor","tsx","tt2","turtle","twig","typescript","typoscript","unrealscript","uorazor","uri","v","vala","vbnet","velocity","verilog","vhdl","vim","visual-basic","warpscript","wasm","web-idl","wiki","wolfram","wren","xeora","xml-doc","xojo","xquery","yaml","yang","zig"];var xO,ZK;function s5e(){if(ZK)return xO;ZK=1,xO=e;var t=Object.prototype.hasOwnProperty;function e(){for(var n={},r=0;r<arguments.length;r++){var i=arguments[r];for(var a in i)t.call(i,a)&&(n[a]=i[a])}return n}return xO}var EO,QK;function _de(){if(QK)return EO;QK=1,EO=e;var t=e.prototype;t.space=null,t.normal={},t.property={};function e(n,r,i){this.property=n,this.normal=r,i&&(this.space=i)}return EO}var kO,JK;function o5e(){if(JK)return kO;JK=1;var t=s5e(),e=_de();kO=n;function n(r){for(var i=r.length,a=[],s=[],o=-1,l,u;++o<i;)l=r[o],a.push(l.property),s.push(l.normal),u=l.space;return new e(t.apply(null,a),t.apply(null,s),u)}return kO}var TO,eY;function OF(){if(eY)return TO;eY=1,TO=t;function t(e){return e.toLowerCase()}return TO}var AO,tY;function Sde(){if(tY)return AO;tY=1,AO=e;var t=e.prototype;t.space=null,t.attribute=null,t.property=null,t.boolean=!1,t.booleanish=!1,t.overloadedBoolean=!1,t.number=!1,t.commaSeparated=!1,t.spaceSeparated=!1,t.commaOrSpaceSeparated=!1,t.mustUseProperty=!1,t.defined=!1;function e(n,r){this.property=n,this.attribute=r}return AO}var Gh={},nY;function MF(){if(nY)return Gh;nY=1;var t=0;Gh.boolean=e(),Gh.booleanish=e(),Gh.overloadedBoolean=e(),Gh.number=e(),Gh.spaceSeparated=e(),Gh.commaSeparated=e(),Gh.commaOrSpaceSeparated=e();function e(){return Math.pow(2,++t)}return Gh}var CO,rY;function xde(){if(rY)return CO;rY=1;var t=Sde(),e=MF();CO=i,i.prototype=new t,i.prototype.defined=!0;var n=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],r=n.length;function i(s,o,l,u){var d=-1,h;for(a(this,"space",u),t.call(this,s,o);++d<r;)h=n[d],a(this,h,(l&e[h])===e[h])}function a(s,o,l){l&&(s[o]=l)}return CO}var RO,iY;function SS(){if(iY)return RO;iY=1;var t=OF(),e=_de(),n=xde();RO=r;function r(i){var a=i.space,s=i.mustUseProperty||[],o=i.attributes||{},l=i.properties,u=i.transform,d={},h={},p,m;for(p in l)m=new n(p,u(o,p),l[p],a),s.indexOf(p)!==-1&&(m.mustUseProperty=!0),d[p]=m,h[t(p)]=p,h[t(m.attribute)]=p;return new e(d,h,a)}return RO}var IO,aY;function l5e(){if(aY)return IO;aY=1;var t=SS();IO=t({space:"xlink",transform:e,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function e(n,r){return"xlink:"+r.slice(5).toLowerCase()}return IO}var NO,sY;function u5e(){if(sY)return NO;sY=1;var t=SS();NO=t({space:"xml",transform:e,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function e(n,r){return"xml:"+r.slice(3).toLowerCase()}return NO}var OO,oY;function c5e(){if(oY)return OO;oY=1,OO=t;function t(e,n){return n in e?e[n]:n}return OO}var MO,lY;function Ede(){if(lY)return MO;lY=1;var t=c5e();MO=e;function e(n,r){return t(n,r.toLowerCase())}return MO}var PO,uY;function d5e(){if(uY)return PO;uY=1;var t=SS(),e=Ede();return PO=t({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:e,properties:{xmlns:null,xmlnsXLink:null}}),PO}var LO,cY;function h5e(){if(cY)return LO;cY=1;var t=MF(),e=SS(),n=t.booleanish,r=t.number,i=t.spaceSeparated;LO=e({transform:a,properties:{ariaActiveDescendant:null,ariaAtomic:n,ariaAutoComplete:null,ariaBusy:n,ariaChecked:n,ariaColCount:r,ariaColIndex:r,ariaColSpan:r,ariaControls:i,ariaCurrent:null,ariaDescribedBy:i,ariaDetails:null,ariaDisabled:n,ariaDropEffect:i,ariaErrorMessage:null,ariaExpanded:n,ariaFlowTo:i,ariaGrabbed:n,ariaHasPopup:null,ariaHidden:n,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:i,ariaLevel:r,ariaLive:null,ariaModal:n,ariaMultiLine:n,ariaMultiSelectable:n,ariaOrientation:null,ariaOwns:i,ariaPlaceholder:null,ariaPosInSet:r,ariaPressed:n,ariaReadOnly:n,ariaRelevant:null,ariaRequired:n,ariaRoleDescription:i,ariaRowCount:r,ariaRowIndex:r,ariaRowSpan:r,ariaSelected:n,ariaSetSize:r,ariaSort:null,ariaValueMax:r,ariaValueMin:r,ariaValueNow:r,ariaValueText:null,role:null}});function a(s,o){return o==="role"?o:"aria-"+o.slice(4).toLowerCase()}return LO}var DO,dY;function f5e(){if(dY)return DO;dY=1;var t=MF(),e=SS(),n=Ede(),r=t.boolean,i=t.overloadedBoolean,a=t.booleanish,s=t.number,o=t.spaceSeparated,l=t.commaSeparated;return DO=e({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:n,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:l,acceptCharset:o,accessKey:o,action:null,allow:null,allowFullScreen:r,allowPaymentRequest:r,allowUserMedia:r,alt:null,as:null,async:r,autoCapitalize:null,autoComplete:o,autoFocus:r,autoPlay:r,capture:r,charSet:null,checked:r,cite:null,className:o,cols:s,colSpan:null,content:null,contentEditable:a,controls:r,controlsList:o,coords:s|l,crossOrigin:null,data:null,dateTime:null,decoding:null,default:r,defer:r,dir:null,dirName:null,disabled:r,download:i,draggable:a,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:r,formTarget:null,headers:o,height:s,hidden:r,high:s,href:null,hrefLang:null,htmlFor:o,httpEquiv:o,id:null,imageSizes:null,imageSrcSet:l,inputMode:null,integrity:null,is:null,isMap:r,itemId:null,itemProp:o,itemRef:o,itemScope:r,itemType:o,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:r,low:s,manifest:null,max:null,maxLength:s,media:null,method:null,min:null,minLength:s,multiple:r,muted:r,name:null,nonce:null,noModule:r,noValidate:r,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:r,optimum:s,pattern:null,ping:o,placeholder:null,playsInline:r,poster:null,preload:null,readOnly:r,referrerPolicy:null,rel:o,required:r,reversed:r,rows:s,rowSpan:s,sandbox:o,scope:null,scoped:r,seamless:r,selected:r,shape:null,size:s,sizes:null,slot:null,span:s,spellCheck:a,src:null,srcDoc:null,srcLang:null,srcSet:l,start:s,step:null,style:null,tabIndex:s,target:null,title:null,translate:null,type:null,typeMustMatch:r,useMap:null,value:a,width:s,wrap:null,align:null,aLink:null,archive:o,axis:null,background:null,bgColor:null,border:s,borderColor:null,bottomMargin:s,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:r,declare:r,event:null,face:null,frame:null,frameBorder:null,hSpace:s,leftMargin:s,link:null,longDesc:null,lowSrc:null,marginHeight:s,marginWidth:s,noResize:r,noHref:r,noShade:r,noWrap:r,object:null,profile:null,prompt:null,rev:null,rightMargin:s,rules:null,scheme:null,scrolling:a,standby:null,summary:null,text:null,topMargin:s,valueType:null,version:null,vAlign:null,vLink:null,vSpace:s,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:r,disableRemotePlayback:r,prefix:null,property:null,results:s,security:null,unselectable:null}}),DO}var FO,hY;function p5e(){if(hY)return FO;hY=1;var t=o5e(),e=l5e(),n=u5e(),r=d5e(),i=h5e(),a=f5e();return FO=t([n,e,r,i,a]),FO}var BO,fY;function m5e(){if(fY)return BO;fY=1;var t=OF(),e=xde(),n=Sde(),r="data";BO=o;var i=/^data[-\w.:]+$/i,a=/-[a-z]/g,s=/[A-Z]/g;function o(p,m){var v=t(m),w=m,k=n;return v in p.normal?p.property[p.normal[v]]:(v.length>4&&v.slice(0,4)===r&&i.test(m)&&(m.charAt(4)==="-"?w=l(m):m=u(m),k=e),new k(w,m))}function l(p){var m=p.slice(5).replace(a,h);return r+m.charAt(0).toUpperCase()+m.slice(1)}function u(p){var m=p.slice(4);return a.test(m)?p:(m=m.replace(s,d),m.charAt(0)!=="-"&&(m="-"+m),r+m)}function d(p){return"-"+p.toLowerCase()}function h(p){return p.charAt(1).toUpperCase()}return BO}var UO,pY;function g5e(){if(pY)return UO;pY=1,UO=e;var t=/[#.]/g;function e(n,r){for(var i=n||"",a=r||"div",s={},o=0,l,u,d;o<i.length;)t.lastIndex=o,d=t.exec(i),l=i.slice(o,d?d.index:i.length),l&&(u?u==="#"?s.id=l:s.className?s.className.push(l):s.className=[l]:a=l,o+=l.length),d&&(u=d[0],o++);return{type:"element",tagName:a,properties:s,children:[]}}return UO}var bE={},mY;function y5e(){if(mY)return bE;mY=1,bE.parse=r,bE.stringify=i;var t="",e=" ",n=/[ \t\n\r\f]+/g;function r(a){var s=String(a||t).trim();return s===t?[]:s.split(n)}function i(a){return a.join(e).trim()}return bE}var vE={},gY;function b5e(){if(gY)return vE;gY=1,vE.parse=r,vE.stringify=i;var t=",",e=" ",n="";function r(a){for(var s=[],o=String(a||n),l=o.indexOf(t),u=0,d=!1,h;!d;)l===-1&&(l=o.length,d=!0),h=o.slice(u,l).trim(),(h||!d)&&s.push(h),u=l+1,l=o.indexOf(t,u);return s}function i(a,s){var o=s||{},l=o.padLeft===!1?n:e,u=o.padRight?e:n;return a[a.length-1]===n&&(a=a.concat(n)),a.join(u+t+l).trim()}return vE}var jO,yY;function v5e(){if(yY)return jO;yY=1;var t=m5e(),e=OF(),n=g5e(),r=y5e().parse,i=b5e().parse;jO=s;var a={}.hasOwnProperty;function s(v,w,k){var T=k?m(k):null;return C;function C(F,D){var U=n(F,w),G=Array.prototype.slice.call(arguments,2),se=U.tagName.toLowerCase(),re;if(U.tagName=T&&a.call(T,se)?T[se]:se,D&&o(D,U)&&(G.unshift(D),D=null),D)for(re in D)N(U.properties,re,D[re]);return u(U.children,G),U.tagName==="template"&&(U.content={type:"root",children:U.children},U.children=[]),U}function N(F,D,U){var G,se,re;U==null||U!==U||(G=t(v,D),se=G.property,re=U,typeof re=="string"&&(G.spaceSeparated?re=r(re):G.commaSeparated?re=i(re):G.commaOrSpaceSeparated&&(re=r(i(re).join(" ")))),se==="style"&&typeof U!="string"&&(re=p(re)),se==="className"&&F.className&&(re=F.className.concat(re)),F[se]=d(G,se,re))}}function o(v,w){return typeof v=="string"||"length"in v||l(w.tagName,v)}function l(v,w){var k=w.type;return v==="input"||!k||typeof k!="string"?!1:typeof w.children=="object"&&"length"in w.children?!0:(k=k.toLowerCase(),v==="button"?k!=="menu"&&k!=="submit"&&k!=="reset"&&k!=="button":"value"in w)}function u(v,w){var k,T;if(typeof w=="string"||typeof w=="number"){v.push({type:"text",value:String(w)});return}if(typeof w=="object"&&"length"in w){for(k=-1,T=w.length;++k<T;)u(v,w[k]);return}if(typeof w!="object"||!("type"in w))throw new Error("Expected node, nodes, or string, got `"+w+"`");v.push(w)}function d(v,w,k){var T,C,N;if(typeof k!="object"||!("length"in k))return h(v,w,k);for(C=k.length,T=-1,N=[];++T<C;)N[T]=h(v,w,k[T]);return N}function h(v,w,k){var T=k;return v.number||v.positiveNumber?!isNaN(T)&&T!==""&&(T=Number(T)):(v.boolean||v.overloadedBoolean)&&typeof T=="string"&&(T===""||e(k)===e(w))&&(T=!0),T}function p(v){var w=[],k;for(k in v)w.push([k,v[k]].join(": "));return w.join("; ")}function m(v){for(var w=v.length,k=-1,T={},C;++k<w;)C=v[k],T[C.toLowerCase()]=C;return T}return jO}var zO,bY;function w5e(){if(bY)return zO;bY=1;var t=p5e(),e=v5e(),n=e(t,"div");return n.displayName="html",zO=n,zO}var $O,vY;function _5e(){return vY||(vY=1,$O=w5e()),$O}const S5e="Æ",x5e="&",E5e="Á",k5e="Â",T5e="À",A5e="Å",C5e="Ã",R5e="Ä",I5e="©",N5e="Ç",O5e="Ð",M5e="É",P5e="Ê",L5e="È",D5e="Ë",F5e=">",B5e="Í",U5e="Î",j5e="Ì",z5e="Ï",$5e="<",q5e="Ñ",H5e="Ó",V5e="Ô",G5e="Ò",W5e="Ø",K5e="Õ",Y5e="Ö",X5e='"',Z5e="®",Q5e="Þ",J5e="Ú",e8e="Û",t8e="Ù",n8e="Ü",r8e="Ý",i8e="á",a8e="â",s8e="´",o8e="æ",l8e="à",u8e="&",c8e="å",d8e="ã",h8e="ä",f8e="¦",p8e="ç",m8e="¸",g8e="¢",y8e="©",b8e="¤",v8e="°",w8e="÷",_8e="é",S8e="ê",x8e="è",E8e="ð",k8e="ë",T8e="½",A8e="¼",C8e="¾",R8e=">",I8e="í",N8e="î",O8e="¡",M8e="ì",P8e="¿",L8e="ï",D8e="«",F8e="<",B8e="¯",U8e="µ",j8e="·",z8e=" ",$8e="¬",q8e="ñ",H8e="ó",V8e="ô",G8e="ò",W8e="ª",K8e="º",Y8e="ø",X8e="õ",Z8e="ö",Q8e="¶",J8e="±",e7e="£",t7e='"',n7e="»",r7e="®",i7e="§",a7e="­",s7e="¹",o7e="²",l7e="³",u7e="ß",c7e="þ",d7e="×",h7e="ú",f7e="û",p7e="ù",m7e="¨",g7e="ü",y7e="ý",b7e="¥",v7e="ÿ",w7e={AElig:S5e,AMP:x5e,Aacute:E5e,Acirc:k5e,Agrave:T5e,Aring:A5e,Atilde:C5e,Auml:R5e,COPY:I5e,Ccedil:N5e,ETH:O5e,Eacute:M5e,Ecirc:P5e,Egrave:L5e,Euml:D5e,GT:F5e,Iacute:B5e,Icirc:U5e,Igrave:j5e,Iuml:z5e,LT:$5e,Ntilde:q5e,Oacute:H5e,Ocirc:V5e,Ograve:G5e,Oslash:W5e,Otilde:K5e,Ouml:Y5e,QUOT:X5e,REG:Z5e,THORN:Q5e,Uacute:J5e,Ucirc:e8e,Ugrave:t8e,Uuml:n8e,Yacute:r8e,aacute:i8e,acirc:a8e,acute:s8e,aelig:o8e,agrave:l8e,amp:u8e,aring:c8e,atilde:d8e,auml:h8e,brvbar:f8e,ccedil:p8e,cedil:m8e,cent:g8e,copy:y8e,curren:b8e,deg:v8e,divide:w8e,eacute:_8e,ecirc:S8e,egrave:x8e,eth:E8e,euml:k8e,frac12:T8e,frac14:A8e,frac34:C8e,gt:R8e,iacute:I8e,icirc:N8e,iexcl:O8e,igrave:M8e,iquest:P8e,iuml:L8e,laquo:D8e,lt:F8e,macr:B8e,micro:U8e,middot:j8e,nbsp:z8e,not:$8e,ntilde:q8e,oacute:H8e,ocirc:V8e,ograve:G8e,ordf:W8e,ordm:K8e,oslash:Y8e,otilde:X8e,ouml:Z8e,para:Q8e,plusmn:J8e,pound:e7e,quot:t7e,raquo:n7e,reg:r7e,sect:i7e,shy:a7e,sup1:s7e,sup2:o7e,sup3:l7e,szlig:u7e,thorn:c7e,times:d7e,uacute:h7e,ucirc:f7e,ugrave:p7e,uml:m7e,uuml:g7e,yacute:y7e,yen:b7e,yuml:v7e},_7e={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};var qO,wY;function kde(){if(wY)return qO;wY=1,qO=t;function t(e){var n=typeof e=="string"?e.charCodeAt(0):e;return n>=48&&n<=57}return qO}var HO,_Y;function S7e(){if(_Y)return HO;_Y=1,HO=t;function t(e){var n=typeof e=="string"?e.charCodeAt(0):e;return n>=97&&n<=102||n>=65&&n<=70||n>=48&&n<=57}return HO}var VO,SY;function x7e(){if(SY)return VO;SY=1,VO=t;function t(e){var n=typeof e=="string"?e.charCodeAt(0):e;return n>=97&&n<=122||n>=65&&n<=90}return VO}var GO,xY;function E7e(){if(xY)return GO;xY=1;var t=x7e(),e=kde();GO=n;function n(r){return t(r)||e(r)}return GO}var WO,EY;function k7e(){if(EY)return WO;EY=1;var t,e=59;WO=n;function n(r){var i="&"+r+";",a;return t=t||document.createElement("i"),t.innerHTML=i,a=t.textContent,a.charCodeAt(a.length-1)===e&&r!=="semi"||a===i?!1:a}return WO}var KO,kY;function T7e(){if(kY)return KO;kY=1;var t=w7e,e=_7e,n=kde(),r=S7e(),i=E7e(),a=k7e();KO=he;var s={}.hasOwnProperty,o=String.fromCharCode,l=Function.prototype,u={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},d=9,h=10,p=12,m=32,v=38,w=59,k=60,T=61,C=35,N=88,F=120,D=65533,U="named",G="hexadecimal",se="decimal",re={};re[G]=16,re[se]=10;var Q={};Q[U]=i,Q[se]=n,Q[G]=r;var ce=1,Ie=2,qe=3,xe=4,Ce=5,ue=6,ke=7,Te={};Te[ce]="Named character references must be terminated by a semicolon",Te[Ie]="Numeric character references must be terminated by a semicolon",Te[qe]="Named character references cannot be empty",Te[xe]="Numeric character references cannot be empty",Te[Ce]="Named character references must be known",Te[ue]="Numeric character references cannot be disallowed",Te[ke]="Numeric character references cannot be outside the permissible Unicode range";function he(ae,He){var it={},Xe,Ke;He||(He={});for(Ke in u)Xe=He[Ke],it[Ke]=Xe??u[Ke];return(it.position.indent||it.position.start)&&(it.indent=it.position.indent||[],it.position=it.position.start),j(ae,it)}function j(ae,He){var it=He.additional,Xe=He.nonTerminated,Ke=He.text,ct=He.reference,de=He.warning,Se=He.textContext,ht=He.referenceContext,vt=He.warningContext,Dt=He.position,an=He.indent||[],Nt=ae.length,Un=0,rn=-1,tr=Dt.column||1,nr=Dt.line||1,Dr="",Ee=[],ee,te,Re,nt,Oe,K,B,V,be,je,We,gt,sn,xn,Mt,Sn,En,li,ze;for(typeof it=="string"&&(it=it.charCodeAt(0)),Sn=Yt(),V=de?_e:l,Un--,Nt++;++Un<Nt;)if(Oe===h&&(tr=an[rn]||1),Oe=ae.charCodeAt(Un),Oe===v){if(B=ae.charCodeAt(Un+1),B===d||B===h||B===p||B===m||B===v||B===k||B!==B||it&&B===it){Dr+=o(Oe),tr++;continue}for(sn=Un+1,gt=sn,ze=sn,B===C?(ze=++gt,B=ae.charCodeAt(ze),B===N||B===F?(xn=G,ze=++gt):xn=se):xn=U,ee="",We="",nt="",Mt=Q[xn],ze--;++ze<Nt&&(B=ae.charCodeAt(ze),!!Mt(B));)nt+=o(B),xn===U&&s.call(t,nt)&&(ee=nt,We=t[nt]);Re=ae.charCodeAt(ze)===w,Re&&(ze++,te=xn===U?a(nt):!1,te&&(ee=nt,We=te)),li=1+ze-sn,!Re&&!Xe||(nt?xn===U?(Re&&!We?V(Ce,1):(ee!==nt&&(ze=gt+ee.length,li=1+ze-gt,Re=!1),Re||(be=ee?ce:qe,He.attribute?(B=ae.charCodeAt(ze),B===T?(V(be,li),We=null):i(B)?We=null:V(be,li)):V(be,li))),K=We):(Re||V(Ie,li),K=parseInt(nt,re[xn]),pe(K)?(V(ke,li),K=o(D)):K in e?(V(ue,li),K=e[K]):(je="",Ne(K)&&V(ue,li),K>65535&&(K-=65536,je+=o(K>>>10|55296),K=56320|K&1023),K=je+o(K))):xn!==U&&V(xe,li)),K?(Pt(),Sn=Yt(),Un=ze-1,tr+=ze-sn+1,Ee.push(K),En=Yt(),En.offset++,ct&&ct.call(ht,K,{start:Sn,end:En},ae.slice(sn-1,ze)),Sn=En):(nt=ae.slice(sn-1,ze),Dr+=nt,tr+=nt.length,Un=ze-1)}else Oe===10&&(nr++,rn++,tr=0),Oe===Oe?(Dr+=o(Oe),tr++):Pt();return Ee.join("");function Yt(){return{line:nr,column:tr,offset:Un+(Dt.offset||0)}}function _e(In,Ft){var Ir=Yt();Ir.column+=Ft,Ir.offset+=Ft,de.call(vt,Te[In],Ir,In)}function Pt(){Dr&&(Ee.push(Dr),Ke&&Ke.call(Se,Dr,{start:Sn,end:Yt()}),Dr="")}}function pe(ae){return ae>=55296&&ae<=57343||ae>1114111}function Ne(ae){return ae>=1&&ae<=8||ae===11||ae>=13&&ae<=31||ae>=127&&ae<=159||ae>=64976&&ae<=65007||(ae&65535)===65535||(ae&65535)===65534}return KO}var YO={exports:{}},TY;function A7e(){return TY||(TY=1,function(t){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,a=0,s={},o={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function C(N){return N instanceof l?new l(N.type,C(N.content),N.alias):Array.isArray(N)?N.map(C):N.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(C){return Object.prototype.toString.call(C).slice(8,-1)},objId:function(C){return C.__id||Object.defineProperty(C,"__id",{value:++a}),C.__id},clone:function C(N,F){F=F||{};var D,U;switch(o.util.type(N)){case"Object":if(U=o.util.objId(N),F[U])return F[U];D={},F[U]=D;for(var G in N)N.hasOwnProperty(G)&&(D[G]=C(N[G],F));return D;case"Array":return U=o.util.objId(N),F[U]?F[U]:(D=[],F[U]=D,N.forEach(function(se,re){D[re]=C(se,F)}),D);default:return N}},getLanguage:function(C){for(;C;){var N=i.exec(C.className);if(N)return N[1].toLowerCase();C=C.parentElement}return"none"},setLanguage:function(C,N){C.className=C.className.replace(RegExp(i,"gi"),""),C.classList.add("language-"+N)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(D){var C=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(D.stack)||[])[1];if(C){var N=document.getElementsByTagName("script");for(var F in N)if(N[F].src==C)return N[F]}return null}},isActive:function(C,N,F){for(var D="no-"+N;C;){var U=C.classList;if(U.contains(N))return!0;if(U.contains(D))return!1;C=C.parentElement}return!!F}},languages:{plain:s,plaintext:s,text:s,txt:s,extend:function(C,N){var F=o.util.clone(o.languages[C]);for(var D in N)F[D]=N[D];return F},insertBefore:function(C,N,F,D){D=D||o.languages;var U=D[C],G={};for(var se in U)if(U.hasOwnProperty(se)){if(se==N)for(var re in F)F.hasOwnProperty(re)&&(G[re]=F[re]);F.hasOwnProperty(se)||(G[se]=U[se])}var Q=D[C];return D[C]=G,o.languages.DFS(o.languages,function(ce,Ie){Ie===Q&&ce!=C&&(this[ce]=G)}),G},DFS:function C(N,F,D,U){U=U||{};var G=o.util.objId;for(var se in N)if(N.hasOwnProperty(se)){F.call(N,se,N[se],D||se);var re=N[se],Q=o.util.type(re);Q==="Object"&&!U[G(re)]?(U[G(re)]=!0,C(re,F,null,U)):Q==="Array"&&!U[G(re)]&&(U[G(re)]=!0,C(re,F,se,U))}}},plugins:{},highlightAll:function(C,N){o.highlightAllUnder(document,C,N)},highlightAllUnder:function(C,N,F){var D={callback:F,container:C,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",D),D.elements=Array.prototype.slice.apply(D.container.querySelectorAll(D.selector)),o.hooks.run("before-all-elements-highlight",D);for(var U=0,G;G=D.elements[U++];)o.highlightElement(G,N===!0,D.callback)},highlightElement:function(C,N,F){var D=o.util.getLanguage(C),U=o.languages[D];o.util.setLanguage(C,D);var G=C.parentElement;G&&G.nodeName.toLowerCase()==="pre"&&o.util.setLanguage(G,D);var se=C.textContent,re={element:C,language:D,grammar:U,code:se};function Q(Ie){re.highlightedCode=Ie,o.hooks.run("before-insert",re),re.element.innerHTML=re.highlightedCode,o.hooks.run("after-highlight",re),o.hooks.run("complete",re),F&&F.call(re.element)}if(o.hooks.run("before-sanity-check",re),G=re.element.parentElement,G&&G.nodeName.toLowerCase()==="pre"&&!G.hasAttribute("tabindex")&&G.setAttribute("tabindex","0"),!re.code){o.hooks.run("complete",re),F&&F.call(re.element);return}if(o.hooks.run("before-highlight",re),!re.grammar){Q(o.util.encode(re.code));return}if(N&&r.Worker){var ce=new Worker(o.filename);ce.onmessage=function(Ie){Q(Ie.data)},ce.postMessage(JSON.stringify({language:re.language,code:re.code,immediateClose:!0}))}else Q(o.highlight(re.code,re.grammar,re.language))},highlight:function(C,N,F){var D={code:C,grammar:N,language:F};if(o.hooks.run("before-tokenize",D),!D.grammar)throw new Error('The language "'+D.language+'" has no grammar.');return D.tokens=o.tokenize(D.code,D.grammar),o.hooks.run("after-tokenize",D),l.stringify(o.util.encode(D.tokens),D.language)},tokenize:function(C,N){var F=N.rest;if(F){for(var D in F)N[D]=F[D];delete N.rest}var U=new h;return p(U,U.head,C),d(C,U,N,U.head,0),v(U)},hooks:{all:{},add:function(C,N){var F=o.hooks.all;F[C]=F[C]||[],F[C].push(N)},run:function(C,N){var F=o.hooks.all[C];if(!(!F||!F.length))for(var D=0,U;U=F[D++];)U(N)}},Token:l};r.Prism=o;function l(C,N,F,D){this.type=C,this.content=N,this.alias=F,this.length=(D||"").length|0}l.stringify=function C(N,F){if(typeof N=="string")return N;if(Array.isArray(N)){var D="";return N.forEach(function(Q){D+=C(Q,F)}),D}var U={type:N.type,content:C(N.content,F),tag:"span",classes:["token",N.type],attributes:{},language:F},G=N.alias;G&&(Array.isArray(G)?Array.prototype.push.apply(U.classes,G):U.classes.push(G)),o.hooks.run("wrap",U);var se="";for(var re in U.attributes)se+=" "+re+'="'+(U.attributes[re]||"").replace(/"/g,"&quot;")+'"';return"<"+U.tag+' class="'+U.classes.join(" ")+'"'+se+">"+U.content+"</"+U.tag+">"};function u(C,N,F,D){C.lastIndex=N;var U=C.exec(F);if(U&&D&&U[1]){var G=U[1].length;U.index+=G,U[0]=U[0].slice(G)}return U}function d(C,N,F,D,U,G){for(var se in F)if(!(!F.hasOwnProperty(se)||!F[se])){var re=F[se];re=Array.isArray(re)?re:[re];for(var Q=0;Q<re.length;++Q){if(G&&G.cause==se+","+Q)return;var ce=re[Q],Ie=ce.inside,qe=!!ce.lookbehind,xe=!!ce.greedy,Ce=ce.alias;if(xe&&!ce.pattern.global){var ue=ce.pattern.toString().match(/[imsuy]*$/)[0];ce.pattern=RegExp(ce.pattern.source,ue+"g")}for(var ke=ce.pattern||ce,Te=D.next,he=U;Te!==N.tail&&!(G&&he>=G.reach);he+=Te.value.length,Te=Te.next){var j=Te.value;if(N.length>C.length)return;if(!(j instanceof l)){var pe=1,Ne;if(xe){if(Ne=u(ke,he,C,qe),!Ne||Ne.index>=C.length)break;var Xe=Ne.index,ae=Ne.index+Ne[0].length,He=he;for(He+=Te.value.length;Xe>=He;)Te=Te.next,He+=Te.value.length;if(He-=Te.value.length,he=He,Te.value instanceof l)continue;for(var it=Te;it!==N.tail&&(He<ae||typeof it.value=="string");it=it.next)pe++,He+=it.value.length;pe--,j=C.slice(he,He),Ne.index-=he}else if(Ne=u(ke,0,j,qe),!Ne)continue;var Xe=Ne.index,Ke=Ne[0],ct=j.slice(0,Xe),de=j.slice(Xe+Ke.length),Se=he+j.length;G&&Se>G.reach&&(G.reach=Se);var ht=Te.prev;ct&&(ht=p(N,ht,ct),he+=ct.length),m(N,ht,pe);var vt=new l(se,Ie?o.tokenize(Ke,Ie):Ke,Ce,Ke);if(Te=p(N,ht,vt),de&&p(N,Te,de),pe>1){var Dt={cause:se+","+Q,reach:Se};d(C,N,F,Te.prev,he,Dt),G&&Dt.reach>G.reach&&(G.reach=Dt.reach)}}}}}}function h(){var C={value:null,prev:null,next:null},N={value:null,prev:C,next:null};C.next=N,this.head=C,this.tail=N,this.length=0}function p(C,N,F){var D=N.next,U={value:F,prev:N,next:D};return N.next=U,D.prev=U,C.length++,U}function m(C,N,F){for(var D=N.next,U=0;U<F&&D!==C.tail;U++)D=D.next;N.next=D,D.prev=N,C.length-=U}function v(C){for(var N=[],F=C.head.next;F!==C.tail;)N.push(F.value),F=F.next;return N}if(!r.document)return r.addEventListener&&(o.disableWorkerMessageHandler||r.addEventListener("message",function(C){var N=JSON.parse(C.data),F=N.language,D=N.code,U=N.immediateClose;r.postMessage(o.highlight(D,o.languages[F],F)),U&&r.close()},!1)),o;var w=o.util.currentScript();w&&(o.filename=w.src,w.hasAttribute("data-manual")&&(o.manual=!0));function k(){o.manual||o.highlightAll()}if(!o.manual){var T=document.readyState;T==="loading"||T==="interactive"&&w&&w.defer?document.addEventListener("DOMContentLoaded",k):window.requestAnimationFrame?window.requestAnimationFrame(k):window.setTimeout(k,16)}return o}(e);t.exports&&(t.exports=n),typeof t1<"u"&&(t1.Prism=n)}(YO)),YO.exports}var XO,AY;function C7e(){if(AY)return XO;AY=1,XO=t,t.displayName="markup",t.aliases=["html","mathml","svg","xml","ssml","atom","rss"];function t(e){e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(r,i){var a={};a["language-"+i]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[i]},a.cdata=/^<!\[CDATA\[|\]\]>$/i;var s={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:a}};s["language-"+i]={pattern:/[\s\S]+/,inside:e.languages[i]};var o={};o[r]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return r}),"i"),lookbehind:!0,greedy:!0,inside:s},e.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(n,r){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[r,"language-"+r],inside:e.languages[r]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml}return XO}var ZO,CY;function R7e(){if(CY)return ZO;CY=1,ZO=t,t.displayName="css",t.aliases=[];function t(e){(function(n){var r=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+r.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+r.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+r.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:r,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var i=n.languages.markup;i&&(i.tag.addInlined("style","css"),i.tag.addAttribute("style","css"))})(e)}return ZO}var QO,RY;function I7e(){if(RY)return QO;RY=1,QO=t,t.displayName="clike",t.aliases=[];function t(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}return QO}var JO,IY;function N7e(){if(IY)return JO;IY=1,JO=t,t.displayName="javascript",t.aliases=["js"];function t(e){e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}return JO}var e4,NY;function O7e(){if(NY)return e4;NY=1;var t=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof t1=="object"?t1:{},e=D();t.Prism={manual:!0,disableWorkerMessageHandler:!0};var n=_5e(),r=T7e(),i=A7e(),a=C7e(),s=R7e(),o=I7e(),l=N7e();e();var u={}.hasOwnProperty;function d(){}d.prototype=i;var h=new d;e4=h,h.highlight=v,h.register=p,h.alias=m,h.registered=w,h.listLanguages=k,p(a),p(s),p(o),p(l),h.util.encode=N,h.Token.stringify=T;function p(U){if(typeof U!="function"||!U.displayName)throw new Error("Expected `function` for `grammar`, got `"+U+"`");h.languages[U.displayName]===void 0&&U(h)}function m(U,G){var se=h.languages,re=U,Q,ce,Ie,qe;G&&(re={},re[U]=G);for(Q in re)for(ce=re[Q],ce=typeof ce=="string"?[ce]:ce,Ie=ce.length,qe=-1;++qe<Ie;)se[ce[qe]]=se[Q]}function v(U,G){var se=i.highlight,re;if(typeof U!="string")throw new Error("Expected `string` for `value`, got `"+U+"`");if(h.util.type(G)==="Object")re=G,G=null;else{if(typeof G!="string")throw new Error("Expected `string` for `name`, got `"+G+"`");if(u.call(h.languages,G))re=h.languages[G];else throw new Error("Unknown language: `"+G+"` is not registered")}return se.call(this,U,re,G)}function w(U){if(typeof U!="string")throw new Error("Expected `string` for `language`, got `"+U+"`");return u.call(h.languages,U)}function k(){var U=h.languages,G=[],se;for(se in U)u.call(U,se)&&typeof U[se]=="object"&&G.push(se);return G}function T(U,G,se){var re;return typeof U=="string"?{type:"text",value:U}:h.util.type(U)==="Array"?C(U,G):(re={type:U.type,content:h.Token.stringify(U.content,G,se),tag:"span",classes:["token",U.type],attributes:{},language:G,parent:se},U.alias&&(re.classes=re.classes.concat(U.alias)),h.hooks.run("wrap",re),n(re.tag+"."+re.classes.join("."),F(re.attributes),re.content))}function C(U,G){for(var se=[],re=U.length,Q=-1,ce;++Q<re;)ce=U[Q],ce!==""&&ce!==null&&ce!==void 0&&se.push(ce);for(Q=-1,re=se.length;++Q<re;)ce=se[Q],se[Q]=h.Token.stringify(ce,G,se);return se}function N(U){return U}function F(U){var G;for(G in U)U[G]=r(U[G]);return U}function D(){var U="Prism"in t,G=U?t.Prism:void 0;return se;function se(){U?t.Prism=G:delete t.Prism,U=void 0,G=void 0}}return e4}const M7e={'code[class*="language-"]':{color:"black",background:"none",textShadow:"0 1px white",fontFamily:"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace",fontSize:"1em",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{color:"black",background:"#f5f2f0",textShadow:"0 1px white",fontFamily:"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace",fontSize:"1em",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:".5em 0",overflow:"auto"},'pre[class*="language-"]::-moz-selection':{textShadow:"none",background:"#b3d4fc"},'pre[class*="language-"] ::-moz-selection':{textShadow:"none",background:"#b3d4fc"},'code[class*="language-"]::-moz-selection':{textShadow:"none",background:"#b3d4fc"},'code[class*="language-"] ::-moz-selection':{textShadow:"none",background:"#b3d4fc"},'pre[class*="language-"]::selection':{textShadow:"none",background:"#b3d4fc"},'pre[class*="language-"] ::selection':{textShadow:"none",background:"#b3d4fc"},'code[class*="language-"]::selection':{textShadow:"none",background:"#b3d4fc"},'code[class*="language-"] ::selection':{textShadow:"none",background:"#b3d4fc"},':not(pre) > code[class*="language-"]':{background:"#f5f2f0",padding:".1em",borderRadius:".3em",whiteSpace:"normal"},comment:{color:"slategray"},prolog:{color:"slategray"},doctype:{color:"slategray"},cdata:{color:"slategray"},punctuation:{color:"#999"},namespace:{Opacity:".7"},property:{color:"#905"},tag:{color:"#905"},boolean:{color:"#905"},number:{color:"#905"},constant:{color:"#905"},symbol:{color:"#905"},deleted:{color:"#905"},selector:{color:"#690"},"attr-name":{color:"#690"},string:{color:"#690"},char:{color:"#690"},builtin:{color:"#690"},inserted:{color:"#690"},operator:{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)"},entity:{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)",cursor:"help"},url:{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)"},".language-css .token.string":{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)"},".style .token.string":{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)"},atrule:{color:"#07a"},"attr-value":{color:"#07a"},keyword:{color:"#07a"},function:{color:"#DD4A68"},"class-name":{color:"#DD4A68"},regex:{color:"#e90"},important:{color:"#e90",fontWeight:"bold"},variable:{color:"#e90"},bold:{fontWeight:"bold"},italic:{fontStyle:"italic"}};var t4,OY;function P7e(){if(OY)return t4;OY=1,t4=t,t.displayName="abap",t.aliases=[];function t(e){e.languages.abap={comment:/^\*.*/m,string:/(`|')(?:\\.|(?!\1)[^\\\r\n])*\1/,"string-template":{pattern:/([|}])(?:\\.|[^\\|{\r\n])*(?=[|{])/,lookbehind:!0,alias:"string"},"eol-comment":{pattern:/(^|\s)".*/m,lookbehind:!0,alias:"comment"},keyword:{pattern:/(\s|\.|^)(?:SCIENTIFIC_WITH_LEADING_ZERO|SCALE_PRESERVING_SCIENTIFIC|RMC_COMMUNICATION_FAILURE|END-ENHANCEMENT-SECTION|MULTIPLY-CORRESPONDING|SUBTRACT-CORRESPONDING|VERIFICATION-MESSAGE|DIVIDE-CORRESPONDING|ENHANCEMENT-SECTION|CURRENCY_CONVERSION|RMC_SYSTEM_FAILURE|START-OF-SELECTION|MOVE-CORRESPONDING|RMC_INVALID_STATUS|CUSTOMER-FUNCTION|END-OF-DEFINITION|ENHANCEMENT-POINT|SYSTEM-EXCEPTIONS|ADD-CORRESPONDING|SCALE_PRESERVING|SELECTION-SCREEN|CURSOR-SELECTION|END-OF-SELECTION|LOAD-OF-PROGRAM|SCROLL-BOUNDARY|SELECTION-TABLE|EXCEPTION-TABLE|IMPLEMENTATIONS|PARAMETER-TABLE|RIGHT-JUSTIFIED|UNIT_CONVERSION|AUTHORITY-CHECK|LIST-PROCESSING|SIGN_AS_POSTFIX|COL_BACKGROUND|IMPLEMENTATION|INTERFACE-POOL|TRANSFORMATION|IDENTIFICATION|ENDENHANCEMENT|LINE-SELECTION|INITIALIZATION|LEFT-JUSTIFIED|SELECT-OPTIONS|SELECTION-SETS|COMMUNICATION|CORRESPONDING|DECIMAL_SHIFT|PRINT-CONTROL|VALUE-REQUEST|CHAIN-REQUEST|FUNCTION-POOL|FIELD-SYMBOLS|FUNCTIONALITY|INVERTED-DATE|SELECTION-SET|CLASS-METHODS|OUTPUT-LENGTH|CLASS-CODING|COL_NEGATIVE|ERRORMESSAGE|FIELD-GROUPS|HELP-REQUEST|NO-EXTENSION|NO-TOPOFPAGE|REDEFINITION|DISPLAY-MODE|ENDINTERFACE|EXIT-COMMAND|FIELD-SYMBOL|NO-SCROLLING|SHORTDUMP-ID|ACCESSPOLICY|CLASS-EVENTS|COL_POSITIVE|DECLARATIONS|ENHANCEMENTS|FILTER-TABLE|SWITCHSTATES|SYNTAX-CHECK|TRANSPORTING|ASYNCHRONOUS|SYNTAX-TRACE|TOKENIZATION|USER-COMMAND|WITH-HEADING|ABAP-SOURCE|BREAK-POINT|CHAIN-INPUT|COMPRESSION|FIXED-POINT|NEW-SECTION|NON-UNICODE|OCCURRENCES|RESPONSIBLE|SYSTEM-CALL|TRACE-TABLE|ABBREVIATED|CHAR-TO-HEX|END-OF-FILE|ENDFUNCTION|ENVIRONMENT|ASSOCIATION|COL_HEADING|EDITOR-CALL|END-OF-PAGE|ENGINEERING|IMPLEMENTED|INTENSIFIED|RADIOBUTTON|SYSTEM-EXIT|TOP-OF-PAGE|TRANSACTION|APPLICATION|CONCATENATE|DESTINATION|ENHANCEMENT|IMMEDIATELY|NO-GROUPING|PRECOMPILED|REPLACEMENT|TITLE-LINES|ACTIVATION|BYTE-ORDER|CLASS-POOL|CONNECTION|CONVERSION|DEFINITION|DEPARTMENT|EXPIRATION|INHERITING|MESSAGE-ID|NO-HEADING|PERFORMING|QUEUE-ONLY|RIGHTSPACE|SCIENTIFIC|STATUSINFO|STRUCTURES|SYNCPOINTS|WITH-TITLE|ATTRIBUTES|BOUNDARIES|CLASS-DATA|COL_NORMAL|DD\/MM\/YYYY|DESCENDING|INTERFACES|LINE-COUNT|MM\/DD\/YYYY|NON-UNIQUE|PRESERVING|SELECTIONS|STATEMENTS|SUBROUTINE|TRUNCATION|TYPE-POOLS|ARITHMETIC|BACKGROUND|ENDPROVIDE|EXCEPTIONS|IDENTIFIER|INDEX-LINE|OBLIGATORY|PARAMETERS|PERCENTAGE|PUSHBUTTON|RESOLUTION|COMPONENTS|DEALLOCATE|DISCONNECT|DUPLICATES|FIRST-LINE|HEAD-LINES|NO-DISPLAY|OCCURRENCE|RESPECTING|RETURNCODE|SUBMATCHES|TRACE-FILE|ASCENDING|BYPASSING|ENDMODULE|EXCEPTION|EXCLUDING|EXPORTING|INCREMENT|MATCHCODE|PARAMETER|PARTIALLY|PREFERRED|REFERENCE|REPLACING|RETURNING|SELECTION|SEPARATED|SPECIFIED|STATEMENT|TIMESTAMP|TYPE-POOL|ACCEPTING|APPENDAGE|ASSIGNING|COL_GROUP|COMPARING|CONSTANTS|DANGEROUS|IMPORTING|INSTANCES|LEFTSPACE|LOG-POINT|QUICKINFO|READ-ONLY|SCROLLING|SQLSCRIPT|STEP-LOOP|TOP-LINES|TRANSLATE|APPENDING|AUTHORITY|CHARACTER|COMPONENT|CONDITION|DIRECTORY|DUPLICATE|MESSAGING|RECEIVING|SUBSCREEN|ACCORDING|COL_TOTAL|END-LINES|ENDMETHOD|ENDSELECT|EXPANDING|EXTENSION|INCLUDING|INFOTYPES|INTERFACE|INTERVALS|LINE-SIZE|PF-STATUS|PROCEDURE|PROTECTED|REQUESTED|RESUMABLE|RIGHTPLUS|SAP-SPOOL|SECONDARY|STRUCTURE|SUBSTRING|TABLEVIEW|NUMOFCHAR|ADJACENT|ANALYSIS|ASSIGNED|BACKWARD|CHANNELS|CHECKBOX|CONTINUE|CRITICAL|DATAINFO|DD\/MM\/YY|DURATION|ENCODING|ENDCLASS|FUNCTION|LEFTPLUS|LINEFEED|MM\/DD\/YY|OVERFLOW|RECEIVED|SKIPPING|SORTABLE|STANDARD|SUBTRACT|SUPPRESS|TABSTRIP|TITLEBAR|TRUNCATE|UNASSIGN|WHENEVER|ANALYZER|COALESCE|COMMENTS|CONDENSE|DECIMALS|DEFERRED|ENDWHILE|EXPLICIT|KEYWORDS|MESSAGES|POSITION|PRIORITY|RECEIVER|RENAMING|TIMEZONE|TRAILING|ALLOCATE|CENTERED|CIRCULAR|CONTROLS|CURRENCY|DELETING|DESCRIBE|DISTANCE|ENDCATCH|EXPONENT|EXTENDED|GENERATE|IGNORING|INCLUDES|INTERNAL|MAJOR-ID|MODIFIER|NEW-LINE|OPTIONAL|PROPERTY|ROLLBACK|STARTING|SUPPLIED|ABSTRACT|CHANGING|CONTEXTS|CREATING|CUSTOMER|DATABASE|DAYLIGHT|DEFINING|DISTINCT|DIVISION|ENABLING|ENDCHAIN|ESCAPING|HARMLESS|IMPLICIT|INACTIVE|LANGUAGE|MINOR-ID|MULTIPLY|NEW-PAGE|NO-TITLE|POS_HIGH|SEPARATE|TEXTPOOL|TRANSFER|SELECTOR|DBMAXLEN|ITERATOR|ARCHIVE|BIT-XOR|BYTE-CO|COLLECT|COMMENT|CURRENT|DEFAULT|DISPLAY|ENDFORM|EXTRACT|LEADING|LISTBOX|LOCATOR|MEMBERS|METHODS|NESTING|POS_LOW|PROCESS|PROVIDE|RAISING|RESERVE|SECONDS|SUMMARY|VISIBLE|BETWEEN|BIT-AND|BYTE-CS|CLEANUP|COMPUTE|CONTROL|CONVERT|DATASET|ENDCASE|FORWARD|HEADERS|HOTSPOT|INCLUDE|INVERSE|KEEPING|NO-ZERO|OBJECTS|OVERLAY|PADDING|PATTERN|PROGRAM|REFRESH|SECTION|SUMMING|TESTING|VERSION|WINDOWS|WITHOUT|BIT-NOT|BYTE-CA|BYTE-NA|CASTING|CONTEXT|COUNTRY|DYNAMIC|ENABLED|ENDLOOP|EXECUTE|FRIENDS|HANDLER|HEADING|INITIAL|\*-INPUT|LOGFILE|MAXIMUM|MINIMUM|NO-GAPS|NO-SIGN|PRAGMAS|PRIMARY|PRIVATE|REDUCED|REPLACE|REQUEST|RESULTS|UNICODE|WARNING|ALIASES|BYTE-CN|BYTE-NS|CALLING|COL_KEY|COLUMNS|CONNECT|ENDEXEC|ENTRIES|EXCLUDE|FILTERS|FURTHER|HELP-ID|LOGICAL|MAPPING|MESSAGE|NAMETAB|OPTIONS|PACKAGE|PERFORM|RECEIVE|STATICS|VARYING|BINDING|CHARLEN|GREATER|XSTRLEN|ACCEPT|APPEND|DETAIL|ELSEIF|ENDING|ENDTRY|FORMAT|FRAMES|GIVING|HASHED|HEADER|IMPORT|INSERT|MARGIN|MODULE|NATIVE|OBJECT|OFFSET|REMOTE|RESUME|SAVING|SIMPLE|SUBMIT|TABBED|TOKENS|UNIQUE|UNPACK|UPDATE|WINDOW|YELLOW|ACTUAL|ASPECT|CENTER|CURSOR|DELETE|DIALOG|DIVIDE|DURING|ERRORS|EVENTS|EXTEND|FILTER|HANDLE|HAVING|IGNORE|LITTLE|MEMORY|NO-GAP|OCCURS|OPTION|PERSON|PLACES|PUBLIC|REDUCE|REPORT|RESULT|SINGLE|SORTED|SWITCH|SYNTAX|TARGET|VALUES|WRITER|ASSERT|BLOCKS|BOUNDS|BUFFER|CHANGE|COLUMN|COMMIT|CONCAT|COPIES|CREATE|DDMMYY|DEFINE|ENDIAN|ESCAPE|EXPAND|KERNEL|LAYOUT|LEGACY|LEVELS|MMDDYY|NUMBER|OUTPUT|RANGES|READER|RETURN|SCREEN|SEARCH|SELECT|SHARED|SOURCE|STABLE|STATIC|SUBKEY|SUFFIX|TABLES|UNWIND|YYMMDD|ASSIGN|BACKUP|BEFORE|BINARY|BIT-OR|BLANKS|CLIENT|CODING|COMMON|DEMAND|DYNPRO|EXCEPT|EXISTS|EXPORT|FIELDS|GLOBAL|GROUPS|LENGTH|LOCALE|MEDIUM|METHOD|MODIFY|NESTED|OTHERS|REJECT|SCROLL|SUPPLY|SYMBOL|ENDFOR|STRLEN|ALIGN|BEGIN|BOUND|ENDAT|ENTRY|EVENT|FINAL|FLUSH|GRANT|INNER|SHORT|USING|WRITE|AFTER|BLACK|BLOCK|CLOCK|COLOR|COUNT|DUMMY|EMPTY|ENDDO|ENDON|GREEN|INDEX|INOUT|LEAVE|LEVEL|LINES|MODIF|ORDER|OUTER|RANGE|RESET|RETRY|RIGHT|SMART|SPLIT|STYLE|TABLE|THROW|UNDER|UNTIL|UPPER|UTF-8|WHERE|ALIAS|BLANK|CLEAR|CLOSE|EXACT|FETCH|FIRST|FOUND|GROUP|LLANG|LOCAL|OTHER|REGEX|SPOOL|TITLE|TYPES|VALID|WHILE|ALPHA|BOXED|CATCH|CHAIN|CHECK|CLASS|COVER|ENDIF|EQUIV|FIELD|FLOOR|FRAME|INPUT|LOWER|MATCH|NODES|PAGES|PRINT|RAISE|ROUND|SHIFT|SPACE|SPOTS|STAMP|STATE|TASKS|TIMES|TRMAC|ULINE|UNION|VALUE|WIDTH|EQUAL|LOG10|TRUNC|BLOB|CASE|CEIL|CLOB|COND|EXIT|FILE|GAPS|HOLD|INCL|INTO|KEEP|KEYS|LAST|LINE|LONG|LPAD|MAIL|MODE|OPEN|PINK|READ|ROWS|TEST|THEN|ZERO|AREA|BACK|BADI|BYTE|CAST|EDIT|EXEC|FAIL|FIND|FKEQ|FONT|FREE|GKEQ|HIDE|INIT|ITNO|LATE|LOOP|MAIN|MARK|MOVE|NEXT|NULL|RISK|ROLE|UNIT|WAIT|ZONE|BASE|CALL|CODE|DATA|DATE|FKGE|GKGE|HIGH|KIND|LEFT|LIST|MASK|MESH|NAME|NODE|PACK|PAGE|POOL|SEND|SIGN|SIZE|SOME|STOP|TASK|TEXT|TIME|USER|VARY|WITH|WORD|BLUE|CONV|COPY|DEEP|ELSE|FORM|FROM|HINT|ICON|JOIN|LIKE|LOAD|ONLY|PART|SCAN|SKIP|SORT|TYPE|UNIX|VIEW|WHEN|WORK|ACOS|ASIN|ATAN|COSH|EACH|FRAC|LESS|RTTI|SINH|SQRT|TANH|AVG|BIT|DIV|ISO|LET|OUT|PAD|SQL|ALL|CI_|CPI|END|LOB|LPI|MAX|MIN|NEW|OLE|RUN|SET|\?TO|YES|ABS|ADD|AND|BIG|FOR|HDB|JOB|LOW|NOT|SAP|TRY|VIA|XML|ANY|GET|IDS|KEY|MOD|OFF|PUT|RAW|RED|REF|SUM|TAB|XSD|CNT|COS|EXP|LOG|SIN|TAN|XOR|AT|CO|CP|DO|GT|ID|IF|NS|OR|BT|CA|CS|GE|NA|NB|EQ|IN|LT|NE|NO|OF|ON|PF|TO|AS|BY|CN|IS|LE|NP|UP|E|I|M|O|Z|C|X)\b/i,lookbehind:!0},number:/\b\d+\b/,operator:{pattern:/(\s)(?:\*\*?|<[=>]?|>=?|\?=|[-+\/=])(?=\s)/,lookbehind:!0},"string-operator":{pattern:/(\s)&&?(?=\s)/,lookbehind:!0,alias:"keyword"},"token-operator":[{pattern:/(\w)(?:->?|=>|[~|{}])(?=\w)/,lookbehind:!0,alias:"punctuation"},{pattern:/[|{}]/,alias:"punctuation"}],punctuation:/[,.:()]/}}return t4}var n4,MY;function L7e(){if(MY)return n4;MY=1,n4=t,t.displayName="abnf",t.aliases=[];function t(e){(function(n){var r="(?:ALPHA|BIT|CHAR|CR|CRLF|CTL|DIGIT|DQUOTE|HEXDIG|HTAB|LF|LWSP|OCTET|SP|VCHAR|WSP)";n.languages.abnf={comment:/;.*/,string:{pattern:/(?:%[is])?"[^"\n\r]*"/,greedy:!0,inside:{punctuation:/^%[is]/}},range:{pattern:/%(?:b[01]+-[01]+|d\d+-\d+|x[A-F\d]+-[A-F\d]+)/i,alias:"number"},terminal:{pattern:/%(?:b[01]+(?:\.[01]+)*|d\d+(?:\.\d+)*|x[A-F\d]+(?:\.[A-F\d]+)*)/i,alias:"number"},repetition:{pattern:/(^|[^\w-])(?:\d*\*\d*|\d+)/,lookbehind:!0,alias:"operator"},definition:{pattern:/(^[ \t]*)(?:[a-z][\w-]*|<[^<>\r\n]*>)(?=\s*=)/m,lookbehind:!0,alias:"keyword",inside:{punctuation:/<|>/}},"core-rule":{pattern:RegExp("(?:(^|[^<\\w-])"+r+"|<"+r+">)(?![\\w-])","i"),lookbehind:!0,alias:["rule","constant"],inside:{punctuation:/<|>/}},rule:{pattern:/(^|[^<\w-])[a-z][\w-]*|<[^<>\r\n]*>/i,lookbehind:!0,inside:{punctuation:/<|>/}},operator:/=\/?|\//,punctuation:/[()\[\]]/}})(e)}return n4}var r4,PY;function D7e(){if(PY)return r4;PY=1,r4=t,t.displayName="actionscript",t.aliases=[];function t(e){e.languages.actionscript=e.languages.extend("javascript",{keyword:/\b(?:as|break|case|catch|class|const|default|delete|do|dynamic|each|else|extends|final|finally|for|function|get|if|implements|import|in|include|instanceof|interface|internal|is|namespace|native|new|null|override|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|use|var|void|while|with)\b/,operator:/\+\+|--|(?:[+\-*\/%^]|&&?|\|\|?|<<?|>>?>?|[!=]=?)=?|[~?@]/}),e.languages.actionscript["class-name"].alias="function",delete e.languages.actionscript.parameter,delete e.languages.actionscript["literal-property"],e.languages.markup&&e.languages.insertBefore("actionscript","string",{xml:{pattern:/(^|[^.])<\/?\w+(?:\s+[^\s>\/=]+=("|')(?:\\[\s\S]|(?!\2)[^\\])*\2)*\s*\/?>/,lookbehind:!0,inside:e.languages.markup}})}return r4}var i4,LY;function F7e(){if(LY)return i4;LY=1,i4=t,t.displayName="ada",t.aliases=[];function t(e){e.languages.ada={comment:/--.*/,string:/"(?:""|[^"\r\f\n])*"/,number:[{pattern:/\b\d(?:_?\d)*#[\dA-F](?:_?[\dA-F])*(?:\.[\dA-F](?:_?[\dA-F])*)?#(?:E[+-]?\d(?:_?\d)*)?/i},{pattern:/\b\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:E[+-]?\d(?:_?\d)*)?\b/i}],"attr-name":/\b'\w+/,keyword:/\b(?:abort|abs|abstract|accept|access|aliased|all|and|array|at|begin|body|case|constant|declare|delay|delta|digits|do|else|elsif|end|entry|exception|exit|for|function|generic|goto|if|in|interface|is|limited|loop|mod|new|not|null|of|others|out|overriding|package|pragma|private|procedure|protected|raise|range|record|rem|renames|requeue|return|reverse|select|separate|some|subtype|synchronized|tagged|task|terminate|then|type|until|use|when|while|with|xor)\b/i,boolean:/\b(?:false|true)\b/i,operator:/<[=>]?|>=?|=>?|:=|\/=?|\*\*?|[&+-]/,punctuation:/\.\.?|[,;():]/,char:/'.'/,variable:/\b[a-z](?:\w)*\b/i}}return i4}var a4,DY;function B7e(){if(DY)return a4;DY=1,a4=t,t.displayName="agda",t.aliases=[];function t(e){(function(n){n.languages.agda={comment:/\{-[\s\S]*?(?:-\}|$)|--.*/,string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},punctuation:/[(){}⦃⦄.;@]/,"class-name":{pattern:/((?:data|record) +)\S+/,lookbehind:!0},function:{pattern:/(^[ \t]*)(?!\s)[^:\r\n]+(?=:)/m,lookbehind:!0},operator:{pattern:/(^\s*|\s)(?:[=|:∀→λ\\?_]|->)(?=\s)/,lookbehind:!0},keyword:/\b(?:Set|abstract|constructor|data|eta-equality|field|forall|hiding|import|in|inductive|infix|infixl|infixr|instance|let|macro|module|mutual|no-eta-equality|open|overlap|pattern|postulate|primitive|private|public|quote|quoteContext|quoteGoal|quoteTerm|record|renaming|rewrite|syntax|tactic|unquote|unquoteDecl|unquoteDef|using|variable|where|with)\b/}})(e)}return a4}var s4,FY;function U7e(){if(FY)return s4;FY=1,s4=t,t.displayName="al",t.aliases=[];function t(e){e.languages.al={comment:/\/\/.*|\/\*[\s\S]*?\*\//,string:{pattern:/'(?:''|[^'\r\n])*'(?!')|"(?:""|[^"\r\n])*"(?!")/,greedy:!0},function:{pattern:/(\b(?:event|procedure|trigger)\s+|(?:^|[^.])\.\s*)[a-z_]\w*(?=\s*\()/i,lookbehind:!0},keyword:[/\b(?:array|asserterror|begin|break|case|do|downto|else|end|event|exit|for|foreach|function|if|implements|in|indataset|interface|internal|local|of|procedure|program|protected|repeat|runonclient|securityfiltering|suppressdispose|temporary|then|to|trigger|until|var|while|with|withevents)\b/i,/\b(?:action|actions|addafter|addbefore|addfirst|addlast|area|assembly|chartpart|codeunit|column|controladdin|cuegroup|customizes|dataitem|dataset|dotnet|elements|enum|enumextension|extends|field|fieldattribute|fieldelement|fieldgroup|fieldgroups|fields|filter|fixed|grid|group|key|keys|label|labels|layout|modify|moveafter|movebefore|movefirst|movelast|page|pagecustomization|pageextension|part|profile|query|repeater|report|requestpage|schema|separator|systempart|table|tableelement|tableextension|textattribute|textelement|type|usercontrol|value|xmlport)\b/i],number:/\b(?:0x[\da-f]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?)(?:F|LL?|U(?:LL?)?)?\b/i,boolean:/\b(?:false|true)\b/i,variable:/\b(?:Curr(?:FieldNo|Page|Report)|x?Rec|RequestOptionsPage)\b/,"class-name":/\b(?:automation|biginteger|bigtext|blob|boolean|byte|char|clienttype|code|completiontriggererrorlevel|connectiontype|database|dataclassification|datascope|date|dateformula|datetime|decimal|defaultlayout|dialog|dictionary|dotnetassembly|dotnettypedeclaration|duration|errorinfo|errortype|executioncontext|executionmode|fieldclass|fieldref|fieldtype|file|filterpagebuilder|guid|httpclient|httpcontent|httpheaders|httprequestmessage|httpresponsemessage|instream|integer|joker|jsonarray|jsonobject|jsontoken|jsonvalue|keyref|list|moduledependencyinfo|moduleinfo|none|notification|notificationscope|objecttype|option|outstream|pageresult|record|recordid|recordref|reportformat|securityfilter|sessionsettings|tableconnectiontype|tablefilter|testaction|testfield|testfilterfield|testpage|testpermissions|testrequestpage|text|textbuilder|textconst|textencoding|time|transactionmodel|transactiontype|variant|verbosity|version|view|views|webserviceactioncontext|webserviceactionresultcode|xmlattribute|xmlattributecollection|xmlcdata|xmlcomment|xmldeclaration|xmldocument|xmldocumenttype|xmlelement|xmlnamespacemanager|xmlnametable|xmlnode|xmlnodelist|xmlprocessinginstruction|xmlreadoptions|xmltext|xmlwriteoptions)\b/i,operator:/\.\.|:[=:]|[-+*/]=?|<>|[<>]=?|=|\b(?:and|div|mod|not|or|xor)\b/i,punctuation:/[()\[\]{}:.;,]/}}return s4}var o4,BY;function j7e(){if(BY)return o4;BY=1,o4=t,t.displayName="antlr4",t.aliases=["g4"];function t(e){e.languages.antlr4={comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,string:{pattern:/'(?:\\.|[^\\'\r\n])*'/,greedy:!0},"character-class":{pattern:/\[(?:\\.|[^\\\]\r\n])*\]/,greedy:!0,alias:"regex",inside:{range:{pattern:/([^[]|(?:^|[^\\])(?:\\\\)*\\\[)-(?!\])/,lookbehind:!0,alias:"punctuation"},escape:/\\(?:u(?:[a-fA-F\d]{4}|\{[a-fA-F\d]+\})|[pP]\{[=\w-]+\}|[^\r\nupP])/,punctuation:/[\[\]]/}},action:{pattern:/\{(?:[^{}]|\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*\}/,greedy:!0,inside:{content:{pattern:/(\{)[\s\S]+(?=\})/,lookbehind:!0},punctuation:/[{}]/}},command:{pattern:/(->\s*(?!\s))(?:\s*(?:,\s*)?\b[a-z]\w*(?:\s*\([^()\r\n]*\))?)+(?=\s*;)/i,lookbehind:!0,inside:{function:/\b\w+(?=\s*(?:[,(]|$))/,punctuation:/[,()]/}},annotation:{pattern:/@\w+(?:::\w+)*/,alias:"keyword"},label:{pattern:/#[ \t]*\w+/,alias:"punctuation"},keyword:/\b(?:catch|channels|finally|fragment|grammar|import|lexer|locals|mode|options|parser|returns|throws|tokens)\b/,definition:[{pattern:/\b[a-z]\w*(?=\s*:)/,alias:["rule","class-name"]},{pattern:/\b[A-Z]\w*(?=\s*:)/,alias:["token","constant"]}],constant:/\b[A-Z][A-Z_]*\b/,operator:/\.\.|->|[|~]|[*+?]\??/,punctuation:/[;:()=]/},e.languages.g4=e.languages.antlr4}return o4}var l4,UY;function z7e(){if(UY)return l4;UY=1,l4=t,t.displayName="apacheconf",t.aliases=[];function t(e){e.languages.apacheconf={comment:/#.*/,"directive-inline":{pattern:/(^[\t ]*)\b(?:AcceptFilter|AcceptPathInfo|AccessFileName|Action|Add(?:Alt|AltByEncoding|AltByType|Charset|DefaultCharset|Description|Encoding|Handler|Icon|IconByEncoding|IconByType|InputFilter|Language|ModuleInfo|OutputFilter|OutputFilterByType|Type)|Alias|AliasMatch|Allow(?:CONNECT|EncodedSlashes|Methods|Override|OverrideList)?|Anonymous(?:_LogEmail|_MustGiveEmail|_NoUserID|_VerifyEmail)?|AsyncRequestWorkerFactor|Auth(?:BasicAuthoritative|BasicFake|BasicProvider|BasicUseDigestAlgorithm|DBDUserPWQuery|DBDUserRealmQuery|DBMGroupFile|DBMType|DBMUserFile|Digest(?:Algorithm|Domain|NonceLifetime|Provider|Qop|ShmemSize)|Form(?:Authoritative|Body|DisableNoStore|FakeBasicAuth|Location|LoginRequiredLocation|LoginSuccessLocation|LogoutLocation|Method|Mimetype|Password|Provider|SitePassphrase|Size|Username)|GroupFile|LDAP(?:AuthorizePrefix|BindAuthoritative|BindDN|BindPassword|CharsetConfig|CompareAsUser|CompareDNOnServer|DereferenceAliases|GroupAttribute|GroupAttributeIsDN|InitialBindAsUser|InitialBindPattern|MaxSubGroupDepth|RemoteUserAttribute|RemoteUserIsDN|SearchAsUser|SubGroupAttribute|SubGroupClass|Url)|Merging|Name|nCache(?:Context|Enable|ProvideFor|SOCache|Timeout)|nzFcgiCheckAuthnProvider|nzFcgiDefineProvider|Type|UserFile|zDBDLoginToReferer|zDBDQuery|zDBDRedirectQuery|zDBMType|zSendForbiddenOnFailure)|BalancerGrowth|BalancerInherit|BalancerMember|BalancerPersist|BrowserMatch|BrowserMatchNoCase|BufferedLogs|BufferSize|Cache(?:DefaultExpire|DetailHeader|DirLength|DirLevels|Disable|Enable|File|Header|IgnoreCacheControl|IgnoreHeaders|IgnoreNoLastMod|IgnoreQueryString|IgnoreURLSessionIdentifiers|KeyBaseURL|LastModifiedFactor|Lock|LockMaxAge|LockPath|MaxExpire|MaxFileSize|MinExpire|MinFileSize|NegotiatedDocs|QuickHandler|ReadSize|ReadTime|Root|Socache(?:MaxSize|MaxTime|MinTime|ReadSize|ReadTime)?|StaleOnError|StoreExpired|StoreNoStore|StorePrivate)|CGIDScriptTimeout|CGIMapExtension|CharsetDefault|CharsetOptions|CharsetSourceEnc|CheckCaseOnly|CheckSpelling|ChrootDir|ContentDigest|CookieDomain|CookieExpires|CookieName|CookieStyle|CookieTracking|CoreDumpDirectory|CustomLog|Dav|DavDepthInfinity|DavGenericLockDB|DavLockDB|DavMinTimeout|DBDExptime|DBDInitSQL|DBDKeep|DBDMax|DBDMin|DBDParams|DBDPersist|DBDPrepareSQL|DBDriver|DefaultIcon|DefaultLanguage|DefaultRuntimeDir|DefaultType|Define|Deflate(?:BufferSize|CompressionLevel|FilterNote|InflateLimitRequestBody|InflateRatio(?:Burst|Limit)|MemLevel|WindowSize)|Deny|DirectoryCheckHandler|DirectoryIndex|DirectoryIndexRedirect|DirectorySlash|DocumentRoot|DTracePrivileges|DumpIOInput|DumpIOOutput|EnableExceptionHook|EnableMMAP|EnableSendfile|Error|ErrorDocument|ErrorLog|ErrorLogFormat|Example|ExpiresActive|ExpiresByType|ExpiresDefault|ExtendedStatus|ExtFilterDefine|ExtFilterOptions|FallbackResource|FileETag|FilterChain|FilterDeclare|FilterProtocol|FilterProvider|FilterTrace|ForceLanguagePriority|ForceType|ForensicLog|GprofDir|GracefulShutdownTimeout|Group|Header|HeaderName|Heartbeat(?:Address|Listen|MaxServers|Storage)|HostnameLookups|IdentityCheck|IdentityCheckTimeout|ImapBase|ImapDefault|ImapMenu|Include|IncludeOptional|Index(?:HeadInsert|Ignore|IgnoreReset|Options|OrderDefault|StyleSheet)|InputSed|ISAPI(?:AppendLogToErrors|AppendLogToQuery|CacheFile|FakeAsync|LogNotSupported|ReadAheadBuffer)|KeepAlive|KeepAliveTimeout|KeptBodySize|LanguagePriority|LDAP(?:CacheEntries|CacheTTL|ConnectionPoolTTL|ConnectionTimeout|LibraryDebug|OpCacheEntries|OpCacheTTL|ReferralHopLimit|Referrals|Retries|RetryDelay|SharedCacheFile|SharedCacheSize|Timeout|TrustedClientCert|TrustedGlobalCert|TrustedMode|VerifyServerCert)|Limit(?:InternalRecursion|Request(?:Body|Fields|FieldSize|Line)|XMLRequestBody)|Listen|ListenBackLog|LoadFile|LoadModule|LogFormat|LogLevel|LogMessage|LuaAuthzProvider|LuaCodeCache|Lua(?:Hook(?:AccessChecker|AuthChecker|CheckUserID|Fixups|InsertFilter|Log|MapToStorage|TranslateName|TypeChecker)|Inherit|InputFilter|MapHandler|OutputFilter|PackageCPath|PackagePath|QuickHandler|Root|Scope)|Max(?:ConnectionsPerChild|KeepAliveRequests|MemFree|RangeOverlaps|RangeReversals|Ranges|RequestWorkers|SpareServers|SpareThreads|Threads)|MergeTrailers|MetaDir|MetaFiles|MetaSuffix|MimeMagicFile|MinSpareServers|MinSpareThreads|MMapFile|ModemStandard|ModMimeUsePathInfo|MultiviewsMatch|Mutex|NameVirtualHost|NoProxy|NWSSLTrustedCerts|NWSSLUpgradeable|Options|Order|OutputSed|PassEnv|PidFile|PrivilegesMode|Protocol|ProtocolEcho|Proxy(?:AddHeaders|BadHeader|Block|Domain|ErrorOverride|ExpressDBMFile|ExpressDBMType|ExpressEnable|FtpDirCharset|FtpEscapeWildcards|FtpListOnWildcard|HTML(?:BufSize|CharsetOut|DocType|Enable|Events|Extended|Fixups|Interp|Links|Meta|StripComments|URLMap)|IOBufferSize|MaxForwards|Pass(?:Inherit|InterpolateEnv|Match|Reverse|ReverseCookieDomain|ReverseCookiePath)?|PreserveHost|ReceiveBufferSize|Remote|RemoteMatch|Requests|SCGIInternalRedirect|SCGISendfile|Set|SourceAddress|Status|Timeout|Via)|ReadmeName|ReceiveBufferSize|Redirect|RedirectMatch|RedirectPermanent|RedirectTemp|ReflectorHeader|RemoteIP(?:Header|InternalProxy|InternalProxyList|ProxiesHeader|TrustedProxy|TrustedProxyList)|RemoveCharset|RemoveEncoding|RemoveHandler|RemoveInputFilter|RemoveLanguage|RemoveOutputFilter|RemoveType|RequestHeader|RequestReadTimeout|Require|Rewrite(?:Base|Cond|Engine|Map|Options|Rule)|RLimitCPU|RLimitMEM|RLimitNPROC|Satisfy|ScoreBoardFile|Script(?:Alias|AliasMatch|InterpreterSource|Log|LogBuffer|LogLength|Sock)?|SecureListen|SeeRequestTail|SendBufferSize|Server(?:Admin|Alias|Limit|Name|Path|Root|Signature|Tokens)|Session(?:Cookie(?:Name|Name2|Remove)|Crypto(?:Cipher|Driver|Passphrase|PassphraseFile)|DBD(?:CookieName|CookieName2|CookieRemove|DeleteLabel|InsertLabel|PerUser|SelectLabel|UpdateLabel)|Env|Exclude|Header|Include|MaxAge)?|SetEnv|SetEnvIf|SetEnvIfExpr|SetEnvIfNoCase|SetHandler|SetInputFilter|SetOutputFilter|SSIEndTag|SSIErrorMsg|SSIETag|SSILastModified|SSILegacyExprParser|SSIStartTag|SSITimeFormat|SSIUndefinedEcho|SSL(?:CACertificateFile|CACertificatePath|CADNRequestFile|CADNRequestPath|CARevocationCheck|CARevocationFile|CARevocationPath|CertificateChainFile|CertificateFile|CertificateKeyFile|CipherSuite|Compression|CryptoDevice|Engine|FIPS|HonorCipherOrder|InsecureRenegotiation|OCSP(?:DefaultResponder|Enable|OverrideResponder|ResponderTimeout|ResponseMaxAge|ResponseTimeSkew|UseRequestNonce)|OpenSSLConfCmd|Options|PassPhraseDialog|Protocol|Proxy(?:CACertificateFile|CACertificatePath|CARevocation(?:Check|File|Path)|CheckPeer(?:CN|Expire|Name)|CipherSuite|Engine|MachineCertificate(?:ChainFile|File|Path)|Protocol|Verify|VerifyDepth)|RandomSeed|RenegBufferSize|Require|RequireSSL|Session(?:Cache|CacheTimeout|TicketKeyFile|Tickets)|SRPUnknownUserSeed|SRPVerifierFile|Stapling(?:Cache|ErrorCacheTimeout|FakeTryLater|ForceURL|ResponderTimeout|ResponseMaxAge|ResponseTimeSkew|ReturnResponderErrors|StandardCacheTimeout)|StrictSNIVHostCheck|UserName|UseStapling|VerifyClient|VerifyDepth)|StartServers|StartThreads|Substitute|Suexec|SuexecUserGroup|ThreadLimit|ThreadsPerChild|ThreadStackSize|TimeOut|TraceEnable|TransferLog|TypesConfig|UnDefine|UndefMacro|UnsetEnv|Use|UseCanonicalName|UseCanonicalPhysicalPort|User|UserDir|VHostCGIMode|VHostCGIPrivs|VHostGroup|VHostPrivs|VHostSecure|VHostUser|Virtual(?:DocumentRoot|ScriptAlias)(?:IP)?|WatchdogInterval|XBitHack|xml2EncAlias|xml2EncDefault|xml2StartParse)\b/im,lookbehind:!0,alias:"property"},"directive-block":{pattern:/<\/?\b(?:Auth[nz]ProviderAlias|Directory|DirectoryMatch|Else|ElseIf|Files|FilesMatch|If|IfDefine|IfModule|IfVersion|Limit|LimitExcept|Location|LocationMatch|Macro|Proxy|Require(?:All|Any|None)|VirtualHost)\b.*>/i,inside:{"directive-block":{pattern:/^<\/?\w+/,inside:{punctuation:/^<\/?/},alias:"tag"},"directive-block-parameter":{pattern:/.*[^>]/,inside:{punctuation:/:/,string:{pattern:/("|').*\1/,inside:{variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/}}},alias:"attr-value"},punctuation:/>/},alias:"tag"},"directive-flags":{pattern:/\[(?:[\w=],?)+\]/,alias:"keyword"},string:{pattern:/("|').*\1/,inside:{variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/}},variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/,regex:/\^?.*\$|\^.*\$?/}}return l4}var u4,jY;function PF(){if(jY)return u4;jY=1,u4=t,t.displayName="sql",t.aliases=[];function t(e){e.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}}return u4}var c4,zY;function $7e(){if(zY)return c4;zY=1;var t=PF();c4=e,e.displayName="apex",e.aliases=[];function e(n){n.register(t),function(r){var i=/\b(?:(?:after|before)(?=\s+[a-z])|abstract|activate|and|any|array|as|asc|autonomous|begin|bigdecimal|blob|boolean|break|bulk|by|byte|case|cast|catch|char|class|collect|commit|const|continue|currency|date|datetime|decimal|default|delete|desc|do|double|else|end|enum|exception|exit|export|extends|final|finally|float|for|from|get(?=\s*[{};])|global|goto|group|having|hint|if|implements|import|in|inner|insert|instanceof|int|integer|interface|into|join|like|limit|list|long|loop|map|merge|new|not|null|nulls|number|object|of|on|or|outer|override|package|parallel|pragma|private|protected|public|retrieve|return|rollback|select|set|short|sObject|sort|static|string|super|switch|synchronized|system|testmethod|then|this|throw|time|transaction|transient|trigger|try|undelete|update|upsert|using|virtual|void|webservice|when|where|while|(?:inherited|with|without)\s+sharing)\b/i,a=/\b(?:(?=[a-z_]\w*\s*[<\[])|(?!<keyword>))[A-Z_]\w*(?:\s*\.\s*[A-Z_]\w*)*\b(?:\s*(?:\[\s*\]|<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>))*/.source.replace(/<keyword>/g,function(){return i.source});function s(l){return RegExp(l.replace(/<CLASS-NAME>/g,function(){return a}),"i")}var o={keyword:i,punctuation:/[()\[\]{};,:.<>]/};r.languages.apex={comment:r.languages.clike.comment,string:r.languages.clike.string,sql:{pattern:/((?:[=,({:]|\breturn)\s*)\[[^\[\]]*\]/i,lookbehind:!0,greedy:!0,alias:"language-sql",inside:r.languages.sql},annotation:{pattern:/@\w+\b/,alias:"punctuation"},"class-name":[{pattern:s(/(\b(?:class|enum|extends|implements|instanceof|interface|new|trigger\s+\w+\s+on)\s+)<CLASS-NAME>/.source),lookbehind:!0,inside:o},{pattern:s(/(\(\s*)<CLASS-NAME>(?=\s*\)\s*[\w(])/.source),lookbehind:!0,inside:o},{pattern:s(/<CLASS-NAME>(?=\s*\w+\s*[;=,(){:])/.source),inside:o}],trigger:{pattern:/(\btrigger\s+)\w+\b/i,lookbehind:!0,alias:"class-name"},keyword:i,function:/\b[a-z_]\w*(?=\s*\()/i,boolean:/\b(?:false|true)\b/i,number:/(?:\B\.\d+|\b\d+(?:\.\d+|L)?)\b/i,operator:/[!=](?:==?)?|\?\.?|&&|\|\||--|\+\+|[-+*/^&|]=?|:|<<?=?|>{1,3}=?/,punctuation:/[()\[\]{};,.]/}}(n)}return c4}var d4,$Y;function q7e(){if($Y)return d4;$Y=1,d4=t,t.displayName="apl",t.aliases=[];function t(e){e.languages.apl={comment:/(?:⍝|#[! ]).*$/m,string:{pattern:/'(?:[^'\r\n]|'')*'/,greedy:!0},number:/¯?(?:\d*\.?\b\d+(?:e[+¯]?\d+)?|¯|∞)(?:j¯?(?:(?:\d+(?:\.\d+)?|\.\d+)(?:e[+¯]?\d+)?|¯|∞))?/i,statement:/:[A-Z][a-z][A-Za-z]*\b/,"system-function":{pattern:/⎕[A-Z]+/i,alias:"function"},constant:/[⍬⌾#⎕⍞]/,function:/[-+×÷⌈⌊∣|⍳⍸?*⍟○!⌹<≤=>≥≠≡≢∊⍷∪∩~∨∧⍱⍲⍴,⍪⌽⊖⍉↑↓⊂⊃⊆⊇⌷⍋⍒⊤⊥⍕⍎⊣⊢⍁⍂≈⍯↗¤→]/,"monadic-operator":{pattern:/[\\\/⌿⍀¨⍨⌶&∥]/,alias:"operator"},"dyadic-operator":{pattern:/[.⍣⍠⍤∘⌸@⌺⍥]/,alias:"operator"},assignment:{pattern:/←/,alias:"keyword"},punctuation:/[\[;\]()◇⋄]/,dfn:{pattern:/[{}⍺⍵⍶⍹∇⍫:]/,alias:"builtin"}}}return d4}var h4,qY;function H7e(){if(qY)return h4;qY=1,h4=t,t.displayName="applescript",t.aliases=[];function t(e){e.languages.applescript={comment:[/\(\*(?:\(\*(?:[^*]|\*(?!\)))*\*\)|(?!\(\*)[\s\S])*?\*\)/,/--.+/,/#.+/],string:/"(?:\\.|[^"\\\r\n])*"/,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e-?\d+)?\b/i,operator:[/[&=≠≤≥*+\-\/÷^]|[<>]=?/,/\b(?:(?:begin|end|start)s? with|(?:contains?|(?:does not|doesn't) contain)|(?:is|isn't|is not) (?:contained by|in)|(?:(?:is|isn't|is not) )?(?:greater|less) than(?: or equal)?(?: to)?|(?:comes|(?:does not|doesn't) come) (?:after|before)|(?:is|isn't|is not) equal(?: to)?|(?:(?:does not|doesn't) equal|equal to|equals|is not|isn't)|(?:a )?(?:ref(?: to)?|reference to)|(?:and|as|div|mod|not|or))\b/],keyword:/\b(?:about|above|after|against|apart from|around|aside from|at|back|before|beginning|behind|below|beneath|beside|between|but|by|considering|continue|copy|does|eighth|else|end|equal|error|every|exit|false|fifth|first|for|fourth|from|front|get|given|global|if|ignoring|in|instead of|into|is|it|its|last|local|me|middle|my|ninth|of|on|onto|out of|over|prop|property|put|repeat|return|returning|second|set|seventh|since|sixth|some|tell|tenth|that|the|then|third|through|thru|timeout|times|to|transaction|true|try|until|where|while|whose|with|without)\b/,"class-name":/\b(?:POSIX file|RGB color|alias|application|boolean|centimeters|centimetres|class|constant|cubic centimeters|cubic centimetres|cubic feet|cubic inches|cubic meters|cubic metres|cubic yards|date|degrees Celsius|degrees Fahrenheit|degrees Kelvin|feet|file|gallons|grams|inches|integer|kilograms|kilometers|kilometres|list|liters|litres|meters|metres|miles|number|ounces|pounds|quarts|real|record|reference|script|square feet|square kilometers|square kilometres|square meters|square metres|square miles|square yards|text|yards)\b/,punctuation:/[{}():,¬«»《》]/}}return h4}var f4,HY;function V7e(){if(HY)return f4;HY=1,f4=t,t.displayName="aql",t.aliases=[];function t(e){e.languages.aql={comment:/\/\/.*|\/\*[\s\S]*?\*\//,property:{pattern:/([{,]\s*)(?:(?!\d)\w+|(["'´`])(?:(?!\2)[^\\\r\n]|\\.)*\2)(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\.)*\1/,greedy:!0},identifier:{pattern:/([´`])(?:(?!\1)[^\\\r\n]|\\.)*\1/,greedy:!0},variable:/@@?\w+/,keyword:[{pattern:/(\bWITH\s+)COUNT(?=\s+INTO\b)/i,lookbehind:!0},/\b(?:AGGREGATE|ALL|AND|ANY|ASC|COLLECT|DESC|DISTINCT|FILTER|FOR|GRAPH|IN|INBOUND|INSERT|INTO|K_PATHS|K_SHORTEST_PATHS|LET|LIKE|LIMIT|NONE|NOT|NULL|OR|OUTBOUND|REMOVE|REPLACE|RETURN|SHORTEST_PATH|SORT|UPDATE|UPSERT|WINDOW|WITH)\b/i,{pattern:/(^|[^\w.[])(?:KEEP|PRUNE|SEARCH|TO)\b/i,lookbehind:!0},{pattern:/(^|[^\w.[])(?:CURRENT|NEW|OLD)\b/,lookbehind:!0},{pattern:/\bOPTIONS(?=\s*\{)/i}],function:/\b(?!\d)\w+(?=\s*\()/,boolean:/\b(?:false|true)\b/i,range:{pattern:/\.\./,alias:"operator"},number:[/\b0b[01]+/i,/\b0x[0-9a-f]+/i,/(?:\B\.\d+|\b(?:0|[1-9]\d*)(?:\.\d+)?)(?:e[+-]?\d+)?/i],operator:/\*{2,}|[=!]~|[!=<>]=?|&&|\|\||[-+*/%]/,punctuation:/::|[?.:,;()[\]{}]/}}return f4}var p4,VY;function I0(){if(VY)return p4;VY=1,p4=t,t.displayName="c",t.aliases=[];function t(e){e.languages.c=e.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),e.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),e.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},e.languages.c.string],char:e.languages.c.char,comment:e.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:e.languages.c}}}}),e.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete e.languages.c.boolean}return p4}var m4,GY;function LF(){if(GY)return m4;GY=1;var t=I0();m4=e,e.displayName="cpp",e.aliases=[];function e(n){n.register(t),function(r){var i=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,a=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return i.source});r.languages.cpp=r.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return i.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:i,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),r.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return a})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),r.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:r.languages.cpp}}}}),r.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),r.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:r.languages.extend("cpp",{})}}),r.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},r.languages.cpp["base-clause"])}(n)}return m4}var g4,WY;function G7e(){if(WY)return g4;WY=1;var t=LF();g4=e,e.displayName="arduino",e.aliases=["ino"];function e(n){n.register(t),n.languages.arduino=n.languages.extend("cpp",{keyword:/\b(?:String|array|bool|boolean|break|byte|case|catch|continue|default|do|double|else|finally|for|function|goto|if|in|instanceof|int|integer|long|loop|new|null|return|setup|string|switch|throw|try|void|while|word)\b/,constant:/\b(?:ANALOG_MESSAGE|DEFAULT|DIGITAL_MESSAGE|EXTERNAL|FIRMATA_STRING|HIGH|INPUT|INPUT_PULLUP|INTERNAL|INTERNAL1V1|INTERNAL2V56|LED_BUILTIN|LOW|OUTPUT|REPORT_ANALOG|REPORT_DIGITAL|SET_PIN_MODE|SYSEX_START|SYSTEM_RESET)\b/,builtin:/\b(?:Audio|BSSID|Bridge|Client|Console|EEPROM|Esplora|EsploraTFT|Ethernet|EthernetClient|EthernetServer|EthernetUDP|File|FileIO|FileSystem|Firmata|GPRS|GSM|GSMBand|GSMClient|GSMModem|GSMPIN|GSMScanner|GSMServer|GSMVoiceCall|GSM_SMS|HttpClient|IPAddress|IRread|Keyboard|KeyboardController|LiquidCrystal|LiquidCrystal_I2C|Mailbox|Mouse|MouseController|PImage|Process|RSSI|RobotControl|RobotMotor|SD|SPI|SSID|Scheduler|Serial|Server|Servo|SoftwareSerial|Stepper|Stream|TFT|Task|USBHost|WiFi|WiFiClient|WiFiServer|WiFiUDP|Wire|YunClient|YunServer|abs|addParameter|analogRead|analogReadResolution|analogReference|analogWrite|analogWriteResolution|answerCall|attach|attachGPRS|attachInterrupt|attached|autoscroll|available|background|beep|begin|beginPacket|beginSD|beginSMS|beginSpeaker|beginTFT|beginTransmission|beginWrite|bit|bitClear|bitRead|bitSet|bitWrite|blink|blinkVersion|buffer|changePIN|checkPIN|checkPUK|checkReg|circle|cityNameRead|cityNameWrite|clear|clearScreen|click|close|compassRead|config|connect|connected|constrain|cos|countryNameRead|countryNameWrite|createChar|cursor|debugPrint|delay|delayMicroseconds|detach|detachInterrupt|digitalRead|digitalWrite|disconnect|display|displayLogos|drawBMP|drawCompass|encryptionType|end|endPacket|endSMS|endTransmission|endWrite|exists|exitValue|fill|find|findUntil|flush|gatewayIP|get|getAsynchronously|getBand|getButton|getCurrentCarrier|getIMEI|getKey|getModifiers|getOemKey|getPINUsed|getResult|getSignalStrength|getSocket|getVoiceCallStatus|getXChange|getYChange|hangCall|height|highByte|home|image|interrupts|isActionDone|isDirectory|isListening|isPIN|isPressed|isValid|keyPressed|keyReleased|keyboardRead|knobRead|leftToRight|line|lineFollowConfig|listen|listenOnLocalhost|loadImage|localIP|lowByte|macAddress|maintain|map|max|messageAvailable|micros|millis|min|mkdir|motorsStop|motorsWrite|mouseDragged|mouseMoved|mousePressed|mouseReleased|move|noAutoscroll|noBlink|noBuffer|noCursor|noDisplay|noFill|noInterrupts|noListenOnLocalhost|noStroke|noTone|onReceive|onRequest|open|openNextFile|overflow|parseCommand|parseFloat|parseInt|parsePacket|pauseMode|peek|pinMode|playFile|playMelody|point|pointTo|position|pow|prepare|press|print|printFirmwareVersion|printVersion|println|process|processInput|pulseIn|put|random|randomSeed|read|readAccelerometer|readBlue|readButton|readBytes|readBytesUntil|readGreen|readJoystickButton|readJoystickSwitch|readJoystickX|readJoystickY|readLightSensor|readMessage|readMicrophone|readNetworks|readRed|readSlider|readString|readStringUntil|readTemperature|ready|rect|release|releaseAll|remoteIP|remoteNumber|remotePort|remove|requestFrom|retrieveCallingNumber|rewindDirectory|rightToLeft|rmdir|robotNameRead|robotNameWrite|run|runAsynchronously|runShellCommand|runShellCommandAsynchronously|running|scanNetworks|scrollDisplayLeft|scrollDisplayRight|seek|sendAnalog|sendDigitalPortPair|sendDigitalPorts|sendString|sendSysex|serialEvent|setBand|setBitOrder|setClockDivider|setCursor|setDNS|setDataMode|setFirmwareVersion|setMode|setPINUsed|setSpeed|setTextSize|setTimeout|shiftIn|shiftOut|shutdown|sin|size|sqrt|startLoop|step|stop|stroke|subnetMask|switchPIN|tan|tempoWrite|text|tone|transfer|tuneWrite|turn|updateIR|userNameRead|userNameWrite|voiceCall|waitContinue|width|write|writeBlue|writeGreen|writeJSON|writeMessage|writeMicroseconds|writeRGB|writeRed|yield)\b/}),n.languages.ino=n.languages.arduino}return g4}var y4,KY;function W7e(){if(KY)return y4;KY=1,y4=t,t.displayName="arff",t.aliases=[];function t(e){e.languages.arff={comment:/%.*/,string:{pattern:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:/@(?:attribute|data|end|relation)\b/i,number:/\b\d+(?:\.\d+)?\b/,punctuation:/[{},]/}}return y4}var b4,YY;function K7e(){if(YY)return b4;YY=1,b4=t,t.displayName="asciidoc",t.aliases=["adoc"];function t(e){(function(n){var r={pattern:/(^[ \t]*)\[(?!\[)(?:(["'$`])(?:(?!\2)[^\\]|\\.)*\2|\[(?:[^\[\]\\]|\\.)*\]|[^\[\]\\"'$`]|\\.)*\]/m,lookbehind:!0,inside:{quoted:{pattern:/([$`])(?:(?!\1)[^\\]|\\.)*\1/,inside:{punctuation:/^[$`]|[$`]$/}},interpreted:{pattern:/'(?:[^'\\]|\\.)*'/,inside:{punctuation:/^'|'$/}},string:/"(?:[^"\\]|\\.)*"/,variable:/\w+(?==)/,punctuation:/^\[|\]$|,/,operator:/=/,"attr-value":/(?!^\s+$).+/}},i=n.languages.asciidoc={"comment-block":{pattern:/^(\/{4,})(?:\r?\n|\r)(?:[\s\S]*(?:\r?\n|\r))??\1/m,alias:"comment"},table:{pattern:/^\|={3,}(?:(?:\r?\n|\r(?!\n)).*)*?(?:\r?\n|\r)\|={3,}$/m,inside:{specifiers:{pattern:/(?:(?:(?:\d+(?:\.\d+)?|\.\d+)[+*](?:[<^>](?:\.[<^>])?|\.[<^>])?|[<^>](?:\.[<^>])?|\.[<^>])[a-z]*|[a-z]+)(?=\|)/,alias:"attr-value"},punctuation:{pattern:/(^|[^\\])[|!]=*/,lookbehind:!0}}},"passthrough-block":{pattern:/^(\+{4,})(?:\r?\n|\r)(?:[\s\S]*(?:\r?\n|\r))??\1$/m,inside:{punctuation:/^\++|\++$/}},"literal-block":{pattern:/^(-{4,}|\.{4,})(?:\r?\n|\r)(?:[\s\S]*(?:\r?\n|\r))??\1$/m,inside:{punctuation:/^(?:-+|\.+)|(?:-+|\.+)$/}},"other-block":{pattern:/^(--|\*{4,}|_{4,}|={4,})(?:\r?\n|\r)(?:[\s\S]*(?:\r?\n|\r))??\1$/m,inside:{punctuation:/^(?:-+|\*+|_+|=+)|(?:-+|\*+|_+|=+)$/}},"list-punctuation":{pattern:/(^[ \t]*)(?:-|\*{1,5}|\.{1,5}|(?:[a-z]|\d+)\.|[xvi]+\))(?= )/im,lookbehind:!0,alias:"punctuation"},"list-label":{pattern:/(^[ \t]*)[a-z\d].+(?::{2,4}|;;)(?=\s)/im,lookbehind:!0,alias:"symbol"},"indented-block":{pattern:/((\r?\n|\r)\2)([ \t]+)\S.*(?:(?:\r?\n|\r)\3.+)*(?=\2{2}|$)/,lookbehind:!0},comment:/^\/\/.*/m,title:{pattern:/^.+(?:\r?\n|\r)(?:={3,}|-{3,}|~{3,}|\^{3,}|\+{3,})$|^={1,5} .+|^\.(?![\s.]).*/m,alias:"important",inside:{punctuation:/^(?:\.|=+)|(?:=+|-+|~+|\^+|\++)$/}},"attribute-entry":{pattern:/^:[^:\r\n]+:(?: .*?(?: \+(?:\r?\n|\r).*?)*)?$/m,alias:"tag"},attributes:r,hr:{pattern:/^'{3,}$/m,alias:"punctuation"},"page-break":{pattern:/^<{3,}$/m,alias:"punctuation"},admonition:{pattern:/^(?:CAUTION|IMPORTANT|NOTE|TIP|WARNING):/m,alias:"keyword"},callout:[{pattern:/(^[ \t]*)<?\d*>/m,lookbehind:!0,alias:"symbol"},{pattern:/<\d+>/,alias:"symbol"}],macro:{pattern:/\b[a-z\d][a-z\d-]*::?(?:[^\s\[\]]*\[(?:[^\]\\"']|(["'])(?:(?!\1)[^\\]|\\.)*\1|\\.)*\])/,inside:{function:/^[a-z\d-]+(?=:)/,punctuation:/^::?/,attributes:{pattern:/(?:\[(?:[^\]\\"']|(["'])(?:(?!\1)[^\\]|\\.)*\1|\\.)*\])/,inside:r.inside}}},inline:{pattern:/(^|[^\\])(?:(?:\B\[(?:[^\]\\"']|(["'])(?:(?!\2)[^\\]|\\.)*\2|\\.)*\])?(?:\b_(?!\s)(?: _|[^_\\\r\n]|\\.)+(?:(?:\r?\n|\r)(?: _|[^_\\\r\n]|\\.)+)*_\b|\B``(?!\s).+?(?:(?:\r?\n|\r).+?)*''\B|\B`(?!\s)(?:[^`'\s]|\s+\S)+['`]\B|\B(['*+#])(?!\s)(?: \3|(?!\3)[^\\\r\n]|\\.)+(?:(?:\r?\n|\r)(?: \3|(?!\3)[^\\\r\n]|\\.)+)*\3\B)|(?:\[(?:[^\]\\"']|(["'])(?:(?!\4)[^\\]|\\.)*\4|\\.)*\])?(?:(__|\*\*|\+\+\+?|##|\$\$|[~^]).+?(?:(?:\r?\n|\r).+?)*\5|\{[^}\r\n]+\}|\[\[\[?.+?(?:(?:\r?\n|\r).+?)*\]?\]\]|<<.+?(?:(?:\r?\n|\r).+?)*>>|\(\(\(?.+?(?:(?:\r?\n|\r).+?)*\)?\)\)))/m,lookbehind:!0,inside:{attributes:r,url:{pattern:/^(?:\[\[\[?.+?\]?\]\]|<<.+?>>)$/,inside:{punctuation:/^(?:\[\[\[?|<<)|(?:\]\]\]?|>>)$/}},"attribute-ref":{pattern:/^\{.+\}$/,inside:{variable:{pattern:/(^\{)[a-z\d,+_-]+/,lookbehind:!0},operator:/^[=?!#%@$]|!(?=[:}])/,punctuation:/^\{|\}$|::?/}},italic:{pattern:/^(['_])[\s\S]+\1$/,inside:{punctuation:/^(?:''?|__?)|(?:''?|__?)$/}},bold:{pattern:/^\*[\s\S]+\*$/,inside:{punctuation:/^\*\*?|\*\*?$/}},punctuation:/^(?:``?|\+{1,3}|##?|\$\$|[~^]|\(\(\(?)|(?:''?|\+{1,3}|##?|\$\$|[~^`]|\)?\)\))$/}},replacement:{pattern:/\((?:C|R|TM)\)/,alias:"builtin"},entity:/&#?[\da-z]{1,8};/i,"line-continuation":{pattern:/(^| )\+$/m,lookbehind:!0,alias:"punctuation"}};function a(s){s=s.split(" ");for(var o={},l=0,u=s.length;l<u;l++)o[s[l]]=i[s[l]];return o}r.inside.interpreted.inside.rest=a("macro inline replacement entity"),i["passthrough-block"].inside.rest=a("macro"),i["literal-block"].inside.rest=a("callout"),i.table.inside.rest=a("comment-block passthrough-block literal-block other-block list-punctuation indented-block comment title attribute-entry attributes hr page-break admonition list-label callout macro inline replacement entity line-continuation"),i["other-block"].inside.rest=a("table list-punctuation indented-block comment attribute-entry attributes hr page-break admonition list-label macro inline replacement entity line-continuation"),i.title.inside.rest=a("macro inline replacement entity"),n.hooks.add("wrap",function(s){s.type==="entity"&&(s.attributes.title=s.content.value.replace(/&amp;/,"&"))}),n.languages.adoc=n.languages.asciidoc})(e)}return b4}var v4,XY;function Y7e(){if(XY)return v4;XY=1,v4=t,t.displayName="asm6502",t.aliases=[];function t(e){e.languages.asm6502={comment:/;.*/,directive:{pattern:/\.\w+(?= )/,alias:"property"},string:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,"op-code":{pattern:/\b(?:ADC|AND|ASL|BCC|BCS|BEQ|BIT|BMI|BNE|BPL|BRK|BVC|BVS|CLC|CLD|CLI|CLV|CMP|CPX|CPY|DEC|DEX|DEY|EOR|INC|INX|INY|JMP|JSR|LDA|LDX|LDY|LSR|NOP|ORA|PHA|PHP|PLA|PLP|ROL|ROR|RTI|RTS|SBC|SEC|SED|SEI|STA|STX|STY|TAX|TAY|TSX|TXA|TXS|TYA|adc|and|asl|bcc|bcs|beq|bit|bmi|bne|bpl|brk|bvc|bvs|clc|cld|cli|clv|cmp|cpx|cpy|dec|dex|dey|eor|inc|inx|iny|jmp|jsr|lda|ldx|ldy|lsr|nop|ora|pha|php|pla|plp|rol|ror|rti|rts|sbc|sec|sed|sei|sta|stx|sty|tax|tay|tsx|txa|txs|tya)\b/,alias:"keyword"},"hex-number":{pattern:/#?\$[\da-f]{1,4}\b/i,alias:"number"},"binary-number":{pattern:/#?%[01]+\b/,alias:"number"},"decimal-number":{pattern:/#?\b\d+\b/,alias:"number"},register:{pattern:/\b[xya]\b/i,alias:"variable"},punctuation:/[(),:]/}}return v4}var w4,ZY;function X7e(){if(ZY)return w4;ZY=1,w4=t,t.displayName="asmatmel",t.aliases=[];function t(e){e.languages.asmatmel={comment:{pattern:/;.*/,greedy:!0},string:{pattern:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},constant:/\b(?:PORT[A-Z]|DDR[A-Z]|(?:DD|P)[A-Z](?:\d|[0-2]\d|3[01]))\b/,directive:{pattern:/\.\w+(?= )/,alias:"property"},"r-register":{pattern:/\br(?:\d|[12]\d|3[01])\b/,alias:"variable"},"op-code":{pattern:/\b(?:ADC|ADD|ADIW|AND|ANDI|ASR|BCLR|BLD|BRBC|BRBS|BRCC|BRCS|BREAK|BREQ|BRGE|BRHC|BRHS|BRID|BRIE|BRLO|BRLT|BRMI|BRNE|BRPL|BRSH|BRTC|BRTS|BRVC|BRVS|BSET|BST|CALL|CBI|CBR|CLC|CLH|CLI|CLN|CLR|CLS|CLT|CLV|CLZ|COM|CP|CPC|CPI|CPSE|DEC|DES|EICALL|EIJMP|ELPM|EOR|FMUL|FMULS|FMULSU|ICALL|IJMP|IN|INC|JMP|LAC|LAS|LAT|LD|LD[A-Za-z0-9]|LPM|LSL|LSR|MOV|MOVW|MUL|MULS|MULSU|NEG|NOP|OR|ORI|OUT|POP|PUSH|RCALL|RET|RETI|RJMP|ROL|ROR|SBC|SBCI|SBI|SBIC|SBIS|SBIW|SBR|SBRC|SBRS|SEC|SEH|SEI|SEN|SER|SES|SET|SEV|SEZ|SLEEP|SPM|ST|ST[A-Z0-9]|SUB|SUBI|SWAP|TST|WDR|XCH|adc|add|adiw|and|andi|asr|bclr|bld|brbc|brbs|brcc|brcs|break|breq|brge|brhc|brhs|brid|brie|brlo|brlt|brmi|brne|brpl|brsh|brtc|brts|brvc|brvs|bset|bst|call|cbi|cbr|clc|clh|cli|cln|clr|cls|clt|clv|clz|com|cp|cpc|cpi|cpse|dec|des|eicall|eijmp|elpm|eor|fmul|fmuls|fmulsu|icall|ijmp|in|inc|jmp|lac|las|lat|ld|ld[a-z0-9]|lpm|lsl|lsr|mov|movw|mul|muls|mulsu|neg|nop|or|ori|out|pop|push|rcall|ret|reti|rjmp|rol|ror|sbc|sbci|sbi|sbic|sbis|sbiw|sbr|sbrc|sbrs|sec|seh|sei|sen|ser|ses|set|sev|sez|sleep|spm|st|st[a-zA-Z0-9]|sub|subi|swap|tst|wdr|xch)\b/,alias:"keyword"},"hex-number":{pattern:/#?\$[\da-f]{2,4}\b/i,alias:"number"},"binary-number":{pattern:/#?%[01]+\b/,alias:"number"},"decimal-number":{pattern:/#?\b\d+\b/,alias:"number"},register:{pattern:/\b[acznvshtixy]\b/i,alias:"variable"},operator:/>>=?|<<=?|&&?|\|\|?|[-+*/%&|^!=<>?]=?/,punctuation:/[(),:]/}}return w4}var _4,QY;function gC(){if(QY)return _4;QY=1,_4=t,t.displayName="csharp",t.aliases=["dotnet","cs"];function t(e){(function(n){function r(pe,Ne){return pe.replace(/<<(\d+)>>/g,function(ae,He){return"(?:"+Ne[+He]+")"})}function i(pe,Ne,ae){return RegExp(r(pe,Ne),"")}function a(pe,Ne){for(var ae=0;ae<Ne;ae++)pe=pe.replace(/<<self>>/g,function(){return"(?:"+pe+")"});return pe.replace(/<<self>>/g,"[^\\s\\S]")}var s={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function o(pe){return"\\b(?:"+pe.trim().replace(/ /g,"|")+")\\b"}var l=o(s.typeDeclaration),u=RegExp(o(s.type+" "+s.typeDeclaration+" "+s.contextual+" "+s.other)),d=o(s.typeDeclaration+" "+s.contextual+" "+s.other),h=o(s.type+" "+s.typeDeclaration+" "+s.other),p=a(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),m=a(/\((?:[^()]|<<self>>)*\)/.source,2),v=/@?\b[A-Za-z_]\w*\b/.source,w=r(/<<0>>(?:\s*<<1>>)?/.source,[v,p]),k=r(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[d,w]),T=/\[\s*(?:,\s*)*\]/.source,C=r(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[k,T]),N=r(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[p,m,T]),F=r(/\(<<0>>+(?:,<<0>>+)+\)/.source,[N]),D=r(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[F,k,T]),U={keyword:u,punctuation:/[<>()?,.:[\]]/},G=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,se=/"(?:\\.|[^\\"\r\n])*"/.source,re=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;n.languages.csharp=n.languages.extend("clike",{string:[{pattern:i(/(^|[^$\\])<<0>>/.source,[re]),lookbehind:!0,greedy:!0},{pattern:i(/(^|[^@$\\])<<0>>/.source,[se]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:i(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[k]),lookbehind:!0,inside:U},{pattern:i(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[v,D]),lookbehind:!0,inside:U},{pattern:i(/(\busing\s+)<<0>>(?=\s*=)/.source,[v]),lookbehind:!0},{pattern:i(/(\b<<0>>\s+)<<1>>/.source,[l,w]),lookbehind:!0,inside:U},{pattern:i(/(\bcatch\s*\(\s*)<<0>>/.source,[k]),lookbehind:!0,inside:U},{pattern:i(/(\bwhere\s+)<<0>>/.source,[v]),lookbehind:!0},{pattern:i(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[C]),lookbehind:!0,inside:U},{pattern:i(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[D,h,v]),inside:U}],keyword:u,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),n.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),n.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:i(/([(,]\s*)<<0>>(?=\s*:)/.source,[v]),lookbehind:!0,alias:"punctuation"}}),n.languages.insertBefore("csharp","class-name",{namespace:{pattern:i(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[v]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:i(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[m]),lookbehind:!0,alias:"class-name",inside:U},"return-type":{pattern:i(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[D,k]),inside:U,alias:"class-name"},"constructor-invocation":{pattern:i(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[D]),lookbehind:!0,inside:U,alias:"class-name"},"generic-method":{pattern:i(/<<0>>\s*<<1>>(?=\s*\()/.source,[v,p]),inside:{function:i(/^<<0>>/.source,[v]),generic:{pattern:RegExp(p),alias:"class-name",inside:U}}},"type-list":{pattern:i(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[l,w,v,D,u.source,m,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:i(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[w,m]),lookbehind:!0,greedy:!0,inside:n.languages.csharp},keyword:u,"class-name":{pattern:RegExp(D),greedy:!0,inside:U},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var Q=se+"|"+G,ce=r(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[Q]),Ie=a(r(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[ce]),2),qe=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,xe=r(/<<0>>(?:\s*\(<<1>>*\))?/.source,[k,Ie]);n.languages.insertBefore("csharp","class-name",{attribute:{pattern:i(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[qe,xe]),lookbehind:!0,greedy:!0,inside:{target:{pattern:i(/^<<0>>(?=\s*:)/.source,[qe]),alias:"keyword"},"attribute-arguments":{pattern:i(/\(<<0>>*\)/.source,[Ie]),inside:n.languages.csharp},"class-name":{pattern:RegExp(k),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var Ce=/:[^}\r\n]+/.source,ue=a(r(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[ce]),2),ke=r(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[ue,Ce]),Te=a(r(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[Q]),2),he=r(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Te,Ce]);function j(pe,Ne){return{interpolation:{pattern:i(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[pe]),lookbehind:!0,inside:{"format-string":{pattern:i(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[Ne,Ce]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:n.languages.csharp}}},string:/[\s\S]+/}}n.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:i(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[ke]),lookbehind:!0,greedy:!0,inside:j(ke,ue)},{pattern:i(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[he]),lookbehind:!0,greedy:!0,inside:j(he,Te)}],char:{pattern:RegExp(G),greedy:!0}}),n.languages.dotnet=n.languages.cs=n.languages.csharp})(e)}return _4}var S4,JY;function Z7e(){if(JY)return S4;JY=1;var t=gC();S4=e,e.displayName="aspnet",e.aliases=[];function e(n){n.register(t),n.languages.aspnet=n.languages.extend("markup",{"page-directive":{pattern:/<%\s*@.*%>/,alias:"tag",inside:{"page-directive":{pattern:/<%\s*@\s*(?:Assembly|Control|Implements|Import|Master(?:Type)?|OutputCache|Page|PreviousPageType|Reference|Register)?|%>/i,alias:"tag"},rest:n.languages.markup.tag.inside}},directive:{pattern:/<%.*%>/,alias:"tag",inside:{directive:{pattern:/<%\s*?[$=%#:]{0,2}|%>/,alias:"tag"},rest:n.languages.csharp}}}),n.languages.aspnet.tag.pattern=/<(?!%)\/?[^\s>\/]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/,n.languages.insertBefore("inside","punctuation",{directive:n.languages.aspnet.directive},n.languages.aspnet.tag.inside["attr-value"]),n.languages.insertBefore("aspnet","comment",{"asp-comment":{pattern:/<%--[\s\S]*?--%>/,alias:["asp","comment"]}}),n.languages.insertBefore("aspnet",n.languages.javascript?"script":"tag",{"asp-script":{pattern:/(<script(?=.*runat=['"]?server\b)[^>]*>)[\s\S]*?(?=<\/script>)/i,lookbehind:!0,alias:["asp","script"],inside:n.languages.csharp||{}}})}return S4}var x4,eX;function Q7e(){if(eX)return x4;eX=1,x4=t,t.displayName="autohotkey",t.aliases=[];function t(e){e.languages.autohotkey={comment:[{pattern:/(^|\s);.*/,lookbehind:!0},{pattern:/(^[\t ]*)\/\*(?:[\r\n](?![ \t]*\*\/)|[^\r\n])*(?:[\r\n][ \t]*\*\/)?/m,lookbehind:!0,greedy:!0}],tag:{pattern:/^([ \t]*)[^\s,`":]+(?=:[ \t]*$)/m,lookbehind:!0},string:/"(?:[^"\n\r]|"")*"/,variable:/%\w+%/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/\?|\/\/?=?|:=|\|[=|]?|&[=&]?|\+[=+]?|-[=-]?|\*[=*]?|<(?:<=?|>|=)?|>>?=?|[.^!=~]=?|\b(?:AND|NOT|OR)\b/,boolean:/\b(?:false|true)\b/,selector:/\b(?:AutoTrim|BlockInput|Break|Click|ClipWait|Continue|Control|ControlClick|ControlFocus|ControlGet|ControlGetFocus|ControlGetPos|ControlGetText|ControlMove|ControlSend|ControlSendRaw|ControlSetText|CoordMode|Critical|DetectHiddenText|DetectHiddenWindows|Drive|DriveGet|DriveSpaceFree|EnvAdd|EnvDiv|EnvGet|EnvMult|EnvSet|EnvSub|EnvUpdate|Exit|ExitApp|FileAppend|FileCopy|FileCopyDir|FileCreateDir|FileCreateShortcut|FileDelete|FileEncoding|FileGetAttrib|FileGetShortcut|FileGetSize|FileGetTime|FileGetVersion|FileInstall|FileMove|FileMoveDir|FileRead|FileReadLine|FileRecycle|FileRecycleEmpty|FileRemoveDir|FileSelectFile|FileSelectFolder|FileSetAttrib|FileSetTime|FormatTime|GetKeyState|Gosub|Goto|GroupActivate|GroupAdd|GroupClose|GroupDeactivate|Gui|GuiControl|GuiControlGet|Hotkey|ImageSearch|IniDelete|IniRead|IniWrite|Input|InputBox|KeyWait|ListHotkeys|ListLines|ListVars|Loop|Menu|MouseClick|MouseClickDrag|MouseGetPos|MouseMove|MsgBox|OnExit|OutputDebug|Pause|PixelGetColor|PixelSearch|PostMessage|Process|Progress|Random|RegDelete|RegRead|RegWrite|Reload|Repeat|Return|Run|RunAs|RunWait|Send|SendEvent|SendInput|SendMessage|SendMode|SendPlay|SendRaw|SetBatchLines|SetCapslockState|SetControlDelay|SetDefaultMouseSpeed|SetEnv|SetFormat|SetKeyDelay|SetMouseDelay|SetNumlockState|SetRegView|SetScrollLockState|SetStoreCapslockMode|SetTimer|SetTitleMatchMode|SetWinDelay|SetWorkingDir|Shutdown|Sleep|Sort|SoundBeep|SoundGet|SoundGetWaveVolume|SoundPlay|SoundSet|SoundSetWaveVolume|SplashImage|SplashTextOff|SplashTextOn|SplitPath|StatusBarGetText|StatusBarWait|StringCaseSense|StringGetPos|StringLeft|StringLen|StringLower|StringMid|StringReplace|StringRight|StringSplit|StringTrimLeft|StringTrimRight|StringUpper|Suspend|SysGet|Thread|ToolTip|Transform|TrayTip|URLDownloadToFile|WinActivate|WinActivateBottom|WinClose|WinGet|WinGetActiveStats|WinGetActiveTitle|WinGetClass|WinGetPos|WinGetText|WinGetTitle|WinHide|WinKill|WinMaximize|WinMenuSelectItem|WinMinimize|WinMinimizeAll|WinMinimizeAllUndo|WinMove|WinRestore|WinSet|WinSetTitle|WinShow|WinWait|WinWaitActive|WinWaitClose|WinWaitNotActive)\b/i,constant:/\b(?:a_ahkpath|a_ahkversion|a_appdata|a_appdatacommon|a_autotrim|a_batchlines|a_caretx|a_carety|a_computername|a_controldelay|a_cursor|a_dd|a_ddd|a_dddd|a_defaultmousespeed|a_desktop|a_desktopcommon|a_detecthiddentext|a_detecthiddenwindows|a_endchar|a_eventinfo|a_exitreason|a_fileencoding|a_formatfloat|a_formatinteger|a_gui|a_guicontrol|a_guicontrolevent|a_guievent|a_guiheight|a_guiwidth|a_guix|a_guiy|a_hour|a_iconfile|a_iconhidden|a_iconnumber|a_icontip|a_index|a_ipaddress1|a_ipaddress2|a_ipaddress3|a_ipaddress4|a_is64bitos|a_isadmin|a_iscompiled|a_iscritical|a_ispaused|a_issuspended|a_isunicode|a_keydelay|a_language|a_lasterror|a_linefile|a_linenumber|a_loopfield|a_loopfileattrib|a_loopfiledir|a_loopfileext|a_loopfilefullpath|a_loopfilelongpath|a_loopfilename|a_loopfileshortname|a_loopfileshortpath|a_loopfilesize|a_loopfilesizekb|a_loopfilesizemb|a_loopfiletimeaccessed|a_loopfiletimecreated|a_loopfiletimemodified|a_loopreadline|a_loopregkey|a_loopregname|a_loopregsubkey|a_loopregtimemodified|a_loopregtype|a_mday|a_min|a_mm|a_mmm|a_mmmm|a_mon|a_mousedelay|a_msec|a_mydocuments|a_now|a_nowutc|a_numbatchlines|a_ostype|a_osversion|a_priorhotkey|a_priorkey|a_programfiles|a_programs|a_programscommon|a_ptrsize|a_regview|a_screendpi|a_screenheight|a_screenwidth|a_scriptdir|a_scriptfullpath|a_scripthwnd|a_scriptname|a_sec|a_space|a_startmenu|a_startmenucommon|a_startup|a_startupcommon|a_stringcasesense|a_tab|a_temp|a_thisfunc|a_thishotkey|a_thislabel|a_thismenu|a_thismenuitem|a_thismenuitempos|a_tickcount|a_timeidle|a_timeidlephysical|a_timesincepriorhotkey|a_timesincethishotkey|a_titlematchmode|a_titlematchmodespeed|a_username|a_wday|a_windelay|a_windir|a_workingdir|a_yday|a_year|a_yweek|a_yyyy|clipboard|clipboardall|comspec|errorlevel|programfiles)\b/i,builtin:/\b(?:abs|acos|asc|asin|atan|ceil|chr|class|comobjactive|comobjarray|comobjconnect|comobjcreate|comobjerror|comobjflags|comobjget|comobjquery|comobjtype|comobjvalue|cos|dllcall|exp|fileexist|Fileopen|floor|format|il_add|il_create|il_destroy|instr|isfunc|islabel|IsObject|ln|log|ltrim|lv_add|lv_delete|lv_deletecol|lv_getcount|lv_getnext|lv_gettext|lv_insert|lv_insertcol|lv_modify|lv_modifycol|lv_setimagelist|mod|numget|numput|onmessage|regexmatch|regexreplace|registercallback|round|rtrim|sb_seticon|sb_setparts|sb_settext|sin|sqrt|strlen|strreplace|strsplit|substr|tan|tv_add|tv_delete|tv_get|tv_getchild|tv_getcount|tv_getnext|tv_getparent|tv_getprev|tv_getselection|tv_gettext|tv_modify|varsetcapacity|winactive|winexist|__Call|__Get|__New|__Set)\b/i,symbol:/\b(?:alt|altdown|altup|appskey|backspace|browser_back|browser_favorites|browser_forward|browser_home|browser_refresh|browser_search|browser_stop|bs|capslock|ctrl|ctrlbreak|ctrldown|ctrlup|del|delete|down|end|enter|esc|escape|f1|f10|f11|f12|f13|f14|f15|f16|f17|f18|f19|f2|f20|f21|f22|f23|f24|f3|f4|f5|f6|f7|f8|f9|home|ins|insert|joy1|joy10|joy11|joy12|joy13|joy14|joy15|joy16|joy17|joy18|joy19|joy2|joy20|joy21|joy22|joy23|joy24|joy25|joy26|joy27|joy28|joy29|joy3|joy30|joy31|joy32|joy4|joy5|joy6|joy7|joy8|joy9|joyaxes|joybuttons|joyinfo|joyname|joypov|joyr|joyu|joyv|joyx|joyy|joyz|lalt|launch_app1|launch_app2|launch_mail|launch_media|lbutton|lcontrol|lctrl|left|lshift|lwin|lwindown|lwinup|mbutton|media_next|media_play_pause|media_prev|media_stop|numlock|numpad0|numpad1|numpad2|numpad3|numpad4|numpad5|numpad6|numpad7|numpad8|numpad9|numpadadd|numpadclear|numpaddel|numpaddiv|numpaddot|numpaddown|numpadend|numpadenter|numpadhome|numpadins|numpadleft|numpadmult|numpadpgdn|numpadpgup|numpadright|numpadsub|numpadup|pgdn|pgup|printscreen|ralt|rbutton|rcontrol|rctrl|right|rshift|rwin|rwindown|rwinup|scrolllock|shift|shiftdown|shiftup|space|tab|up|volume_down|volume_mute|volume_up|wheeldown|wheelleft|wheelright|wheelup|xbutton1|xbutton2)\b/i,important:/#\b(?:AllowSameLineComments|ClipboardTimeout|CommentFlag|DerefChar|ErrorStdOut|EscapeChar|HotkeyInterval|HotkeyModifierTimeout|Hotstring|If|IfTimeout|IfWinActive|IfWinExist|IfWinNotActive|IfWinNotExist|Include|IncludeAgain|InputLevel|InstallKeybdHook|InstallMouseHook|KeyHistory|MaxHotkeysPerInterval|MaxMem|MaxThreads|MaxThreadsBuffer|MaxThreadsPerHotkey|MenuMaskKey|NoEnv|NoTrayIcon|Persistent|SingleInstance|UseHook|Warn|WinActivateForce)\b/i,keyword:/\b(?:Abort|AboveNormal|Add|ahk_class|ahk_exe|ahk_group|ahk_id|ahk_pid|All|Alnum|Alpha|AltSubmit|AltTab|AltTabAndMenu|AltTabMenu|AltTabMenuDismiss|AlwaysOnTop|AutoSize|Background|BackgroundTrans|BelowNormal|between|BitAnd|BitNot|BitOr|BitShiftLeft|BitShiftRight|BitXOr|Bold|Border|Button|ByRef|Catch|Checkbox|Checked|CheckedGray|Choose|ChooseString|Close|Color|ComboBox|Contains|ControlList|Count|Date|DateTime|Days|DDL|Default|DeleteAll|Delimiter|Deref|Destroy|Digit|Disable|Disabled|DropDownList|Edit|Eject|Else|Enable|Enabled|Error|Exist|Expand|ExStyle|FileSystem|Finally|First|Flash|Float|FloatFast|Focus|Font|for|global|Grid|Group|GroupBox|GuiClose|GuiContextMenu|GuiDropFiles|GuiEscape|GuiSize|Hdr|Hidden|Hide|High|HKCC|HKCR|HKCU|HKEY_CLASSES_ROOT|HKEY_CURRENT_CONFIG|HKEY_CURRENT_USER|HKEY_LOCAL_MACHINE|HKEY_USERS|HKLM|HKU|Hours|HScroll|Icon|IconSmall|ID|IDLast|If|IfEqual|IfExist|IfGreater|IfGreaterOrEqual|IfInString|IfLess|IfLessOrEqual|IfMsgBox|IfNotEqual|IfNotExist|IfNotInString|IfWinActive|IfWinExist|IfWinNotActive|IfWinNotExist|Ignore|ImageList|in|Integer|IntegerFast|Interrupt|is|italic|Join|Label|LastFound|LastFoundExist|Limit|Lines|List|ListBox|ListView|local|Lock|Logoff|Low|Lower|Lowercase|MainWindow|Margin|Maximize|MaximizeBox|MaxSize|Minimize|MinimizeBox|MinMax|MinSize|Minutes|MonthCal|Mouse|Move|Multi|NA|No|NoActivate|NoDefault|NoHide|NoIcon|NoMainWindow|norm|Normal|NoSort|NoSortHdr|NoStandard|Not|NoTab|NoTimers|Number|Off|Ok|On|OwnDialogs|Owner|Parse|Password|Picture|Pixel|Pos|Pow|Priority|ProcessName|Radio|Range|Read|ReadOnly|Realtime|Redraw|Region|REG_BINARY|REG_DWORD|REG_EXPAND_SZ|REG_MULTI_SZ|REG_SZ|Relative|Rename|Report|Resize|Restore|Retry|RGB|Screen|Seconds|Section|Serial|SetLabel|ShiftAltTab|Show|Single|Slider|SortDesc|Standard|static|Status|StatusBar|StatusCD|strike|Style|Submit|SysMenu|Tab2|TabStop|Text|Theme|Throw|Tile|ToggleCheck|ToggleEnable|ToolWindow|Top|Topmost|TransColor|Transparent|Tray|TreeView|Try|TryAgain|Type|UnCheck|underline|Unicode|Unlock|Until|UpDown|Upper|Uppercase|UseErrorLevel|Vis|VisFirst|Visible|VScroll|Wait|WaitClose|WantCtrlA|WantF2|WantReturn|While|Wrap|Xdigit|xm|xp|xs|Yes|ym|yp|ys)\b/i,function:/[^(); \t,\n+*\-=?>:\\\/<&%\[\]]+(?=\()/,punctuation:/[{}[\]():,]/}}return x4}var E4,tX;function J7e(){if(tX)return E4;tX=1,E4=t,t.displayName="autoit",t.aliases=[];function t(e){e.languages.autoit={comment:[/;.*/,{pattern:/(^[\t ]*)#(?:comments-start|cs)[\s\S]*?^[ \t]*#(?:ce|comments-end)/m,lookbehind:!0}],url:{pattern:/(^[\t ]*#include\s+)(?:<[^\r\n>]+>|"[^\r\n"]+")/m,lookbehind:!0},string:{pattern:/(["'])(?:\1\1|(?!\1)[^\r\n])*\1/,greedy:!0,inside:{variable:/([%$@])\w+\1/}},directive:{pattern:/(^[\t ]*)#[\w-]+/m,lookbehind:!0,alias:"keyword"},function:/\b\w+(?=\()/,variable:/[$@]\w+/,keyword:/\b(?:Case|Const|Continue(?:Case|Loop)|Default|Dim|Do|Else(?:If)?|End(?:Func|If|Select|Switch|With)|Enum|Exit(?:Loop)?|For|Func|Global|If|In|Local|Next|Null|ReDim|Select|Static|Step|Switch|Then|To|Until|Volatile|WEnd|While|With)\b/i,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/i,boolean:/\b(?:False|True)\b/i,operator:/<[=>]?|[-+*\/=&>]=?|[?^]|\b(?:And|Not|Or)\b/i,punctuation:/[\[\]().,:]/}}return E4}var k4,nX;function eFe(){if(nX)return k4;nX=1,k4=t,t.displayName="avisynth",t.aliases=["avs"];function t(e){(function(n){function r(d,h){return d.replace(/<<(\d+)>>/g,function(p,m){return h[+m]})}function i(d,h,p){return RegExp(r(d,h),p)}var a=/bool|clip|float|int|string|val/.source,s=[/is(?:bool|clip|float|int|string)|defined|(?:(?:internal)?function|var)?exists?/.source,/apply|assert|default|eval|import|nop|select|undefined/.source,/opt_(?:allowfloataudio|avipadscanlines|dwchannelmask|enable_(?:b64a|planartopackedrgb|v210|y3_10_10|y3_10_16)|usewaveextensible|vdubplanarhack)|set(?:cachemode|maxcpu|memorymax|planarlegacyalignment|workingdir)/.source,/hex(?:value)?|value/.source,/abs|ceil|continued(?:denominator|numerator)?|exp|floor|fmod|frac|log(?:10)?|max|min|muldiv|pi|pow|rand|round|sign|spline|sqrt/.source,/a?sinh?|a?cosh?|a?tan[2h]?/.source,/(?:bit(?:and|not|x?or|[lr]?shift[aslu]?|sh[lr]|sa[lr]|[lr]rotatel?|ro[rl]|te?st|set(?:count)?|cl(?:ea)?r|ch(?:an)?ge?))/.source,/average(?:[bgr]|chroma[uv]|luma)|(?:[rgb]|chroma[uv]|luma|rgb|[yuv](?=difference(?:fromprevious|tonext)))difference(?:fromprevious|tonext)?|[yuvrgb]plane(?:median|min|max|minmaxdifference)/.source,/getprocessinfo|logmsg|script(?:dir(?:utf8)?|file(?:utf8)?|name(?:utf8)?)|setlogparams/.source,/chr|(?:fill|find|left|mid|replace|rev|right)str|format|[lu]case|ord|str(?:cmpi?|fromutf8|len|toutf8)|time|trim(?:all|left|right)/.source,/isversionorgreater|version(?:number|string)/.source,/buildpixeltype|colorspacenametopixeltype/.source,/addautoloaddir|on(?:cpu|cuda)|prefetch|setfiltermtmode/.source].join("|"),o=[/has(?:audio|video)/.source,/height|width/.source,/frame(?:count|rate)|framerate(?:denominator|numerator)/.source,/getparity|is(?:field|frame)based/.source,/bitspercomponent|componentsize|hasalpha|is(?:planar(?:rgba?)?|interleaved|rgb(?:24|32|48|64)?|y(?:8|u(?:va?|y2))?|yv(?:12|16|24|411)|420|422|444|packedrgb)|numcomponents|pixeltype/.source,/audio(?:bits|channels|duration|length(?:[fs]|hi|lo)?|rate)|isaudio(?:float|int)/.source].join("|"),l=[/avi(?:file)?source|directshowsource|image(?:reader|source|sourceanim)|opendmlsource|segmented(?:avisource|directshowsource)|wavsource/.source,/coloryuv|convertbacktoyuy2|convertto(?:RGB(?:24|32|48|64)|(?:planar)?RGBA?|Y8?|YV(?:12|16|24|411)|YUVA?(?:411|420|422|444)|YUY2)|fixluminance|gr[ae]yscale|invert|levels|limiter|mergea?rgb|merge(?:chroma|luma)|rgbadjust|show(?:alpha|blue|green|red)|swapuv|tweak|[uv]toy8?|ytouv/.source,/(?:colorkey|reset)mask|layer|mask(?:hs)?|merge|overlay|subtract/.source,/addborders|(?:bicubic|bilinear|blackman|gauss|lanczos4|lanczos|point|sinc|spline(?:16|36|64))resize|crop(?:bottom)?|flip(?:horizontal|vertical)|(?:horizontal|vertical)?reduceby2|letterbox|skewrows|turn(?:180|left|right)/.source,/blur|fixbrokenchromaupsampling|generalconvolution|(?:spatial|temporal)soften|sharpen/.source,/trim|(?:un)?alignedsplice|(?:assume|assumescaled|change|convert)FPS|(?:delete|duplicate)frame|dissolve|fade(?:in|io|out)[02]?|freezeframe|interleave|loop|reverse|select(?:even|odd|(?:range)?every)/.source,/assume[bt]ff|assume(?:field|frame)based|bob|complementparity|doubleweave|peculiarblend|pulldown|separate(?:columns|fields|rows)|swapfields|weave(?:columns|rows)?/.source,/amplify(?:db)?|assumesamplerate|audiodub(?:ex)?|audiotrim|convertaudioto(?:(?:8|16|24|32)bit|float)|converttomono|delayaudio|ensurevbrmp3sync|get(?:left|right)?channel|kill(?:audio|video)|mergechannels|mixaudio|monotostereo|normalize|resampleaudio|ssrc|supereq|timestretch/.source,/animate|applyrange|conditional(?:filter|reader|select)|frameevaluate|scriptclip|tcp(?:server|source)|writefile(?:end|if|start)?/.source,/imagewriter/.source,/blackness|blankclip|colorbars(?:hd)?|compare|dumpfiltergraph|echo|histogram|info|messageclip|preroll|setgraphanalysis|show(?:framenumber|smpte|time)|showfiveversions|stack(?:horizontal|vertical)|subtitle|tone|version/.source].join("|"),u=[s,o,l].join("|");n.languages.avisynth={comment:[{pattern:/(^|[^\\])\[\*(?:[^\[*]|\[(?!\*)|\*(?!\])|\[\*(?:[^\[*]|\[(?!\*)|\*(?!\]))*\*\])*\*\]/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\$])#.*/,lookbehind:!0,greedy:!0}],argument:{pattern:i(/\b(?:<<0>>)\s+("?)\w+\1/.source,[a],"i"),inside:{keyword:/^\w+/}},"argument-label":{pattern:/([,(][\s\\]*)\w+\s*=(?!=)/,lookbehind:!0,inside:{"argument-name":{pattern:/^\w+/,alias:"punctuation"},punctuation:/=$/}},string:[{pattern:/"""[\s\S]*?"""/,greedy:!0},{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0,inside:{constant:{pattern:/\b(?:DEFAULT_MT_MODE|(?:MAINSCRIPT|PROGRAM|SCRIPT)DIR|(?:MACHINE|USER)_(?:CLASSIC|PLUS)_PLUGINS)\b/}}}],variable:/\b(?:last)\b/i,boolean:/\b(?:false|no|true|yes)\b/i,keyword:/\b(?:catch|else|for|function|global|if|return|try|while|__END__)\b/i,constant:/\bMT_(?:MULTI_INSTANCE|NICE_FILTER|SERIALIZED|SPECIAL_MT)\b/,"builtin-function":{pattern:i(/\b(?:<<0>>)\b/.source,[u],"i"),alias:"function"},"type-cast":{pattern:i(/\b(?:<<0>>)(?=\s*\()/.source,[a],"i"),alias:"keyword"},function:{pattern:/\b[a-z_]\w*(?=\s*\()|(\.)[a-z_]\w*\b/i,lookbehind:!0},"line-continuation":{pattern:/(^[ \t]*)\\|\\(?=[ \t]*$)/m,lookbehind:!0,alias:"punctuation"},number:/\B\$(?:[\da-f]{6}|[\da-f]{8})\b|(?:(?:\b|\B-)\d+(?:\.\d*)?\b|\B\.\d+\b)/i,operator:/\+\+?|[!=<>]=?|&&|\|\||[?:*/%-]/,punctuation:/[{}\[\]();,.]/},n.languages.avs=n.languages.avisynth})(e)}return k4}var T4,rX;function tFe(){if(rX)return T4;rX=1,T4=t,t.displayName="avroIdl",t.aliases=[];function t(e){e.languages["avro-idl"]={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/(^|[^\\])"(?:[^\r\n"\\]|\\.)*"/,lookbehind:!0,greedy:!0},annotation:{pattern:/@(?:[$\w.-]|`[^\r\n`]+`)+/,greedy:!0,alias:"function"},"function-identifier":{pattern:/`[^\r\n`]+`(?=\s*\()/,greedy:!0,alias:"function"},identifier:{pattern:/`[^\r\n`]+`/,greedy:!0},"class-name":{pattern:/(\b(?:enum|error|protocol|record|throws)\b\s+)[$\w]+/,lookbehind:!0,greedy:!0},keyword:/\b(?:array|boolean|bytes|date|decimal|double|enum|error|false|fixed|float|idl|import|int|local_timestamp_ms|long|map|null|oneway|protocol|record|schema|string|throws|time_ms|timestamp_ms|true|union|uuid|void)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:[{pattern:/(^|[^\w.])-?(?:(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|0x(?:[a-f0-9]+(?:\.[a-f0-9]*)?|\.[a-f0-9]+)(?:p[+-]?\d+)?)[dfl]?(?![\w.])/i,lookbehind:!0},/-?\b(?:Infinity|NaN)\b/],operator:/=/,punctuation:/[()\[\]{}<>.:,;-]/},e.languages.avdl=e.languages["avro-idl"]}return T4}var A4,iX;function Tde(){if(iX)return A4;iX=1,A4=t,t.displayName="bash",t.aliases=["shell"];function t(e){(function(n){var r="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",i={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},a={bash:i,environment:{pattern:RegExp("\\$"+r),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+r),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};n.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+r),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:a},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:i}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:a},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:a.entity}}],environment:{pattern:RegExp("\\$?"+r),alias:"constant"},variable:a.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},i.inside=n.languages.bash;for(var s=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],o=a.variable[1].inside,l=0;l<s.length;l++)o[s[l]]=n.languages.bash[s[l]];n.languages.shell=n.languages.bash})(e)}return A4}var C4,aX;function Ade(){if(aX)return C4;aX=1,C4=t,t.displayName="basic",t.aliases=[];function t(e){e.languages.basic={comment:{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},string:{pattern:/"(?:""|[!#$%&'()*,\/:;<=>?^\w +\-.])*"/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:AS|BEEP|BLOAD|BSAVE|CALL(?: ABSOLUTE)?|CASE|CHAIN|CHDIR|CLEAR|CLOSE|CLS|COM|COMMON|CONST|DATA|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DIM|DO|DOUBLE|ELSE|ELSEIF|END|ENVIRON|ERASE|ERROR|EXIT|FIELD|FILES|FOR|FUNCTION|GET|GOSUB|GOTO|IF|INPUT|INTEGER|IOCTL|KEY|KILL|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|MKDIR|NAME|NEXT|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPTION BASE|OUT|POKE|PUT|READ|REDIM|REM|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SELECT CASE|SHARED|SHELL|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|SUB|SWAP|SYSTEM|THEN|TIMER|TO|TROFF|TRON|TYPE|UNLOCK|UNTIL|USING|VIEW PRINT|WAIT|WEND|WHILE|WRITE)(?:\$|\b)/i,function:/\b(?:ABS|ACCESS|ACOS|ANGLE|AREA|ARITHMETIC|ARRAY|ASIN|ASK|AT|ATN|BASE|BEGIN|BREAK|CAUSE|CEIL|CHR|CLIP|COLLATE|COLOR|CON|COS|COSH|COT|CSC|DATE|DATUM|DEBUG|DECIMAL|DEF|DEG|DEGREES|DELETE|DET|DEVICE|DISPLAY|DOT|ELAPSED|EPS|ERASABLE|EXLINE|EXP|EXTERNAL|EXTYPE|FILETYPE|FIXED|FP|GO|GRAPH|HANDLER|IDN|IMAGE|IN|INT|INTERNAL|IP|IS|KEYED|LBOUND|LCASE|LEFT|LEN|LENGTH|LET|LINE|LINES|LOG|LOG10|LOG2|LTRIM|MARGIN|MAT|MAX|MAXNUM|MID|MIN|MISSING|MOD|NATIVE|NUL|NUMERIC|OF|OPTION|ORD|ORGANIZATION|OUTIN|OUTPUT|PI|POINT|POINTER|POINTS|POS|PRINT|PROGRAM|PROMPT|RAD|RADIANS|RANDOMIZE|RECORD|RECSIZE|RECTYPE|RELATIVE|REMAINDER|REPEAT|REST|RETRY|REWRITE|RIGHT|RND|ROUND|RTRIM|SAME|SEC|SELECT|SEQUENTIAL|SET|SETTER|SGN|SIN|SINH|SIZE|SKIP|SQR|STANDARD|STATUS|STR|STREAM|STYLE|TAB|TAN|TANH|TEMPLATE|TEXT|THERE|TIME|TIMEOUT|TRACE|TRANSFORM|TRUNCATE|UBOUND|UCASE|USE|VAL|VARIABLE|VIEWPORT|WHEN|WINDOW|WITH|ZER|ZONEWIDTH)(?:\$|\b)/i,operator:/<[=>]?|>=?|[+\-*\/^=&]|\b(?:AND|EQV|IMP|NOT|OR|XOR)\b/i,punctuation:/[,;:()]/}}return C4}var R4,sX;function nFe(){if(sX)return R4;sX=1,R4=t,t.displayName="batch",t.aliases=[];function t(e){(function(n){var r=/%%?[~:\w]+%?|!\S+!/,i={pattern:/\/[a-z?]+(?=[ :]|$):?|-[a-z]\b|--[a-z-]+\b/im,alias:"attr-name",inside:{punctuation:/:/}},a=/"(?:[\\"]"|[^"])*"(?!")/,s=/(?:\b|-)\d+\b/;n.languages.batch={comment:[/^::.*/m,{pattern:/((?:^|[&(])[ \t]*)rem\b(?:[^^&)\r\n]|\^(?:\r\n|[\s\S]))*/im,lookbehind:!0}],label:{pattern:/^:.*/m,alias:"property"},command:[{pattern:/((?:^|[&(])[ \t]*)for(?: \/[a-z?](?:[ :](?:"[^"]*"|[^\s"/]\S*))?)* \S+ in \([^)]+\) do/im,lookbehind:!0,inside:{keyword:/\b(?:do|in)\b|^for\b/i,string:a,parameter:i,variable:r,number:s,punctuation:/[()',]/}},{pattern:/((?:^|[&(])[ \t]*)if(?: \/[a-z?](?:[ :](?:"[^"]*"|[^\s"/]\S*))?)* (?:not )?(?:cmdextversion \d+|defined \w+|errorlevel \d+|exist \S+|(?:"[^"]*"|(?!")(?:(?!==)\S)+)?(?:==| (?:equ|geq|gtr|leq|lss|neq) )(?:"[^"]*"|[^\s"]\S*))/im,lookbehind:!0,inside:{keyword:/\b(?:cmdextversion|defined|errorlevel|exist|not)\b|^if\b/i,string:a,parameter:i,variable:r,number:s,operator:/\^|==|\b(?:equ|geq|gtr|leq|lss|neq)\b/i}},{pattern:/((?:^|[&()])[ \t]*)else\b/im,lookbehind:!0,inside:{keyword:/^else\b/i}},{pattern:/((?:^|[&(])[ \t]*)set(?: \/[a-z](?:[ :](?:"[^"]*"|[^\s"/]\S*))?)* (?:[^^&)\r\n]|\^(?:\r\n|[\s\S]))*/im,lookbehind:!0,inside:{keyword:/^set\b/i,string:a,parameter:i,variable:[r,/\w+(?=(?:[*\/%+\-&^|]|<<|>>)?=)/],number:s,operator:/[*\/%+\-&^|]=?|<<=?|>>=?|[!~_=]/,punctuation:/[()',]/}},{pattern:/((?:^|[&(])[ \t]*@?)\w+\b(?:"(?:[\\"]"|[^"])*"(?!")|[^"^&)\r\n]|\^(?:\r\n|[\s\S]))*/m,lookbehind:!0,inside:{keyword:/^\w+\b/,string:a,parameter:i,label:{pattern:/(^\s*):\S+/m,lookbehind:!0,alias:"property"},variable:r,number:s,operator:/\^/}}],operator:/[&@]/,punctuation:/[()']/}})(e)}return R4}var I4,oX;function rFe(){if(oX)return I4;oX=1,I4=t,t.displayName="bbcode",t.aliases=["shortcode"];function t(e){e.languages.bbcode={tag:{pattern:/\[\/?[^\s=\]]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'"\]=]+))?(?:\s+[^\s=\]]+\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'"\]=]+))*\s*\]/,inside:{tag:{pattern:/^\[\/?[^\s=\]]+/,inside:{punctuation:/^\[\/?/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'"\]=]+)/,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\]/,"attr-name":/[^\s=\]]+/}}},e.languages.shortcode=e.languages.bbcode}return I4}var N4,lX;function iFe(){if(lX)return N4;lX=1,N4=t,t.displayName="bicep",t.aliases=[];function t(e){e.languages.bicep={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],property:[{pattern:/([\r\n][ \t]*)[a-z_]\w*(?=[ \t]*:)/i,lookbehind:!0},{pattern:/([\r\n][ \t]*)'(?:\\.|\$(?!\{)|[^'\\\r\n$])*'(?=[ \t]*:)/,lookbehind:!0,greedy:!0}],string:[{pattern:/'''[^'][\s\S]*?'''/,greedy:!0},{pattern:/(^|[^\\'])'(?:\\.|\$(?!\{)|[^'\\\r\n$])*'/,lookbehind:!0,greedy:!0}],"interpolated-string":{pattern:/(^|[^\\'])'(?:\\.|\$(?:(?!\{)|\{[^{}\r\n]*\})|[^'\\\r\n$])*'/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/\$\{[^{}\r\n]*\}/,inside:{expression:{pattern:/(^\$\{)[\s\S]+(?=\}$)/,lookbehind:!0},punctuation:/^\$\{|\}$/}},string:/[\s\S]+/}},datatype:{pattern:/(\b(?:output|param)\b[ \t]+\w+[ \t]+)\w+\b/,lookbehind:!0,alias:"class-name"},boolean:/\b(?:false|true)\b/,keyword:/\b(?:existing|for|if|in|module|null|output|param|resource|targetScope|var)\b/,decorator:/@\w+\b/,function:/\b[a-z_]\w*(?=[ \t]*\()/i,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/,punctuation:/[{}[\];(),.:]/},e.languages.bicep["interpolated-string"].inside.interpolation.inside.expression.inside=e.languages.bicep}return N4}var O4,uX;function aFe(){if(uX)return O4;uX=1,O4=t,t.displayName="birb",t.aliases=[];function t(e){e.languages.birb=e.languages.extend("clike",{string:{pattern:/r?("|')(?:\\.|(?!\1)[^\\])*\1/,greedy:!0},"class-name":[/\b[A-Z](?:[\d_]*[a-zA-Z]\w*)?\b/,/\b(?:[A-Z]\w*|(?!(?:var|void)\b)[a-z]\w*)(?=\s+\w+\s*[;,=()])/],keyword:/\b(?:assert|break|case|class|const|default|else|enum|final|follows|for|grab|if|nest|new|next|noSeeb|return|static|switch|throw|var|void|while)\b/,operator:/\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?|:/,variable:/\b[a-z_]\w*\b/}),e.languages.insertBefore("birb","function",{metadata:{pattern:/<\w+>/,greedy:!0,alias:"symbol"}})}return O4}var M4,cX;function sFe(){if(cX)return M4;cX=1;var t=I0();M4=e,e.displayName="bison",e.aliases=[];function e(n){n.register(t),n.languages.bison=n.languages.extend("c",{}),n.languages.insertBefore("bison","comment",{bison:{pattern:/^(?:[^%]|%(?!%))*%%[\s\S]*?%%/,inside:{c:{pattern:/%\{[\s\S]*?%\}|\{(?:\{[^}]*\}|[^{}])*\}/,inside:{delimiter:{pattern:/^%?\{|%?\}$/,alias:"punctuation"},"bison-variable":{pattern:/[$@](?:<[^\s>]+>)?[\w$]+/,alias:"variable",inside:{punctuation:/<|>/}},rest:n.languages.c}},comment:n.languages.c.comment,string:n.languages.c.string,property:/\S+(?=:)/,keyword:/%\w+/,number:{pattern:/(^|[^@])\b(?:0x[\da-f]+|\d+)/i,lookbehind:!0},punctuation:/%[%?]|[|:;\[\]<>]/}}})}return M4}var P4,dX;function oFe(){if(dX)return P4;dX=1,P4=t,t.displayName="bnf",t.aliases=["rbnf"];function t(e){e.languages.bnf={string:{pattern:/"[^\r\n"]*"|'[^\r\n']*'/},definition:{pattern:/<[^<>\r\n\t]+>(?=\s*::=)/,alias:["rule","keyword"],inside:{punctuation:/^<|>$/}},rule:{pattern:/<[^<>\r\n\t]+>/,inside:{punctuation:/^<|>$/}},operator:/::=|[|()[\]{}*+?]|\.{3}/},e.languages.rbnf=e.languages.bnf}return P4}var L4,hX;function lFe(){if(hX)return L4;hX=1,L4=t,t.displayName="brainfuck",t.aliases=[];function t(e){e.languages.brainfuck={pointer:{pattern:/<|>/,alias:"keyword"},increment:{pattern:/\+/,alias:"inserted"},decrement:{pattern:/-/,alias:"deleted"},branching:{pattern:/\[|\]/,alias:"important"},operator:/[.,]/,comment:/\S+/}}return L4}var D4,fX;function uFe(){if(fX)return D4;fX=1,D4=t,t.displayName="brightscript",t.aliases=[];function t(e){e.languages.brightscript={comment:/(?:\brem|').*/i,"directive-statement":{pattern:/(^[\t ]*)#(?:const|else(?:[\t ]+if)?|end[\t ]+if|error|if).*/im,lookbehind:!0,alias:"property",inside:{"error-message":{pattern:/(^#error).+/,lookbehind:!0},directive:{pattern:/^#(?:const|else(?:[\t ]+if)?|end[\t ]+if|error|if)/,alias:"keyword"},expression:{pattern:/[\s\S]+/,inside:null}}},property:{pattern:/([\r\n{,][\t ]*)(?:(?!\d)\w+|"(?:[^"\r\n]|"")*"(?!"))(?=[ \t]*:)/,lookbehind:!0,greedy:!0},string:{pattern:/"(?:[^"\r\n]|"")*"(?!")/,greedy:!0},"class-name":{pattern:/(\bAs[\t ]+)\w+/i,lookbehind:!0},keyword:/\b(?:As|Dim|Each|Else|Elseif|End|Exit|For|Function|Goto|If|In|Print|Return|Step|Stop|Sub|Then|To|While)\b/i,boolean:/\b(?:false|true)\b/i,function:/\b(?!\d)\w+(?=[\t ]*\()/,number:/(?:\b\d+(?:\.\d+)?(?:[ed][+-]\d+)?|&h[a-f\d]+)\b[%&!#]?/i,operator:/--|\+\+|>>=?|<<=?|<>|[-+*/\\<>]=?|[:^=?]|\b(?:and|mod|not|or)\b/i,punctuation:/[.,;()[\]{}]/,constant:/\b(?:LINE_NUM)\b/i},e.languages.brightscript["directive-statement"].inside.expression.inside=e.languages.brightscript}return D4}var F4,pX;function cFe(){if(pX)return F4;pX=1,F4=t,t.displayName="bro",t.aliases=[];function t(e){e.languages.bro={comment:{pattern:/(^|[^\\$])#.*/,lookbehind:!0,inside:{italic:/\b(?:FIXME|TODO|XXX)\b/}},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},boolean:/\b[TF]\b/,function:{pattern:/(\b(?:event|function|hook)[ \t]+)\w+(?:::\w+)?/,lookbehind:!0},builtin:/(?:@(?:load(?:-(?:plugin|sigs))?|unload|prefixes|ifn?def|else|(?:end)?if|DIR|FILENAME))|(?:&?(?:add_func|create_expire|default|delete_func|encrypt|error_handler|expire_func|group|log|mergeable|optional|persistent|priority|raw_output|read_expire|redef|rotate_interval|rotate_size|synchronized|type_column|write_expire))/,constant:{pattern:/(\bconst[ \t]+)\w+/i,lookbehind:!0},keyword:/\b(?:add|addr|alarm|any|bool|break|const|continue|count|delete|double|else|enum|event|export|file|for|function|global|hook|if|in|int|interval|local|module|next|of|opaque|pattern|port|print|record|return|schedule|set|string|subnet|table|time|timeout|using|vector|when)\b/,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&|\|\|?|\?|\*|\/|~|\^|%/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,punctuation:/[{}[\];(),.:]/}}return F4}var B4,mX;function dFe(){if(mX)return B4;mX=1,B4=t,t.displayName="bsl",t.aliases=[];function t(e){e.languages.bsl={comment:/\/\/.*/,string:[{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},{pattern:/'(?:[^'\r\n\\]|\\.)*'/}],keyword:[{pattern:/(^|[^\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])(?:пока|для|новый|прервать|попытка|исключение|вызватьисключение|иначе|конецпопытки|неопределено|функция|перем|возврат|конецфункции|если|иначеесли|процедура|конецпроцедуры|тогда|знач|экспорт|конецесли|из|каждого|истина|ложь|по|цикл|конеццикла|выполнить)(?![\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])/i,lookbehind:!0},{pattern:/\b(?:break|do|each|else|elseif|enddo|endfunction|endif|endprocedure|endtry|except|execute|export|false|for|function|if|in|new|null|procedure|raise|return|then|to|true|try|undefined|val|var|while)\b/i}],number:{pattern:/(^(?=\d)|[^\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])(?:\d+(?:\.\d*)?|\.\d+)(?:E[+-]?\d+)?/i,lookbehind:!0},operator:[/[<>+\-*/]=?|[%=]/,{pattern:/(^|[^\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])(?:и|или|не)(?![\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])/i,lookbehind:!0},{pattern:/\b(?:and|not|or)\b/i}],punctuation:/\(\.|\.\)|[()\[\]:;,.]/,directive:[{pattern:/^([ \t]*)&.*/m,lookbehind:!0,greedy:!0,alias:"important"},{pattern:/^([ \t]*)#.*/gm,lookbehind:!0,greedy:!0,alias:"important"}]},e.languages.oscript=e.languages.bsl}return B4}var U4,gX;function hFe(){if(gX)return U4;gX=1,U4=t,t.displayName="cfscript",t.aliases=[];function t(e){e.languages.cfscript=e.languages.extend("clike",{comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,inside:{annotation:{pattern:/(?:^|[^.])@[\w\.]+/,alias:"punctuation"}}},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],keyword:/\b(?:abstract|break|catch|component|continue|default|do|else|extends|final|finally|for|function|if|in|include|package|private|property|public|remote|required|rethrow|return|static|switch|throw|try|var|while|xml)\b(?!\s*=)/,operator:[/\+\+|--|&&|\|\||::|=>|[!=]==|<=?|>=?|[-+*/%&|^!=<>]=?|\?(?:\.|:)?|[?:]/,/\b(?:and|contains|eq|equal|eqv|gt|gte|imp|is|lt|lte|mod|not|or|xor)\b/],scope:{pattern:/\b(?:application|arguments|cgi|client|cookie|local|session|super|this|variables)\b/,alias:"global"},type:{pattern:/\b(?:any|array|binary|boolean|date|guid|numeric|query|string|struct|uuid|void|xml)\b/,alias:"builtin"}}),e.languages.insertBefore("cfscript","keyword",{"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"}}),delete e.languages.cfscript["class-name"],e.languages.cfc=e.languages.cfscript}return U4}var j4,yX;function fFe(){if(yX)return j4;yX=1;var t=LF();j4=e,e.displayName="chaiscript",e.aliases=[];function e(n){n.register(t),n.languages.chaiscript=n.languages.extend("clike",{string:{pattern:/(^|[^\\])'(?:[^'\\]|\\[\s\S])*'/,lookbehind:!0,greedy:!0},"class-name":[{pattern:/(\bclass\s+)\w+/,lookbehind:!0},{pattern:/(\b(?:attr|def)\s+)\w+(?=\s*::)/,lookbehind:!0}],keyword:/\b(?:attr|auto|break|case|catch|class|continue|def|default|else|finally|for|fun|global|if|return|switch|this|try|var|while)\b/,number:[n.languages.cpp.number,/\b(?:Infinity|NaN)\b/],operator:/>>=?|<<=?|\|\||&&|:[:=]?|--|\+\+|[=!<>+\-*/%|&^]=?|[?~]|`[^`\r\n]{1,4}`/}),n.languages.insertBefore("chaiscript","operator",{"parameter-type":{pattern:/([,(]\s*)\w+(?=\s+\w)/,lookbehind:!0,alias:"class-name"}}),n.languages.insertBefore("chaiscript","string",{"string-interpolation":{pattern:/(^|[^\\])"(?:[^"$\\]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*"/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\}/,lookbehind:!0,inside:{"interpolation-expression":{pattern:/(^\$\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:n.languages.chaiscript},"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"}}},string:/[\s\S]+/}}})}return j4}var z4,bX;function pFe(){if(bX)return z4;bX=1,z4=t,t.displayName="cil",t.aliases=[];function t(e){e.languages.cil={comment:/\/\/.*/,string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},directive:{pattern:/(^|\W)\.[a-z]+(?=\s)/,lookbehind:!0,alias:"class-name"},variable:/\[[\w\.]+\]/,keyword:/\b(?:abstract|ansi|assembly|auto|autochar|beforefieldinit|bool|bstr|byvalstr|catch|char|cil|class|currency|date|decimal|default|enum|error|explicit|extends|extern|famandassem|family|famorassem|final(?:ly)?|float32|float64|hidebysig|u?int(?:8|16|32|64)?|iant|idispatch|implements|import|initonly|instance|interface|iunknown|literal|lpstr|lpstruct|lptstr|lpwstr|managed|method|native(?:Type)?|nested|newslot|object(?:ref)?|pinvokeimpl|private|privatescope|public|reqsecobj|rtspecialname|runtime|sealed|sequential|serializable|specialname|static|string|struct|syschar|tbstr|unicode|unmanagedexp|unsigned|value(?:type)?|variant|virtual|void)\b/,function:/\b(?:(?:constrained|no|readonly|tail|unaligned|volatile)\.)?(?:conv\.(?:[iu][1248]?|ovf\.[iu][1248]?(?:\.un)?|r\.un|r4|r8)|ldc\.(?:i4(?:\.\d+|\.[mM]1|\.s)?|i8|r4|r8)|ldelem(?:\.[iu][1248]?|\.r[48]|\.ref|a)?|ldind\.(?:[iu][1248]?|r[48]|ref)|stelem\.?(?:i[1248]?|r[48]|ref)?|stind\.(?:i[1248]?|r[48]|ref)?|end(?:fault|filter|finally)|ldarg(?:\.[0-3s]|a(?:\.s)?)?|ldloc(?:\.\d+|\.s)?|sub(?:\.ovf(?:\.un)?)?|mul(?:\.ovf(?:\.un)?)?|add(?:\.ovf(?:\.un)?)?|stloc(?:\.[0-3s])?|refany(?:type|val)|blt(?:\.un)?(?:\.s)?|ble(?:\.un)?(?:\.s)?|bgt(?:\.un)?(?:\.s)?|bge(?:\.un)?(?:\.s)?|unbox(?:\.any)?|init(?:blk|obj)|call(?:i|virt)?|brfalse(?:\.s)?|bne\.un(?:\.s)?|ldloca(?:\.s)?|brzero(?:\.s)?|brtrue(?:\.s)?|brnull(?:\.s)?|brinst(?:\.s)?|starg(?:\.s)?|leave(?:\.s)?|shr(?:\.un)?|rem(?:\.un)?|div(?:\.un)?|clt(?:\.un)?|alignment|castclass|ldvirtftn|beq(?:\.s)?|ckfinite|ldsflda|ldtoken|localloc|mkrefany|rethrow|cgt\.un|arglist|switch|stsfld|sizeof|newobj|newarr|ldsfld|ldnull|ldflda|isinst|throw|stobj|stfld|ldstr|ldobj|ldlen|ldftn|ldfld|cpobj|cpblk|break|br\.s|xor|shl|ret|pop|not|nop|neg|jmp|dup|cgt|ceq|box|and|or|br)\b/,boolean:/\b(?:false|true)\b/,number:/\b-?(?:0x[0-9a-f]+|\d+)(?:\.[0-9a-f]+)?\b/i,punctuation:/[{}[\];(),:=]|IL_[0-9A-Za-z]+/}}return z4}var $4,vX;function mFe(){if(vX)return $4;vX=1,$4=t,t.displayName="clojure",t.aliases=[];function t(e){e.languages.clojure={comment:{pattern:/;.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},char:/\\\w+/,symbol:{pattern:/(^|[\s()\[\]{},])::?[\w*+!?'<>=/.-]+/,lookbehind:!0},keyword:{pattern:/(\()(?:-|->|->>|\.|\.\.|\*|\/|\+|<|<=|=|==|>|>=|accessor|agent|agent-errors|aget|alength|all-ns|alter|and|append-child|apply|array-map|aset|aset-boolean|aset-byte|aset-char|aset-double|aset-float|aset-int|aset-long|aset-short|assert|assoc|await|await-for|bean|binding|bit-and|bit-not|bit-or|bit-shift-left|bit-shift-right|bit-xor|boolean|branch\?|butlast|byte|cast|char|children|class|clear-agent-errors|comment|commute|comp|comparator|complement|concat|cond|conj|cons|constantly|construct-proxy|contains\?|count|create-ns|create-struct|cycle|dec|declare|def|def-|definline|definterface|defmacro|defmethod|defmulti|defn|defn-|defonce|defproject|defprotocol|defrecord|defstruct|deftype|deref|difference|disj|dissoc|distinct|do|doall|doc|dorun|doseq|dosync|dotimes|doto|double|down|drop|drop-while|edit|end\?|ensure|eval|every\?|false\?|ffirst|file-seq|filter|find|find-doc|find-ns|find-var|first|float|flush|fn|fnseq|for|frest|gensym|get|get-proxy-class|hash-map|hash-set|identical\?|identity|if|if-let|if-not|import|in-ns|inc|index|insert-child|insert-left|insert-right|inspect-table|inspect-tree|instance\?|int|interleave|intersection|into|into-array|iterate|join|key|keys|keyword|keyword\?|last|lazy-cat|lazy-cons|left|lefts|let|line-seq|list|list\*|load|load-file|locking|long|loop|macroexpand|macroexpand-1|make-array|make-node|map|map-invert|map\?|mapcat|max|max-key|memfn|merge|merge-with|meta|min|min-key|monitor-enter|name|namespace|neg\?|new|newline|next|nil\?|node|not|not-any\?|not-every\?|not=|ns|ns-imports|ns-interns|ns-map|ns-name|ns-publics|ns-refers|ns-resolve|ns-unmap|nth|nthrest|or|parse|partial|path|peek|pop|pos\?|pr|pr-str|print|print-str|println|println-str|prn|prn-str|project|proxy|proxy-mappings|quot|quote|rand|rand-int|range|re-find|re-groups|re-matcher|re-matches|re-pattern|re-seq|read|read-line|recur|reduce|ref|ref-set|refer|rem|remove|remove-method|remove-ns|rename|rename-keys|repeat|replace|replicate|resolve|rest|resultset-seq|reverse|rfirst|right|rights|root|rrest|rseq|second|select|select-keys|send|send-off|seq|seq-zip|seq\?|set|set!|short|slurp|some|sort|sort-by|sorted-map|sorted-map-by|sorted-set|special-symbol\?|split-at|split-with|str|string\?|struct|struct-map|subs|subvec|symbol|symbol\?|sync|take|take-nth|take-while|test|throw|time|to-array|to-array-2d|tree-seq|true\?|try|union|up|update-proxy|val|vals|var|var-get|var-set|var\?|vector|vector-zip|vector\?|when|when-first|when-let|when-not|with-local-vars|with-meta|with-open|with-out-str|xml-seq|xml-zip|zero\?|zipmap|zipper)(?=[\s)]|$)/,lookbehind:!0},boolean:/\b(?:false|nil|true)\b/,number:{pattern:/(^|[^\w$@])(?:\d+(?:[/.]\d+)?(?:e[+-]?\d+)?|0x[a-f0-9]+|[1-9]\d?r[a-z0-9]+)[lmn]?(?![\w$@])/i,lookbehind:!0},function:{pattern:/((?:^|[^'])\()[\w*+!?'<>=/.-]+(?=[\s)]|$)/,lookbehind:!0},operator:/[#@^`~]/,punctuation:/[{}\[\](),]/}}return $4}var q4,wX;function gFe(){if(wX)return q4;wX=1,q4=t,t.displayName="cmake",t.aliases=[];function t(e){e.languages.cmake={comment:/#.*/,string:{pattern:/"(?:[^\\"]|\\.)*"/,greedy:!0,inside:{interpolation:{pattern:/\$\{(?:[^{}$]|\$\{[^{}$]*\})*\}/,inside:{punctuation:/\$\{|\}/,variable:/\w+/}}}},variable:/\b(?:CMAKE_\w+|\w+_(?:(?:BINARY|SOURCE)_DIR|DESCRIPTION|HOMEPAGE_URL|ROOT|VERSION(?:_MAJOR|_MINOR|_PATCH|_TWEAK)?)|(?:ANDROID|APPLE|BORLAND|BUILD_SHARED_LIBS|CACHE|CPACK_(?:ABSOLUTE_DESTINATION_FILES|COMPONENT_INCLUDE_TOPLEVEL_DIRECTORY|ERROR_ON_ABSOLUTE_INSTALL_DESTINATION|INCLUDE_TOPLEVEL_DIRECTORY|INSTALL_DEFAULT_DIRECTORY_PERMISSIONS|INSTALL_SCRIPT|PACKAGING_INSTALL_PREFIX|SET_DESTDIR|WARN_ON_ABSOLUTE_INSTALL_DESTINATION)|CTEST_(?:BINARY_DIRECTORY|BUILD_COMMAND|BUILD_NAME|BZR_COMMAND|BZR_UPDATE_OPTIONS|CHANGE_ID|CHECKOUT_COMMAND|CONFIGURATION_TYPE|CONFIGURE_COMMAND|COVERAGE_COMMAND|COVERAGE_EXTRA_FLAGS|CURL_OPTIONS|CUSTOM_(?:COVERAGE_EXCLUDE|ERROR_EXCEPTION|ERROR_MATCH|ERROR_POST_CONTEXT|ERROR_PRE_CONTEXT|MAXIMUM_FAILED_TEST_OUTPUT_SIZE|MAXIMUM_NUMBER_OF_(?:ERRORS|WARNINGS)|MAXIMUM_PASSED_TEST_OUTPUT_SIZE|MEMCHECK_IGNORE|POST_MEMCHECK|POST_TEST|PRE_MEMCHECK|PRE_TEST|TESTS_IGNORE|WARNING_EXCEPTION|WARNING_MATCH)|CVS_CHECKOUT|CVS_COMMAND|CVS_UPDATE_OPTIONS|DROP_LOCATION|DROP_METHOD|DROP_SITE|DROP_SITE_CDASH|DROP_SITE_PASSWORD|DROP_SITE_USER|EXTRA_COVERAGE_GLOB|GIT_COMMAND|GIT_INIT_SUBMODULES|GIT_UPDATE_CUSTOM|GIT_UPDATE_OPTIONS|HG_COMMAND|HG_UPDATE_OPTIONS|LABELS_FOR_SUBPROJECTS|MEMORYCHECK_(?:COMMAND|COMMAND_OPTIONS|SANITIZER_OPTIONS|SUPPRESSIONS_FILE|TYPE)|NIGHTLY_START_TIME|P4_CLIENT|P4_COMMAND|P4_OPTIONS|P4_UPDATE_OPTIONS|RUN_CURRENT_SCRIPT|SCP_COMMAND|SITE|SOURCE_DIRECTORY|SUBMIT_URL|SVN_COMMAND|SVN_OPTIONS|SVN_UPDATE_OPTIONS|TEST_LOAD|TEST_TIMEOUT|TRIGGER_SITE|UPDATE_COMMAND|UPDATE_OPTIONS|UPDATE_VERSION_ONLY|USE_LAUNCHERS)|CYGWIN|ENV|EXECUTABLE_OUTPUT_PATH|GHS-MULTI|IOS|LIBRARY_OUTPUT_PATH|MINGW|MSVC(?:10|11|12|14|60|70|71|80|90|_IDE|_TOOLSET_VERSION|_VERSION)?|MSYS|PROJECT_(?:BINARY_DIR|DESCRIPTION|HOMEPAGE_URL|NAME|SOURCE_DIR|VERSION|VERSION_(?:MAJOR|MINOR|PATCH|TWEAK))|UNIX|WIN32|WINCE|WINDOWS_PHONE|WINDOWS_STORE|XCODE|XCODE_VERSION))\b/,property:/\b(?:cxx_\w+|(?:ARCHIVE_OUTPUT_(?:DIRECTORY|NAME)|COMPILE_DEFINITIONS|COMPILE_PDB_NAME|COMPILE_PDB_OUTPUT_DIRECTORY|EXCLUDE_FROM_DEFAULT_BUILD|IMPORTED_(?:IMPLIB|LIBNAME|LINK_DEPENDENT_LIBRARIES|LINK_INTERFACE_LANGUAGES|LINK_INTERFACE_LIBRARIES|LINK_INTERFACE_MULTIPLICITY|LOCATION|NO_SONAME|OBJECTS|SONAME)|INTERPROCEDURAL_OPTIMIZATION|LIBRARY_OUTPUT_DIRECTORY|LIBRARY_OUTPUT_NAME|LINK_FLAGS|LINK_INTERFACE_LIBRARIES|LINK_INTERFACE_MULTIPLICITY|LOCATION|MAP_IMPORTED_CONFIG|OSX_ARCHITECTURES|OUTPUT_NAME|PDB_NAME|PDB_OUTPUT_DIRECTORY|RUNTIME_OUTPUT_DIRECTORY|RUNTIME_OUTPUT_NAME|STATIC_LIBRARY_FLAGS|VS_CSHARP|VS_DOTNET_REFERENCEPROP|VS_DOTNET_REFERENCE|VS_GLOBAL_SECTION_POST|VS_GLOBAL_SECTION_PRE|VS_GLOBAL|XCODE_ATTRIBUTE)_\w+|\w+_(?:CLANG_TIDY|COMPILER_LAUNCHER|CPPCHECK|CPPLINT|INCLUDE_WHAT_YOU_USE|OUTPUT_NAME|POSTFIX|VISIBILITY_PRESET)|ABSTRACT|ADDITIONAL_MAKE_CLEAN_FILES|ADVANCED|ALIASED_TARGET|ALLOW_DUPLICATE_CUSTOM_TARGETS|ANDROID_(?:ANT_ADDITIONAL_OPTIONS|API|API_MIN|ARCH|ASSETS_DIRECTORIES|GUI|JAR_DEPENDENCIES|NATIVE_LIB_DEPENDENCIES|NATIVE_LIB_DIRECTORIES|PROCESS_MAX|PROGUARD|PROGUARD_CONFIG_PATH|SECURE_PROPS_PATH|SKIP_ANT_STEP|STL_TYPE)|ARCHIVE_OUTPUT_DIRECTORY|ATTACHED_FILES|ATTACHED_FILES_ON_FAIL|AUTOGEN_(?:BUILD_DIR|ORIGIN_DEPENDS|PARALLEL|SOURCE_GROUP|TARGETS_FOLDER|TARGET_DEPENDS)|AUTOMOC|AUTOMOC_(?:COMPILER_PREDEFINES|DEPEND_FILTERS|EXECUTABLE|MACRO_NAMES|MOC_OPTIONS|SOURCE_GROUP|TARGETS_FOLDER)|AUTORCC|AUTORCC_EXECUTABLE|AUTORCC_OPTIONS|AUTORCC_SOURCE_GROUP|AUTOUIC|AUTOUIC_EXECUTABLE|AUTOUIC_OPTIONS|AUTOUIC_SEARCH_PATHS|BINARY_DIR|BUILDSYSTEM_TARGETS|BUILD_RPATH|BUILD_RPATH_USE_ORIGIN|BUILD_WITH_INSTALL_NAME_DIR|BUILD_WITH_INSTALL_RPATH|BUNDLE|BUNDLE_EXTENSION|CACHE_VARIABLES|CLEAN_NO_CUSTOM|COMMON_LANGUAGE_RUNTIME|COMPATIBLE_INTERFACE_(?:BOOL|NUMBER_MAX|NUMBER_MIN|STRING)|COMPILE_(?:DEFINITIONS|FEATURES|FLAGS|OPTIONS|PDB_NAME|PDB_OUTPUT_DIRECTORY)|COST|CPACK_DESKTOP_SHORTCUTS|CPACK_NEVER_OVERWRITE|CPACK_PERMANENT|CPACK_STARTUP_SHORTCUTS|CPACK_START_MENU_SHORTCUTS|CPACK_WIX_ACL|CROSSCOMPILING_EMULATOR|CUDA_EXTENSIONS|CUDA_PTX_COMPILATION|CUDA_RESOLVE_DEVICE_SYMBOLS|CUDA_SEPARABLE_COMPILATION|CUDA_STANDARD|CUDA_STANDARD_REQUIRED|CXX_EXTENSIONS|CXX_STANDARD|CXX_STANDARD_REQUIRED|C_EXTENSIONS|C_STANDARD|C_STANDARD_REQUIRED|DEBUG_CONFIGURATIONS|DEFINE_SYMBOL|DEFINITIONS|DEPENDS|DEPLOYMENT_ADDITIONAL_FILES|DEPLOYMENT_REMOTE_DIRECTORY|DISABLED|DISABLED_FEATURES|ECLIPSE_EXTRA_CPROJECT_CONTENTS|ECLIPSE_EXTRA_NATURES|ENABLED_FEATURES|ENABLED_LANGUAGES|ENABLE_EXPORTS|ENVIRONMENT|EXCLUDE_FROM_ALL|EXCLUDE_FROM_DEFAULT_BUILD|EXPORT_NAME|EXPORT_PROPERTIES|EXTERNAL_OBJECT|EchoString|FAIL_REGULAR_EXPRESSION|FIND_LIBRARY_USE_LIB32_PATHS|FIND_LIBRARY_USE_LIB64_PATHS|FIND_LIBRARY_USE_LIBX32_PATHS|FIND_LIBRARY_USE_OPENBSD_VERSIONING|FIXTURES_CLEANUP|FIXTURES_REQUIRED|FIXTURES_SETUP|FOLDER|FRAMEWORK|Fortran_FORMAT|Fortran_MODULE_DIRECTORY|GENERATED|GENERATOR_FILE_NAME|GENERATOR_IS_MULTI_CONFIG|GHS_INTEGRITY_APP|GHS_NO_SOURCE_GROUP_FILE|GLOBAL_DEPENDS_DEBUG_MODE|GLOBAL_DEPENDS_NO_CYCLES|GNUtoMS|HAS_CXX|HEADER_FILE_ONLY|HELPSTRING|IMPLICIT_DEPENDS_INCLUDE_TRANSFORM|IMPORTED|IMPORTED_(?:COMMON_LANGUAGE_RUNTIME|CONFIGURATIONS|GLOBAL|IMPLIB|LIBNAME|LINK_DEPENDENT_LIBRARIES|LINK_INTERFACE_(?:LANGUAGES|LIBRARIES|MULTIPLICITY)|LOCATION|NO_SONAME|OBJECTS|SONAME)|IMPORT_PREFIX|IMPORT_SUFFIX|INCLUDE_DIRECTORIES|INCLUDE_REGULAR_EXPRESSION|INSTALL_NAME_DIR|INSTALL_RPATH|INSTALL_RPATH_USE_LINK_PATH|INTERFACE_(?:AUTOUIC_OPTIONS|COMPILE_DEFINITIONS|COMPILE_FEATURES|COMPILE_OPTIONS|INCLUDE_DIRECTORIES|LINK_DEPENDS|LINK_DIRECTORIES|LINK_LIBRARIES|LINK_OPTIONS|POSITION_INDEPENDENT_CODE|SOURCES|SYSTEM_INCLUDE_DIRECTORIES)|INTERPROCEDURAL_OPTIMIZATION|IN_TRY_COMPILE|IOS_INSTALL_COMBINED|JOB_POOLS|JOB_POOL_COMPILE|JOB_POOL_LINK|KEEP_EXTENSION|LABELS|LANGUAGE|LIBRARY_OUTPUT_DIRECTORY|LINKER_LANGUAGE|LINK_(?:DEPENDS|DEPENDS_NO_SHARED|DIRECTORIES|FLAGS|INTERFACE_LIBRARIES|INTERFACE_MULTIPLICITY|LIBRARIES|OPTIONS|SEARCH_END_STATIC|SEARCH_START_STATIC|WHAT_YOU_USE)|LISTFILE_STACK|LOCATION|MACOSX_BUNDLE|MACOSX_BUNDLE_INFO_PLIST|MACOSX_FRAMEWORK_INFO_PLIST|MACOSX_PACKAGE_LOCATION|MACOSX_RPATH|MACROS|MANUALLY_ADDED_DEPENDENCIES|MEASUREMENT|MODIFIED|NAME|NO_SONAME|NO_SYSTEM_FROM_IMPORTED|OBJECT_DEPENDS|OBJECT_OUTPUTS|OSX_ARCHITECTURES|OUTPUT_NAME|PACKAGES_FOUND|PACKAGES_NOT_FOUND|PARENT_DIRECTORY|PASS_REGULAR_EXPRESSION|PDB_NAME|PDB_OUTPUT_DIRECTORY|POSITION_INDEPENDENT_CODE|POST_INSTALL_SCRIPT|PREDEFINED_TARGETS_FOLDER|PREFIX|PRE_INSTALL_SCRIPT|PRIVATE_HEADER|PROCESSORS|PROCESSOR_AFFINITY|PROJECT_LABEL|PUBLIC_HEADER|REPORT_UNDEFINED_PROPERTIES|REQUIRED_FILES|RESOURCE|RESOURCE_LOCK|RULE_LAUNCH_COMPILE|RULE_LAUNCH_CUSTOM|RULE_LAUNCH_LINK|RULE_MESSAGES|RUNTIME_OUTPUT_DIRECTORY|RUN_SERIAL|SKIP_AUTOGEN|SKIP_AUTOMOC|SKIP_AUTORCC|SKIP_AUTOUIC|SKIP_BUILD_RPATH|SKIP_RETURN_CODE|SOURCES|SOURCE_DIR|SOVERSION|STATIC_LIBRARY_FLAGS|STATIC_LIBRARY_OPTIONS|STRINGS|SUBDIRECTORIES|SUFFIX|SYMBOLIC|TARGET_ARCHIVES_MAY_BE_SHARED_LIBS|TARGET_MESSAGES|TARGET_SUPPORTS_SHARED_LIBS|TESTS|TEST_INCLUDE_FILE|TEST_INCLUDE_FILES|TIMEOUT|TIMEOUT_AFTER_MATCH|TYPE|USE_FOLDERS|VALUE|VARIABLES|VERSION|VISIBILITY_INLINES_HIDDEN|VS_(?:CONFIGURATION_TYPE|COPY_TO_OUT_DIR|DEBUGGER_(?:COMMAND|COMMAND_ARGUMENTS|ENVIRONMENT|WORKING_DIRECTORY)|DEPLOYMENT_CONTENT|DEPLOYMENT_LOCATION|DOTNET_REFERENCES|DOTNET_REFERENCES_COPY_LOCAL|GLOBAL_KEYWORD|GLOBAL_PROJECT_TYPES|GLOBAL_ROOTNAMESPACE|INCLUDE_IN_VSIX|IOT_STARTUP_TASK|KEYWORD|RESOURCE_GENERATOR|SCC_AUXPATH|SCC_LOCALPATH|SCC_PROJECTNAME|SCC_PROVIDER|SDK_REFERENCES|SHADER_(?:DISABLE_OPTIMIZATIONS|ENABLE_DEBUG|ENTRYPOINT|FLAGS|MODEL|OBJECT_FILE_NAME|OUTPUT_HEADER_FILE|TYPE|VARIABLE_NAME)|STARTUP_PROJECT|TOOL_OVERRIDE|USER_PROPS|WINRT_COMPONENT|WINRT_EXTENSIONS|WINRT_REFERENCES|XAML_TYPE)|WILL_FAIL|WIN32_EXECUTABLE|WINDOWS_EXPORT_ALL_SYMBOLS|WORKING_DIRECTORY|WRAP_EXCLUDE|XCODE_(?:EMIT_EFFECTIVE_PLATFORM_NAME|EXPLICIT_FILE_TYPE|FILE_ATTRIBUTES|LAST_KNOWN_FILE_TYPE|PRODUCT_TYPE|SCHEME_(?:ADDRESS_SANITIZER|ADDRESS_SANITIZER_USE_AFTER_RETURN|ARGUMENTS|DISABLE_MAIN_THREAD_CHECKER|DYNAMIC_LIBRARY_LOADS|DYNAMIC_LINKER_API_USAGE|ENVIRONMENT|EXECUTABLE|GUARD_MALLOC|MAIN_THREAD_CHECKER_STOP|MALLOC_GUARD_EDGES|MALLOC_SCRIBBLE|MALLOC_STACK|THREAD_SANITIZER(?:_STOP)?|UNDEFINED_BEHAVIOUR_SANITIZER(?:_STOP)?|ZOMBIE_OBJECTS))|XCTEST)\b/,keyword:/\b(?:add_compile_definitions|add_compile_options|add_custom_command|add_custom_target|add_definitions|add_dependencies|add_executable|add_library|add_link_options|add_subdirectory|add_test|aux_source_directory|break|build_command|build_name|cmake_host_system_information|cmake_minimum_required|cmake_parse_arguments|cmake_policy|configure_file|continue|create_test_sourcelist|ctest_build|ctest_configure|ctest_coverage|ctest_empty_binary_directory|ctest_memcheck|ctest_read_custom_files|ctest_run_script|ctest_sleep|ctest_start|ctest_submit|ctest_test|ctest_update|ctest_upload|define_property|else|elseif|enable_language|enable_testing|endforeach|endfunction|endif|endmacro|endwhile|exec_program|execute_process|export|export_library_dependencies|file|find_file|find_library|find_package|find_path|find_program|fltk_wrap_ui|foreach|function|get_cmake_property|get_directory_property|get_filename_component|get_property|get_source_file_property|get_target_property|get_test_property|if|include|include_directories|include_external_msproject|include_guard|include_regular_expression|install|install_files|install_programs|install_targets|link_directories|link_libraries|list|load_cache|load_command|macro|make_directory|mark_as_advanced|math|message|option|output_required_files|project|qt_wrap_cpp|qt_wrap_ui|remove|remove_definitions|return|separate_arguments|set|set_directory_properties|set_property|set_source_files_properties|set_target_properties|set_tests_properties|site_name|source_group|string|subdir_depends|subdirs|target_compile_definitions|target_compile_features|target_compile_options|target_include_directories|target_link_directories|target_link_libraries|target_link_options|target_sources|try_compile|try_run|unset|use_mangled_mesa|utility_source|variable_requires|variable_watch|while|write_file)(?=\s*\()\b/,boolean:/\b(?:FALSE|OFF|ON|TRUE)\b/,namespace:/\b(?:INTERFACE|PRIVATE|PROPERTIES|PUBLIC|SHARED|STATIC|TARGET_OBJECTS)\b/,operator:/\b(?:AND|DEFINED|EQUAL|GREATER|LESS|MATCHES|NOT|OR|STREQUAL|STRGREATER|STRLESS|VERSION_EQUAL|VERSION_GREATER|VERSION_LESS)\b/,inserted:{pattern:/\b\w+::\w+\b/,alias:"class-name"},number:/\b\d+(?:\.\d+)*\b/,function:/\b[a-z_]\w*(?=\s*\()\b/i,punctuation:/[()>}]|\$[<{]/}}return q4}var H4,_X;function yFe(){if(_X)return H4;_X=1,H4=t,t.displayName="cobol",t.aliases=[];function t(e){e.languages.cobol={comment:{pattern:/\*>.*|(^[ \t]*)\*.*/m,lookbehind:!0,greedy:!0},string:{pattern:/[xzgn]?(?:"(?:[^\r\n"]|"")*"(?!")|'(?:[^\r\n']|'')*'(?!'))/i,greedy:!0},level:{pattern:/(^[ \t]*)\d+\b/m,lookbehind:!0,greedy:!0,alias:"number"},"class-name":{pattern:/(\bpic(?:ture)?\s+)(?:(?:[-\w$/,:*+<>]|\.(?!\s|$))(?:\(\d+\))?)+/i,lookbehind:!0,inside:{number:{pattern:/(\()\d+/,lookbehind:!0},punctuation:/[()]/}},keyword:{pattern:/(^|[^\w-])(?:ABORT|ACCEPT|ACCESS|ADD|ADDRESS|ADVANCING|AFTER|ALIGNED|ALL|ALPHABET|ALPHABETIC|ALPHABETIC-LOWER|ALPHABETIC-UPPER|ALPHANUMERIC|ALPHANUMERIC-EDITED|ALSO|ALTER|ALTERNATE|ANY|ARE|AREA|AREAS|AS|ASCENDING|ASCII|ASSIGN|ASSOCIATED-DATA|ASSOCIATED-DATA-LENGTH|AT|ATTRIBUTE|AUTHOR|AUTO|AUTO-SKIP|BACKGROUND-COLOR|BACKGROUND-COLOUR|BASIS|BEEP|BEFORE|BEGINNING|BELL|BINARY|BIT|BLANK|BLINK|BLOCK|BOTTOM|BOUNDS|BY|BYFUNCTION|BYTITLE|CALL|CANCEL|CAPABLE|CCSVERSION|CD|CF|CH|CHAINING|CHANGED|CHANNEL|CHARACTER|CHARACTERS|CLASS|CLASS-ID|CLOCK-UNITS|CLOSE|CLOSE-DISPOSITION|COBOL|CODE|CODE-SET|COL|COLLATING|COLUMN|COM-REG|COMMA|COMMITMENT|COMMON|COMMUNICATION|COMP|COMP-1|COMP-2|COMP-3|COMP-4|COMP-5|COMPUTATIONAL|COMPUTATIONAL-1|COMPUTATIONAL-2|COMPUTATIONAL-3|COMPUTATIONAL-4|COMPUTATIONAL-5|COMPUTE|CONFIGURATION|CONTAINS|CONTENT|CONTINUE|CONTROL|CONTROL-POINT|CONTROLS|CONVENTION|CONVERTING|COPY|CORR|CORRESPONDING|COUNT|CRUNCH|CURRENCY|CURSOR|DATA|DATA-BASE|DATE|DATE-COMPILED|DATE-WRITTEN|DAY|DAY-OF-WEEK|DBCS|DE|DEBUG-CONTENTS|DEBUG-ITEM|DEBUG-LINE|DEBUG-NAME|DEBUG-SUB-1|DEBUG-SUB-2|DEBUG-SUB-3|DEBUGGING|DECIMAL-POINT|DECLARATIVES|DEFAULT|DEFAULT-DISPLAY|DEFINITION|DELETE|DELIMITED|DELIMITER|DEPENDING|DESCENDING|DESTINATION|DETAIL|DFHRESP|DFHVALUE|DISABLE|DISK|DISPLAY|DISPLAY-1|DIVIDE|DIVISION|DONTCARE|DOUBLE|DOWN|DUPLICATES|DYNAMIC|EBCDIC|EGCS|EGI|ELSE|EMI|EMPTY-CHECK|ENABLE|END|END-ACCEPT|END-ADD|END-CALL|END-COMPUTE|END-DELETE|END-DIVIDE|END-EVALUATE|END-IF|END-MULTIPLY|END-OF-PAGE|END-PERFORM|END-READ|END-RECEIVE|END-RETURN|END-REWRITE|END-SEARCH|END-START|END-STRING|END-SUBTRACT|END-UNSTRING|END-WRITE|ENDING|ENTER|ENTRY|ENTRY-PROCEDURE|ENVIRONMENT|EOL|EOP|EOS|ERASE|ERROR|ESCAPE|ESI|EVALUATE|EVENT|EVERY|EXCEPTION|EXCLUSIVE|EXHIBIT|EXIT|EXPORT|EXTEND|EXTENDED|EXTERNAL|FD|FILE|FILE-CONTROL|FILLER|FINAL|FIRST|FOOTING|FOR|FOREGROUND-COLOR|FOREGROUND-COLOUR|FROM|FULL|FUNCTION|FUNCTION-POINTER|FUNCTIONNAME|GENERATE|GIVING|GLOBAL|GO|GOBACK|GRID|GROUP|HEADING|HIGH-VALUE|HIGH-VALUES|HIGHLIGHT|I-O|I-O-CONTROL|ID|IDENTIFICATION|IF|IMPLICIT|IMPORT|IN|INDEX|INDEXED|INDICATE|INITIAL|INITIALIZE|INITIATE|INPUT|INPUT-OUTPUT|INSPECT|INSTALLATION|INTEGER|INTO|INVALID|INVOKE|IS|JUST|JUSTIFIED|KANJI|KEPT|KEY|KEYBOARD|LABEL|LANGUAGE|LAST|LB|LD|LEADING|LEFT|LEFTLINE|LENGTH|LENGTH-CHECK|LIBACCESS|LIBPARAMETER|LIBRARY|LIMIT|LIMITS|LINAGE|LINAGE-COUNTER|LINE|LINE-COUNTER|LINES|LINKAGE|LIST|LOCAL|LOCAL-STORAGE|LOCK|LONG-DATE|LONG-TIME|LOW-VALUE|LOW-VALUES|LOWER|LOWLIGHT|MEMORY|MERGE|MESSAGE|MMDDYYYY|MODE|MODULES|MORE-LABELS|MOVE|MULTIPLE|MULTIPLY|NAMED|NATIONAL|NATIONAL-EDITED|NATIVE|NEGATIVE|NETWORK|NEXT|NO|NO-ECHO|NULL|NULLS|NUMBER|NUMERIC|NUMERIC-DATE|NUMERIC-EDITED|NUMERIC-TIME|OBJECT-COMPUTER|OCCURS|ODT|OF|OFF|OMITTED|ON|OPEN|OPTIONAL|ORDER|ORDERLY|ORGANIZATION|OTHER|OUTPUT|OVERFLOW|OVERLINE|OWN|PACKED-DECIMAL|PADDING|PAGE|PAGE-COUNTER|PASSWORD|PERFORM|PF|PH|PIC|PICTURE|PLUS|POINTER|PORT|POSITION|POSITIVE|PRINTER|PRINTING|PRIVATE|PROCEDURE|PROCEDURE-POINTER|PROCEDURES|PROCEED|PROCESS|PROGRAM|PROGRAM-ID|PROGRAM-LIBRARY|PROMPT|PURGE|QUEUE|QUOTE|QUOTES|RANDOM|RD|READ|READER|REAL|RECEIVE|RECEIVED|RECORD|RECORDING|RECORDS|RECURSIVE|REDEFINES|REEL|REF|REFERENCE|REFERENCES|RELATIVE|RELEASE|REMAINDER|REMARKS|REMOTE|REMOVAL|REMOVE|RENAMES|REPLACE|REPLACING|REPORT|REPORTING|REPORTS|REQUIRED|RERUN|RESERVE|RESET|RETURN|RETURN-CODE|RETURNING|REVERSE-VIDEO|REVERSED|REWIND|REWRITE|RF|RH|RIGHT|ROUNDED|RUN|SAME|SAVE|SCREEN|SD|SEARCH|SECTION|SECURE|SECURITY|SEGMENT|SEGMENT-LIMIT|SELECT|SEND|SENTENCE|SEPARATE|SEQUENCE|SEQUENTIAL|SET|SHARED|SHAREDBYALL|SHAREDBYRUNUNIT|SHARING|SHIFT-IN|SHIFT-OUT|SHORT-DATE|SIGN|SIZE|SORT|SORT-CONTROL|SORT-CORE-SIZE|SORT-FILE-SIZE|SORT-MERGE|SORT-MESSAGE|SORT-MODE-SIZE|SORT-RETURN|SOURCE|SOURCE-COMPUTER|SPACE|SPACES|SPECIAL-NAMES|STANDARD|STANDARD-1|STANDARD-2|START|STATUS|STOP|STRING|SUB-QUEUE-1|SUB-QUEUE-2|SUB-QUEUE-3|SUBTRACT|SUM|SUPPRESS|SYMBOL|SYMBOLIC|SYNC|SYNCHRONIZED|TABLE|TALLY|TALLYING|TAPE|TASK|TERMINAL|TERMINATE|TEST|TEXT|THEN|THREAD|THREAD-LOCAL|THROUGH|THRU|TIME|TIMER|TIMES|TITLE|TO|TODAYS-DATE|TODAYS-NAME|TOP|TRAILING|TRUNCATED|TYPE|TYPEDEF|UNDERLINE|UNIT|UNSTRING|UNTIL|UP|UPON|USAGE|USE|USING|VALUE|VALUES|VARYING|VIRTUAL|WAIT|WHEN|WHEN-COMPILED|WITH|WORDS|WORKING-STORAGE|WRITE|YEAR|YYYYDDD|YYYYMMDD|ZERO-FILL|ZEROES|ZEROS)(?![\w-])/i,lookbehind:!0},boolean:{pattern:/(^|[^\w-])(?:false|true)(?![\w-])/i,lookbehind:!0},number:{pattern:/(^|[^\w-])(?:[+-]?(?:(?:\d+(?:[.,]\d+)?|[.,]\d+)(?:e[+-]?\d+)?|zero))(?![\w-])/i,lookbehind:!0},operator:[/<>|[<>]=?|[=+*/&]/,{pattern:/(^|[^\w-])(?:-|and|equal|greater|less|not|or|than)(?![\w-])/i,lookbehind:!0}],punctuation:/[.:,()]/}}return H4}var V4,SX;function bFe(){if(SX)return V4;SX=1,V4=t,t.displayName="coffeescript",t.aliases=["coffee"];function t(e){(function(n){var r=/#(?!\{).+/,i={pattern:/#\{[^}]+\}/,alias:"variable"};n.languages.coffeescript=n.languages.extend("javascript",{comment:r,string:[{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,inside:{interpolation:i}}],keyword:/\b(?:and|break|by|catch|class|continue|debugger|delete|do|each|else|extend|extends|false|finally|for|if|in|instanceof|is|isnt|let|loop|namespace|new|no|not|null|of|off|on|or|own|return|super|switch|then|this|throw|true|try|typeof|undefined|unless|until|when|while|window|with|yes|yield)\b/,"class-member":{pattern:/@(?!\d)\w+/,alias:"variable"}}),n.languages.insertBefore("coffeescript","comment",{"multiline-comment":{pattern:/###[\s\S]+?###/,alias:"comment"},"block-regex":{pattern:/\/{3}[\s\S]*?\/{3}/,alias:"regex",inside:{comment:r,interpolation:i}}}),n.languages.insertBefore("coffeescript","string",{"inline-javascript":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},script:{pattern:/[\s\S]+/,alias:"language-javascript",inside:n.languages.javascript}}},"multiline-string":[{pattern:/'''[\s\S]*?'''/,greedy:!0,alias:"string"},{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string",inside:{interpolation:i}}]}),n.languages.insertBefore("coffeescript","keyword",{property:/(?!\d)\w+(?=\s*:(?!:))/}),delete n.languages.coffeescript["template-string"],n.languages.coffee=n.languages.coffeescript})(e)}return V4}var G4,xX;function vFe(){if(xX)return G4;xX=1,G4=t,t.displayName="concurnas",t.aliases=["conc"];function t(e){e.languages.concurnas={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\/\/.*)/,lookbehind:!0,greedy:!0},langext:{pattern:/\b\w+\s*\|\|[\s\S]+?\|\|/,greedy:!0,inside:{"class-name":/^\w+/,string:{pattern:/(^\s*\|\|)[\s\S]+(?=\|\|$)/,lookbehind:!0},punctuation:/\|\|/}},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/,lookbehind:!0},keyword:/\b(?:abstract|actor|also|annotation|assert|async|await|bool|boolean|break|byte|case|catch|changed|char|class|closed|constant|continue|def|default|del|double|elif|else|enum|every|extends|false|finally|float|for|from|global|gpudef|gpukernel|if|import|in|init|inject|int|lambda|local|long|loop|match|new|nodefault|null|of|onchange|open|out|override|package|parfor|parforsync|post|pre|private|protected|provide|provider|public|return|shared|short|single|size_t|sizeof|super|sync|this|throw|trait|trans|transient|true|try|typedef|unchecked|using|val|var|void|while|with)\b/,boolean:/\b(?:false|true)\b/,number:/\b0b[01][01_]*L?\b|\b0x(?:[\da-f_]*\.)?[\da-f_p+-]+\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfls]?/i,punctuation:/[{}[\];(),.:]/,operator:/<==|>==|=>|->|<-|<>|&==|&<>|\?:?|\.\?|\+\+|--|[-+*/=<>]=?|[!^~]|\b(?:and|as|band|bor|bxor|comp|is|isnot|mod|or)\b=?/,annotation:{pattern:/@(?:\w+:)?(?:\w+|\[[^\]]+\])?/,alias:"builtin"}},e.languages.insertBefore("concurnas","langext",{"regex-literal":{pattern:/\br("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:e.languages.concurnas},regex:/[\s\S]+/}},"string-literal":{pattern:/(?:\B|\bs)("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:e.languages.concurnas},string:/[\s\S]+/}}}),e.languages.conc=e.languages.concurnas}return G4}var W4,EX;function wFe(){if(EX)return W4;EX=1,W4=t,t.displayName="coq",t.aliases=[];function t(e){(function(n){for(var r=/\(\*(?:[^(*]|\((?!\*)|\*(?!\))|<self>)*\*\)/.source,i=0;i<2;i++)r=r.replace(/<self>/g,function(){return r});r=r.replace(/<self>/g,"[]"),n.languages.coq={comment:RegExp(r),string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},attribute:[{pattern:RegExp(/#\[(?:[^\[\]("]|"(?:[^"]|"")*"(?!")|\((?!\*)|<comment>)*\]/.source.replace(/<comment>/g,function(){return r})),greedy:!0,alias:"attr-name",inside:{comment:RegExp(r),string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},operator:/=/,punctuation:/^#\[|\]$|[,()]/}},{pattern:/\b(?:Cumulative|Global|Local|Monomorphic|NonCumulative|Polymorphic|Private|Program)\b/,alias:"attr-name"}],keyword:/\b(?:Abort|About|Add|Admit|Admitted|All|Arguments|As|Assumptions|Axiom|Axioms|Back|BackTo|Backtrace|BinOp|BinOpSpec|BinRel|Bind|Blacklist|Canonical|Case|Cd|Check|Class|Classes|Close|CoFixpoint|CoInductive|Coercion|Coercions|Collection|Combined|Compute|Conjecture|Conjectures|Constant|Constants|Constraint|Constructors|Context|Corollary|Create|CstOp|Custom|Cut|Debug|Declare|Defined|Definition|Delimit|Dependencies|Dependent|Derive|Diffs|Drop|Elimination|End|Entry|Equality|Eval|Example|Existential|Existentials|Existing|Export|Extern|Extraction|Fact|Fail|Field|File|Firstorder|Fixpoint|Flags|Focus|From|Funclass|Function|Functional|GC|Generalizable|Goal|Grab|Grammar|Graph|Guarded|Haskell|Heap|Hide|Hint|HintDb|Hints|Hypotheses|Hypothesis|IF|Identity|Immediate|Implicit|Implicits|Import|Include|Induction|Inductive|Infix|Info|Initial|InjTyp|Inline|Inspect|Instance|Instances|Intro|Intros|Inversion|Inversion_clear|JSON|Language|Left|Lemma|Let|Lia|Libraries|Library|Load|LoadPath|Locate|Ltac|Ltac2|ML|Match|Method|Minimality|Module|Modules|Morphism|Next|NoInline|Notation|Number|OCaml|Obligation|Obligations|Opaque|Open|Optimize|Parameter|Parameters|Parametric|Path|Paths|Prenex|Preterm|Primitive|Print|Profile|Projections|Proof|Prop|PropBinOp|PropOp|PropUOp|Property|Proposition|Pwd|Qed|Quit|Rec|Record|Recursive|Redirect|Reduction|Register|Relation|Remark|Remove|Require|Reserved|Reset|Resolve|Restart|Rewrite|Right|Ring|Rings|SProp|Saturate|Save|Scheme|Scope|Scopes|Search|SearchHead|SearchPattern|SearchRewrite|Section|Separate|Set|Setoid|Show|Signatures|Solve|Solver|Sort|Sortclass|Sorted|Spec|Step|Strategies|Strategy|String|Structure|SubClass|Subgraph|SuchThat|Tactic|Term|TestCompile|Theorem|Time|Timeout|To|Transparent|Type|Typeclasses|Types|Typing|UnOp|UnOpSpec|Undelimit|Undo|Unfocus|Unfocused|Unfold|Universe|Universes|Unshelve|Variable|Variables|Variant|Verbose|View|Visibility|Zify|_|apply|as|at|by|cofix|else|end|exists|exists2|fix|for|forall|fun|if|in|let|match|measure|move|removed|return|struct|then|using|wf|where|with)\b/,number:/\b(?:0x[a-f0-9][a-f0-9_]*(?:\.[a-f0-9_]+)?(?:p[+-]?\d[\d_]*)?|\d[\d_]*(?:\.[\d_]+)?(?:e[+-]?\d[\d_]*)?)\b/i,punct:{pattern:/@\{|\{\||\[=|:>/,alias:"punctuation"},operator:/\/\\|\\\/|\.{2,3}|:{1,2}=|\*\*|[-=]>|<(?:->?|[+:=>]|<:)|>(?:=|->)|\|[-|]?|[-!%&*+/<=>?@^~']/,punctuation:/\.\(|`\(|@\{|`\{|\{\||\[=|:>|[:.,;(){}\[\]]/}})(e)}return W4}var K4,kX;function yC(){if(kX)return K4;kX=1,K4=t,t.displayName="ruby",t.aliases=["rb"];function t(e){(function(n){n.languages.ruby=n.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),n.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var r={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:n.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete n.languages.ruby.function;var i="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",a=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;n.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+i+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:r,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:r,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+a),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+a+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),n.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+i),greedy:!0,inside:{interpolation:r,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:r,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:r,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+i),greedy:!0,inside:{interpolation:r,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:r,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete n.languages.ruby.string,n.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),n.languages.rb=n.languages.ruby})(e)}return K4}var Y4,TX;function _Fe(){if(TX)return Y4;TX=1;var t=yC();Y4=e,e.displayName="crystal",e.aliases=[];function e(n){n.register(t),function(r){r.languages.crystal=r.languages.extend("ruby",{keyword:[/\b(?:__DIR__|__END_LINE__|__FILE__|__LINE__|abstract|alias|annotation|as|asm|begin|break|case|class|def|do|else|elsif|end|ensure|enum|extend|for|fun|if|ifdef|include|instance_sizeof|lib|macro|module|next|of|out|pointerof|private|protected|ptr|require|rescue|return|select|self|sizeof|struct|super|then|type|typeof|undef|uninitialized|union|unless|until|when|while|with|yield)\b/,{pattern:/(\.\s*)(?:is_a|responds_to)\?/,lookbehind:!0}],number:/\b(?:0b[01_]*[01]|0o[0-7_]*[0-7]|0x[\da-fA-F_]*[\da-fA-F]|(?:\d(?:[\d_]*\d)?)(?:\.[\d_]*\d)?(?:[eE][+-]?[\d_]*\d)?)(?:_(?:[uif](?:8|16|32|64))?)?\b/,operator:[/->/,r.languages.ruby.operator],punctuation:/[(){}[\].,;\\]/}),r.languages.insertBefore("crystal","string-literal",{attribute:{pattern:/@\[.*?\]/,inside:{delimiter:{pattern:/^@\[|\]$/,alias:"punctuation"},attribute:{pattern:/^(\s*)\w+/,lookbehind:!0,alias:"class-name"},args:{pattern:/\S(?:[\s\S]*\S)?/,inside:r.languages.crystal}}},expansion:{pattern:/\{(?:\{.*?\}|%.*?%)\}/,inside:{content:{pattern:/^(\{.)[\s\S]+(?=.\}$)/,lookbehind:!0,inside:r.languages.crystal},delimiter:{pattern:/^\{[\{%]|[\}%]\}$/,alias:"operator"}}},char:{pattern:/'(?:[^\\\r\n]{1,2}|\\(?:.|u(?:[A-Fa-f0-9]{1,4}|\{[A-Fa-f0-9]{1,6}\})))'/,greedy:!0}})}(n)}return Y4}var X4,AX;function SFe(){if(AX)return X4;AX=1;var t=gC();X4=e,e.displayName="cshtml",e.aliases=["razor"];function e(n){n.register(t),function(r){var i=/\/(?![/*])|\/\/.*[\r\n]|\/\*[^*]*(?:\*(?!\/)[^*]*)*\*\//.source,a=/@(?!")|"(?:[^\r\n\\"]|\\.)*"|@"(?:[^\\"]|""|\\[\s\S])*"(?!")/.source+"|"+/'(?:(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'|(?=[^\\](?!')))/.source;function s(k,T){for(var C=0;C<T;C++)k=k.replace(/<self>/g,function(){return"(?:"+k+")"});return k.replace(/<self>/g,"[^\\s\\S]").replace(/<str>/g,"(?:"+a+")").replace(/<comment>/g,"(?:"+i+")")}var o=s(/\((?:[^()'"@/]|<str>|<comment>|<self>)*\)/.source,2),l=s(/\[(?:[^\[\]'"@/]|<str>|<comment>|<self>)*\]/.source,2),u=s(/\{(?:[^{}'"@/]|<str>|<comment>|<self>)*\}/.source,2),d=s(/<(?:[^<>'"@/]|<str>|<comment>|<self>)*>/.source,2),h=/(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?/.source,p=/(?!\d)[^\s>\/=$<%]+/.source+h+/\s*\/?>/.source,m=/\B@?/.source+"(?:"+/<([a-zA-Z][\w:]*)/.source+h+/\s*>/.source+"(?:"+(/[^<]/.source+"|"+/<\/?(?!\1\b)/.source+p+"|"+s(/<\1/.source+h+/\s*>/.source+"(?:"+(/[^<]/.source+"|"+/<\/?(?!\1\b)/.source+p+"|<self>")+")*"+/<\/\1\s*>/.source,2))+")*"+/<\/\1\s*>/.source+"|"+/</.source+p+")";r.languages.cshtml=r.languages.extend("markup",{});var v=r.languages.insertBefore("csharp","string",{html:{pattern:RegExp(m),greedy:!0,inside:r.languages.cshtml}},{csharp:r.languages.extend("csharp",{})}),w={pattern:/\S[\s\S]*/,alias:"language-csharp",inside:v};r.languages.insertBefore("cshtml","prolog",{"razor-comment":{pattern:/@\*[\s\S]*?\*@/,greedy:!0,alias:"comment"},block:{pattern:RegExp(/(^|[^@])@/.source+"(?:"+[u,/(?:code|functions)\s*/.source+u,/(?:for|foreach|lock|switch|using|while)\s*/.source+o+/\s*/.source+u,/do\s*/.source+u+/\s*while\s*/.source+o+/(?:\s*;)?/.source,/try\s*/.source+u+/\s*catch\s*/.source+o+/\s*/.source+u+/\s*finally\s*/.source+u,/if\s*/.source+o+/\s*/.source+u+"(?:"+/\s*else/.source+"(?:"+/\s+if\s*/.source+o+")?"+/\s*/.source+u+")*"].join("|")+")"),lookbehind:!0,greedy:!0,inside:{keyword:/^@\w*/,csharp:w}},directive:{pattern:/^([ \t]*)@(?:addTagHelper|attribute|implements|inherits|inject|layout|model|namespace|page|preservewhitespace|removeTagHelper|section|tagHelperPrefix|using)(?=\s).*/m,lookbehind:!0,greedy:!0,inside:{keyword:/^@\w+/,csharp:w}},value:{pattern:RegExp(/(^|[^@])@/.source+/(?:await\b\s*)?/.source+"(?:"+/\w+\b/.source+"|"+o+")(?:"+/[?!]?\.\w+\b/.source+"|"+o+"|"+l+"|"+d+o+")*"),lookbehind:!0,greedy:!0,alias:"variable",inside:{keyword:/^@/,csharp:w}},"delegate-operator":{pattern:/(^|[^@])@(?=<)/,lookbehind:!0,alias:"operator"}}),r.languages.razor=r.languages.cshtml}(n)}return X4}var Z4,CX;function xFe(){if(CX)return Z4;CX=1,Z4=t,t.displayName="csp",t.aliases=[];function t(e){(function(n){function r(i){return RegExp(/([ \t])/.source+"(?:"+i+")"+/(?=[\s;]|$)/.source,"i")}n.languages.csp={directive:{pattern:/(^|[\s;])(?:base-uri|block-all-mixed-content|(?:child|connect|default|font|frame|img|manifest|media|object|prefetch|script|style|worker)-src|disown-opener|form-action|frame-(?:ancestors|options)|input-protection(?:-(?:clip|selectors))?|navigate-to|plugin-types|policy-uri|referrer|reflected-xss|report-(?:to|uri)|require-sri-for|sandbox|(?:script|style)-src-(?:attr|elem)|upgrade-insecure-requests)(?=[\s;]|$)/i,lookbehind:!0,alias:"property"},scheme:{pattern:r(/[a-z][a-z0-9.+-]*:/.source),lookbehind:!0},none:{pattern:r(/'none'/.source),lookbehind:!0,alias:"keyword"},nonce:{pattern:r(/'nonce-[-+/\w=]+'/.source),lookbehind:!0,alias:"number"},hash:{pattern:r(/'sha(?:256|384|512)-[-+/\w=]+'/.source),lookbehind:!0,alias:"number"},host:{pattern:r(/[a-z][a-z0-9.+-]*:\/\/[^\s;,']*/.source+"|"+/\*[^\s;,']*/.source+"|"+/[a-z0-9-]+(?:\.[a-z0-9-]+)+(?::[\d*]+)?(?:\/[^\s;,']*)?/.source),lookbehind:!0,alias:"url",inside:{important:/\*/}},keyword:[{pattern:r(/'unsafe-[a-z-]+'/.source),lookbehind:!0,alias:"unsafe"},{pattern:r(/'[a-z-]+'/.source),lookbehind:!0,alias:"safe"}],punctuation:/;/}})(e)}return Z4}var Q4,RX;function EFe(){if(RX)return Q4;RX=1,Q4=t,t.displayName="cssExtras",t.aliases=[];function t(e){(function(n){var r=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,i;n.languages.css.selector={pattern:n.languages.css.selector.pattern,lookbehind:!0,inside:i={"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/,"pseudo-class":/:[-\w]+/,class:/\.[-\w]+/,id:/#[-\w]+/,attribute:{pattern:RegExp(`\\[(?:[^[\\]"']|`+r.source+")*\\]"),greedy:!0,inside:{punctuation:/^\[|\]$/,"case-sensitivity":{pattern:/(\s)[si]$/i,lookbehind:!0,alias:"keyword"},namespace:{pattern:/^(\s*)(?:(?!\s)[-*\w\xA0-\uFFFF])*\|(?!=)/,lookbehind:!0,inside:{punctuation:/\|$/}},"attr-name":{pattern:/^(\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+/,lookbehind:!0},"attr-value":[r,{pattern:/(=\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+(?=\s*$)/,lookbehind:!0}],operator:/[|~*^$]?=/}},"n-th":[{pattern:/(\(\s*)[+-]?\d*[\dn](?:\s*[+-]\s*\d+)?(?=\s*\))/,lookbehind:!0,inside:{number:/[\dn]+/,operator:/[+-]/}},{pattern:/(\(\s*)(?:even|odd)(?=\s*\))/i,lookbehind:!0}],combinator:/>|\+|~|\|\|/,punctuation:/[(),]/}},n.languages.css.atrule.inside["selector-function-argument"].inside=i,n.languages.insertBefore("css","property",{variable:{pattern:/(^|[^-\w\xA0-\uFFFF])--(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*/i,lookbehind:!0}});var a={pattern:/(\b\d+)(?:%|[a-z]+(?![\w-]))/,lookbehind:!0},s={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0};n.languages.insertBefore("css","function",{operator:{pattern:/(\s)[+\-*\/](?=\s)/,lookbehind:!0},hexcode:{pattern:/\B#[\da-f]{3,8}\b/i,alias:"color"},color:[{pattern:/(^|[^\w-])(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)(?![\w-])/i,lookbehind:!0},{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:a,number:s,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:a,number:s})})(e)}return Q4}var J4,IX;function kFe(){if(IX)return J4;IX=1,J4=t,t.displayName="csv",t.aliases=[];function t(e){e.languages.csv={value:/[^\r\n,"]+|"(?:[^"]|"")*"(?!")/,punctuation:/,/}}return J4}var e3,NX;function TFe(){if(NX)return e3;NX=1,e3=t,t.displayName="cypher",t.aliases=[];function t(e){e.languages.cypher={comment:/\/\/.*/,string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/,greedy:!0},"class-name":{pattern:/(:\s*)(?:\w+|`(?:[^`\\\r\n])*`)(?=\s*[{):])/,lookbehind:!0,greedy:!0},relationship:{pattern:/(-\[\s*(?:\w+\s*|`(?:[^`\\\r\n])*`\s*)?:\s*|\|\s*:\s*)(?:\w+|`(?:[^`\\\r\n])*`)/,lookbehind:!0,greedy:!0,alias:"property"},identifier:{pattern:/`(?:[^`\\\r\n])*`/,greedy:!0},variable:/\$\w+/,keyword:/\b(?:ADD|ALL|AND|AS|ASC|ASCENDING|ASSERT|BY|CALL|CASE|COMMIT|CONSTRAINT|CONTAINS|CREATE|CSV|DELETE|DESC|DESCENDING|DETACH|DISTINCT|DO|DROP|ELSE|END|ENDS|EXISTS|FOR|FOREACH|IN|INDEX|IS|JOIN|KEY|LIMIT|LOAD|MANDATORY|MATCH|MERGE|NODE|NOT|OF|ON|OPTIONAL|OR|ORDER(?=\s+BY)|PERIODIC|REMOVE|REQUIRE|RETURN|SCALAR|SCAN|SET|SKIP|START|STARTS|THEN|UNION|UNIQUE|UNWIND|USING|WHEN|WHERE|WITH|XOR|YIELD)\b/i,function:/\b\w+\b(?=\s*\()/,boolean:/\b(?:false|null|true)\b/i,number:/\b(?:0x[\da-fA-F]+|\d+(?:\.\d+)?(?:[eE][+-]?\d+)?)\b/,operator:/:|<--?|--?>?|<>|=~?|[<>]=?|[+*/%^|]|\.\.\.?/,punctuation:/[()[\]{},;.]/}}return e3}var t3,OX;function AFe(){if(OX)return t3;OX=1,t3=t,t.displayName="d",t.aliases=[];function t(e){e.languages.d=e.languages.extend("clike",{comment:[{pattern:/^\s*#!.+/,greedy:!0},{pattern:RegExp(/(^|[^\\])/.source+"(?:"+[/\/\+(?:\/\+(?:[^+]|\+(?!\/))*\+\/|(?!\/\+)[\s\S])*?\+\//.source,/\/\/.*/.source,/\/\*[\s\S]*?\*\//.source].join("|")+")"),lookbehind:!0,greedy:!0}],string:[{pattern:RegExp([/\b[rx]"(?:\\[\s\S]|[^\\"])*"[cwd]?/.source,/\bq"(?:\[[\s\S]*?\]|\([\s\S]*?\)|<[\s\S]*?>|\{[\s\S]*?\})"/.source,/\bq"((?!\d)\w+)$[\s\S]*?^\1"/.source,/\bq"(.)[\s\S]*?\2"/.source,/(["`])(?:\\[\s\S]|(?!\3)[^\\])*\3[cwd]?/.source].join("|"),"m"),greedy:!0},{pattern:/\bq\{(?:\{[^{}]*\}|[^{}])*\}/,greedy:!0,alias:"token-string"}],keyword:/\$|\b(?:__(?:(?:DATE|EOF|FILE|FUNCTION|LINE|MODULE|PRETTY_FUNCTION|TIMESTAMP|TIME|VENDOR|VERSION)__|gshared|parameters|traits|vector)|abstract|alias|align|asm|assert|auto|body|bool|break|byte|case|cast|catch|cdouble|cent|cfloat|char|class|const|continue|creal|dchar|debug|default|delegate|delete|deprecated|do|double|dstring|else|enum|export|extern|false|final|finally|float|for|foreach|foreach_reverse|function|goto|idouble|if|ifloat|immutable|import|inout|int|interface|invariant|ireal|lazy|long|macro|mixin|module|new|nothrow|null|out|override|package|pragma|private|protected|ptrdiff_t|public|pure|real|ref|return|scope|shared|short|size_t|static|string|struct|super|switch|synchronized|template|this|throw|true|try|typedef|typeid|typeof|ubyte|ucent|uint|ulong|union|unittest|ushort|version|void|volatile|wchar|while|with|wstring)\b/,number:[/\b0x\.?[a-f\d_]+(?:(?!\.\.)\.[a-f\d_]*)?(?:p[+-]?[a-f\d_]+)?[ulfi]{0,4}/i,{pattern:/((?:\.\.)?)(?:\b0b\.?|\b|\.)\d[\d_]*(?:(?!\.\.)\.[\d_]*)?(?:e[+-]?\d[\d_]*)?[ulfi]{0,4}/i,lookbehind:!0}],operator:/\|[|=]?|&[&=]?|\+[+=]?|-[-=]?|\.?\.\.|=[>=]?|!(?:i[ns]\b|<>?=?|>=?|=)?|\bi[ns]\b|(?:<[<>]?|>>?>?|\^\^|[*\/%^~])=?/}),e.languages.insertBefore("d","string",{char:/'(?:\\(?:\W|\w+)|[^\\])'/}),e.languages.insertBefore("d","keyword",{property:/\B@\w*/}),e.languages.insertBefore("d","function",{register:{pattern:/\b(?:[ABCD][LHX]|E?(?:BP|DI|SI|SP)|[BS]PL|[ECSDGF]S|CR[0234]|[DS]IL|DR[012367]|E[ABCD]X|X?MM[0-7]|R(?:1[0-5]|[89])[BWD]?|R[ABCD]X|R[BS]P|R[DS]I|TR[3-7]|XMM(?:1[0-5]|[89])|YMM(?:1[0-5]|\d))\b|\bST(?:\([0-7]\)|\b)/,alias:"variable"}})}return t3}var n3,MX;function CFe(){if(MX)return n3;MX=1,n3=t,t.displayName="dart",t.aliases=[];function t(e){(function(n){var r=[/\b(?:async|sync|yield)\*/,/\b(?:abstract|assert|async|await|break|case|catch|class|const|continue|covariant|default|deferred|do|dynamic|else|enum|export|extends|extension|external|factory|final|finally|for|get|hide|if|implements|import|in|interface|library|mixin|new|null|on|operator|part|rethrow|return|set|show|static|super|switch|sync|this|throw|try|typedef|var|void|while|with|yield)\b/],i=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,a={pattern:RegExp(i+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}}}};n.languages.dart=n.languages.extend("clike",{"class-name":[a,{pattern:RegExp(i+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:a.inside}],keyword:r,operator:/\bis!|\b(?:as|is)\b|\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?/}),n.languages.insertBefore("dart","string",{"string-literal":{pattern:/r?(?:("""|''')[\s\S]*?\1|(["'])(?:\\.|(?!\2)[^\\\r\n])*\2(?!\2))/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,lookbehind:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:n.languages.dart}}},string:/[\s\S]+/}},string:void 0}),n.languages.insertBefore("dart","class-name",{metadata:{pattern:/@\w+/,alias:"function"}}),n.languages.insertBefore("dart","class-name",{generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":a,keyword:r,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})})(e)}return n3}var r3,PX;function RFe(){if(PX)return r3;PX=1,r3=t,t.displayName="dataweave",t.aliases=[];function t(e){(function(n){n.languages.dataweave={url:/\b[A-Za-z]+:\/\/[\w/:.?=&-]+|\burn:[\w:.?=&-]+/,property:{pattern:/(?:\b\w+#)?(?:"(?:\\.|[^\\"\r\n])*"|\b\w+)(?=\s*[:@])/,greedy:!0},string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},"mime-type":/\b(?:application|audio|image|multipart|text|video)\/[\w+-]+/,date:{pattern:/\|[\w:+-]+\|/,greedy:!0},comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],regex:{pattern:/\/(?:[^\\\/\r\n]|\\[^\r\n])+\//,greedy:!0},keyword:/\b(?:and|as|at|case|do|else|fun|if|input|is|match|not|ns|null|or|output|type|unless|update|using|var)\b/,function:/\b[A-Z_]\w*(?=\s*\()/i,number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\];(),.:@]/,operator:/<<|>>|->|[<>~=]=?|!=|--?-?|\+\+?|!|\?/,boolean:/\b(?:false|true)\b/}})(e)}return r3}var i3,LX;function IFe(){if(LX)return i3;LX=1,i3=t,t.displayName="dax",t.aliases=[];function t(e){e.languages.dax={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/).*)/,lookbehind:!0},"data-field":{pattern:/'(?:[^']|'')*'(?!')(?:\[[ \w\xA0-\uFFFF]+\])?|\w+\[[ \w\xA0-\uFFFF]+\]/,alias:"symbol"},measure:{pattern:/\[[ \w\xA0-\uFFFF]+\]/,alias:"constant"},string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},function:/\b(?:ABS|ACOS|ACOSH|ACOT|ACOTH|ADDCOLUMNS|ADDMISSINGITEMS|ALL|ALLCROSSFILTERED|ALLEXCEPT|ALLNOBLANKROW|ALLSELECTED|AND|APPROXIMATEDISTINCTCOUNT|ASIN|ASINH|ATAN|ATANH|AVERAGE|AVERAGEA|AVERAGEX|BETA\.DIST|BETA\.INV|BLANK|CALCULATE|CALCULATETABLE|CALENDAR|CALENDARAUTO|CEILING|CHISQ\.DIST|CHISQ\.DIST\.RT|CHISQ\.INV|CHISQ\.INV\.RT|CLOSINGBALANCEMONTH|CLOSINGBALANCEQUARTER|CLOSINGBALANCEYEAR|COALESCE|COMBIN|COMBINA|COMBINEVALUES|CONCATENATE|CONCATENATEX|CONFIDENCE\.NORM|CONFIDENCE\.T|CONTAINS|CONTAINSROW|CONTAINSSTRING|CONTAINSSTRINGEXACT|CONVERT|COS|COSH|COT|COTH|COUNT|COUNTA|COUNTAX|COUNTBLANK|COUNTROWS|COUNTX|CROSSFILTER|CROSSJOIN|CURRENCY|CURRENTGROUP|CUSTOMDATA|DATATABLE|DATE|DATEADD|DATEDIFF|DATESBETWEEN|DATESINPERIOD|DATESMTD|DATESQTD|DATESYTD|DATEVALUE|DAY|DEGREES|DETAILROWS|DISTINCT|DISTINCTCOUNT|DISTINCTCOUNTNOBLANK|DIVIDE|EARLIER|EARLIEST|EDATE|ENDOFMONTH|ENDOFQUARTER|ENDOFYEAR|EOMONTH|ERROR|EVEN|EXACT|EXCEPT|EXP|EXPON\.DIST|FACT|FALSE|FILTER|FILTERS|FIND|FIRSTDATE|FIRSTNONBLANK|FIRSTNONBLANKVALUE|FIXED|FLOOR|FORMAT|GCD|GENERATE|GENERATEALL|GENERATESERIES|GEOMEAN|GEOMEANX|GROUPBY|HASONEFILTER|HASONEVALUE|HOUR|IF|IF\.EAGER|IFERROR|IGNORE|INT|INTERSECT|ISBLANK|ISCROSSFILTERED|ISEMPTY|ISERROR|ISEVEN|ISFILTERED|ISINSCOPE|ISLOGICAL|ISNONTEXT|ISNUMBER|ISO\.CEILING|ISODD|ISONORAFTER|ISSELECTEDMEASURE|ISSUBTOTAL|ISTEXT|KEEPFILTERS|KEYWORDMATCH|LASTDATE|LASTNONBLANK|LASTNONBLANKVALUE|LCM|LEFT|LEN|LN|LOG|LOG10|LOOKUPVALUE|LOWER|MAX|MAXA|MAXX|MEDIAN|MEDIANX|MID|MIN|MINA|MINUTE|MINX|MOD|MONTH|MROUND|NATURALINNERJOIN|NATURALLEFTOUTERJOIN|NEXTDAY|NEXTMONTH|NEXTQUARTER|NEXTYEAR|NONVISUAL|NORM\.DIST|NORM\.INV|NORM\.S\.DIST|NORM\.S\.INV|NOT|NOW|ODD|OPENINGBALANCEMONTH|OPENINGBALANCEQUARTER|OPENINGBALANCEYEAR|OR|PARALLELPERIOD|PATH|PATHCONTAINS|PATHITEM|PATHITEMREVERSE|PATHLENGTH|PERCENTILE\.EXC|PERCENTILE\.INC|PERCENTILEX\.EXC|PERCENTILEX\.INC|PERMUT|PI|POISSON\.DIST|POWER|PREVIOUSDAY|PREVIOUSMONTH|PREVIOUSQUARTER|PREVIOUSYEAR|PRODUCT|PRODUCTX|QUARTER|QUOTIENT|RADIANS|RAND|RANDBETWEEN|RANK\.EQ|RANKX|RELATED|RELATEDTABLE|REMOVEFILTERS|REPLACE|REPT|RIGHT|ROLLUP|ROLLUPADDISSUBTOTAL|ROLLUPGROUP|ROLLUPISSUBTOTAL|ROUND|ROUNDDOWN|ROUNDUP|ROW|SAMEPERIODLASTYEAR|SAMPLE|SEARCH|SECOND|SELECTCOLUMNS|SELECTEDMEASURE|SELECTEDMEASUREFORMATSTRING|SELECTEDMEASURENAME|SELECTEDVALUE|SIGN|SIN|SINH|SQRT|SQRTPI|STARTOFMONTH|STARTOFQUARTER|STARTOFYEAR|STDEV\.P|STDEV\.S|STDEVX\.P|STDEVX\.S|SUBSTITUTE|SUBSTITUTEWITHINDEX|SUM|SUMMARIZE|SUMMARIZECOLUMNS|SUMX|SWITCH|T\.DIST|T\.DIST\.2T|T\.DIST\.RT|T\.INV|T\.INV\.2T|TAN|TANH|TIME|TIMEVALUE|TODAY|TOPN|TOPNPERLEVEL|TOPNSKIP|TOTALMTD|TOTALQTD|TOTALYTD|TREATAS|TRIM|TRUE|TRUNC|UNICHAR|UNICODE|UNION|UPPER|USERELATIONSHIP|USERNAME|USEROBJECTID|USERPRINCIPALNAME|UTCNOW|UTCTODAY|VALUE|VALUES|VAR\.P|VAR\.S|VARX\.P|VARX\.S|WEEKDAY|WEEKNUM|XIRR|XNPV|YEAR|YEARFRAC)(?=\s*\()/i,keyword:/\b(?:DEFINE|EVALUATE|MEASURE|ORDER\s+BY|RETURN|VAR|START\s+AT|ASC|DESC)\b/i,boolean:{pattern:/\b(?:FALSE|NULL|TRUE)\b/i,alias:"constant"},number:/\b\d+(?:\.\d*)?|\B\.\d+\b/,operator:/:=|[-+*\/=^]|&&?|\|\||<(?:=>?|<|>)?|>[>=]?|\b(?:IN|NOT)\b/i,punctuation:/[;\[\](){}`,.]/}}return i3}var a3,DX;function NFe(){if(DX)return a3;DX=1,a3=t,t.displayName="dhall",t.aliases=[];function t(e){e.languages.dhall={comment:/--.*|\{-(?:[^-{]|-(?!\})|\{(?!-)|\{-(?:[^-{]|-(?!\})|\{(?!-))*-\})*-\}/,string:{pattern:/"(?:[^"\\]|\\.)*"|''(?:[^']|'(?!')|'''|''\$\{)*''(?!'|\$)/,greedy:!0,inside:{interpolation:{pattern:/\$\{[^{}]*\}/,inside:{expression:{pattern:/(^\$\{)[\s\S]+(?=\}$)/,lookbehind:!0,alias:"language-dhall",inside:null},punctuation:/\$\{|\}/}}}},label:{pattern:/`[^`]*`/,greedy:!0},url:{pattern:/\bhttps?:\/\/[\w.:%!$&'*+;=@~-]+(?:\/[\w.:%!$&'*+;=@~-]*)*(?:\?[/?\w.:%!$&'*+;=@~-]*)?/,greedy:!0},env:{pattern:/\benv:(?:(?!\d)\w+|"(?:[^"\\=]|\\.)*")/,greedy:!0,inside:{function:/^env/,operator:/^:/,variable:/[\s\S]+/}},hash:{pattern:/\bsha256:[\da-fA-F]{64}\b/,inside:{function:/sha256/,operator:/:/,number:/[\da-fA-F]{64}/}},keyword:/\b(?:as|assert|else|forall|if|in|let|merge|missing|then|toMap|using|with)\b|\u2200/,builtin:/\b(?:None|Some)\b/,boolean:/\b(?:False|True)\b/,number:/\bNaN\b|-?\bInfinity\b|[+-]?\b(?:0x[\da-fA-F]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/,operator:/\/\\|\/\/\\\\|&&|\|\||===|[!=]=|\/\/|->|\+\+|::|[+*#@=:?<>|\\\u2227\u2a53\u2261\u2afd\u03bb\u2192]/,punctuation:/\.\.|[{}\[\](),./]/,"class-name":/\b[A-Z]\w*\b/},e.languages.dhall.string.inside.interpolation.inside.expression.inside=e.languages.dhall}return a3}var s3,FX;function OFe(){if(FX)return s3;FX=1,s3=t,t.displayName="diff",t.aliases=[];function t(e){(function(n){n.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var r={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(r).forEach(function(i){var a=r[i],s=[];/^\w+$/.test(i)||s.push(/\w+/.exec(i)[0]),i==="diff"&&s.push("bold"),n.languages.diff[i]={pattern:RegExp("^(?:["+a+`].*(?:\r
?|
|(?![\\s\\S])))+`,"m"),alias:s,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(i)[0]}}}}),Object.defineProperty(n.languages.diff,"PREFIXES",{value:r})})(e)}return s3}var o3,BX;function Sl(){if(BX)return o3;BX=1,o3=t,t.displayName="markupTemplating",t.aliases=[];function t(e){(function(n){function r(i,a){return"___"+i.toUpperCase()+a+"___"}Object.defineProperties(n.languages["markup-templating"]={},{buildPlaceholders:{value:function(i,a,s,o){if(i.language===a){var l=i.tokenStack=[];i.code=i.code.replace(s,function(u){if(typeof o=="function"&&!o(u))return u;for(var d=l.length,h;i.code.indexOf(h=r(a,d))!==-1;)++d;return l[d]=u,h}),i.grammar=n.languages.markup}}},tokenizePlaceholders:{value:function(i,a){if(i.language!==a||!i.tokenStack)return;i.grammar=n.languages[a];var s=0,o=Object.keys(i.tokenStack);function l(u){for(var d=0;d<u.length&&!(s>=o.length);d++){var h=u[d];if(typeof h=="string"||h.content&&typeof h.content=="string"){var p=o[s],m=i.tokenStack[p],v=typeof h=="string"?h:h.content,w=r(a,p),k=v.indexOf(w);if(k>-1){++s;var T=v.substring(0,k),C=new n.Token(a,n.tokenize(m,i.grammar),"language-"+a,m),N=v.substring(k+w.length),F=[];T&&F.push.apply(F,l([T])),F.push(C),N&&F.push.apply(F,l([N])),typeof h=="string"?u.splice.apply(u,[d,1].concat(F)):h.content=F}}else h.content&&l(h.content)}return u}l(i.tokens)}}})})(e)}return o3}var l3,UX;function MFe(){if(UX)return l3;UX=1;var t=Sl();l3=e,e.displayName="django",e.aliases=["jinja2"];function e(n){n.register(t),function(r){r.languages.django={comment:/^\{#[\s\S]*?#\}$/,tag:{pattern:/(^\{%[+-]?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%][+-]?|[+-]?[}%]\}$/,alias:"punctuation"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},filter:{pattern:/(\|)\w+/,lookbehind:!0,alias:"function"},test:{pattern:/(\bis\s+(?:not\s+)?)(?!not\b)\w+/,lookbehind:!0,alias:"function"},function:/\b[a-z_]\w+(?=\s*\()/i,keyword:/\b(?:and|as|by|else|for|if|import|in|is|loop|not|or|recursive|with|without)\b/,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,number:/\b\d+(?:\.\d+)?\b/,boolean:/[Ff]alse|[Nn]one|[Tt]rue/,variable:/\b\w+\b/,punctuation:/[{}[\](),.:;]/};var i=/\{\{[\s\S]*?\}\}|\{%[\s\S]*?%\}|\{#[\s\S]*?#\}/g,a=r.languages["markup-templating"];r.hooks.add("before-tokenize",function(s){a.buildPlaceholders(s,"django",i)}),r.hooks.add("after-tokenize",function(s){a.tokenizePlaceholders(s,"django")}),r.languages.jinja2=r.languages.django,r.hooks.add("before-tokenize",function(s){a.buildPlaceholders(s,"jinja2",i)}),r.hooks.add("after-tokenize",function(s){a.tokenizePlaceholders(s,"jinja2")})}(n)}return l3}var u3,jX;function PFe(){if(jX)return u3;jX=1,u3=t,t.displayName="dnsZoneFile",t.aliases=[];function t(e){e.languages["dns-zone-file"]={comment:/;.*/,string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},variable:[{pattern:/(^\$ORIGIN[ \t]+)\S+/m,lookbehind:!0},{pattern:/(^|\s)@(?=\s|$)/,lookbehind:!0}],keyword:/^\$(?:INCLUDE|ORIGIN|TTL)(?=\s|$)/m,class:{pattern:/(^|\s)(?:CH|CS|HS|IN)(?=\s|$)/,lookbehind:!0,alias:"keyword"},type:{pattern:/(^|\s)(?:A|A6|AAAA|AFSDB|APL|ATMA|CAA|CDNSKEY|CDS|CERT|CNAME|DHCID|DLV|DNAME|DNSKEY|DS|EID|GID|GPOS|HINFO|HIP|IPSECKEY|ISDN|KEY|KX|LOC|MAILA|MAILB|MB|MD|MF|MG|MINFO|MR|MX|NAPTR|NB|NBSTAT|NIMLOC|NINFO|NS|NSAP|NSAP-PTR|NSEC|NSEC3|NSEC3PARAM|NULL|NXT|OPENPGPKEY|PTR|PX|RKEY|RP|RRSIG|RT|SIG|SINK|SMIMEA|SOA|SPF|SRV|SSHFP|TA|TKEY|TLSA|TSIG|TXT|UID|UINFO|UNSPEC|URI|WKS|X25)(?=\s|$)/,lookbehind:!0,alias:"keyword"},punctuation:/[()]/},e.languages["dns-zone"]=e.languages["dns-zone-file"]}return u3}var c3,zX;function LFe(){if(zX)return c3;zX=1,c3=t,t.displayName="docker",t.aliases=["dockerfile"];function t(e){(function(n){var r=/\\[\r\n](?:\s|\\[\r\n]|#.*(?!.))*(?![\s#]|\\[\r\n])/.source,i=/(?:[ \t]+(?![ \t])(?:<SP_BS>)?|<SP_BS>)/.source.replace(/<SP_BS>/g,function(){return r}),a=/"(?:[^"\\\r\n]|\\(?:\r\n|[\s\S]))*"|'(?:[^'\\\r\n]|\\(?:\r\n|[\s\S]))*'/.source,s=/--[\w-]+=(?:<STR>|(?!["'])(?:[^\s\\]|\\.)+)/.source.replace(/<STR>/g,function(){return a}),o={pattern:RegExp(a),greedy:!0},l={pattern:/(^[ \t]*)#.*/m,lookbehind:!0,greedy:!0};function u(d,h){return d=d.replace(/<OPT>/g,function(){return s}).replace(/<SP>/g,function(){return i}),RegExp(d,h)}n.languages.docker={instruction:{pattern:/(^[ \t]*)(?:ADD|ARG|CMD|COPY|ENTRYPOINT|ENV|EXPOSE|FROM|HEALTHCHECK|LABEL|MAINTAINER|ONBUILD|RUN|SHELL|STOPSIGNAL|USER|VOLUME|WORKDIR)(?=\s)(?:\\.|[^\r\n\\])*(?:\\$(?:\s|#.*$)*(?![\s#])(?:\\.|[^\r\n\\])*)*/im,lookbehind:!0,greedy:!0,inside:{options:{pattern:u(/(^(?:ONBUILD<SP>)?\w+<SP>)<OPT>(?:<SP><OPT>)*/.source,"i"),lookbehind:!0,greedy:!0,inside:{property:{pattern:/(^|\s)--[\w-]+/,lookbehind:!0},string:[o,{pattern:/(=)(?!["'])(?:[^\s\\]|\\.)+/,lookbehind:!0}],operator:/\\$/m,punctuation:/=/}},keyword:[{pattern:u(/(^(?:ONBUILD<SP>)?HEALTHCHECK<SP>(?:<OPT><SP>)*)(?:CMD|NONE)\b/.source,"i"),lookbehind:!0,greedy:!0},{pattern:u(/(^(?:ONBUILD<SP>)?FROM<SP>(?:<OPT><SP>)*(?!--)[^ \t\\]+<SP>)AS/.source,"i"),lookbehind:!0,greedy:!0},{pattern:u(/(^ONBUILD<SP>)\w+/.source,"i"),lookbehind:!0,greedy:!0},{pattern:/^\w+/,greedy:!0}],comment:l,string:o,variable:/\$(?:\w+|\{[^{}"'\\]*\})/,operator:/\\$/m}},comment:l},n.languages.dockerfile=n.languages.docker})(e)}return c3}var d3,$X;function DFe(){if($X)return d3;$X=1,d3=t,t.displayName="dot",t.aliases=["gv"];function t(e){(function(n){var r="(?:"+[/[a-zA-Z_\x80-\uFFFF][\w\x80-\uFFFF]*/.source,/-?(?:\.\d+|\d+(?:\.\d*)?)/.source,/"[^"\\]*(?:\\[\s\S][^"\\]*)*"/.source,/<(?:[^<>]|(?!<!--)<(?:[^<>"']|"[^"]*"|'[^']*')+>|<!--(?:[^-]|-(?!->))*-->)*>/.source].join("|")+")",i={markup:{pattern:/(^<)[\s\S]+(?=>$)/,lookbehind:!0,alias:["language-markup","language-html","language-xml"],inside:n.languages.markup}};function a(s,o){return RegExp(s.replace(/<ID>/g,function(){return r}),o)}n.languages.dot={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\/|^#.*/m,greedy:!0},"graph-name":{pattern:a(/(\b(?:digraph|graph|subgraph)[ \t\r\n]+)<ID>/.source,"i"),lookbehind:!0,greedy:!0,alias:"class-name",inside:i},"attr-value":{pattern:a(/(=[ \t\r\n]*)<ID>/.source),lookbehind:!0,greedy:!0,inside:i},"attr-name":{pattern:a(/([\[;, \t\r\n])<ID>(?=[ \t\r\n]*=)/.source),lookbehind:!0,greedy:!0,inside:i},keyword:/\b(?:digraph|edge|graph|node|strict|subgraph)\b/i,"compass-point":{pattern:/(:[ \t\r\n]*)(?:[ewc_]|[ns][ew]?)(?![\w\x80-\uFFFF])/,lookbehind:!0,alias:"builtin"},node:{pattern:a(/(^|[^-.\w\x80-\uFFFF\\])<ID>/.source),lookbehind:!0,greedy:!0,inside:i},operator:/[=:]|-[->]/,punctuation:/[\[\]{};,]/},n.languages.gv=n.languages.dot})(e)}return d3}var h3,qX;function FFe(){if(qX)return h3;qX=1,h3=t,t.displayName="ebnf",t.aliases=[];function t(e){e.languages.ebnf={comment:/\(\*[\s\S]*?\*\)/,string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,greedy:!0},special:{pattern:/\?[^?\r\n]*\?/,greedy:!0,alias:"class-name"},definition:{pattern:/^([\t ]*)[a-z]\w*(?:[ \t]+[a-z]\w*)*(?=\s*=)/im,lookbehind:!0,alias:["rule","keyword"]},rule:/\b[a-z]\w*(?:[ \t]+[a-z]\w*)*\b/i,punctuation:/\([:/]|[:/]\)|[.,;()[\]{}]/,operator:/[-=|*/!]/}}return h3}var f3,HX;function BFe(){if(HX)return f3;HX=1,f3=t,t.displayName="editorconfig",t.aliases=[];function t(e){e.languages.editorconfig={comment:/[;#].*/,section:{pattern:/(^[ \t]*)\[.+\]/m,lookbehind:!0,alias:"selector",inside:{regex:/\\\\[\[\]{},!?.*]/,operator:/[!?]|\.\.|\*{1,2}/,punctuation:/[\[\]{},]/}},key:{pattern:/(^[ \t]*)[^\s=]+(?=[ \t]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/=.*/,alias:"attr-value",inside:{punctuation:/^=/}}}}return f3}var p3,VX;function UFe(){if(VX)return p3;VX=1,p3=t,t.displayName="eiffel",t.aliases=[];function t(e){e.languages.eiffel={comment:/--.*/,string:[{pattern:/"([^[]*)\[[\s\S]*?\]\1"/,greedy:!0},{pattern:/"([^{]*)\{[\s\S]*?\}\1"/,greedy:!0},{pattern:/"(?:%(?:(?!\n)\s)*\n\s*%|%\S|[^%"\r\n])*"/,greedy:!0}],char:/'(?:%.|[^%'\r\n])+'/,keyword:/\b(?:across|agent|alias|all|and|as|assign|attached|attribute|check|class|convert|create|Current|debug|deferred|detachable|do|else|elseif|end|ensure|expanded|export|external|feature|from|frozen|if|implies|inherit|inspect|invariant|like|local|loop|not|note|obsolete|old|once|or|Precursor|redefine|rename|require|rescue|Result|retry|select|separate|some|then|undefine|until|variant|Void|when|xor)\b/i,boolean:/\b(?:False|True)\b/i,"class-name":/\b[A-Z][\dA-Z_]*\b/,number:[/\b0[xcb][\da-f](?:_*[\da-f])*\b/i,/(?:\b\d(?:_*\d)*)?\.(?:(?:\d(?:_*\d)*)?e[+-]?)?\d(?:_*\d)*\b|\b\d(?:_*\d)*\b\.?/i],punctuation:/:=|<<|>>|\(\||\|\)|->|\.(?=\w)|[{}[\];(),:?]/,operator:/\\\\|\|\.\.\||\.\.|\/[~\/=]?|[><]=?|[-+*^=~]/}}return p3}var m3,GX;function jFe(){if(GX)return m3;GX=1;var t=Sl();m3=e,e.displayName="ejs",e.aliases=["eta"];function e(n){n.register(t),function(r){r.languages.ejs={delimiter:{pattern:/^<%[-_=]?|[-_]?%>$/,alias:"punctuation"},comment:/^#[\s\S]*/,"language-javascript":{pattern:/[\s\S]+/,inside:r.languages.javascript}},r.hooks.add("before-tokenize",function(i){var a=/<%(?!%)[\s\S]+?%>/g;r.languages["markup-templating"].buildPlaceholders(i,"ejs",a)}),r.hooks.add("after-tokenize",function(i){r.languages["markup-templating"].tokenizePlaceholders(i,"ejs")}),r.languages.eta=r.languages.ejs}(n)}return m3}var g3,WX;function zFe(){if(WX)return g3;WX=1,g3=t,t.displayName="elixir",t.aliases=[];function t(e){e.languages.elixir={doc:{pattern:/@(?:doc|moduledoc)\s+(?:("""|''')[\s\S]*?\1|("|')(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2)/,inside:{attribute:/^@\w+/,string:/['"][\s\S]+/}},comment:{pattern:/#.*/,greedy:!0},regex:{pattern:/~[rR](?:("""|''')(?:\\[\s\S]|(?!\1)[^\\])+\1|([\/|"'])(?:\\.|(?!\2)[^\\\r\n])+\2|\((?:\\.|[^\\)\r\n])+\)|\[(?:\\.|[^\\\]\r\n])+\]|\{(?:\\.|[^\\}\r\n])+\}|<(?:\\.|[^\\>\r\n])+>)[uismxfr]*/,greedy:!0},string:[{pattern:/~[cCsSwW](?:("""|''')(?:\\[\s\S]|(?!\1)[^\\])+\1|([\/|"'])(?:\\.|(?!\2)[^\\\r\n])+\2|\((?:\\.|[^\\)\r\n])+\)|\[(?:\\.|[^\\\]\r\n])+\]|\{(?:\\.|#\{[^}]+\}|#(?!\{)|[^#\\}\r\n])+\}|<(?:\\.|[^\\>\r\n])+>)[csa]?/,greedy:!0,inside:{}},{pattern:/("""|''')[\s\S]*?\1/,greedy:!0,inside:{}},{pattern:/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{}}],atom:{pattern:/(^|[^:]):\w+/,lookbehind:!0,alias:"symbol"},module:{pattern:/\b[A-Z]\w*\b/,alias:"class-name"},"attr-name":/\b\w+\??:(?!:)/,argument:{pattern:/(^|[^&])&\d+/,lookbehind:!0,alias:"variable"},attribute:{pattern:/@\w+/,alias:"variable"},function:/\b[_a-zA-Z]\w*[?!]?(?:(?=\s*(?:\.\s*)?\()|(?=\/\d))/,number:/\b(?:0[box][a-f\d_]+|\d[\d_]*)(?:\.[\d_]+)?(?:e[+-]?[\d_]+)?\b/i,keyword:/\b(?:after|alias|and|case|catch|cond|def(?:callback|delegate|exception|impl|macro|module|n|np|p|protocol|struct)?|do|else|end|fn|for|if|import|not|or|quote|raise|require|rescue|try|unless|unquote|use|when)\b/,boolean:/\b(?:false|nil|true)\b/,operator:[/\bin\b|&&?|\|[|>]?|\\\\|::|\.\.\.?|\+\+?|-[->]?|<[-=>]|>=|!==?|\B!|=(?:==?|[>~])?|[*\/^]/,{pattern:/([^<])<(?!<)/,lookbehind:!0},{pattern:/([^>])>(?!>)/,lookbehind:!0}],punctuation:/<<|>>|[.,%\[\]{}()]/},e.languages.elixir.string.forEach(function(n){n.inside={interpolation:{pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"},rest:e.languages.elixir}}}})}return g3}var y3,KX;function $Fe(){if(KX)return y3;KX=1,y3=t,t.displayName="elm",t.aliases=[];function t(e){e.languages.elm={comment:/--.*|\{-[\s\S]*?-\}/,char:{pattern:/'(?:[^\\'\r\n]|\\(?:[abfnrtv\\']|\d+|x[0-9a-fA-F]+|u\{[0-9a-fA-F]+\}))'/,greedy:!0},string:[{pattern:/"""[\s\S]*?"""/,greedy:!0},{pattern:/"(?:[^\\"\r\n]|\\.)*"/,greedy:!0}],"import-statement":{pattern:/(^[\t ]*)import\s+[A-Z]\w*(?:\.[A-Z]\w*)*(?:\s+as\s+(?:[A-Z]\w*)(?:\.[A-Z]\w*)*)?(?:\s+exposing\s+)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|exposing|import)\b/}},keyword:/\b(?:alias|as|case|else|exposing|if|in|infixl|infixr|let|module|of|then|type)\b/,builtin:/\b(?:abs|acos|always|asin|atan|atan2|ceiling|clamp|compare|cos|curry|degrees|e|flip|floor|fromPolar|identity|isInfinite|isNaN|logBase|max|min|negate|never|not|pi|radians|rem|round|sin|sqrt|tan|toFloat|toPolar|toString|truncate|turns|uncurry|xor)\b/,number:/\b(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|0x[0-9a-f]+)\b/i,operator:/\s\.\s|[+\-/*=.$<>:&|^?%#@~!]{2,}|[+\-/*=$<>:&|^?%#@~!]/,hvariable:/\b(?:[A-Z]\w*\.)*[a-z]\w*\b/,constant:/\b(?:[A-Z]\w*\.)*[A-Z]\w*\b/,punctuation:/[{}[\]|(),.:]/}}return y3}var b3,YX;function qFe(){if(YX)return b3;YX=1;var t=yC(),e=Sl();b3=n,n.displayName="erb",n.aliases=[];function n(r){r.register(t),r.register(e),function(i){i.languages.erb={delimiter:{pattern:/^(\s*)<%=?|%>(?=\s*$)/,lookbehind:!0,alias:"punctuation"},ruby:{pattern:/\s*\S[\s\S]*/,alias:"language-ruby",inside:i.languages.ruby}},i.hooks.add("before-tokenize",function(a){var s=/<%=?(?:[^\r\n]|[\r\n](?!=begin)|[\r\n]=begin\s(?:[^\r\n]|[\r\n](?!=end))*[\r\n]=end)+?%>/g;i.languages["markup-templating"].buildPlaceholders(a,"erb",s)}),i.hooks.add("after-tokenize",function(a){i.languages["markup-templating"].tokenizePlaceholders(a,"erb")})}(r)}return b3}var v3,XX;function HFe(){if(XX)return v3;XX=1,v3=t,t.displayName="erlang",t.aliases=[];function t(e){e.languages.erlang={comment:/%.+/,string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},"quoted-function":{pattern:/'(?:\\.|[^\\'\r\n])+'(?=\()/,alias:"function"},"quoted-atom":{pattern:/'(?:\\.|[^\\'\r\n])+'/,alias:"atom"},boolean:/\b(?:false|true)\b/,keyword:/\b(?:after|case|catch|end|fun|if|of|receive|try|when)\b/,number:[/\$\\?./,/\b\d+#[a-z0-9]+/i,/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i],function:/\b[a-z][\w@]*(?=\()/,variable:{pattern:/(^|[^@])(?:\b|\?)[A-Z_][\w@]*/,lookbehind:!0},operator:[/[=\/<>:]=|=[:\/]=|\+\+?|--?|[=*\/!]|\b(?:and|andalso|band|bnot|bor|bsl|bsr|bxor|div|not|or|orelse|rem|xor)\b/,{pattern:/(^|[^<])<(?!<)/,lookbehind:!0},{pattern:/(^|[^>])>(?!>)/,lookbehind:!0}],atom:/\b[a-z][\w@]*/,punctuation:/[()[\]{}:;,.#|]|<<|>>/}}return v3}var w3,ZX;function Cde(){if(ZX)return w3;ZX=1,w3=t,t.displayName="lua",t.aliases=[];function t(e){e.languages.lua={comment:/^#!.+|--(?:\[(=*)\[[\s\S]*?\]\1\]|.*)/m,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\z(?:\r\n|\s)|\\(?:\r\n|[^z]))*\1|\[(=*)\[[\s\S]*?\]\2\]/,greedy:!0},number:/\b0x[a-f\d]+(?:\.[a-f\d]*)?(?:p[+-]?\d+)?\b|\b\d+(?:\.\B|(?:\.\d*)?(?:e[+-]?\d+)?\b)|\B\.\d+(?:e[+-]?\d+)?\b/i,keyword:/\b(?:and|break|do|else|elseif|end|false|for|function|goto|if|in|local|nil|not|or|repeat|return|then|true|until|while)\b/,function:/(?!\d)\w+(?=\s*(?:[({]))/,operator:[/[-+*%^&|#]|\/\/?|<[<=]?|>[>=]?|[=~]=?/,{pattern:/(^|[^.])\.\.(?!\.)/,lookbehind:!0}],punctuation:/[\[\](){},;]|\.+|:+/}}return w3}var _3,QX;function VFe(){if(QX)return _3;QX=1;var t=Cde(),e=Sl();_3=n,n.displayName="etlua",n.aliases=[];function n(r){r.register(t),r.register(e),function(i){i.languages.etlua={delimiter:{pattern:/^<%[-=]?|-?%>$/,alias:"punctuation"},"language-lua":{pattern:/[\s\S]+/,inside:i.languages.lua}},i.hooks.add("before-tokenize",function(a){var s=/<%[\s\S]+?%>/g;i.languages["markup-templating"].buildPlaceholders(a,"etlua",s)}),i.hooks.add("after-tokenize",function(a){i.languages["markup-templating"].tokenizePlaceholders(a,"etlua")})}(r)}return _3}var S3,JX;function GFe(){if(JX)return S3;JX=1,S3=t,t.displayName="excelFormula",t.aliases=[];function t(e){e.languages["excel-formula"]={comment:{pattern:/(\bN\(\s*)"(?:[^"]|"")*"(?=\s*\))/i,lookbehind:!0,greedy:!0},string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},reference:{pattern:/(?:'[^']*'|(?:[^\s()[\]{}<>*?"';,$&]*\[[^^\s()[\]{}<>*?"']+\])?\w+)!/,greedy:!0,alias:"string",inside:{operator:/!$/,punctuation:/'/,sheet:{pattern:/[^[\]]+$/,alias:"function"},file:{pattern:/\[[^[\]]+\]$/,inside:{punctuation:/[[\]]/}},path:/[\s\S]+/}},"function-name":{pattern:/\b[A-Z]\w*(?=\()/i,alias:"keyword"},range:{pattern:/\$?\b(?:[A-Z]+\$?\d+:\$?[A-Z]+\$?\d+|[A-Z]+:\$?[A-Z]+|\d+:\$?\d+)\b/i,alias:"property",inside:{operator:/:/,cell:/\$?[A-Z]+\$?\d+/i,column:/\$?[A-Z]+/i,row:/\$?\d+/}},cell:{pattern:/\b[A-Z]+\d+\b|\$[A-Za-z]+\$?\d+\b|\b[A-Za-z]+\$\d+\b/,alias:"property"},number:/(?:\b\d+(?:\.\d+)?|\B\.\d+)(?:e[+-]?\d+)?\b/i,boolean:/\b(?:FALSE|TRUE)\b/i,operator:/[-+*/^%=&,]|<[=>]?|>=?/,punctuation:/[[\]();{}|]/},e.languages.xlsx=e.languages.xls=e.languages["excel-formula"]}return S3}var x3,eZ;function WFe(){if(eZ)return x3;eZ=1,x3=t,t.displayName="factor",t.aliases=[];function t(e){(function(n){var r={function:/\b(?:BUGS?|FIX(?:MES?)?|NOTES?|TODOS?|XX+|HACKS?|WARN(?:ING)?|\?{2,}|!{2,})\b/},i={number:/\\[^\s']|%\w/},a={comment:[{pattern:/(^|\s)(?:! .*|!$)/,lookbehind:!0,inside:r},{pattern:/(^|\s)\/\*\s[\s\S]*?\*\/(?=\s|$)/,lookbehind:!0,greedy:!0,inside:r},{pattern:/(^|\s)!\[(={0,6})\[\s[\s\S]*?\]\2\](?=\s|$)/,lookbehind:!0,greedy:!0,inside:r}],number:[{pattern:/(^|\s)[+-]?\d+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)[+-]?0(?:b[01]+|o[0-7]+|d\d+|x[\dA-F]+)(?=\s|$)/i,lookbehind:!0},{pattern:/(^|\s)[+-]?\d+\/\d+\.?(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)\+?\d+\+\d+\/\d+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)-\d+-\d+\/\d+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)[+-]?(?:\d*\.\d+|\d+\.\d*|\d+)(?:e[+-]?\d+)?(?=\s|$)/i,lookbehind:!0},{pattern:/(^|\s)NAN:\s+[\da-fA-F]+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)[+-]?0(?:b1\.[01]*|o1\.[0-7]*|d1\.\d*|x1\.[\dA-F]*)p\d+(?=\s|$)/i,lookbehind:!0}],regexp:{pattern:/(^|\s)R\/\s(?:\\\S|[^\\/])*\/(?:[idmsr]*|[idmsr]+-[idmsr]+)(?=\s|$)/,lookbehind:!0,alias:"number",inside:{variable:/\\\S/,keyword:/[+?*\[\]^$(){}.|]/,operator:{pattern:/(\/)[idmsr]+(?:-[idmsr]+)?/,lookbehind:!0}}},boolean:{pattern:/(^|\s)[tf](?=\s|$)/,lookbehind:!0},"custom-string":{pattern:/(^|\s)[A-Z0-9\-]+"\s(?:\\\S|[^"\\])*"/,lookbehind:!0,greedy:!0,alias:"string",inside:{number:/\\\S|%\w|\//}},"multiline-string":[{pattern:/(^|\s)STRING:\s+\S+(?:\n|\r\n).*(?:\n|\r\n)\s*;(?=\s|$)/,lookbehind:!0,greedy:!0,alias:"string",inside:{number:i.number,"semicolon-or-setlocal":{pattern:/([\r\n][ \t]*);(?=\s|$)/,lookbehind:!0,alias:"function"}}},{pattern:/(^|\s)HEREDOC:\s+\S+(?:\n|\r\n).*(?:\n|\r\n)\s*\S+(?=\s|$)/,lookbehind:!0,greedy:!0,alias:"string",inside:i},{pattern:/(^|\s)\[(={0,6})\[\s[\s\S]*?\]\2\](?=\s|$)/,lookbehind:!0,greedy:!0,alias:"string",inside:i}],"special-using":{pattern:/(^|\s)USING:(?:\s\S+)*(?=\s+;(?:\s|$))/,lookbehind:!0,alias:"function",inside:{string:{pattern:/(\s)[^:\s]+/,lookbehind:!0}}},"stack-effect-delimiter":[{pattern:/(^|\s)(?:call|eval|execute)?\((?=\s)/,lookbehind:!0,alias:"operator"},{pattern:/(\s)--(?=\s)/,lookbehind:!0,alias:"operator"},{pattern:/(\s)\)(?=\s|$)/,lookbehind:!0,alias:"operator"}],combinators:{pattern:null,lookbehind:!0,alias:"keyword"},"kernel-builtin":{pattern:null,lookbehind:!0,alias:"variable"},"sequences-builtin":{pattern:null,lookbehind:!0,alias:"variable"},"math-builtin":{pattern:null,lookbehind:!0,alias:"variable"},"constructor-word":{pattern:/(^|\s)<(?!=+>|-+>)\S+>(?=\s|$)/,lookbehind:!0,alias:"keyword"},"other-builtin-syntax":{pattern:null,lookbehind:!0,alias:"operator"},"conventionally-named-word":{pattern:/(^|\s)(?!")(?:(?:change|new|set|with)-\S+|\$\S+|>[^>\s]+|[^:>\s]+>|[^>\s]+>[^>\s]+|\+[^+\s]+\+|[^?\s]+\?|\?[^?\s]+|[^>\s]+>>|>>[^>\s]+|[^<\s]+<<|\([^()\s]+\)|[^!\s]+!|[^*\s]\S*\*|[^.\s]\S*\.)(?=\s|$)/,lookbehind:!0,alias:"keyword"},"colon-syntax":{pattern:/(^|\s)(?:[A-Z0-9\-]+#?)?:{1,2}\s+(?:;\S+|(?!;)\S+)(?=\s|$)/,lookbehind:!0,greedy:!0,alias:"function"},"semicolon-or-setlocal":{pattern:/(\s)(?:;|:>)(?=\s|$)/,lookbehind:!0,alias:"function"},"curly-brace-literal-delimiter":[{pattern:/(^|\s)[a-z]*\{(?=\s)/i,lookbehind:!0,alias:"operator"},{pattern:/(\s)\}(?=\s|$)/,lookbehind:!0,alias:"operator"}],"quotation-delimiter":[{pattern:/(^|\s)\[(?=\s)/,lookbehind:!0,alias:"operator"},{pattern:/(\s)\](?=\s|$)/,lookbehind:!0,alias:"operator"}],"normal-word":{pattern:/(^|\s)[^"\s]\S*(?=\s|$)/,lookbehind:!0},string:{pattern:/"(?:\\\S|[^"\\])*"/,greedy:!0,inside:i}},s=function(d){return(d+"").replace(/([.?*+\^$\[\]\\(){}|\-])/g,"\\$1")},o=function(d){return new RegExp("(^|\\s)(?:"+d.map(s).join("|")+")(?=\\s|$)")},l={"kernel-builtin":["or","2nipd","4drop","tuck","wrapper","nip","wrapper?","callstack>array","die","dupd","callstack","callstack?","3dup","hashcode","pick","4nip","build",">boolean","nipd","clone","5nip","eq?","?","=","swapd","2over","clear","2dup","get-retainstack","not","tuple?","dup","3nipd","call","-rotd","object","drop","assert=","assert?","-rot","execute","boa","get-callstack","curried?","3drop","pickd","overd","over","roll","3nip","swap","and","2nip","rotd","throw","(clone)","hashcode*","spin","reach","4dup","equal?","get-datastack","assert","2drop","<wrapper>","boolean?","identity-hashcode","identity-tuple?","null","composed?","new","5drop","rot","-roll","xor","identity-tuple","boolean"],"other-builtin-syntax":["=======","recursive","flushable",">>","<<<<<<","M\\","B","PRIVATE>","\\","======","final","inline","delimiter","deprecated","<PRIVATE",">>>>>>","<<<<<<<","parse-complex","malformed-complex","read-only",">>>>>>>","call-next-method","<<","foldable","$","$[","${"],"sequences-builtin":["member-eq?","mismatch","append","assert-sequence=","longer","repetition","clone-like","3sequence","assert-sequence?","last-index-from","reversed","index-from","cut*","pad-tail","join-as","remove-eq!","concat-as","but-last","snip","nths","nth","sequence","longest","slice?","<slice>","remove-nth","tail-slice","empty?","tail*","member?","virtual-sequence?","set-length","drop-prefix","iota","unclip","bounds-error?","unclip-last-slice","non-negative-integer-expected","non-negative-integer-expected?","midpoint@","longer?","?set-nth","?first","rest-slice","prepend-as","prepend","fourth","sift","subseq-start","new-sequence","?last","like","first4","1sequence","reverse","slice","virtual@","repetition?","set-last","index","4sequence","max-length","set-second","immutable-sequence","first2","first3","supremum","unclip-slice","suffix!","insert-nth","tail","3append","short","suffix","concat","flip","immutable?","reverse!","2sequence","sum","delete-all","indices","snip-slice","<iota>","check-slice","sequence?","head","append-as","halves","sequence=","collapse-slice","?second","slice-error?","product","bounds-check?","bounds-check","immutable","virtual-exemplar","harvest","remove","pad-head","last","set-fourth","cartesian-product","remove-eq","shorten","shorter","reversed?","shorter?","shortest","head-slice","pop*","tail-slice*","but-last-slice","iota?","append!","cut-slice","new-resizable","head-slice*","sequence-hashcode","pop","set-nth","?nth","second","join","immutable-sequence?","<reversed>","3append-as","virtual-sequence","subseq?","remove-nth!","length","last-index","lengthen","assert-sequence","copy","move","third","first","tail?","set-first","prefix","bounds-error","<repetition>","exchange","surround","cut","min-length","set-third","push-all","head?","subseq-start-from","delete-slice","rest","sum-lengths","head*","infimum","remove!","glue","slice-error","subseq","push","replace-slice","subseq-as","unclip-last"],"math-builtin":["number=","next-power-of-2","?1+","fp-special?","imaginary-part","float>bits","number?","fp-infinity?","bignum?","fp-snan?","denominator","gcd","*","+","fp-bitwise=","-","u>=","/",">=","bitand","power-of-2?","log2-expects-positive","neg?","<","log2",">","integer?","number","bits>double","2/","zero?","bits>float","float?","shift","ratio?","rect>","even?","ratio","fp-sign","bitnot",">fixnum","complex?","/i","integer>fixnum","/f","sgn",">bignum","next-float","u<","u>","mod","recip","rational",">float","2^","integer","fixnum?","neg","fixnum","sq","bignum",">rect","bit?","fp-qnan?","simple-gcd","complex","<fp-nan>","real",">fraction","double>bits","bitor","rem","fp-nan-payload","real-part","log2-expects-positive?","prev-float","align","unordered?","float","fp-nan?","abs","bitxor","integer>fixnum-strict","u<=","odd?","<=","/mod",">integer","real?","rational?","numerator"]};Object.keys(l).forEach(function(d){a[d].pattern=o(l[d])});var u=["2bi","while","2tri","bi*","4dip","both?","same?","tri@","curry","prepose","3bi","?if","tri*","2keep","3keep","curried","2keepd","when","2bi*","2tri*","4keep","bi@","keepdd","do","unless*","tri-curry","if*","loop","bi-curry*","when*","2bi@","2tri@","with","2with","either?","bi","until","3dip","3curry","tri-curry*","tri-curry@","bi-curry","keepd","compose","2dip","if","3tri","unless","tuple","keep","2curry","tri","most","while*","dip","composed","bi-curry@","find-last-from","trim-head-slice","map-as","each-from","none?","trim-tail","partition","if-empty","accumulate*","reject!","find-from","accumulate-as","collector-for-as","reject","map","map-sum","accumulate!","2each-from","follow","supremum-by","map!","unless-empty","collector","padding","reduce-index","replicate-as","infimum-by","trim-tail-slice","count","find-index","filter","accumulate*!","reject-as","map-integers","map-find","reduce","selector","interleave","2map","filter-as","binary-reduce","map-index-as","find","produce","filter!","replicate","cartesian-map","cartesian-each","find-index-from","map-find-last","3map-as","3map","find-last","selector-as","2map-as","2map-reduce","accumulate","each","each-index","accumulate*-as","when-empty","all?","collector-as","push-either","new-like","collector-for","2selector","push-if","2all?","map-reduce","3each","any?","trim-slice","2reduce","change-nth","produce-as","2each","trim","trim-head","cartesian-find","map-index","if-zero","each-integer","unless-zero","(find-integer)","when-zero","find-last-integer","(all-integers?)","times","(each-integer)","find-integer","all-integers?","unless-negative","if-positive","when-positive","when-negative","unless-positive","if-negative","case","2cleave","cond>quot","case>quot","3cleave","wrong-values","to-fixed-point","alist>quot","cond","cleave","call-effect","recursive-hashcode","spread","deep-spread>quot","2||","0||","n||","0&&","2&&","3||","1||","1&&","n&&","3&&","smart-unless*","keep-inputs","reduce-outputs","smart-when*","cleave>array","smart-with","smart-apply","smart-if","inputs/outputs","output>sequence-n","map-outputs","map-reduce-outputs","dropping","output>array","smart-map-reduce","smart-2map-reduce","output>array-n","nullary","input<sequence","append-outputs","drop-inputs","inputs","smart-2reduce","drop-outputs","smart-reduce","preserving","smart-when","outputs","append-outputs-as","smart-unless","smart-if*","sum-outputs","input<sequence-unsafe","output>sequence"];a.combinators.pattern=o(u),n.languages.factor=a})(e)}return x3}var E3,tZ;function KFe(){if(tZ)return E3;tZ=1,E3=t,t.displayName="$false",t.aliases=[];function t(e){(function(n){n.languages.false={comment:{pattern:/\{[^}]*\}/},string:{pattern:/"[^"]*"/,greedy:!0},"character-code":{pattern:/'(?:[^\r]|\r\n?)/,alias:"number"},"assembler-code":{pattern:/\d+`/,alias:"important"},number:/\d+/,operator:/[-!#$%&'*+,./:;=>?@\\^_`|~ßø]/,punctuation:/\[|\]/,variable:/[a-z]/,"non-standard":{pattern:/[()<BDO®]/,alias:"bold"}}})(e)}return E3}var k3,nZ;function YFe(){if(nZ)return k3;nZ=1,k3=t,t.displayName="firestoreSecurityRules",t.aliases=[];function t(e){e.languages["firestore-security-rules"]=e.languages.extend("clike",{comment:/\/\/.*/,keyword:/\b(?:allow|function|if|match|null|return|rules_version|service)\b/,operator:/&&|\|\||[<>!=]=?|[-+*/%]|\b(?:in|is)\b/}),delete e.languages["firestore-security-rules"]["class-name"],e.languages.insertBefore("firestore-security-rules","keyword",{path:{pattern:/(^|[\s(),])(?:\/(?:[\w\xA0-\uFFFF]+|\{[\w\xA0-\uFFFF]+(?:=\*\*)?\}|\$\([\w\xA0-\uFFFF.]+\)))+/,lookbehind:!0,greedy:!0,inside:{variable:{pattern:/\{[\w\xA0-\uFFFF]+(?:=\*\*)?\}|\$\([\w\xA0-\uFFFF.]+\)/,inside:{operator:/=/,keyword:/\*\*/,punctuation:/[.$(){}]/}},punctuation:/\//}},method:{pattern:/(\ballow\s+)[a-z]+(?:\s*,\s*[a-z]+)*(?=\s*[:;])/,lookbehind:!0,alias:"builtin",inside:{punctuation:/,/}}})}return k3}var T3,rZ;function XFe(){if(rZ)return T3;rZ=1,T3=t,t.displayName="flow",t.aliases=[];function t(e){(function(n){n.languages.flow=n.languages.extend("javascript",{}),n.languages.insertBefore("flow","keyword",{type:[{pattern:/\b(?:[Bb]oolean|Function|[Nn]umber|[Ss]tring|any|mixed|null|void)\b/,alias:"tag"}]}),n.languages.flow["function-variable"].pattern=/(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=\s*(?:function\b|(?:\([^()]*\)(?:\s*:\s*\w+)?|(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/i,delete n.languages.flow.parameter,n.languages.insertBefore("flow","operator",{"flow-punctuation":{pattern:/\{\||\|\}/,alias:"punctuation"}}),Array.isArray(n.languages.flow.keyword)||(n.languages.flow.keyword=[n.languages.flow.keyword]),n.languages.flow.keyword.unshift({pattern:/(^|[^$]\b)(?:Class|declare|opaque|type)\b(?!\$)/,lookbehind:!0},{pattern:/(^|[^$]\B)\$(?:Diff|Enum|Exact|Keys|ObjMap|PropertyType|Record|Shape|Subtype|Supertype|await)\b(?!\$)/,lookbehind:!0})})(e)}return T3}var A3,iZ;function ZFe(){if(iZ)return A3;iZ=1,A3=t,t.displayName="fortran",t.aliases=[];function t(e){e.languages.fortran={"quoted-number":{pattern:/[BOZ](['"])[A-F0-9]+\1/i,alias:"number"},string:{pattern:/(?:\b\w+_)?(['"])(?:\1\1|&(?:\r\n?|\n)(?:[ \t]*!.*(?:\r\n?|\n)|(?![ \t]*!))|(?!\1).)*(?:\1|&)/,inside:{comment:{pattern:/(&(?:\r\n?|\n)\s*)!.*/,lookbehind:!0}}},comment:{pattern:/!.*/,greedy:!0},boolean:/\.(?:FALSE|TRUE)\.(?:_\w+)?/i,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[ED][+-]?\d+)?(?:_\w+)?/i,keyword:[/\b(?:CHARACTER|COMPLEX|DOUBLE ?PRECISION|INTEGER|LOGICAL|REAL)\b/i,/\b(?:END ?)?(?:BLOCK ?DATA|DO|FILE|FORALL|FUNCTION|IF|INTERFACE|MODULE(?! PROCEDURE)|PROGRAM|SELECT|SUBROUTINE|TYPE|WHERE)\b/i,/\b(?:ALLOCATABLE|ALLOCATE|BACKSPACE|CALL|CASE|CLOSE|COMMON|CONTAINS|CONTINUE|CYCLE|DATA|DEALLOCATE|DIMENSION|DO|END|EQUIVALENCE|EXIT|EXTERNAL|FORMAT|GO ?TO|IMPLICIT(?: NONE)?|INQUIRE|INTENT|INTRINSIC|MODULE PROCEDURE|NAMELIST|NULLIFY|OPEN|OPTIONAL|PARAMETER|POINTER|PRINT|PRIVATE|PUBLIC|READ|RETURN|REWIND|SAVE|SELECT|STOP|TARGET|WHILE|WRITE)\b/i,/\b(?:ASSIGNMENT|DEFAULT|ELEMENTAL|ELSE|ELSEIF|ELSEWHERE|ENTRY|IN|INCLUDE|INOUT|KIND|NULL|ONLY|OPERATOR|OUT|PURE|RECURSIVE|RESULT|SEQUENCE|STAT|THEN|USE)\b/i],operator:[/\*\*|\/\/|=>|[=\/]=|[<>]=?|::|[+\-*=%]|\.[A-Z]+\./i,{pattern:/(^|(?!\().)\/(?!\))/,lookbehind:!0}],punctuation:/\(\/|\/\)|[(),;:&]/}}return A3}var C3,aZ;function QFe(){if(aZ)return C3;aZ=1,C3=t,t.displayName="fsharp",t.aliases=[];function t(e){e.languages.fsharp=e.languages.extend("clike",{comment:[{pattern:/(^|[^\\])\(\*(?!\))[\s\S]*?\*\)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(?:"""[\s\S]*?"""|@"(?:""|[^"])*"|"(?:\\[\s\S]|[^\\"])*")B?/,greedy:!0},"class-name":{pattern:/(\b(?:exception|inherit|interface|new|of|type)\s+|\w\s*:\s*|\s:\??>\s*)[.\w]+\b(?:\s*(?:->|\*)\s*[.\w]+\b)*(?!\s*[:.])/,lookbehind:!0,inside:{operator:/->|\*/,punctuation:/\./}},keyword:/\b(?:let|return|use|yield)(?:!\B|\b)|\b(?:abstract|and|as|asr|assert|atomic|base|begin|break|checked|class|component|const|constraint|constructor|continue|default|delegate|do|done|downcast|downto|eager|elif|else|end|event|exception|extern|external|false|finally|fixed|for|fun|function|functor|global|if|in|include|inherit|inline|interface|internal|land|lazy|lor|lsl|lsr|lxor|match|member|method|mixin|mod|module|mutable|namespace|new|not|null|object|of|open|or|override|parallel|private|process|protected|public|pure|rec|sealed|select|sig|static|struct|tailcall|then|to|trait|true|try|type|upcast|val|virtual|void|volatile|when|while|with)\b/,number:[/\b0x[\da-fA-F]+(?:LF|lf|un)?\b/,/\b0b[01]+(?:uy|y)?\b/,/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[fm]|e[+-]?\d+)?\b/i,/\b\d+(?:[IlLsy]|UL|u[lsy]?)?\b/],operator:/([<>~&^])\1\1|([*.:<>&])\2|<-|->|[!=:]=|<?\|{1,3}>?|\??(?:<=|>=|<>|[-+*/%=<>])\??|[!?^&]|~[+~-]|:>|:\?>?/}),e.languages.insertBefore("fsharp","keyword",{preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(^#)\b(?:else|endif|if|light|line|nowarn)\b/,lookbehind:!0,alias:"keyword"}}}}),e.languages.insertBefore("fsharp","punctuation",{"computation-expression":{pattern:/\b[_a-z]\w*(?=\s*\{)/i,alias:"keyword"}}),e.languages.insertBefore("fsharp","string",{annotation:{pattern:/\[<.+?>\]/,greedy:!0,inside:{punctuation:/^\[<|>\]$/,"class-name":{pattern:/^\w+$|(^|;\s*)[A-Z]\w*(?=\()/,lookbehind:!0},"annotation-content":{pattern:/[\s\S]+/,inside:e.languages.fsharp}}},char:{pattern:/'(?:[^\\']|\\(?:.|\d{3}|x[a-fA-F\d]{2}|u[a-fA-F\d]{4}|U[a-fA-F\d]{8}))'B?/,greedy:!0}})}return C3}var R3,sZ;function JFe(){if(sZ)return R3;sZ=1;var t=Sl();R3=e,e.displayName="ftl",e.aliases=[];function e(n){n.register(t),function(r){for(var i=/[^<()"']|\((?:<expr>)*\)|<(?!#--)|<#--(?:[^-]|-(?!->))*-->|"(?:[^\\"]|\\.)*"|'(?:[^\\']|\\.)*'/.source,a=0;a<2;a++)i=i.replace(/<expr>/g,function(){return i});i=i.replace(/<expr>/g,/[^\s\S]/.source);var s={comment:/<#--[\s\S]*?-->/,string:[{pattern:/\br("|')(?:(?!\1)[^\\]|\\.)*\1/,greedy:!0},{pattern:RegExp(/("|')(?:(?!\1|\$\{)[^\\]|\\.|\$\{(?:(?!\})(?:<expr>))*\})*\1/.source.replace(/<expr>/g,function(){return i})),greedy:!0,inside:{interpolation:{pattern:RegExp(/((?:^|[^\\])(?:\\\\)*)\$\{(?:(?!\})(?:<expr>))*\}/.source.replace(/<expr>/g,function(){return i})),lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:null}}}}],keyword:/\b(?:as)\b/,boolean:/\b(?:false|true)\b/,"builtin-function":{pattern:/((?:^|[^?])\?\s*)\w+/,lookbehind:!0,alias:"function"},function:/\b\w+(?=\s*\()/,number:/\b\d+(?:\.\d+)?\b/,operator:/\.\.[<*!]?|->|--|\+\+|&&|\|\||\?{1,2}|[-+*/%!=<>]=?|\b(?:gt|gte|lt|lte)\b/,punctuation:/[,;.:()[\]{}]/};s.string[1].inside.interpolation.inside.rest=s,r.languages.ftl={"ftl-comment":{pattern:/^<#--[\s\S]*/,alias:"comment"},"ftl-directive":{pattern:/^<[\s\S]+>$/,inside:{directive:{pattern:/(^<\/?)[#@][a-z]\w*/i,lookbehind:!0,alias:"keyword"},punctuation:/^<\/?|\/?>$/,content:{pattern:/\s*\S[\s\S]*/,alias:"ftl",inside:s}}},"ftl-interpolation":{pattern:/^\$\{[\s\S]*\}$/,inside:{punctuation:/^\$\{|\}$/,content:{pattern:/\s*\S[\s\S]*/,alias:"ftl",inside:s}}}},r.hooks.add("before-tokenize",function(o){var l=RegExp(/<#--[\s\S]*?-->|<\/?[#@][a-zA-Z](?:<expr>)*?>|\$\{(?:<expr>)*?\}/.source.replace(/<expr>/g,function(){return i}),"gi");r.languages["markup-templating"].buildPlaceholders(o,"ftl",l)}),r.hooks.add("after-tokenize",function(o){r.languages["markup-templating"].tokenizePlaceholders(o,"ftl")})}(n)}return R3}var I3,oZ;function e9e(){if(oZ)return I3;oZ=1,I3=t,t.displayName="gap",t.aliases=[];function t(e){e.languages.gap={shell:{pattern:/^gap>[\s\S]*?(?=^gap>|$(?![\s\S]))/m,greedy:!0,inside:{gap:{pattern:/^(gap>).+(?:(?:\r(?:\n|(?!\n))|\n)>.*)*/,lookbehind:!0,inside:null},punctuation:/^gap>/}},comment:{pattern:/#.*/,greedy:!0},string:{pattern:/(^|[^\\'"])(?:'(?:[^\r\n\\']|\\.){1,10}'|"(?:[^\r\n\\"]|\\.)*"(?!")|"""[\s\S]*?""")/,lookbehind:!0,greedy:!0,inside:{continuation:{pattern:/([\r\n])>/,lookbehind:!0,alias:"punctuation"}}},keyword:/\b(?:Assert|Info|IsBound|QUIT|TryNextMethod|Unbind|and|atomic|break|continue|do|elif|else|end|fi|for|function|if|in|local|mod|not|od|or|quit|readonly|readwrite|rec|repeat|return|then|until|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:{pattern:/(^|[^\w.]|\.\.)(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?(?:_[a-z]?)?(?=$|[^\w.]|\.\.)/,lookbehind:!0},continuation:{pattern:/([\r\n])>/,lookbehind:!0,alias:"punctuation"},operator:/->|[-+*/^~=!]|<>|[<>]=?|:=|\.\./,punctuation:/[()[\]{},;.:]/},e.languages.gap.shell.inside.gap.inside=e.languages.gap}return I3}var N3,lZ;function t9e(){if(lZ)return N3;lZ=1,N3=t,t.displayName="gcode",t.aliases=[];function t(e){e.languages.gcode={comment:/;.*|\B\(.*?\)\B/,string:{pattern:/"(?:""|[^"])*"/,greedy:!0},keyword:/\b[GM]\d+(?:\.\d+)?\b/,property:/\b[A-Z]/,checksum:{pattern:/(\*)\d+/,lookbehind:!0,alias:"number"},punctuation:/[:*]/}}return N3}var O3,uZ;function n9e(){if(uZ)return O3;uZ=1,O3=t,t.displayName="gdscript",t.aliases=[];function t(e){e.languages.gdscript={comment:/#.*/,string:{pattern:/@?(?:("|')(?:(?!\1)[^\n\\]|\\[\s\S])*\1(?!"|')|"""(?:[^\\]|\\[\s\S])*?""")/,greedy:!0},"class-name":{pattern:/(^(?:class|class_name|extends)[ \t]+|^export\([ \t]*|\bas[ \t]+|(?:\b(?:const|var)[ \t]|[,(])[ \t]*\w+[ \t]*:[ \t]*|->[ \t]*)[a-zA-Z_]\w*/m,lookbehind:!0},keyword:/\b(?:and|as|assert|break|breakpoint|class|class_name|const|continue|elif|else|enum|export|extends|for|func|if|in|is|master|mastersync|match|not|null|onready|or|pass|preload|puppet|puppetsync|remote|remotesync|return|self|setget|signal|static|tool|var|while|yield)\b/,function:/\b[a-z_]\w*(?=[ \t]*\()/i,variable:/\$\w+/,number:[/\b0b[01_]+\b|\b0x[\da-fA-F_]+\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.[\d_]+)(?:e[+-]?[\d_]+)?\b/,/\b(?:INF|NAN|PI|TAU)\b/],constant:/\b[A-Z][A-Z_\d]*\b/,boolean:/\b(?:false|true)\b/,operator:/->|:=|&&|\|\||<<|>>|[-+*/%&|!<>=]=?|[~^]/,punctuation:/[.:,;()[\]{}]/}}return O3}var M3,cZ;function r9e(){if(cZ)return M3;cZ=1,M3=t,t.displayName="gedcom",t.aliases=[];function t(e){e.languages.gedcom={"line-value":{pattern:/(^[\t ]*\d+ +(?:@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@ +)?\w+ ).+/m,lookbehind:!0,inside:{pointer:{pattern:/^@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@$/,alias:"variable"}}},tag:{pattern:/(^[\t ]*\d+ +(?:@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@ +)?)\w+/m,lookbehind:!0,alias:"string"},level:{pattern:/(^[\t ]*)\d+/m,lookbehind:!0,alias:"number"},pointer:{pattern:/@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@/,alias:"variable"}}}return M3}var P3,dZ;function i9e(){if(dZ)return P3;dZ=1,P3=t,t.displayName="gherkin",t.aliases=[];function t(e){(function(n){var r=/(?:\r?\n|\r)[ \t]*\|.+\|(?:(?!\|).)*/.source;n.languages.gherkin={pystring:{pattern:/("""|''')[\s\S]+?\1/,alias:"string"},comment:{pattern:/(^[ \t]*)#.*/m,lookbehind:!0},tag:{pattern:/(^[ \t]*)@\S*/m,lookbehind:!0},feature:{pattern:/((?:^|\r?\n|\r)[ \t]*)(?:Ability|Ahoy matey!|Arwedd|Aspekt|Besigheid Behoefte|Business Need|Caracteristica|Característica|Egenskab|Egenskap|Eiginleiki|Feature|Fīča|Fitur|Fonctionnalité|Fonksyonalite|Funcionalidade|Funcionalitat|Functionalitate|Funcţionalitate|Funcționalitate|Functionaliteit|Fungsi|Funkcia|Funkcija|Funkcionalitāte|Funkcionalnost|Funkcja|Funksie|Funktionalität|Funktionalitéit|Funzionalità|Hwaet|Hwæt|Jellemző|Karakteristik|Lastnost|Mak|Mogucnost|laH|Mogućnost|Moznosti|Možnosti|OH HAI|Omadus|Ominaisuus|Osobina|Özellik|Potrzeba biznesowa|perbogh|poQbogh malja'|Požadavek|Požiadavka|Pretty much|Qap|Qu'meH 'ut|Savybė|Tính năng|Trajto|Vermoë|Vlastnosť|Właściwość|Značilnost|Δυνατότητα|Λειτουργία|Могућност|Мөмкинлек|Особина|Свойство|Үзенчәлеклелек|Функционал|Функционалност|Функция|Функціонал|תכונה|خاصية|خصوصیت|صلاحیت|کاروبار کی ضرورت|وِیژگی|रूप लेख|ਖਾਸੀਅਤ|ਨਕਸ਼ ਨੁਹਾਰ|ਮੁਹਾਂਦਰਾ|గుణము|ಹೆಚ್ಚಳ|ความต้องการทางธุรกิจ|ความสามารถ|โครงหลัก|기능|フィーチャ|功能|機能):(?:[^:\r\n]+(?:\r?\n|\r|$))*/,lookbehind:!0,inside:{important:{pattern:/(:)[^\r\n]+/,lookbehind:!0},keyword:/[^:\r\n]+:/}},scenario:{pattern:/(^[ \t]*)(?:Abstract Scenario|Abstrakt Scenario|Achtergrond|Aer|Ær|Agtergrond|All y'all|Antecedentes|Antecedents|Atburðarás|Atburðarásir|Awww, look mate|B4|Background|Baggrund|Bakgrund|Bakgrunn|Bakgrunnur|Beispiele|Beispiller|Bối cảnh|Cefndir|Cenario|Cenário|Cenario de Fundo|Cenário de Fundo|Cenarios|Cenários|Contesto|Context|Contexte|Contexto|Conto|Contoh|Contone|Dæmi|Dasar|Dead men tell no tales|Delineacao do Cenario|Delineação do Cenário|Dis is what went down|Dữ liệu|Dyagram Senaryo|Dyagram senaryo|Egzanp|Ejemplos|Eksempler|Ekzemploj|Enghreifftiau|Esbozo do escenario|Escenari|Escenario|Esempi|Esquema de l'escenari|Esquema del escenario|Esquema do Cenario|Esquema do Cenário|EXAMPLZ|Examples|Exempel|Exemple|Exemples|Exemplos|First off|Fono|Forgatókönyv|Forgatókönyv vázlat|Fundo|Geçmiş|Grundlage|Hannergrond|ghantoH|Háttér|Heave to|Istorik|Juhtumid|Keadaan|Khung kịch bản|Khung tình huống|Kịch bản|Koncept|Konsep skenario|Kontèks|Kontekst|Kontekstas|Konteksts|Kontext|Konturo de la scenaro|Latar Belakang|lut chovnatlh|lut|lutmey|Lýsing Atburðarásar|Lýsing Dæma|MISHUN SRSLY|MISHUN|Menggariskan Senario|mo'|Náčrt Scenára|Náčrt Scénáře|Náčrt Scenáru|Oris scenarija|Örnekler|Osnova|Osnova Scenára|Osnova scénáře|Osnutek|Ozadje|Paraugs|Pavyzdžiai|Példák|Piemēri|Plan du scénario|Plan du Scénario|Plan Senaryo|Plan senaryo|Plang vum Szenario|Pozadí|Pozadie|Pozadina|Príklady|Příklady|Primer|Primeri|Primjeri|Przykłady|Raamstsenaarium|Reckon it's like|Rerefons|Scenár|Scénář|Scenarie|Scenarij|Scenarijai|Scenarijaus šablonas|Scenariji|Scenārijs|Scenārijs pēc parauga|Scenarijus|Scenario|Scénario|Scenario Amlinellol|Scenario Outline|Scenario Template|Scenariomal|Scenariomall|Scenarios|Scenariu|Scenariusz|Scenaro|Schema dello scenario|Se ðe|Se the|Se þe|Senario|Senaryo Deskripsyon|Senaryo deskripsyon|Senaryo|Senaryo taslağı|Shiver me timbers|Situācija|Situai|Situasie Uiteensetting|Situasie|Skenario konsep|Skenario|Skica|Structura scenariu|Structură scenariu|Struktura scenarija|Stsenaarium|Swa hwaer swa|Swa|Swa hwær swa|Szablon scenariusza|Szenario|Szenariogrundriss|Tapaukset|Tapaus|Tapausaihio|Taust|Tausta|Template Keadaan|Template Senario|Template Situai|The thing of it is|Tình huống|Variantai|Voorbeelde|Voorbeelden|Wharrimean is|Yo-ho-ho|You'll wanna|Założenia|Παραδείγματα|Περιγραφή Σεναρίου|Σενάρια|Σενάριο|Υπόβαθρο|Кереш|Контекст|Концепт|Мисаллар|Мисоллар|Основа|Передумова|Позадина|Предистория|Предыстория|Приклади|Пример|Примери|Примеры|Рамка на сценарий|Скица|Структура сценарија|Структура сценария|Структура сценарію|Сценарий|Сценарий структураси|Сценарийның төзелеше|Сценарији|Сценарио|Сценарій|Тарих|Үрнәкләр|דוגמאות|רקע|תבנית תרחיש|תרחיש|الخلفية|الگوی سناریو|امثلة|پس منظر|زمینه|سناریو|سيناريو|سيناريو مخطط|مثالیں|منظر نامے کا خاکہ|منظرنامہ|نمونه ها|उदाहरण|परिदृश्य|परिदृश्य रूपरेखा|पृष्ठभूमि|ਉਦਾਹਰਨਾਂ|ਪਟਕਥਾ|ਪਟਕਥਾ ਢਾਂਚਾ|ਪਟਕਥਾ ਰੂਪ ਰੇਖਾ|ਪਿਛੋਕੜ|ఉదాహరణలు|కథనం|నేపథ్యం|సన్నివేశం|ಉದಾಹರಣೆಗಳು|ಕಥಾಸಾರಾಂಶ|ವಿವರಣೆ|ಹಿನ್ನೆಲೆ|โครงสร้างของเหตุการณ์|ชุดของตัวอย่าง|ชุดของเหตุการณ์|แนวคิด|สรุปเหตุการณ์|เหตุการณ์|배경|시나리오|시나리오 개요|예|サンプル|シナリオ|シナリオアウトライン|シナリオテンプレ|シナリオテンプレート|テンプレ|例|例子|剧本|剧本大纲|劇本|劇本大綱|场景|场景大纲|場景|場景大綱|背景):[^:\r\n]*/m,lookbehind:!0,inside:{important:{pattern:/(:)[^\r\n]*/,lookbehind:!0},keyword:/[^:\r\n]+:/}},"table-body":{pattern:RegExp("("+r+")(?:"+r+")+"),lookbehind:!0,inside:{outline:{pattern:/<[^>]+>/,alias:"variable"},td:{pattern:/\s*[^\s|][^|]*/,alias:"string"},punctuation:/\|/}},"table-head":{pattern:RegExp(r),inside:{th:{pattern:/\s*[^\s|][^|]*/,alias:"variable"},punctuation:/\|/}},atrule:{pattern:/(^[ \t]+)(?:'a|'ach|'ej|7|a|A také|A taktiež|A tiež|A zároveň|Aber|Ac|Adott|Akkor|Ak|Aleshores|Ale|Ali|Allora|Alors|Als|Ama|Amennyiben|Amikor|Ampak|an|AN|Ananging|And y'all|And|Angenommen|Anrhegedig a|An|Apabila|Atès|Atesa|Atunci|Avast!|Aye|A|awer|Bagi|Banjur|Bet|Biết|Blimey!|Buh|But at the end of the day I reckon|But y'all|But|BUT|Cal|Când|Cand|Cando|Ce|Cuando|Če|Ða ðe|Ða|Dadas|Dada|Dados|Dado|DaH ghu' bejlu'|dann|Dann|Dano|Dan|Dar|Dat fiind|Data|Date fiind|Date|Dati fiind|Dati|Daţi fiind|Dați fiind|DEN|Dato|De|Den youse gotta|Dengan|Diberi|Diyelim ki|Donada|Donat|Donitaĵo|Do|Dun|Duota|Ðurh|Eeldades|Ef|Eğer ki|Entao|Então|Entón|E|En|Entonces|Epi|És|Etant donnée|Etant donné|Et|Étant données|Étant donnée|Étant donné|Etant données|Etant donnés|Étant donnés|Fakat|Gangway!|Gdy|Gegeben seien|Gegeben sei|Gegeven|Gegewe|ghu' noblu'|Gitt|Given y'all|Given|Givet|Givun|Ha|Cho|I CAN HAZ|In|Ir|It's just unbelievable|I|Ja|Jeśli|Jeżeli|Kad|Kada|Kadar|Kai|Kaj|Když|Keď|Kemudian|Ketika|Khi|Kiedy|Ko|Kuid|Kui|Kun|Lan|latlh|Le sa a|Let go and haul|Le|Lè sa a|Lè|Logo|Lorsqu'<|Lorsque|mä|Maar|Mais|Mając|Ma|Majd|Maka|Manawa|Mas|Men|Menawa|Mutta|Nalika|Nalikaning|Nanging|Når|När|Nato|Nhưng|Niin|Njuk|O zaman|Och|Og|Oletetaan|Ond|Onda|Oraz|Pak|Pero|Però|Podano|Pokiaľ|Pokud|Potem|Potom|Privzeto|Pryd|Quan|Quand|Quando|qaSDI'|Så|Sed|Se|Siis|Sipoze ke|Sipoze Ke|Sipoze|Si|Şi|Și|Soit|Stel|Tada|Tad|Takrat|Tak|Tapi|Ter|Tetapi|Tha the|Tha|Then y'all|Then|Thì|Thurh|Toda|Too right|Un|Und|ugeholl|Và|vaj|Vendar|Ve|wann|Wanneer|WEN|Wenn|When y'all|When|Wtedy|Wun|Y'know|Yeah nah|Yna|Youse know like when|Youse know when youse got|Y|Za predpokladu|Za předpokladu|Zadan|Zadani|Zadano|Zadate|Zadato|Zakładając|Zaradi|Zatati|Þa þe|Þa|Þá|Þegar|Þurh|Αλλά|Δεδομένου|Και|Όταν|Τότε|А також|Агар|Але|Али|Аммо|А|Әгәр|Әйтик|Әмма|Бирок|Ва|Вә|Дадено|Дано|Допустим|Если|Задате|Задати|Задато|И|І|К тому же|Када|Кад|Когато|Когда|Коли|Ләкин|Лекин|Нәтиҗәдә|Нехай|Но|Онда|Припустимо, що|Припустимо|Пусть|Также|Та|Тогда|Тоді|То|Унда|Һәм|Якщо|אבל|אזי|אז|בהינתן|וגם|כאשר|آنگاه|اذاً|اگر|اما|اور|با فرض|بالفرض|بفرض|پھر|تب|ثم|جب|عندما|فرض کیا|لكن|لیکن|متى|هنگامی|و|अगर|और|कदा|किन्तु|चूंकि|जब|तथा|तदा|तब|परन्तु|पर|यदि|ਅਤੇ|ਜਦੋਂ|ਜਿਵੇਂ ਕਿ|ਜੇਕਰ|ਤਦ|ਪਰ|అప్పుడు|ఈ పరిస్థితిలో|కాని|చెప్పబడినది|మరియు|ಆದರೆ|ನಂತರ|ನೀಡಿದ|ಮತ್ತು|ಸ್ಥಿತಿಯನ್ನು|กำหนดให้|ดังนั้น|แต่|เมื่อ|และ|그러면<|그리고<|단<|만약<|만일<|먼저<|조건<|하지만<|かつ<|しかし<|ただし<|ならば<|もし<|並且<|但し<|但是<|假如<|假定<|假設<|假设<|前提<|同时<|同時<|并且<|当<|當<|而且<|那么<|那麼<)(?=[ \t])/m,lookbehind:!0},string:{pattern:/"(?:\\.|[^"\\\r\n])*"|'(?:\\.|[^'\\\r\n])*'/,inside:{outline:{pattern:/<[^>]+>/,alias:"variable"}}},outline:{pattern:/<[^>]+>/,alias:"variable"}}})(e)}return P3}var L3,hZ;function a9e(){if(hZ)return L3;hZ=1,L3=t,t.displayName="git",t.aliases=[];function t(e){e.languages.git={comment:/^#.*/m,deleted:/^[-–].*/m,inserted:/^\+.*/m,string:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,command:{pattern:/^.*\$ git .*$/m,inside:{parameter:/\s--?\w+/}},coord:/^@@.*@@$/m,"commit-sha1":/^commit \w{40}$/m}}return L3}var D3,fZ;function s9e(){if(fZ)return D3;fZ=1;var t=I0();D3=e,e.displayName="glsl",e.aliases=[];function e(n){n.register(t),n.languages.glsl=n.languages.extend("c",{keyword:/\b(?:active|asm|atomic_uint|attribute|[ibdu]?vec[234]|bool|break|buffer|case|cast|centroid|class|coherent|common|const|continue|d?mat[234](?:x[234])?|default|discard|do|double|else|enum|extern|external|false|filter|fixed|flat|float|for|fvec[234]|goto|half|highp|hvec[234]|[iu]?sampler2DMS(?:Array)?|[iu]?sampler2DRect|[iu]?samplerBuffer|[iu]?samplerCube|[iu]?samplerCubeArray|[iu]?sampler[123]D|[iu]?sampler[12]DArray|[iu]?image2DMS(?:Array)?|[iu]?image2DRect|[iu]?imageBuffer|[iu]?imageCube|[iu]?imageCubeArray|[iu]?image[123]D|[iu]?image[12]DArray|if|in|inline|inout|input|int|interface|invariant|layout|long|lowp|mediump|namespace|noinline|noperspective|out|output|partition|patch|precise|precision|public|readonly|resource|restrict|return|sample|sampler[12]DArrayShadow|sampler[12]DShadow|sampler2DRectShadow|sampler3DRect|samplerCubeArrayShadow|samplerCubeShadow|shared|short|sizeof|smooth|static|struct|subroutine|superp|switch|template|this|true|typedef|uint|uniform|union|unsigned|using|varying|void|volatile|while|writeonly)\b/})}return D3}var F3,pZ;function o9e(){if(pZ)return F3;pZ=1,F3=t,t.displayName="gml",t.aliases=[];function t(e){e.languages.gamemakerlanguage=e.languages.gml=e.languages.extend("clike",{keyword:/\b(?:break|case|continue|default|do|else|enum|exit|for|globalvar|if|repeat|return|switch|until|var|while)\b/,number:/(?:\b0x[\da-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ulf]{0,4}/i,operator:/--|\+\+|[-+%/=]=?|!=|\*\*?=?|<[<=>]?|>[=>]?|&&?|\^\^?|\|\|?|~|\b(?:and|at|not|or|with|xor)\b/,constant:/\b(?:GM_build_date|GM_version|action_(?:continue|restart|reverse|stop)|all|gamespeed_(?:fps|microseconds)|global|local|noone|other|pi|pointer_(?:invalid|null)|self|timezone_(?:local|utc)|undefined|ev_(?:create|destroy|step|alarm|keyboard|mouse|collision|other|draw|draw_(?:begin|end|post|pre)|keypress|keyrelease|trigger|(?:left|middle|no|right)_button|(?:left|middle|right)_press|(?:left|middle|right)_release|mouse_(?:enter|leave|wheel_down|wheel_up)|global_(?:left|middle|right)_button|global_(?:left|middle|right)_press|global_(?:left|middle|right)_release|joystick(?:1|2)_(?:button1|button2|button3|button4|button5|button6|button7|button8|down|left|right|up)|outside|boundary|game_start|game_end|room_start|room_end|no_more_lives|animation_end|end_of_path|no_more_health|user\d|gui|gui_begin|gui_end|step_(?:begin|end|normal))|vk_(?:alt|anykey|backspace|control|delete|down|end|enter|escape|home|insert|left|nokey|pagedown|pageup|pause|printscreen|return|right|shift|space|tab|up|f\d|numpad\d|add|decimal|divide|lalt|lcontrol|lshift|multiply|ralt|rcontrol|rshift|subtract)|achievement_(?:filter_(?:all_players|favorites_only|friends_only)|friends_info|info|leaderboard_info|our_info|pic_loaded|show_(?:achievement|bank|friend_picker|leaderboard|profile|purchase_prompt|ui)|type_challenge|type_score_challenge)|asset_(?:font|object|path|room|script|shader|sound|sprite|tiles|timeline|unknown)|audio_(?:3d|falloff_(?:exponent_distance|exponent_distance_clamped|inverse_distance|inverse_distance_clamped|linear_distance|linear_distance_clamped|none)|mono|new_system|old_system|stereo)|bm_(?:add|complex|dest_alpha|dest_color|dest_colour|inv_dest_alpha|inv_dest_color|inv_dest_colour|inv_src_alpha|inv_src_color|inv_src_colour|max|normal|one|src_alpha|src_alpha_sat|src_color|src_colour|subtract|zero)|browser_(?:chrome|firefox|ie|ie_mobile|not_a_browser|opera|safari|safari_mobile|tizen|unknown|windows_store)|buffer_(?:bool|f16|f32|f64|fast|fixed|generalerror|grow|invalidtype|network|outofbounds|outofspace|s16|s32|s8|seek_end|seek_relative|seek_start|string|text|u16|u32|u64|u8|vbuffer|wrap)|c_(?:aqua|black|blue|dkgray|fuchsia|gray|green|lime|ltgray|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow)|cmpfunc_(?:always|equal|greater|greaterequal|less|lessequal|never|notequal)|cr_(?:appstart|arrow|beam|cross|default|drag|handpoint|hourglass|none|size_all|size_nesw|size_ns|size_nwse|size_we|uparrow)|cull_(?:clockwise|counterclockwise|noculling)|device_(?:emulator|tablet)|device_ios_(?:ipad|ipad_retina|iphone|iphone5|iphone6|iphone6plus|iphone_retina|unknown)|display_(?:landscape|landscape_flipped|portrait|portrait_flipped)|dll_(?:cdecl|cdel|stdcall)|ds_type_(?:grid|list|map|priority|queue|stack)|ef_(?:cloud|ellipse|explosion|firework|flare|rain|ring|smoke|smokeup|snow|spark|star)|fa_(?:archive|bottom|center|directory|hidden|left|middle|readonly|right|sysfile|top|volumeid)|fb_login_(?:default|fallback_to_webview|forcing_safari|forcing_webview|no_fallback_to_webview|use_system_account)|iap_(?:available|canceled|ev_consume|ev_product|ev_purchase|ev_restore|ev_storeload|failed|purchased|refunded|status_available|status_loading|status_processing|status_restoring|status_unavailable|status_uninitialised|storeload_failed|storeload_ok|unavailable)|leaderboard_type_(?:number|time_mins_secs)|lighttype_(?:dir|point)|matrix_(?:projection|view|world)|mb_(?:any|left|middle|none|right)|network_(?:config_(?:connect_timeout|disable_reliable_udp|enable_reliable_udp|use_non_blocking_socket)|socket_(?:bluetooth|tcp|udp)|type_(?:connect|data|disconnect|non_blocking_connect))|of_challenge_(?:lose|tie|win)|os_(?:android|ios|linux|macosx|ps3|ps4|psvita|unknown|uwp|win32|win8native|windows|winphone|xboxone)|phy_debug_render_(?:aabb|collision_pairs|coms|core_shapes|joints|obb|shapes)|phy_joint_(?:anchor_1_x|anchor_1_y|anchor_2_x|anchor_2_y|angle|angle_limits|damping_ratio|frequency|length_1|length_2|lower_angle_limit|max_force|max_length|max_motor_force|max_motor_torque|max_torque|motor_force|motor_speed|motor_torque|reaction_force_x|reaction_force_y|reaction_torque|speed|translation|upper_angle_limit)|phy_particle_data_flag_(?:category|color|colour|position|typeflags|velocity)|phy_particle_flag_(?:colormixing|colourmixing|elastic|powder|spring|tensile|viscous|wall|water|zombie)|phy_particle_group_flag_(?:rigid|solid)|pr_(?:linelist|linestrip|pointlist|trianglefan|trianglelist|trianglestrip)|ps_(?:distr|shape)_(?:diamond|ellipse|gaussian|invgaussian|line|linear|rectangle)|pt_shape_(?:circle|cloud|disk|explosion|flare|line|pixel|ring|smoke|snow|spark|sphere|square|star)|ty_(?:real|string)|gp_(?:face\d|axislh|axislv|axisrh|axisrv|padd|padl|padr|padu|select|shoulderl|shoulderlb|shoulderr|shoulderrb|start|stickl|stickr)|lb_disp_(?:none|numeric|time_ms|time_sec)|lb_sort_(?:ascending|descending|none)|ov_(?:achievements|community|friends|gamegroup|players|settings)|ugc_(?:filetype_(?:community|microtrans)|list_(?:Favorited|Followed|Published|Subscribed|UsedOrPlayed|VotedDown|VotedOn|VotedUp|WillVoteLater)|match_(?:AllGuides|Artwork|Collections|ControllerBindings|IntegratedGuides|Items|Items_Mtx|Items_ReadyToUse|Screenshots|UsableInGame|Videos|WebGuides)|query_(?:AcceptedForGameRankedByAcceptanceDate|CreatedByFriendsRankedByPublicationDate|FavoritedByFriendsRankedByPublicationDate|NotYetRated)|query_RankedBy(?:NumTimesReported|PublicationDate|TextSearch|TotalVotesAsc|Trend|Vote|VotesUp)|result_success|sortorder_CreationOrder(?:Asc|Desc)|sortorder_(?:ForModeration|LastUpdatedDesc|SubscriptionDateDesc|TitleAsc|VoteScoreDesc)|visibility_(?:friends_only|private|public))|vertex_usage_(?:binormal|blendindices|blendweight|color|colour|depth|fog|normal|position|psize|sample|tangent|texcoord|textcoord)|vertex_type_(?:float\d|color|colour|ubyte4)|input_type|layerelementtype_(?:background|instance|oldtilemap|particlesystem|sprite|tile|tilemap|undefined)|se_(?:chorus|compressor|echo|equalizer|flanger|gargle|none|reverb)|text_type|tile_(?:flip|index_mask|mirror|rotate)|(?:obj|rm|scr|spr)\w+)\b/,variable:/\b(?:alarm|application_surface|async_load|background_(?:alpha|blend|color|colour|foreground|height|hspeed|htiled|index|showcolor|showcolour|visible|vspeed|vtiled|width|x|xscale|y|yscale)|bbox_(?:bottom|left|right|top)|browser_(?:height|width)|caption_(?:health|lives|score)|current_(?:day|hour|minute|month|second|time|weekday|year)|cursor_sprite|debug_mode|delta_time|direction|display_aa|error_(?:last|occurred)|event_(?:action|number|object|type)|fps|fps_real|friction|game_(?:display|project|save)_(?:id|name)|gamemaker_(?:pro|registered|version)|gravity|gravity_direction|(?:h|v)speed|health|iap_data|id|image_(?:alpha|angle|blend|depth|index|number|speed|xscale|yscale)|instance_(?:count|id)|keyboard_(?:key|lastchar|lastkey|string)|layer|lives|mask_index|mouse_(?:button|lastbutton|x|y)|object_index|os_(?:browser|device|type|version)|path_(?:endaction|index|orientation|position|positionprevious|scale|speed)|persistent|phy_(?:rotation|(?:col_normal|collision|com|linear_velocity|position|speed)_(?:x|y)|angular_(?:damping|velocity)|position_(?:x|y)previous|speed|linear_damping|bullet|fixed_rotation|active|mass|inertia|dynamic|kinematic|sleeping|collision_points)|pointer_(?:invalid|null)|room|room_(?:caption|first|height|last|persistent|speed|width)|score|secure_mode|show_(?:health|lives|score)|solid|speed|sprite_(?:height|index|width|xoffset|yoffset)|temp_directory|timeline_(?:index|loop|position|running|speed)|transition_(?:color|kind|steps)|undefined|view_(?:angle|current|enabled|(?:h|v)(?:border|speed)|(?:h|w|x|y)port|(?:h|w|x|y)view|object|surface_id|visible)|visible|webgl_enabled|working_directory|(?:x|y)(?:previous|start)|x|y|argument(?:_relitive|_count|\d)|argument|global|local|other|self)\b/})}return F3}var B3,mZ;function l9e(){if(mZ)return B3;mZ=1,B3=t,t.displayName="gn",t.aliases=["gni"];function t(e){e.languages.gn={comment:{pattern:/#.*/,greedy:!0},"string-literal":{pattern:/(^|[^\\"])"(?:[^\r\n"\\]|\\.)*"/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\{[\s\S]*?\}|[a-zA-Z_]\w*|0x[a-fA-F0-9]{2})/,lookbehind:!0,inside:{number:/^\$0x[\s\S]{2}$/,variable:/^\$\w+$/,"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}},string:/[\s\S]+/}},keyword:/\b(?:else|if)\b/,boolean:/\b(?:false|true)\b/,"builtin-function":{pattern:/\b(?:assert|defined|foreach|import|pool|print|template|tool|toolchain)(?=\s*\()/i,alias:"keyword"},function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:current_cpu|current_os|current_toolchain|default_toolchain|host_cpu|host_os|root_build_dir|root_gen_dir|root_out_dir|target_cpu|target_gen_dir|target_os|target_out_dir)\b/,number:/-?\b\d+\b/,operator:/[-+!=<>]=?|&&|\|\|/,punctuation:/[(){}[\],.]/},e.languages.gn["string-literal"].inside.interpolation.inside.expression.inside=e.languages.gn,e.languages.gni=e.languages.gn}return B3}var U3,gZ;function u9e(){if(gZ)return U3;gZ=1,U3=t,t.displayName="goModule",t.aliases=[];function t(e){e.languages["go-mod"]=e.languages["go-module"]={comment:{pattern:/\/\/.*/,greedy:!0},version:{pattern:/(^|[\s()[\],])v\d+\.\d+\.\d+(?:[+-][-+.\w]*)?(?![^\s()[\],])/,lookbehind:!0,alias:"number"},"go-version":{pattern:/((?:^|\s)go\s+)\d+(?:\.\d+){1,2}/,lookbehind:!0,alias:"number"},keyword:{pattern:/^([ \t]*)(?:exclude|go|module|replace|require|retract)\b/m,lookbehind:!0},operator:/=>/,punctuation:/[()[\],]/}}return U3}var j3,yZ;function c9e(){if(yZ)return j3;yZ=1,j3=t,t.displayName="go",t.aliases=[];function t(e){e.languages.go=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),e.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete e.languages.go["class-name"]}return j3}var z3,bZ;function d9e(){if(bZ)return z3;bZ=1,z3=t,t.displayName="graphql",t.aliases=[];function t(e){e.languages.graphql={comment:/#.*/,description:{pattern:/(?:"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*")(?=\s*[a-z_])/i,greedy:!0,alias:"string",inside:{"language-markdown":{pattern:/(^"(?:"")?)(?!\1)[\s\S]+(?=\1$)/,lookbehind:!0,inside:e.languages.markdown}}},string:{pattern:/"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:/\b(?:false|true)\b/,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/\b[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\"\r\n])*")*\))?:)/i,greedy:!0},"atom-input":{pattern:/\b[A-Z]\w*Input\b/,alias:"class-name"},scalar:/\b(?:Boolean|Float|ID|Int|String)\b/,constant:/\b[A-Z][A-Z_\d]*\b/,"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+|&\s*|:\s*|\[)[A-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-mutation":{pattern:/(\bmutation\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-query":{pattern:/(\bquery\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},keyword:/\b(?:directive|enum|extend|fragment|implements|input|interface|mutation|on|query|repeatable|scalar|schema|subscription|type|union)\b/,operator:/[!=|&]|\.{3}/,"property-query":/\w+(?=\s*\()/,object:/\w+(?=\s*\{)/,punctuation:/[!(){}\[\]:=,]/,property:/\w+/},e.hooks.add("after-tokenize",function(r){if(r.language!=="graphql")return;var i=r.tokens.filter(function(T){return typeof T!="string"&&T.type!=="comment"&&T.type!=="scalar"}),a=0;function s(T){return i[a+T]}function o(T,C){C=C||0;for(var N=0;N<T.length;N++){var F=s(N+C);if(!F||F.type!==T[N])return!1}return!0}function l(T,C){for(var N=1,F=a;F<i.length;F++){var D=i[F],U=D.content;if(D.type==="punctuation"&&typeof U=="string"){if(T.test(U))N++;else if(C.test(U)&&(N--,N===0))return F}}return-1}function u(T,C){var N=T.alias;N?Array.isArray(N)||(T.alias=N=[N]):T.alias=N=[],N.push(C)}for(;a<i.length;){var d=i[a++];if(d.type==="keyword"&&d.content==="mutation"){var h=[];if(o(["definition-mutation","punctuation"])&&s(1).content==="("){a+=2;var p=l(/^\($/,/^\)$/);if(p===-1)continue;for(;a<p;a++){var m=s(0);m.type==="variable"&&(u(m,"variable-input"),h.push(m.content))}a=p+1}if(o(["punctuation","property-query"])&&s(0).content==="{"&&(a++,u(s(0),"property-mutation"),h.length>0)){var v=l(/^\{$/,/^\}$/);if(v===-1)continue;for(var w=a;w<v;w++){var k=i[w];k.type==="variable"&&h.indexOf(k.content)>=0&&u(k,"variable-input")}}}}})}return z3}var $3,vZ;function h9e(){if(vZ)return $3;vZ=1,$3=t,t.displayName="groovy",t.aliases=[];function t(e){e.languages.groovy=e.languages.extend("clike",{string:[{pattern:/("""|''')(?:[^\\]|\\[\s\S])*?\1|\$\/(?:[^/$]|\$(?:[/$]|(?![/$]))|\/(?!\$))*\/\$/,greedy:!0},{pattern:/(["'/])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0}],keyword:/\b(?:abstract|as|assert|boolean|break|byte|case|catch|char|class|const|continue|def|default|do|double|else|enum|extends|final|finally|float|for|goto|if|implements|import|in|instanceof|int|interface|long|native|new|package|private|protected|public|return|short|static|strictfp|super|switch|synchronized|this|throw|throws|trait|transient|try|void|volatile|while)\b/,number:/\b(?:0b[01_]+|0x[\da-f_]+(?:\.[\da-f_p\-]+)?|[\d_]+(?:\.[\d_]+)?(?:e[+-]?\d+)?)[glidf]?\b/i,operator:{pattern:/(^|[^.])(?:~|==?~?|\?[.:]?|\*(?:[.=]|\*=?)?|\.[@&]|\.\.<|\.\.(?!\.)|-[-=>]?|\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\|[|=]?|\/=?|\^=?|%=?)/,lookbehind:!0},punctuation:/\.+|[{}[\];(),:$]/}),e.languages.insertBefore("groovy","string",{shebang:{pattern:/#!.+/,alias:"comment"}}),e.languages.insertBefore("groovy","punctuation",{"spock-block":/\b(?:and|cleanup|expect|given|setup|then|when|where):/}),e.languages.insertBefore("groovy","function",{annotation:{pattern:/(^|[^.])@\w+/,lookbehind:!0,alias:"punctuation"}}),e.hooks.add("wrap",function(n){if(n.language==="groovy"&&n.type==="string"){var r=n.content.value[0];if(r!="'"){var i=/([^\\])(?:\$(?:\{.*?\}|[\w.]+))/;r==="$"&&(i=/([^\$])(?:\$(?:\{.*?\}|[\w.]+))/),n.content.value=n.content.value.replace(/&lt;/g,"<").replace(/&amp;/g,"&"),n.content=e.highlight(n.content.value,{expression:{pattern:i,lookbehind:!0,inside:e.languages.groovy}}),n.classes.push(r==="/"?"regex":"gstring")}}})}return $3}var q3,wZ;function f9e(){if(wZ)return q3;wZ=1;var t=yC();q3=e,e.displayName="haml",e.aliases=[];function e(n){n.register(t),function(r){r.languages.haml={"multiline-comment":{pattern:/((?:^|\r?\n|\r)([\t ]*))(?:\/|-#).*(?:(?:\r?\n|\r)\2[\t ].+)*/,lookbehind:!0,alias:"comment"},"multiline-code":[{pattern:/((?:^|\r?\n|\r)([\t ]*)(?:[~-]|[&!]?=)).*,[\t ]*(?:(?:\r?\n|\r)\2[\t ].*,[\t ]*)*(?:(?:\r?\n|\r)\2[\t ].+)/,lookbehind:!0,inside:r.languages.ruby},{pattern:/((?:^|\r?\n|\r)([\t ]*)(?:[~-]|[&!]?=)).*\|[\t ]*(?:(?:\r?\n|\r)\2[\t ].*\|[\t ]*)*/,lookbehind:!0,inside:r.languages.ruby}],filter:{pattern:/((?:^|\r?\n|\r)([\t ]*)):[\w-]+(?:(?:\r?\n|\r)(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/,lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"symbol"}}},markup:{pattern:/((?:^|\r?\n|\r)[\t ]*)<.+/,lookbehind:!0,inside:r.languages.markup},doctype:{pattern:/((?:^|\r?\n|\r)[\t ]*)!!!(?: .+)?/,lookbehind:!0},tag:{pattern:/((?:^|\r?\n|\r)[\t ]*)[%.#][\w\-#.]*[\w\-](?:\([^)]+\)|\{(?:\{[^}]+\}|[^{}])+\}|\[[^\]]+\])*[\/<>]*/,lookbehind:!0,inside:{attributes:[{pattern:/(^|[^#])\{(?:\{[^}]+\}|[^{}])+\}/,lookbehind:!0,inside:r.languages.ruby},{pattern:/\([^)]+\)/,inside:{"attr-value":{pattern:/(=\s*)(?:"(?:\\.|[^\\"\r\n])*"|[^)\s]+)/,lookbehind:!0},"attr-name":/[\w:-]+(?=\s*!?=|\s*[,)])/,punctuation:/[=(),]/}},{pattern:/\[[^\]]+\]/,inside:r.languages.ruby}],punctuation:/[<>]/}},code:{pattern:/((?:^|\r?\n|\r)[\t ]*(?:[~-]|[&!]?=)).+/,lookbehind:!0,inside:r.languages.ruby},interpolation:{pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"},ruby:{pattern:/[\s\S]+/,inside:r.languages.ruby}}},punctuation:{pattern:/((?:^|\r?\n|\r)[\t ]*)[~=\-&!]+/,lookbehind:!0}};for(var i="((?:^|\\r?\\n|\\r)([\\t ]*)):{{filter_name}}(?:(?:\\r?\\n|\\r)(?:\\2[\\t ].+|\\s*?(?=\\r?\\n|\\r)))+",a=["css",{filter:"coffee",language:"coffeescript"},"erb","javascript","less","markdown","ruby","scss","textile"],s={},o=0,l=a.length;o<l;o++){var u=a[o];u=typeof u=="string"?{filter:u,language:u}:u,r.languages[u.language]&&(s["filter-"+u.filter]={pattern:RegExp(i.replace("{{filter_name}}",function(){return u.filter})),lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"symbol"},text:{pattern:/[\s\S]+/,alias:[u.language,"language-"+u.language],inside:r.languages[u.language]}}})}r.languages.insertBefore("haml","filter",s)}(n)}return q3}var H3,_Z;function p9e(){if(_Z)return H3;_Z=1;var t=Sl();H3=e,e.displayName="handlebars",e.aliases=["hbs"];function e(n){n.register(t),function(r){r.languages.handlebars={comment:/\{\{![\s\S]*?\}\}/,delimiter:{pattern:/^\{\{\{?|\}\}\}?$/,alias:"punctuation"},string:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][+-]?\d+)?/,boolean:/\b(?:false|true)\b/,block:{pattern:/^(\s*(?:~\s*)?)[#\/]\S+?(?=\s*(?:~\s*)?$|\s)/,lookbehind:!0,alias:"keyword"},brackets:{pattern:/\[[^\]]+\]/,inside:{punctuation:/\[|\]/,variable:/[\s\S]+/}},punctuation:/[!"#%&':()*+,.\/;<=>@\[\\\]^`{|}~]/,variable:/[^!"#%&'()*+,\/;<=>@\[\\\]^`{|}~\s]+/},r.hooks.add("before-tokenize",function(i){var a=/\{\{\{[\s\S]+?\}\}\}|\{\{[\s\S]+?\}\}/g;r.languages["markup-templating"].buildPlaceholders(i,"handlebars",a)}),r.hooks.add("after-tokenize",function(i){r.languages["markup-templating"].tokenizePlaceholders(i,"handlebars")}),r.languages.hbs=r.languages.handlebars}(n)}return H3}var V3,SZ;function DF(){if(SZ)return V3;SZ=1,V3=t,t.displayName="haskell",t.aliases=["hs"];function t(e){e.languages.haskell={comment:{pattern:/(^|[^-!#$%*+=?&@|~.:<>^\\\/])(?:--(?:(?=.)[^-!#$%*+=?&@|~.:<>^\\\/].*|$)|\{-[\s\S]*?-\})/m,lookbehind:!0},char:{pattern:/'(?:[^\\']|\\(?:[abfnrtv\\"'&]|\^[A-Z@[\]^_]|ACK|BEL|BS|CAN|CR|DC1|DC2|DC3|DC4|DEL|DLE|EM|ENQ|EOT|ESC|ETB|ETX|FF|FS|GS|HT|LF|NAK|NUL|RS|SI|SO|SOH|SP|STX|SUB|SYN|US|VT|\d+|o[0-7]+|x[0-9a-fA-F]+))'/,alias:"string"},string:{pattern:/"(?:[^\\"]|\\(?:\S|\s+\\))*"/,greedy:!0},keyword:/\b(?:case|class|data|deriving|do|else|if|in|infixl|infixr|instance|let|module|newtype|of|primitive|then|type|where)\b/,"import-statement":{pattern:/(^[\t ]*)import\s+(?:qualified\s+)?(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*(?:\s+as\s+(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*)?(?:\s+hiding\b)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|hiding|import|qualified)\b/,punctuation:/\./}},builtin:/\b(?:abs|acos|acosh|all|and|any|appendFile|approxRational|asTypeOf|asin|asinh|atan|atan2|atanh|basicIORun|break|catch|ceiling|chr|compare|concat|concatMap|const|cos|cosh|curry|cycle|decodeFloat|denominator|digitToInt|div|divMod|drop|dropWhile|either|elem|encodeFloat|enumFrom|enumFromThen|enumFromThenTo|enumFromTo|error|even|exp|exponent|fail|filter|flip|floatDigits|floatRadix|floatRange|floor|fmap|foldl|foldl1|foldr|foldr1|fromDouble|fromEnum|fromInt|fromInteger|fromIntegral|fromRational|fst|gcd|getChar|getContents|getLine|group|head|id|inRange|index|init|intToDigit|interact|ioError|isAlpha|isAlphaNum|isAscii|isControl|isDenormalized|isDigit|isHexDigit|isIEEE|isInfinite|isLower|isNaN|isNegativeZero|isOctDigit|isPrint|isSpace|isUpper|iterate|last|lcm|length|lex|lexDigits|lexLitChar|lines|log|logBase|lookup|map|mapM|mapM_|max|maxBound|maximum|maybe|min|minBound|minimum|mod|negate|not|notElem|null|numerator|odd|or|ord|otherwise|pack|pi|pred|primExitWith|print|product|properFraction|putChar|putStr|putStrLn|quot|quotRem|range|rangeSize|read|readDec|readFile|readFloat|readHex|readIO|readInt|readList|readLitChar|readLn|readOct|readParen|readSigned|reads|readsPrec|realToFrac|recip|rem|repeat|replicate|return|reverse|round|scaleFloat|scanl|scanl1|scanr|scanr1|seq|sequence|sequence_|show|showChar|showInt|showList|showLitChar|showParen|showSigned|showString|shows|showsPrec|significand|signum|sin|sinh|snd|sort|span|splitAt|sqrt|subtract|succ|sum|tail|take|takeWhile|tan|tanh|threadToIOResult|toEnum|toInt|toInteger|toLower|toRational|toUpper|truncate|uncurry|undefined|unlines|until|unwords|unzip|unzip3|userError|words|writeFile|zip|zip3|zipWith|zipWith3)\b/,number:/\b(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|0o[0-7]+|0x[0-9a-f]+)\b/i,operator:[{pattern:/`(?:[A-Z][\w']*\.)*[_a-z][\w']*`/,greedy:!0},{pattern:/(\s)\.(?=\s)/,lookbehind:!0},/[-!#$%*+=?&@|~:<>^\\\/][-!#$%*+=?&@|~.:<>^\\\/]*|\.[-!#$%*+=?&@|~.:<>^\\\/]+/],hvariable:{pattern:/\b(?:[A-Z][\w']*\.)*[_a-z][\w']*/,inside:{punctuation:/\./}},constant:{pattern:/\b(?:[A-Z][\w']*\.)*[A-Z][\w']*/,inside:{punctuation:/\./}},punctuation:/[{}[\];(),.:]/},e.languages.hs=e.languages.haskell}return V3}var G3,xZ;function m9e(){if(xZ)return G3;xZ=1,G3=t,t.displayName="haxe",t.aliases=[];function t(e){e.languages.haxe=e.languages.extend("clike",{string:{pattern:/"(?:[^"\\]|\\[\s\S])*"/,greedy:!0},"class-name":[{pattern:/(\b(?:abstract|class|enum|extends|implements|interface|new|typedef)\s+)[A-Z_]\w*/,lookbehind:!0},/\b[A-Z]\w*/],keyword:/\bthis\b|\b(?:abstract|as|break|case|cast|catch|class|continue|default|do|dynamic|else|enum|extends|extern|final|for|from|function|if|implements|import|in|inline|interface|macro|new|null|operator|overload|override|package|private|public|return|static|super|switch|throw|to|try|typedef|untyped|using|var|while)(?!\.)\b/,function:{pattern:/\b[a-z_]\w*(?=\s*(?:<[^<>]*>\s*)?\()/i,greedy:!0},operator:/\.{3}|\+\+|--|&&|\|\||->|=>|(?:<<?|>{1,3}|[-+*/%!=&|^])=?|[?:~]/}),e.languages.insertBefore("haxe","string",{"string-interpolation":{pattern:/'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{interpolation:{pattern:/(^|[^\\])\$(?:\w+|\{[^{}]+\})/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:e.languages.haxe}}},string:/[\s\S]+/}}}),e.languages.insertBefore("haxe","class-name",{regex:{pattern:/~\/(?:[^\/\\\r\n]|\\.)+\/[a-z]*/,greedy:!0,inside:{"regex-flags":/\b[a-z]+$/,"regex-source":{pattern:/^(~\/)[\s\S]+(?=\/$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^~\/|\/$/}}}),e.languages.insertBefore("haxe","keyword",{preprocessor:{pattern:/#(?:else|elseif|end|if)\b.*/,alias:"property"},metadata:{pattern:/@:?[\w.]+/,alias:"symbol"},reification:{pattern:/\$(?:\w+|(?=\{))/,alias:"important"}})}return G3}var W3,EZ;function g9e(){if(EZ)return W3;EZ=1,W3=t,t.displayName="hcl",t.aliases=[];function t(e){e.languages.hcl={comment:/(?:\/\/|#).*|\/\*[\s\S]*?(?:\*\/|$)/,heredoc:{pattern:/<<-?(\w+\b)[\s\S]*?^[ \t]*\1/m,greedy:!0,alias:"string"},keyword:[{pattern:/(?:data|resource)\s+(?:"(?:\\[\s\S]|[^\\"])*")(?=\s+"[\w-]+"\s+\{)/i,inside:{type:{pattern:/(resource|data|\s+)(?:"(?:\\[\s\S]|[^\\"])*")/i,lookbehind:!0,alias:"variable"}}},{pattern:/(?:backend|module|output|provider|provisioner|variable)\s+(?:[\w-]+|"(?:\\[\s\S]|[^\\"])*")\s+(?=\{)/i,inside:{type:{pattern:/(backend|module|output|provider|provisioner|variable)\s+(?:[\w-]+|"(?:\\[\s\S]|[^\\"])*")\s+/i,lookbehind:!0,alias:"variable"}}},/[\w-]+(?=\s+\{)/],property:[/[-\w\.]+(?=\s*=(?!=))/,/"(?:\\[\s\S]|[^\\"])+"(?=\s*[:=])/],string:{pattern:/"(?:[^\\$"]|\\[\s\S]|\$(?:(?=")|\$+(?!\$)|[^"${])|\$\{(?:[^{}"]|"(?:[^\\"]|\\[\s\S])*")*\})*"/,greedy:!0,inside:{interpolation:{pattern:/(^|[^$])\$\{(?:[^{}"]|"(?:[^\\"]|\\[\s\S])*")*\}/,lookbehind:!0,inside:{type:{pattern:/(\b(?:count|data|local|module|path|self|terraform|var)\b\.)[\w\*]+/i,lookbehind:!0,alias:"variable"},keyword:/\b(?:count|data|local|module|path|self|terraform|var)\b/i,function:/\w+(?=\()/,string:{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0},number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,punctuation:/[!\$#%&'()*+,.\/;<=>@\[\\\]^`{|}~?:]/}}}},number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,boolean:/\b(?:false|true)\b/i,punctuation:/[=\[\]{}]/}}return W3}var K3,kZ;function y9e(){if(kZ)return K3;kZ=1;var t=I0();K3=e,e.displayName="hlsl",e.aliases=[];function e(n){n.register(t),n.languages.hlsl=n.languages.extend("c",{"class-name":[n.languages.c["class-name"],/\b(?:AppendStructuredBuffer|BlendState|Buffer|ByteAddressBuffer|CompileShader|ComputeShader|ConsumeStructuredBuffer|DepthStencilState|DepthStencilView|DomainShader|GeometryShader|Hullshader|InputPatch|LineStream|OutputPatch|PixelShader|PointStream|RWBuffer|RWByteAddressBuffer|RWStructuredBuffer|RWTexture(?:1D|1DArray|2D|2DArray|3D)|RasterizerState|RenderTargetView|SamplerComparisonState|SamplerState|StructuredBuffer|Texture(?:1D|1DArray|2D|2DArray|2DMS|2DMSArray|3D|Cube|CubeArray)|TriangleStream|VertexShader)\b/],keyword:[/\b(?:asm|asm_fragment|auto|break|case|catch|cbuffer|centroid|char|class|column_major|compile|compile_fragment|const|const_cast|continue|default|delete|discard|do|dynamic_cast|else|enum|explicit|export|extern|for|friend|fxgroup|goto|groupshared|if|in|inline|inout|interface|line|lineadj|linear|long|matrix|mutable|namespace|new|nointerpolation|noperspective|operator|out|packoffset|pass|pixelfragment|point|precise|private|protected|public|register|reinterpret_cast|return|row_major|sample|sampler|shared|short|signed|sizeof|snorm|stateblock|stateblock_state|static|static_cast|string|struct|switch|tbuffer|technique|technique10|technique11|template|texture|this|throw|triangle|triangleadj|try|typedef|typename|uniform|union|unorm|unsigned|using|vector|vertexfragment|virtual|void|volatile|while)\b/,/\b(?:bool|double|dword|float|half|int|min(?:10float|12int|16(?:float|int|uint))|uint)(?:[1-4](?:x[1-4])?)?\b/],number:/(?:(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+)?|\b0x[\da-fA-F]+)[fFhHlLuU]?\b/,boolean:/\b(?:false|true)\b/})}return K3}var Y3,TZ;function b9e(){if(TZ)return Y3;TZ=1,Y3=t,t.displayName="hoon",t.aliases=[];function t(e){e.languages.hoon={comment:{pattern:/::.*/,greedy:!0},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},constant:/%(?:\.[ny]|[\w-]+)/,"class-name":/@(?:[a-z0-9-]*[a-z0-9])?|\*/i,function:/(?:\+[-+] {2})?(?:[a-z](?:[a-z0-9-]*[a-z0-9])?)/,keyword:/\.[\^\+\*=\?]|![><:\.=\?!]|=[>|:,\.\-\^<+;/~\*\?]|\?[>|:\.\-\^<\+&~=@!]|\|[\$_%:\.\-\^~\*=@\?]|\+[|\$\+\*]|:[_\-\^\+~\*]|%[_:\.\-\^\+~\*=]|\^[|:\.\-\+&~\*=\?]|\$[|_%:<>\-\^&~@=\?]|;[:<\+;\/~\*=]|~[>|\$_%<\+\/&=\?!]|--|==/}}return Y3}var X3,AZ;function v9e(){if(AZ)return X3;AZ=1,X3=t,t.displayName="hpkp",t.aliases=[];function t(e){e.languages.hpkp={directive:{pattern:/\b(?:includeSubDomains|max-age|pin-sha256|preload|report-to|report-uri|strict)(?=[\s;=]|$)/i,alias:"property"},operator:/=/,punctuation:/;/}}return X3}var Z3,CZ;function w9e(){if(CZ)return Z3;CZ=1,Z3=t,t.displayName="hsts",t.aliases=[];function t(e){e.languages.hsts={directive:{pattern:/\b(?:includeSubDomains|max-age|preload)(?=[\s;=]|$)/i,alias:"property"},operator:/=/,punctuation:/;/}}return Z3}var Q3,RZ;function _9e(){if(RZ)return Q3;RZ=1,Q3=t,t.displayName="http",t.aliases=[];function t(e){(function(n){function r(h){return RegExp("(^(?:"+h+"):[ 	]*(?![ 	]))[^]+","i")}n.languages.http={"request-line":{pattern:/^(?:CONNECT|DELETE|GET|HEAD|OPTIONS|PATCH|POST|PRI|PUT|SEARCH|TRACE)\s(?:https?:\/\/|\/)\S*\sHTTP\/[\d.]+/m,inside:{method:{pattern:/^[A-Z]+\b/,alias:"property"},"request-target":{pattern:/^(\s)(?:https?:\/\/|\/)\S*(?=\s)/,lookbehind:!0,alias:"url",inside:n.languages.uri},"http-version":{pattern:/^(\s)HTTP\/[\d.]+/,lookbehind:!0,alias:"property"}}},"response-status":{pattern:/^HTTP\/[\d.]+ \d+ .+/m,inside:{"http-version":{pattern:/^HTTP\/[\d.]+/,alias:"property"},"status-code":{pattern:/^(\s)\d+(?=\s)/,lookbehind:!0,alias:"number"},"reason-phrase":{pattern:/^(\s).+/,lookbehind:!0,alias:"string"}}},header:{pattern:/^[\w-]+:.+(?:(?:\r\n?|\n)[ \t].+)*/m,inside:{"header-value":[{pattern:r(/Content-Security-Policy/.source),lookbehind:!0,alias:["csp","languages-csp"],inside:n.languages.csp},{pattern:r(/Public-Key-Pins(?:-Report-Only)?/.source),lookbehind:!0,alias:["hpkp","languages-hpkp"],inside:n.languages.hpkp},{pattern:r(/Strict-Transport-Security/.source),lookbehind:!0,alias:["hsts","languages-hsts"],inside:n.languages.hsts},{pattern:r(/[^:]+/.source),lookbehind:!0}],"header-name":{pattern:/^[^:]+/,alias:"keyword"},punctuation:/^:/}}};var i=n.languages,a={"application/javascript":i.javascript,"application/json":i.json||i.javascript,"application/xml":i.xml,"text/xml":i.xml,"text/html":i.html,"text/css":i.css,"text/plain":i.plain},s={"application/json":!0,"application/xml":!0};function o(h){var p=h.replace(/^[a-z]+\//,""),m="\\w+/(?:[\\w.-]+\\+)+"+p+"(?![+\\w.-])";return"(?:"+h+"|"+m+")"}var l;for(var u in a)if(a[u]){l=l||{};var d=s[u]?o(u):u;l[u.replace(/\//g,"-")]={pattern:RegExp("("+/content-type:\s*/.source+d+/(?:(?:\r\n?|\n)[\w-].*)*(?:\r(?:\n|(?!\n))|\n)/.source+")"+/[^ \t\w-][\s\S]*/.source,"i"),lookbehind:!0,inside:a[u]}}l&&n.languages.insertBefore("http","header",l)})(e)}return Q3}var J3,IZ;function S9e(){if(IZ)return J3;IZ=1,J3=t,t.displayName="ichigojam",t.aliases=[];function t(e){e.languages.ichigojam={comment:/(?:\B'|REM)(?:[^\n\r]*)/i,string:{pattern:/"(?:""|[!#$%&'()*,\/:;<=>?^\w +\-.])*"/,greedy:!0},number:/\B#[0-9A-F]+|\B`[01]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:BEEP|BPS|CASE|CLEAR|CLK|CLO|CLP|CLS|CLT|CLV|CONT|COPY|ELSE|END|FILE|FILES|FOR|GOSUB|GOTO|GSB|IF|INPUT|KBD|LED|LET|LIST|LOAD|LOCATE|LRUN|NEW|NEXT|OUT|PLAY|POKE|PRINT|PWM|REM|RENUM|RESET|RETURN|RIGHT|RTN|RUN|SAVE|SCROLL|SLEEP|SRND|STEP|STOP|SUB|TEMPO|THEN|TO|UART|VIDEO|WAIT)(?:\$|\b)/i,function:/\b(?:ABS|ANA|ASC|BIN|BTN|DEC|END|FREE|HELP|HEX|I2CR|I2CW|IN|INKEY|LEN|LINE|PEEK|RND|SCR|SOUND|STR|TICK|USR|VER|VPEEK|ZER)(?:\$|\b)/i,label:/(?:\B@\S+)/,operator:/<[=>]?|>=?|\|\||&&|[+\-*\/=|&^~!]|\b(?:AND|NOT|OR)\b/i,punctuation:/[\[,;:()\]]/}}return J3}var eM,NZ;function x9e(){if(NZ)return eM;NZ=1,eM=t,t.displayName="icon",t.aliases=[];function t(e){e.languages.icon={comment:/#.*/,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n_]|\\.|_(?!\1)(?:\r\n|[\s\S]))*\1/,greedy:!0},number:/\b(?:\d+r[a-z\d]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b|\.\d+\b/i,"builtin-keyword":{pattern:/&(?:allocated|ascii|clock|collections|cset|current|date|dateline|digits|dump|e|error(?:number|text|value)?|errout|fail|features|file|host|input|lcase|letters|level|line|main|null|output|phi|pi|pos|progname|random|regions|source|storage|subject|time|trace|ucase|version)\b/,alias:"variable"},directive:{pattern:/\$\w+/,alias:"builtin"},keyword:/\b(?:break|by|case|create|default|do|else|end|every|fail|global|if|initial|invocable|link|local|next|not|of|procedure|record|repeat|return|static|suspend|then|to|until|while)\b/,function:/\b(?!\d)\w+(?=\s*[({]|\s*!\s*\[)/,operator:/[+-]:(?!=)|(?:[\/?@^%&]|\+\+?|--?|==?=?|~==?=?|\*\*?|\|\|\|?|<(?:->?|<?=?)|>>?=?)(?::=)?|:(?:=:?)?|[!.\\|~]/,punctuation:/[\[\](){},;]/}}return eM}var tM,OZ;function E9e(){if(OZ)return tM;OZ=1,tM=t,t.displayName="icuMessageFormat",t.aliases=[];function t(e){(function(n){function r(u,d){return d<=0?/[]/.source:u.replace(/<SELF>/g,function(){return r(u,d-1)})}var i=/'[{}:=,](?:[^']|'')*'(?!')/,a={pattern:/''/,greedy:!0,alias:"operator"},s={pattern:i,greedy:!0,inside:{escape:a}},o=r(/\{(?:[^{}']|'(?![{},'])|''|<STR>|<SELF>)*\}/.source.replace(/<STR>/g,function(){return i.source}),8),l={pattern:RegExp(o),inside:{message:{pattern:/^(\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:null},"message-delimiter":{pattern:/./,alias:"punctuation"}}};n.languages["icu-message-format"]={argument:{pattern:RegExp(o),greedy:!0,inside:{content:{pattern:/^(\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:{"argument-name":{pattern:/^(\s*)[^{}:=,\s]+/,lookbehind:!0},"choice-style":{pattern:/^(\s*,\s*choice\s*,\s*)\S(?:[\s\S]*\S)?/,lookbehind:!0,inside:{punctuation:/\|/,range:{pattern:/^(\s*)[+-]?(?:\d+(?:\.\d*)?|\u221e)\s*[<#\u2264]/,lookbehind:!0,inside:{operator:/[<#\u2264]/,number:/\S+/}},rest:null}},"plural-style":{pattern:/^(\s*,\s*(?:plural|selectordinal)\s*,\s*)\S(?:[\s\S]*\S)?/,lookbehind:!0,inside:{offset:/^offset:\s*\d+/,"nested-message":l,selector:{pattern:/=\d+|[^{}:=,\s]+/,inside:{keyword:/^(?:few|many|one|other|two|zero)$/}}}},"select-style":{pattern:/^(\s*,\s*select\s*,\s*)\S(?:[\s\S]*\S)?/,lookbehind:!0,inside:{"nested-message":l,selector:{pattern:/[^{}:=,\s]+/,inside:{keyword:/^other$/}}}},keyword:/\b(?:choice|plural|select|selectordinal)\b/,"arg-type":{pattern:/\b(?:date|duration|number|ordinal|spellout|time)\b/,alias:"keyword"},"arg-skeleton":{pattern:/(,\s*)::[^{}:=,\s]+/,lookbehind:!0},"arg-style":{pattern:/(,\s*)(?:currency|full|integer|long|medium|percent|short)(?=\s*$)/,lookbehind:!0},"arg-style-text":{pattern:RegExp(/(^\s*,\s*(?=\S))/.source+r(/(?:[^{}']|'[^']*'|\{(?:<SELF>)?\})+/.source,8)+"$"),lookbehind:!0,alias:"string"},punctuation:/,/}},"argument-delimiter":{pattern:/./,alias:"operator"}}},escape:a,string:s},l.inside.message.inside=n.languages["icu-message-format"],n.languages["icu-message-format"].argument.inside.content.inside["choice-style"].inside.rest=n.languages["icu-message-format"]})(e)}return tM}var nM,MZ;function k9e(){if(MZ)return nM;MZ=1;var t=DF();nM=e,e.displayName="idris",e.aliases=["idr"];function e(n){n.register(t),n.languages.idris=n.languages.extend("haskell",{comment:{pattern:/(?:(?:--|\|\|\|).*$|\{-[\s\S]*?-\})/m},keyword:/\b(?:Type|case|class|codata|constructor|corecord|data|do|dsl|else|export|if|implementation|implicit|import|impossible|in|infix|infixl|infixr|instance|interface|let|module|mutual|namespace|of|parameters|partial|postulate|private|proof|public|quoteGoal|record|rewrite|syntax|then|total|using|where|with)\b/,builtin:void 0}),n.languages.insertBefore("idris","keyword",{"import-statement":{pattern:/(^\s*import\s+)(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*/m,lookbehind:!0,inside:{punctuation:/\./}}}),n.languages.idr=n.languages.idris}return nM}var rM,PZ;function T9e(){if(PZ)return rM;PZ=1,rM=t,t.displayName="iecst",t.aliases=[];function t(e){e.languages.iecst={comment:[{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\(\*[\s\S]*?(?:\*\)|$)|\{[\s\S]*?(?:\}|$))/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:[/\b(?:END_)?(?:PROGRAM|CONFIGURATION|INTERFACE|FUNCTION_BLOCK|FUNCTION|ACTION|TRANSITION|TYPE|STRUCT|(?:INITIAL_)?STEP|NAMESPACE|LIBRARY|CHANNEL|FOLDER|RESOURCE|VAR_(?:ACCESS|CONFIG|EXTERNAL|GLOBAL|INPUT|IN_OUT|OUTPUT|TEMP)|VAR|METHOD|PROPERTY)\b/i,/\b(?:AT|BY|(?:END_)?(?:CASE|FOR|IF|REPEAT|WHILE)|CONSTANT|CONTINUE|DO|ELSE|ELSIF|EXIT|EXTENDS|FROM|GET|GOTO|IMPLEMENTS|JMP|NON_RETAIN|OF|PRIVATE|PROTECTED|PUBLIC|RETAIN|RETURN|SET|TASK|THEN|TO|UNTIL|USING|WITH|__CATCH|__ENDTRY|__FINALLY|__TRY)\b/],"class-name":/\b(?:ANY|ARRAY|BOOL|BYTE|U?(?:D|L|S)?INT|(?:D|L)?WORD|DATE(?:_AND_TIME)?|DT|L?REAL|POINTER|STRING|TIME(?:_OF_DAY)?|TOD)\b/,address:{pattern:/%[IQM][XBWDL][\d.]*|%[IQ][\d.]*/,alias:"symbol"},number:/\b(?:16#[\da-f]+|2#[01_]+|0x[\da-f]+)\b|\b(?:D|DT|T|TOD)#[\d_shmd:]*|\b[A-Z]*#[\d.,_]*|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/,operator:/S?R?:?=>?|&&?|\*\*?|<[=>]?|>=?|[-:^/+#]|\b(?:AND|EQ|EXPT|GE|GT|LE|LT|MOD|NE|NOT|OR|XOR)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,punctuation:/[()[\].,;]/}}return rM}var iM,LZ;function A9e(){if(LZ)return iM;LZ=1,iM=t,t.displayName="ignore",t.aliases=["gitignore","hgignore","npmignore"];function t(e){(function(n){n.languages.ignore={comment:/^#.*/m,entry:{pattern:/\S(?:.*(?:(?:\\ )|\S))?/,alias:"string",inside:{operator:/^!|\*\*?|\?/,regex:{pattern:/(^|[^\\])\[[^\[\]]*\]/,lookbehind:!0},punctuation:/\//}}},n.languages.gitignore=n.languages.ignore,n.languages.hgignore=n.languages.ignore,n.languages.npmignore=n.languages.ignore})(e)}return iM}var aM,DZ;function C9e(){if(DZ)return aM;DZ=1,aM=t,t.displayName="inform7",t.aliases=[];function t(e){e.languages.inform7={string:{pattern:/"[^"]*"/,inside:{substitution:{pattern:/\[[^\[\]]+\]/,inside:{delimiter:{pattern:/\[|\]/,alias:"punctuation"}}}}},comment:{pattern:/\[[^\[\]]+\]/,greedy:!0},title:{pattern:/^[ \t]*(?:book|chapter|part(?! of)|section|table|volume)\b.+/im,alias:"important"},number:{pattern:/(^|[^-])(?:\b\d+(?:\.\d+)?(?:\^\d+)?(?:(?!\d)\w+)?|\b(?:eight|eleven|five|four|nine|one|seven|six|ten|three|twelve|two))\b(?!-)/i,lookbehind:!0},verb:{pattern:/(^|[^-])\b(?:answering|applying to|are|asking|attacking|be(?:ing)?|burning|buying|called|carries|carry(?! out)|carrying|climbing|closing|conceal(?:ing|s)?|consulting|contain(?:ing|s)?|cutting|drinking|dropping|eating|enclos(?:es?|ing)|entering|examining|exiting|getting|giving|going|ha(?:s|ve|ving)|hold(?:ing|s)?|impl(?:ies|y)|incorporat(?:es?|ing)|inserting|is|jumping|kissing|listening|locking|looking|mean(?:ing|s)?|opening|provid(?:es?|ing)|pulling|pushing|putting|relat(?:es?|ing)|removing|searching|see(?:ing|s)?|setting|showing|singing|sleeping|smelling|squeezing|support(?:ing|s)?|swearing|switching|taking|tasting|telling|thinking|throwing|touching|turning|tying|unlock(?:ing|s)?|var(?:ies|y|ying)|waiting|waking|waving|wear(?:ing|s)?)\b(?!-)/i,lookbehind:!0,alias:"operator"},keyword:{pattern:/(^|[^-])\b(?:after|before|carry out|check|continue the action|definition(?= *:)|do nothing|else|end (?:if|the story|unless)|every turn|if|include|instead(?: of)?|let|move|no|now|otherwise|repeat|report|resume the story|rule for|running through|say(?:ing)?|stop the action|test|try(?:ing)?|understand|unless|use|when|while|yes)\b(?!-)/i,lookbehind:!0},property:{pattern:/(^|[^-])\b(?:adjacent(?! to)|carried|closed|concealed|contained|dark|described|edible|empty|enclosed|enterable|even|female|fixed in place|full|handled|held|improper-named|incorporated|inedible|invisible|lighted|lit|lock(?:able|ed)|male|marked for listing|mentioned|negative|neuter|non-(?:empty|full|recurring)|odd|opaque|open(?:able)?|plural-named|portable|positive|privately-named|proper-named|provided|publically-named|pushable between rooms|recurring|related|rubbing|scenery|seen|singular-named|supported|swinging|switch(?:able|ed(?: off| on)?)|touch(?:able|ed)|transparent|unconcealed|undescribed|unlit|unlocked|unmarked for listing|unmentioned|unopenable|untouchable|unvisited|variable|visible|visited|wearable|worn)\b(?!-)/i,lookbehind:!0,alias:"symbol"},position:{pattern:/(^|[^-])\b(?:above|adjacent to|back side of|below|between|down|east|everywhere|front side|here|in|inside(?: from)?|north(?:east|west)?|nowhere|on(?: top of)?|other side|outside(?: from)?|parts? of|regionally in|south(?:east|west)?|through|up|west|within)\b(?!-)/i,lookbehind:!0,alias:"keyword"},type:{pattern:/(^|[^-])\b(?:actions?|activit(?:ies|y)|actors?|animals?|backdrops?|containers?|devices?|directions?|doors?|holders?|kinds?|lists?|m[ae]n|nobody|nothing|nouns?|numbers?|objects?|people|persons?|player(?:'s holdall)?|regions?|relations?|rooms?|rule(?:book)?s?|scenes?|someone|something|supporters?|tables?|texts?|things?|time|vehicles?|wom[ae]n)\b(?!-)/i,lookbehind:!0,alias:"variable"},punctuation:/[.,:;(){}]/},e.languages.inform7.string.inside.substitution.inside.rest=e.languages.inform7,e.languages.inform7.string.inside.substitution.inside.rest.text={pattern:/\S(?:\s*\S)*/,alias:"comment"}}return aM}var sM,FZ;function R9e(){if(FZ)return sM;FZ=1,sM=t,t.displayName="ini",t.aliases=[];function t(e){e.languages.ini={comment:{pattern:/(^[ \f\t\v]*)[#;][^\n\r]*/m,lookbehind:!0},section:{pattern:/(^[ \f\t\v]*)\[[^\n\r\]]*\]?/m,lookbehind:!0,inside:{"section-name":{pattern:/(^\[[ \f\t\v]*)[^ \f\t\v\]]+(?:[ \f\t\v]+[^ \f\t\v\]]+)*/,lookbehind:!0,alias:"selector"},punctuation:/\[|\]/}},key:{pattern:/(^[ \f\t\v]*)[^ \f\n\r\t\v=]+(?:[ \f\t\v]+[^ \f\n\r\t\v=]+)*(?=[ \f\t\v]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/(=[ \f\t\v]*)[^ \f\n\r\t\v]+(?:[ \f\t\v]+[^ \f\n\r\t\v]+)*/,lookbehind:!0,alias:"attr-value",inside:{"inner-value":{pattern:/^("|').+(?=\1$)/,lookbehind:!0}}},punctuation:/=/}}return sM}var oM,BZ;function I9e(){if(BZ)return oM;BZ=1,oM=t,t.displayName="io",t.aliases=[];function t(e){e.languages.io={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\/\/.*|#.*)/,lookbehind:!0,greedy:!0},"triple-quoted-string":{pattern:/"""(?:\\[\s\S]|(?!""")[^\\])*"""/,greedy:!0,alias:"string"},string:{pattern:/"(?:\\.|[^\\\r\n"])*"/,greedy:!0},keyword:/\b(?:activate|activeCoroCount|asString|block|break|call|catch|clone|collectGarbage|compileString|continue|do|doFile|doMessage|doString|else|elseif|exit|for|foreach|forward|getEnvironmentVariable|getSlot|hasSlot|if|ifFalse|ifNil|ifNilEval|ifTrue|isActive|isNil|isResumable|list|message|method|parent|pass|pause|perform|performWithArgList|print|println|proto|raise|raiseResumable|removeSlot|resend|resume|schedulerSleepSeconds|self|sender|setSchedulerSleepSeconds|setSlot|shallowCopy|slotNames|super|system|then|thisBlock|thisContext|try|type|uniqueId|updateSlot|wait|while|write|yield)\b/,builtin:/\b(?:Array|AudioDevice|AudioMixer|BigNum|Block|Box|Buffer|CFunction|CGI|Color|Curses|DBM|DNSResolver|DOConnection|DOProxy|DOServer|Date|Directory|Duration|DynLib|Error|Exception|FFT|File|Fnmatch|Font|Future|GL|GLE|GLScissor|GLU|GLUCylinder|GLUQuadric|GLUSphere|GLUT|Host|Image|Importer|LinkList|List|Lobby|Locals|MD5|MP3Decoder|MP3Encoder|Map|Message|Movie|Notification|Number|Object|OpenGL|Point|Protos|Random|Regex|SGML|SGMLElement|SGMLParser|SQLite|Sequence|Server|ShowMessage|SleepyCat|SleepyCatCursor|Socket|SocketManager|Sound|Soup|Store|String|Tree|UDPSender|UPDReceiver|URL|User|Warning|WeakLink)\b/,boolean:/\b(?:false|nil|true)\b/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e-?\d+)?/i,operator:/[=!*/%+\-^&|]=|>>?=?|<<?=?|:?:?=|\+\+?|--?|\*\*?|\/\/?|%|\|\|?|&&?|\b(?:and|not|or|return)\b|@@?|\?\??|\.\./,punctuation:/[{}[\];(),.:]/}}return oM}var lM,UZ;function N9e(){if(UZ)return lM;UZ=1,lM=t,t.displayName="j",t.aliases=[];function t(e){e.languages.j={comment:{pattern:/\bNB\..*/,greedy:!0},string:{pattern:/'(?:''|[^'\r\n])*'/,greedy:!0},keyword:/\b(?:(?:CR|LF|adverb|conjunction|def|define|dyad|monad|noun|verb)\b|(?:assert|break|case|catch[dt]?|continue|do|else|elseif|end|fcase|for|for_\w+|goto_\w+|if|label_\w+|return|select|throw|try|while|whilst)\.)/,verb:{pattern:/(?!\^:|;\.|[=!][.:])(?:\{(?:\.|::?)?|p(?:\.\.?|:)|[=!\]]|[<>+*\-%$|,#][.:]?|[?^]\.?|[;\[]:?|[~}"i][.:]|[ACeEIjLor]\.|(?:[_\/\\qsux]|_?\d):)/,alias:"keyword"},number:/\b_?(?:(?!\d:)\d+(?:\.\d+)?(?:(?:ad|ar|[ejpx])_?\d+(?:\.\d+)?)*(?:b_?[\da-z]+(?:\.[\da-z]+)?)?|_\b(?!\.))/,adverb:{pattern:/[~}]|[\/\\]\.?|[bfM]\.|t[.:]/,alias:"builtin"},operator:/[=a][.:]|_\./,conjunction:{pattern:/&(?:\.:?|:)?|[.:@][.:]?|[!D][.:]|[;dHT]\.|`:?|[\^LS]:|"/,alias:"variable"},punctuation:/[()]/}}return lM}var uM,jZ;function FF(){if(jZ)return uM;jZ=1,uM=t,t.displayName="java",t.aliases=[];function t(e){(function(n){var r=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,i=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,a={pattern:RegExp(i+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};n.languages.java=n.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[a,{pattern:RegExp(i+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:a.inside}],keyword:r,function:[n.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),n.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),n.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":a,keyword:r,punctuation:/[<>(),.:]/,operator:/[?&|]/}},namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return r.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(e)}return uM}var cM,zZ;function bC(){if(zZ)return cM;zZ=1,cM=t,t.displayName="javadoclike",t.aliases=[];function t(e){(function(n){var r=n.languages.javadoclike={parameter:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*@(?:arg|arguments|param)\s+)\w+/m,lookbehind:!0},keyword:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*|\{)@[a-z][a-zA-Z-]+\b/m,lookbehind:!0},punctuation:/[{}]/};function i(s,o){var l="doc-comment",u=n.languages[s];if(u){var d=u[l];if(!d){var h={};h[l]={pattern:/(^|[^\\])\/\*\*[^/][\s\S]*?(?:\*\/|$)/,lookbehind:!0,alias:"comment"},u=n.languages.insertBefore(s,"comment",h),d=u[l]}if(d instanceof RegExp&&(d=u[l]={pattern:d}),Array.isArray(d))for(var p=0,m=d.length;p<m;p++)d[p]instanceof RegExp&&(d[p]={pattern:d[p]}),o(d[p]);else o(d)}}function a(s,o){typeof s=="string"&&(s=[s]),s.forEach(function(l){i(l,function(u){u.inside||(u.inside={}),u.inside.rest=o})})}Object.defineProperty(r,"addSupport",{value:a}),r.addSupport(["java","javascript","php"],r)})(e)}return cM}var dM,$Z;function O9e(){if($Z)return dM;$Z=1;var t=FF(),e=bC();dM=n,n.displayName="javadoc",n.aliases=[];function n(r){r.register(t),r.register(e),function(i){var a=/(^(?:[\t ]*(?:\*\s*)*))[^*\s].*$/m,s=/#\s*\w+(?:\s*\([^()]*\))?/.source,o=/(?:\b[a-zA-Z]\w+\s*\.\s*)*\b[A-Z]\w*(?:\s*<mem>)?|<mem>/.source.replace(/<mem>/g,function(){return s});i.languages.javadoc=i.languages.extend("javadoclike",{}),i.languages.insertBefore("javadoc","keyword",{reference:{pattern:RegExp(/(@(?:exception|link|linkplain|see|throws|value)\s+(?:\*\s*)?)/.source+"(?:"+o+")"),lookbehind:!0,inside:{function:{pattern:/(#\s*)\w+(?=\s*\()/,lookbehind:!0},field:{pattern:/(#\s*)\w+/,lookbehind:!0},namespace:{pattern:/\b(?:[a-z]\w*\s*\.\s*)+/,inside:{punctuation:/\./}},"class-name":/\b[A-Z]\w*/,keyword:i.languages.java.keyword,punctuation:/[#()[\],.]/}},"class-name":{pattern:/(@param\s+)<[A-Z]\w*>/,lookbehind:!0,inside:{punctuation:/[.<>]/}},"code-section":[{pattern:/(\{@code\s+(?!\s))(?:[^\s{}]|\s+(?![\s}])|\{(?:[^{}]|\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*\})+(?=\s*\})/,lookbehind:!0,inside:{code:{pattern:a,lookbehind:!0,inside:i.languages.java,alias:"language-java"}}},{pattern:/(<(code|pre|tt)>(?!<code>)\s*)\S(?:\S|\s+\S)*?(?=\s*<\/\2>)/,lookbehind:!0,inside:{line:{pattern:a,lookbehind:!0,inside:{tag:i.languages.markup.tag,entity:i.languages.markup.entity,code:{pattern:/.+/,inside:i.languages.java,alias:"language-java"}}}}}],tag:i.languages.markup.tag,entity:i.languages.markup.entity}),i.languages.javadoclike.addSupport("java",i.languages.javadoc)}(r)}return dM}var hM,qZ;function M9e(){if(qZ)return hM;qZ=1,hM=t,t.displayName="javastacktrace",t.aliases=[];function t(e){e.languages.javastacktrace={summary:{pattern:/^([\t ]*)(?:(?:Caused by:|Suppressed:|Exception in thread "[^"]*")[\t ]+)?[\w$.]+(?::.*)?$/m,lookbehind:!0,inside:{keyword:{pattern:/^([\t ]*)(?:(?:Caused by|Suppressed)(?=:)|Exception in thread)/m,lookbehind:!0},string:{pattern:/^(\s*)"[^"]*"/,lookbehind:!0},exceptions:{pattern:/^(:?\s*)[\w$.]+(?=:|$)/,lookbehind:!0,inside:{"class-name":/[\w$]+$/,namespace:/\b[a-z]\w*\b/,punctuation:/\./}},message:{pattern:/(:\s*)\S.*/,lookbehind:!0,alias:"string"},punctuation:/:/}},"stack-frame":{pattern:/^([\t ]*)at (?:[\w$./]|@[\w$.+-]*\/)+(?:<init>)?\([^()]*\)/m,lookbehind:!0,inside:{keyword:{pattern:/^(\s*)at(?= )/,lookbehind:!0},source:[{pattern:/(\()\w+\.\w+:\d+(?=\))/,lookbehind:!0,inside:{file:/^\w+\.\w+/,punctuation:/:/,"line-number":{pattern:/\b\d+\b/,alias:"number"}}},{pattern:/(\()[^()]*(?=\))/,lookbehind:!0,inside:{keyword:/^(?:Native Method|Unknown Source)$/}}],"class-name":/[\w$]+(?=\.(?:<init>|[\w$]+)\()/,function:/(?:<init>|[\w$]+)(?=\()/,"class-loader":{pattern:/(\s)[a-z]\w*(?:\.[a-z]\w*)*(?=\/[\w@$.]*\/)/,lookbehind:!0,alias:"namespace",inside:{punctuation:/\./}},module:{pattern:/([\s/])[a-z]\w*(?:\.[a-z]\w*)*(?:@[\w$.+-]*)?(?=\/)/,lookbehind:!0,inside:{version:{pattern:/(@)[\s\S]+/,lookbehind:!0,alias:"number"},punctuation:/[@.]/}},namespace:{pattern:/(?:\b[a-z]\w*\.)+/,inside:{punctuation:/\./}},punctuation:/[()/.]/}},more:{pattern:/^([\t ]*)\.{3} \d+ [a-z]+(?: [a-z]+)*/m,lookbehind:!0,inside:{punctuation:/\.{3}/,number:/\d+/,keyword:/\b[a-z]+(?: [a-z]+)*\b/}}}}return hM}var fM,HZ;function P9e(){if(HZ)return fM;HZ=1,fM=t,t.displayName="jexl",t.aliases=[];function t(e){e.languages.jexl={string:/(["'])(?:\\[\s\S]|(?!\1)[^\\])*\1/,transform:{pattern:/(\|\s*)[a-zA-Zа-яА-Я_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$][\wа-яА-Я\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$]*/,alias:"function",lookbehind:!0},function:/[a-zA-Zа-яА-Я_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$][\wа-яА-Я\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$]*\s*(?=\()/,number:/\b\d+(?:\.\d+)?\b|\B\.\d+\b/,operator:/[<>!]=?|-|\+|&&|==|\|\|?|\/\/?|[?:*^%]/,boolean:/\b(?:false|true)\b/,keyword:/\bin\b/,punctuation:/[{}[\](),.]/}}return fM}var pM,VZ;function L9e(){if(VZ)return pM;VZ=1,pM=t,t.displayName="jolie",t.aliases=[];function t(e){e.languages.jolie=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\[\s\S]|[^"\\])*"/,lookbehind:!0,greedy:!0},"class-name":{pattern:/((?:\b(?:as|courier|embed|in|inputPort|outputPort|service)\b|@)[ \t]*)\w+/,lookbehind:!0},keyword:/\b(?:as|cH|comp|concurrent|constants|courier|cset|csets|default|define|else|embed|embedded|execution|exit|extender|for|foreach|forward|from|global|if|import|in|include|init|inputPort|install|instanceof|interface|is_defined|linkIn|linkOut|main|new|nullProcess|outputPort|over|private|provide|public|scope|sequential|service|single|spawn|synchronized|this|throw|throws|type|undef|until|while|with)\b/,function:/\b[a-z_]\w*(?=[ \t]*[@(])/i,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?l?/i,operator:/-[-=>]?|\+[+=]?|<[<=]?|[>=*!]=?|&&|\|\||[?\/%^@|]/,punctuation:/[()[\]{},;.:]/,builtin:/\b(?:Byte|any|bool|char|double|enum|float|int|length|long|ranges|regex|string|undefined|void)\b/}),e.languages.insertBefore("jolie","keyword",{aggregates:{pattern:/(\bAggregates\s*:\s*)(?:\w+(?:\s+with\s+\w+)?\s*,\s*)*\w+(?:\s+with\s+\w+)?/,lookbehind:!0,inside:{keyword:/\bwith\b/,"class-name":/\w+/,punctuation:/,/}},redirects:{pattern:/(\bRedirects\s*:\s*)(?:\w+\s*=>\s*\w+\s*,\s*)*(?:\w+\s*=>\s*\w+)/,lookbehind:!0,inside:{punctuation:/,/,"class-name":/\w+/,operator:/=>/}},property:{pattern:/\b(?:Aggregates|[Ii]nterfaces|Java|Javascript|Jolie|[Ll]ocation|OneWay|[Pp]rotocol|Redirects|RequestResponse)\b(?=[ \t]*:)/}})}return pM}var mM,GZ;function D9e(){if(GZ)return mM;GZ=1,mM=t,t.displayName="jq",t.aliases=[];function t(e){(function(n){var r=/\\\((?:[^()]|\([^()]*\))*\)/.source,i=RegExp(/(^|[^\\])"(?:[^"\r\n\\]|\\[^\r\n(]|__)*"/.source.replace(/__/g,function(){return r})),a={interpolation:{pattern:RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+r),lookbehind:!0,inside:{content:{pattern:/^(\\\()[\s\S]+(?=\)$)/,lookbehind:!0,inside:null},punctuation:/^\\\(|\)$/}}},s=n.languages.jq={comment:/#.*/,property:{pattern:RegExp(i.source+/(?=\s*:(?!:))/.source),lookbehind:!0,greedy:!0,inside:a},string:{pattern:i,lookbehind:!0,greedy:!0,inside:a},function:{pattern:/(\bdef\s+)[a-z_]\w+/i,lookbehind:!0},variable:/\B\$\w+/,"property-literal":{pattern:/\b[a-z_]\w*(?=\s*:(?!:))/i,alias:"property"},keyword:/\b(?:as|break|catch|def|elif|else|end|foreach|if|import|include|label|module|modulemeta|null|reduce|then|try|while)\b/,boolean:/\b(?:false|true)\b/,number:/(?:\b\d+\.|\B\.)?\b\d+(?:[eE][+-]?\d+)?\b/,operator:[{pattern:/\|=?/,alias:"pipe"},/\.\.|[!=<>]?=|\?\/\/|\/\/=?|[-+*/%]=?|[<>?]|\b(?:and|not|or)\b/],"c-style-function":{pattern:/\b[a-z_]\w*(?=\s*\()/i,alias:"function"},punctuation:/::|[()\[\]{},:;]|\.(?=\s*[\[\w$])/,dot:{pattern:/\./,alias:"important"}};a.interpolation.inside.content.inside=s})(e)}return mM}var gM,WZ;function F9e(){if(WZ)return gM;WZ=1,gM=t,t.displayName="jsExtras",t.aliases=[];function t(e){(function(n){n.languages.insertBefore("javascript","function-variable",{"method-variable":{pattern:RegExp("(\\.\\s*)"+n.languages.javascript["function-variable"].pattern.source),lookbehind:!0,alias:["function-variable","method","function","property-access"]}}),n.languages.insertBefore("javascript","function",{method:{pattern:RegExp("(\\.\\s*)"+n.languages.javascript.function.source),lookbehind:!0,alias:["function","property-access"]}}),n.languages.insertBefore("javascript","constant",{"known-class-name":[{pattern:/\b(?:(?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)?Array|ArrayBuffer|BigInt|Boolean|DataView|Date|Error|Function|Intl|JSON|(?:Weak)?(?:Map|Set)|Math|Number|Object|Promise|Proxy|Reflect|RegExp|String|Symbol|WebAssembly)\b/,alias:"class-name"},{pattern:/\b(?:[A-Z]\w*)Error\b/,alias:"class-name"}]});function r(u,d){return RegExp(u.replace(/<ID>/g,function(){return/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/.source}),d)}n.languages.insertBefore("javascript","keyword",{imports:{pattern:r(/(\bimport\b\s*)(?:<ID>(?:\s*,\s*(?:\*\s*as\s+<ID>|\{[^{}]*\}))?|\*\s*as\s+<ID>|\{[^{}]*\})(?=\s*\bfrom\b)/.source),lookbehind:!0,inside:n.languages.javascript},exports:{pattern:r(/(\bexport\b\s*)(?:\*(?:\s*as\s+<ID>)?(?=\s*\bfrom\b)|\{[^{}]*\})/.source),lookbehind:!0,inside:n.languages.javascript}}),n.languages.javascript.keyword.unshift({pattern:/\b(?:as|default|export|from|import)\b/,alias:"module"},{pattern:/\b(?:await|break|catch|continue|do|else|finally|for|if|return|switch|throw|try|while|yield)\b/,alias:"control-flow"},{pattern:/\bnull\b/,alias:["null","nil"]},{pattern:/\bundefined\b/,alias:"nil"}),n.languages.insertBefore("javascript","operator",{spread:{pattern:/\.{3}/,alias:"operator"},arrow:{pattern:/=>/,alias:"operator"}}),n.languages.insertBefore("javascript","punctuation",{"property-access":{pattern:r(/(\.\s*)#?<ID>/.source),lookbehind:!0},"maybe-class-name":{pattern:/(^|[^$\w\xA0-\uFFFF])[A-Z][$\w\xA0-\uFFFF]+/,lookbehind:!0},dom:{pattern:/\b(?:document|(?:local|session)Storage|location|navigator|performance|window)\b/,alias:"variable"},console:{pattern:/\bconsole(?=\s*\.)/,alias:"class-name"}});for(var i=["function","function-variable","method","method-variable","property-access"],a=0;a<i.length;a++){var s=i[a],o=n.languages.javascript[s];n.util.type(o)==="RegExp"&&(o=n.languages.javascript[s]={pattern:o});var l=o.inside||{};o.inside=l,l["maybe-class-name"]=/^[A-Z][\s\S]*/}})(e)}return gM}var yM,KZ;function B9e(){if(KZ)return yM;KZ=1,yM=t,t.displayName="jsTemplates",t.aliases=[];function t(e){(function(n){var r=n.languages.javascript["template-string"],i=r.pattern.source,a=r.inside.interpolation,s=a.inside["interpolation-punctuation"],o=a.pattern.source;function l(w,k){if(n.languages[w])return{pattern:RegExp("((?:"+k+")\\s*)"+i),lookbehind:!0,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},"embedded-code":{pattern:/[\s\S]+/,alias:w}}}}n.languages.javascript["template-string"]=[l("css",/\b(?:styled(?:\([^)]*\))?(?:\s*\.\s*\w+(?:\([^)]*\))*)*|css(?:\s*\.\s*(?:global|resolve))?|createGlobalStyle|keyframes)/.source),l("html",/\bhtml|\.\s*(?:inner|outer)HTML\s*\+?=/.source),l("svg",/\bsvg/.source),l("markdown",/\b(?:markdown|md)/.source),l("graphql",/\b(?:gql|graphql(?:\s*\.\s*experimental)?)/.source),l("sql",/\bsql/.source),r].filter(Boolean);function u(w,k){return"___"+k.toUpperCase()+"_"+w+"___"}function d(w,k,T){var C={code:w,grammar:k,language:T};return n.hooks.run("before-tokenize",C),C.tokens=n.tokenize(C.code,C.grammar),n.hooks.run("after-tokenize",C),C.tokens}function h(w){var k={};k["interpolation-punctuation"]=s;var T=n.tokenize(w,k);if(T.length===3){var C=[1,1];C.push.apply(C,d(T[1],n.languages.javascript,"javascript")),T.splice.apply(T,C)}return new n.Token("interpolation",T,a.alias,w)}function p(w,k,T){var C=n.tokenize(w,{interpolation:{pattern:RegExp(o),lookbehind:!0}}),N=0,F={},D=C.map(function(re){if(typeof re=="string")return re;for(var Q=re.content,ce;w.indexOf(ce=u(N++,T))!==-1;);return F[ce]=Q,ce}).join(""),U=d(D,k,T),G=Object.keys(F);N=0;function se(re){for(var Q=0;Q<re.length;Q++){if(N>=G.length)return;var ce=re[Q];if(typeof ce=="string"||typeof ce.content=="string"){var Ie=G[N],qe=typeof ce=="string"?ce:ce.content,xe=qe.indexOf(Ie);if(xe!==-1){++N;var Ce=qe.substring(0,xe),ue=h(F[Ie]),ke=qe.substring(xe+Ie.length),Te=[];if(Ce&&Te.push(Ce),Te.push(ue),ke){var he=[ke];se(he),Te.push.apply(Te,he)}typeof ce=="string"?(re.splice.apply(re,[Q,1].concat(Te)),Q+=Te.length-1):ce.content=Te}}else{var j=ce.content;Array.isArray(j)?se(j):se([j])}}}return se(U),new n.Token(T,U,"language-"+T,w)}var m={javascript:!0,js:!0,typescript:!0,ts:!0,jsx:!0,tsx:!0};n.hooks.add("after-tokenize",function(w){if(!(w.language in m))return;function k(T){for(var C=0,N=T.length;C<N;C++){var F=T[C];if(typeof F!="string"){var D=F.content;if(!Array.isArray(D)){typeof D!="string"&&k([D]);continue}if(F.type==="template-string"){var U=D[1];if(D.length===3&&typeof U!="string"&&U.type==="embedded-code"){var G=v(U),se=U.alias,re=Array.isArray(se)?se[0]:se,Q=n.languages[re];if(!Q)continue;D[1]=p(G,Q,re)}}else k(D)}}}k(w.tokens)});function v(w){return typeof w=="string"?w:Array.isArray(w)?w.map(v).join(""):v(w.content)}})(e)}return yM}var bM,YZ;function BF(){if(YZ)return bM;YZ=1,bM=t,t.displayName="typescript",t.aliases=["ts"];function t(e){(function(n){n.languages.typescript=n.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),n.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete n.languages.typescript.parameter,delete n.languages.typescript["literal-property"];var r=n.languages.extend("typescript",{});delete r["class-name"],n.languages.typescript["class-name"].inside=r,n.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:r}}}}),n.languages.ts=n.languages.typescript})(e)}return bM}var vM,XZ;function U9e(){if(XZ)return vM;XZ=1;var t=bC(),e=BF();vM=n,n.displayName="jsdoc",n.aliases=[];function n(r){r.register(t),r.register(e),function(i){var a=i.languages.javascript,s=/\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})+\}/.source,o="(@(?:arg|argument|param|property)\\s+(?:"+s+"\\s+)?)";i.languages.jsdoc=i.languages.extend("javadoclike",{parameter:{pattern:RegExp(o+/(?:(?!\s)[$\w\xA0-\uFFFF.])+(?=\s|$)/.source),lookbehind:!0,inside:{punctuation:/\./}}}),i.languages.insertBefore("jsdoc","keyword",{"optional-parameter":{pattern:RegExp(o+/\[(?:(?!\s)[$\w\xA0-\uFFFF.])+(?:=[^[\]]+)?\](?=\s|$)/.source),lookbehind:!0,inside:{parameter:{pattern:/(^\[)[$\w\xA0-\uFFFF\.]+/,lookbehind:!0,inside:{punctuation:/\./}},code:{pattern:/(=)[\s\S]*(?=\]$)/,lookbehind:!0,inside:a,alias:"language-javascript"},punctuation:/[=[\]]/}},"class-name":[{pattern:RegExp(/(@(?:augments|class|extends|interface|memberof!?|template|this|typedef)\s+(?:<TYPE>\s+)?)[A-Z]\w*(?:\.[A-Z]\w*)*/.source.replace(/<TYPE>/g,function(){return s})),lookbehind:!0,inside:{punctuation:/\./}},{pattern:RegExp("(@[a-z]+\\s+)"+s),lookbehind:!0,inside:{string:a.string,number:a.number,boolean:a.boolean,keyword:i.languages.typescript.keyword,operator:/=>|\.\.\.|[&|?:*]/,punctuation:/[.,;=<>{}()[\]]/}}],example:{pattern:/(@example\s+(?!\s))(?:[^@\s]|\s+(?!\s))+?(?=\s*(?:\*\s*)?(?:@\w|\*\/))/,lookbehind:!0,inside:{code:{pattern:/^([\t ]*(?:\*\s*)?)\S.*$/m,lookbehind:!0,inside:a,alias:"language-javascript"}}}}),i.languages.javadoclike.addSupport("javascript",i.languages.jsdoc)}(r)}return vM}var wM,ZZ;function UF(){if(ZZ)return wM;ZZ=1,wM=t,t.displayName="json",t.aliases=["webmanifest"];function t(e){e.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},e.languages.webmanifest=e.languages.json}return wM}var _M,QZ;function j9e(){if(QZ)return _M;QZ=1;var t=UF();_M=e,e.displayName="json5",e.aliases=[];function e(n){n.register(t),function(r){var i=/("|')(?:\\(?:\r\n?|\n|.)|(?!\1)[^\\\r\n])*\1/;r.languages.json5=r.languages.extend("json",{property:[{pattern:RegExp(i.source+"(?=\\s*:)"),greedy:!0},{pattern:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/,alias:"unquoted"}],string:{pattern:i,greedy:!0},number:/[+-]?\b(?:NaN|Infinity|0x[a-fA-F\d]+)\b|[+-]?(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+\b)?/})}(n)}return _M}var SM,JZ;function z9e(){if(JZ)return SM;JZ=1;var t=UF();SM=e,e.displayName="jsonp",e.aliases=[];function e(n){n.register(t),n.languages.jsonp=n.languages.extend("json",{punctuation:/[{}[\]();,.]/}),n.languages.insertBefore("jsonp","punctuation",{function:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*\()/})}return SM}var xM,eQ;function $9e(){if(eQ)return xM;eQ=1,xM=t,t.displayName="jsstacktrace",t.aliases=[];function t(e){e.languages.jsstacktrace={"error-message":{pattern:/^\S.*/m,alias:"string"},"stack-frame":{pattern:/(^[ \t]+)at[ \t].*/m,lookbehind:!0,inside:{"not-my-code":{pattern:/^at[ \t]+(?!\s)(?:node\.js|<unknown>|.*(?:node_modules|\(<anonymous>\)|\(<unknown>|<anonymous>$|\(internal\/|\(node\.js)).*/m,alias:"comment"},filename:{pattern:/(\bat\s+(?!\s)|\()(?:[a-zA-Z]:)?[^():]+(?=:)/,lookbehind:!0,alias:"url"},function:{pattern:/(\bat\s+(?:new\s+)?)(?!\s)[_$a-zA-Z\xA0-\uFFFF<][.$\w\xA0-\uFFFF<>]*/,lookbehind:!0,inside:{punctuation:/\./}},punctuation:/[()]/,keyword:/\b(?:at|new)\b/,alias:{pattern:/\[(?:as\s+)?(?!\s)[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\]/,alias:"variable"},"line-number":{pattern:/:\d+(?::\d+)?\b/,alias:"number",inside:{punctuation:/:/}}}}}}return xM}var EM,tQ;function Rde(){if(tQ)return EM;tQ=1,EM=t,t.displayName="jsx",t.aliases=[];function t(e){(function(n){var r=n.util.clone(n.languages.javascript),i=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,a=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,s=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function o(d,h){return d=d.replace(/<S>/g,function(){return i}).replace(/<BRACES>/g,function(){return a}).replace(/<SPREAD>/g,function(){return s}),RegExp(d,h)}s=o(s).source,n.languages.jsx=n.languages.extend("markup",r),n.languages.jsx.tag.pattern=o(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),n.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,n.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,n.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,n.languages.jsx.tag.inside.comment=r.comment,n.languages.insertBefore("inside","attr-name",{spread:{pattern:o(/<SPREAD>/.source),inside:n.languages.jsx}},n.languages.jsx.tag),n.languages.insertBefore("inside","special-attr",{script:{pattern:o(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:n.languages.jsx}}},n.languages.jsx.tag);var l=function(d){return d?typeof d=="string"?d:typeof d.content=="string"?d.content:d.content.map(l).join(""):""},u=function(d){for(var h=[],p=0;p<d.length;p++){var m=d[p],v=!1;if(typeof m!="string"&&(m.type==="tag"&&m.content[0]&&m.content[0].type==="tag"?m.content[0].content[0].content==="</"?h.length>0&&h[h.length-1].tagName===l(m.content[0].content[1])&&h.pop():m.content[m.content.length-1].content==="/>"||h.push({tagName:l(m.content[0].content[1]),openedBraces:0}):h.length>0&&m.type==="punctuation"&&m.content==="{"?h[h.length-1].openedBraces++:h.length>0&&h[h.length-1].openedBraces>0&&m.type==="punctuation"&&m.content==="}"?h[h.length-1].openedBraces--:v=!0),(v||typeof m=="string")&&h.length>0&&h[h.length-1].openedBraces===0){var w=l(m);p<d.length-1&&(typeof d[p+1]=="string"||d[p+1].type==="plain-text")&&(w+=l(d[p+1]),d.splice(p+1,1)),p>0&&(typeof d[p-1]=="string"||d[p-1].type==="plain-text")&&(w=l(d[p-1])+w,d.splice(p-1,1),p--),d[p]=new n.Token("plain-text",w,null,w)}m.content&&typeof m.content!="string"&&u(m.content)}};n.hooks.add("after-tokenize",function(d){d.language!=="jsx"&&d.language!=="tsx"||u(d.tokens)})})(e)}return EM}var kM,nQ;function q9e(){if(nQ)return kM;nQ=1,kM=t,t.displayName="julia",t.aliases=[];function t(e){e.languages.julia={comment:{pattern:/(^|[^\\])(?:#=(?:[^#=]|=(?!#)|#(?!=)|#=(?:[^#=]|=(?!#)|#(?!=))*=#)*=#|#.*)/,lookbehind:!0},regex:{pattern:/r"(?:\\.|[^"\\\r\n])*"[imsx]{0,4}/,greedy:!0},string:{pattern:/"""[\s\S]+?"""|(?:\b\w+)?"(?:\\.|[^"\\\r\n])*"|`(?:[^\\`\r\n]|\\.)*`/,greedy:!0},char:{pattern:/(^|[^\w'])'(?:\\[^\r\n][^'\r\n]*|[^\\\r\n])'/,lookbehind:!0,greedy:!0},keyword:/\b(?:abstract|baremodule|begin|bitstype|break|catch|ccall|const|continue|do|else|elseif|end|export|finally|for|function|global|if|immutable|import|importall|in|let|local|macro|module|print|println|quote|return|struct|try|type|typealias|using|while)\b/,boolean:/\b(?:false|true)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[box])?(?:[\da-f]+(?:_[\da-f]+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[efp][+-]?\d+(?:_\d+)*)?j?/i,operator:/&&|\|\||[-+*^%÷⊻&$\\]=?|\/[\/=]?|!=?=?|\|[=>]?|<(?:<=?|[=:|])?|>(?:=|>>?=?)?|==?=?|[~≠≤≥'√∛]/,punctuation:/::?|[{}[\]();,.?]/,constant:/\b(?:(?:Inf|NaN)(?:16|32|64)?|im|pi)\b|[πℯ]/}}return kM}var TM,rQ;function H9e(){if(rQ)return TM;rQ=1,TM=t,t.displayName="keepalived",t.aliases=[];function t(e){e.languages.keepalived={comment:{pattern:/[#!].*/,greedy:!0},string:{pattern:/(^|[^\\])(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/,lookbehind:!0,greedy:!0},ip:{pattern:RegExp(/\b(?:(?:(?:[\da-f]{1,4}:){7}[\da-f]{1,4}|(?:[\da-f]{1,4}:){6}:[\da-f]{1,4}|(?:[\da-f]{1,4}:){5}:(?:[\da-f]{1,4}:)?[\da-f]{1,4}|(?:[\da-f]{1,4}:){4}:(?:[\da-f]{1,4}:){0,2}[\da-f]{1,4}|(?:[\da-f]{1,4}:){3}:(?:[\da-f]{1,4}:){0,3}[\da-f]{1,4}|(?:[\da-f]{1,4}:){2}:(?:[\da-f]{1,4}:){0,4}[\da-f]{1,4}|(?:[\da-f]{1,4}:){6}<ipv4>|(?:[\da-f]{1,4}:){0,5}:<ipv4>|::(?:[\da-f]{1,4}:){0,5}<ipv4>|[\da-f]{1,4}::(?:[\da-f]{1,4}:){0,5}[\da-f]{1,4}|::(?:[\da-f]{1,4}:){0,6}[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,7}:)(?:\/\d{1,3})?|<ipv4>(?:\/\d{1,2})?)\b/.source.replace(/<ipv4>/g,function(){return/(?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d))/.source}),"i"),alias:"number"},path:{pattern:/(\s)\/(?:[^\/\s]+\/)*[^\/\s]*|\b[a-zA-Z]:\\(?:[^\\\s]+\\)*[^\\\s]*/,lookbehind:!0,alias:"string"},variable:/\$\{?\w+\}?/,email:{pattern:/[\w-]+@[\w-]+(?:\.[\w-]{2,3}){1,2}/,alias:"string"},"conditional-configuration":{pattern:/@\^?[\w-]+/,alias:"variable"},operator:/=/,property:/\b(?:BFD_CHECK|DNS_CHECK|FILE_CHECK|HTTP_GET|MISC_CHECK|NAME|PING_CHECK|SCRIPTS|SMTP_CHECK|SSL|SSL_GET|TCP_CHECK|UDP_CHECK|accept|advert_int|alpha|auth_pass|auth_type|authentication|bfd_cpu_affinity|bfd_instance|bfd_no_swap|bfd_priority|bfd_process_name|bfd_rlimit_rttime|bfd_rt_priority|bind_if|bind_port|bindto|ca|certificate|check_unicast_src|checker|checker_cpu_affinity|checker_log_all_failures|checker_no_swap|checker_priority|checker_rlimit_rttime|checker_rt_priority|child_wait_time|connect_ip|connect_port|connect_timeout|dbus_service_name|debug|default_interface|delay|delay_before_retry|delay_loop|digest|dont_track_primary|dynamic|dynamic_interfaces|enable_(?:dbus|script_security|sni|snmp_checker|snmp_rfc|snmp_rfcv2|snmp_rfcv3|snmp_vrrp|traps)|end|fall|fast_recovery|file|flag-[123]|fork_delay|full_command|fwmark|garp_group|garp_interval|garp_lower_prio_delay|garp_lower_prio_repeat|garp_master_delay|garp_master_refresh|garp_master_refresh_repeat|garp_master_repeat|global_defs|global_tracking|gna_interval|group|ha_suspend|hashed|helo_name|higher_prio_send_advert|hoplimit|http_protocol|hysteresis|idle_tx|include|inhibit_on_failure|init_fail|init_file|instance|interface|interfaces|interval|ip_family|ipvs_process_name|keepalived.conf|kernel_rx_buf_size|key|linkbeat_interfaces|linkbeat_use_polling|log_all_failures|log_unknown_vrids|lower_prio_no_advert|lthreshold|lvs_flush|lvs_flush_onstop|lvs_method|lvs_netlink_cmd_rcv_bufs|lvs_netlink_cmd_rcv_bufs_force|lvs_netlink_monitor_rcv_bufs|lvs_netlink_monitor_rcv_bufs_force|lvs_notify_fifo|lvs_notify_fifo_script|lvs_sched|lvs_sync_daemon|max_auto_priority|max_hops|mcast_src_ip|mh-fallback|mh-port|min_auto_priority_delay|min_rx|min_tx|misc_dynamic|misc_path|misc_timeout|multiplier|name|namespace_with_ipsets|native_ipv6|neighbor_ip|net_namespace|net_namespace_ipvs|nftables|nftables_counters|nftables_ifindex|nftables_priority|no_accept|no_checker_emails|no_email_faults|nopreempt|notification_email|notification_email_from|notify|notify_backup|notify_deleted|notify_down|notify_fault|notify_fifo|notify_fifo_script|notify_master|notify_master_rx_lower_pri|notify_priority_changes|notify_stop|notify_up|old_unicast_checksum|omega|ops|param_match|passive|password|path|persistence_engine|persistence_granularity|persistence_timeout|preempt|preempt_delay|priority|process|process_monitor_rcv_bufs|process_monitor_rcv_bufs_force|process_name|process_names|promote_secondaries|protocol|proxy_arp|proxy_arp_pvlan|quorum|quorum_down|quorum_max|quorum_up|random_seed|real_server|regex|regex_max_offset|regex_min_offset|regex_no_match|regex_options|regex_stack|reload_repeat|reload_time_file|require_reply|retry|rise|router_id|rs_init_notifies|script|script_user|sh-fallback|sh-port|shutdown_script|shutdown_script_timeout|skip_check_adv_addr|smtp_alert|smtp_alert_checker|smtp_alert_vrrp|smtp_connect_timeout|smtp_helo_name|smtp_server|snmp_socket|sorry_server|sorry_server_inhibit|sorry_server_lvs_method|source_ip|start|startup_script|startup_script_timeout|state|static_ipaddress|static_routes|static_rules|status_code|step|strict_mode|sync_group_tracking_weight|terminate_delay|timeout|track_bfd|track_file|track_group|track_interface|track_process|track_script|track_src_ip|ttl|type|umask|unicast_peer|unicast_src_ip|unicast_ttl|url|use_ipvlan|use_pid_dir|use_vmac|user|uthreshold|val[123]|version|virtual_ipaddress|virtual_ipaddress_excluded|virtual_router_id|virtual_routes|virtual_rules|virtual_server|virtual_server_group|virtualhost|vmac_xmit_base|vrrp|vrrp_(?:check_unicast_src|cpu_affinity|garp_interval|garp_lower_prio_delay|garp_lower_prio_repeat|garp_master_delay|garp_master_refresh|garp_master_refresh_repeat|garp_master_repeat|gna_interval|higher_prio_send_advert|instance|ipsets|iptables|lower_prio_no_advert|mcast_group4|mcast_group6|min_garp|netlink_cmd_rcv_bufs|netlink_cmd_rcv_bufs_force|netlink_monitor_rcv_bufs|netlink_monitor_rcv_bufs_force|no_swap|notify_fifo|notify_fifo_script|notify_priority_changes|priority|process_name|rlimit_rttime|rt_priority|rx_bufs_multiplier|rx_bufs_policy|script|skip_check_adv_addr|startup_delay|strict|sync_group|track_process|version)|warmup|weight)\b/,constant:/\b(?:A|AAAA|AH|BACKUP|CNAME|DR|MASTER|MX|NAT|NS|PASS|SCTP|SOA|TCP|TUN|TXT|UDP|dh|fo|lblc|lblcr|lc|mh|nq|ovf|rr|sed|sh|wlc|wrr)\b/,number:{pattern:/(^|[^\w.-])-?\d+(?:\.\d+)?/,lookbehind:!0},boolean:/\b(?:false|no|off|on|true|yes)\b/,punctuation:/[\{\}]/}}return TM}var AM,iQ;function V9e(){if(iQ)return AM;iQ=1,AM=t,t.displayName="keyman",t.aliases=[];function t(e){e.languages.keyman={comment:{pattern:/\bc .*/i,greedy:!0},string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,greedy:!0},"virtual-key":{pattern:/\[\s*(?:(?:ALT|CAPS|CTRL|LALT|LCTRL|NCAPS|RALT|RCTRL|SHIFT)\s+)*(?:[TKU]_[\w?]+|[A-E]\d\d?|"[^"\r\n]*"|'[^'\r\n]*')\s*\]/i,greedy:!0,alias:"function"},"header-keyword":{pattern:/&\w+/,alias:"bold"},"header-statement":{pattern:/\b(?:bitmap|bitmaps|caps always off|caps on only|copyright|hotkey|language|layout|message|name|shift frees caps|version)\b/i,alias:"bold"},"rule-keyword":{pattern:/\b(?:any|baselayout|beep|call|context|deadkey|dk|if|index|layer|notany|nul|outs|platform|reset|return|save|set|store|use)\b/i,alias:"keyword"},"structural-keyword":{pattern:/\b(?:ansi|begin|group|match|nomatch|unicode|using keys)\b/i,alias:"keyword"},"compile-target":{pattern:/\$(?:keyman|keymanonly|keymanweb|kmfl|weaver):/i,alias:"property"},number:/\b(?:U\+[\dA-F]+|d\d+|x[\da-f]+|\d+)\b/i,operator:/[+>\\$]|\.\./,punctuation:/[()=,]/}}return AM}var CM,aQ;function G9e(){if(aQ)return CM;aQ=1,CM=t,t.displayName="kotlin",t.aliases=["kt","kts"];function t(e){(function(n){n.languages.kotlin=n.languages.extend("clike",{keyword:{pattern:/(^|[^.])\b(?:abstract|actual|annotation|as|break|by|catch|class|companion|const|constructor|continue|crossinline|data|do|dynamic|else|enum|expect|external|final|finally|for|fun|get|if|import|in|infix|init|inline|inner|interface|internal|is|lateinit|noinline|null|object|open|operator|out|override|package|private|protected|public|reified|return|sealed|set|super|suspend|tailrec|this|throw|to|try|typealias|val|var|vararg|when|where|while)\b/,lookbehind:!0},function:[{pattern:/(?:`[^\r\n`]+`|\b\w+)(?=\s*\()/,greedy:!0},{pattern:/(\.)(?:`[^\r\n`]+`|\w+)(?=\s*\{)/,lookbehind:!0,greedy:!0}],number:/\b(?:0[xX][\da-fA-F]+(?:_[\da-fA-F]+)*|0[bB][01]+(?:_[01]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?[fFL]?)\b/,operator:/\+[+=]?|-[-=>]?|==?=?|!(?:!|==?)?|[\/*%<>]=?|[?:]:?|\.\.|&&|\|\||\b(?:and|inv|or|shl|shr|ushr|xor)\b/}),delete n.languages.kotlin["class-name"];var r={"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:n.languages.kotlin}};n.languages.insertBefore("kotlin","string",{"string-literal":[{pattern:/"""(?:[^$]|\$(?:(?!\{)|\{[^{}]*\}))*?"""/,alias:"multiline",inside:{interpolation:{pattern:/\$(?:[a-z_]\w*|\{[^{}]*\})/i,inside:r},string:/[\s\S]+/}},{pattern:/"(?:[^"\\\r\n$]|\\.|\$(?:(?!\{)|\{[^{}]*\}))*"/,alias:"singleline",inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:[a-z_]\w*|\{[^{}]*\})/i,lookbehind:!0,inside:r},string:/[\s\S]+/}}],char:{pattern:/'(?:[^'\\\r\n]|\\(?:.|u[a-fA-F0-9]{0,4}))'/,greedy:!0}}),delete n.languages.kotlin.string,n.languages.insertBefore("kotlin","keyword",{annotation:{pattern:/\B@(?:\w+:)?(?:[A-Z]\w*|\[[^\]]+\])/,alias:"builtin"}}),n.languages.insertBefore("kotlin","function",{label:{pattern:/\b\w+@|@\w+\b/,alias:"symbol"}}),n.languages.kt=n.languages.kotlin,n.languages.kts=n.languages.kotlin})(e)}return CM}var RM,sQ;function W9e(){if(sQ)return RM;sQ=1,RM=t,t.displayName="kumir",t.aliases=["kum"];function t(e){(function(n){var r=/\s\x00-\x1f\x22-\x2f\x3a-\x3f\x5b-\x5e\x60\x7b-\x7e/.source;function i(a,s){return RegExp(a.replace(/<nonId>/g,r),s)}n.languages.kumir={comment:{pattern:/\|.*/},prolog:{pattern:/#.*/,greedy:!0},string:{pattern:/"[^\n\r"]*"|'[^\n\r']*'/,greedy:!0},boolean:{pattern:i(/(^|[<nonId>])(?:да|нет)(?=[<nonId>]|$)/.source),lookbehind:!0},"operator-word":{pattern:i(/(^|[<nonId>])(?:и|или|не)(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"keyword"},"system-variable":{pattern:i(/(^|[<nonId>])знач(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"keyword"},type:[{pattern:i(/(^|[<nonId>])(?:вещ|лит|лог|сим|цел)(?:\x20*таб)?(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"builtin"},{pattern:i(/(^|[<nonId>])(?:компл|сканкод|файл|цвет)(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"important"}],keyword:{pattern:i(/(^|[<nonId>])(?:алг|арг(?:\x20*рез)?|ввод|ВКЛЮЧИТЬ|вс[её]|выбор|вывод|выход|дано|для|до|дс|если|иначе|исп|использовать|кон(?:(?:\x20+|_)исп)?|кц(?:(?:\x20+|_)при)?|надо|нач|нс|нц|от|пауза|пока|при|раза?|рез|стоп|таб|то|утв|шаг)(?=[<nonId>]|$)/.source),lookbehind:!0},name:{pattern:i(/(^|[<nonId>])[^\d<nonId>][^<nonId>]*(?:\x20+[^<nonId>]+)*(?=[<nonId>]|$)/.source),lookbehind:!0},number:{pattern:i(/(^|[<nonId>])(?:\B\$[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)(?=[<nonId>]|$)/.source,"i"),lookbehind:!0},punctuation:/:=|[(),:;\[\]]/,"operator-char":{pattern:/\*\*?|<[=>]?|>=?|[-+/=]/,alias:"operator"}},n.languages.kum=n.languages.kumir})(e)}return RM}var IM,oQ;function K9e(){if(oQ)return IM;oQ=1,IM=t,t.displayName="kusto",t.aliases=[];function t(e){e.languages.kusto={comment:{pattern:/\/\/.*/,greedy:!0},string:{pattern:/```[\s\S]*?```|[hH]?(?:"(?:[^\r\n\\"]|\\.)*"|'(?:[^\r\n\\']|\\.)*'|@(?:"[^\r\n"]*"|'[^\r\n']*'))/,greedy:!0},verb:{pattern:/(\|\s*)[a-z][\w-]*/i,lookbehind:!0,alias:"keyword"},command:{pattern:/\.[a-z][a-z\d-]*\b/,alias:"keyword"},"class-name":/\b(?:bool|datetime|decimal|dynamic|guid|int|long|real|string|timespan)\b/,keyword:/\b(?:access|alias|and|anti|as|asc|auto|between|by|(?:contains|(?:ends|starts)with|has(?:perfix|suffix)?)(?:_cs)?|database|declare|desc|external|from|fullouter|has_all|in|ingestion|inline|inner|innerunique|into|(?:left|right)(?:anti(?:semi)?|inner|outer|semi)?|let|like|local|not|of|on|or|pattern|print|query_parameters|range|restrict|schema|set|step|table|tables|to|view|where|with|matches\s+regex|nulls\s+(?:first|last))(?![\w-])/,boolean:/\b(?:false|null|true)\b/,function:/\b[a-z_]\w*(?=\s*\()/,datetime:[{pattern:/\b(?:(?:Fri|Friday|Mon|Monday|Sat|Saturday|Sun|Sunday|Thu|Thursday|Tue|Tuesday|Wed|Wednesday)\s*,\s*)?\d{1,2}(?:\s+|-)(?:Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)(?:\s+|-)\d{2}\s+\d{2}:\d{2}(?::\d{2})?(?:\s*(?:\b(?:[A-Z]|(?:[ECMT][DS]|GM|U)T)|[+-]\d{4}))?\b/,alias:"number"},{pattern:/[+-]?\b(?:\d{4}-\d{2}-\d{2}(?:[ T]\d{2}:\d{2}(?::\d{2}(?:\.\d+)?)?)?|\d{2}:\d{2}(?::\d{2}(?:\.\d+)?)?)Z?/,alias:"number"}],number:/\b(?:0x[0-9A-Fa-f]+|\d+(?:\.\d+)?(?:[Ee][+-]?\d+)?)(?:(?:min|sec|[mnµ]s|[dhms]|microsecond|tick)\b)?|[+-]?\binf\b/,operator:/=>|[!=]~|[!=<>]=?|[-+*/%|]|\.\./,punctuation:/[()\[\]{},;.:]/}}return IM}var NM,lQ;function Y9e(){if(lQ)return NM;lQ=1,NM=t,t.displayName="latex",t.aliases=["tex","context"];function t(e){(function(n){var r=/\\(?:[^a-z()[\]]|[a-z*]+)/i,i={"equation-command":{pattern:r,alias:"regex"}};n.languages.latex={comment:/%.*/,cdata:{pattern:/(\\begin\{((?:lstlisting|verbatim)\*?)\})[\s\S]*?(?=\\end\{\2\})/,lookbehind:!0},equation:[{pattern:/\$\$(?:\\[\s\S]|[^\\$])+\$\$|\$(?:\\[\s\S]|[^\\$])+\$|\\\([\s\S]*?\\\)|\\\[[\s\S]*?\\\]/,inside:i,alias:"string"},{pattern:/(\\begin\{((?:align|eqnarray|equation|gather|math|multline)\*?)\})[\s\S]*?(?=\\end\{\2\})/,lookbehind:!0,inside:i,alias:"string"}],keyword:{pattern:/(\\(?:begin|cite|documentclass|end|label|ref|usepackage)(?:\[[^\]]+\])?\{)[^}]+(?=\})/,lookbehind:!0},url:{pattern:/(\\url\{)[^}]+(?=\})/,lookbehind:!0},headline:{pattern:/(\\(?:chapter|frametitle|paragraph|part|section|subparagraph|subsection|subsubparagraph|subsubsection|subsubsubparagraph)\*?(?:\[[^\]]+\])?\{)[^}]+(?=\})/,lookbehind:!0,alias:"class-name"},function:{pattern:r,alias:"selector"},punctuation:/[[\]{}&]/},n.languages.tex=n.languages.latex,n.languages.context=n.languages.latex})(e)}return NM}var OM,uQ;function vC(){if(uQ)return OM;uQ=1;var t=Sl();OM=e,e.displayName="php",e.aliases=[];function e(n){n.register(t),function(r){var i=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,a=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],s=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,o=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,l=/[{}\[\](),:;]/;r.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:i,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|new|or|parent|print|private|protected|public|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s+)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:a,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:s,operator:o,punctuation:l};var u={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:r.languages.php},d=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:u}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:u}}];r.languages.insertBefore("php","variable",{string:d,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:i,string:d,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:a,number:s,operator:o,punctuation:l}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),r.hooks.add("before-tokenize",function(h){if(/<\?/.test(h.code)){var p=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;r.languages["markup-templating"].buildPlaceholders(h,"php",p)}}),r.hooks.add("after-tokenize",function(h){r.languages["markup-templating"].tokenizePlaceholders(h,"php")})}(n)}return OM}var MM,cQ;function X9e(){if(cQ)return MM;cQ=1;var t=Sl(),e=vC();MM=n,n.displayName="latte",n.aliases=[];function n(r){r.register(t),r.register(e),function(i){i.languages.latte={comment:/^\{\*[\s\S]*/,"latte-tag":{pattern:/(^\{(?:\/(?=[a-z]))?)(?:[=_]|[a-z]\w*\b(?!\())/i,lookbehind:!0,alias:"important"},delimiter:{pattern:/^\{\/?|\}$/,alias:"punctuation"},php:{pattern:/\S(?:[\s\S]*\S)?/,alias:"language-php",inside:i.languages.php}};var a=i.languages.extend("markup",{});i.languages.insertBefore("inside","attr-value",{"n-attr":{pattern:/n:[\w-]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+))?/,inside:{"attr-name":{pattern:/^[^\s=]+/,alias:"important"},"attr-value":{pattern:/=[\s\S]+/,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}],php:{pattern:/\S(?:[\s\S]*\S)?/,inside:i.languages.php}}}}}},a.tag),i.hooks.add("before-tokenize",function(s){if(s.language==="latte"){var o=/\{\*[\s\S]*?\*\}|\{[^'"\s{}*](?:[^"'/{}]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|\/\*(?:[^*]|\*(?!\/))*\*\/)*\}/g;i.languages["markup-templating"].buildPlaceholders(s,"latte",o),s.grammar=a}}),i.hooks.add("after-tokenize",function(s){i.languages["markup-templating"].tokenizePlaceholders(s,"latte")})}(r)}return MM}var PM,dQ;function Z9e(){if(dQ)return PM;dQ=1,PM=t,t.displayName="less",t.aliases=[];function t(e){e.languages.less=e.languages.extend("css",{comment:[/\/\*[\s\S]*?\*\//,{pattern:/(^|[^\\])\/\/.*/,lookbehind:!0}],atrule:{pattern:/@[\w-](?:\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{punctuation:/[:()]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};@\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/,operator:/[+\-*\/]/}),e.languages.insertBefore("less","property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-].*?(?=[(;])/,lookbehind:!0,alias:"function"}})}return PM}var LM,hQ;function jF(){if(hQ)return LM;hQ=1,LM=t,t.displayName="scheme",t.aliases=[];function t(e){(function(n){n.languages.scheme={comment:/;.*|#;\s*(?:\((?:[^()]|\([^()]*\))*\)|\[(?:[^\[\]]|\[[^\[\]]*\])*\])|#\|(?:[^#|]|#(?!\|)|\|(?!#)|#\|(?:[^#|]|#(?!\|)|\|(?!#))*\|#)*\|#/,string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},symbol:{pattern:/'[^()\[\]#'\s]+/,greedy:!0},char:{pattern:/#\\(?:[ux][a-fA-F\d]+\b|[-a-zA-Z]+\b|[\uD800-\uDBFF][\uDC00-\uDFFF]|\S)/,greedy:!0},"lambda-parameter":[{pattern:/((?:^|[^'`#])[(\[]lambda\s+)(?:[^|()\[\]'\s]+|\|(?:[^\\|]|\\.)*\|)/,lookbehind:!0},{pattern:/((?:^|[^'`#])[(\[]lambda\s+[(\[])[^()\[\]']+/,lookbehind:!0}],keyword:{pattern:/((?:^|[^'`#])[(\[])(?:begin|case(?:-lambda)?|cond(?:-expand)?|define(?:-library|-macro|-record-type|-syntax|-values)?|defmacro|delay(?:-force)?|do|else|except|export|guard|if|import|include(?:-ci|-library-declarations)?|lambda|let(?:rec)?(?:-syntax|-values|\*)?|let\*-values|only|parameterize|prefix|(?:quasi-?)?quote|rename|set!|syntax-(?:case|rules)|unless|unquote(?:-splicing)?|when)(?=[()\[\]\s]|$)/,lookbehind:!0},builtin:{pattern:/((?:^|[^'`#])[(\[])(?:abs|and|append|apply|assoc|ass[qv]|binary-port\?|boolean=?\?|bytevector(?:-append|-copy|-copy!|-length|-u8-ref|-u8-set!|\?)?|caar|cadr|call-with-(?:current-continuation|port|values)|call\/cc|car|cdar|cddr|cdr|ceiling|char(?:->integer|-ready\?|\?|<\?|<=\?|=\?|>\?|>=\?)|close-(?:input-port|output-port|port)|complex\?|cons|current-(?:error|input|output)-port|denominator|dynamic-wind|eof-object\??|eq\?|equal\?|eqv\?|error|error-object(?:-irritants|-message|\?)|eval|even\?|exact(?:-integer-sqrt|-integer\?|\?)?|expt|features|file-error\?|floor(?:-quotient|-remainder|\/)?|flush-output-port|for-each|gcd|get-output-(?:bytevector|string)|inexact\??|input-port(?:-open\?|\?)|integer(?:->char|\?)|lcm|length|list(?:->string|->vector|-copy|-ref|-set!|-tail|\?)?|make-(?:bytevector|list|parameter|string|vector)|map|max|member|memq|memv|min|modulo|negative\?|newline|not|null\?|number(?:->string|\?)|numerator|odd\?|open-(?:input|output)-(?:bytevector|string)|or|output-port(?:-open\?|\?)|pair\?|peek-char|peek-u8|port\?|positive\?|procedure\?|quotient|raise|raise-continuable|rational\?|rationalize|read-(?:bytevector|bytevector!|char|error\?|line|string|u8)|real\?|remainder|reverse|round|set-c[ad]r!|square|string(?:->list|->number|->symbol|->utf8|->vector|-append|-copy|-copy!|-fill!|-for-each|-length|-map|-ref|-set!|\?|<\?|<=\?|=\?|>\?|>=\?)?|substring|symbol(?:->string|\?|=\?)|syntax-error|textual-port\?|truncate(?:-quotient|-remainder|\/)?|u8-ready\?|utf8->string|values|vector(?:->list|->string|-append|-copy|-copy!|-fill!|-for-each|-length|-map|-ref|-set!|\?)?|with-exception-handler|write-(?:bytevector|char|string|u8)|zero\?)(?=[()\[\]\s]|$)/,lookbehind:!0},operator:{pattern:/((?:^|[^'`#])[(\[])(?:[-+*%/]|[<>]=?|=>?)(?=[()\[\]\s]|$)/,lookbehind:!0},number:{pattern:RegExp(r({"<ureal dec>":/\d+(?:\/\d+)|(?:\d+(?:\.\d*)?|\.\d+)(?:[esfdl][+-]?\d+)?/.source,"<real dec>":/[+-]?<ureal dec>|[+-](?:inf|nan)\.0/.source,"<imaginary dec>":/[+-](?:<ureal dec>|(?:inf|nan)\.0)?i/.source,"<complex dec>":/<real dec>(?:@<real dec>|<imaginary dec>)?|<imaginary dec>/.source,"<num dec>":/(?:#d(?:#[ei])?|#[ei](?:#d)?)?<complex dec>/.source,"<ureal box>":/[0-9a-f]+(?:\/[0-9a-f]+)?/.source,"<real box>":/[+-]?<ureal box>|[+-](?:inf|nan)\.0/.source,"<imaginary box>":/[+-](?:<ureal box>|(?:inf|nan)\.0)?i/.source,"<complex box>":/<real box>(?:@<real box>|<imaginary box>)?|<imaginary box>/.source,"<num box>":/#[box](?:#[ei])?|(?:#[ei])?#[box]<complex box>/.source,"<number>":/(^|[()\[\]\s])(?:<num dec>|<num box>)(?=[()\[\]\s]|$)/.source}),"i"),lookbehind:!0},boolean:{pattern:/(^|[()\[\]\s])#(?:[ft]|false|true)(?=[()\[\]\s]|$)/,lookbehind:!0},function:{pattern:/((?:^|[^'`#])[(\[])(?:[^|()\[\]'\s]+|\|(?:[^\\|]|\\.)*\|)(?=[()\[\]\s]|$)/,lookbehind:!0},identifier:{pattern:/(^|[()\[\]\s])\|(?:[^\\|]|\\.)*\|(?=[()\[\]\s]|$)/,lookbehind:!0,greedy:!0},punctuation:/[()\[\]']/};function r(i){for(var a in i)i[a]=i[a].replace(/<[\w\s]+>/g,function(s){return"(?:"+i[s].trim()+")"});return i[a]}})(e)}return LM}var DM,fQ;function Q9e(){if(fQ)return DM;fQ=1;var t=jF();DM=e,e.displayName="lilypond",e.aliases=[];function e(n){n.register(t),function(r){for(var i=/\((?:[^();"#\\]|\\[\s\S]|;.*(?!.)|"(?:[^"\\]|\\.)*"|#(?:\{(?:(?!#\})[\s\S])*#\}|[^{])|<expr>)*\)/.source,a=5,s=0;s<a;s++)i=i.replace(/<expr>/g,function(){return i});i=i.replace(/<expr>/g,/[^\s\S]/.source);var o=r.languages.lilypond={comment:/%(?:(?!\{).*|\{[\s\S]*?%\})/,"embedded-scheme":{pattern:RegExp(/(^|[=\s])#(?:"(?:[^"\\]|\\.)*"|[^\s()"]*(?:[^\s()]|<expr>))/.source.replace(/<expr>/g,function(){return i}),"m"),lookbehind:!0,greedy:!0,inside:{scheme:{pattern:/^(#)[\s\S]+$/,lookbehind:!0,alias:"language-scheme",inside:{"embedded-lilypond":{pattern:/#\{[\s\S]*?#\}/,greedy:!0,inside:{punctuation:/^#\{|#\}$/,lilypond:{pattern:/[\s\S]+/,alias:"language-lilypond",inside:null}}},rest:r.languages.scheme}},punctuation:/#/}},string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},"class-name":{pattern:/(\\new\s+)[\w-]+/,lookbehind:!0},keyword:{pattern:/\\[a-z][-\w]*/i,inside:{punctuation:/^\\/}},operator:/[=|]|<<|>>/,punctuation:{pattern:/(^|[a-z\d])(?:'+|,+|[_^]?-[_^]?(?:[-+^!>._]|(?=\d))|[_^]\.?|[.!])|[{}()[\]<>^~]|\\[()[\]<>\\!]|--|__/,lookbehind:!0},number:/\b\d+(?:\/\d+)?\b/};o["embedded-scheme"].inside.scheme.inside["embedded-lilypond"].inside.lilypond.inside=o,r.languages.ly=o}(n)}return DM}var FM,pQ;function J9e(){if(pQ)return FM;pQ=1;var t=Sl();FM=e,e.displayName="liquid",e.aliases=[];function e(n){n.register(t),n.languages.liquid={comment:{pattern:/(^\{%\s*comment\s*%\})[\s\S]+(?=\{%\s*endcomment\s*%\}$)/,lookbehind:!0},delimiter:{pattern:/^\{(?:\{\{|[%\{])-?|-?(?:\}\}|[%\}])\}$/,alias:"punctuation"},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},keyword:/\b(?:as|assign|break|(?:end)?(?:capture|case|comment|for|form|if|paginate|raw|style|tablerow|unless)|continue|cycle|decrement|echo|else|elsif|in|include|increment|limit|liquid|offset|range|render|reversed|section|when|with)\b/,object:/\b(?:address|all_country_option_tags|article|block|blog|cart|checkout|collection|color|country|country_option_tags|currency|current_page|current_tags|customer|customer_address|date|discount_allocation|discount_application|external_video|filter|filter_value|font|forloop|fulfillment|generic_file|gift_card|group|handle|image|line_item|link|linklist|localization|location|measurement|media|metafield|model|model_source|order|page|page_description|page_image|page_title|part|policy|product|product_option|recommendations|request|robots|routes|rule|script|search|selling_plan|selling_plan_allocation|selling_plan_group|shipping_method|shop|shop_locale|sitemap|store_availability|tax_line|template|theme|transaction|unit_price_measurement|user_agent|variant|video|video_source)\b/,function:[{pattern:/(\|\s*)\w+/,lookbehind:!0,alias:"filter"},{pattern:/(\.\s*)(?:first|last|size)/,lookbehind:!0}],boolean:/\b(?:false|nil|true)\b/,range:{pattern:/\.\./,alias:"operator"},number:/\b\d+(?:\.\d+)?\b/,operator:/[!=]=|<>|[<>]=?|[|?:=-]|\b(?:and|contains(?=\s)|or)\b/,punctuation:/[.,\[\]()]/,empty:{pattern:/\bempty\b/,alias:"keyword"}},n.hooks.add("before-tokenize",function(r){var i=/\{%\s*comment\s*%\}[\s\S]*?\{%\s*endcomment\s*%\}|\{(?:%[\s\S]*?%|\{\{[\s\S]*?\}\}|\{[\s\S]*?\})\}/g,a=!1;n.languages["markup-templating"].buildPlaceholders(r,"liquid",i,function(s){var o=/^\{%-?\s*(\w+)/.exec(s);if(o){var l=o[1];if(l==="raw"&&!a)return a=!0,!0;if(l==="endraw")return a=!1,!0}return!a})}),n.hooks.add("after-tokenize",function(r){n.languages["markup-templating"].tokenizePlaceholders(r,"liquid")})}return FM}var BM,mQ;function eBe(){if(mQ)return BM;mQ=1,BM=t,t.displayName="lisp",t.aliases=[];function t(e){(function(n){function r(w){return RegExp(/(\()/.source+"(?:"+w+")"+/(?=[\s\)])/.source)}function i(w){return RegExp(/([\s([])/.source+"(?:"+w+")"+/(?=[\s)])/.source)}var a=/(?!\d)[-+*/~!@$%^=<>{}\w]+/.source,s="&"+a,o="(\\()",l="(?=\\))",u="(?=\\s)",d=/(?:[^()]|\((?:[^()]|\((?:[^()]|\((?:[^()]|\((?:[^()]|\([^()]*\))*\))*\))*\))*\))*/.source,h={heading:{pattern:/;;;.*/,alias:["comment","title"]},comment:/;.*/,string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0,inside:{argument:/[-A-Z]+(?=[.,\s])/,symbol:RegExp("`"+a+"'")}},"quoted-symbol":{pattern:RegExp("#?'"+a),alias:["variable","symbol"]},"lisp-property":{pattern:RegExp(":"+a),alias:"property"},splice:{pattern:RegExp(",@?"+a),alias:["symbol","variable"]},keyword:[{pattern:RegExp(o+"(?:and|(?:cl-)?letf|cl-loop|cond|cons|error|if|(?:lexical-)?let\\*?|message|not|null|or|provide|require|setq|unless|use-package|when|while)"+u),lookbehind:!0},{pattern:RegExp(o+"(?:append|by|collect|concat|do|finally|for|in|return)"+u),lookbehind:!0}],declare:{pattern:r(/declare/.source),lookbehind:!0,alias:"keyword"},interactive:{pattern:r(/interactive/.source),lookbehind:!0,alias:"keyword"},boolean:{pattern:i(/nil|t/.source),lookbehind:!0},number:{pattern:i(/[-+]?\d+(?:\.\d*)?/.source),lookbehind:!0},defvar:{pattern:RegExp(o+"def(?:const|custom|group|var)\\s+"+a),lookbehind:!0,inside:{keyword:/^def[a-z]+/,variable:RegExp(a)}},defun:{pattern:RegExp(o+/(?:cl-)?(?:defmacro|defun\*?)\s+/.source+a+/\s+\(/.source+d+/\)/.source),lookbehind:!0,greedy:!0,inside:{keyword:/^(?:cl-)?def\S+/,arguments:null,function:{pattern:RegExp("(^\\s)"+a),lookbehind:!0},punctuation:/[()]/}},lambda:{pattern:RegExp(o+"lambda\\s+\\(\\s*(?:&?"+a+"(?:\\s+&?"+a+")*\\s*)?\\)"),lookbehind:!0,greedy:!0,inside:{keyword:/^lambda/,arguments:null,punctuation:/[()]/}},car:{pattern:RegExp(o+a),lookbehind:!0},punctuation:[/(?:['`,]?\(|[)\[\]])/,{pattern:/(\s)\.(?=\s)/,lookbehind:!0}]},p={"lisp-marker":RegExp(s),varform:{pattern:RegExp(/\(/.source+a+/\s+(?=\S)/.source+d+/\)/.source),inside:h},argument:{pattern:RegExp(/(^|[\s(])/.source+a),lookbehind:!0,alias:"variable"},rest:h},m="\\S+(?:\\s+\\S+)*",v={pattern:RegExp(o+d+l),lookbehind:!0,inside:{"rest-vars":{pattern:RegExp("&(?:body|rest)\\s+"+m),inside:p},"other-marker-vars":{pattern:RegExp("&(?:aux|optional)\\s+"+m),inside:p},keys:{pattern:RegExp("&key\\s+"+m+"(?:\\s+&allow-other-keys)?"),inside:p},argument:{pattern:RegExp(a),alias:"variable"},punctuation:/[()]/}};h.lambda.inside.arguments=v,h.defun.inside.arguments=n.util.clone(v),h.defun.inside.arguments.inside.sublist=v,n.languages.lisp=h,n.languages.elisp=h,n.languages.emacs=h,n.languages["emacs-lisp"]=h})(e)}return BM}var UM,gQ;function tBe(){if(gQ)return UM;gQ=1,UM=t,t.displayName="livescript",t.aliases=[];function t(e){e.languages.livescript={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\])#.*/,lookbehind:!0}],"interpolated-string":{pattern:/(^|[^"])("""|")(?:\\[\s\S]|(?!\2)[^\\])*\2(?!")/,lookbehind:!0,greedy:!0,inside:{variable:{pattern:/(^|[^\\])#[a-z_](?:-?[a-z]|[\d_])*/m,lookbehind:!0},interpolation:{pattern:/(^|[^\\])#\{[^}]+\}/m,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^#\{|\}$/,alias:"variable"}}},string:/[\s\S]+/}},string:[{pattern:/('''|')(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},{pattern:/<\[[\s\S]*?\]>/,greedy:!0},/\\[^\s,;\])}]+/],regex:[{pattern:/\/\/(?:\[[^\r\n\]]*\]|\\.|(?!\/\/)[^\\\[])+\/\/[gimyu]{0,5}/,greedy:!0,inside:{comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0}}},{pattern:/\/(?:\[[^\r\n\]]*\]|\\.|[^/\\\r\n\[])+\/[gimyu]{0,5}/,greedy:!0}],keyword:{pattern:/(^|(?!-).)\b(?:break|case|catch|class|const|continue|default|do|else|extends|fallthrough|finally|for(?: ever)?|function|if|implements|it|let|loop|new|null|otherwise|own|return|super|switch|that|then|this|throw|try|unless|until|var|void|when|while|yield)(?!-)\b/m,lookbehind:!0},"keyword-operator":{pattern:/(^|[^-])\b(?:(?:delete|require|typeof)!|(?:and|by|delete|export|from|import(?: all)?|in|instanceof|is(?: not|nt)?|not|of|or|til|to|typeof|with|xor)(?!-)\b)/m,lookbehind:!0,alias:"operator"},boolean:{pattern:/(^|[^-])\b(?:false|no|off|on|true|yes)(?!-)\b/m,lookbehind:!0},argument:{pattern:/(^|(?!\.&\.)[^&])&(?!&)\d*/m,lookbehind:!0,alias:"variable"},number:/\b(?:\d+~[\da-z]+|\d[\d_]*(?:\.\d[\d_]*)?(?:[a-z]\w*)?)/i,identifier:/[a-z_](?:-?[a-z]|[\d_])*/i,operator:[{pattern:/( )\.(?= )/,lookbehind:!0},/\.(?:[=~]|\.\.?)|\.(?:[&|^]|<<|>>>?)\.|:(?:=|:=?)|&&|\|[|>]|<(?:<<?<?|--?!?|~~?!?|[|=?])?|>[>=?]?|-(?:->?|>)?|\+\+?|@@?|%%?|\*\*?|!(?:~?=|--?>|~?~>)?|~(?:~?>|=)?|==?|\^\^?|[\/?]/],punctuation:/[(){}\[\]|.,:;`]/},e.languages.livescript["interpolated-string"].inside.interpolation.inside.rest=e.languages.livescript}return UM}var jM,yQ;function nBe(){if(yQ)return jM;yQ=1,jM=t,t.displayName="llvm",t.aliases=[];function t(e){(function(n){n.languages.llvm={comment:/;.*/,string:{pattern:/"[^"]*"/,greedy:!0},boolean:/\b(?:false|true)\b/,variable:/[%@!#](?:(?!\d)(?:[-$.\w]|\\[a-f\d]{2})+|\d+)/i,label:/(?!\d)(?:[-$.\w]|\\[a-f\d]{2})+:/i,type:{pattern:/\b(?:double|float|fp128|half|i[1-9]\d*|label|metadata|ppc_fp128|token|void|x86_fp80|x86_mmx)\b/,alias:"class-name"},keyword:/\b[a-z_][a-z_0-9]*\b/,number:/[+-]?\b\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\b|\b0x[\dA-Fa-f]+\b|\b0xK[\dA-Fa-f]{20}\b|\b0x[ML][\dA-Fa-f]{32}\b|\b0xH[\dA-Fa-f]{4}\b/,punctuation:/[{}[\];(),.!*=<>]/}})(e)}return jM}var zM,bQ;function rBe(){if(bQ)return zM;bQ=1,zM=t,t.displayName="log",t.aliases=[];function t(e){e.languages.log={string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?![st] | \w)(?:[^'\\\r\n]|\\.)*'/,greedy:!0},exception:{pattern:/(^|[^\w.])[a-z][\w.]*(?:Error|Exception):.*(?:(?:\r\n?|\n)[ \t]*(?:at[ \t].+|\.{3}.*|Caused by:.*))+(?:(?:\r\n?|\n)[ \t]*\.\.\. .*)?/,lookbehind:!0,greedy:!0,alias:["javastacktrace","language-javastacktrace"],inside:e.languages.javastacktrace||{keyword:/\bat\b/,function:/[a-z_][\w$]*(?=\()/,punctuation:/[.:()]/}},level:[{pattern:/\b(?:ALERT|CRIT|CRITICAL|EMERG|EMERGENCY|ERR|ERROR|FAILURE|FATAL|SEVERE)\b/,alias:["error","important"]},{pattern:/\b(?:WARN|WARNING|WRN)\b/,alias:["warning","important"]},{pattern:/\b(?:DISPLAY|INF|INFO|NOTICE|STATUS)\b/,alias:["info","keyword"]},{pattern:/\b(?:DBG|DEBUG|FINE)\b/,alias:["debug","keyword"]},{pattern:/\b(?:FINER|FINEST|TRACE|TRC|VERBOSE|VRB)\b/,alias:["trace","comment"]}],property:{pattern:/((?:^|[\]|])[ \t]*)[a-z_](?:[\w-]|\b\/\b)*(?:[. ]\(?\w(?:[\w-]|\b\/\b)*\)?)*:(?=\s)/im,lookbehind:!0},separator:{pattern:/(^|[^-+])-{3,}|={3,}|\*{3,}|- - /m,lookbehind:!0,alias:"comment"},url:/\b(?:file|ftp|https?):\/\/[^\s|,;'"]*[^\s|,;'">.]/,email:{pattern:/(^|\s)[-\w+.]+@[a-z][a-z0-9-]*(?:\.[a-z][a-z0-9-]*)+(?=\s)/,lookbehind:!0,alias:"url"},"ip-address":{pattern:/\b(?:\d{1,3}(?:\.\d{1,3}){3})\b/,alias:"constant"},"mac-address":{pattern:/\b[a-f0-9]{2}(?::[a-f0-9]{2}){5}\b/i,alias:"constant"},domain:{pattern:/(^|\s)[a-z][a-z0-9-]*(?:\.[a-z][a-z0-9-]*)*\.[a-z][a-z0-9-]+(?=\s)/,lookbehind:!0,alias:"constant"},uuid:{pattern:/\b[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\b/i,alias:"constant"},hash:{pattern:/\b(?:[a-f0-9]{32}){1,2}\b/i,alias:"constant"},"file-path":{pattern:/\b[a-z]:[\\/][^\s|,;:(){}\[\]"']+|(^|[\s:\[\](>|])\.{0,2}\/\w[^\s|,;:(){}\[\]"']*/i,lookbehind:!0,greedy:!0,alias:"string"},date:{pattern:RegExp(/\b\d{4}[-/]\d{2}[-/]\d{2}(?:T(?=\d{1,2}:)|(?=\s\d{1,2}:))/.source+"|"+/\b\d{1,4}[-/ ](?:\d{1,2}|Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)[-/ ]\d{2,4}T?\b/.source+"|"+/\b(?:(?:Fri|Mon|Sat|Sun|Thu|Tue|Wed)(?:\s{1,2}(?:Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep))?|Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)\s{1,2}\d{1,2}\b/.source,"i"),alias:"number"},time:{pattern:/\b\d{1,2}:\d{1,2}:\d{1,2}(?:[.,:]\d+)?(?:\s?[+-]\d{2}:?\d{2}|Z)?\b/,alias:"number"},boolean:/\b(?:false|null|true)\b/i,number:{pattern:/(^|[^.\w])(?:0x[a-f0-9]+|0o[0-7]+|0b[01]+|v?\d[\da-f]*(?:\.\d+)*(?:e[+-]?\d+)?[a-z]{0,3}\b)\b(?!\.\w)/i,lookbehind:!0},operator:/[;:?<=>~/@!$%&+\-|^(){}*#]/,punctuation:/[\[\].,]/}}return zM}var $M,vQ;function iBe(){if(vQ)return $M;vQ=1,$M=t,t.displayName="lolcode",t.aliases=[];function t(e){e.languages.lolcode={comment:[/\bOBTW\s[\s\S]*?\sTLDR\b/,/\bBTW.+/],string:{pattern:/"(?::.|[^":])*"/,inside:{variable:/:\{[^}]+\}/,symbol:[/:\([a-f\d]+\)/i,/:\[[^\]]+\]/,/:[)>o":]/]},greedy:!0},number:/(?:\B-)?(?:\b\d+(?:\.\d*)?|\B\.\d+)/,symbol:{pattern:/(^|\s)(?:A )?(?:BUKKIT|NOOB|NUMBAR|NUMBR|TROOF|YARN)(?=\s|,|$)/,lookbehind:!0,inside:{keyword:/A(?=\s)/}},label:{pattern:/((?:^|\s)(?:IM IN YR|IM OUTTA YR) )[a-zA-Z]\w*/,lookbehind:!0,alias:"string"},function:{pattern:/((?:^|\s)(?:HOW IZ I|I IZ|IZ) )[a-zA-Z]\w*/,lookbehind:!0},keyword:[{pattern:/(^|\s)(?:AN|FOUND YR|GIMMEH|GTFO|HAI|HAS A|HOW IZ I|I HAS A|I IZ|IF U SAY SO|IM IN YR|IM OUTTA YR|IS NOW(?: A)?|ITZ(?: A)?|IZ|KTHX|KTHXBYE|LIEK(?: A)?|MAEK|MEBBE|MKAY|NERFIN|NO WAI|O HAI IM|O RLY\?|OIC|OMG|OMGWTF|R|SMOOSH|SRS|TIL|UPPIN|VISIBLE|WILE|WTF\?|YA RLY|YR)(?=\s|,|$)/,lookbehind:!0},/'Z(?=\s|,|$)/],boolean:{pattern:/(^|\s)(?:FAIL|WIN)(?=\s|,|$)/,lookbehind:!0},variable:{pattern:/(^|\s)IT(?=\s|,|$)/,lookbehind:!0},operator:{pattern:/(^|\s)(?:NOT|BOTH SAEM|DIFFRINT|(?:ALL|ANY|BIGGR|BOTH|DIFF|EITHER|MOD|PRODUKT|QUOSHUNT|SMALLR|SUM|WON) OF)(?=\s|,|$)/,lookbehind:!0},punctuation:/\.{3}|…|,|!/}}return $M}var qM,wQ;function aBe(){if(wQ)return qM;wQ=1,qM=t,t.displayName="magma",t.aliases=[];function t(e){e.languages.magma={output:{pattern:/^(>.*(?:\r(?:\n|(?!\n))|\n))(?!>)(?:.+|(?:\r(?:\n|(?!\n))|\n)(?!>).*)(?:(?:\r(?:\n|(?!\n))|\n)(?!>).*)*/m,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/(^|[^\\"])"(?:[^\r\n\\"]|\\.)*"/,lookbehind:!0,greedy:!0},keyword:/\b(?:_|adj|and|assert|assert2|assert3|assigned|break|by|case|cat|catch|clear|cmpeq|cmpne|continue|declare|default|delete|diff|div|do|elif|else|end|eq|error|eval|exists|exit|for|forall|forward|fprintf|freeze|function|ge|gt|if|iload|import|in|intrinsic|is|join|le|load|local|lt|meet|mod|ne|not|notadj|notin|notsubset|or|print|printf|procedure|quit|random|read|readi|repeat|require|requirege|requirerange|restore|return|save|sdiff|select|subset|then|time|to|try|until|vprint|vprintf|vtime|when|where|while|xor)\b/,boolean:/\b(?:false|true)\b/,generator:{pattern:/\b[a-z_]\w*(?=\s*<)/i,alias:"class-name"},function:/\b[a-z_]\w*(?=\s*\()/i,number:{pattern:/(^|[^\w.]|\.\.)(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?(?:_[a-z]?)?(?=$|[^\w.]|\.\.)/,lookbehind:!0},operator:/->|[-+*/^~!|#=]|:=|\.\./,punctuation:/[()[\]{}<>,;.:]/}}return qM}var HM,_Q;function sBe(){if(_Q)return HM;_Q=1,HM=t,t.displayName="makefile",t.aliases=[];function t(e){e.languages.makefile={comment:{pattern:/(^|[^\\])#(?:\\(?:\r\n|[\s\S])|[^\\\r\n])*/,lookbehind:!0},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"builtin-target":{pattern:/\.[A-Z][^:#=\s]+(?=\s*:(?!=))/,alias:"builtin"},target:{pattern:/^(?:[^:=\s]|[ \t]+(?![\s:]))+(?=\s*:(?!=))/m,alias:"symbol",inside:{variable:/\$+(?:(?!\$)[^(){}:#=\s]+|(?=[({]))/}},variable:/\$+(?:(?!\$)[^(){}:#=\s]+|\([@*%<^+?][DF]\)|(?=[({]))/,keyword:/-include\b|\b(?:define|else|endef|endif|export|ifn?def|ifn?eq|include|override|private|sinclude|undefine|unexport|vpath)\b/,function:{pattern:/(\()(?:abspath|addsuffix|and|basename|call|dir|error|eval|file|filter(?:-out)?|findstring|firstword|flavor|foreach|guile|if|info|join|lastword|load|notdir|or|origin|patsubst|realpath|shell|sort|strip|subst|suffix|value|warning|wildcard|word(?:list|s)?)(?=[ \t])/,lookbehind:!0},operator:/(?:::|[?:+!])?=|[|@]/,punctuation:/[:;(){}]/}}return HM}var VM,SQ;function oBe(){if(SQ)return VM;SQ=1,VM=t,t.displayName="markdown",t.aliases=["md"];function t(e){(function(n){var r=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function i(p){return p=p.replace(/<inner>/g,function(){return r}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+p+")")}var a=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,s=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return a}),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;n.languages.markdown=n.languages.extend("markup",{}),n.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:n.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+s+o+"(?:"+s+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+s+o+")(?:"+s+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(a),inside:n.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+s+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+s+"$"),inside:{"table-header":{pattern:RegExp(a),alias:"important",inside:n.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:i(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:i(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:i(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:i(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(p){["url","bold","italic","strike","code-snippet"].forEach(function(m){p!==m&&(n.languages.markdown[p].inside.content.inside[m]=n.languages.markdown[m])})}),n.hooks.add("after-tokenize",function(p){if(p.language!=="markdown"&&p.language!=="md")return;function m(v){if(!(!v||typeof v=="string"))for(var w=0,k=v.length;w<k;w++){var T=v[w];if(T.type!=="code"){m(T.content);continue}var C=T.content[1],N=T.content[3];if(C&&N&&C.type==="code-language"&&N.type==="code-block"&&typeof C.content=="string"){var F=C.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");F=(/[a-z][\w-]*/i.exec(F)||[""])[0].toLowerCase();var D="language-"+F;N.alias?typeof N.alias=="string"?N.alias=[N.alias,D]:N.alias.push(D):N.alias=[D]}}}m(p.tokens)}),n.hooks.add("wrap",function(p){if(p.type==="code-block"){for(var m="",v=0,w=p.classes.length;v<w;v++){var k=p.classes[v],T=/language-(.+)/.exec(k);if(T){m=T[1];break}}var C=n.languages[m];if(C)p.content=n.highlight(h(p.content.value),C,m);else if(m&&m!=="none"&&n.plugins.autoloader){var N="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);p.attributes.id=N,n.plugins.autoloader.loadLanguages(m,function(){var F=document.getElementById(N);F&&(F.innerHTML=n.highlight(F.textContent,n.languages[m],m))})}}});var l=RegExp(n.languages.markup.tag.pattern.source,"gi"),u={amp:"&",lt:"<",gt:">",quot:'"'},d=String.fromCodePoint||String.fromCharCode;function h(p){var m=p.replace(l,"");return m=m.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(v,w){if(w=w.toLowerCase(),w[0]==="#"){var k;return w[1]==="x"?k=parseInt(w.slice(2),16):k=Number(w.slice(1)),d(k)}else{var T=u[w];return T||v}}),m}n.languages.md=n.languages.markdown})(e)}return VM}var GM,xQ;function lBe(){if(xQ)return GM;xQ=1,GM=t,t.displayName="matlab",t.aliases=[];function t(e){e.languages.matlab={comment:[/%\{[\s\S]*?\}%/,/%.+/],string:{pattern:/\B'(?:''|[^'\r\n])*'/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+)?(?:[ij])?|\b[ij]\b/,keyword:/\b(?:NaN|break|case|catch|continue|else|elseif|end|for|function|if|inf|otherwise|parfor|pause|pi|return|switch|try|while)\b/,function:/\b(?!\d)\w+(?=\s*\()/,operator:/\.?[*^\/\\']|[+\-:@]|[<>=~]=?|&&?|\|\|?/,punctuation:/\.{3}|[.,;\[\](){}!]/}}return GM}var WM,EQ;function uBe(){if(EQ)return WM;EQ=1,WM=t,t.displayName="maxscript",t.aliases=[];function t(e){(function(n){var r=/\b(?:about|and|animate|as|at|attributes|by|case|catch|collect|continue|coordsys|do|else|exit|fn|for|from|function|global|if|in|local|macroscript|mapped|max|not|of|off|on|or|parameters|persistent|plugin|rcmenu|return|rollout|set|struct|then|throw|to|tool|try|undo|utility|when|where|while|with)\b/i;n.languages.maxscript={comment:{pattern:/\/\*[\s\S]*?(?:\*\/|$)|--.*/,greedy:!0},string:{pattern:/(^|[^"\\@])(?:"(?:[^"\\]|\\[\s\S])*"|@"[^"]*")/,lookbehind:!0,greedy:!0},path:{pattern:/\$(?:[\w/\\.*?]|'[^']*')*/,greedy:!0,alias:"string"},"function-call":{pattern:RegExp("((?:"+(/^/.source+"|"+/[;=<>+\-*/^({\[]/.source+"|"+/\b(?:and|by|case|catch|collect|do|else|if|in|not|or|return|then|to|try|where|while|with)\b/.source)+")[ 	]*)(?!"+r.source+")"+/[a-z_]\w*\b/.source+"(?=[ 	]*(?:"+("(?!"+r.source+")"+/[a-z_]/.source+"|"+/\d|-\.?\d/.source+"|"+/[({'"$@#?]/.source)+"))","im"),lookbehind:!0,greedy:!0,alias:"function"},"function-definition":{pattern:/(\b(?:fn|function)\s+)\w+\b/i,lookbehind:!0,alias:"function"},argument:{pattern:/\b[a-z_]\w*(?=:)/i,alias:"attr-name"},keyword:r,boolean:/\b(?:false|true)\b/,time:{pattern:/(^|[^\w.])(?:(?:(?:\d+(?:\.\d*)?|\.\d+)(?:[eEdD][+-]\d+|[LP])?[msft])+|\d+:\d+(?:\.\d*)?)(?![\w.:])/,lookbehind:!0,alias:"number"},number:[{pattern:/(^|[^\w.])(?:(?:\d+(?:\.\d*)?|\.\d+)(?:[eEdD][+-]\d+|[LP])?|0x[a-fA-F0-9]+)(?![\w.:])/,lookbehind:!0},/\b(?:e|pi)\b/],constant:/\b(?:dontcollect|ok|silentValue|undefined|unsupplied)\b/,color:{pattern:/\b(?:black|blue|brown|gray|green|orange|red|white|yellow)\b/i,alias:"constant"},operator:/[-+*/<>=!]=?|[&^?]|#(?!\()/,punctuation:/[()\[\]{}.:,;]|#(?=\()|\\$/m}})(e)}return WM}var KM,kQ;function cBe(){if(kQ)return KM;kQ=1,KM=t,t.displayName="mel",t.aliases=[];function t(e){e.languages.mel={comment:/\/\/.*/,code:{pattern:/`(?:\\.|[^\\`\r\n])*`/,greedy:!0,alias:"italic",inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"}}},string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},variable:/\$\w+/,number:/\b0x[\da-fA-F]+\b|\b\d+(?:\.\d*)?|\B\.\d+/,flag:{pattern:/-[^\d\W]\w*/,alias:"operator"},keyword:/\b(?:break|case|continue|default|do|else|float|for|global|if|in|int|matrix|proc|return|string|switch|vector|while)\b/,function:/\b\w+(?=\()|\b(?:CBG|HfAddAttractorToAS|HfAssignAS|HfBuildEqualMap|HfBuildFurFiles|HfBuildFurImages|HfCancelAFR|HfConnectASToHF|HfCreateAttractor|HfDeleteAS|HfEditAS|HfPerformCreateAS|HfRemoveAttractorFromAS|HfSelectAttached|HfSelectAttractors|HfUnAssignAS|Mayatomr|about|abs|addAttr|addAttributeEditorNodeHelp|addDynamic|addNewShelfTab|addPP|addPanelCategory|addPrefixToName|advanceToNextDrivenKey|affectedNet|affects|aimConstraint|air|alias|aliasAttr|align|alignCtx|alignCurve|alignSurface|allViewFit|ambientLight|angle|angleBetween|animCone|animCurveEditor|animDisplay|animView|annotate|appendStringArray|applicationName|applyAttrPreset|applyTake|arcLenDimContext|arcLengthDimension|arclen|arrayMapper|art3dPaintCtx|artAttrCtx|artAttrPaintVertexCtx|artAttrSkinPaintCtx|artAttrTool|artBuildPaintMenu|artFluidAttrCtx|artPuttyCtx|artSelectCtx|artSetPaintCtx|artUserPaintCtx|assignCommand|assignInputDevice|assignViewportFactories|attachCurve|attachDeviceAttr|attachSurface|attrColorSliderGrp|attrCompatibility|attrControlGrp|attrEnumOptionMenu|attrEnumOptionMenuGrp|attrFieldGrp|attrFieldSliderGrp|attrNavigationControlGrp|attrPresetEditWin|attributeExists|attributeInfo|attributeMenu|attributeQuery|autoKeyframe|autoPlace|bakeClip|bakeFluidShading|bakePartialHistory|bakeResults|bakeSimulation|basename|basenameEx|batchRender|bessel|bevel|bevelPlus|binMembership|bindSkin|blend2|blendShape|blendShapeEditor|blendShapePanel|blendTwoAttr|blindDataType|boneLattice|boundary|boxDollyCtx|boxZoomCtx|bufferCurve|buildBookmarkMenu|buildKeyframeMenu|button|buttonManip|cacheFile|cacheFileCombine|cacheFileMerge|cacheFileTrack|camera|cameraView|canCreateManip|canvas|capitalizeString|catch|catchQuiet|ceil|changeSubdivComponentDisplayLevel|changeSubdivRegion|channelBox|character|characterMap|characterOutlineEditor|characterize|chdir|checkBox|checkBoxGrp|checkDefaultRenderGlobals|choice|circle|circularFillet|clamp|clear|clearCache|clip|clipEditor|clipEditorCurrentTimeCtx|clipSchedule|clipSchedulerOutliner|clipTrimBefore|closeCurve|closeSurface|cluster|cmdFileOutput|cmdScrollFieldExecuter|cmdScrollFieldReporter|cmdShell|coarsenSubdivSelectionList|collision|color|colorAtPoint|colorEditor|colorIndex|colorIndexSliderGrp|colorSliderButtonGrp|colorSliderGrp|columnLayout|commandEcho|commandLine|commandPort|compactHairSystem|componentEditor|compositingInterop|computePolysetVolume|condition|cone|confirmDialog|connectAttr|connectControl|connectDynamic|connectJoint|connectionInfo|constrain|constrainValue|constructionHistory|container|containsMultibyte|contextInfo|control|convertFromOldLayers|convertIffToPsd|convertLightmap|convertSolidTx|convertTessellation|convertUnit|copyArray|copyFlexor|copyKey|copySkinWeights|cos|cpButton|cpCache|cpClothSet|cpCollision|cpConstraint|cpConvClothToMesh|cpForces|cpGetSolverAttr|cpPanel|cpProperty|cpRigidCollisionFilter|cpSeam|cpSetEdit|cpSetSolverAttr|cpSolver|cpSolverTypes|cpTool|cpUpdateClothUVs|createDisplayLayer|createDrawCtx|createEditor|createLayeredPsdFile|createMotionField|createNewShelf|createNode|createRenderLayer|createSubdivRegion|cross|crossProduct|ctxAbort|ctxCompletion|ctxEditMode|ctxTraverse|currentCtx|currentTime|currentTimeCtx|currentUnit|curve|curveAddPtCtx|curveCVCtx|curveEPCtx|curveEditorCtx|curveIntersect|curveMoveEPCtx|curveOnSurface|curveSketchCtx|cutKey|cycleCheck|cylinder|dagPose|date|defaultLightListCheckBox|defaultNavigation|defineDataServer|defineVirtualDevice|deformer|deg_to_rad|delete|deleteAttr|deleteShadingGroupsAndMaterials|deleteShelfTab|deleteUI|deleteUnusedBrushes|delrandstr|detachCurve|detachDeviceAttr|detachSurface|deviceEditor|devicePanel|dgInfo|dgdirty|dgeval|dgtimer|dimWhen|directKeyCtx|directionalLight|dirmap|dirname|disable|disconnectAttr|disconnectJoint|diskCache|displacementToPoly|displayAffected|displayColor|displayCull|displayLevelOfDetail|displayPref|displayRGBColor|displaySmoothness|displayStats|displayString|displaySurface|distanceDimContext|distanceDimension|doBlur|dolly|dollyCtx|dopeSheetEditor|dot|dotProduct|doubleProfileBirailSurface|drag|dragAttrContext|draggerContext|dropoffLocator|duplicate|duplicateCurve|duplicateSurface|dynCache|dynControl|dynExport|dynExpression|dynGlobals|dynPaintEditor|dynParticleCtx|dynPref|dynRelEdPanel|dynRelEditor|dynamicLoad|editAttrLimits|editDisplayLayerGlobals|editDisplayLayerMembers|editRenderLayerAdjustment|editRenderLayerGlobals|editRenderLayerMembers|editor|editorTemplate|effector|emit|emitter|enableDevice|encodeString|endString|endsWith|env|equivalent|equivalentTol|erf|error|eval|evalDeferred|evalEcho|event|exactWorldBoundingBox|exclusiveLightCheckBox|exec|executeForEachObject|exists|exp|expression|expressionEditorListen|extendCurve|extendSurface|extrude|fcheck|fclose|feof|fflush|fgetline|fgetword|file|fileBrowserDialog|fileDialog|fileExtension|fileInfo|filetest|filletCurve|filter|filterCurve|filterExpand|filterStudioImport|findAllIntersections|findAnimCurves|findKeyframe|findMenuItem|findRelatedSkinCluster|finder|firstParentOf|fitBspline|flexor|floatEq|floatField|floatFieldGrp|floatScrollBar|floatSlider|floatSlider2|floatSliderButtonGrp|floatSliderGrp|floor|flow|fluidCacheInfo|fluidEmitter|fluidVoxelInfo|flushUndo|fmod|fontDialog|fopen|formLayout|format|fprint|frameLayout|fread|freeFormFillet|frewind|fromNativePath|fwrite|gamma|gauss|geometryConstraint|getApplicationVersionAsFloat|getAttr|getClassification|getDefaultBrush|getFileList|getFluidAttr|getInputDeviceRange|getMayaPanelTypes|getModifiers|getPanel|getParticleAttr|getPluginResource|getenv|getpid|glRender|glRenderEditor|globalStitch|gmatch|goal|gotoBindPose|grabColor|gradientControl|gradientControlNoAttr|graphDollyCtx|graphSelectContext|graphTrackCtx|gravity|grid|gridLayout|group|groupObjectsByName|hardenPointCurve|hardware|hardwareRenderPanel|headsUpDisplay|headsUpMessage|help|helpLine|hermite|hide|hilite|hitTest|hotBox|hotkey|hotkeyCheck|hsv_to_rgb|hudButton|hudSlider|hudSliderButton|hwReflectionMap|hwRender|hwRenderLoad|hyperGraph|hyperPanel|hyperShade|hypot|iconTextButton|iconTextCheckBox|iconTextRadioButton|iconTextRadioCollection|iconTextScrollList|iconTextStaticLabel|ikHandle|ikHandleCtx|ikHandleDisplayScale|ikSolver|ikSplineHandleCtx|ikSystem|ikSystemInfo|ikfkDisplayMethod|illustratorCurves|image|imfPlugins|inheritTransform|insertJoint|insertJointCtx|insertKeyCtx|insertKnotCurve|insertKnotSurface|instance|instanceable|instancer|intField|intFieldGrp|intScrollBar|intSlider|intSliderGrp|interToUI|internalVar|intersect|iprEngine|isAnimCurve|isConnected|isDirty|isParentOf|isSameObject|isTrue|isValidObjectName|isValidString|isValidUiName|isolateSelect|itemFilter|itemFilterAttr|itemFilterRender|itemFilterType|joint|jointCluster|jointCtx|jointDisplayScale|jointLattice|keyTangent|keyframe|keyframeOutliner|keyframeRegionCurrentTimeCtx|keyframeRegionDirectKeyCtx|keyframeRegionDollyCtx|keyframeRegionInsertKeyCtx|keyframeRegionMoveKeyCtx|keyframeRegionScaleKeyCtx|keyframeRegionSelectKeyCtx|keyframeRegionSetKeyCtx|keyframeRegionTrackCtx|keyframeStats|lassoContext|lattice|latticeDeformKeyCtx|launch|launchImageEditor|layerButton|layeredShaderPort|layeredTexturePort|layout|layoutDialog|lightList|lightListEditor|lightListPanel|lightlink|lineIntersection|linearPrecision|linstep|listAnimatable|listAttr|listCameras|listConnections|listDeviceAttachments|listHistory|listInputDeviceAxes|listInputDeviceButtons|listInputDevices|listMenuAnnotation|listNodeTypes|listPanelCategories|listRelatives|listSets|listTransforms|listUnselected|listerEditor|loadFluid|loadNewShelf|loadPlugin|loadPluginLanguageResources|loadPrefObjects|localizedPanelLabel|lockNode|loft|log|longNameOf|lookThru|ls|lsThroughFilter|lsType|lsUI|mag|makeIdentity|makeLive|makePaintable|makeRoll|makeSingleSurface|makeTubeOn|makebot|manipMoveContext|manipMoveLimitsCtx|manipOptions|manipRotateContext|manipRotateLimitsCtx|manipScaleContext|manipScaleLimitsCtx|marker|match|max|memory|menu|menuBarLayout|menuEditor|menuItem|menuItemToShelf|menuSet|menuSetPref|messageLine|min|minimizeApp|mirrorJoint|modelCurrentTimeCtx|modelEditor|modelPanel|mouse|movIn|movOut|move|moveIKtoFK|moveKeyCtx|moveVertexAlongDirection|multiProfileBirailSurface|mute|nParticle|nameCommand|nameField|namespace|namespaceInfo|newPanelItems|newton|nodeCast|nodeIconButton|nodeOutliner|nodePreset|nodeType|noise|nonLinear|normalConstraint|normalize|nurbsBoolean|nurbsCopyUVSet|nurbsCube|nurbsEditUV|nurbsPlane|nurbsSelect|nurbsSquare|nurbsToPoly|nurbsToPolygonsPref|nurbsToSubdiv|nurbsToSubdivPref|nurbsUVSet|nurbsViewDirectionVector|objExists|objectCenter|objectLayer|objectType|objectTypeUI|obsoleteProc|oceanNurbsPreviewPlane|offsetCurve|offsetCurveOnSurface|offsetSurface|openGLExtension|openMayaPref|optionMenu|optionMenuGrp|optionVar|orbit|orbitCtx|orientConstraint|outlinerEditor|outlinerPanel|overrideModifier|paintEffectsDisplay|pairBlend|palettePort|paneLayout|panel|panelConfiguration|panelHistory|paramDimContext|paramDimension|paramLocator|parent|parentConstraint|particle|particleExists|particleInstancer|particleRenderInfo|partition|pasteKey|pathAnimation|pause|pclose|percent|performanceOptions|pfxstrokes|pickWalk|picture|pixelMove|planarSrf|plane|play|playbackOptions|playblast|plugAttr|plugNode|pluginInfo|pluginResourceUtil|pointConstraint|pointCurveConstraint|pointLight|pointMatrixMult|pointOnCurve|pointOnSurface|pointPosition|poleVectorConstraint|polyAppend|polyAppendFacetCtx|polyAppendVertex|polyAutoProjection|polyAverageNormal|polyAverageVertex|polyBevel|polyBlendColor|polyBlindData|polyBoolOp|polyBridgeEdge|polyCacheMonitor|polyCheck|polyChipOff|polyClipboard|polyCloseBorder|polyCollapseEdge|polyCollapseFacet|polyColorBlindData|polyColorDel|polyColorPerVertex|polyColorSet|polyCompare|polyCone|polyCopyUV|polyCrease|polyCreaseCtx|polyCreateFacet|polyCreateFacetCtx|polyCube|polyCut|polyCutCtx|polyCylinder|polyCylindricalProjection|polyDelEdge|polyDelFacet|polyDelVertex|polyDuplicateAndConnect|polyDuplicateEdge|polyEditUV|polyEditUVShell|polyEvaluate|polyExtrudeEdge|polyExtrudeFacet|polyExtrudeVertex|polyFlipEdge|polyFlipUV|polyForceUV|polyGeoSampler|polyHelix|polyInfo|polyInstallAction|polyLayoutUV|polyListComponentConversion|polyMapCut|polyMapDel|polyMapSew|polyMapSewMove|polyMergeEdge|polyMergeEdgeCtx|polyMergeFacet|polyMergeFacetCtx|polyMergeUV|polyMergeVertex|polyMirrorFace|polyMoveEdge|polyMoveFacet|polyMoveFacetUV|polyMoveUV|polyMoveVertex|polyNormal|polyNormalPerVertex|polyNormalizeUV|polyOptUvs|polyOptions|polyOutput|polyPipe|polyPlanarProjection|polyPlane|polyPlatonicSolid|polyPoke|polyPrimitive|polyPrism|polyProjection|polyPyramid|polyQuad|polyQueryBlindData|polyReduce|polySelect|polySelectConstraint|polySelectConstraintMonitor|polySelectCtx|polySelectEditCtx|polySeparate|polySetToFaceNormal|polySewEdge|polyShortestPathCtx|polySmooth|polySoftEdge|polySphere|polySphericalProjection|polySplit|polySplitCtx|polySplitEdge|polySplitRing|polySplitVertex|polyStraightenUVBorder|polySubdivideEdge|polySubdivideFacet|polyToSubdiv|polyTorus|polyTransfer|polyTriangulate|polyUVSet|polyUnite|polyWedgeFace|popen|popupMenu|pose|pow|preloadRefEd|print|progressBar|progressWindow|projFileViewer|projectCurve|projectTangent|projectionContext|projectionManip|promptDialog|propModCtx|propMove|psdChannelOutliner|psdEditTextureFile|psdExport|psdTextureFile|putenv|pwd|python|querySubdiv|quit|rad_to_deg|radial|radioButton|radioButtonGrp|radioCollection|radioMenuItemCollection|rampColorPort|rand|randomizeFollicles|randstate|rangeControl|readTake|rebuildCurve|rebuildSurface|recordAttr|recordDevice|redo|reference|referenceEdit|referenceQuery|refineSubdivSelectionList|refresh|refreshAE|registerPluginResource|rehash|reloadImage|removeJoint|removeMultiInstance|removePanelCategory|rename|renameAttr|renameSelectionList|renameUI|render|renderGlobalsNode|renderInfo|renderLayerButton|renderLayerParent|renderLayerPostProcess|renderLayerUnparent|renderManip|renderPartition|renderQualityNode|renderSettings|renderThumbnailUpdate|renderWindowEditor|renderWindowSelectContext|renderer|reorder|reorderDeformers|requires|reroot|resampleFluid|resetAE|resetPfxToPolyCamera|resetTool|resolutionNode|retarget|reverseCurve|reverseSurface|revolve|rgb_to_hsv|rigidBody|rigidSolver|roll|rollCtx|rootOf|rot|rotate|rotationInterpolation|roundConstantRadius|rowColumnLayout|rowLayout|runTimeCommand|runup|sampleImage|saveAllShelves|saveAttrPreset|saveFluid|saveImage|saveInitialState|saveMenu|savePrefObjects|savePrefs|saveShelf|saveToolSettings|scale|scaleBrushBrightness|scaleComponents|scaleConstraint|scaleKey|scaleKeyCtx|sceneEditor|sceneUIReplacement|scmh|scriptCtx|scriptEditorInfo|scriptJob|scriptNode|scriptTable|scriptToShelf|scriptedPanel|scriptedPanelType|scrollField|scrollLayout|sculpt|searchPathArray|seed|selLoadSettings|select|selectContext|selectCurveCV|selectKey|selectKeyCtx|selectKeyframeRegionCtx|selectMode|selectPref|selectPriority|selectType|selectedNodes|selectionConnection|separator|setAttr|setAttrEnumResource|setAttrMapping|setAttrNiceNameResource|setConstraintRestPosition|setDefaultShadingGroup|setDrivenKeyframe|setDynamic|setEditCtx|setEditor|setFluidAttr|setFocus|setInfinity|setInputDeviceMapping|setKeyCtx|setKeyPath|setKeyframe|setKeyframeBlendshapeTargetWts|setMenuMode|setNodeNiceNameResource|setNodeTypeFlag|setParent|setParticleAttr|setPfxToPolyCamera|setPluginResource|setProject|setStampDensity|setStartupMessage|setState|setToolTo|setUITemplate|setXformManip|sets|shadingConnection|shadingGeometryRelCtx|shadingLightRelCtx|shadingNetworkCompare|shadingNode|shapeCompare|shelfButton|shelfLayout|shelfTabLayout|shellField|shortNameOf|showHelp|showHidden|showManipCtx|showSelectionInTitle|showShadingGroupAttrEditor|showWindow|sign|simplify|sin|singleProfileBirailSurface|size|sizeBytes|skinCluster|skinPercent|smoothCurve|smoothTangentSurface|smoothstep|snap2to2|snapKey|snapMode|snapTogetherCtx|snapshot|soft|softMod|softModCtx|sort|sound|soundControl|source|spaceLocator|sphere|sphrand|spotLight|spotLightPreviewPort|spreadSheetEditor|spring|sqrt|squareSurface|srtContext|stackTrace|startString|startsWith|stitchAndExplodeShell|stitchSurface|stitchSurfacePoints|strcmp|stringArrayCatenate|stringArrayContains|stringArrayCount|stringArrayInsertAtIndex|stringArrayIntersector|stringArrayRemove|stringArrayRemoveAtIndex|stringArrayRemoveDuplicates|stringArrayRemoveExact|stringArrayToString|stringToStringArray|strip|stripPrefixFromName|stroke|subdAutoProjection|subdCleanTopology|subdCollapse|subdDuplicateAndConnect|subdEditUV|subdListComponentConversion|subdMapCut|subdMapSewMove|subdMatchTopology|subdMirror|subdToBlind|subdToPoly|subdTransferUVsToCache|subdiv|subdivCrease|subdivDisplaySmoothness|substitute|substituteAllString|substituteGeometry|substring|surface|surfaceSampler|surfaceShaderList|swatchDisplayPort|switchTable|symbolButton|symbolCheckBox|sysFile|system|tabLayout|tan|tangentConstraint|texLatticeDeformContext|texManipContext|texMoveContext|texMoveUVShellContext|texRotateContext|texScaleContext|texSelectContext|texSelectShortestPathCtx|texSmudgeUVContext|texWinToolCtx|text|textCurves|textField|textFieldButtonGrp|textFieldGrp|textManip|textScrollList|textToShelf|textureDisplacePlane|textureHairColor|texturePlacementContext|textureWindow|threadCount|threePointArcCtx|timeControl|timePort|timerX|toNativePath|toggle|toggleAxis|toggleWindowVisibility|tokenize|tokenizeList|tolerance|tolower|toolButton|toolCollection|toolDropped|toolHasOptions|toolPropertyWindow|torus|toupper|trace|track|trackCtx|transferAttributes|transformCompare|transformLimits|translator|trim|trunc|truncateFluidCache|truncateHairCache|tumble|tumbleCtx|turbulence|twoPointArcCtx|uiRes|uiTemplate|unassignInputDevice|undo|undoInfo|ungroup|uniform|unit|unloadPlugin|untangleUV|untitledFileName|untrim|upAxis|updateAE|userCtx|uvLink|uvSnapshot|validateShelfName|vectorize|view2dToolCtx|viewCamera|viewClipPlane|viewFit|viewHeadOn|viewLookAt|viewManip|viewPlace|viewSet|visor|volumeAxis|vortex|waitCursor|warning|webBrowser|webBrowserPrefs|whatIs|window|windowPref|wire|wireContext|workspace|wrinkle|wrinkleContext|writeTake|xbmLangPathList|xform)\b/,operator:[/\+[+=]?|-[-=]?|&&|\|\||[<>]=|[*\/!=]=?|[%^]/,{pattern:/(^|[^<])<(?!<)/,lookbehind:!0},{pattern:/(^|[^>])>(?!>)/,lookbehind:!0}],punctuation:/<<|>>|[.,:;?\[\](){}]/},e.languages.mel.code.inside.rest=e.languages.mel}return KM}var YM,TQ;function dBe(){if(TQ)return YM;TQ=1,YM=t,t.displayName="mermaid",t.aliases=[];function t(e){e.languages.mermaid={comment:{pattern:/%%.*/,greedy:!0},style:{pattern:/^([ \t]*(?:classDef|linkStyle|style)[ \t]+[\w$-]+[ \t]+)\w.*[^\s;]/m,lookbehind:!0,inside:{property:/\b\w[\w-]*(?=[ \t]*:)/,operator:/:/,punctuation:/,/}},"inter-arrow-label":{pattern:/([^<>ox.=-])(?:-[-.]|==)(?![<>ox.=-])[ \t]*(?:"[^"\r\n]*"|[^\s".=-](?:[^\r\n.=-]*[^\s.=-])?)[ \t]*(?:\.+->?|--+[->]|==+[=>])(?![<>ox.=-])/,lookbehind:!0,greedy:!0,inside:{arrow:{pattern:/(?:\.+->?|--+[->]|==+[=>])$/,alias:"operator"},label:{pattern:/^([\s\S]{2}[ \t]*)\S(?:[\s\S]*\S)?/,lookbehind:!0,alias:"property"},"arrow-head":{pattern:/^\S+/,alias:["arrow","operator"]}}},arrow:[{pattern:/(^|[^{}|o.-])[|}][|o](?:--|\.\.)[|o][|{](?![{}|o.-])/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>ox.=-])(?:[<ox](?:==+|--+|-\.*-)[>ox]?|(?:==+|--+|-\.*-)[>ox]|===+|---+|-\.+-)(?![<>ox.=-])/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>()x-])(?:--?(?:>>|[x>)])(?![<>()x])|(?:<<|[x<(])--?(?!-))/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>|*o.-])(?:[*o]--|--[*o]|<\|?(?:--|\.\.)|(?:--|\.\.)\|?>|--|\.\.)(?![<>|*o.-])/,lookbehind:!0,alias:"operator"}],label:{pattern:/(^|[^|<])\|(?:[^\r\n"|]|"[^"\r\n]*")+\|/,lookbehind:!0,greedy:!0,alias:"property"},text:{pattern:/(?:[(\[{]+|\b>)(?:[^\r\n"()\[\]{}]|"[^"\r\n]*")+(?:[)\]}]+|>)/,alias:"string"},string:{pattern:/"[^"\r\n]*"/,greedy:!0},annotation:{pattern:/<<(?:abstract|choice|enumeration|fork|interface|join|service)>>|\[\[(?:choice|fork|join)\]\]/i,alias:"important"},keyword:[{pattern:/(^[ \t]*)(?:action|callback|class|classDef|classDiagram|click|direction|erDiagram|flowchart|gantt|gitGraph|graph|journey|link|linkStyle|pie|requirementDiagram|sequenceDiagram|stateDiagram|stateDiagram-v2|style|subgraph)(?![\w$-])/m,lookbehind:!0,greedy:!0},{pattern:/(^[ \t]*)(?:activate|alt|and|as|autonumber|deactivate|else|end(?:[ \t]+note)?|loop|opt|par|participant|rect|state|note[ \t]+(?:over|(?:left|right)[ \t]+of))(?![\w$-])/im,lookbehind:!0,greedy:!0}],entity:/#[a-z0-9]+;/,operator:{pattern:/(\w[ \t]*)&(?=[ \t]*\w)|:::|:/,lookbehind:!0},punctuation:/[(){};]/}}return YM}var XM,AQ;function hBe(){if(AQ)return XM;AQ=1,XM=t,t.displayName="mizar",t.aliases=[];function t(e){e.languages.mizar={comment:/::.+/,keyword:/@proof\b|\b(?:according|aggregate|all|and|antonym|are|as|associativity|assume|asymmetry|attr|be|begin|being|by|canceled|case|cases|clusters?|coherence|commutativity|compatibility|connectedness|consider|consistency|constructors|contradiction|correctness|def|deffunc|define|definitions?|defpred|do|does|end|environ|equals|ex|exactly|existence|for|from|func|given|hence|hereby|holds|idempotence|identity|iff?|implies|involutiveness|irreflexivity|is|it|let|means|mode|non|not|notations?|now|of|or|otherwise|over|per|pred|prefix|projectivity|proof|provided|qua|reconsider|redefine|reduce|reducibility|reflexivity|registrations?|requirements|reserve|sch|schemes?|section|selector|set|sethood|st|struct|such|suppose|symmetry|synonym|take|that|the|then|theorems?|thesis|thus|to|transitivity|uniqueness|vocabular(?:ies|y)|when|where|with|wrt)\b/,parameter:{pattern:/\$(?:10|\d)/,alias:"variable"},variable:/\b\w+(?=:)/,number:/(?:\b|-)\d+\b/,operator:/\.\.\.|->|&|\.?=/,punctuation:/\(#|#\)|[,:;\[\](){}]/}}return XM}var ZM,CQ;function fBe(){if(CQ)return ZM;CQ=1,ZM=t,t.displayName="mongodb",t.aliases=[];function t(e){(function(n){var r=["$eq","$gt","$gte","$in","$lt","$lte","$ne","$nin","$and","$not","$nor","$or","$exists","$type","$expr","$jsonSchema","$mod","$regex","$text","$where","$geoIntersects","$geoWithin","$near","$nearSphere","$all","$elemMatch","$size","$bitsAllClear","$bitsAllSet","$bitsAnyClear","$bitsAnySet","$comment","$elemMatch","$meta","$slice","$currentDate","$inc","$min","$max","$mul","$rename","$set","$setOnInsert","$unset","$addToSet","$pop","$pull","$push","$pullAll","$each","$position","$slice","$sort","$bit","$addFields","$bucket","$bucketAuto","$collStats","$count","$currentOp","$facet","$geoNear","$graphLookup","$group","$indexStats","$limit","$listLocalSessions","$listSessions","$lookup","$match","$merge","$out","$planCacheStats","$project","$redact","$replaceRoot","$replaceWith","$sample","$set","$skip","$sort","$sortByCount","$unionWith","$unset","$unwind","$setWindowFields","$abs","$accumulator","$acos","$acosh","$add","$addToSet","$allElementsTrue","$and","$anyElementTrue","$arrayElemAt","$arrayToObject","$asin","$asinh","$atan","$atan2","$atanh","$avg","$binarySize","$bsonSize","$ceil","$cmp","$concat","$concatArrays","$cond","$convert","$cos","$dateFromParts","$dateToParts","$dateFromString","$dateToString","$dayOfMonth","$dayOfWeek","$dayOfYear","$degreesToRadians","$divide","$eq","$exp","$filter","$first","$floor","$function","$gt","$gte","$hour","$ifNull","$in","$indexOfArray","$indexOfBytes","$indexOfCP","$isArray","$isNumber","$isoDayOfWeek","$isoWeek","$isoWeekYear","$last","$last","$let","$literal","$ln","$log","$log10","$lt","$lte","$ltrim","$map","$max","$mergeObjects","$meta","$min","$millisecond","$minute","$mod","$month","$multiply","$ne","$not","$objectToArray","$or","$pow","$push","$radiansToDegrees","$range","$reduce","$regexFind","$regexFindAll","$regexMatch","$replaceOne","$replaceAll","$reverseArray","$round","$rtrim","$second","$setDifference","$setEquals","$setIntersection","$setIsSubset","$setUnion","$size","$sin","$slice","$split","$sqrt","$stdDevPop","$stdDevSamp","$strcasecmp","$strLenBytes","$strLenCP","$substr","$substrBytes","$substrCP","$subtract","$sum","$switch","$tan","$toBool","$toDate","$toDecimal","$toDouble","$toInt","$toLong","$toObjectId","$toString","$toLower","$toUpper","$trim","$trunc","$type","$week","$year","$zip","$count","$dateAdd","$dateDiff","$dateSubtract","$dateTrunc","$getField","$rand","$sampleRate","$setField","$unsetField","$comment","$explain","$hint","$max","$maxTimeMS","$min","$orderby","$query","$returnKey","$showDiskLoc","$natural"],i=["ObjectId","Code","BinData","DBRef","Timestamp","NumberLong","NumberDecimal","MaxKey","MinKey","RegExp","ISODate","UUID"];r=r.map(function(s){return s.replace("$","\\$")});var a="(?:"+r.join("|")+")\\b";n.languages.mongodb=n.languages.extend("javascript",{}),n.languages.insertBefore("mongodb","string",{property:{pattern:/(?:(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)(?=\s*:)/,greedy:!0,inside:{keyword:RegExp(`^(['"])?`+a+"(?:\\1)?$")}}}),n.languages.mongodb.string.inside={url:{pattern:/https?:\/\/[-\w@:%.+~#=]{1,256}\.[a-z0-9()]{1,6}\b[-\w()@:%+.~#?&/=]*/i,greedy:!0},entity:{pattern:/\b(?:(?:[01]?\d\d?|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d\d?|2[0-4]\d|25[0-5])\b/,greedy:!0}},n.languages.insertBefore("mongodb","constant",{builtin:{pattern:RegExp("\\b(?:"+i.join("|")+")\\b"),alias:"keyword"}})})(e)}return ZM}var QM,RQ;function pBe(){if(RQ)return QM;RQ=1,QM=t,t.displayName="monkey",t.aliases=[];function t(e){e.languages.monkey={comment:{pattern:/^#Rem\s[\s\S]*?^#End|'.+/im,greedy:!0},string:{pattern:/"[^"\r\n]*"/,greedy:!0},preprocessor:{pattern:/(^[ \t]*)#.+/m,lookbehind:!0,greedy:!0,alias:"property"},function:/\b\w+(?=\()/,"type-char":{pattern:/\b[?%#$]/,alias:"class-name"},number:{pattern:/((?:\.\.)?)(?:(?:\b|\B-\.?|\B\.)\d+(?:(?!\.\.)\.\d*)?|\$[\da-f]+)/i,lookbehind:!0},keyword:/\b(?:Abstract|Array|Bool|Case|Catch|Class|Const|Continue|Default|Eachin|Else|ElseIf|End|EndIf|Exit|Extends|Extern|False|Field|Final|Float|For|Forever|Function|Global|If|Implements|Import|Inline|Int|Interface|Local|Method|Module|New|Next|Null|Object|Private|Property|Public|Repeat|Return|Select|Self|Step|Strict|String|Super|Then|Throw|To|True|Try|Until|Void|Wend|While)\b/i,operator:/\.\.|<[=>]?|>=?|:?=|(?:[+\-*\/&~|]|\b(?:Mod|Shl|Shr)\b)=?|\b(?:And|Not|Or)\b/i,punctuation:/[.,:;()\[\]]/}}return QM}var JM,IQ;function mBe(){if(IQ)return JM;IQ=1,JM=t,t.displayName="moonscript",t.aliases=["moon"];function t(e){e.languages.moonscript={comment:/--.*/,string:[{pattern:/'[^']*'|\[(=*)\[[\s\S]*?\]\1\]/,greedy:!0},{pattern:/"[^"]*"/,greedy:!0,inside:{interpolation:{pattern:/#\{[^{}]*\}/,inside:{moonscript:{pattern:/(^#\{)[\s\S]+(?=\})/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/#\{|\}/,alias:"punctuation"}}}}}],"class-name":[{pattern:/(\b(?:class|extends)[ \t]+)\w+/,lookbehind:!0},/\b[A-Z]\w*/],keyword:/\b(?:class|continue|do|else|elseif|export|extends|for|from|if|import|in|local|nil|return|self|super|switch|then|unless|using|when|while|with)\b/,variable:/@@?\w*/,property:{pattern:/\b(?!\d)\w+(?=:)|(:)(?!\d)\w+/,lookbehind:!0},function:{pattern:/\b(?:_G|_VERSION|assert|collectgarbage|coroutine\.(?:create|resume|running|status|wrap|yield)|debug\.(?:debug|getfenv|gethook|getinfo|getlocal|getmetatable|getregistry|getupvalue|setfenv|sethook|setlocal|setmetatable|setupvalue|traceback)|dofile|error|getfenv|getmetatable|io\.(?:close|flush|input|lines|open|output|popen|read|stderr|stdin|stdout|tmpfile|type|write)|ipairs|load|loadfile|loadstring|math\.(?:abs|acos|asin|atan|atan2|ceil|cos|cosh|deg|exp|floor|fmod|frexp|ldexp|log|log10|max|min|modf|pi|pow|rad|random|randomseed|sin|sinh|sqrt|tan|tanh)|module|next|os\.(?:clock|date|difftime|execute|exit|getenv|remove|rename|setlocale|time|tmpname)|package\.(?:cpath|loaded|loadlib|path|preload|seeall)|pairs|pcall|print|rawequal|rawget|rawset|require|select|setfenv|setmetatable|string\.(?:byte|char|dump|find|format|gmatch|gsub|len|lower|match|rep|reverse|sub|upper)|table\.(?:concat|insert|maxn|remove|sort)|tonumber|tostring|type|unpack|xpcall)\b/,inside:{punctuation:/\./}},boolean:/\b(?:false|true)\b/,number:/(?:\B\.\d+|\b\d+\.\d+|\b\d+(?=[eE]))(?:[eE][-+]?\d+)?\b|\b(?:0x[a-fA-F\d]+|\d+)(?:U?LL)?\b/,operator:/\.{3}|[-=]>|~=|(?:[-+*/%<>!=]|\.\.)=?|[:#^]|\b(?:and|or)\b=?|\b(?:not)\b/,punctuation:/[.,()[\]{}\\]/},e.languages.moonscript.string[1].inside.interpolation.inside.moonscript.inside=e.languages.moonscript,e.languages.moon=e.languages.moonscript}return JM}var eP,NQ;function gBe(){if(NQ)return eP;NQ=1,eP=t,t.displayName="n1ql",t.aliases=[];function t(e){e.languages.n1ql={comment:{pattern:/\/\*[\s\S]*?(?:$|\*\/)|--.*/,greedy:!0},string:{pattern:/(["'])(?:\\[\s\S]|(?!\1)[^\\]|\1\1)*\1/,greedy:!0},identifier:{pattern:/`(?:\\[\s\S]|[^\\`]|``)*`/,greedy:!0},parameter:/\$[\w.]+/,keyword:/\b(?:ADVISE|ALL|ALTER|ANALYZE|AS|ASC|AT|BEGIN|BINARY|BOOLEAN|BREAK|BUCKET|BUILD|BY|CALL|CAST|CLUSTER|COLLATE|COLLECTION|COMMIT|COMMITTED|CONNECT|CONTINUE|CORRELATE|CORRELATED|COVER|CREATE|CURRENT|DATABASE|DATASET|DATASTORE|DECLARE|DECREMENT|DELETE|DERIVED|DESC|DESCRIBE|DISTINCT|DO|DROP|EACH|ELEMENT|EXCEPT|EXCLUDE|EXECUTE|EXPLAIN|FETCH|FILTER|FLATTEN|FLUSH|FOLLOWING|FOR|FORCE|FROM|FTS|FUNCTION|GOLANG|GRANT|GROUP|GROUPS|GSI|HASH|HAVING|IF|IGNORE|ILIKE|INCLUDE|INCREMENT|INDEX|INFER|INLINE|INNER|INSERT|INTERSECT|INTO|IS|ISOLATION|JAVASCRIPT|JOIN|KEY|KEYS|KEYSPACE|KNOWN|LANGUAGE|LAST|LEFT|LET|LETTING|LEVEL|LIMIT|LSM|MAP|MAPPING|MATCHED|MATERIALIZED|MERGE|MINUS|MISSING|NAMESPACE|NEST|NL|NO|NTH_VALUE|NULL|NULLS|NUMBER|OBJECT|OFFSET|ON|OPTION|OPTIONS|ORDER|OTHERS|OUTER|OVER|PARSE|PARTITION|PASSWORD|PATH|POOL|PRECEDING|PREPARE|PRIMARY|PRIVATE|PRIVILEGE|PROBE|PROCEDURE|PUBLIC|RANGE|RAW|REALM|REDUCE|RENAME|RESPECT|RETURN|RETURNING|REVOKE|RIGHT|ROLE|ROLLBACK|ROW|ROWS|SATISFIES|SAVEPOINT|SCHEMA|SCOPE|SELECT|SELF|SEMI|SET|SHOW|SOME|START|STATISTICS|STRING|SYSTEM|TIES|TO|TRAN|TRANSACTION|TRIGGER|TRUNCATE|UNBOUNDED|UNDER|UNION|UNIQUE|UNKNOWN|UNNEST|UNSET|UPDATE|UPSERT|USE|USER|USING|VALIDATE|VALUE|VALUES|VIA|VIEW|WHERE|WHILE|WINDOW|WITH|WORK|XOR)\b/i,function:/\b[a-z_]\w*(?=\s*\()/i,boolean:/\b(?:FALSE|TRUE)\b/i,number:/(?:\b\d+\.|\B\.)\d+e[+\-]?\d+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/%]|!=|==?|\|\||<[>=]?|>=?|\b(?:AND|ANY|ARRAY|BETWEEN|CASE|ELSE|END|EVERY|EXISTS|FIRST|IN|LIKE|NOT|OR|THEN|VALUED|WHEN|WITHIN)\b/i,punctuation:/[;[\](),.{}:]/}}return eP}var tP,OQ;function yBe(){if(OQ)return tP;OQ=1,tP=t,t.displayName="n4js",t.aliases=["n4jsd"];function t(e){e.languages.n4js=e.languages.extend("javascript",{keyword:/\b(?:Array|any|boolean|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|module|new|null|number|package|private|protected|public|return|set|static|string|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/}),e.languages.insertBefore("n4js","constant",{annotation:{pattern:/@+\w+/,alias:"operator"}}),e.languages.n4jsd=e.languages.n4js}return tP}var nP,MQ;function bBe(){if(MQ)return nP;MQ=1,nP=t,t.displayName="nand2tetrisHdl",t.aliases=[];function t(e){e.languages["nand2tetris-hdl"]={comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,keyword:/\b(?:BUILTIN|CHIP|CLOCKED|IN|OUT|PARTS)\b/,boolean:/\b(?:false|true)\b/,function:/\b[A-Za-z][A-Za-z0-9]*(?=\()/,number:/\b\d+\b/,operator:/=|\.\./,punctuation:/[{}[\];(),:]/}}return nP}var rP,PQ;function vBe(){if(PQ)return rP;PQ=1,rP=t,t.displayName="naniscript",t.aliases=[];function t(e){(function(n){var r=/\{[^\r\n\[\]{}]*\}/,i={"quoted-string":{pattern:/"(?:[^"\\]|\\.)*"/,alias:"operator"},"command-param-id":{pattern:/(\s)\w+:/,lookbehind:!0,alias:"property"},"command-param-value":[{pattern:r,alias:"selector"},{pattern:/([\t ])\S+/,lookbehind:!0,greedy:!0,alias:"operator"},{pattern:/\S(?:.*\S)?/,alias:"operator"}]};n.languages.naniscript={comment:{pattern:/^([\t ]*);.*/m,lookbehind:!0},define:{pattern:/^>.+/m,alias:"tag",inside:{value:{pattern:/(^>\w+[\t ]+)(?!\s)[^{}\r\n]+/,lookbehind:!0,alias:"operator"},key:{pattern:/(^>)\w+/,lookbehind:!0}}},label:{pattern:/^([\t ]*)#[\t ]*\w+[\t ]*$/m,lookbehind:!0,alias:"regex"},command:{pattern:/^([\t ]*)@\w+(?=[\t ]|$).*/m,lookbehind:!0,alias:"function",inside:{"command-name":/^@\w+/,expression:{pattern:r,greedy:!0,alias:"selector"},"command-params":{pattern:/\s*\S[\s\S]*/,inside:i}}},"generic-text":{pattern:/(^[ \t]*)[^#@>;\s].*/m,lookbehind:!0,alias:"punctuation",inside:{"escaped-char":/\\[{}\[\]"]/,expression:{pattern:r,greedy:!0,alias:"selector"},"inline-command":{pattern:/\[[\t ]*\w[^\r\n\[\]]*\]/,greedy:!0,alias:"function",inside:{"command-params":{pattern:/(^\[[\t ]*\w+\b)[\s\S]+(?=\]$)/,lookbehind:!0,inside:i},"command-param-name":{pattern:/^(\[[\t ]*)\w+/,lookbehind:!0,alias:"name"},"start-stop-char":/[\[\]]/}}}}},n.languages.nani=n.languages.naniscript,n.hooks.add("after-tokenize",function(o){var l=o.tokens;l.forEach(function(u){if(typeof u!="string"&&u.type==="generic-text"){var d=s(u);a(d)||(u.type="bad-line",u.content=d)}})});function a(o){for(var l="[]{}",u=[],d=0;d<o.length;d++){var h=o[d],p=l.indexOf(h);if(p!==-1){if(p%2===0)u.push(p+1);else if(u.pop()!==p)return!1}}return u.length===0}function s(o){return typeof o=="string"?o:Array.isArray(o)?o.map(s).join(""):s(o.content)}})(e)}return rP}var iP,LQ;function wBe(){if(LQ)return iP;LQ=1,iP=t,t.displayName="nasm",t.aliases=[];function t(e){e.languages.nasm={comment:/;.*$/m,string:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,label:{pattern:/(^\s*)[A-Za-z._?$][\w.?$@~#]*:/m,lookbehind:!0,alias:"function"},keyword:[/\[?BITS (?:16|32|64)\]?/,{pattern:/(^\s*)section\s*[a-z.]+:?/im,lookbehind:!0},/(?:extern|global)[^;\r\n]*/i,/(?:CPU|DEFAULT|FLOAT).*$/m],register:{pattern:/\b(?:st\d|[xyz]mm\d\d?|[cdt]r\d|r\d\d?[bwd]?|[er]?[abcd]x|[abcd][hl]|[er]?(?:bp|di|si|sp)|[cdefgs]s)\b/i,alias:"variable"},number:/(?:\b|(?=\$))(?:0[hx](?:\.[\da-f]+|[\da-f]+(?:\.[\da-f]+)?)(?:p[+-]?\d+)?|\d[\da-f]+[hx]|\$\d[\da-f]*|0[oq][0-7]+|[0-7]+[oq]|0[by][01]+|[01]+[by]|0[dt]\d+|(?:\d+(?:\.\d+)?|\.\d+)(?:\.?e[+-]?\d+)?[dt]?)\b/i,operator:/[\[\]*+\-\/%<>=&|$!]/}}return iP}var aP,DQ;function _Be(){if(DQ)return aP;DQ=1,aP=t,t.displayName="neon",t.aliases=[];function t(e){e.languages.neon={comment:{pattern:/#.*/,greedy:!0},datetime:{pattern:/(^|[[{(=:,\s])\d\d\d\d-\d\d?-\d\d?(?:(?:[Tt]| +)\d\d?:\d\d:\d\d(?:\.\d*)? *(?:Z|[-+]\d\d?(?::?\d\d)?)?)?(?=$|[\]}),\s])/,lookbehind:!0,alias:"number"},key:{pattern:/(^|[[{(,\s])[^,:=[\]{}()'"\s]+(?=\s*:(?:$|[\]}),\s])|\s*=)/,lookbehind:!0,alias:"atrule"},number:{pattern:/(^|[[{(=:,\s])[+-]?(?:0x[\da-fA-F]+|0o[0-7]+|0b[01]+|(?:\d+(?:\.\d*)?|\.?\d+)(?:[eE][+-]?\d+)?)(?=$|[\]}),:=\s])/,lookbehind:!0},boolean:{pattern:/(^|[[{(=:,\s])(?:false|no|true|yes)(?=$|[\]}),:=\s])/i,lookbehind:!0},null:{pattern:/(^|[[{(=:,\s])(?:null)(?=$|[\]}),:=\s])/i,lookbehind:!0,alias:"keyword"},string:{pattern:/(^|[[{(=:,\s])(?:('''|""")\r?\n(?:(?:[^\r\n]|\r?\n(?![\t ]*\2))*\r?\n)?[\t ]*\2|'[^'\r\n]*'|"(?:\\.|[^\\"\r\n])*")/,lookbehind:!0,greedy:!0},literal:{pattern:/(^|[[{(=:,\s])(?:[^#"',:=[\]{}()\s`-]|[:-][^"',=[\]{}()\s])(?:[^,:=\]})(\s]|:(?![\s,\]})]|$)|[ \t]+[^#,:=\]})(\s])*/,lookbehind:!0,alias:"string"},punctuation:/[,:=[\]{}()-]/}}return aP}var sP,FQ;function SBe(){if(FQ)return sP;FQ=1,sP=t,t.displayName="nevod",t.aliases=[];function t(e){e.languages.nevod={comment:/\/\/.*|(?:\/\*[\s\S]*?(?:\*\/|$))/,string:{pattern:/(?:"(?:""|[^"])*"(?!")|'(?:''|[^'])*'(?!'))!?\*?/,greedy:!0,inside:{"string-attrs":/!$|!\*$|\*$/}},namespace:{pattern:/(@namespace\s+)[a-zA-Z0-9\-.]+(?=\s*\{)/,lookbehind:!0},pattern:{pattern:/(@pattern\s+)?#?[a-zA-Z0-9\-.]+(?:\s*\(\s*(?:~\s*)?[a-zA-Z0-9\-.]+\s*(?:,\s*(?:~\s*)?[a-zA-Z0-9\-.]*)*\))?(?=\s*=)/,lookbehind:!0,inside:{"pattern-name":{pattern:/^#?[a-zA-Z0-9\-.]+/,alias:"class-name"},fields:{pattern:/\(.*\)/,inside:{"field-name":{pattern:/[a-zA-Z0-9\-.]+/,alias:"variable"},punctuation:/[,()]/,operator:{pattern:/~/,alias:"field-hidden-mark"}}}}},search:{pattern:/(@search\s+|#)[a-zA-Z0-9\-.]+(?:\.\*)?(?=\s*;)/,alias:"function",lookbehind:!0},keyword:/@(?:having|inside|namespace|outside|pattern|require|search|where)\b/,"standard-pattern":{pattern:/\b(?:Alpha|AlphaNum|Any|Blank|End|LineBreak|Num|NumAlpha|Punct|Space|Start|Symbol|Word|WordBreak)\b(?:\([a-zA-Z0-9\-.,\s+]*\))?/,inside:{"standard-pattern-name":{pattern:/^[a-zA-Z0-9\-.]+/,alias:"builtin"},quantifier:{pattern:/\b\d+(?:\s*\+|\s*-\s*\d+)?(?!\w)/,alias:"number"},"standard-pattern-attr":{pattern:/[a-zA-Z0-9\-.]+/,alias:"builtin"},punctuation:/[,()]/}},quantifier:{pattern:/\b\d+(?:\s*\+|\s*-\s*\d+)?(?!\w)/,alias:"number"},operator:[{pattern:/=/,alias:"pattern-def"},{pattern:/&/,alias:"conjunction"},{pattern:/~/,alias:"exception"},{pattern:/\?/,alias:"optionality"},{pattern:/[[\]]/,alias:"repetition"},{pattern:/[{}]/,alias:"variation"},{pattern:/[+_]/,alias:"sequence"},{pattern:/\.{2,3}/,alias:"span"}],"field-capture":[{pattern:/([a-zA-Z0-9\-.]+\s*\()\s*[a-zA-Z0-9\-.]+\s*:\s*[a-zA-Z0-9\-.]+(?:\s*,\s*[a-zA-Z0-9\-.]+\s*:\s*[a-zA-Z0-9\-.]+)*(?=\s*\))/,lookbehind:!0,inside:{"field-name":{pattern:/[a-zA-Z0-9\-.]+/,alias:"variable"},colon:/:/}},{pattern:/[a-zA-Z0-9\-.]+\s*:/,inside:{"field-name":{pattern:/[a-zA-Z0-9\-.]+/,alias:"variable"},colon:/:/}}],punctuation:/[:;,()]/,name:/[a-zA-Z0-9\-.]+/}}return sP}var oP,BQ;function xBe(){if(BQ)return oP;BQ=1,oP=t,t.displayName="nginx",t.aliases=[];function t(e){(function(n){var r=/\$(?:\w[a-z\d]*(?:_[^\x00-\x1F\s"'\\()$]*)?|\{[^}\s"'\\]+\})/i;n.languages.nginx={comment:{pattern:/(^|[\s{};])#.*/,lookbehind:!0,greedy:!0},directive:{pattern:/(^|\s)\w(?:[^;{}"'\\\s]|\\.|"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\s+(?:#.*(?!.)|(?![#\s])))*?(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:{string:{pattern:/((?:^|[^\\])(?:\\\\)*)(?:"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')/,lookbehind:!0,greedy:!0,inside:{escape:{pattern:/\\["'\\nrt]/,alias:"entity"},variable:r}},comment:{pattern:/(\s)#.*/,lookbehind:!0,greedy:!0},keyword:{pattern:/^\S+/,greedy:!0},boolean:{pattern:/(\s)(?:off|on)(?!\S)/,lookbehind:!0},number:{pattern:/(\s)\d+[a-z]*(?!\S)/i,lookbehind:!0},variable:r}},punctuation:/[{};]/}})(e)}return oP}var lP,UQ;function EBe(){if(UQ)return lP;UQ=1,lP=t,t.displayName="nim",t.aliases=[];function t(e){e.languages.nim={comment:{pattern:/#.*/,greedy:!0},string:{pattern:/(?:\b(?!\d)(?:\w|\\x[89a-fA-F][0-9a-fA-F])+)?(?:"""[\s\S]*?"""(?!")|"(?:\\[\s\S]|""|[^"\\])*")/,greedy:!0},char:{pattern:/'(?:\\(?:\d+|x[\da-fA-F]{0,2}|.)|[^'])'/,greedy:!0},function:{pattern:/(?:(?!\d)(?:\w|\\x[89a-fA-F][0-9a-fA-F])+|`[^`\r\n]+`)\*?(?:\[[^\]]+\])?(?=\s*\()/,greedy:!0,inside:{operator:/\*$/}},identifier:{pattern:/`[^`\r\n]+`/,greedy:!0,inside:{punctuation:/`/}},number:/\b(?:0[xXoObB][\da-fA-F_]+|\d[\d_]*(?:(?!\.\.)\.[\d_]*)?(?:[eE][+-]?\d[\d_]*)?)(?:'?[iuf]\d*)?/,keyword:/\b(?:addr|as|asm|atomic|bind|block|break|case|cast|concept|const|continue|converter|defer|discard|distinct|do|elif|else|end|enum|except|export|finally|for|from|func|generic|if|import|include|interface|iterator|let|macro|method|mixin|nil|object|out|proc|ptr|raise|ref|return|static|template|try|tuple|type|using|var|when|while|with|without|yield)\b/,operator:{pattern:/(^|[({\[](?=\.\.)|(?![({\[]\.).)(?:(?:[=+\-*\/<>@$~&%|!?^:\\]|\.\.|\.(?![)}\]]))+|\b(?:and|div|in|is|isnot|mod|not|notin|of|or|shl|shr|xor)\b)/m,lookbehind:!0},punctuation:/[({\[]\.|\.[)}\]]|[`(){}\[\],:]/}}return lP}var uP,jQ;function kBe(){if(jQ)return uP;jQ=1,uP=t,t.displayName="nix",t.aliases=[];function t(e){e.languages.nix={comment:{pattern:/\/\*[\s\S]*?\*\/|#.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\[\s\S])*"|''(?:(?!'')[\s\S]|''(?:'|\\|\$\{))*''/,greedy:!0,inside:{interpolation:{pattern:/(^|(?:^|(?!'').)[^\\])\$\{(?:[^{}]|\{[^}]*\})*\}/,lookbehind:!0,inside:null}}},url:[/\b(?:[a-z]{3,7}:\/\/)[\w\-+%~\/.:#=?&]+/,{pattern:/([^\/])(?:[\w\-+%~.:#=?&]*(?!\/\/)[\w\-+%~\/.:#=?&])?(?!\/\/)\/[\w\-+%~\/.:#=?&]*/,lookbehind:!0}],antiquotation:{pattern:/\$(?=\{)/,alias:"important"},number:/\b\d+\b/,keyword:/\b(?:assert|builtins|else|if|in|inherit|let|null|or|then|with)\b/,function:/\b(?:abort|add|all|any|attrNames|attrValues|baseNameOf|compareVersions|concatLists|currentSystem|deepSeq|derivation|dirOf|div|elem(?:At)?|fetch(?:Tarball|url)|filter(?:Source)?|fromJSON|genList|getAttr|getEnv|hasAttr|hashString|head|import|intersectAttrs|is(?:Attrs|Bool|Function|Int|List|Null|String)|length|lessThan|listToAttrs|map|mul|parseDrvName|pathExists|read(?:Dir|File)|removeAttrs|replaceStrings|seq|sort|stringLength|sub(?:string)?|tail|throw|to(?:File|JSON|Path|String|XML)|trace|typeOf)\b|\bfoldl'\B/,boolean:/\b(?:false|true)\b/,operator:/[=!<>]=?|\+\+?|\|\||&&|\/\/|->?|[?@]/,punctuation:/[{}()[\].,:;]/},e.languages.nix.string.inside.interpolation.inside=e.languages.nix}return uP}var cP,zQ;function TBe(){if(zQ)return cP;zQ=1,cP=t,t.displayName="nsis",t.aliases=[];function t(e){e.languages.nsis={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|[#;].*)/,lookbehind:!0,greedy:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:{pattern:/(^[\t ]*)(?:Abort|Add(?:BrandingImage|Size)|AdvSplash|Allow(?:RootDirInstall|SkipFiles)|AutoCloseWindow|BG(?:Font|Gradient|Image)|Banner|BrandingText|BringToFront|CRCCheck|Call(?:InstDLL)?|Caption|ChangeUI|CheckBitmap|ClearErrors|CompletedText|ComponentText|CopyFiles|Create(?:Directory|Font|ShortCut)|Delete(?:INISec|INIStr|RegKey|RegValue)?|Detail(?:Print|sButtonText)|Dialer|Dir(?:Text|Var|Verify)|EnableWindow|Enum(?:RegKey|RegValue)|Exch|Exec(?:Shell(?:Wait)?|Wait)?|ExpandEnvStrings|File(?:BufSize|Close|ErrorText|Open|Read|ReadByte|ReadUTF16LE|ReadWord|Seek|Write|WriteByte|WriteUTF16LE|WriteWord)?|Find(?:Close|First|Next|Window)|FlushINI|Get(?:CurInstType|CurrentAddress|DLLVersion(?:Local)?|DlgItem|ErrorLevel|FileTime(?:Local)?|FullPathName|Function(?:Address|End)?|InstDirError|LabelAddress|TempFileName)|Goto|HideWindow|Icon|If(?:Abort|Errors|FileExists|RebootFlag|Silent)|InitPluginsDir|InstProgressFlags|Inst(?:Type(?:GetText|SetText)?)|Install(?:ButtonText|Colors|Dir(?:RegKey)?)|Int(?:64|Ptr)?CmpU?|Int(?:64)?Fmt|Int(?:Ptr)?Op|IsWindow|Lang(?:DLL|String)|License(?:BkColor|Data|ForceSelection|LangString|Text)|LoadLanguageFile|LockWindow|Log(?:Set|Text)|Manifest(?:DPIAware|SupportedOS)|Math|MessageBox|MiscButtonText|NSISdl|Name|Nop|OutFile|PE(?:DllCharacteristics|SubsysVer)|Page(?:Callbacks)?|Pop|Push|Quit|RMDir|Read(?:EnvStr|INIStr|RegDWORD|RegStr)|Reboot|RegDLL|Rename|RequestExecutionLevel|ReserveFile|Return|SearchPath|Section(?:End|GetFlags|GetInstTypes|GetSize|GetText|Group|In|SetFlags|SetInstTypes|SetSize|SetText)?|SendMessage|Set(?:AutoClose|BrandingImage|Compress|Compressor(?:DictSize)?|CtlColors|CurInstType|DatablockOptimize|DateSave|Details(?:Print|View)|ErrorLevel|Errors|FileAttributes|Font|OutPath|Overwrite|PluginUnload|RebootFlag|RegView|ShellVarContext|Silent)|Show(?:InstDetails|UninstDetails|Window)|Silent(?:Install|UnInstall)|Sleep|SpaceTexts|Splash|StartMenu|Str(?:CmpS?|Cpy|Len)|SubCaption|System|UnRegDLL|Unicode|UninstPage|Uninstall(?:ButtonText|Caption|Icon|SubCaption|Text)|UserInfo|VI(?:AddVersionKey|FileVersion|ProductVersion)|VPatch|Var|WindowIcon|Write(?:INIStr|Reg(?:Bin|DWORD|ExpandStr|MultiStr|None|Str)|Uninstaller)|XPStyle|ns(?:Dialogs|Exec))\b/m,lookbehind:!0},property:/\b(?:ARCHIVE|FILE_(?:ATTRIBUTE_ARCHIVE|ATTRIBUTE_NORMAL|ATTRIBUTE_OFFLINE|ATTRIBUTE_READONLY|ATTRIBUTE_SYSTEM|ATTRIBUTE_TEMPORARY)|HK(?:(?:CR|CU|LM)(?:32|64)?|DD|PD|U)|HKEY_(?:CLASSES_ROOT|CURRENT_CONFIG|CURRENT_USER|DYN_DATA|LOCAL_MACHINE|PERFORMANCE_DATA|USERS)|ID(?:ABORT|CANCEL|IGNORE|NO|OK|RETRY|YES)|MB_(?:ABORTRETRYIGNORE|DEFBUTTON1|DEFBUTTON2|DEFBUTTON3|DEFBUTTON4|ICONEXCLAMATION|ICONINFORMATION|ICONQUESTION|ICONSTOP|OK|OKCANCEL|RETRYCANCEL|RIGHT|RTLREADING|SETFOREGROUND|TOPMOST|USERICON|YESNO)|NORMAL|OFFLINE|READONLY|SHCTX|SHELL_CONTEXT|SYSTEM|TEMPORARY|admin|all|auto|both|colored|false|force|hide|highest|lastused|leave|listonly|none|normal|notset|off|on|open|print|show|silent|silentlog|smooth|textonly|true|user)\b/,constant:/\$\{[!\w\.:\^-]+\}|\$\([!\w\.:\^-]+\)/,variable:/\$\w[\w\.]*/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--?|\+\+?|<=?|>=?|==?=?|&&?|\|\|?|[?*\/~^%]/,punctuation:/[{}[\];(),.:]/,important:{pattern:/(^[\t ]*)!(?:addincludedir|addplugindir|appendfile|cd|define|delfile|echo|else|endif|error|execute|finalize|getdllversion|gettlbversion|if|ifdef|ifmacrodef|ifmacrondef|ifndef|include|insertmacro|macro|macroend|makensis|packhdr|pragma|searchparse|searchreplace|system|tempfile|undef|verbose|warning)\b/im,lookbehind:!0}}}return cP}var dP,$Q;function ABe(){if($Q)return dP;$Q=1;var t=I0();dP=e,e.displayName="objectivec",e.aliases=["objc"];function e(n){n.register(t),n.languages.objectivec=n.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete n.languages.objectivec["class-name"],n.languages.objc=n.languages.objectivec}return dP}var hP,qQ;function CBe(){if(qQ)return hP;qQ=1,hP=t,t.displayName="ocaml",t.aliases=[];function t(e){e.languages.ocaml={comment:{pattern:/\(\*[\s\S]*?\*\)/,greedy:!0},char:{pattern:/'(?:[^\\\r\n']|\\(?:.|[ox]?[0-9a-f]{1,3}))'/i,greedy:!0},string:[{pattern:/"(?:\\(?:[\s\S]|\r\n)|[^\\\r\n"])*"/,greedy:!0},{pattern:/\{([a-z_]*)\|[\s\S]*?\|\1\}/,greedy:!0}],number:[/\b(?:0b[01][01_]*|0o[0-7][0-7_]*)\b/i,/\b0x[a-f0-9][a-f0-9_]*(?:\.[a-f0-9_]*)?(?:p[+-]?\d[\d_]*)?(?!\w)/i,/\b\d[\d_]*(?:\.[\d_]*)?(?:e[+-]?\d[\d_]*)?(?!\w)/i],directive:{pattern:/\B#\w+/,alias:"property"},label:{pattern:/\B~\w+/,alias:"property"},"type-variable":{pattern:/\B'\w+/,alias:"function"},variant:{pattern:/`\w+/,alias:"symbol"},keyword:/\b(?:as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|match|method|module|mutable|new|nonrec|object|of|open|private|rec|sig|struct|then|to|try|type|val|value|virtual|when|where|while|with)\b/,boolean:/\b(?:false|true)\b/,"operator-like-punctuation":{pattern:/\[[<>|]|[>|]\]|\{<|>\}/,alias:"punctuation"},operator:/\.[.~]|:[=>]|[=<>@^|&+\-*\/$%!?~][!$%&*+\-.\/:<=>?@^|~]*|\b(?:and|asr|land|lor|lsl|lsr|lxor|mod|or)\b/,punctuation:/;;|::|[(){}\[\].,:;#]|\b_\b/}}return hP}var fP,HQ;function RBe(){if(HQ)return fP;HQ=1;var t=I0();fP=e,e.displayName="opencl",e.aliases=[];function e(n){n.register(t),function(r){r.languages.opencl=r.languages.extend("c",{keyword:/\b(?:(?:__)?(?:constant|global|kernel|local|private|read_only|read_write|write_only)|__attribute__|auto|(?:bool|u?(?:char|int|long|short)|half|quad)(?:2|3|4|8|16)?|break|case|complex|const|continue|(?:double|float)(?:16(?:x(?:1|2|4|8|16))?|1x(?:1|2|4|8|16)|2(?:x(?:1|2|4|8|16))?|3|4(?:x(?:1|2|4|8|16))?|8(?:x(?:1|2|4|8|16))?)?|default|do|else|enum|extern|for|goto|if|imaginary|inline|packed|pipe|register|restrict|return|signed|sizeof|static|struct|switch|typedef|uniform|union|unsigned|void|volatile|while)\b/,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[fuhl]{0,4}/i,boolean:/\b(?:false|true)\b/,"constant-opencl-kernel":{pattern:/\b(?:CHAR_(?:BIT|MAX|MIN)|CLK_(?:ADDRESS_(?:CLAMP(?:_TO_EDGE)?|NONE|REPEAT)|FILTER_(?:LINEAR|NEAREST)|(?:GLOBAL|LOCAL)_MEM_FENCE|NORMALIZED_COORDS_(?:FALSE|TRUE))|CL_(?:BGRA|(?:HALF_)?FLOAT|INTENSITY|LUMINANCE|A?R?G?B?[Ax]?|(?:(?:UN)?SIGNED|[US]NORM)_(?:INT(?:8|16|32))|UNORM_(?:INT_101010|SHORT_(?:555|565)))|(?:DBL|FLT|HALF)_(?:DIG|EPSILON|(?:MAX|MIN)(?:(?:_10)?_EXP)?|MANT_DIG)|FLT_RADIX|HUGE_VALF?|(?:INT|LONG|SCHAR|SHRT)_(?:MAX|MIN)|INFINITY|MAXFLOAT|M_(?:[12]_PI|2_SQRTPI|E|LN(?:2|10)|LOG(?:2|10)E?|PI(?:_[24])?|SQRT(?:1_2|2))(?:_F|_H)?|NAN|(?:UCHAR|UINT|ULONG|USHRT)_MAX)\b/,alias:"constant"}}),r.languages.insertBefore("opencl","class-name",{"builtin-type":{pattern:/\b(?:_cl_(?:command_queue|context|device_id|event|kernel|mem|platform_id|program|sampler)|cl_(?:image_format|mem_fence_flags)|clk_event_t|event_t|image(?:1d_(?:array_|buffer_)?t|2d_(?:array_(?:depth_|msaa_depth_|msaa_)?|depth_|msaa_depth_|msaa_)?t|3d_t)|intptr_t|ndrange_t|ptrdiff_t|queue_t|reserve_id_t|sampler_t|size_t|uintptr_t)\b/,alias:"keyword"}});var i={"type-opencl-host":{pattern:/\b(?:cl_(?:GLenum|GLint|GLuin|addressing_mode|bitfield|bool|buffer_create_type|build_status|channel_(?:order|type)|(?:u?(?:char|int|long|short)|double|float)(?:2|3|4|8|16)?|command_(?:queue(?:_info|_properties)?|type)|context(?:_info|_properties)?|device_(?:exec_capabilities|fp_config|id|info|local_mem_type|mem_cache_type|type)|(?:event|sampler)(?:_info)?|filter_mode|half|image_info|kernel(?:_info|_work_group_info)?|map_flags|mem(?:_flags|_info|_object_type)?|platform_(?:id|info)|profiling_info|program(?:_build_info|_info)?))\b/,alias:"keyword"},"boolean-opencl-host":{pattern:/\bCL_(?:FALSE|TRUE)\b/,alias:"boolean"},"constant-opencl-host":{pattern:/\bCL_(?:A|ABGR|ADDRESS_(?:CLAMP(?:_TO_EDGE)?|MIRRORED_REPEAT|NONE|REPEAT)|ARGB|BGRA|BLOCKING|BUFFER_CREATE_TYPE_REGION|BUILD_(?:ERROR|IN_PROGRESS|NONE|PROGRAM_FAILURE|SUCCESS)|COMMAND_(?:ACQUIRE_GL_OBJECTS|BARRIER|COPY_(?:BUFFER(?:_RECT|_TO_IMAGE)?|IMAGE(?:_TO_BUFFER)?)|FILL_(?:BUFFER|IMAGE)|MAP(?:_BUFFER|_IMAGE)|MARKER|MIGRATE(?:_SVM)?_MEM_OBJECTS|NATIVE_KERNEL|NDRANGE_KERNEL|READ_(?:BUFFER(?:_RECT)?|IMAGE)|RELEASE_GL_OBJECTS|SVM_(?:FREE|MAP|MEMCPY|MEMFILL|UNMAP)|TASK|UNMAP_MEM_OBJECT|USER|WRITE_(?:BUFFER(?:_RECT)?|IMAGE))|COMPILER_NOT_AVAILABLE|COMPILE_PROGRAM_FAILURE|COMPLETE|CONTEXT_(?:DEVICES|INTEROP_USER_SYNC|NUM_DEVICES|PLATFORM|PROPERTIES|REFERENCE_COUNT)|DEPTH(?:_STENCIL)?|DEVICE_(?:ADDRESS_BITS|AFFINITY_DOMAIN_(?:L[1-4]_CACHE|NEXT_PARTITIONABLE|NUMA)|AVAILABLE|BUILT_IN_KERNELS|COMPILER_AVAILABLE|DOUBLE_FP_CONFIG|ENDIAN_LITTLE|ERROR_CORRECTION_SUPPORT|EXECUTION_CAPABILITIES|EXTENSIONS|GLOBAL_(?:MEM_(?:CACHELINE_SIZE|CACHE_SIZE|CACHE_TYPE|SIZE)|VARIABLE_PREFERRED_TOTAL_SIZE)|HOST_UNIFIED_MEMORY|IL_VERSION|IMAGE(?:2D_MAX_(?:HEIGHT|WIDTH)|3D_MAX_(?:DEPTH|HEIGHT|WIDTH)|_BASE_ADDRESS_ALIGNMENT|_MAX_ARRAY_SIZE|_MAX_BUFFER_SIZE|_PITCH_ALIGNMENT|_SUPPORT)|LINKER_AVAILABLE|LOCAL_MEM_SIZE|LOCAL_MEM_TYPE|MAX_(?:CLOCK_FREQUENCY|COMPUTE_UNITS|CONSTANT_ARGS|CONSTANT_BUFFER_SIZE|GLOBAL_VARIABLE_SIZE|MEM_ALLOC_SIZE|NUM_SUB_GROUPS|ON_DEVICE_(?:EVENTS|QUEUES)|PARAMETER_SIZE|PIPE_ARGS|READ_IMAGE_ARGS|READ_WRITE_IMAGE_ARGS|SAMPLERS|WORK_GROUP_SIZE|WORK_ITEM_DIMENSIONS|WORK_ITEM_SIZES|WRITE_IMAGE_ARGS)|MEM_BASE_ADDR_ALIGN|MIN_DATA_TYPE_ALIGN_SIZE|NAME|NATIVE_VECTOR_WIDTH_(?:CHAR|DOUBLE|FLOAT|HALF|INT|LONG|SHORT)|NOT_(?:AVAILABLE|FOUND)|OPENCL_C_VERSION|PARENT_DEVICE|PARTITION_(?:AFFINITY_DOMAIN|BY_AFFINITY_DOMAIN|BY_COUNTS|BY_COUNTS_LIST_END|EQUALLY|FAILED|MAX_SUB_DEVICES|PROPERTIES|TYPE)|PIPE_MAX_(?:ACTIVE_RESERVATIONS|PACKET_SIZE)|PLATFORM|PREFERRED_(?:GLOBAL_ATOMIC_ALIGNMENT|INTEROP_USER_SYNC|LOCAL_ATOMIC_ALIGNMENT|PLATFORM_ATOMIC_ALIGNMENT|VECTOR_WIDTH_(?:CHAR|DOUBLE|FLOAT|HALF|INT|LONG|SHORT))|PRINTF_BUFFER_SIZE|PROFILE|PROFILING_TIMER_RESOLUTION|QUEUE_(?:ON_(?:DEVICE_(?:MAX_SIZE|PREFERRED_SIZE|PROPERTIES)|HOST_PROPERTIES)|PROPERTIES)|REFERENCE_COUNT|SINGLE_FP_CONFIG|SUB_GROUP_INDEPENDENT_FORWARD_PROGRESS|SVM_(?:ATOMICS|CAPABILITIES|COARSE_GRAIN_BUFFER|FINE_GRAIN_BUFFER|FINE_GRAIN_SYSTEM)|TYPE(?:_ACCELERATOR|_ALL|_CPU|_CUSTOM|_DEFAULT|_GPU)?|VENDOR(?:_ID)?|VERSION)|DRIVER_VERSION|EVENT_(?:COMMAND_(?:EXECUTION_STATUS|QUEUE|TYPE)|CONTEXT|REFERENCE_COUNT)|EXEC_(?:KERNEL|NATIVE_KERNEL|STATUS_ERROR_FOR_EVENTS_IN_WAIT_LIST)|FILTER_(?:LINEAR|NEAREST)|FLOAT|FP_(?:CORRECTLY_ROUNDED_DIVIDE_SQRT|DENORM|FMA|INF_NAN|ROUND_TO_INF|ROUND_TO_NEAREST|ROUND_TO_ZERO|SOFT_FLOAT)|GLOBAL|HALF_FLOAT|IMAGE_(?:ARRAY_SIZE|BUFFER|DEPTH|ELEMENT_SIZE|FORMAT|FORMAT_MISMATCH|FORMAT_NOT_SUPPORTED|HEIGHT|NUM_MIP_LEVELS|NUM_SAMPLES|ROW_PITCH|SLICE_PITCH|WIDTH)|INTENSITY|INVALID_(?:ARG_INDEX|ARG_SIZE|ARG_VALUE|BINARY|BUFFER_SIZE|BUILD_OPTIONS|COMMAND_QUEUE|COMPILER_OPTIONS|CONTEXT|DEVICE|DEVICE_PARTITION_COUNT|DEVICE_QUEUE|DEVICE_TYPE|EVENT|EVENT_WAIT_LIST|GLOBAL_OFFSET|GLOBAL_WORK_SIZE|GL_OBJECT|HOST_PTR|IMAGE_DESCRIPTOR|IMAGE_FORMAT_DESCRIPTOR|IMAGE_SIZE|KERNEL|KERNEL_ARGS|KERNEL_DEFINITION|KERNEL_NAME|LINKER_OPTIONS|MEM_OBJECT|MIP_LEVEL|OPERATION|PIPE_SIZE|PLATFORM|PROGRAM|PROGRAM_EXECUTABLE|PROPERTY|QUEUE_PROPERTIES|SAMPLER|VALUE|WORK_DIMENSION|WORK_GROUP_SIZE|WORK_ITEM_SIZE)|KERNEL_(?:ARG_(?:ACCESS_(?:NONE|QUALIFIER|READ_ONLY|READ_WRITE|WRITE_ONLY)|ADDRESS_(?:CONSTANT|GLOBAL|LOCAL|PRIVATE|QUALIFIER)|INFO_NOT_AVAILABLE|NAME|TYPE_(?:CONST|NAME|NONE|PIPE|QUALIFIER|RESTRICT|VOLATILE))|ATTRIBUTES|COMPILE_NUM_SUB_GROUPS|COMPILE_WORK_GROUP_SIZE|CONTEXT|EXEC_INFO_SVM_FINE_GRAIN_SYSTEM|EXEC_INFO_SVM_PTRS|FUNCTION_NAME|GLOBAL_WORK_SIZE|LOCAL_MEM_SIZE|LOCAL_SIZE_FOR_SUB_GROUP_COUNT|MAX_NUM_SUB_GROUPS|MAX_SUB_GROUP_SIZE_FOR_NDRANGE|NUM_ARGS|PREFERRED_WORK_GROUP_SIZE_MULTIPLE|PRIVATE_MEM_SIZE|PROGRAM|REFERENCE_COUNT|SUB_GROUP_COUNT_FOR_NDRANGE|WORK_GROUP_SIZE)|LINKER_NOT_AVAILABLE|LINK_PROGRAM_FAILURE|LOCAL|LUMINANCE|MAP_(?:FAILURE|READ|WRITE|WRITE_INVALIDATE_REGION)|MEM_(?:ALLOC_HOST_PTR|ASSOCIATED_MEMOBJECT|CONTEXT|COPY_HOST_PTR|COPY_OVERLAP|FLAGS|HOST_NO_ACCESS|HOST_PTR|HOST_READ_ONLY|HOST_WRITE_ONLY|KERNEL_READ_AND_WRITE|MAP_COUNT|OBJECT_(?:ALLOCATION_FAILURE|BUFFER|IMAGE1D|IMAGE1D_ARRAY|IMAGE1D_BUFFER|IMAGE2D|IMAGE2D_ARRAY|IMAGE3D|PIPE)|OFFSET|READ_ONLY|READ_WRITE|REFERENCE_COUNT|SIZE|SVM_ATOMICS|SVM_FINE_GRAIN_BUFFER|TYPE|USES_SVM_POINTER|USE_HOST_PTR|WRITE_ONLY)|MIGRATE_MEM_OBJECT_(?:CONTENT_UNDEFINED|HOST)|MISALIGNED_SUB_BUFFER_OFFSET|NONE|NON_BLOCKING|OUT_OF_(?:HOST_MEMORY|RESOURCES)|PIPE_(?:MAX_PACKETS|PACKET_SIZE)|PLATFORM_(?:EXTENSIONS|HOST_TIMER_RESOLUTION|NAME|PROFILE|VENDOR|VERSION)|PROFILING_(?:COMMAND_(?:COMPLETE|END|QUEUED|START|SUBMIT)|INFO_NOT_AVAILABLE)|PROGRAM_(?:BINARIES|BINARY_SIZES|BINARY_TYPE(?:_COMPILED_OBJECT|_EXECUTABLE|_LIBRARY|_NONE)?|BUILD_(?:GLOBAL_VARIABLE_TOTAL_SIZE|LOG|OPTIONS|STATUS)|CONTEXT|DEVICES|IL|KERNEL_NAMES|NUM_DEVICES|NUM_KERNELS|REFERENCE_COUNT|SOURCE)|QUEUED|QUEUE_(?:CONTEXT|DEVICE|DEVICE_DEFAULT|ON_DEVICE|ON_DEVICE_DEFAULT|OUT_OF_ORDER_EXEC_MODE_ENABLE|PROFILING_ENABLE|PROPERTIES|REFERENCE_COUNT|SIZE)|R|RA|READ_(?:ONLY|WRITE)_CACHE|RG|RGB|RGBA|RGBx|RGx|RUNNING|Rx|SAMPLER_(?:ADDRESSING_MODE|CONTEXT|FILTER_MODE|LOD_MAX|LOD_MIN|MIP_FILTER_MODE|NORMALIZED_COORDS|REFERENCE_COUNT)|(?:UN)?SIGNED_INT(?:8|16|32)|SNORM_INT(?:8|16)|SUBMITTED|SUCCESS|UNORM_INT(?:8|16|24|_101010|_101010_2)|UNORM_SHORT_(?:555|565)|VERSION_(?:1_0|1_1|1_2|2_0|2_1)|sBGRA|sRGB|sRGBA|sRGBx)\b/,alias:"constant"},"function-opencl-host":{pattern:/\bcl(?:BuildProgram|CloneKernel|CompileProgram|Create(?:Buffer|CommandQueue(?:WithProperties)?|Context|ContextFromType|Image|Image2D|Image3D|Kernel|KernelsInProgram|Pipe|ProgramWith(?:Binary|BuiltInKernels|IL|Source)|Sampler|SamplerWithProperties|SubBuffer|SubDevices|UserEvent)|Enqueue(?:(?:Barrier|Marker)(?:WithWaitList)?|Copy(?:Buffer(?:Rect|ToImage)?|Image(?:ToBuffer)?)|(?:Fill|Map)(?:Buffer|Image)|MigrateMemObjects|NDRangeKernel|NativeKernel|(?:Read|Write)(?:Buffer(?:Rect)?|Image)|SVM(?:Free|Map|MemFill|Memcpy|MigrateMem|Unmap)|Task|UnmapMemObject|WaitForEvents)|Finish|Flush|Get(?:CommandQueueInfo|ContextInfo|Device(?:AndHostTimer|IDs|Info)|Event(?:Profiling)?Info|ExtensionFunctionAddress(?:ForPlatform)?|HostTimer|ImageInfo|Kernel(?:ArgInfo|Info|SubGroupInfo|WorkGroupInfo)|MemObjectInfo|PipeInfo|Platform(?:IDs|Info)|Program(?:Build)?Info|SamplerInfo|SupportedImageFormats)|LinkProgram|(?:Release|Retain)(?:CommandQueue|Context|Device|Event|Kernel|MemObject|Program|Sampler)|SVM(?:Alloc|Free)|Set(?:CommandQueueProperty|DefaultDeviceCommandQueue|EventCallback|Kernel|Kernel(?:Arg(?:SVMPointer)?|ExecInfo)|MemObjectDestructorCallback|UserEventStatus)|Unload(?:Platform)?Compiler|WaitForEvents)\b/,alias:"function"}};r.languages.insertBefore("c","keyword",i),r.languages.cpp&&(i["type-opencl-host-cpp"]={pattern:/\b(?:Buffer|BufferGL|BufferRenderGL|CommandQueue|Context|Device|DeviceCommandQueue|EnqueueArgs|Event|Image|Image1D|Image1DArray|Image1DBuffer|Image2D|Image2DArray|Image2DGL|Image3D|Image3DGL|ImageFormat|ImageGL|Kernel|KernelFunctor|LocalSpaceArg|Memory|NDRange|Pipe|Platform|Program|SVMAllocator|SVMTraitAtomic|SVMTraitCoarse|SVMTraitFine|SVMTraitReadOnly|SVMTraitReadWrite|SVMTraitWriteOnly|Sampler|UserEvent)\b/,alias:"keyword"},r.languages.insertBefore("cpp","keyword",i))}(n)}return fP}var pP,VQ;function IBe(){if(VQ)return pP;VQ=1,pP=t,t.displayName="openqasm",t.aliases=["qasm"];function t(e){e.languages.openqasm={comment:/\/\*[\s\S]*?\*\/|\/\/.*/,string:{pattern:/"[^"\r\n\t]*"|'[^'\r\n\t]*'/,greedy:!0},keyword:/\b(?:CX|OPENQASM|U|barrier|boxas|boxto|break|const|continue|ctrl|def|defcal|defcalgrammar|delay|else|end|for|gate|gphase|if|in|include|inv|kernel|lengthof|let|measure|pow|reset|return|rotary|stretchinf|while)\b|#pragma\b/,"class-name":/\b(?:angle|bit|bool|creg|fixed|float|int|length|qreg|qubit|stretch|uint)\b/,function:/\b(?:cos|exp|ln|popcount|rotl|rotr|sin|sqrt|tan)\b(?=\s*\()/,constant:/\b(?:euler|pi|tau)\b|π|𝜏|ℇ/,number:{pattern:/(^|[^.\w$])(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?(?:dt|ns|us|µs|ms|s)?/i,lookbehind:!0},operator:/->|>>=?|<<=?|&&|\|\||\+\+|--|[!=<>&|~^+\-*/%]=?|@/,punctuation:/[(){}\[\];,:.]/},e.languages.qasm=e.languages.openqasm}return pP}var mP,GQ;function NBe(){if(GQ)return mP;GQ=1,mP=t,t.displayName="oz",t.aliases=[];function t(e){e.languages.oz={comment:{pattern:/\/\*[\s\S]*?\*\/|%.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\[\s\S])*"/,greedy:!0},atom:{pattern:/'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,alias:"builtin"},keyword:/\$|\[\]|\b(?:_|at|attr|case|catch|choice|class|cond|declare|define|dis|else(?:case|if)?|end|export|fail|false|feat|finally|from|fun|functor|if|import|in|local|lock|meth|nil|not|of|or|prepare|proc|prop|raise|require|self|skip|then|thread|true|try|unit)\b/,function:[/\b[a-z][A-Za-z\d]*(?=\()/,{pattern:/(\{)[A-Z][A-Za-z\d]*\b/,lookbehind:!0}],number:/\b(?:0[bx][\da-f]+|\d+(?:\.\d*)?(?:e~?\d+)?)\b|&(?:[^\\]|\\(?:\d{3}|.))/i,variable:/`(?:[^`\\]|\\.)+`/,"attr-name":/\b\w+(?=[ \t]*:(?![:=]))/,operator:/:(?:=|::?)|<[-:=]?|=(?:=|<?:?)|>=?:?|\\=:?|!!?|[|#+\-*\/,~^@]|\b(?:andthen|div|mod|orelse)\b/,punctuation:/[\[\](){}.:;?]/}}return mP}var gP,WQ;function OBe(){if(WQ)return gP;WQ=1,gP=t,t.displayName="parigp",t.aliases=[];function t(e){e.languages.parigp={comment:/\/\*[\s\S]*?\*\/|\\\\.*/,string:{pattern:/"(?:[^"\\\r\n]|\\.)*"/,greedy:!0},keyword:function(){var n=["breakpoint","break","dbg_down","dbg_err","dbg_up","dbg_x","forcomposite","fordiv","forell","forpart","forprime","forstep","forsubgroup","forvec","for","iferr","if","local","my","next","return","until","while"];return n=n.map(function(r){return r.split("").join(" *")}).join("|"),RegExp("\\b(?:"+n+")\\b")}(),function:/\b\w(?:[\w ]*\w)?(?= *\()/,number:{pattern:/((?:\. *\. *)?)(?:\b\d(?: *\d)*(?: *(?!\. *\.)\.(?: *\d)*)?|\. *\d(?: *\d)*)(?: *e *(?:[+-] *)?\d(?: *\d)*)?/i,lookbehind:!0},operator:/\. *\.|[*\/!](?: *=)?|%(?: *=|(?: *#)?(?: *')*)?|\+(?: *[+=])?|-(?: *[-=>])?|<(?: *>|(?: *<)?(?: *=)?)?|>(?: *>)?(?: *=)?|=(?: *=){0,2}|\\(?: *\/)?(?: *=)?|&(?: *&)?|\| *\||['#~^]/,punctuation:/[\[\]{}().,:;|]/}}return gP}var yP,KQ;function MBe(){if(KQ)return yP;KQ=1,yP=t,t.displayName="parser",t.aliases=[];function t(e){(function(n){var r=n.languages.parser=n.languages.extend("markup",{keyword:{pattern:/(^|[^^])(?:\^(?:case|eval|for|if|switch|throw)\b|@(?:BASE|CLASS|GET(?:_DEFAULT)?|OPTIONS|SET_DEFAULT|USE)\b)/,lookbehind:!0},variable:{pattern:/(^|[^^])\B\$(?:\w+|(?=[.{]))(?:(?:\.|::?)\w+)*(?:\.|::?)?/,lookbehind:!0,inside:{punctuation:/\.|:+/}},function:{pattern:/(^|[^^])\B[@^]\w+(?:(?:\.|::?)\w+)*(?:\.|::?)?/,lookbehind:!0,inside:{keyword:{pattern:/(^@)(?:GET_|SET_)/,lookbehind:!0},punctuation:/\.|:+/}},escape:{pattern:/\^(?:[$^;@()\[\]{}"':]|#[a-f\d]*)/i,alias:"builtin"},punctuation:/[\[\](){};]/});r=n.languages.insertBefore("parser","keyword",{"parser-comment":{pattern:/(\s)#.*/,lookbehind:!0,alias:"comment"},expression:{pattern:/(^|[^^])\((?:[^()]|\((?:[^()]|\((?:[^()])*\))*\))*\)/,greedy:!0,lookbehind:!0,inside:{string:{pattern:/(^|[^^])(["'])(?:(?!\2)[^^]|\^[\s\S])*\2/,lookbehind:!0},keyword:r.keyword,variable:r.variable,function:r.function,boolean:/\b(?:false|true)\b/,number:/\b(?:0x[a-f\d]+|\d+(?:\.\d*)?(?:e[+-]?\d+)?)\b/i,escape:r.escape,operator:/[~+*\/\\%]|!(?:\|\|?|=)?|&&?|\|\|?|==|<[<=]?|>[>=]?|-[fd]?|\b(?:def|eq|ge|gt|in|is|le|lt|ne)\b/,punctuation:r.punctuation}}}),n.languages.insertBefore("inside","punctuation",{expression:r.expression,keyword:r.keyword,variable:r.variable,function:r.function,escape:r.escape,"parser-punctuation":{pattern:r.punctuation,alias:"punctuation"}},r.tag.inside["attr-value"])})(e)}return yP}var bP,YQ;function PBe(){if(YQ)return bP;YQ=1,bP=t,t.displayName="pascal",t.aliases=["objectpascal"];function t(e){e.languages.pascal={directive:{pattern:/\{\$[\s\S]*?\}/,greedy:!0,alias:["marco","property"]},comment:{pattern:/\(\*[\s\S]*?\*\)|\{[\s\S]*?\}|\/\/.*/,greedy:!0},string:{pattern:/(?:'(?:''|[^'\r\n])*'(?!')|#[&$%]?[a-f\d]+)+|\^[a-z]/i,greedy:!0},asm:{pattern:/(\basm\b)[\s\S]+?(?=\bend\s*[;[])/i,lookbehind:!0,greedy:!0,inside:null},keyword:[{pattern:/(^|[^&])\b(?:absolute|array|asm|begin|case|const|constructor|destructor|do|downto|else|end|file|for|function|goto|if|implementation|inherited|inline|interface|label|nil|object|of|operator|packed|procedure|program|record|reintroduce|repeat|self|set|string|then|to|type|unit|until|uses|var|while|with)\b/i,lookbehind:!0},{pattern:/(^|[^&])\b(?:dispose|exit|false|new|true)\b/i,lookbehind:!0},{pattern:/(^|[^&])\b(?:class|dispinterface|except|exports|finalization|finally|initialization|inline|library|on|out|packed|property|raise|resourcestring|threadvar|try)\b/i,lookbehind:!0},{pattern:/(^|[^&])\b(?:absolute|abstract|alias|assembler|bitpacked|break|cdecl|continue|cppdecl|cvar|default|deprecated|dynamic|enumerator|experimental|export|external|far|far16|forward|generic|helper|implements|index|interrupt|iochecks|local|message|name|near|nodefault|noreturn|nostackframe|oldfpccall|otherwise|overload|override|pascal|platform|private|protected|public|published|read|register|reintroduce|result|safecall|saveregisters|softfloat|specialize|static|stdcall|stored|strict|unaligned|unimplemented|varargs|virtual|write)\b/i,lookbehind:!0}],number:[/(?:[&%]\d+|\$[a-f\d]+)/i,/\b\d+(?:\.\d+)?(?:e[+-]?\d+)?/i],operator:[/\.\.|\*\*|:=|<[<=>]?|>[>=]?|[+\-*\/]=?|[@^=]/,{pattern:/(^|[^&])\b(?:and|as|div|exclude|in|include|is|mod|not|or|shl|shr|xor)\b/,lookbehind:!0}],punctuation:/\(\.|\.\)|[()\[\]:;,.]/},e.languages.pascal.asm.inside=e.languages.extend("pascal",{asm:void 0,keyword:void 0,operator:void 0}),e.languages.objectpascal=e.languages.pascal}return bP}var vP,XQ;function LBe(){if(XQ)return vP;XQ=1,vP=t,t.displayName="pascaligo",t.aliases=[];function t(e){(function(n){var r=/\((?:[^()]|\((?:[^()]|\([^()]*\))*\))*\)/.source,i=/(?:\b\w+(?:<braces>)?|<braces>)/.source.replace(/<braces>/g,function(){return r}),a=n.languages.pascaligo={comment:/\(\*[\s\S]+?\*\)|\/\/.*/,string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1|\^[a-z]/i,greedy:!0},"class-name":[{pattern:RegExp(/(\btype\s+\w+\s+is\s+)<type>/.source.replace(/<type>/g,function(){return i}),"i"),lookbehind:!0,inside:null},{pattern:RegExp(/<type>(?=\s+is\b)/.source.replace(/<type>/g,function(){return i}),"i"),inside:null},{pattern:RegExp(/(:\s*)<type>/.source.replace(/<type>/g,function(){return i})),lookbehind:!0,inside:null}],keyword:{pattern:/(^|[^&])\b(?:begin|block|case|const|else|end|fail|for|from|function|if|is|nil|of|remove|return|skip|then|type|var|while|with)\b/i,lookbehind:!0},boolean:{pattern:/(^|[^&])\b(?:False|True)\b/i,lookbehind:!0},builtin:{pattern:/(^|[^&])\b(?:bool|int|list|map|nat|record|string|unit)\b/i,lookbehind:!0},function:/\b\w+(?=\s*\()/,number:[/%[01]+|&[0-7]+|\$[a-f\d]+/i,/\b\d+(?:\.\d+)?(?:e[+-]?\d+)?(?:mtz|n)?/i],operator:/->|=\/=|\.\.|\*\*|:=|<[<=>]?|>[>=]?|[+\-*\/]=?|[@^=|]|\b(?:and|mod|or)\b/,punctuation:/\(\.|\.\)|[()\[\]:;,.{}]/},s=["comment","keyword","builtin","operator","punctuation"].reduce(function(o,l){return o[l]=a[l],o},{});a["class-name"].forEach(function(o){o.inside=s})})(e)}return vP}var wP,ZQ;function DBe(){if(ZQ)return wP;ZQ=1,wP=t,t.displayName="pcaxis",t.aliases=["px"];function t(e){e.languages.pcaxis={string:/"[^"]*"/,keyword:{pattern:/((?:^|;)\s*)[-A-Z\d]+(?:\s*\[[-\w]+\])?(?:\s*\("[^"]*"(?:,\s*"[^"]*")*\))?(?=\s*=)/,lookbehind:!0,greedy:!0,inside:{keyword:/^[-A-Z\d]+/,language:{pattern:/^(\s*)\[[-\w]+\]/,lookbehind:!0,inside:{punctuation:/^\[|\]$/,property:/[-\w]+/}},"sub-key":{pattern:/^(\s*)\S[\s\S]*/,lookbehind:!0,inside:{parameter:{pattern:/"[^"]*"/,alias:"property"},punctuation:/^\(|\)$|,/}}}},operator:/=/,tlist:{pattern:/TLIST\s*\(\s*\w+(?:(?:\s*,\s*"[^"]*")+|\s*,\s*"[^"]*"-"[^"]*")?\s*\)/,greedy:!0,inside:{function:/^TLIST/,property:{pattern:/^(\s*\(\s*)\w+/,lookbehind:!0},string:/"[^"]*"/,punctuation:/[(),]/,operator:/-/}},punctuation:/[;,]/,number:{pattern:/(^|\s)\d+(?:\.\d+)?(?!\S)/,lookbehind:!0},boolean:/NO|YES/},e.languages.px=e.languages.pcaxis}return wP}var _P,QQ;function FBe(){if(QQ)return _P;QQ=1,_P=t,t.displayName="peoplecode",t.aliases=["pcode"];function t(e){e.languages.peoplecode={comment:RegExp([/\/\*[\s\S]*?\*\//.source,/\bREM[^;]*;/.source,/<\*(?:[^<*]|\*(?!>)|<(?!\*)|<\*(?:(?!\*>)[\s\S])*\*>)*\*>/.source,/\/\+[\s\S]*?\+\//.source].join("|")),string:{pattern:/'(?:''|[^'\r\n])*'(?!')|"(?:""|[^"\r\n])*"(?!")/,greedy:!0},variable:/%\w+/,"function-definition":{pattern:/((?:^|[^\w-])(?:function|method)\s+)\w+/i,lookbehind:!0,alias:"function"},"class-name":{pattern:/((?:^|[^-\w])(?:as|catch|class|component|create|extends|global|implements|instance|local|of|property|returns)\s+)\w+(?::\w+)*/i,lookbehind:!0,inside:{punctuation:/:/}},keyword:/\b(?:abstract|alias|as|catch|class|component|constant|create|declare|else|end-(?:class|evaluate|for|function|get|if|method|set|try|while)|evaluate|extends|for|function|get|global|if|implements|import|instance|library|local|method|null|of|out|peopleCode|private|program|property|protected|readonly|ref|repeat|returns?|set|step|then|throw|to|try|until|value|when(?:-other)?|while)\b/i,"operator-keyword":{pattern:/\b(?:and|not|or)\b/i,alias:"operator"},function:/[_a-z]\w*(?=\s*\()/i,boolean:/\b(?:false|true)\b/i,number:/\b\d+(?:\.\d+)?\b/,operator:/<>|[<>]=?|!=|\*\*|[-+*/|=@]/,punctuation:/[:.;,()[\]]/},e.languages.pcode=e.languages.peoplecode}return _P}var SP,JQ;function BBe(){if(JQ)return SP;JQ=1,SP=t,t.displayName="perl",t.aliases=[];function t(e){(function(n){var r=/(?:\((?:[^()\\]|\\[\s\S])*\)|\{(?:[^{}\\]|\\[\s\S])*\}|\[(?:[^[\]\\]|\\[\s\S])*\]|<(?:[^<>\\]|\\[\s\S])*>)/.source;n.languages.perl={comment:[{pattern:/(^\s*)=\w[\s\S]*?=cut.*/m,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\$])#.*/,lookbehind:!0,greedy:!0}],string:[{pattern:RegExp(/\b(?:q|qq|qw|qx)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/([a-zA-Z0-9])(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,r].join("|")+")"),greedy:!0},{pattern:/("|`)(?:(?!\1)[^\\]|\\[\s\S])*\1/,greedy:!0},{pattern:/'(?:[^'\\\r\n]|\\.)*'/,greedy:!0}],regex:[{pattern:RegExp(/\b(?:m|qr)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/([a-zA-Z0-9])(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,r].join("|")+")"+/[msixpodualngc]*/.source),greedy:!0},{pattern:RegExp(/(^|[^-])\b(?:s|tr|y)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\2)[^\\]|\\[\s\S])*\2(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,/([a-zA-Z0-9])(?:(?!\3)[^\\]|\\[\s\S])*\3(?:(?!\3)[^\\]|\\[\s\S])*\3/.source,r+/\s*/.source+r].join("|")+")"+/[msixpodualngcer]*/.source),lookbehind:!0,greedy:!0},{pattern:/\/(?:[^\/\\\r\n]|\\.)*\/[msixpodualngc]*(?=\s*(?:$|[\r\n,.;})&|\-+*~<>!?^]|(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|x|xor)\b))/,greedy:!0}],variable:[/[&*$@%]\{\^[A-Z]+\}/,/[&*$@%]\^[A-Z_]/,/[&*$@%]#?(?=\{)/,/[&*$@%]#?(?:(?:::)*'?(?!\d)[\w$]+(?![\w$]))+(?:::)*/,/[&*$@%]\d+/,/(?!%=)[$@%][!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~]/],filehandle:{pattern:/<(?![<=])\S*?>|\b_\b/,alias:"symbol"},"v-string":{pattern:/v\d+(?:\.\d+)*|\d+(?:\.\d+){2,}/,alias:"string"},function:{pattern:/(\bsub[ \t]+)\w+/,lookbehind:!0},keyword:/\b(?:any|break|continue|default|delete|die|do|else|elsif|eval|for|foreach|given|goto|if|last|local|my|next|our|package|print|redo|require|return|say|state|sub|switch|undef|unless|until|use|when|while)\b/,number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)\b/,operator:/-[rwxoRWXOezsfdlpSbctugkTBMAC]\b|\+[+=]?|-[-=>]?|\*\*?=?|\/\/?=?|=[=~>]?|~[~=]?|\|\|?=?|&&?=?|<(?:=>?|<=?)?|>>?=?|![~=]?|[%^]=?|\.(?:=|\.\.?)?|[\\?]|\bx(?:=|\b)|\b(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|xor)\b/,punctuation:/[{}[\];(),:]/}})(e)}return SP}var xP,eJ;function UBe(){if(eJ)return xP;eJ=1;var t=vC();xP=e,e.displayName="phpExtras",e.aliases=[];function e(n){n.register(t),n.languages.insertBefore("php","variable",{this:{pattern:/\$this\b/,alias:"keyword"},global:/\$(?:GLOBALS|HTTP_RAW_POST_DATA|_(?:COOKIE|ENV|FILES|GET|POST|REQUEST|SERVER|SESSION)|argc|argv|http_response_header|php_errormsg)\b/,scope:{pattern:/\b[\w\\]+::/,inside:{keyword:/\b(?:parent|self|static)\b/,punctuation:/::|\\/}}})}return xP}var EP,tJ;function jBe(){if(tJ)return EP;tJ=1;var t=vC(),e=bC();EP=n,n.displayName="phpdoc",n.aliases=[];function n(r){r.register(t),r.register(e),function(i){var a=/(?:\b[a-zA-Z]\w*|[|\\[\]])+/.source;i.languages.phpdoc=i.languages.extend("javadoclike",{parameter:{pattern:RegExp("(@(?:global|param|property(?:-read|-write)?|var)\\s+(?:"+a+"\\s+)?)\\$\\w+"),lookbehind:!0}}),i.languages.insertBefore("phpdoc","keyword",{"class-name":[{pattern:RegExp("(@(?:global|package|param|property(?:-read|-write)?|return|subpackage|throws|var)\\s+)"+a),lookbehind:!0,inside:{keyword:/\b(?:array|bool|boolean|callback|double|false|float|int|integer|mixed|null|object|resource|self|string|true|void)\b/,punctuation:/[|\\[\]()]/}}]}),i.languages.javadoclike.addSupport("php",i.languages.phpdoc)}(r)}return EP}var kP,nJ;function zBe(){if(nJ)return kP;nJ=1;var t=PF();kP=e,e.displayName="plsql",e.aliases=[];function e(n){n.register(t),n.languages.plsql=n.languages.extend("sql",{comment:{pattern:/\/\*[\s\S]*?\*\/|--.*/,greedy:!0},keyword:/\b(?:A|ACCESSIBLE|ADD|AGENT|AGGREGATE|ALL|ALTER|AND|ANY|ARRAY|AS|ASC|AT|ATTRIBUTE|AUTHID|AVG|BEGIN|BETWEEN|BFILE_BASE|BINARY|BLOB_BASE|BLOCK|BODY|BOTH|BOUND|BULK|BY|BYTE|C|CALL|CALLING|CASCADE|CASE|CHAR|CHARACTER|CHARSET|CHARSETFORM|CHARSETID|CHAR_BASE|CHECK|CLOB_BASE|CLONE|CLOSE|CLUSTER|CLUSTERS|COLAUTH|COLLECT|COLUMNS|COMMENT|COMMIT|COMMITTED|COMPILED|COMPRESS|CONNECT|CONSTANT|CONSTRUCTOR|CONTEXT|CONTINUE|CONVERT|COUNT|CRASH|CREATE|CREDENTIAL|CURRENT|CURSOR|CUSTOMDATUM|DANGLING|DATA|DATE|DATE_BASE|DAY|DECLARE|DEFAULT|DEFINE|DELETE|DESC|DETERMINISTIC|DIRECTORY|DISTINCT|DOUBLE|DROP|DURATION|ELEMENT|ELSE|ELSIF|EMPTY|END|ESCAPE|EXCEPT|EXCEPTION|EXCEPTIONS|EXCLUSIVE|EXECUTE|EXISTS|EXIT|EXTERNAL|FETCH|FINAL|FIRST|FIXED|FLOAT|FOR|FORALL|FORCE|FROM|FUNCTION|GENERAL|GOTO|GRANT|GROUP|HASH|HAVING|HEAP|HIDDEN|HOUR|IDENTIFIED|IF|IMMEDIATE|IMMUTABLE|IN|INCLUDING|INDEX|INDEXES|INDICATOR|INDICES|INFINITE|INSERT|INSTANTIABLE|INT|INTERFACE|INTERSECT|INTERVAL|INTO|INVALIDATE|IS|ISOLATION|JAVA|LANGUAGE|LARGE|LEADING|LENGTH|LEVEL|LIBRARY|LIKE|LIKE2|LIKE4|LIKEC|LIMIT|LIMITED|LOCAL|LOCK|LONG|LOOP|MAP|MAX|MAXLEN|MEMBER|MERGE|MIN|MINUS|MINUTE|MOD|MODE|MODIFY|MONTH|MULTISET|MUTABLE|NAME|NAN|NATIONAL|NATIVE|NCHAR|NEW|NOCOMPRESS|NOCOPY|NOT|NOWAIT|NULL|NUMBER_BASE|OBJECT|OCICOLL|OCIDATE|OCIDATETIME|OCIDURATION|OCIINTERVAL|OCILOBLOCATOR|OCINUMBER|OCIRAW|OCIREF|OCIREFCURSOR|OCIROWID|OCISTRING|OCITYPE|OF|OLD|ON|ONLY|OPAQUE|OPEN|OPERATOR|OPTION|OR|ORACLE|ORADATA|ORDER|ORGANIZATION|ORLANY|ORLVARY|OTHERS|OUT|OVERLAPS|OVERRIDING|PACKAGE|PARALLEL_ENABLE|PARAMETER|PARAMETERS|PARENT|PARTITION|PASCAL|PERSISTABLE|PIPE|PIPELINED|PLUGGABLE|POLYMORPHIC|PRAGMA|PRECISION|PRIOR|PRIVATE|PROCEDURE|PUBLIC|RAISE|RANGE|RAW|READ|RECORD|REF|REFERENCE|RELIES_ON|REM|REMAINDER|RENAME|RESOURCE|RESULT|RESULT_CACHE|RETURN|RETURNING|REVERSE|REVOKE|ROLLBACK|ROW|SAMPLE|SAVE|SAVEPOINT|SB1|SB2|SB4|SECOND|SEGMENT|SELECT|SELF|SEPARATE|SEQUENCE|SERIALIZABLE|SET|SHARE|SHORT|SIZE|SIZE_T|SOME|SPARSE|SQL|SQLCODE|SQLDATA|SQLNAME|SQLSTATE|STANDARD|START|STATIC|STDDEV|STORED|STRING|STRUCT|STYLE|SUBMULTISET|SUBPARTITION|SUBSTITUTABLE|SUBTYPE|SUM|SYNONYM|TABAUTH|TABLE|TDO|THE|THEN|TIME|TIMESTAMP|TIMEZONE_ABBR|TIMEZONE_HOUR|TIMEZONE_MINUTE|TIMEZONE_REGION|TO|TRAILING|TRANSACTION|TRANSACTIONAL|TRUSTED|TYPE|UB1|UB2|UB4|UNDER|UNION|UNIQUE|UNPLUG|UNSIGNED|UNTRUSTED|UPDATE|USE|USING|VALIST|VALUE|VALUES|VARIABLE|VARIANCE|VARRAY|VARYING|VIEW|VIEWS|VOID|WHEN|WHERE|WHILE|WITH|WORK|WRAPPED|WRITE|YEAR|ZONE)\b/i,operator:/:=?|=>|[<>^~!]=|\.\.|\|\||\*\*|[-+*/%<>=@]/}),n.languages.insertBefore("plsql","operator",{label:{pattern:/<<\s*\w+\s*>>/,alias:"symbol"}})}return kP}var TP,rJ;function $Be(){if(rJ)return TP;rJ=1,TP=t,t.displayName="powerquery",t.aliases=[];function t(e){e.languages.powerquery={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0,greedy:!0},"quoted-identifier":{pattern:/#"(?:[^"\r\n]|"")*"(?!")/,greedy:!0},string:{pattern:/(?:#!)?"(?:[^"\r\n]|"")*"(?!")/,greedy:!0},constant:[/\bDay\.(?:Friday|Monday|Saturday|Sunday|Thursday|Tuesday|Wednesday)\b/,/\bTraceLevel\.(?:Critical|Error|Information|Verbose|Warning)\b/,/\bOccurrence\.(?:All|First|Last)\b/,/\bOrder\.(?:Ascending|Descending)\b/,/\bRoundingMode\.(?:AwayFromZero|Down|ToEven|TowardZero|Up)\b/,/\bMissingField\.(?:Error|Ignore|UseNull)\b/,/\bQuoteStyle\.(?:Csv|None)\b/,/\bJoinKind\.(?:FullOuter|Inner|LeftAnti|LeftOuter|RightAnti|RightOuter)\b/,/\bGroupKind\.(?:Global|Local)\b/,/\bExtraValues\.(?:Error|Ignore|List)\b/,/\bJoinAlgorithm\.(?:Dynamic|LeftHash|LeftIndex|PairwiseHash|RightHash|RightIndex|SortMerge)\b/,/\bJoinSide\.(?:Left|Right)\b/,/\bPrecision\.(?:Decimal|Double)\b/,/\bRelativePosition\.From(?:End|Start)\b/,/\bTextEncoding\.(?:Ascii|BigEndianUnicode|Unicode|Utf16|Utf8|Windows)\b/,/\b(?:Any|Binary|Date|DateTime|DateTimeZone|Duration|Function|Int16|Int32|Int64|Int8|List|Logical|None|Number|Record|Table|Text|Time)\.Type\b/,/\bnull\b/],boolean:/\b(?:false|true)\b/,keyword:/\b(?:and|as|each|else|error|if|in|is|let|meta|not|nullable|optional|or|otherwise|section|shared|then|try|type)\b|#(?:binary|date|datetime|datetimezone|duration|infinity|nan|sections|shared|table|time)\b/,function:{pattern:/(^|[^#\w.])[a-z_][\w.]*(?=\s*\()/i,lookbehind:!0},"data-type":{pattern:/\b(?:any|anynonnull|binary|date|datetime|datetimezone|duration|function|list|logical|none|number|record|table|text|time)\b/,alias:"class-name"},number:{pattern:/\b0x[\da-f]+\b|(?:[+-]?(?:\b\d+\.)?\b\d+|[+-]\.\d+|(^|[^.])\B\.\d+)(?:e[+-]?\d+)?\b/i,lookbehind:!0},operator:/[-+*\/&?@^]|<(?:=>?|>)?|>=?|=>?|\.\.\.?/,punctuation:/[,;\[\](){}]/},e.languages.pq=e.languages.powerquery,e.languages.mscript=e.languages.powerquery}return TP}var AP,iJ;function qBe(){if(iJ)return AP;iJ=1,AP=t,t.displayName="powershell",t.aliases=[];function t(e){(function(n){var r=n.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};r.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:r},boolean:r.boolean,variable:r.variable}})(e)}return AP}var CP,aJ;function HBe(){if(aJ)return CP;aJ=1,CP=t,t.displayName="processing",t.aliases=[];function t(e){e.languages.processing=e.languages.extend("clike",{keyword:/\b(?:break|case|catch|class|continue|default|else|extends|final|for|if|implements|import|new|null|private|public|return|static|super|switch|this|try|void|while)\b/,function:/\b\w+(?=\s*\()/,operator:/<[<=]?|>[>=]?|&&?|\|\|?|[%?]|[!=+\-*\/]=?/}),e.languages.insertBefore("processing","number",{constant:/\b(?!XML\b)[A-Z][A-Z\d_]+\b/,type:{pattern:/\b(?:boolean|byte|char|color|double|float|int|[A-Z]\w*)\b/,alias:"class-name"}})}return CP}var RP,sJ;function VBe(){if(sJ)return RP;sJ=1,RP=t,t.displayName="prolog",t.aliases=[];function t(e){e.languages.prolog={comment:{pattern:/\/\*[\s\S]*?\*\/|%.*/,greedy:!0},string:{pattern:/(["'])(?:\1\1|\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1(?!\1)/,greedy:!0},builtin:/\b(?:fx|fy|xf[xy]?|yfx?)\b/,function:/\b[a-z]\w*(?:(?=\()|\/\d+)/,number:/\b\d+(?:\.\d*)?/,operator:/[:\\=><\-?*@\/;+^|!$.]+|\b(?:is|mod|not|xor)\b/,punctuation:/[(){}\[\],]/}}return RP}var IP,oJ;function GBe(){if(oJ)return IP;oJ=1,IP=t,t.displayName="promql",t.aliases=[];function t(e){(function(n){var r=["sum","min","max","avg","group","stddev","stdvar","count","count_values","bottomk","topk","quantile"],i=["on","ignoring","group_right","group_left","by","without"],a=["offset"],s=r.concat(i,a);n.languages.promql={comment:{pattern:/(^[ \t]*)#.*/m,lookbehind:!0},"vector-match":{pattern:new RegExp("((?:"+i.join("|")+")\\s*)\\([^)]*\\)"),lookbehind:!0,inside:{"label-key":{pattern:/\b[^,]+\b/,alias:"attr-name"},punctuation:/[(),]/}},"context-labels":{pattern:/\{[^{}]*\}/,inside:{"label-key":{pattern:/\b[a-z_]\w*(?=\s*(?:=|![=~]))/,alias:"attr-name"},"label-value":{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0,alias:"attr-value"},punctuation:/\{|\}|=~?|![=~]|,/}},"context-range":[{pattern:/\[[\w\s:]+\]/,inside:{punctuation:/\[|\]|:/,"range-duration":{pattern:/\b(?:\d+(?:[smhdwy]|ms))+\b/i,alias:"number"}}},{pattern:/(\boffset\s+)\w+/,lookbehind:!0,inside:{"range-duration":{pattern:/\b(?:\d+(?:[smhdwy]|ms))+\b/i,alias:"number"}}}],keyword:new RegExp("\\b(?:"+s.join("|")+")\\b","i"),function:/\b[a-z_]\w*(?=\s*\()/i,number:/[-+]?(?:(?:\b\d+(?:\.\d+)?|\B\.\d+)(?:e[-+]?\d+)?\b|\b(?:0x[0-9a-f]+|nan|inf)\b)/i,operator:/[\^*/%+-]|==|!=|<=|<|>=|>|\b(?:and|or|unless)\b/i,punctuation:/[{};()`,.[\]]/}})(e)}return IP}var NP,lJ;function WBe(){if(lJ)return NP;lJ=1,NP=t,t.displayName="properties",t.aliases=[];function t(e){e.languages.properties={comment:/^[ \t]*[#!].*$/m,"attr-value":{pattern:/(^[ \t]*(?:\\(?:\r\n|[\s\S])|[^\\\s:=])+(?: *[=:] *(?! )| ))(?:\\(?:\r\n|[\s\S])|[^\\\r\n])+/m,lookbehind:!0},"attr-name":/^[ \t]*(?:\\(?:\r\n|[\s\S])|[^\\\s:=])+(?= *[=:]| )/m,punctuation:/[=:]/}}return NP}var OP,uJ;function KBe(){if(uJ)return OP;uJ=1,OP=t,t.displayName="protobuf",t.aliases=[];function t(e){(function(n){var r=/\b(?:bool|bytes|double|s?fixed(?:32|64)|float|[su]?int(?:32|64)|string)\b/;n.languages.protobuf=n.languages.extend("clike",{"class-name":[{pattern:/(\b(?:enum|extend|message|service)\s+)[A-Za-z_]\w*(?=\s*\{)/,lookbehind:!0},{pattern:/(\b(?:rpc\s+\w+|returns)\s*\(\s*(?:stream\s+)?)\.?[A-Za-z_]\w*(?:\.[A-Za-z_]\w*)*(?=\s*\))/,lookbehind:!0}],keyword:/\b(?:enum|extend|extensions|import|message|oneof|option|optional|package|public|repeated|required|reserved|returns|rpc(?=\s+\w)|service|stream|syntax|to)\b(?!\s*=\s*\d)/,function:/\b[a-z_]\w*(?=\s*\()/i}),n.languages.insertBefore("protobuf","operator",{map:{pattern:/\bmap<\s*[\w.]+\s*,\s*[\w.]+\s*>(?=\s+[a-z_]\w*\s*[=;])/i,alias:"class-name",inside:{punctuation:/[<>.,]/,builtin:r}},builtin:r,"positional-class-name":{pattern:/(?:\b|\B\.)[a-z_]\w*(?:\.[a-z_]\w*)*(?=\s+[a-z_]\w*\s*[=;])/i,alias:"class-name",inside:{punctuation:/\./}},annotation:{pattern:/(\[\s*)[a-z_]\w*(?=\s*=)/i,lookbehind:!0}})})(e)}return OP}var MP,cJ;function YBe(){if(cJ)return MP;cJ=1,MP=t,t.displayName="psl",t.aliases=[];function t(e){e.languages.psl={comment:{pattern:/#.*/,greedy:!0},string:{pattern:/"(?:\\.|[^\\"])*"/,greedy:!0,inside:{symbol:/\\[ntrbA-Z"\\]/}},"heredoc-string":{pattern:/<<<([a-zA-Z_]\w*)[\r\n](?:.*[\r\n])*?\1\b/,alias:"string",greedy:!0},keyword:/\b(?:__multi|__single|case|default|do|else|elsif|exit|export|for|foreach|function|if|last|line|local|next|requires|return|switch|until|while|word)\b/,constant:/\b(?:ALARM|CHART_ADD_GRAPH|CHART_DELETE_GRAPH|CHART_DESTROY|CHART_LOAD|CHART_PRINT|EOF|OFFLINE|OK|PSL_PROF_LOG|R_CHECK_HORIZ|R_CHECK_VERT|R_CLICKER|R_COLUMN|R_FRAME|R_ICON|R_LABEL|R_LABEL_CENTER|R_LIST_MULTIPLE|R_LIST_MULTIPLE_ND|R_LIST_SINGLE|R_LIST_SINGLE_ND|R_MENU|R_POPUP|R_POPUP_SCROLLED|R_RADIO_HORIZ|R_RADIO_VERT|R_ROW|R_SCALE_HORIZ|R_SCALE_VERT|R_SEP_HORIZ|R_SEP_VERT|R_SPINNER|R_TEXT_FIELD|R_TEXT_FIELD_LABEL|R_TOGGLE|TRIM_LEADING|TRIM_LEADING_AND_TRAILING|TRIM_REDUNDANT|TRIM_TRAILING|VOID|WARN)\b/,boolean:/\b(?:FALSE|False|NO|No|TRUE|True|YES|Yes|false|no|true|yes)\b/,variable:/\b(?:PslDebug|errno|exit_status)\b/,builtin:{pattern:/\b(?:PslExecute|PslFunctionCall|PslFunctionExists|PslSetOptions|_snmp_debug|acos|add_diary|annotate|annotate_get|ascii_to_ebcdic|asctime|asin|atan|atexit|batch_set|blackout|cat|ceil|chan_exists|change_state|close|code_cvt|cond_signal|cond_wait|console_type|convert_base|convert_date|convert_locale_date|cos|cosh|create|date|dcget_text|destroy|destroy_lock|dget_text|difference|dump_hist|ebcdic_to_ascii|encrypt|event_archive|event_catalog_get|event_check|event_query|event_range_manage|event_range_query|event_report|event_schedule|event_trigger|event_trigger2|execute|exists|exp|fabs|file|floor|fmod|fopen|fseek|ftell|full_discovery|get|get_chan_info|get_ranges|get_text|get_vars|getenv|gethostinfo|getpid|getpname|grep|history|history_get_retention|in_transition|index|int|internal|intersection|is_var|isnumber|join|kill|length|lines|lock|lock_info|log|log10|loge|matchline|msg_check|msg_get_format|msg_get_severity|msg_printf|msg_sprintf|ntharg|nthargf|nthline|nthlinef|num_bytes|num_consoles|pconfig|popen|poplines|pow|print|printf|proc_exists|process|random|read|readln|refresh_parameters|remote_check|remote_close|remote_event_query|remote_event_trigger|remote_file_send|remote_open|remove|replace|rindex|sec_check_priv|sec_store_get|sec_store_set|set|set_alarm_ranges|set_locale|share|sin|sinh|sleep|snmp_agent_config|snmp_agent_start|snmp_agent_stop|snmp_close|snmp_config|snmp_get|snmp_get_next|snmp_h_get|snmp_h_get_next|snmp_h_set|snmp_open|snmp_set|snmp_trap_ignore|snmp_trap_listen|snmp_trap_raise_std_trap|snmp_trap_receive|snmp_trap_register_im|snmp_trap_send|snmp_walk|sopen|sort|splitline|sprintf|sqrt|srandom|str_repeat|strcasecmp|subset|substr|system|tail|tan|tanh|text_domain|time|tmpnam|tolower|toupper|trace_psl_process|trim|union|unique|unlock|unset|va_arg|va_start|write)\b/,alias:"builtin-function"},"foreach-variable":{pattern:/(\bforeach\s+(?:(?:\w+\b|"(?:\\.|[^\\"])*")\s+){0,2})[_a-zA-Z]\w*(?=\s*\()/,lookbehind:!0,greedy:!0},function:/\b[_a-z]\w*\b(?=\s*\()/i,number:/\b(?:0x[0-9a-f]+|\d+(?:\.\d+)?)\b/i,operator:/--|\+\+|&&=?|\|\|=?|<<=?|>>=?|[=!]~|[-+*/%&|^!=<>]=?|\.|[:?]/,punctuation:/[(){}\[\];,]/}}return MP}var PP,dJ;function XBe(){if(dJ)return PP;dJ=1,PP=t,t.displayName="pug",t.aliases=[];function t(e){(function(n){n.languages.pug={comment:{pattern:/(^([\t ]*))\/\/.*(?:(?:\r?\n|\r)\2[\t ].+)*/m,lookbehind:!0},"multiline-script":{pattern:/(^([\t ]*)script\b.*\.[\t ]*)(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/m,lookbehind:!0,inside:n.languages.javascript},filter:{pattern:/(^([\t ]*)):.+(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/m,lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"variable"},text:/\S[\s\S]*/}},"multiline-plain-text":{pattern:/(^([\t ]*)[\w\-#.]+\.[\t ]*)(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/m,lookbehind:!0},markup:{pattern:/(^[\t ]*)<.+/m,lookbehind:!0,inside:n.languages.markup},doctype:{pattern:/((?:^|\n)[\t ]*)doctype(?: .+)?/,lookbehind:!0},"flow-control":{pattern:/(^[\t ]*)(?:case|default|each|else|if|unless|when|while)\b(?: .+)?/m,lookbehind:!0,inside:{each:{pattern:/^each .+? in\b/,inside:{keyword:/\b(?:each|in)\b/,punctuation:/,/}},branch:{pattern:/^(?:case|default|else|if|unless|when|while)\b/,alias:"keyword"},rest:n.languages.javascript}},keyword:{pattern:/(^[\t ]*)(?:append|block|extends|include|prepend)\b.+/m,lookbehind:!0},mixin:[{pattern:/(^[\t ]*)mixin .+/m,lookbehind:!0,inside:{keyword:/^mixin/,function:/\w+(?=\s*\(|\s*$)/,punctuation:/[(),.]/}},{pattern:/(^[\t ]*)\+.+/m,lookbehind:!0,inside:{name:{pattern:/^\+\w+/,alias:"function"},rest:n.languages.javascript}}],script:{pattern:/(^[\t ]*script(?:(?:&[^(]+)?\([^)]+\))*[\t ]).+/m,lookbehind:!0,inside:n.languages.javascript},"plain-text":{pattern:/(^[\t ]*(?!-)[\w\-#.]*[\w\-](?:(?:&[^(]+)?\([^)]+\))*\/?[\t ]).+/m,lookbehind:!0},tag:{pattern:/(^[\t ]*)(?!-)[\w\-#.]*[\w\-](?:(?:&[^(]+)?\([^)]+\))*\/?:?/m,lookbehind:!0,inside:{attributes:[{pattern:/&[^(]+\([^)]+\)/,inside:n.languages.javascript},{pattern:/\([^)]+\)/,inside:{"attr-value":{pattern:/(=\s*(?!\s))(?:\{[^}]*\}|[^,)\r\n]+)/,lookbehind:!0,inside:n.languages.javascript},"attr-name":/[\w-]+(?=\s*!?=|\s*[,)])/,punctuation:/[!=(),]+/}}],punctuation:/:/,"attr-id":/#[\w\-]+/,"attr-class":/\.[\w\-]+/}},code:[{pattern:/(^[\t ]*(?:-|!?=)).+/m,lookbehind:!0,inside:n.languages.javascript}],punctuation:/[.\-!=|]+/};for(var r=/(^([\t ]*)):<filter_name>(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/.source,i=[{filter:"atpl",language:"twig"},{filter:"coffee",language:"coffeescript"},"ejs","handlebars","less","livescript","markdown",{filter:"sass",language:"scss"},"stylus"],a={},s=0,o=i.length;s<o;s++){var l=i[s];l=typeof l=="string"?{filter:l,language:l}:l,n.languages[l.language]&&(a["filter-"+l.filter]={pattern:RegExp(r.replace("<filter_name>",function(){return l.filter}),"m"),lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"variable"},text:{pattern:/\S[\s\S]*/,alias:[l.language,"language-"+l.language],inside:n.languages[l.language]}}})}n.languages.insertBefore("pug","filter",a)})(e)}return PP}var LP,hJ;function ZBe(){if(hJ)return LP;hJ=1,LP=t,t.displayName="puppet",t.aliases=[];function t(e){(function(n){n.languages.puppet={heredoc:[{pattern:/(@\("([^"\r\n\/):]+)"(?:\/[nrts$uL]*)?\).*(?:\r?\n|\r))(?:.*(?:\r?\n|\r(?!\n)))*?[ \t]*(?:\|[ \t]*)?(?:-[ \t]*)?\2/,lookbehind:!0,alias:"string",inside:{punctuation:/(?=\S).*\S(?= *$)/}},{pattern:/(@\(([^"\r\n\/):]+)(?:\/[nrts$uL]*)?\).*(?:\r?\n|\r))(?:.*(?:\r?\n|\r(?!\n)))*?[ \t]*(?:\|[ \t]*)?(?:-[ \t]*)?\2/,lookbehind:!0,greedy:!0,alias:"string",inside:{punctuation:/(?=\S).*\S(?= *$)/}},{pattern:/@\("?(?:[^"\r\n\/):]+)"?(?:\/[nrts$uL]*)?\)/,alias:"string",inside:{punctuation:{pattern:/(\().+?(?=\))/,lookbehind:!0}}}],"multiline-comment":{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0,greedy:!0,alias:"comment"},regex:{pattern:/((?:\bnode\s+|[~=\(\[\{,]\s*|[=+]>\s*|^\s*))\/(?:[^\/\\]|\\[\s\S])+\/(?:[imx]+\b|\B)/,lookbehind:!0,greedy:!0,inside:{"extended-regex":{pattern:/^\/(?:[^\/\\]|\\[\s\S])+\/[im]*x[im]*$/,inside:{comment:/#.*/}}}},comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},string:{pattern:/(["'])(?:\$\{(?:[^'"}]|(["'])(?:(?!\2)[^\\]|\\[\s\S])*\2)+\}|\$(?!\{)|(?!\1)[^\\$]|\\[\s\S])*\1/,greedy:!0,inside:{"double-quoted":{pattern:/^"[\s\S]*"$/,inside:{}}}},variable:{pattern:/\$(?:::)?\w+(?:::\w+)*/,inside:{punctuation:/::/}},"attr-name":/(?:\b\w+|\*)(?=\s*=>)/,function:[{pattern:/(\.)(?!\d)\w+/,lookbehind:!0},/\b(?:contain|debug|err|fail|include|info|notice|realize|require|tag|warning)\b|\b(?!\d)\w+(?=\()/],number:/\b(?:0x[a-f\d]+|\d+(?:\.\d+)?(?:e-?\d+)?)\b/i,boolean:/\b(?:false|true)\b/,keyword:/\b(?:application|attr|case|class|consumes|default|define|else|elsif|function|if|import|inherits|node|private|produces|type|undef|unless)\b/,datatype:{pattern:/\b(?:Any|Array|Boolean|Callable|Catalogentry|Class|Collection|Data|Default|Enum|Float|Hash|Integer|NotUndef|Numeric|Optional|Pattern|Regexp|Resource|Runtime|Scalar|String|Struct|Tuple|Type|Undef|Variant)\b/,alias:"symbol"},operator:/=[=~>]?|![=~]?|<(?:<\|?|[=~|-])?|>[>=]?|->?|~>|\|>?>?|[*\/%+?]|\b(?:and|in|or)\b/,punctuation:/[\[\]{}().,;]|:+/};var r=[{pattern:/(^|[^\\])\$\{(?:[^'"{}]|\{[^}]*\}|(["'])(?:(?!\2)[^\\]|\\[\s\S])*\2)+\}/,lookbehind:!0,inside:{"short-variable":{pattern:/(^\$\{)(?!\w+\()(?:::)?\w+(?:::\w+)*/,lookbehind:!0,alias:"variable",inside:{punctuation:/::/}},delimiter:{pattern:/^\$/,alias:"variable"},rest:n.languages.puppet}},{pattern:/(^|[^\\])\$(?:::)?\w+(?:::\w+)*/,lookbehind:!0,alias:"variable",inside:{punctuation:/::/}}];n.languages.puppet.heredoc[0].inside.interpolation=r,n.languages.puppet.string.inside["double-quoted"].inside.interpolation=r})(e)}return LP}var DP,fJ;function QBe(){if(fJ)return DP;fJ=1,DP=t,t.displayName="pure",t.aliases=[];function t(e){(function(n){n.languages.pure={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0},/#!.+/],"inline-lang":{pattern:/%<[\s\S]+?%>/,greedy:!0,inside:{lang:{pattern:/(^%< *)-\*-.+?-\*-/,lookbehind:!0,alias:"comment"},delimiter:{pattern:/^%<.*|%>$/,alias:"punctuation"}}},string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},number:{pattern:/((?:\.\.)?)(?:\b(?:inf|nan)\b|\b0x[\da-f]+|(?:\b(?:0b)?\d+(?:\.\d+)?|\B\.\d+)(?:e[+-]?\d+)?L?)/i,lookbehind:!0},keyword:/\b(?:NULL|ans|break|bt|case|catch|cd|clear|const|def|del|dump|else|end|exit|extern|false|force|help|if|infix[lr]?|interface|let|ls|mem|namespace|nonfix|of|otherwise|outfix|override|postfix|prefix|private|public|pwd|quit|run|save|show|stats|then|throw|trace|true|type|underride|using|when|with)\b/,function:/\b(?:abs|add_(?:addr|constdef|(?:fundef|interface|macdef|typedef)(?:_at)?|vardef)|all|any|applp?|arity|bigintp?|blob(?:_crc|_size|p)?|boolp?|byte_c?string(?:_pointer)?|byte_(?:matrix|pointer)|calloc|cat|catmap|ceil|char[ps]?|check_ptrtag|chr|clear_sentry|clearsym|closurep?|cmatrixp?|cols?|colcat(?:map)?|colmap|colrev|colvector(?:p|seq)?|complex(?:_float_(?:matrix|pointer)|_matrix(?:_view)?|_pointer|p)?|conj|cookedp?|cst|cstring(?:_(?:dup|list|vector))?|curry3?|cyclen?|del_(?:constdef|fundef|interface|macdef|typedef|vardef)|delete|diag(?:mat)?|dim|dmatrixp?|do|double(?:_matrix(?:_view)?|_pointer|p)?|dowith3?|drop|dropwhile|eval(?:cmd)?|exactp|filter|fix|fixity|flip|float(?:_matrix|_pointer)|floor|fold[lr]1?|frac|free|funp?|functionp?|gcd|get(?:_(?:byte|constdef|double|float|fundef|int(?:64)?|interface(?:_typedef)?|long|macdef|pointer|ptrtag|sentry|short|string|typedef|vardef))?|globsym|hash|head|id|im|imatrixp?|index|inexactp|infp|init|insert|int(?:_matrix(?:_view)?|_pointer|p)?|int64_(?:matrix|pointer)|integerp?|iteraten?|iterwhile|join|keys?|lambdap?|last(?:err(?:pos)?)?|lcd|list[2p]?|listmap|make_ptrtag|malloc|map|matcat|matrixp?|max|member|min|nanp|nargs|nmatrixp?|null|numberp?|ord|pack(?:ed)?|pointer(?:_cast|_tag|_type|p)?|pow|pred|ptrtag|put(?:_(?:byte|double|float|int(?:64)?|long|pointer|short|string))?|rationalp?|re|realp?|realloc|recordp?|redim|reduce(?:_with)?|refp?|repeatn?|reverse|rlistp?|round|rows?|rowcat(?:map)?|rowmap|rowrev|rowvector(?:p|seq)?|same|scan[lr]1?|sentry|sgn|short_(?:matrix|pointer)|slice|smatrixp?|sort|split|str|strcat|stream|stride|string(?:_(?:dup|list|vector)|p)?|subdiag(?:mat)?|submat|subseq2?|substr|succ|supdiag(?:mat)?|symbolp?|tail|take|takewhile|thunkp?|transpose|trunc|tuplep?|typep|ubyte|uint(?:64)?|ulong|uncurry3?|unref|unzip3?|update|ushort|vals?|varp?|vector(?:p|seq)?|void|zip3?|zipwith3?)\b/,special:{pattern:/\b__[a-z]+__\b/i,alias:"builtin"},operator:/(?:[!"#$%&'*+,\-.\/:<=>?@\\^`|~\u00a1-\u00bf\u00d7-\u00f7\u20d0-\u2bff]|\b_+\b)+|\b(?:and|div|mod|not|or)\b/,punctuation:/[(){}\[\];,|]/};var r=["c",{lang:"c++",alias:"cpp"},"fortran"],i=/%< *-\*- *<lang>\d* *-\*-[\s\S]+?%>/.source;r.forEach(function(a){var s=a;if(typeof a!="string"&&(s=a.alias,a=a.lang),n.languages[s]){var o={};o["inline-lang-"+s]={pattern:RegExp(i.replace("<lang>",a.replace(/([.+*?\/\\(){}\[\]])/g,"\\$1")),"i"),inside:n.util.clone(n.languages.pure["inline-lang"].inside)},o["inline-lang-"+s].inside.rest=n.util.clone(n.languages[s]),n.languages.insertBefore("pure","inline-lang",o)}}),n.languages.c&&(n.languages.pure["inline-lang"].inside.rest=n.util.clone(n.languages.c))})(e)}return DP}var FP,pJ;function JBe(){if(pJ)return FP;pJ=1,FP=t,t.displayName="purebasic",t.aliases=[];function t(e){e.languages.purebasic=e.languages.extend("clike",{comment:/;.*/,keyword:/\b(?:align|and|as|break|calldebugger|case|compilercase|compilerdefault|compilerelse|compilerelseif|compilerendif|compilerendselect|compilererror|compilerif|compilerselect|continue|data|datasection|debug|debuglevel|declare|declarec|declarecdll|declaredll|declaremodule|default|define|dim|disableasm|disabledebugger|disableexplicit|else|elseif|enableasm|enabledebugger|enableexplicit|end|enddatasection|enddeclaremodule|endenumeration|endif|endimport|endinterface|endmacro|endmodule|endprocedure|endselect|endstructure|endstructureunion|endwith|enumeration|extends|fakereturn|for|foreach|forever|global|gosub|goto|if|import|importc|includebinary|includefile|includepath|interface|macro|module|newlist|newmap|next|not|or|procedure|procedurec|procedurecdll|proceduredll|procedurereturn|protected|prototype|prototypec|read|redim|repeat|restore|return|runtime|select|shared|static|step|structure|structureunion|swap|threaded|to|until|wend|while|with|xincludefile|xor)\b/i,function:/\b\w+(?:\.\w+)?\s*(?=\()/,number:/(?:\$[\da-f]+|\b-?(?:\d+(?:\.\d+)?|\.\d+)(?:e[+-]?\d+)?)\b/i,operator:/(?:@\*?|\?|\*)\w+|-[>-]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|?\||[~^%?*/@]/}),e.languages.insertBefore("purebasic","keyword",{tag:/#\w+\$?/,asm:{pattern:/(^[\t ]*)!.*/m,lookbehind:!0,alias:"tag",inside:{comment:/;.*/,string:{pattern:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},"label-reference-anonymous":{pattern:/(!\s*j[a-z]+\s+)@[fb]/i,lookbehind:!0,alias:"fasm-label"},"label-reference-addressed":{pattern:/(!\s*j[a-z]+\s+)[A-Z._?$@][\w.?$@~#]*/i,lookbehind:!0,alias:"fasm-label"},keyword:[/\b(?:extern|global)\b[^;\r\n]*/i,/\b(?:CPU|DEFAULT|FLOAT)\b.*/],function:{pattern:/^([\t ]*!\s*)[\da-z]+(?=\s|$)/im,lookbehind:!0},"function-inline":{pattern:/(:\s*)[\da-z]+(?=\s)/i,lookbehind:!0,alias:"function"},label:{pattern:/^([\t ]*!\s*)[A-Za-z._?$@][\w.?$@~#]*(?=:)/m,lookbehind:!0,alias:"fasm-label"},register:/\b(?:st\d|[xyz]mm\d\d?|[cdt]r\d|r\d\d?[bwd]?|[er]?[abcd]x|[abcd][hl]|[er]?(?:bp|di|si|sp)|[cdefgs]s|mm\d+)\b/i,number:/(?:\b|-|(?=\$))(?:0[hx](?:[\da-f]*\.)?[\da-f]+(?:p[+-]?\d+)?|\d[\da-f]+[hx]|\$\d[\da-f]*|0[oq][0-7]+|[0-7]+[oq]|0[by][01]+|[01]+[by]|0[dt]\d+|(?:\d+(?:\.\d+)?|\.\d+)(?:\.?e[+-]?\d+)?[dt]?)\b/i,operator:/[\[\]*+\-/%<>=&|$!,.:]/}}}),delete e.languages.purebasic["class-name"],delete e.languages.purebasic.boolean,e.languages.pbfasm=e.languages.purebasic}return FP}var BP,mJ;function eUe(){if(mJ)return BP;mJ=1;var t=DF();BP=e,e.displayName="purescript",e.aliases=["purs"];function e(n){n.register(t),n.languages.purescript=n.languages.extend("haskell",{keyword:/\b(?:ado|case|class|data|derive|do|else|forall|if|in|infixl|infixr|instance|let|module|newtype|of|primitive|then|type|where)\b|∀/,"import-statement":{pattern:/(^[\t ]*)import\s+[A-Z][\w']*(?:\.[A-Z][\w']*)*(?:\s+as\s+[A-Z][\w']*(?:\.[A-Z][\w']*)*)?(?:\s+hiding\b)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|hiding|import)\b/,punctuation:/\./}},builtin:/\b(?:absurd|add|ap|append|apply|between|bind|bottom|clamp|compare|comparing|compose|conj|const|degree|discard|disj|div|eq|flap|flip|gcd|identity|ifM|join|lcm|liftA1|liftM1|map|max|mempty|min|mod|mul|negate|not|notEq|one|otherwise|recip|show|sub|top|unit|unless|unlessM|void|when|whenM|zero)\b/,operator:[n.languages.haskell.operator[0],n.languages.haskell.operator[2],/[\xa2-\xa6\xa8\xa9\xac\xae-\xb1\xb4\xb8\xd7\xf7\u02c2-\u02c5\u02d2-\u02df\u02e5-\u02eb\u02ed\u02ef-\u02ff\u0375\u0384\u0385\u03f6\u0482\u058d-\u058f\u0606-\u0608\u060b\u060e\u060f\u06de\u06e9\u06fd\u06fe\u07f6\u07fe\u07ff\u09f2\u09f3\u09fa\u09fb\u0af1\u0b70\u0bf3-\u0bfa\u0c7f\u0d4f\u0d79\u0e3f\u0f01-\u0f03\u0f13\u0f15-\u0f17\u0f1a-\u0f1f\u0f34\u0f36\u0f38\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fce\u0fcf\u0fd5-\u0fd8\u109e\u109f\u1390-\u1399\u166d\u17db\u1940\u19de-\u19ff\u1b61-\u1b6a\u1b74-\u1b7c\u1fbd\u1fbf-\u1fc1\u1fcd-\u1fcf\u1fdd-\u1fdf\u1fed-\u1fef\u1ffd\u1ffe\u2044\u2052\u207a-\u207c\u208a-\u208c\u20a0-\u20bf\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211e-\u2123\u2125\u2127\u2129\u212e\u213a\u213b\u2140-\u2144\u214a-\u214d\u214f\u218a\u218b\u2190-\u2307\u230c-\u2328\u232b-\u2426\u2440-\u244a\u249c-\u24e9\u2500-\u2767\u2794-\u27c4\u27c7-\u27e5\u27f0-\u2982\u2999-\u29d7\u29dc-\u29fb\u29fe-\u2b73\u2b76-\u2b95\u2b97-\u2bff\u2ce5-\u2cea\u2e50\u2e51\u2e80-\u2e99\u2e9b-\u2ef3\u2f00-\u2fd5\u2ff0-\u2ffb\u3004\u3012\u3013\u3020\u3036\u3037\u303e\u303f\u309b\u309c\u3190\u3191\u3196-\u319f\u31c0-\u31e3\u3200-\u321e\u322a-\u3247\u3250\u3260-\u327f\u328a-\u32b0\u32c0-\u33ff\u4dc0-\u4dff\ua490-\ua4c6\ua700-\ua716\ua720\ua721\ua789\ua78a\ua828-\ua82b\ua836-\ua839\uaa77-\uaa79\uab5b\uab6a\uab6b\ufb29\ufbb2-\ufbc1\ufdfc\ufdfd\ufe62\ufe64-\ufe66\ufe69\uff04\uff0b\uff1c-\uff1e\uff3e\uff40\uff5c\uff5e\uffe0-\uffe6\uffe8-\uffee\ufffc\ufffd]/]}),n.languages.purs=n.languages.purescript}return BP}var UP,gJ;function tUe(){if(gJ)return UP;gJ=1,UP=t,t.displayName="python",t.aliases=["py"];function t(e){e.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},e.languages.python["string-interpolation"].inside.interpolation.inside.rest=e.languages.python,e.languages.py=e.languages.python}return UP}var jP,yJ;function nUe(){if(yJ)return jP;yJ=1,jP=t,t.displayName="q",t.aliases=[];function t(e){e.languages.q={string:/"(?:\\.|[^"\\\r\n])*"/,comment:[{pattern:/([\t )\]}])\/.*/,lookbehind:!0,greedy:!0},{pattern:/(^|\r?\n|\r)\/[\t ]*(?:(?:\r?\n|\r)(?:.*(?:\r?\n|\r(?!\n)))*?(?:\\(?=[\t ]*(?:\r?\n|\r))|$)|\S.*)/,lookbehind:!0,greedy:!0},{pattern:/^\\[\t ]*(?:\r?\n|\r)[\s\S]+/m,greedy:!0},{pattern:/^#!.+/m,greedy:!0}],symbol:/`(?::\S+|[\w.]*)/,datetime:{pattern:/0N[mdzuvt]|0W[dtz]|\d{4}\.\d\d(?:m|\.\d\d(?:T(?:\d\d(?::\d\d(?::\d\d(?:[.:]\d\d\d)?)?)?)?)?[dz]?)|\d\d:\d\d(?::\d\d(?:[.:]\d\d\d)?)?[uvt]?/,alias:"number"},number:/\b(?![01]:)(?:0N[hje]?|0W[hj]?|0[wn]|0x[\da-fA-F]+|\d+(?:\.\d*)?(?:e[+-]?\d+)?[hjfeb]?)/,keyword:/\\\w+\b|\b(?:abs|acos|aj0?|all|and|any|asc|asin|asof|atan|attr|avgs?|binr?|by|ceiling|cols|cor|cos|count|cov|cross|csv|cut|delete|deltas|desc|dev|differ|distinct|div|do|dsave|ej|enlist|eval|except|exec|exit|exp|fby|fills|first|fkeys|flip|floor|from|get|getenv|group|gtime|hclose|hcount|hdel|hopen|hsym|iasc|identity|idesc|if|ij|in|insert|inter|inv|keys?|last|like|list|ljf?|load|log|lower|lsq|ltime|ltrim|mavg|maxs?|mcount|md5|mdev|med|meta|mins?|mmax|mmin|mmu|mod|msum|neg|next|not|null|or|over|parse|peach|pj|plist|prds?|prev|prior|rand|rank|ratios|raze|read0|read1|reciprocal|reval|reverse|rload|rotate|rsave|rtrim|save|scan|scov|sdev|select|set|setenv|show|signum|sin|sqrt|ssr?|string|sublist|sums?|sv|svar|system|tables|tan|til|trim|txf|type|uj|ungroup|union|update|upper|upsert|value|var|views?|vs|wavg|where|while|within|wj1?|wsum|ww|xasc|xbar|xcols?|xdesc|xexp|xgroup|xkey|xlog|xprev|xrank)\b/,adverb:{pattern:/['\/\\]:?|\beach\b/,alias:"function"},verb:{pattern:/(?:\B\.\B|\b[01]:|<[=>]?|>=?|[:+\-*%,!?~=|$&#@^]):?|\b_\b:?/,alias:"operator"},punctuation:/[(){}\[\];.]/}}return jP}var zP,bJ;function rUe(){if(bJ)return zP;bJ=1,zP=t,t.displayName="qml",t.aliases=[];function t(e){(function(n){for(var r=/"(?:\\.|[^\\"\r\n])*"|'(?:\\.|[^\\'\r\n])*'/.source,i=/\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))*\*\//.source,a=/(?:[^\\()[\]{}"'/]|<string>|\/(?![*/])|<comment>|\(<expr>*\)|\[<expr>*\]|\{<expr>*\}|\\[\s\S])/.source.replace(/<string>/g,function(){return r}).replace(/<comment>/g,function(){return i}),s=0;s<2;s++)a=a.replace(/<expr>/g,function(){return a});a=a.replace(/<expr>/g,"[^\\s\\S]"),n.languages.qml={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},"javascript-function":{pattern:RegExp(/((?:^|;)[ \t]*)function\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*\(<js>*\)\s*\{<js>*\}/.source.replace(/<js>/g,function(){return a}),"m"),lookbehind:!0,greedy:!0,alias:"language-javascript",inside:n.languages.javascript},"class-name":{pattern:/((?:^|[:;])[ \t]*)(?!\d)\w+(?=[ \t]*\{|[ \t]+on\b)/m,lookbehind:!0},property:[{pattern:/((?:^|[;{])[ \t]*)(?!\d)\w+(?:\.\w+)*(?=[ \t]*:)/m,lookbehind:!0},{pattern:/((?:^|[;{])[ \t]*)property[ \t]+(?!\d)\w+(?:\.\w+)*[ \t]+(?!\d)\w+(?:\.\w+)*(?=[ \t]*:)/m,lookbehind:!0,inside:{keyword:/^property/,property:/\w+(?:\.\w+)*/}}],"javascript-expression":{pattern:RegExp(/(:[ \t]*)(?![\s;}[])(?:(?!$|[;}])<js>)+/.source.replace(/<js>/g,function(){return a}),"m"),lookbehind:!0,greedy:!0,alias:"language-javascript",inside:n.languages.javascript},string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},keyword:/\b(?:as|import|on)\b/,punctuation:/[{}[\]:;,]/}})(e)}return zP}var $P,vJ;function iUe(){if(vJ)return $P;vJ=1,$P=t,t.displayName="qore",t.aliases=[];function t(e){e.languages.qore=e.languages.extend("clike",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:\/\/|#).*)/,lookbehind:!0},string:{pattern:/("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},keyword:/\b(?:abstract|any|assert|binary|bool|boolean|break|byte|case|catch|char|class|code|const|continue|data|default|do|double|else|enum|extends|final|finally|float|for|goto|hash|if|implements|import|inherits|instanceof|int|interface|long|my|native|new|nothing|null|object|our|own|private|reference|rethrow|return|short|soft(?:bool|date|float|int|list|number|string)|static|strictfp|string|sub|super|switch|synchronized|this|throw|throws|transient|try|void|volatile|while)\b/,boolean:/\b(?:false|true)\b/i,function:/\$?\b(?!\d)\w+(?=\()/,number:/\b(?:0b[01]+|0x(?:[\da-f]*\.)?[\da-fp\-]+|(?:\d+(?:\.\d+)?|\.\d+)(?:e\d+)?[df]|(?:\d+(?:\.\d+)?|\.\d+))\b/i,operator:{pattern:/(^|[^.])(?:\+[+=]?|-[-=]?|[!=](?:==?|~)?|>>?=?|<(?:=>?|<=?)?|&[&=]?|\|[|=]?|[*\/%^]=?|[~?])/,lookbehind:!0},variable:/\$(?!\d)\w+\b/})}return $P}var qP,wJ;function aUe(){if(wJ)return qP;wJ=1,qP=t,t.displayName="qsharp",t.aliases=["qs"];function t(e){(function(n){function r(v,w){return v.replace(/<<(\d+)>>/g,function(k,T){return"(?:"+w[+T]+")"})}function i(v,w,k){return RegExp(r(v,w),"")}function a(v,w){for(var k=0;k<w;k++)v=v.replace(/<<self>>/g,function(){return"(?:"+v+")"});return v.replace(/<<self>>/g,"[^\\s\\S]")}var s={type:"Adj BigInt Bool Ctl Double false Int One Pauli PauliI PauliX PauliY PauliZ Qubit Range Result String true Unit Zero",other:"Adjoint adjoint apply as auto body borrow borrowing Controlled controlled distribute elif else fail fixup for function if in internal intrinsic invert is let mutable namespace new newtype open operation repeat return self set until use using while within"};function o(v){return"\\b(?:"+v.trim().replace(/ /g,"|")+")\\b"}var l=RegExp(o(s.type+" "+s.other)),u=/\b[A-Za-z_]\w*\b/.source,d=r(/<<0>>(?:\s*\.\s*<<0>>)*/.source,[u]),h={keyword:l,punctuation:/[<>()?,.:[\]]/},p=/"(?:\\.|[^\\"])*"/.source;n.languages.qsharp=n.languages.extend("clike",{comment:/\/\/.*/,string:[{pattern:i(/(^|[^$\\])<<0>>/.source,[p]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:i(/(\b(?:as|open)\s+)<<0>>(?=\s*(?:;|as\b))/.source,[d]),lookbehind:!0,inside:h},{pattern:i(/(\bnamespace\s+)<<0>>(?=\s*\{)/.source,[d]),lookbehind:!0,inside:h}],keyword:l,number:/(?:\b0(?:x[\da-f]+|b[01]+|o[0-7]+)|(?:\B\.\d+|\b\d+(?:\.\d*)?)(?:e[-+]?\d+)?)l?\b/i,operator:/\band=|\bor=|\band\b|\bnot\b|\bor\b|<[-=]|[-=]>|>>>=?|<<<=?|\^\^\^=?|\|\|\|=?|&&&=?|w\/=?|~~~|[*\/+\-^=!%]=?/,punctuation:/::|[{}[\];(),.:]/}),n.languages.insertBefore("qsharp","number",{range:{pattern:/\.\./,alias:"operator"}});var m=a(r(/\{(?:[^"{}]|<<0>>|<<self>>)*\}/.source,[p]),2);n.languages.insertBefore("qsharp","string",{"interpolation-string":{pattern:i(/\$"(?:\\.|<<0>>|[^\\"{])*"/.source,[m]),greedy:!0,inside:{interpolation:{pattern:i(/((?:^|[^\\])(?:\\\\)*)<<0>>/.source,[m]),lookbehind:!0,inside:{punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-qsharp",inside:n.languages.qsharp}}},string:/[\s\S]+/}}})})(e),e.languages.qs=e.languages.qsharp}return qP}var HP,_J;function sUe(){if(_J)return HP;_J=1,HP=t,t.displayName="r",t.aliases=[];function t(e){e.languages.r={comment:/#.*/,string:{pattern:/(['"])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},"percent-operator":{pattern:/%[^%\s]*%/,alias:"operator"},boolean:/\b(?:FALSE|TRUE)\b/,ellipsis:/\.\.(?:\.|\d+)/,number:[/\b(?:Inf|NaN)\b/,/(?:\b0x[\dA-Fa-f]+(?:\.\d*)?|\b\d+(?:\.\d*)?|\B\.\d+)(?:[EePp][+-]?\d+)?[iL]?/],keyword:/\b(?:NA|NA_character_|NA_complex_|NA_integer_|NA_real_|NULL|break|else|for|function|if|in|next|repeat|while)\b/,operator:/->?>?|<(?:=|<?-)?|[>=!]=?|::?|&&?|\|\|?|[+*\/^$@~]/,punctuation:/[(){}\[\],;]/}}return HP}var VP,SJ;function oUe(){if(SJ)return VP;SJ=1;var t=jF();VP=e,e.displayName="racket",e.aliases=["rkt"];function e(n){n.register(t),n.languages.racket=n.languages.extend("scheme",{"lambda-parameter":{pattern:/([(\[]lambda\s+[(\[])[^()\[\]'\s]+/,lookbehind:!0}}),n.languages.insertBefore("racket","string",{lang:{pattern:/^#lang.+/m,greedy:!0,alias:"keyword"}}),n.languages.rkt=n.languages.racket}return VP}var GP,xJ;function lUe(){if(xJ)return GP;xJ=1,GP=t,t.displayName="reason",t.aliases=[];function t(e){e.languages.reason=e.languages.extend("clike",{string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},"class-name":/\b[A-Z]\w*/,keyword:/\b(?:and|as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|sig|struct|switch|then|to|try|type|val|virtual|when|while|with)\b/,operator:/\.{3}|:[:=]|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:asr|land|lor|lsl|lsr|lxor|mod)\b/}),e.languages.insertBefore("reason","class-name",{char:{pattern:/'(?:\\x[\da-f]{2}|\\o[0-3][0-7][0-7]|\\\d{3}|\\.|[^'\\\r\n])'/,greedy:!0},constructor:/\b[A-Z]\w*\b(?!\s*\.)/,label:{pattern:/\b[a-z]\w*(?=::)/,alias:"symbol"}}),delete e.languages.reason.function}return GP}var WP,EJ;function uUe(){if(EJ)return WP;EJ=1,WP=t,t.displayName="regex",t.aliases=[];function t(e){(function(n){var r={pattern:/\\[\\(){}[\]^$+*?|.]/,alias:"escape"},i=/\\(?:x[\da-fA-F]{2}|u[\da-fA-F]{4}|u\{[\da-fA-F]+\}|0[0-7]{0,2}|[123][0-7]{2}|c[a-zA-Z]|.)/,a={pattern:/\.|\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},s={pattern:/\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},o="(?:[^\\\\-]|"+i.source+")",l=RegExp(o+"-"+o),u={pattern:/(<|')[^<>']+(?=[>']$)/,lookbehind:!0,alias:"variable"};n.languages.regex={"char-class":{pattern:/((?:^|[^\\])(?:\\\\)*)\[(?:[^\\\]]|\\[\s\S])*\]/,lookbehind:!0,inside:{"char-class-negation":{pattern:/(^\[)\^/,lookbehind:!0,alias:"operator"},"char-class-punctuation":{pattern:/^\[|\]$/,alias:"punctuation"},range:{pattern:l,inside:{escape:i,"range-punctuation":{pattern:/-/,alias:"operator"}}},"special-escape":r,"char-set":s,escape:i}},"special-escape":r,"char-set":a,backreference:[{pattern:/\\(?![123][0-7]{2})[1-9]/,alias:"keyword"},{pattern:/\\k<[^<>']+>/,alias:"keyword",inside:{"group-name":u}}],anchor:{pattern:/[$^]|\\[ABbGZz]/,alias:"function"},escape:i,group:[{pattern:/\((?:\?(?:<[^<>']+>|'[^<>']+'|[>:]|<?[=!]|[idmnsuxU]+(?:-[idmnsuxU]+)?:?))?/,alias:"punctuation",inside:{"group-name":u}},{pattern:/\)/,alias:"punctuation"}],quantifier:{pattern:/(?:[+*?]|\{\d+(?:,\d*)?\})[?+]?/,alias:"number"},alternation:{pattern:/\|/,alias:"keyword"}}})(e)}return WP}var KP,kJ;function cUe(){if(kJ)return KP;kJ=1,KP=t,t.displayName="rego",t.aliases=[];function t(e){e.languages.rego={comment:/#.*/,property:{pattern:/(^|[^\\.])(?:"(?:\\.|[^\\"\r\n])*"|`[^`]*`|\b[a-z_]\w*\b)(?=\s*:(?!=))/i,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:as|default|else|import|not|null|package|set(?=\s*\()|some|with)\b/,boolean:/\b(?:false|true)\b/,function:{pattern:/\b[a-z_]\w*\b(?:\s*\.\s*\b[a-z_]\w*\b)*(?=\s*\()/i,inside:{namespace:/\b\w+\b(?=\s*\.)/,punctuation:/\./}},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,operator:/[-+*/%|&]|[<>:=]=?|!=|\b_\b/,punctuation:/[,;.\[\]{}()]/}}return KP}var YP,TJ;function dUe(){if(TJ)return YP;TJ=1,YP=t,t.displayName="renpy",t.aliases=["rpy"];function t(e){e.languages.renpy={comment:{pattern:/(^|[^\\])#.+/,lookbehind:!0},string:{pattern:/("""|''')[\s\S]+?\1|("|')(?:\\.|(?!\2)[^\\])*\2|(?:^#?(?:(?:[0-9a-fA-F]){3}|[0-9a-fA-F]{6})$)/m,greedy:!0},function:/\b[a-z_]\w*(?=\()/i,property:/\b(?:Update|UpdateVersion|action|activate_sound|adv_nvl_transition|after_load_transition|align|alpha|alt|anchor|antialias|area|auto|background|bar_invert|bar_resizing|bar_vertical|black_color|bold|bottom_bar|bottom_gutter|bottom_margin|bottom_padding|box_reverse|box_wrap|can_update|caret|child|color|crop|default_afm_enable|default_afm_time|default_fullscreen|default_text_cps|developer|directory_name|drag_handle|drag_joined|drag_name|drag_raise|draggable|dragged|drop_shadow|drop_shadow_color|droppable|dropped|easein|easeout|edgescroll|end_game_transition|end_splash_transition|enter_replay_transition|enter_sound|enter_transition|enter_yesno_transition|executable_name|exit_replay_transition|exit_sound|exit_transition|exit_yesno_transition|fadein|fadeout|first_indent|first_spacing|fit_first|focus|focus_mask|font|foreground|game_main_transition|get_installed_packages|google_play_key|google_play_salt|ground|has_music|has_sound|has_voice|height|help|hinting|hover|hover_background|hover_color|hover_sound|hovered|hyperlink_functions|idle|idle_color|image_style|include_update|insensitive|insensitive_background|insensitive_color|inside|intra_transition|italic|justify|kerning|keyboard_focus|language|layer_clipping|layers|layout|left_bar|left_gutter|left_margin|left_padding|length|line_leading|line_overlap_split|line_spacing|linear|main_game_transition|main_menu_music|maximum|min_width|minimum|minwidth|modal|mouse|mousewheel|name|narrator_menu|newline_indent|nvl_adv_transition|offset|order_reverse|outlines|overlay_functions|pos|position|prefix|radius|range|rest_indent|right_bar|right_gutter|right_margin|right_padding|rotate|rotate_pad|ruby_style|sample_sound|save_directory|say_attribute_transition|screen_height|screen_width|scrollbars|selected_hover|selected_hover_color|selected_idle|selected_idle_color|selected_insensitive|show_side_image|show_two_window|side_spacing|side_xpos|side_ypos|size|size_group|slow_cps|slow_cps_multiplier|spacing|strikethrough|subpixel|text_align|text_style|text_xpos|text_y_fudge|text_ypos|thumb|thumb_offset|thumb_shadow|thumbnail_height|thumbnail_width|time|top_bar|top_gutter|top_margin|top_padding|translations|underline|unscrollable|update|value|version|version_name|version_tuple|vertical|width|window_hide_transition|window_icon|window_left_padding|window_show_transition|window_title|windows_icon|xadjustment|xalign|xanchor|xanchoraround|xaround|xcenter|xfill|xinitial|xmargin|xmaximum|xminimum|xoffset|xofsset|xpadding|xpos|xsize|xzoom|yadjustment|yalign|yanchor|yanchoraround|yaround|ycenter|yfill|yinitial|ymargin|ymaximum|yminimum|yoffset|ypadding|ypos|ysize|ysizexysize|yzoom|zoom|zorder)\b/,tag:/\b(?:bar|block|button|buttoscreenn|drag|draggroup|fixed|frame|grid|[hv]box|hotbar|hotspot|image|imagebutton|imagemap|input|key|label|menu|mm_menu_frame|mousearea|nvl|parallel|screen|self|side|tag|text|textbutton|timer|vbar|viewport|window)\b|\$/,keyword:/\b(?:None|add|adjustment|alignaround|allow|angle|animation|around|as|assert|behind|box_layout|break|build|cache|call|center|changed|child_size|choice|circles|class|clear|clicked|clipping|clockwise|config|contains|continue|corner1|corner2|counterclockwise|def|default|define|del|delay|disabled|disabled_text|dissolve|elif|else|event|except|exclude|exec|expression|fade|finally|for|from|function|global|gm_root|has|hide|id|if|import|in|init|is|jump|knot|lambda|left|less_rounded|mm_root|movie|music|null|on|onlayer|pass|pause|persistent|play|print|python|queue|raise|random|renpy|repeat|return|right|rounded_window|scene|scope|set|show|slow|slow_abortable|slow_done|sound|stop|store|style|style_group|substitute|suffix|theme|transform|transform_anchor|transpose|try|ui|unhovered|updater|use|voice|while|widget|widget_hover|widget_selected|widget_text|yield)\b/,boolean:/\b(?:[Ff]alse|[Tt]rue)\b/,number:/(?:\b(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?)|\B\.\d+)(?:e[+-]?\d+)?j?/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]|\b(?:and|at|not|or|with)\b/,punctuation:/[{}[\];(),.:]/},e.languages.rpy=e.languages.renpy}return YP}var XP,AJ;function hUe(){if(AJ)return XP;AJ=1,XP=t,t.displayName="rest",t.aliases=[];function t(e){e.languages.rest={table:[{pattern:/(^[\t ]*)(?:\+[=-]+)+\+(?:\r?\n|\r)(?:\1[+|].+[+|](?:\r?\n|\r))+\1(?:\+[=-]+)+\+/m,lookbehind:!0,inside:{punctuation:/\||(?:\+[=-]+)+\+/}},{pattern:/(^[\t ]*)=+ [ =]*=(?:(?:\r?\n|\r)\1.+)+(?:\r?\n|\r)\1=+ [ =]*=(?=(?:\r?\n|\r){2}|\s*$)/m,lookbehind:!0,inside:{punctuation:/[=-]+/}}],"substitution-def":{pattern:/(^[\t ]*\.\. )\|(?:[^|\s](?:[^|]*[^|\s])?)\| [^:]+::/m,lookbehind:!0,inside:{substitution:{pattern:/^\|(?:[^|\s]|[^|\s][^|]*[^|\s])\|/,alias:"attr-value",inside:{punctuation:/^\||\|$/}},directive:{pattern:/( )(?! )[^:]+::/,lookbehind:!0,alias:"function",inside:{punctuation:/::$/}}}},"link-target":[{pattern:/(^[\t ]*\.\. )\[[^\]]+\]/m,lookbehind:!0,alias:"string",inside:{punctuation:/^\[|\]$/}},{pattern:/(^[\t ]*\.\. )_(?:`[^`]+`|(?:[^:\\]|\\.)+):/m,lookbehind:!0,alias:"string",inside:{punctuation:/^_|:$/}}],directive:{pattern:/(^[\t ]*\.\. )[^:]+::/m,lookbehind:!0,alias:"function",inside:{punctuation:/::$/}},comment:{pattern:/(^[\t ]*\.\.)(?:(?: .+)?(?:(?:\r?\n|\r).+)+| .+)(?=(?:\r?\n|\r){2}|$)/m,lookbehind:!0},title:[{pattern:/^(([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\2+)(?:\r?\n|\r).+(?:\r?\n|\r)\1$/m,inside:{punctuation:/^[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]+|[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]+$/,important:/.+/}},{pattern:/(^|(?:\r?\n|\r){2}).+(?:\r?\n|\r)([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\2+(?=\r?\n|\r|$)/,lookbehind:!0,inside:{punctuation:/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]+$/,important:/.+/}}],hr:{pattern:/((?:\r?\n|\r){2})([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\2{3,}(?=(?:\r?\n|\r){2})/,lookbehind:!0,alias:"punctuation"},field:{pattern:/(^[\t ]*):[^:\r\n]+:(?= )/m,lookbehind:!0,alias:"attr-name"},"command-line-option":{pattern:/(^[\t ]*)(?:[+-][a-z\d]|(?:--|\/)[a-z\d-]+)(?:[ =](?:[a-z][\w-]*|<[^<>]+>))?(?:, (?:[+-][a-z\d]|(?:--|\/)[a-z\d-]+)(?:[ =](?:[a-z][\w-]*|<[^<>]+>))?)*(?=(?:\r?\n|\r)? {2,}\S)/im,lookbehind:!0,alias:"symbol"},"literal-block":{pattern:/::(?:\r?\n|\r){2}([ \t]+)(?![ \t]).+(?:(?:\r?\n|\r)\1.+)*/,inside:{"literal-block-punctuation":{pattern:/^::/,alias:"punctuation"}}},"quoted-literal-block":{pattern:/::(?:\r?\n|\r){2}([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]).*(?:(?:\r?\n|\r)\1.*)*/,inside:{"literal-block-punctuation":{pattern:/^(?:::|([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\1*)/m,alias:"punctuation"}}},"list-bullet":{pattern:/(^[\t ]*)(?:[*+\-•‣⁃]|\(?(?:\d+|[a-z]|[ivxdclm]+)\)|(?:\d+|[a-z]|[ivxdclm]+)\.)(?= )/im,lookbehind:!0,alias:"punctuation"},"doctest-block":{pattern:/(^[\t ]*)>>> .+(?:(?:\r?\n|\r).+)*/m,lookbehind:!0,inside:{punctuation:/^>>>/}},inline:[{pattern:/(^|[\s\-:\/'"<(\[{])(?::[^:]+:`.*?`|`.*?`:[^:]+:|(\*\*?|``?|\|)(?!\s)(?:(?!\2).)*\S\2(?=[\s\-.,:;!?\\\/'")\]}]|$))/m,lookbehind:!0,inside:{bold:{pattern:/(^\*\*).+(?=\*\*$)/,lookbehind:!0},italic:{pattern:/(^\*).+(?=\*$)/,lookbehind:!0},"inline-literal":{pattern:/(^``).+(?=``$)/,lookbehind:!0,alias:"symbol"},role:{pattern:/^:[^:]+:|:[^:]+:$/,alias:"function",inside:{punctuation:/^:|:$/}},"interpreted-text":{pattern:/(^`).+(?=`$)/,lookbehind:!0,alias:"attr-value"},substitution:{pattern:/(^\|).+(?=\|$)/,lookbehind:!0,alias:"attr-value"},punctuation:/\*\*?|``?|\|/}}],link:[{pattern:/\[[^\[\]]+\]_(?=[\s\-.,:;!?\\\/'")\]}]|$)/,alias:"string",inside:{punctuation:/^\[|\]_$/}},{pattern:/(?:\b[a-z\d]+(?:[_.:+][a-z\d]+)*_?_|`[^`]+`_?_|_`[^`]+`)(?=[\s\-.,:;!?\\\/'")\]}]|$)/i,alias:"string",inside:{punctuation:/^_?`|`$|`?_?_$/}}],punctuation:{pattern:/(^[\t ]*)(?:\|(?= |$)|(?:---?|—|\.\.|__)(?= )|\.\.$)/m,lookbehind:!0}}}return XP}var ZP,CJ;function fUe(){if(CJ)return ZP;CJ=1,ZP=t,t.displayName="rip",t.aliases=[];function t(e){e.languages.rip={comment:{pattern:/#.*/,greedy:!0},char:{pattern:/\B`[^\s`'",.:;#\/\\()<>\[\]{}]\b/,greedy:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},regex:{pattern:/(^|[^/])\/(?!\/)(?:\[[^\n\r\]]*\]|\\.|[^/\\\r\n\[])+\/(?=\s*(?:$|[\r\n,.;})]))/,lookbehind:!0,greedy:!0},keyword:/(?:=>|->)|\b(?:case|catch|class|else|exit|finally|if|raise|return|switch|try)\b/,builtin:/@|\bSystem\b/,boolean:/\b(?:false|true)\b/,date:/\b\d{4}-\d{2}-\d{2}\b/,time:/\b\d{2}:\d{2}:\d{2}\b/,datetime:/\b\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\b/,symbol:/:[^\d\s`'",.:;#\/\\()<>\[\]{}][^\s`'",.:;#\/\\()<>\[\]{}]*/,number:/[+-]?\b(?:\d+\.\d+|\d+)\b/,punctuation:/(?:\.{2,3})|[`,.:;=\/\\()<>\[\]{}]/,reference:/[^\d\s`'",.:;#\/\\()<>\[\]{}][^\s`'",.:;#\/\\()<>\[\]{}]*/}}return ZP}var QP,RJ;function pUe(){if(RJ)return QP;RJ=1,QP=t,t.displayName="roboconf",t.aliases=[];function t(e){e.languages.roboconf={comment:/#.*/,keyword:{pattern:/(^|\s)(?:(?:external|import)\b|(?:facet|instance of)(?=[ \t]+[\w-]+[ \t]*\{))/,lookbehind:!0},component:{pattern:/[\w-]+(?=[ \t]*\{)/,alias:"variable"},property:/[\w.-]+(?=[ \t]*:)/,value:{pattern:/(=[ \t]*(?![ \t]))[^,;]+/,lookbehind:!0,alias:"attr-value"},optional:{pattern:/\(optional\)/,alias:"builtin"},wildcard:{pattern:/(\.)\*/,lookbehind:!0,alias:"operator"},punctuation:/[{},.;:=]/}}return QP}var JP,IJ;function mUe(){if(IJ)return JP;IJ=1,JP=t,t.displayName="robotframework",t.aliases=[];function t(e){(function(n){var r={pattern:/(^[ \t]*| {2}|\t)#.*/m,lookbehind:!0,greedy:!0},i={pattern:/((?:^|[^\\])(?:\\{2})*)[$@&%]\{(?:[^{}\r\n]|\{[^{}\r\n]*\})*\}/,lookbehind:!0,inside:{punctuation:/^[$@&%]\{|\}$/}};function a(u,d){var h={};h["section-header"]={pattern:/^ ?\*{3}.+?\*{3}/,alias:"keyword"};for(var p in d)h[p]=d[p];return h.tag={pattern:/([\r\n](?: {2}|\t)[ \t]*)\[[-\w]+\]/,lookbehind:!0,inside:{punctuation:/\[|\]/}},h.variable=i,h.comment=r,{pattern:RegExp(/^ ?\*{3}[ \t]*<name>[ \t]*\*{3}(?:.|[\r\n](?!\*{3}))*/.source.replace(/<name>/g,function(){return u}),"im"),alias:"section",inside:h}}var s={pattern:/(\[Documentation\](?: {2}|\t)[ \t]*)(?![ \t]|#)(?:.|(?:\r\n?|\n)[ \t]*\.{3})+/,lookbehind:!0,alias:"string"},o={pattern:/([\r\n] ?)(?!#)(?:\S(?:[ \t]\S)*)+/,lookbehind:!0,alias:"function",inside:{variable:i}},l={pattern:/([\r\n](?: {2}|\t)[ \t]*)(?!\[|\.{3}|#)(?:\S(?:[ \t]\S)*)+/,lookbehind:!0,inside:{variable:i}};n.languages.robotframework={settings:a("Settings",{documentation:{pattern:/([\r\n] ?Documentation(?: {2}|\t)[ \t]*)(?![ \t]|#)(?:.|(?:\r\n?|\n)[ \t]*\.{3})+/,lookbehind:!0,alias:"string"},property:{pattern:/([\r\n] ?)(?!\.{3}|#)(?:\S(?:[ \t]\S)*)+/,lookbehind:!0}}),variables:a("Variables"),"test-cases":a("Test Cases",{"test-name":o,documentation:s,property:l}),keywords:a("Keywords",{"keyword-name":o,documentation:s,property:l}),tasks:a("Tasks",{"task-name":o,documentation:s,property:l}),comment:r},n.languages.robot=n.languages.robotframework})(e)}return JP}var eL,NJ;function gUe(){if(NJ)return eL;NJ=1,eL=t,t.displayName="rust",t.aliases=[];function t(e){(function(n){for(var r=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,i=0;i<2;i++)r=r.replace(/<self>/g,function(){return r});r=r.replace(/<self>/g,function(){return/[^\s\S]/.source}),n.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+r),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},n.languages.rust["closure-params"].inside.rest=n.languages.rust,n.languages.rust.attribute.inside.string=n.languages.rust.string})(e)}return eL}var tL,OJ;function yUe(){if(OJ)return tL;OJ=1,tL=t,t.displayName="sas",t.aliases=[];function t(e){(function(n){var r=/(?:"(?:""|[^"])*"(?!")|'(?:''|[^'])*'(?!'))/.source,i=/\b(?:\d[\da-f]*x|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/i,a={pattern:RegExp(r+"[bx]"),alias:"number"},s={pattern:/&[a-z_]\w*/i},o={pattern:/((?:^|\s|=|\())%(?:ABORT|BY|CMS|COPY|DISPLAY|DO|ELSE|END|EVAL|GLOBAL|GO|GOTO|IF|INC|INCLUDE|INDEX|INPUT|KTRIM|LENGTH|LET|LIST|LOCAL|PUT|QKTRIM|QSCAN|QSUBSTR|QSYSFUNC|QUPCASE|RETURN|RUN|SCAN|SUBSTR|SUPERQ|SYMDEL|SYMEXIST|SYMGLOBL|SYMLOCAL|SYSCALL|SYSEVALF|SYSEXEC|SYSFUNC|SYSGET|SYSRPUT|THEN|TO|TSO|UNQUOTE|UNTIL|UPCASE|WHILE|WINDOW)\b/i,lookbehind:!0,alias:"keyword"},l={pattern:/(^|\s)(?:proc\s+\w+|data(?!=)|quit|run)\b/i,alias:"keyword",lookbehind:!0},u=[/\/\*[\s\S]*?\*\//,{pattern:/(^[ \t]*|;\s*)\*[^;]*;/m,lookbehind:!0}],d={pattern:RegExp(r),greedy:!0},h=/[$%@.(){}\[\];,\\]/,p={pattern:/%?\b\w+(?=\()/,alias:"keyword"},m={function:p,"arg-value":{pattern:/(=\s*)[A-Z\.]+/i,lookbehind:!0},operator:/=/,"macro-variable":s,arg:{pattern:/[A-Z]+/i,alias:"keyword"},number:i,"numeric-constant":a,punctuation:h,string:d},v={pattern:/\b(?:format|put)\b=?[\w'$.]+/i,inside:{keyword:/^(?:format|put)(?==)/i,equals:/=/,format:{pattern:/(?:\w|\$\d)+\.\d?/,alias:"number"}}},w={pattern:/\b(?:format|put)\s+[\w']+(?:\s+[$.\w]+)+(?=;)/i,inside:{keyword:/^(?:format|put)/i,format:{pattern:/[\w$]+\.\d?/,alias:"number"}}},k={pattern:/((?:^|\s)=?)(?:catname|checkpoint execute_always|dm|endsas|filename|footnote|%include|libname|%list|lock|missing|options|page|resetline|%run|sasfile|skip|sysecho|title\d?)\b/i,lookbehind:!0,alias:"keyword"},T={pattern:/(^|\s)(?:submit(?:\s+(?:load|norun|parseonly))?|endsubmit)\b/i,lookbehind:!0,alias:"keyword"},C=/aStore|accessControl|aggregation|audio|autotune|bayesianNetClassifier|bioMedImage|boolRule|builtins|cardinality|cdm|clustering|conditionalRandomFields|configuration|copula|countreg|dataDiscovery|dataPreprocess|dataSciencePilot|dataStep|decisionTree|deduplication|deepLearn|deepNeural|deepRnn|ds2|ecm|entityRes|espCluster|explainModel|factmac|fastKnn|fcmpact|fedSql|freqTab|gVarCluster|gam|gleam|graphSemiSupLearn|hiddenMarkovModel|hyperGroup|ica|image|iml|kernalPca|langModel|ldaTopic|loadStreams|mbc|mixed|mlTools|modelPublishing|network|neuralNet|nmf|nonParametricBayes|nonlinear|optNetwork|optimization|panel|pca|percentile|phreg|pls|qkb|qlim|quantreg|recommend|regression|reinforcementLearn|robustPca|ruleMining|sampling|sandwich|sccasl|search(?:Analytics)?|sentimentAnalysis|sequence|session(?:Prop)?|severity|simSystem|simple|smartData|sparkEmbeddedProcess|sparseML|spatialreg|spc|stabilityMonitoring|svDataDescription|svm|table|text(?:Filters|Frequency|Mining|Parse|Rule(?:Develop|Score)|Topic|Util)|timeData|transpose|tsInfo|tsReconcile|uniTimeSeries|varReduce/.source,N={pattern:RegExp(/(^|\s)(?:action\s+)?(?:<act>)\.[a-z]+\b[^;]+/.source.replace(/<act>/g,function(){return C}),"i"),lookbehind:!0,inside:{keyword:RegExp(/(?:<act>)\.[a-z]+\b/.source.replace(/<act>/g,function(){return C}),"i"),action:{pattern:/(?:action)/i,alias:"keyword"},comment:u,function:p,"arg-value":m["arg-value"],operator:m.operator,argument:m.arg,number:i,"numeric-constant":a,punctuation:h,string:d}},F={pattern:/((?:^|\s)=?)(?:after|analysis|and|array|barchart|barwidth|begingraph|by|call|cas|cbarline|cfill|class(?:lev)?|close|column|computed?|contains|continue|data(?==)|define|delete|describe|document|do\s+over|do|dol|drop|dul|else|end(?:comp|source)?|entryTitle|eval(?:uate)?|exec(?:ute)?|exit|file(?:name)?|fill(?:attrs)?|flist|fnc|function(?:list)?|global|goto|group(?:by)?|headline|headskip|histogram|if|infile|keep|keylabel|keyword|label|layout|leave|legendlabel|length|libname|loadactionset|merge|midpoints|_?null_|name|noobs|nowd|ods|options|or|otherwise|out(?:put)?|over(?:lay)?|plot|print|put|raise|ranexp|rannor|rbreak|retain|return|select|session|sessref|set|source|statgraph|sum|summarize|table|temp|terminate|then\s+do|then|title\d?|to|var|when|where|xaxisopts|y2axisopts|yaxisopts)\b/i,lookbehind:!0};n.languages.sas={datalines:{pattern:/^([ \t]*)(?:cards|(?:data)?lines);[\s\S]+?^[ \t]*;/im,lookbehind:!0,alias:"string",inside:{keyword:{pattern:/^(?:cards|(?:data)?lines)/i},punctuation:/;/}},"proc-sql":{pattern:/(^proc\s+(?:fed)?sql(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|data|quit|run);|(?![\s\S]))/im,lookbehind:!0,inside:{sql:{pattern:RegExp(/^[ \t]*(?:select|alter\s+table|(?:create|describe|drop)\s+(?:index|table(?:\s+constraints)?|view)|create\s+unique\s+index|insert\s+into|update)(?:<str>|[^;"'])+;/.source.replace(/<str>/g,function(){return r}),"im"),alias:"language-sql",inside:n.languages.sql},"global-statements":k,"sql-statements":{pattern:/(^|\s)(?:disconnect\s+from|begin|commit|exec(?:ute)?|reset|rollback|validate)\b/i,lookbehind:!0,alias:"keyword"},number:i,"numeric-constant":a,punctuation:h,string:d}},"proc-groovy":{pattern:/(^proc\s+groovy(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|data|quit|run);|(?![\s\S]))/im,lookbehind:!0,inside:{comment:u,groovy:{pattern:RegExp(/(^[ \t]*submit(?:\s+(?:load|norun|parseonly))?)(?:<str>|[^"'])+?(?=endsubmit;)/.source.replace(/<str>/g,function(){return r}),"im"),lookbehind:!0,alias:"language-groovy",inside:n.languages.groovy},keyword:F,"submit-statement":T,"global-statements":k,number:i,"numeric-constant":a,punctuation:h,string:d}},"proc-lua":{pattern:/(^proc\s+lua(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|data|quit|run);|(?![\s\S]))/im,lookbehind:!0,inside:{comment:u,lua:{pattern:RegExp(/(^[ \t]*submit(?:\s+(?:load|norun|parseonly))?)(?:<str>|[^"'])+?(?=endsubmit;)/.source.replace(/<str>/g,function(){return r}),"im"),lookbehind:!0,alias:"language-lua",inside:n.languages.lua},keyword:F,"submit-statement":T,"global-statements":k,number:i,"numeric-constant":a,punctuation:h,string:d}},"proc-cas":{pattern:/(^proc\s+cas(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|quit|data);|(?![\s\S]))/im,lookbehind:!0,inside:{comment:u,"statement-var":{pattern:/((?:^|\s)=?)saveresult\s[^;]+/im,lookbehind:!0,inside:{statement:{pattern:/^saveresult\s+\S+/i,inside:{keyword:/^(?:saveresult)/i}},rest:m}},"cas-actions":N,statement:{pattern:/((?:^|\s)=?)(?:default|(?:un)?set|on|output|upload)[^;]+/im,lookbehind:!0,inside:m},step:l,keyword:F,function:p,format:v,altformat:w,"global-statements":k,number:i,"numeric-constant":a,punctuation:h,string:d}},"proc-args":{pattern:RegExp(/(^proc\s+\w+\s+)(?!\s)(?:[^;"']|<str>)+;/.source.replace(/<str>/g,function(){return r}),"im"),lookbehind:!0,inside:m},"macro-keyword":o,"macro-variable":s,"macro-string-functions":{pattern:/((?:^|\s|=))%(?:BQUOTE|NRBQUOTE|NRQUOTE|NRSTR|QUOTE|STR)\(.*?(?:[^%]\))/i,lookbehind:!0,inside:{function:{pattern:/%(?:BQUOTE|NRBQUOTE|NRQUOTE|NRSTR|QUOTE|STR)/i,alias:"keyword"},"macro-keyword":o,"macro-variable":s,"escaped-char":{pattern:/%['"()<>=¬^~;,#]/},punctuation:h}},"macro-declaration":{pattern:/^%macro[^;]+(?=;)/im,inside:{keyword:/%macro/i}},"macro-end":{pattern:/^%mend[^;]+(?=;)/im,inside:{keyword:/%mend/i}},macro:{pattern:/%_\w+(?=\()/,alias:"keyword"},input:{pattern:/\binput\s[-\w\s/*.$&]+;/i,inside:{input:{alias:"keyword",pattern:/^input/i},comment:u,number:i,"numeric-constant":a}},"options-args":{pattern:/(^options)[-'"|/\\<>*+=:()\w\s]*(?=;)/im,lookbehind:!0,inside:m},"cas-actions":N,comment:u,function:p,format:v,altformat:w,"numeric-constant":a,datetime:{pattern:RegExp(r+"(?:dt?|t)"),alias:"number"},string:d,step:l,keyword:F,"operator-keyword":{pattern:/\b(?:eq|ge|gt|in|le|lt|ne|not)\b/i,alias:"operator"},number:i,operator:/\*\*?|\|\|?|!!?|¦¦?|<[>=]?|>[<=]?|[-+\/=&]|[~¬^]=?/,punctuation:h}})(e)}return tL}var nL,MJ;function bUe(){if(MJ)return nL;MJ=1,nL=t,t.displayName="sass",t.aliases=[];function t(e){(function(n){n.languages.sass=n.languages.extend("css",{comment:{pattern:/^([ \t]*)\/[\/*].*(?:(?:\r?\n|\r)\1[ \t].+)*/m,lookbehind:!0,greedy:!0}}),n.languages.insertBefore("sass","atrule",{"atrule-line":{pattern:/^(?:[ \t]*)[@+=].+/m,greedy:!0,inside:{atrule:/(?:@[\w-]+|[+=])/}}}),delete n.languages.sass.atrule;var r=/\$[-\w]+|#\{\$[-\w]+\}/,i=[/[+*\/%]|[=!]=|<=?|>=?|\b(?:and|not|or)\b/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}];n.languages.insertBefore("sass","property",{"variable-line":{pattern:/^[ \t]*\$.+/m,greedy:!0,inside:{punctuation:/:/,variable:r,operator:i}},"property-line":{pattern:/^[ \t]*(?:[^:\s]+ *:.*|:[^:\s].*)/m,greedy:!0,inside:{property:[/[^:\s]+(?=\s*:)/,{pattern:/(:)[^:\s]+/,lookbehind:!0}],punctuation:/:/,variable:r,operator:i,important:n.languages.sass.important}}}),delete n.languages.sass.property,delete n.languages.sass.important,n.languages.insertBefore("sass","punctuation",{selector:{pattern:/^([ \t]*)\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*(?:,(?:\r?\n|\r)\1[ \t]+\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*)*/m,lookbehind:!0,greedy:!0}})})(e)}return nL}var rL,PJ;function vUe(){if(PJ)return rL;PJ=1;var t=FF();rL=e,e.displayName="scala",e.aliases=[];function e(n){n.register(t),n.languages.scala=n.languages.extend("java",{"triple-quoted-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:/<-|=>|\b(?:abstract|case|catch|class|def|do|else|extends|final|finally|for|forSome|if|implicit|import|lazy|match|new|null|object|override|package|private|protected|return|sealed|self|super|this|throw|trait|try|type|val|var|while|with|yield)\b/,number:/\b0x(?:[\da-f]*\.)?[\da-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e\d+)?[dfl]?/i,builtin:/\b(?:Any|AnyRef|AnyVal|Boolean|Byte|Char|Double|Float|Int|Long|Nothing|Short|String|Unit)\b/,symbol:/'[^\d\s\\]\w*/}),n.languages.insertBefore("scala","triple-quoted-string",{"string-interpolation":{pattern:/\b[a-z]\w*(?:"""(?:[^$]|\$(?:[^{]|\{(?:[^{}]|\{[^{}]*\})*\}))*?"""|"(?:[^$"\r\n]|\$(?:[^{]|\{(?:[^{}]|\{[^{}]*\})*\}))*")/i,greedy:!0,inside:{id:{pattern:/^\w+/,greedy:!0,alias:"function"},escape:{pattern:/\\\$"|\$[$"]/,greedy:!0,alias:"symbol"},interpolation:{pattern:/\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,greedy:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:n.languages.scala}}},string:/[\s\S]+/}}}),delete n.languages.scala["class-name"],delete n.languages.scala.function}return rL}var iL,LJ;function wUe(){if(LJ)return iL;LJ=1,iL=t,t.displayName="scss",t.aliases=[];function t(e){e.languages.scss=e.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]))/,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),e.languages.insertBefore("scss","atrule",{keyword:[/@(?:content|debug|each|else(?: if)?|extend|for|forward|function|if|import|include|mixin|return|use|warn|while)\b/i,{pattern:/( )(?:from|through)(?= )/,lookbehind:!0}]}),e.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),e.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|hide|show|with)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|not|or)(?=\s)/,lookbehind:!0}}),e.languages.scss.atrule.inside.rest=e.languages.scss}return iL}var aL,DJ;function _Ue(){if(DJ)return aL;DJ=1;var t=Tde();aL=e,e.displayName="shellSession",e.aliases=[];function e(n){n.register(t),function(r){var i=[/"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/.source,/'[^']*'/.source,/\$'(?:[^'\\]|\\[\s\S])*'/.source,/<<-?\s*(["']?)(\w+)\1\s[\s\S]*?[\r\n]\2/.source].join("|");r.languages["shell-session"]={command:{pattern:RegExp(/^/.source+"(?:"+(/[^\s@:$#%*!/\\]+@[^\r\n@:$#%*!/\\]+(?::[^\0-\x1F$#%*?"<>:;|]+)?/.source+"|"+/[/~.][^\0-\x1F$#%*?"<>@:;|]*/.source)+")?"+/[$#%](?=\s)/.source+/(?:[^\\\r\n \t'"<$]|[ \t](?:(?!#)|#.*$)|\\(?:[^\r]|\r\n?)|\$(?!')|<(?!<)|<<str>>)+/.source.replace(/<<str>>/g,function(){return i}),"m"),greedy:!0,inside:{info:{pattern:/^[^#$%]+/,alias:"punctuation",inside:{user:/^[^\s@:$#%*!/\\]+@[^\r\n@:$#%*!/\\]+/,punctuation:/:/,path:/[\s\S]+/}},bash:{pattern:/(^[$#%]\s*)\S[\s\S]*/,lookbehind:!0,alias:"language-bash",inside:r.languages.bash},"shell-symbol":{pattern:/^[$#%]/,alias:"important"}}},output:/.(?:.*(?:[\r\n]|.$))*/},r.languages["sh-session"]=r.languages.shellsession=r.languages["shell-session"]}(n)}return aL}var sL,FJ;function SUe(){if(FJ)return sL;FJ=1,sL=t,t.displayName="smali",t.aliases=[];function t(e){e.languages.smali={comment:/#.*/,string:{pattern:/"(?:[^\r\n\\"]|\\.)*"|'(?:[^\r\n\\']|\\(?:.|u[\da-fA-F]{4}))'/,greedy:!0},"class-name":{pattern:/(^|[^L])L(?:(?:\w+|`[^`\r\n]*`)\/)*(?:[\w$]+|`[^`\r\n]*`)(?=\s*;)/,lookbehind:!0,inside:{"class-name":{pattern:/(^L|\/)(?:[\w$]+|`[^`\r\n]*`)$/,lookbehind:!0},namespace:{pattern:/^(L)(?:(?:\w+|`[^`\r\n]*`)\/)+/,lookbehind:!0,inside:{punctuation:/\//}},builtin:/^L/}},builtin:[{pattern:/([();\[])[BCDFIJSVZ]+/,lookbehind:!0},{pattern:/([\w$>]:)[BCDFIJSVZ]/,lookbehind:!0}],keyword:[{pattern:/(\.end\s+)[\w-]+/,lookbehind:!0},{pattern:/(^|[^\w.-])\.(?!\d)[\w-]+/,lookbehind:!0},{pattern:/(^|[^\w.-])(?:abstract|annotation|bridge|constructor|enum|final|interface|private|protected|public|runtime|static|synthetic|system|transient)(?![\w.-])/,lookbehind:!0}],function:{pattern:/(^|[^\w.-])(?:\w+|<[\w$-]+>)(?=\()/,lookbehind:!0},field:{pattern:/[\w$]+(?=:)/,alias:"variable"},register:{pattern:/(^|[^\w.-])[vp]\d(?![\w.-])/,lookbehind:!0,alias:"variable"},boolean:{pattern:/(^|[^\w.-])(?:false|true)(?![\w.-])/,lookbehind:!0},number:{pattern:/(^|[^/\w.-])-?(?:NAN|INFINITY|0x(?:[\dA-F]+(?:\.[\dA-F]*)?|\.[\dA-F]+)(?:p[+-]?[\dA-F]+)?|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?)[dflst]?(?![\w.-])/i,lookbehind:!0},label:{pattern:/(:)\w+/,lookbehind:!0,alias:"property"},operator:/->|\.\.|[\[=]/,punctuation:/[{}(),;:]/}}return sL}var oL,BJ;function xUe(){if(BJ)return oL;BJ=1,oL=t,t.displayName="smalltalk",t.aliases=[];function t(e){e.languages.smalltalk={comment:{pattern:/"(?:""|[^"])*"/,greedy:!0},char:{pattern:/\$./,greedy:!0},string:{pattern:/'(?:''|[^'])*'/,greedy:!0},symbol:/#[\da-z]+|#(?:-|([+\/\\*~<>=@%|&?!])\1?)|#(?=\()/i,"block-arguments":{pattern:/(\[\s*):[^\[|]*\|/,lookbehind:!0,inside:{variable:/:[\da-z]+/i,punctuation:/\|/}},"temporary-variables":{pattern:/\|[^|]+\|/,inside:{variable:/[\da-z]+/i,punctuation:/\|/}},keyword:/\b(?:new|nil|self|super)\b/,boolean:/\b(?:false|true)\b/,number:[/\d+r-?[\dA-Z]+(?:\.[\dA-Z]+)?(?:e-?\d+)?/,/\b\d+(?:\.\d+)?(?:e-?\d+)?/],operator:/[<=]=?|:=|~[~=]|\/\/?|\\\\|>[>=]?|[!^+\-*&|,@]/,punctuation:/[.;:?\[\](){}]/}}return oL}var lL,UJ;function EUe(){if(UJ)return lL;UJ=1;var t=Sl();lL=e,e.displayName="smarty",e.aliases=[];function e(n){n.register(t),function(r){r.languages.smarty={comment:{pattern:/^\{\*[\s\S]*?\*\}/,greedy:!0},"embedded-php":{pattern:/^\{php\}[\s\S]*?\{\/php\}/,greedy:!0,inside:{smarty:{pattern:/^\{php\}|\{\/php\}$/,inside:null},php:{pattern:/[\s\S]+/,alias:"language-php",inside:r.languages.php}}},string:[{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0,inside:{interpolation:{pattern:/\{[^{}]*\}|`[^`]*`/,inside:{"interpolation-punctuation":{pattern:/^[{`]|[`}]$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}},variable:/\$\w+/}},{pattern:/'(?:\\.|[^'\\\r\n])*'/,greedy:!0}],keyword:{pattern:/(^\{\/?)[a-z_]\w*\b(?!\()/i,lookbehind:!0,greedy:!0},delimiter:{pattern:/^\{\/?|\}$/,greedy:!0,alias:"punctuation"},number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,variable:[/\$(?!\d)\w+/,/#(?!\d)\w+#/,{pattern:/(\.|->|\w\s*=)(?!\d)\w+\b(?!\()/,lookbehind:!0},{pattern:/(\[)(?!\d)\w+(?=\])/,lookbehind:!0}],function:{pattern:/(\|\s*)@?[a-z_]\w*|\b[a-z_]\w*(?=\()/i,lookbehind:!0},"attr-name":/\b[a-z_]\w*(?=\s*=)/i,boolean:/\b(?:false|no|off|on|true|yes)\b/,punctuation:/[\[\](){}.,:`]|->/,operator:[/[+\-*\/%]|==?=?|[!<>]=?|&&|\|\|?/,/\bis\s+(?:not\s+)?(?:div|even|odd)(?:\s+by)?\b/,/\b(?:and|eq|gt?e|gt|lt?e|lt|mod|neq?|not|or)\b/]},r.languages.smarty["embedded-php"].inside.smarty.inside=r.languages.smarty,r.languages.smarty.string[0].inside.interpolation.inside.expression.inside=r.languages.smarty;var i=/"(?:\\.|[^"\\\r\n])*"|'(?:\\.|[^'\\\r\n])*'/,a=RegExp(/\{\*[\s\S]*?\*\}/.source+"|"+/\{php\}[\s\S]*?\{\/php\}/.source+"|"+/\{(?:[^{}"']|<str>|\{(?:[^{}"']|<str>|\{(?:[^{}"']|<str>)*\})*\})*\}/.source.replace(/<str>/g,function(){return i.source}),"g");r.hooks.add("before-tokenize",function(s){var o="{literal}",l="{/literal}",u=!1;r.languages["markup-templating"].buildPlaceholders(s,"smarty",a,function(d){return d===l&&(u=!1),u?!1:(d===o&&(u=!0),!0)})}),r.hooks.add("after-tokenize",function(s){r.languages["markup-templating"].tokenizePlaceholders(s,"smarty")})}(n)}return lL}var uL,jJ;function kUe(){if(jJ)return uL;jJ=1,uL=t,t.displayName="sml",t.aliases=["smlnj"];function t(e){(function(n){var r=/\b(?:abstype|and|andalso|as|case|datatype|do|else|end|eqtype|exception|fn|fun|functor|handle|if|in|include|infix|infixr|let|local|nonfix|of|op|open|orelse|raise|rec|sharing|sig|signature|struct|structure|then|type|val|where|while|with|withtype)\b/i;n.languages.sml={comment:/\(\*(?:[^*(]|\*(?!\))|\((?!\*)|\(\*(?:[^*(]|\*(?!\))|\((?!\*))*\*\))*\*\)/,string:{pattern:/#?"(?:[^"\\]|\\.)*"/,greedy:!0},"class-name":[{pattern:RegExp(/((?:^|[^:]):\s*)<TERMINAL>(?:\s*(?:(?:\*|->)\s*<TERMINAL>|,\s*<TERMINAL>(?:(?=<NOT-LAST>)|(?!<NOT-LAST>)\s+<LONG-ID>)))*/.source.replace(/<NOT-LAST>/g,function(){return/\s*(?:[*,]|->)/.source}).replace(/<TERMINAL>/g,function(){return/(?:'[\w']*|<LONG-ID>|\((?:[^()]|\([^()]*\))*\)|\{(?:[^{}]|\{[^{}]*\})*\})(?:\s+<LONG-ID>)*/.source}).replace(/<LONG-ID>/g,function(){return/(?!<KEYWORD>)[a-z\d_][\w'.]*/.source}).replace(/<KEYWORD>/g,function(){return r.source}),"i"),lookbehind:!0,greedy:!0,inside:null},{pattern:/((?:^|[^\w'])(?:datatype|exception|functor|signature|structure|type)\s+)[a-z_][\w'.]*/i,lookbehind:!0}],function:{pattern:/((?:^|[^\w'])fun\s+)[a-z_][\w'.]*/i,lookbehind:!0},keyword:r,variable:{pattern:/(^|[^\w'])'[\w']*/,lookbehind:!0},number:/~?\b(?:\d+(?:\.\d+)?(?:e~?\d+)?|0x[\da-f]+)\b/i,word:{pattern:/\b0w(?:\d+|x[\da-f]+)\b/i,alias:"constant"},boolean:/\b(?:false|true)\b/i,operator:/\.\.\.|:[>=:]|=>?|->|[<>]=?|[!+\-*/^#|@~]/,punctuation:/[(){}\[\].:,;]/},n.languages.sml["class-name"][0].inside=n.languages.sml,n.languages.smlnj=n.languages.sml})(e)}return uL}var cL,zJ;function TUe(){if(zJ)return cL;zJ=1,cL=t,t.displayName="solidity",t.aliases=["sol"];function t(e){e.languages.solidity=e.languages.extend("clike",{"class-name":{pattern:/(\b(?:contract|enum|interface|library|new|struct|using)\s+)(?!\d)[\w$]+/,lookbehind:!0},keyword:/\b(?:_|anonymous|as|assembly|assert|break|calldata|case|constant|constructor|continue|contract|default|delete|do|else|emit|enum|event|external|for|from|function|if|import|indexed|inherited|interface|internal|is|let|library|mapping|memory|modifier|new|payable|pragma|private|public|pure|require|returns?|revert|selfdestruct|solidity|storage|struct|suicide|switch|this|throw|using|var|view|while)\b/,operator:/=>|->|:=|=:|\*\*|\+\+|--|\|\||&&|<<=?|>>=?|[-+*/%^&|<>!=]=?|[~?]/}),e.languages.insertBefore("solidity","keyword",{builtin:/\b(?:address|bool|byte|u?int(?:8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?|string|bytes(?:[1-9]|[12]\d|3[0-2])?)\b/}),e.languages.insertBefore("solidity","number",{version:{pattern:/([<>]=?|\^)\d+\.\d+\.\d+\b/,lookbehind:!0,alias:"number"}}),e.languages.sol=e.languages.solidity}return cL}var dL,$J;function AUe(){if($J)return dL;$J=1,dL=t,t.displayName="solutionFile",t.aliases=[];function t(e){(function(n){var r={pattern:/\{[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}\}/i,alias:"constant",inside:{punctuation:/[{}]/}};n.languages["solution-file"]={comment:{pattern:/#.*/,greedy:!0},string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,greedy:!0,inside:{guid:r}},object:{pattern:/^([ \t]*)(?:([A-Z]\w*)\b(?=.*(?:\r\n?|\n)(?:\1[ \t].*(?:\r\n?|\n))*\1End\2(?=[ \t]*$))|End[A-Z]\w*(?=[ \t]*$))/m,lookbehind:!0,greedy:!0,alias:"keyword"},property:{pattern:/^([ \t]*)(?!\s)[^\r\n"#=()]*[^\s"#=()](?=\s*=)/m,lookbehind:!0,inside:{guid:r}},guid:r,number:/\b\d+(?:\.\d+)*\b/,boolean:/\b(?:FALSE|TRUE)\b/,operator:/=/,punctuation:/[(),]/},n.languages.sln=n.languages["solution-file"]})(e)}return dL}var hL,qJ;function CUe(){if(qJ)return hL;qJ=1;var t=Sl();hL=e,e.displayName="soy",e.aliases=[];function e(n){n.register(t),function(r){var i=/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,a=/\b\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\b|\b0x[\dA-F]+\b/;r.languages.soy={comment:[/\/\*[\s\S]*?\*\//,{pattern:/(\s)\/\/.*/,lookbehind:!0,greedy:!0}],"command-arg":{pattern:/(\{+\/?\s*(?:alias|call|delcall|delpackage|deltemplate|namespace|template)\s+)\.?[\w.]+/,lookbehind:!0,alias:"string",inside:{punctuation:/\./}},parameter:{pattern:/(\{+\/?\s*@?param\??\s+)\.?[\w.]+/,lookbehind:!0,alias:"variable"},keyword:[{pattern:/(\{+\/?[^\S\r\n]*)(?:\\[nrt]|alias|call|case|css|default|delcall|delpackage|deltemplate|else(?:if)?|fallbackmsg|for(?:each)?|if(?:empty)?|lb|let|literal|msg|namespace|nil|@?param\??|rb|sp|switch|template|xid)/,lookbehind:!0},/\b(?:any|as|attributes|bool|css|float|html|in|int|js|list|map|null|number|string|uri)\b/],delimiter:{pattern:/^\{+\/?|\/?\}+$/,alias:"punctuation"},property:/\w+(?==)/,variable:{pattern:/\$[^\W\d]\w*(?:\??(?:\.\w+|\[[^\]]+\]))*/,inside:{string:{pattern:i,greedy:!0},number:a,punctuation:/[\[\].?]/}},string:{pattern:i,greedy:!0},function:[/\w+(?=\()/,{pattern:/(\|[^\S\r\n]*)\w+/,lookbehind:!0}],boolean:/\b(?:false|true)\b/,number:a,operator:/\?:?|<=?|>=?|==?|!=|[+*/%-]|\b(?:and|not|or)\b/,punctuation:/[{}()\[\]|.,:]/},r.hooks.add("before-tokenize",function(s){var o=/\{\{.+?\}\}|\{.+?\}|\s\/\/.*|\/\*[\s\S]*?\*\//g,l="{literal}",u="{/literal}",d=!1;r.languages["markup-templating"].buildPlaceholders(s,"soy",o,function(h){return h===u&&(d=!1),d?!1:(h===l&&(d=!0),!0)})}),r.hooks.add("after-tokenize",function(s){r.languages["markup-templating"].tokenizePlaceholders(s,"soy")})}(n)}return hL}var fL,HJ;function Ide(){if(HJ)return fL;HJ=1,fL=t,t.displayName="turtle",t.aliases=[];function t(e){e.languages.turtle={comment:{pattern:/#.*/,greedy:!0},"multiline-string":{pattern:/"""(?:(?:""?)?(?:[^"\\]|\\.))*"""|'''(?:(?:''?)?(?:[^'\\]|\\.))*'''/,greedy:!0,alias:"string",inside:{comment:/#.*/}},string:{pattern:/"(?:[^\\"\r\n]|\\.)*"|'(?:[^\\'\r\n]|\\.)*'/,greedy:!0},url:{pattern:/<(?:[^\x00-\x20<>"{}|^`\\]|\\(?:u[\da-fA-F]{4}|U[\da-fA-F]{8}))*>/,greedy:!0,inside:{punctuation:/[<>]/}},function:{pattern:/(?:(?![-.\d\xB7])[-.\w\xB7\xC0-\uFFFD]+)?:(?:(?![-.])(?:[-.:\w\xC0-\uFFFD]|%[\da-f]{2}|\\.)+)?/i,inside:{"local-name":{pattern:/([^:]*:)[\s\S]+/,lookbehind:!0},prefix:{pattern:/[\s\S]+/,inside:{punctuation:/:/}}}},number:/[+-]?\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,punctuation:/[{}.,;()[\]]|\^\^/,boolean:/\b(?:false|true)\b/,keyword:[/(?:\ba|@prefix|@base)\b|=/,/\b(?:base|graph|prefix)\b/i],tag:{pattern:/@[a-z]+(?:-[a-z\d]+)*/i,inside:{punctuation:/@/}}},e.languages.trig=e.languages.turtle}return fL}var pL,VJ;function RUe(){if(VJ)return pL;VJ=1;var t=Ide();pL=e,e.displayName="sparql",e.aliases=["rq"];function e(n){n.register(t),n.languages.sparql=n.languages.extend("turtle",{boolean:/\b(?:false|true)\b/i,variable:{pattern:/[?$]\w+/,greedy:!0}}),n.languages.insertBefore("sparql","punctuation",{keyword:[/\b(?:A|ADD|ALL|AS|ASC|ASK|BNODE|BY|CLEAR|CONSTRUCT|COPY|CREATE|DATA|DEFAULT|DELETE|DESC|DESCRIBE|DISTINCT|DROP|EXISTS|FILTER|FROM|GROUP|HAVING|INSERT|INTO|LIMIT|LOAD|MINUS|MOVE|NAMED|NOT|NOW|OFFSET|OPTIONAL|ORDER|RAND|REDUCED|SELECT|SEPARATOR|SERVICE|SILENT|STRUUID|UNION|USING|UUID|VALUES|WHERE)\b/i,/\b(?:ABS|AVG|BIND|BOUND|CEIL|COALESCE|CONCAT|CONTAINS|COUNT|DATATYPE|DAY|ENCODE_FOR_URI|FLOOR|GROUP_CONCAT|HOURS|IF|IRI|isBLANK|isIRI|isLITERAL|isNUMERIC|isURI|LANG|LANGMATCHES|LCASE|MAX|MD5|MIN|MINUTES|MONTH|REGEX|REPLACE|ROUND|sameTerm|SAMPLE|SECONDS|SHA1|SHA256|SHA384|SHA512|STR|STRAFTER|STRBEFORE|STRDT|STRENDS|STRLANG|STRLEN|STRSTARTS|SUBSTR|SUM|TIMEZONE|TZ|UCASE|URI|YEAR)\b(?=\s*\()/i,/\b(?:BASE|GRAPH|PREFIX)\b/i]}),n.languages.rq=n.languages.sparql}return pL}var mL,GJ;function IUe(){if(GJ)return mL;GJ=1,mL=t,t.displayName="splunkSpl",t.aliases=[];function t(e){e.languages["splunk-spl"]={comment:/`comment\("(?:\\.|[^\\"])*"\)`/,string:{pattern:/"(?:\\.|[^\\"])*"/,greedy:!0},keyword:/\b(?:abstract|accum|addcoltotals|addinfo|addtotals|analyzefields|anomalies|anomalousvalue|anomalydetection|append|appendcols|appendcsv|appendlookup|appendpipe|arules|associate|audit|autoregress|bin|bucket|bucketdir|chart|cluster|cofilter|collect|concurrency|contingency|convert|correlate|datamodel|dbinspect|dedup|delete|delta|diff|erex|eval|eventcount|eventstats|extract|fieldformat|fields|fieldsummary|filldown|fillnull|findtypes|folderize|foreach|format|from|gauge|gentimes|geom|geomfilter|geostats|head|highlight|history|iconify|input|inputcsv|inputlookup|iplocation|join|kmeans|kv|kvform|loadjob|localize|localop|lookup|makecontinuous|makemv|makeresults|map|mcollect|metadata|metasearch|meventcollect|mstats|multikv|multisearch|mvcombine|mvexpand|nomv|outlier|outputcsv|outputlookup|outputtext|overlap|pivot|predict|rangemap|rare|regex|relevancy|reltime|rename|replace|rest|return|reverse|rex|rtorder|run|savedsearch|script|scrub|search|searchtxn|selfjoin|sendemail|set|setfields|sichart|sirare|sistats|sitimechart|sitop|sort|spath|stats|strcat|streamstats|table|tags|tail|timechart|timewrap|top|transaction|transpose|trendline|tscollect|tstats|typeahead|typelearner|typer|union|uniq|untable|where|x11|xmlkv|xmlunescape|xpath|xyseries)\b/i,"operator-word":{pattern:/\b(?:and|as|by|not|or|xor)\b/i,alias:"operator"},function:/\b\w+(?=\s*\()/,property:/\b\w+(?=\s*=(?!=))/,date:{pattern:/\b\d{1,2}\/\d{1,2}\/\d{1,4}(?:(?::\d{1,2}){3})?\b/,alias:"number"},number:/\b\d+(?:\.\d+)?\b/,boolean:/\b(?:f|false|t|true)\b/i,operator:/[<>=]=?|[-+*/%|]/,punctuation:/[()[\],]/}}return mL}var gL,WJ;function NUe(){if(WJ)return gL;WJ=1,gL=t,t.displayName="sqf",t.aliases=[];function t(e){e.languages.sqf=e.languages.extend("clike",{string:{pattern:/"(?:(?:"")?[^"])*"(?!")|'(?:[^'])*'/,greedy:!0},keyword:/\b(?:breakOut|breakTo|call|case|catch|default|do|echo|else|execFSM|execVM|exitWith|for|forEach|forEachMember|forEachMemberAgent|forEachMemberTeam|from|goto|if|nil|preprocessFile|preprocessFileLineNumbers|private|scopeName|spawn|step|switch|then|throw|to|try|while|with)\b/i,boolean:/\b(?:false|true)\b/i,function:/\b(?:abs|accTime|acos|action|actionIDs|actionKeys|actionKeysImages|actionKeysNames|actionKeysNamesArray|actionName|actionParams|activateAddons|activatedAddons|activateKey|add3DENConnection|add3DENEventHandler|add3DENLayer|addAction|addBackpack|addBackpackCargo|addBackpackCargoGlobal|addBackpackGlobal|addCamShake|addCuratorAddons|addCuratorCameraArea|addCuratorEditableObjects|addCuratorEditingArea|addCuratorPoints|addEditorObject|addEventHandler|addForce|addForceGeneratorRTD|addGoggles|addGroupIcon|addHandgunItem|addHeadgear|addItem|addItemCargo|addItemCargoGlobal|addItemPool|addItemToBackpack|addItemToUniform|addItemToVest|addLiveStats|addMagazine|addMagazineAmmoCargo|addMagazineCargo|addMagazineCargoGlobal|addMagazineGlobal|addMagazinePool|addMagazines|addMagazineTurret|addMenu|addMenuItem|addMissionEventHandler|addMPEventHandler|addMusicEventHandler|addOwnedMine|addPlayerScores|addPrimaryWeaponItem|addPublicVariableEventHandler|addRating|addResources|addScore|addScoreSide|addSecondaryWeaponItem|addSwitchableUnit|addTeamMember|addToRemainsCollector|addTorque|addUniform|addVehicle|addVest|addWaypoint|addWeapon|addWeaponCargo|addWeaponCargoGlobal|addWeaponGlobal|addWeaponItem|addWeaponPool|addWeaponTurret|admin|agent|agents|AGLToASL|aimedAtTarget|aimPos|airDensityCurveRTD|airDensityRTD|airplaneThrottle|airportSide|AISFinishHeal|alive|all3DENEntities|allAirports|allControls|allCurators|allCutLayers|allDead|allDeadMen|allDisplays|allGroups|allMapMarkers|allMines|allMissionObjects|allow3DMode|allowCrewInImmobile|allowCuratorLogicIgnoreAreas|allowDamage|allowDammage|allowFileOperations|allowFleeing|allowGetIn|allowSprint|allPlayers|allSimpleObjects|allSites|allTurrets|allUnits|allUnitsUAV|allVariables|ammo|ammoOnPylon|animate|animateBay|animateDoor|animatePylon|animateSource|animationNames|animationPhase|animationSourcePhase|animationState|append|apply|armoryPoints|arrayIntersect|asin|ASLToAGL|ASLToATL|assert|assignAsCargo|assignAsCargoIndex|assignAsCommander|assignAsDriver|assignAsGunner|assignAsTurret|assignCurator|assignedCargo|assignedCommander|assignedDriver|assignedGunner|assignedItems|assignedTarget|assignedTeam|assignedVehicle|assignedVehicleRole|assignItem|assignTeam|assignToAirport|atan|atan2|atg|ATLToASL|attachedObject|attachedObjects|attachedTo|attachObject|attachTo|attackEnabled|backpack|backpackCargo|backpackContainer|backpackItems|backpackMagazines|backpackSpaceFor|behaviour|benchmark|binocular|blufor|boundingBox|boundingBoxReal|boundingCenter|briefingName|buildingExit|buildingPos|buldozer_EnableRoadDiag|buldozer_IsEnabledRoadDiag|buldozer_LoadNewRoads|buldozer_reloadOperMap|buttonAction|buttonSetAction|cadetMode|callExtension|camCommand|camCommit|camCommitPrepared|camCommitted|camConstuctionSetParams|camCreate|camDestroy|cameraEffect|cameraEffectEnableHUD|cameraInterest|cameraOn|cameraView|campaignConfigFile|camPreload|camPreloaded|camPrepareBank|camPrepareDir|camPrepareDive|camPrepareFocus|camPrepareFov|camPrepareFovRange|camPreparePos|camPrepareRelPos|camPrepareTarget|camSetBank|camSetDir|camSetDive|camSetFocus|camSetFov|camSetFovRange|camSetPos|camSetRelPos|camSetTarget|camTarget|camUseNVG|canAdd|canAddItemToBackpack|canAddItemToUniform|canAddItemToVest|cancelSimpleTaskDestination|canFire|canMove|canSlingLoad|canStand|canSuspend|canTriggerDynamicSimulation|canUnloadInCombat|canVehicleCargo|captive|captiveNum|cbChecked|cbSetChecked|ceil|channelEnabled|cheatsEnabled|checkAIFeature|checkVisibility|civilian|className|clear3DENAttribute|clear3DENInventory|clearAllItemsFromBackpack|clearBackpackCargo|clearBackpackCargoGlobal|clearForcesRTD|clearGroupIcons|clearItemCargo|clearItemCargoGlobal|clearItemPool|clearMagazineCargo|clearMagazineCargoGlobal|clearMagazinePool|clearOverlay|clearRadio|clearVehicleInit|clearWeaponCargo|clearWeaponCargoGlobal|clearWeaponPool|clientOwner|closeDialog|closeDisplay|closeOverlay|collapseObjectTree|collect3DENHistory|collectiveRTD|combatMode|commandArtilleryFire|commandChat|commander|commandFire|commandFollow|commandFSM|commandGetOut|commandingMenu|commandMove|commandRadio|commandStop|commandSuppressiveFire|commandTarget|commandWatch|comment|commitOverlay|compile|compileFinal|completedFSM|composeText|configClasses|configFile|configHierarchy|configName|configNull|configProperties|configSourceAddonList|configSourceMod|configSourceModList|confirmSensorTarget|connectTerminalToUAV|controlNull|controlsGroupCtrl|copyFromClipboard|copyToClipboard|copyWaypoints|cos|count|countEnemy|countFriendly|countSide|countType|countUnknown|create3DENComposition|create3DENEntity|createAgent|createCenter|createDialog|createDiaryLink|createDiaryRecord|createDiarySubject|createDisplay|createGearDialog|createGroup|createGuardedPoint|createLocation|createMarker|createMarkerLocal|createMenu|createMine|createMissionDisplay|createMPCampaignDisplay|createSimpleObject|createSimpleTask|createSite|createSoundSource|createTask|createTeam|createTrigger|createUnit|createVehicle|createVehicleCrew|createVehicleLocal|crew|ctAddHeader|ctAddRow|ctClear|ctCurSel|ctData|ctFindHeaderRows|ctFindRowHeader|ctHeaderControls|ctHeaderCount|ctRemoveHeaders|ctRemoveRows|ctrlActivate|ctrlAddEventHandler|ctrlAngle|ctrlAutoScrollDelay|ctrlAutoScrollRewind|ctrlAutoScrollSpeed|ctrlChecked|ctrlClassName|ctrlCommit|ctrlCommitted|ctrlCreate|ctrlDelete|ctrlEnable|ctrlEnabled|ctrlFade|ctrlHTMLLoaded|ctrlIDC|ctrlIDD|ctrlMapAnimAdd|ctrlMapAnimClear|ctrlMapAnimCommit|ctrlMapAnimDone|ctrlMapCursor|ctrlMapMouseOver|ctrlMapScale|ctrlMapScreenToWorld|ctrlMapWorldToScreen|ctrlModel|ctrlModelDirAndUp|ctrlModelScale|ctrlParent|ctrlParentControlsGroup|ctrlPosition|ctrlRemoveAllEventHandlers|ctrlRemoveEventHandler|ctrlScale|ctrlSetActiveColor|ctrlSetAngle|ctrlSetAutoScrollDelay|ctrlSetAutoScrollRewind|ctrlSetAutoScrollSpeed|ctrlSetBackgroundColor|ctrlSetChecked|ctrlSetDisabledColor|ctrlSetEventHandler|ctrlSetFade|ctrlSetFocus|ctrlSetFont|ctrlSetFontH1|ctrlSetFontH1B|ctrlSetFontH2|ctrlSetFontH2B|ctrlSetFontH3|ctrlSetFontH3B|ctrlSetFontH4|ctrlSetFontH4B|ctrlSetFontH5|ctrlSetFontH5B|ctrlSetFontH6|ctrlSetFontH6B|ctrlSetFontHeight|ctrlSetFontHeightH1|ctrlSetFontHeightH2|ctrlSetFontHeightH3|ctrlSetFontHeightH4|ctrlSetFontHeightH5|ctrlSetFontHeightH6|ctrlSetFontHeightSecondary|ctrlSetFontP|ctrlSetFontPB|ctrlSetFontSecondary|ctrlSetForegroundColor|ctrlSetModel|ctrlSetModelDirAndUp|ctrlSetModelScale|ctrlSetPixelPrecision|ctrlSetPosition|ctrlSetScale|ctrlSetStructuredText|ctrlSetText|ctrlSetTextColor|ctrlSetTextColorSecondary|ctrlSetTextSecondary|ctrlSetTooltip|ctrlSetTooltipColorBox|ctrlSetTooltipColorShade|ctrlSetTooltipColorText|ctrlShow|ctrlShown|ctrlText|ctrlTextHeight|ctrlTextSecondary|ctrlTextWidth|ctrlType|ctrlVisible|ctRowControls|ctRowCount|ctSetCurSel|ctSetData|ctSetHeaderTemplate|ctSetRowTemplate|ctSetValue|ctValue|curatorAddons|curatorCamera|curatorCameraArea|curatorCameraAreaCeiling|curatorCoef|curatorEditableObjects|curatorEditingArea|curatorEditingAreaType|curatorMouseOver|curatorPoints|curatorRegisteredObjects|curatorSelected|curatorWaypointCost|current3DENOperation|currentChannel|currentCommand|currentMagazine|currentMagazineDetail|currentMagazineDetailTurret|currentMagazineTurret|currentMuzzle|currentNamespace|currentTask|currentTasks|currentThrowable|currentVisionMode|currentWaypoint|currentWeapon|currentWeaponMode|currentWeaponTurret|currentZeroing|cursorObject|cursorTarget|customChat|customRadio|cutFadeOut|cutObj|cutRsc|cutText|damage|date|dateToNumber|daytime|deActivateKey|debriefingText|debugFSM|debugLog|deg|delete3DENEntities|deleteAt|deleteCenter|deleteCollection|deleteEditorObject|deleteGroup|deleteGroupWhenEmpty|deleteIdentity|deleteLocation|deleteMarker|deleteMarkerLocal|deleteRange|deleteResources|deleteSite|deleteStatus|deleteTeam|deleteVehicle|deleteVehicleCrew|deleteWaypoint|detach|detectedMines|diag_activeMissionFSMs|diag_activeScripts|diag_activeSQFScripts|diag_activeSQSScripts|diag_captureFrame|diag_captureFrameToFile|diag_captureSlowFrame|diag_codePerformance|diag_drawMode|diag_dynamicSimulationEnd|diag_enable|diag_enabled|diag_fps|diag_fpsMin|diag_frameNo|diag_lightNewLoad|diag_list|diag_log|diag_logSlowFrame|diag_mergeConfigFile|diag_recordTurretLimits|diag_setLightNew|diag_tickTime|diag_toggle|dialog|diarySubjectExists|didJIP|didJIPOwner|difficulty|difficultyEnabled|difficultyEnabledRTD|difficultyOption|direction|directSay|disableAI|disableCollisionWith|disableConversation|disableDebriefingStats|disableMapIndicators|disableNVGEquipment|disableRemoteSensors|disableSerialization|disableTIEquipment|disableUAVConnectability|disableUserInput|displayAddEventHandler|displayCtrl|displayNull|displayParent|displayRemoveAllEventHandlers|displayRemoveEventHandler|displaySetEventHandler|dissolveTeam|distance|distance2D|distanceSqr|distributionRegion|do3DENAction|doArtilleryFire|doFire|doFollow|doFSM|doGetOut|doMove|doorPhase|doStop|doSuppressiveFire|doTarget|doWatch|drawArrow|drawEllipse|drawIcon|drawIcon3D|drawLine|drawLine3D|drawLink|drawLocation|drawPolygon|drawRectangle|drawTriangle|driver|drop|dynamicSimulationDistance|dynamicSimulationDistanceCoef|dynamicSimulationEnabled|dynamicSimulationSystemEnabled|east|edit3DENMissionAttributes|editObject|editorSetEventHandler|effectiveCommander|emptyPositions|enableAI|enableAIFeature|enableAimPrecision|enableAttack|enableAudioFeature|enableAutoStartUpRTD|enableAutoTrimRTD|enableCamShake|enableCaustics|enableChannel|enableCollisionWith|enableCopilot|enableDebriefingStats|enableDiagLegend|enableDynamicSimulation|enableDynamicSimulationSystem|enableEndDialog|enableEngineArtillery|enableEnvironment|enableFatigue|enableGunLights|enableInfoPanelComponent|enableIRLasers|enableMimics|enablePersonTurret|enableRadio|enableReload|enableRopeAttach|enableSatNormalOnDetail|enableSaving|enableSentences|enableSimulation|enableSimulationGlobal|enableStamina|enableStressDamage|enableTeamSwitch|enableTraffic|enableUAVConnectability|enableUAVWaypoints|enableVehicleCargo|enableVehicleSensor|enableWeaponDisassembly|endl|endLoadingScreen|endMission|engineOn|enginesIsOnRTD|enginesPowerRTD|enginesRpmRTD|enginesTorqueRTD|entities|environmentEnabled|estimatedEndServerTime|estimatedTimeLeft|evalObjectArgument|everyBackpack|everyContainer|exec|execEditorScript|exp|expectedDestination|exportJIPMessages|eyeDirection|eyePos|face|faction|fadeMusic|fadeRadio|fadeSound|fadeSpeech|failMission|fillWeaponsFromPool|find|findCover|findDisplay|findEditorObject|findEmptyPosition|findEmptyPositionReady|findIf|findNearestEnemy|finishMissionInit|finite|fire|fireAtTarget|firstBackpack|flag|flagAnimationPhase|flagOwner|flagSide|flagTexture|fleeing|floor|flyInHeight|flyInHeightASL|fog|fogForecast|fogParams|forceAddUniform|forceAtPositionRTD|forcedMap|forceEnd|forceFlagTexture|forceFollowRoad|forceGeneratorRTD|forceMap|forceRespawn|forceSpeed|forceWalk|forceWeaponFire|forceWeatherChange|forgetTarget|format|formation|formationDirection|formationLeader|formationMembers|formationPosition|formationTask|formatText|formLeader|freeLook|fromEditor|fuel|fullCrew|gearIDCAmmoCount|gearSlotAmmoCount|gearSlotData|get3DENActionState|get3DENAttribute|get3DENCamera|get3DENConnections|get3DENEntity|get3DENEntityID|get3DENGrid|get3DENIconsVisible|get3DENLayerEntities|get3DENLinesVisible|get3DENMissionAttribute|get3DENMouseOver|get3DENSelected|getAimingCoef|getAllEnvSoundControllers|getAllHitPointsDamage|getAllOwnedMines|getAllSoundControllers|getAmmoCargo|getAnimAimPrecision|getAnimSpeedCoef|getArray|getArtilleryAmmo|getArtilleryComputerSettings|getArtilleryETA|getAssignedCuratorLogic|getAssignedCuratorUnit|getBackpackCargo|getBleedingRemaining|getBurningValue|getCameraViewDirection|getCargoIndex|getCenterOfMass|getClientState|getClientStateNumber|getCompatiblePylonMagazines|getConnectedUAV|getContainerMaxLoad|getCursorObjectParams|getCustomAimCoef|getDammage|getDescription|getDir|getDirVisual|getDLCAssetsUsage|getDLCAssetsUsageByName|getDLCs|getDLCUsageTime|getEditorCamera|getEditorMode|getEditorObjectScope|getElevationOffset|getEngineTargetRpmRTD|getEnvSoundController|getFatigue|getFieldManualStartPage|getForcedFlagTexture|getFriend|getFSMVariable|getFuelCargo|getGroupIcon|getGroupIconParams|getGroupIcons|getHideFrom|getHit|getHitIndex|getHitPointDamage|getItemCargo|getMagazineCargo|getMarkerColor|getMarkerPos|getMarkerSize|getMarkerType|getMass|getMissionConfig|getMissionConfigValue|getMissionDLCs|getMissionLayerEntities|getMissionLayers|getModelInfo|getMousePosition|getMusicPlayedTime|getNumber|getObjectArgument|getObjectChildren|getObjectDLC|getObjectMaterials|getObjectProxy|getObjectTextures|getObjectType|getObjectViewDistance|getOxygenRemaining|getPersonUsedDLCs|getPilotCameraDirection|getPilotCameraPosition|getPilotCameraRotation|getPilotCameraTarget|getPlateNumber|getPlayerChannel|getPlayerScores|getPlayerUID|getPlayerUIDOld|getPos|getPosASL|getPosASLVisual|getPosASLW|getPosATL|getPosATLVisual|getPosVisual|getPosWorld|getPylonMagazines|getRelDir|getRelPos|getRemoteSensorsDisabled|getRepairCargo|getResolution|getRotorBrakeRTD|getShadowDistance|getShotParents|getSlingLoad|getSoundController|getSoundControllerResult|getSpeed|getStamina|getStatValue|getSuppression|getTerrainGrid|getTerrainHeightASL|getText|getTotalDLCUsageTime|getTrimOffsetRTD|getUnitLoadout|getUnitTrait|getUserMFDText|getUserMFDValue|getVariable|getVehicleCargo|getWeaponCargo|getWeaponSway|getWingsOrientationRTD|getWingsPositionRTD|getWPPos|glanceAt|globalChat|globalRadio|goggles|group|groupChat|groupFromNetId|groupIconSelectable|groupIconsVisible|groupId|groupOwner|groupRadio|groupSelectedUnits|groupSelectUnit|grpNull|gunner|gusts|halt|handgunItems|handgunMagazine|handgunWeapon|handsHit|hasInterface|hasPilotCamera|hasWeapon|hcAllGroups|hcGroupParams|hcLeader|hcRemoveAllGroups|hcRemoveGroup|hcSelected|hcSelectGroup|hcSetGroup|hcShowBar|hcShownBar|headgear|hideBody|hideObject|hideObjectGlobal|hideSelection|hint|hintC|hintCadet|hintSilent|hmd|hostMission|htmlLoad|HUDMovementLevels|humidity|image|importAllGroups|importance|in|inArea|inAreaArray|incapacitatedState|independent|inflame|inflamed|infoPanel|infoPanelComponentEnabled|infoPanelComponents|infoPanels|inGameUISetEventHandler|inheritsFrom|initAmbientLife|inPolygon|inputAction|inRangeOfArtillery|insertEditorObject|intersect|is3DEN|is3DENMultiplayer|isAbleToBreathe|isAgent|isAimPrecisionEnabled|isArray|isAutoHoverOn|isAutonomous|isAutoStartUpEnabledRTD|isAutotest|isAutoTrimOnRTD|isBleeding|isBurning|isClass|isCollisionLightOn|isCopilotEnabled|isDamageAllowed|isDedicated|isDLCAvailable|isEngineOn|isEqualTo|isEqualType|isEqualTypeAll|isEqualTypeAny|isEqualTypeArray|isEqualTypeParams|isFilePatchingEnabled|isFlashlightOn|isFlatEmpty|isForcedWalk|isFormationLeader|isGroupDeletedWhenEmpty|isHidden|isInRemainsCollector|isInstructorFigureEnabled|isIRLaserOn|isKeyActive|isKindOf|isLaserOn|isLightOn|isLocalized|isManualFire|isMarkedForCollection|isMultiplayer|isMultiplayerSolo|isNil|isNull|isNumber|isObjectHidden|isObjectRTD|isOnRoad|isPipEnabled|isPlayer|isRealTime|isRemoteExecuted|isRemoteExecutedJIP|isServer|isShowing3DIcons|isSimpleObject|isSprintAllowed|isStaminaEnabled|isSteamMission|isStreamFriendlyUIEnabled|isStressDamageEnabled|isText|isTouchingGround|isTurnedOut|isTutHintsEnabled|isUAVConnectable|isUAVConnected|isUIContext|isUniformAllowed|isVehicleCargo|isVehicleRadarOn|isVehicleSensorEnabled|isWalking|isWeaponDeployed|isWeaponRested|itemCargo|items|itemsWithMagazines|join|joinAs|joinAsSilent|joinSilent|joinString|kbAddDatabase|kbAddDatabaseTargets|kbAddTopic|kbHasTopic|kbReact|kbRemoveTopic|kbTell|kbWasSaid|keyImage|keyName|knowsAbout|land|landAt|landResult|language|laserTarget|lbAdd|lbClear|lbColor|lbColorRight|lbCurSel|lbData|lbDelete|lbIsSelected|lbPicture|lbPictureRight|lbSelection|lbSetColor|lbSetColorRight|lbSetCurSel|lbSetData|lbSetPicture|lbSetPictureColor|lbSetPictureColorDisabled|lbSetPictureColorSelected|lbSetPictureRight|lbSetPictureRightColor|lbSetPictureRightColorDisabled|lbSetPictureRightColorSelected|lbSetSelectColor|lbSetSelectColorRight|lbSetSelected|lbSetText|lbSetTextRight|lbSetTooltip|lbSetValue|lbSize|lbSort|lbSortByValue|lbText|lbTextRight|lbValue|leader|leaderboardDeInit|leaderboardGetRows|leaderboardInit|leaderboardRequestRowsFriends|leaderboardRequestRowsGlobal|leaderboardRequestRowsGlobalAroundUser|leaderboardsRequestUploadScore|leaderboardsRequestUploadScoreKeepBest|leaderboardState|leaveVehicle|libraryCredits|libraryDisclaimers|lifeState|lightAttachObject|lightDetachObject|lightIsOn|lightnings|limitSpeed|linearConversion|lineBreak|lineIntersects|lineIntersectsObjs|lineIntersectsSurfaces|lineIntersectsWith|linkItem|list|listObjects|listRemoteTargets|listVehicleSensors|ln|lnbAddArray|lnbAddColumn|lnbAddRow|lnbClear|lnbColor|lnbColorRight|lnbCurSelRow|lnbData|lnbDeleteColumn|lnbDeleteRow|lnbGetColumnsPosition|lnbPicture|lnbPictureRight|lnbSetColor|lnbSetColorRight|lnbSetColumnsPos|lnbSetCurSelRow|lnbSetData|lnbSetPicture|lnbSetPictureColor|lnbSetPictureColorRight|lnbSetPictureColorSelected|lnbSetPictureColorSelectedRight|lnbSetPictureRight|lnbSetText|lnbSetTextRight|lnbSetValue|lnbSize|lnbSort|lnbSortByValue|lnbText|lnbTextRight|lnbValue|load|loadAbs|loadBackpack|loadFile|loadGame|loadIdentity|loadMagazine|loadOverlay|loadStatus|loadUniform|loadVest|local|localize|locationNull|locationPosition|lock|lockCameraTo|lockCargo|lockDriver|locked|lockedCargo|lockedDriver|lockedTurret|lockIdentity|lockTurret|lockWP|log|logEntities|logNetwork|logNetworkTerminate|lookAt|lookAtPos|magazineCargo|magazines|magazinesAllTurrets|magazinesAmmo|magazinesAmmoCargo|magazinesAmmoFull|magazinesDetail|magazinesDetailBackpack|magazinesDetailUniform|magazinesDetailVest|magazinesTurret|magazineTurretAmmo|mapAnimAdd|mapAnimClear|mapAnimCommit|mapAnimDone|mapCenterOnCamera|mapGridPosition|markAsFinishedOnSteam|markerAlpha|markerBrush|markerColor|markerDir|markerPos|markerShape|markerSize|markerText|markerType|max|members|menuAction|menuAdd|menuChecked|menuClear|menuCollapse|menuData|menuDelete|menuEnable|menuEnabled|menuExpand|menuHover|menuPicture|menuSetAction|menuSetCheck|menuSetData|menuSetPicture|menuSetValue|menuShortcut|menuShortcutText|menuSize|menuSort|menuText|menuURL|menuValue|min|mineActive|mineDetectedBy|missionConfigFile|missionDifficulty|missionName|missionNamespace|missionStart|missionVersion|modelToWorld|modelToWorldVisual|modelToWorldVisualWorld|modelToWorldWorld|modParams|moonIntensity|moonPhase|morale|move|move3DENCamera|moveInAny|moveInCargo|moveInCommander|moveInDriver|moveInGunner|moveInTurret|moveObjectToEnd|moveOut|moveTime|moveTo|moveToCompleted|moveToFailed|musicVolume|name|nameSound|nearEntities|nearestBuilding|nearestLocation|nearestLocations|nearestLocationWithDubbing|nearestObject|nearestObjects|nearestTerrainObjects|nearObjects|nearObjectsReady|nearRoads|nearSupplies|nearTargets|needReload|netId|netObjNull|newOverlay|nextMenuItemIndex|nextWeatherChange|nMenuItems|numberOfEnginesRTD|numberToDate|objectCurators|objectFromNetId|objectParent|objNull|objStatus|onBriefingGear|onBriefingGroup|onBriefingNotes|onBriefingPlan|onBriefingTeamSwitch|onCommandModeChanged|onDoubleClick|onEachFrame|onGroupIconClick|onGroupIconOverEnter|onGroupIconOverLeave|onHCGroupSelectionChanged|onMapSingleClick|onPlayerConnected|onPlayerDisconnected|onPreloadFinished|onPreloadStarted|onShowNewObject|onTeamSwitch|openCuratorInterface|openDLCPage|openDSInterface|openMap|openSteamApp|openYoutubeVideo|opfor|orderGetIn|overcast|overcastForecast|owner|param|params|parseNumber|parseSimpleArray|parseText|parsingNamespace|particlesQuality|pi|pickWeaponPool|pitch|pixelGrid|pixelGridBase|pixelGridNoUIScale|pixelH|pixelW|playableSlotsNumber|playableUnits|playAction|playActionNow|player|playerRespawnTime|playerSide|playersNumber|playGesture|playMission|playMove|playMoveNow|playMusic|playScriptedMission|playSound|playSound3D|position|positionCameraToWorld|posScreenToWorld|posWorldToScreen|ppEffectAdjust|ppEffectCommit|ppEffectCommitted|ppEffectCreate|ppEffectDestroy|ppEffectEnable|ppEffectEnabled|ppEffectForceInNVG|precision|preloadCamera|preloadObject|preloadSound|preloadTitleObj|preloadTitleRsc|primaryWeapon|primaryWeaponItems|primaryWeaponMagazine|priority|processDiaryLink|processInitCommands|productVersion|profileName|profileNamespace|profileNameSteam|progressLoadingScreen|progressPosition|progressSetPosition|publicVariable|publicVariableClient|publicVariableServer|pushBack|pushBackUnique|putWeaponPool|queryItemsPool|queryMagazinePool|queryWeaponPool|rad|radioChannelAdd|radioChannelCreate|radioChannelRemove|radioChannelSetCallSign|radioChannelSetLabel|radioVolume|rain|rainbow|random|rank|rankId|rating|rectangular|registeredTasks|registerTask|reload|reloadEnabled|remoteControl|remoteExec|remoteExecCall|remoteExecutedOwner|remove3DENConnection|remove3DENEventHandler|remove3DENLayer|removeAction|removeAll3DENEventHandlers|removeAllActions|removeAllAssignedItems|removeAllContainers|removeAllCuratorAddons|removeAllCuratorCameraAreas|removeAllCuratorEditingAreas|removeAllEventHandlers|removeAllHandgunItems|removeAllItems|removeAllItemsWithMagazines|removeAllMissionEventHandlers|removeAllMPEventHandlers|removeAllMusicEventHandlers|removeAllOwnedMines|removeAllPrimaryWeaponItems|removeAllWeapons|removeBackpack|removeBackpackGlobal|removeCuratorAddons|removeCuratorCameraArea|removeCuratorEditableObjects|removeCuratorEditingArea|removeDrawIcon|removeDrawLinks|removeEventHandler|removeFromRemainsCollector|removeGoggles|removeGroupIcon|removeHandgunItem|removeHeadgear|removeItem|removeItemFromBackpack|removeItemFromUniform|removeItemFromVest|removeItems|removeMagazine|removeMagazineGlobal|removeMagazines|removeMagazinesTurret|removeMagazineTurret|removeMenuItem|removeMissionEventHandler|removeMPEventHandler|removeMusicEventHandler|removeOwnedMine|removePrimaryWeaponItem|removeSecondaryWeaponItem|removeSimpleTask|removeSwitchableUnit|removeTeamMember|removeUniform|removeVest|removeWeapon|removeWeaponAttachmentCargo|removeWeaponCargo|removeWeaponGlobal|removeWeaponTurret|reportRemoteTarget|requiredVersion|resetCamShake|resetSubgroupDirection|resistance|resize|resources|respawnVehicle|restartEditorCamera|reveal|revealMine|reverse|reversedMouseY|roadAt|roadsConnectedTo|roleDescription|ropeAttachedObjects|ropeAttachedTo|ropeAttachEnabled|ropeAttachTo|ropeCreate|ropeCut|ropeDestroy|ropeDetach|ropeEndPosition|ropeLength|ropes|ropeUnwind|ropeUnwound|rotorsForcesRTD|rotorsRpmRTD|round|runInitScript|safeZoneH|safeZoneW|safeZoneWAbs|safeZoneX|safeZoneXAbs|safeZoneY|save3DENInventory|saveGame|saveIdentity|saveJoysticks|saveOverlay|saveProfileNamespace|saveStatus|saveVar|savingEnabled|say|say2D|say3D|score|scoreSide|screenshot|screenToWorld|scriptDone|scriptName|scriptNull|scudState|secondaryWeapon|secondaryWeaponItems|secondaryWeaponMagazine|select|selectBestPlaces|selectDiarySubject|selectedEditorObjects|selectEditorObject|selectionNames|selectionPosition|selectLeader|selectMax|selectMin|selectNoPlayer|selectPlayer|selectRandom|selectRandomWeighted|selectWeapon|selectWeaponTurret|sendAUMessage|sendSimpleCommand|sendTask|sendTaskResult|sendUDPMessage|serverCommand|serverCommandAvailable|serverCommandExecutable|serverName|serverTime|set|set3DENAttribute|set3DENAttributes|set3DENGrid|set3DENIconsVisible|set3DENLayer|set3DENLinesVisible|set3DENLogicType|set3DENMissionAttribute|set3DENMissionAttributes|set3DENModelsVisible|set3DENObjectType|set3DENSelected|setAccTime|setActualCollectiveRTD|setAirplaneThrottle|setAirportSide|setAmmo|setAmmoCargo|setAmmoOnPylon|setAnimSpeedCoef|setAperture|setApertureNew|setArmoryPoints|setAttributes|setAutonomous|setBehaviour|setBleedingRemaining|setBrakesRTD|setCameraInterest|setCamShakeDefParams|setCamShakeParams|setCamUseTI|setCaptive|setCenterOfMass|setCollisionLight|setCombatMode|setCompassOscillation|setConvoySeparation|setCuratorCameraAreaCeiling|setCuratorCoef|setCuratorEditingAreaType|setCuratorWaypointCost|setCurrentChannel|setCurrentTask|setCurrentWaypoint|setCustomAimCoef|setCustomWeightRTD|setDamage|setDammage|setDate|setDebriefingText|setDefaultCamera|setDestination|setDetailMapBlendPars|setDir|setDirection|setDrawIcon|setDriveOnPath|setDropInterval|setDynamicSimulationDistance|setDynamicSimulationDistanceCoef|setEditorMode|setEditorObjectScope|setEffectCondition|setEngineRpmRTD|setFace|setFaceAnimation|setFatigue|setFeatureType|setFlagAnimationPhase|setFlagOwner|setFlagSide|setFlagTexture|setFog|setForceGeneratorRTD|setFormation|setFormationTask|setFormDir|setFriend|setFromEditor|setFSMVariable|setFuel|setFuelCargo|setGroupIcon|setGroupIconParams|setGroupIconsSelectable|setGroupIconsVisible|setGroupId|setGroupIdGlobal|setGroupOwner|setGusts|setHideBehind|setHit|setHitIndex|setHitPointDamage|setHorizonParallaxCoef|setHUDMovementLevels|setIdentity|setImportance|setInfoPanel|setLeader|setLightAmbient|setLightAttenuation|setLightBrightness|setLightColor|setLightDayLight|setLightFlareMaxDistance|setLightFlareSize|setLightIntensity|setLightnings|setLightUseFlare|setLocalWindParams|setMagazineTurretAmmo|setMarkerAlpha|setMarkerAlphaLocal|setMarkerBrush|setMarkerBrushLocal|setMarkerColor|setMarkerColorLocal|setMarkerDir|setMarkerDirLocal|setMarkerPos|setMarkerPosLocal|setMarkerShape|setMarkerShapeLocal|setMarkerSize|setMarkerSizeLocal|setMarkerText|setMarkerTextLocal|setMarkerType|setMarkerTypeLocal|setMass|setMimic|setMousePosition|setMusicEffect|setMusicEventHandler|setName|setNameSound|setObjectArguments|setObjectMaterial|setObjectMaterialGlobal|setObjectProxy|setObjectTexture|setObjectTextureGlobal|setObjectViewDistance|setOvercast|setOwner|setOxygenRemaining|setParticleCircle|setParticleClass|setParticleFire|setParticleParams|setParticleRandom|setPilotCameraDirection|setPilotCameraRotation|setPilotCameraTarget|setPilotLight|setPiPEffect|setPitch|setPlateNumber|setPlayable|setPlayerRespawnTime|setPos|setPosASL|setPosASL2|setPosASLW|setPosATL|setPosition|setPosWorld|setPylonLoadOut|setPylonsPriority|setRadioMsg|setRain|setRainbow|setRandomLip|setRank|setRectangular|setRepairCargo|setRotorBrakeRTD|setShadowDistance|setShotParents|setSide|setSimpleTaskAlwaysVisible|setSimpleTaskCustomData|setSimpleTaskDescription|setSimpleTaskDestination|setSimpleTaskTarget|setSimpleTaskType|setSimulWeatherLayers|setSize|setSkill|setSlingLoad|setSoundEffect|setSpeaker|setSpeech|setSpeedMode|setStamina|setStaminaScheme|setStatValue|setSuppression|setSystemOfUnits|setTargetAge|setTaskMarkerOffset|setTaskResult|setTaskState|setTerrainGrid|setText|setTimeMultiplier|setTitleEffect|setToneMapping|setToneMappingParams|setTrafficDensity|setTrafficDistance|setTrafficGap|setTrafficSpeed|setTriggerActivation|setTriggerArea|setTriggerStatements|setTriggerText|setTriggerTimeout|setTriggerType|setType|setUnconscious|setUnitAbility|setUnitLoadout|setUnitPos|setUnitPosWeak|setUnitRank|setUnitRecoilCoefficient|setUnitTrait|setUnloadInCombat|setUserActionText|setUserMFDText|setUserMFDValue|setVariable|setVectorDir|setVectorDirAndUp|setVectorUp|setVehicleAmmo|setVehicleAmmoDef|setVehicleArmor|setVehicleCargo|setVehicleId|setVehicleInit|setVehicleLock|setVehiclePosition|setVehicleRadar|setVehicleReceiveRemoteTargets|setVehicleReportOwnPosition|setVehicleReportRemoteTargets|setVehicleTIPars|setVehicleVarName|setVelocity|setVelocityModelSpace|setVelocityTransformation|setViewDistance|setVisibleIfTreeCollapsed|setWantedRpmRTD|setWaves|setWaypointBehaviour|setWaypointCombatMode|setWaypointCompletionRadius|setWaypointDescription|setWaypointForceBehaviour|setWaypointFormation|setWaypointHousePosition|setWaypointLoiterRadius|setWaypointLoiterType|setWaypointName|setWaypointPosition|setWaypointScript|setWaypointSpeed|setWaypointStatements|setWaypointTimeout|setWaypointType|setWaypointVisible|setWeaponReloadingTime|setWind|setWindDir|setWindForce|setWindStr|setWingForceScaleRTD|setWPPos|show3DIcons|showChat|showCinemaBorder|showCommandingMenu|showCompass|showCuratorCompass|showGPS|showHUD|showLegend|showMap|shownArtilleryComputer|shownChat|shownCompass|shownCuratorCompass|showNewEditorObject|shownGPS|shownHUD|shownMap|shownPad|shownRadio|shownScoretable|shownUAVFeed|shownWarrant|shownWatch|showPad|showRadio|showScoretable|showSubtitles|showUAVFeed|showWarrant|showWatch|showWaypoint|showWaypoints|side|sideAmbientLife|sideChat|sideEmpty|sideEnemy|sideFriendly|sideLogic|sideRadio|sideUnknown|simpleTasks|simulationEnabled|simulCloudDensity|simulCloudOcclusion|simulInClouds|simulWeatherSync|sin|size|sizeOf|skill|skillFinal|skipTime|sleep|sliderPosition|sliderRange|sliderSetPosition|sliderSetRange|sliderSetSpeed|sliderSpeed|slingLoadAssistantShown|soldierMagazines|someAmmo|sort|soundVolume|speaker|speed|speedMode|splitString|sqrt|squadParams|stance|startLoadingScreen|stop|stopEngineRTD|stopped|str|sunOrMoon|supportInfo|suppressFor|surfaceIsWater|surfaceNormal|surfaceType|swimInDepth|switchableUnits|switchAction|switchCamera|switchGesture|switchLight|switchMove|synchronizedObjects|synchronizedTriggers|synchronizedWaypoints|synchronizeObjectsAdd|synchronizeObjectsRemove|synchronizeTrigger|synchronizeWaypoint|systemChat|systemOfUnits|tan|targetKnowledge|targets|targetsAggregate|targetsQuery|taskAlwaysVisible|taskChildren|taskCompleted|taskCustomData|taskDescription|taskDestination|taskHint|taskMarkerOffset|taskNull|taskParent|taskResult|taskState|taskType|teamMember|teamMemberNull|teamName|teams|teamSwitch|teamSwitchEnabled|teamType|terminate|terrainIntersect|terrainIntersectASL|terrainIntersectAtASL|text|textLog|textLogFormat|tg|time|timeMultiplier|titleCut|titleFadeOut|titleObj|titleRsc|titleText|toArray|toFixed|toLower|toString|toUpper|triggerActivated|triggerActivation|triggerArea|triggerAttachedVehicle|triggerAttachObject|triggerAttachVehicle|triggerDynamicSimulation|triggerStatements|triggerText|triggerTimeout|triggerTimeoutCurrent|triggerType|turretLocal|turretOwner|turretUnit|tvAdd|tvClear|tvCollapse|tvCollapseAll|tvCount|tvCurSel|tvData|tvDelete|tvExpand|tvExpandAll|tvPicture|tvPictureRight|tvSetColor|tvSetCurSel|tvSetData|tvSetPicture|tvSetPictureColor|tvSetPictureColorDisabled|tvSetPictureColorSelected|tvSetPictureRight|tvSetPictureRightColor|tvSetPictureRightColorDisabled|tvSetPictureRightColorSelected|tvSetSelectColor|tvSetText|tvSetTooltip|tvSetValue|tvSort|tvSortByValue|tvText|tvTooltip|tvValue|type|typeName|typeOf|UAVControl|uiNamespace|uiSleep|unassignCurator|unassignItem|unassignTeam|unassignVehicle|underwater|uniform|uniformContainer|uniformItems|uniformMagazines|unitAddons|unitAimPosition|unitAimPositionVisual|unitBackpack|unitIsUAV|unitPos|unitReady|unitRecoilCoefficient|units|unitsBelowHeight|unlinkItem|unlockAchievement|unregisterTask|updateDrawIcon|updateMenuItem|updateObjectTree|useAIOperMapObstructionTest|useAISteeringComponent|useAudioTimeForMoves|userInputDisabled|vectorAdd|vectorCos|vectorCrossProduct|vectorDiff|vectorDir|vectorDirVisual|vectorDistance|vectorDistanceSqr|vectorDotProduct|vectorFromTo|vectorMagnitude|vectorMagnitudeSqr|vectorModelToWorld|vectorModelToWorldVisual|vectorMultiply|vectorNormalized|vectorUp|vectorUpVisual|vectorWorldToModel|vectorWorldToModelVisual|vehicle|vehicleCargoEnabled|vehicleChat|vehicleRadio|vehicleReceiveRemoteTargets|vehicleReportOwnPosition|vehicleReportRemoteTargets|vehicles|vehicleVarName|velocity|velocityModelSpace|verifySignature|vest|vestContainer|vestItems|vestMagazines|viewDistance|visibleCompass|visibleGPS|visibleMap|visiblePosition|visiblePositionASL|visibleScoretable|visibleWatch|waitUntil|waves|waypointAttachedObject|waypointAttachedVehicle|waypointAttachObject|waypointAttachVehicle|waypointBehaviour|waypointCombatMode|waypointCompletionRadius|waypointDescription|waypointForceBehaviour|waypointFormation|waypointHousePosition|waypointLoiterRadius|waypointLoiterType|waypointName|waypointPosition|waypoints|waypointScript|waypointsEnabledUAV|waypointShow|waypointSpeed|waypointStatements|waypointTimeout|waypointTimeoutCurrent|waypointType|waypointVisible|weaponAccessories|weaponAccessoriesCargo|weaponCargo|weaponDirection|weaponInertia|weaponLowered|weapons|weaponsItems|weaponsItemsCargo|weaponState|weaponsTurret|weightRTD|west|WFSideText|wind|windDir|windRTD|windStr|wingsForcesRTD|worldName|worldSize|worldToModel|worldToModelVisual|worldToScreen)\b/i,number:/(?:\$|\b0x)[\da-f]+\b|(?:\B\.\d+|\b\d+(?:\.\d+)?)(?:e[+-]?\d+)?\b/i,operator:/##|>>|&&|\|\||[!=<>]=?|[-+*/%#^]|\b(?:and|mod|not|or)\b/i,"magic-variable":{pattern:/\b(?:this|thisList|thisTrigger|_exception|_fnc_scriptName|_fnc_scriptNameParent|_forEachIndex|_this|_thisEventHandler|_thisFSM|_thisScript|_x)\b/i,alias:"keyword"},constant:/\bDIK(?:_[a-z\d]+)+\b/i}),e.languages.insertBefore("sqf","string",{macro:{pattern:/(^[ \t]*)#[a-z](?:[^\r\n\\]|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{directive:{pattern:/#[a-z]+\b/i,alias:"keyword"},comment:e.languages.sqf.comment}}}),delete e.languages.sqf["class-name"]}return gL}var yL,KJ;function OUe(){if(KJ)return yL;KJ=1,yL=t,t.displayName="squirrel",t.aliases=[];function t(e){e.languages.squirrel=e.languages.extend("clike",{comment:[e.languages.clike.comment[0],{pattern:/(^|[^\\:])(?:\/\/|#).*/,lookbehind:!0,greedy:!0}],string:{pattern:/(^|[^\\"'@])(?:@"(?:[^"]|"")*"(?!")|"(?:[^\\\r\n"]|\\.)*")/,lookbehind:!0,greedy:!0},"class-name":{pattern:/(\b(?:class|enum|extends|instanceof)\s+)\w+(?:\.\w+)*/,lookbehind:!0,inside:{punctuation:/\./}},keyword:/\b(?:__FILE__|__LINE__|base|break|case|catch|class|clone|const|constructor|continue|default|delete|else|enum|extends|for|foreach|function|if|in|instanceof|local|null|resume|return|static|switch|this|throw|try|typeof|while|yield)\b/,number:/\b(?:0x[0-9a-fA-F]+|\d+(?:\.(?:\d+|[eE][+-]?\d+))?)\b/,operator:/\+\+|--|<=>|<[-<]|>>>?|&&?|\|\|?|[-+*/%!=<>]=?|[~^]|::?/,punctuation:/[(){}\[\],;.]/}),e.languages.insertBefore("squirrel","string",{char:{pattern:/(^|[^\\"'])'(?:[^\\']|\\(?:[xuU][0-9a-fA-F]{0,8}|[\s\S]))'/,lookbehind:!0,greedy:!0}}),e.languages.insertBefore("squirrel","operator",{"attribute-punctuation":{pattern:/<\/|\/>/,alias:"important"},lambda:{pattern:/@(?=\()/,alias:"operator"}})}return yL}var bL,YJ;function MUe(){if(YJ)return bL;YJ=1,bL=t,t.displayName="stan",t.aliases=[];function t(e){(function(n){var r=/\b(?:algebra_solver|algebra_solver_newton|integrate_1d|integrate_ode|integrate_ode_bdf|integrate_ode_rk45|map_rect|ode_(?:adams|bdf|ckrk|rk45)(?:_tol)?|ode_adjoint_tol_ctl|reduce_sum|reduce_sum_static)\b/;n.languages.stan={comment:/\/\/.*|\/\*[\s\S]*?\*\/|#(?!include).*/,string:{pattern:/"[\x20\x21\x23-\x5B\x5D-\x7E]*"/,greedy:!0},directive:{pattern:/^([ \t]*)#include\b.*/m,lookbehind:!0,alias:"property"},"function-arg":{pattern:RegExp("("+r.source+/\s*\(\s*/.source+")"+/[a-zA-Z]\w*/.source),lookbehind:!0,alias:"function"},constraint:{pattern:/(\b(?:int|matrix|real|row_vector|vector)\s*)<[^<>]*>/,lookbehind:!0,inside:{expression:{pattern:/(=\s*)\S(?:\S|\s+(?!\s))*?(?=\s*(?:>$|,\s*\w+\s*=))/,lookbehind:!0,inside:null},property:/\b[a-z]\w*(?=\s*=)/i,operator:/=/,punctuation:/^<|>$|,/}},keyword:[{pattern:/\bdata(?=\s*\{)|\b(?:functions|generated|model|parameters|quantities|transformed)\b/,alias:"program-block"},/\b(?:array|break|cholesky_factor_corr|cholesky_factor_cov|complex|continue|corr_matrix|cov_matrix|data|else|for|if|in|increment_log_prob|int|matrix|ordered|positive_ordered|print|real|reject|return|row_vector|simplex|target|unit_vector|vector|void|while)\b/,r],function:/\b[a-z]\w*(?=\s*\()/i,number:/(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:E[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,boolean:/\b(?:false|true)\b/,operator:/<-|\.[*/]=?|\|\|?|&&|[!=<>+\-*/]=?|['^%~?:]/,punctuation:/[()\[\]{},;]/},n.languages.stan.constraint.inside.expression.inside=n.languages.stan})(e)}return bL}var vL,XJ;function PUe(){if(XJ)return vL;XJ=1,vL=t,t.displayName="stylus",t.aliases=[];function t(e){(function(n){var r={pattern:/(\b\d+)(?:%|[a-z]+)/,lookbehind:!0},i={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0},a={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},url:{pattern:/\burl\((["']?).*?\1\)/i,greedy:!0},string:{pattern:/("|')(?:(?!\1)[^\\\r\n]|\\(?:\r\n|[\s\S]))*\1/,greedy:!0},interpolation:null,func:null,important:/\B!(?:important|optional)\b/i,keyword:{pattern:/(^|\s+)(?:(?:else|for|if|return|unless)(?=\s|$)|@[\w-]+)/,lookbehind:!0},hexcode:/#[\da-f]{3,6}/i,color:[/\b(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)\b/i,{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:r,number:i,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:r,boolean:/\b(?:false|true)\b/,operator:[/~|[+!\/%<>?=]=?|[-:]=|\*[*=]?|\.{2,3}|&&|\|\||\B-\B|\b(?:and|in|is(?: a| defined| not|nt)?|not|or)\b/],number:i,punctuation:/[{}()\[\];:,]/};a.interpolation={pattern:/\{[^\r\n}:]+\}/,alias:"variable",inside:{delimiter:{pattern:/^\{|\}$/,alias:"punctuation"},rest:a}},a.func={pattern:/[\w-]+\([^)]*\).*/,inside:{function:/^[^(]+/,rest:a}},n.languages.stylus={"atrule-declaration":{pattern:/(^[ \t]*)@.+/m,lookbehind:!0,inside:{atrule:/^@[\w-]+/,rest:a}},"variable-declaration":{pattern:/(^[ \t]*)[\w$-]+\s*.?=[ \t]*(?:\{[^{}]*\}|\S.*|$)/m,lookbehind:!0,inside:{variable:/^\S+/,rest:a}},statement:{pattern:/(^[ \t]*)(?:else|for|if|return|unless)[ \t].+/m,lookbehind:!0,inside:{keyword:/^\S+/,rest:a}},"property-declaration":{pattern:/((?:^|\{)([ \t]*))(?:[\w-]|\{[^}\r\n]+\})+(?:\s*:\s*|[ \t]+)(?!\s)[^{\r\n]*(?:;|[^{\r\n,]$(?!(?:\r?\n|\r)(?:\{|\2[ \t])))/m,lookbehind:!0,inside:{property:{pattern:/^[^\s:]+/,inside:{interpolation:a.interpolation}},rest:a}},selector:{pattern:/(^[ \t]*)(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)(?:(?:\r?\n|\r)(?:\1(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)))*(?:,$|\{|(?=(?:\r?\n|\r)(?:\{|\1[ \t])))/m,lookbehind:!0,inside:{interpolation:a.interpolation,comment:a.comment,punctuation:/[{},]/}},func:a.func,string:a.string,comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0,greedy:!0},interpolation:a.interpolation,punctuation:/[{}()\[\];:.]/}})(e)}return vL}var wL,ZJ;function LUe(){if(ZJ)return wL;ZJ=1,wL=t,t.displayName="swift",t.aliases=[];function t(e){e.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},e.languages.swift["string-literal"].forEach(function(n){n.inside.interpolation.inside=e.languages.swift})}return wL}var _L,QJ;function DUe(){if(QJ)return _L;QJ=1,_L=t,t.displayName="systemd",t.aliases=[];function t(e){(function(n){var r={pattern:/^[;#].*/m,greedy:!0},i=/"(?:[^\r\n"\\]|\\(?:[^\r]|\r\n?))*"(?!\S)/.source;n.languages.systemd={comment:r,section:{pattern:/^\[[^\n\r\[\]]*\](?=[ \t]*$)/m,greedy:!0,inside:{punctuation:/^\[|\]$/,"section-name":{pattern:/[\s\S]+/,alias:"selector"}}},key:{pattern:/^[^\s=]+(?=[ \t]*=)/m,greedy:!0,alias:"attr-name"},value:{pattern:RegExp(/(=[ \t]*(?!\s))/.source+"(?:"+i+`|(?=[^"\r
]))(?:`+(/[^\s\\]/.source+'|[ 	]+(?:(?![ 	"])|'+i+")|"+/\\[\r\n]+(?:[#;].*[\r\n]+)*(?![#;])/.source)+")*"),lookbehind:!0,greedy:!0,alias:"attr-value",inside:{comment:r,quoted:{pattern:RegExp(/(^|\s)/.source+i),lookbehind:!0,greedy:!0},punctuation:/\\$/m,boolean:{pattern:/^(?:false|no|off|on|true|yes)$/,greedy:!0}}},punctuation:/=/}})(e)}return _L}var SL,JJ;function zF(){if(JJ)return SL;JJ=1,SL=t,t.displayName="t4Templating",t.aliases=[];function t(e){(function(n){function r(a,s,o){return{pattern:RegExp("<#"+a+"[\\s\\S]*?#>"),alias:"block",inside:{delimiter:{pattern:RegExp("^<#"+a+"|#>$"),alias:"important"},content:{pattern:/[\s\S]+/,inside:s,alias:o}}}}function i(a){var s=n.languages[a],o="language-"+a;return{block:{pattern:/<#[\s\S]+?#>/,inside:{directive:r("@",{"attr-value":{pattern:/=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+)/,inside:{punctuation:/^=|^["']|["']$/}},keyword:/\b\w+(?=\s)/,"attr-name":/\b\w+/}),expression:r("=",s,o),"class-feature":r("\\+",s,o),standard:r("",s,o)}}}}n.languages["t4-templating"]=Object.defineProperty({},"createT4",{value:i})})(e)}return SL}var xL,eee;function FUe(){if(eee)return xL;eee=1;var t=zF(),e=gC();xL=n,n.displayName="t4Cs",n.aliases=[];function n(r){r.register(t),r.register(e),r.languages.t4=r.languages["t4-cs"]=r.languages["t4-templating"].createT4("csharp")}return xL}var EL,tee;function Nde(){if(tee)return EL;tee=1;var t=Ade();EL=e,e.displayName="vbnet",e.aliases=[];function e(n){n.register(t),n.languages.vbnet=n.languages.extend("basic",{comment:[{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},{pattern:/(^|[^\\:])'.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(^|[^"])"(?:""|[^"])*"(?!")/,lookbehind:!0,greedy:!0},keyword:/(?:\b(?:ADDHANDLER|ADDRESSOF|ALIAS|AND|ANDALSO|AS|BEEP|BLOAD|BOOLEAN|BSAVE|BYREF|BYTE|BYVAL|CALL(?: ABSOLUTE)?|CASE|CATCH|CBOOL|CBYTE|CCHAR|CDATE|CDBL|CDEC|CHAIN|CHAR|CHDIR|CINT|CLASS|CLEAR|CLNG|CLOSE|CLS|COBJ|COM|COMMON|CONST|CONTINUE|CSBYTE|CSHORT|CSNG|CSTR|CTYPE|CUINT|CULNG|CUSHORT|DATA|DATE|DECIMAL|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DEFAULT|DELEGATE|DIM|DIRECTCAST|DO|DOUBLE|ELSE|ELSEIF|END|ENUM|ENVIRON|ERASE|ERROR|EVENT|EXIT|FALSE|FIELD|FILES|FINALLY|FOR(?: EACH)?|FRIEND|FUNCTION|GET|GETTYPE|GETXMLNAMESPACE|GLOBAL|GOSUB|GOTO|HANDLES|IF|IMPLEMENTS|IMPORTS|IN|INHERITS|INPUT|INTEGER|INTERFACE|IOCTL|IS|ISNOT|KEY|KILL|LET|LIB|LIKE|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|ME|MKDIR|MOD|MODULE|MUSTINHERIT|MUSTOVERRIDE|MYBASE|MYCLASS|NAME|NAMESPACE|NARROWING|NEW|NEXT|NOT|NOTHING|NOTINHERITABLE|NOTOVERRIDABLE|OBJECT|OF|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPERATOR|OPTION(?: BASE)?|OPTIONAL|OR|ORELSE|OUT|OVERLOADS|OVERRIDABLE|OVERRIDES|PARAMARRAY|PARTIAL|POKE|PRIVATE|PROPERTY|PROTECTED|PUBLIC|PUT|RAISEEVENT|READ|READONLY|REDIM|REM|REMOVEHANDLER|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SBYTE|SELECT(?: CASE)?|SET|SHADOWS|SHARED|SHELL|SHORT|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|STRUCTURE|SUB|SWAP|SYNCLOCK|SYSTEM|THEN|THROW|TIMER|TO|TROFF|TRON|TRUE|TRY|TRYCAST|TYPE|TYPEOF|UINTEGER|ULONG|UNLOCK|UNTIL|USHORT|USING|VIEW PRINT|WAIT|WEND|WHEN|WHILE|WIDENING|WITH|WITHEVENTS|WRITE|WRITEONLY|XOR)|\B(?:#CONST|#ELSE|#ELSEIF|#END|#IF))(?:\$|\b)/i,punctuation:/[,;:(){}]/})}return EL}var kL,nee;function BUe(){if(nee)return kL;nee=1;var t=zF(),e=Nde();kL=n,n.displayName="t4Vb",n.aliases=[];function n(r){r.register(t),r.register(e),r.languages["t4-vb"]=r.languages["t4-templating"].createT4("vbnet")}return kL}var TL,ree;function Ode(){if(ree)return TL;ree=1,TL=t,t.displayName="yaml",t.aliases=["yml"];function t(e){(function(n){var r=/[*&][^\s[\]{},]+/,i=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,a="(?:"+i.source+"(?:[ 	]+"+r.source+")?|"+r.source+"(?:[ 	]+"+i.source+")?)",s=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source}),o=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function l(u,d){d=(d||"").replace(/m/g,"")+"m";var h=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,function(){return a}).replace(/<<value>>/g,function(){return u});return RegExp(h,d)}n.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,function(){return a})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,function(){return a}).replace(/<<key>>/g,function(){return"(?:"+s+"|"+o+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:l(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:l(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:l(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:l(o),lookbehind:!0,greedy:!0},number:{pattern:l(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:i,important:r,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},n.languages.yml=n.languages.yaml})(e)}return TL}var AL,iee;function UUe(){if(iee)return AL;iee=1;var t=Ode();AL=e,e.displayName="tap",e.aliases=[];function e(n){n.register(t),n.languages.tap={fail:/not ok[^#{\n\r]*/,pass:/ok[^#{\n\r]*/,pragma:/pragma [+-][a-z]+/,bailout:/bail out!.*/i,version:/TAP version \d+/i,plan:/\b\d+\.\.\d+(?: +#.*)?/,subtest:{pattern:/# Subtest(?:: .*)?/,greedy:!0},punctuation:/[{}]/,directive:/#.*/,yamlish:{pattern:/(^[ \t]*)---[\s\S]*?[\r\n][ \t]*\.\.\.$/m,lookbehind:!0,inside:n.languages.yaml,alias:"language-yaml"}}}return AL}var CL,aee;function jUe(){if(aee)return CL;aee=1,CL=t,t.displayName="tcl",t.aliases=[];function t(e){e.languages.tcl={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},string:{pattern:/"(?:[^"\\\r\n]|\\(?:\r\n|[\s\S]))*"/,greedy:!0},variable:[{pattern:/(\$)(?:::)?(?:[a-zA-Z0-9]+::)*\w+/,lookbehind:!0},{pattern:/(\$)\{[^}]+\}/,lookbehind:!0},{pattern:/(^[\t ]*set[ \t]+)(?:::)?(?:[a-zA-Z0-9]+::)*\w+/m,lookbehind:!0}],function:{pattern:/(^[\t ]*proc[ \t]+)\S+/m,lookbehind:!0},builtin:[{pattern:/(^[\t ]*)(?:break|class|continue|error|eval|exit|for|foreach|if|proc|return|switch|while)\b/m,lookbehind:!0},/\b(?:else|elseif)\b/],scope:{pattern:/(^[\t ]*)(?:global|upvar|variable)\b/m,lookbehind:!0,alias:"constant"},keyword:{pattern:/(^[\t ]*|\[)(?:Safe_Base|Tcl|after|append|apply|array|auto_(?:execok|import|load|mkindex|qualify|reset)|automkindex_old|bgerror|binary|catch|cd|chan|clock|close|concat|dde|dict|encoding|eof|exec|expr|fblocked|fconfigure|fcopy|file(?:event|name)?|flush|gets|glob|history|http|incr|info|interp|join|lappend|lassign|lindex|linsert|list|llength|load|lrange|lrepeat|lreplace|lreverse|lsearch|lset|lsort|math(?:func|op)|memory|msgcat|namespace|open|package|parray|pid|pkg_mkIndex|platform|puts|pwd|re_syntax|read|refchan|regexp|registry|regsub|rename|scan|seek|set|socket|source|split|string|subst|tcl(?:_endOfWord|_findLibrary|startOf(?:Next|Previous)Word|test|vars|wordBreak(?:After|Before))|tell|time|tm|trace|unknown|unload|unset|update|uplevel|vwait)\b/m,lookbehind:!0},operator:/!=?|\*\*?|==|&&?|\|\|?|<[=<]?|>[=>]?|[-+~\/%?^]|\b(?:eq|in|ne|ni)\b/,punctuation:/[{}()\[\]]/}}return CL}var RL,see;function zUe(){if(see)return RL;see=1,RL=t,t.displayName="textile",t.aliases=[];function t(e){(function(n){var r=/\([^|()\n]+\)|\[[^\]\n]+\]|\{[^}\n]+\}/.source,i=/\)|\((?![^|()\n]+\))/.source;function a(p,m){return RegExp(p.replace(/<MOD>/g,function(){return"(?:"+r+")"}).replace(/<PAR>/g,function(){return"(?:"+i+")"}),m||"")}var s={css:{pattern:/\{[^{}]+\}/,inside:{rest:n.languages.css}},"class-id":{pattern:/(\()[^()]+(?=\))/,lookbehind:!0,alias:"attr-value"},lang:{pattern:/(\[)[^\[\]]+(?=\])/,lookbehind:!0,alias:"attr-value"},punctuation:/[\\\/]\d+|\S/},o=n.languages.textile=n.languages.extend("markup",{phrase:{pattern:/(^|\r|\n)\S[\s\S]*?(?=$|\r?\n\r?\n|\r\r)/,lookbehind:!0,inside:{"block-tag":{pattern:a(/^[a-z]\w*(?:<MOD>|<PAR>|[<>=])*\./.source),inside:{modifier:{pattern:a(/(^[a-z]\w*)(?:<MOD>|<PAR>|[<>=])+(?=\.)/.source),lookbehind:!0,inside:s},tag:/^[a-z]\w*/,punctuation:/\.$/}},list:{pattern:a(/^[*#]+<MOD>*\s+\S.*/.source,"m"),inside:{modifier:{pattern:a(/(^[*#]+)<MOD>+/.source),lookbehind:!0,inside:s},punctuation:/^[*#]+/}},table:{pattern:a(/^(?:(?:<MOD>|<PAR>|[<>=^~])+\.\s*)?(?:\|(?:(?:<MOD>|<PAR>|[<>=^~_]|[\\/]\d+)+\.|(?!(?:<MOD>|<PAR>|[<>=^~_]|[\\/]\d+)+\.))[^|]*)+\|/.source,"m"),inside:{modifier:{pattern:a(/(^|\|(?:\r?\n|\r)?)(?:<MOD>|<PAR>|[<>=^~_]|[\\/]\d+)+(?=\.)/.source),lookbehind:!0,inside:s},punctuation:/\||^\./}},inline:{pattern:a(/(^|[^a-zA-Z\d])(\*\*|__|\?\?|[*_%@+\-^~])<MOD>*.+?\2(?![a-zA-Z\d])/.source),lookbehind:!0,inside:{bold:{pattern:a(/(^(\*\*?)<MOD>*).+?(?=\2)/.source),lookbehind:!0},italic:{pattern:a(/(^(__?)<MOD>*).+?(?=\2)/.source),lookbehind:!0},cite:{pattern:a(/(^\?\?<MOD>*).+?(?=\?\?)/.source),lookbehind:!0,alias:"string"},code:{pattern:a(/(^@<MOD>*).+?(?=@)/.source),lookbehind:!0,alias:"keyword"},inserted:{pattern:a(/(^\+<MOD>*).+?(?=\+)/.source),lookbehind:!0},deleted:{pattern:a(/(^-<MOD>*).+?(?=-)/.source),lookbehind:!0},span:{pattern:a(/(^%<MOD>*).+?(?=%)/.source),lookbehind:!0},modifier:{pattern:a(/(^\*\*|__|\?\?|[*_%@+\-^~])<MOD>+/.source),lookbehind:!0,inside:s},punctuation:/[*_%?@+\-^~]+/}},"link-ref":{pattern:/^\[[^\]]+\]\S+$/m,inside:{string:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0},url:{pattern:/(^\])\S+$/,lookbehind:!0},punctuation:/[\[\]]/}},link:{pattern:a(/"<MOD>*[^"]+":.+?(?=[^\w/]?(?:\s|$))/.source),inside:{text:{pattern:a(/(^"<MOD>*)[^"]+(?=")/.source),lookbehind:!0},modifier:{pattern:a(/(^")<MOD>+/.source),lookbehind:!0,inside:s},url:{pattern:/(:).+/,lookbehind:!0},punctuation:/[":]/}},image:{pattern:a(/!(?:<MOD>|<PAR>|[<>=])*(?![<>=])[^!\s()]+(?:\([^)]+\))?!(?::.+?(?=[^\w/]?(?:\s|$)))?/.source),inside:{source:{pattern:a(/(^!(?:<MOD>|<PAR>|[<>=])*)(?![<>=])[^!\s()]+(?:\([^)]+\))?(?=!)/.source),lookbehind:!0,alias:"url"},modifier:{pattern:a(/(^!)(?:<MOD>|<PAR>|[<>=])+/.source),lookbehind:!0,inside:s},url:{pattern:/(:).+/,lookbehind:!0},punctuation:/[!:]/}},footnote:{pattern:/\b\[\d+\]/,alias:"comment",inside:{punctuation:/\[|\]/}},acronym:{pattern:/\b[A-Z\d]+\([^)]+\)/,inside:{comment:{pattern:/(\()[^()]+(?=\))/,lookbehind:!0},punctuation:/[()]/}},mark:{pattern:/\b\((?:C|R|TM)\)/,alias:"comment",inside:{punctuation:/[()]/}}}}}),l=o.phrase.inside,u={inline:l.inline,link:l.link,image:l.image,footnote:l.footnote,acronym:l.acronym,mark:l.mark};o.tag.pattern=/<\/?(?!\d)[a-z0-9]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/i;var d=l.inline.inside;d.bold.inside=u,d.italic.inside=u,d.inserted.inside=u,d.deleted.inside=u,d.span.inside=u;var h=l.table.inside;h.inline=u.inline,h.link=u.link,h.image=u.image,h.footnote=u.footnote,h.acronym=u.acronym,h.mark=u.mark})(e)}return RL}var IL,oee;function $Ue(){if(oee)return IL;oee=1,IL=t,t.displayName="toml",t.aliases=[];function t(e){(function(n){var r=/(?:[\w-]+|'[^'\n\r]*'|"(?:\\.|[^\\"\r\n])*")/.source;function i(a){return a.replace(/__/g,function(){return r})}n.languages.toml={comment:{pattern:/#.*/,greedy:!0},table:{pattern:RegExp(i(/(^[\t ]*\[\s*(?:\[\s*)?)__(?:\s*\.\s*__)*(?=\s*\])/.source),"m"),lookbehind:!0,greedy:!0,alias:"class-name"},key:{pattern:RegExp(i(/(^[\t ]*|[{,]\s*)__(?:\s*\.\s*__)*(?=\s*=)/.source),"m"),lookbehind:!0,greedy:!0,alias:"property"},string:{pattern:/"""(?:\\[\s\S]|[^\\])*?"""|'''[\s\S]*?'''|'[^'\n\r]*'|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},date:[{pattern:/\b\d{4}-\d{2}-\d{2}(?:[T\s]\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|[+-]\d{2}:\d{2})?)?\b/i,alias:"number"},{pattern:/\b\d{2}:\d{2}:\d{2}(?:\.\d+)?\b/,alias:"number"}],number:/(?:\b0(?:x[\da-zA-Z]+(?:_[\da-zA-Z]+)*|o[0-7]+(?:_[0-7]+)*|b[10]+(?:_[10]+)*))\b|[-+]?\b\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?\b|[-+]?\b(?:inf|nan)\b/,boolean:/\b(?:false|true)\b/,punctuation:/[.,=[\]{}]/}})(e)}return IL}var NL,lee;function qUe(){if(lee)return NL;lee=1,NL=t,t.displayName="tremor",t.aliases=[];function t(e){(function(n){n.languages.tremor={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},"interpolated-string":null,extractor:{pattern:/\b[a-z_]\w*\|(?:[^\r\n\\|]|\\(?:\r\n|[\s\S]))*\|/i,greedy:!0,inside:{regex:{pattern:/(^re)\|[\s\S]+/,lookbehind:!0},function:/^\w+/,value:/\|[\s\S]+/}},identifier:{pattern:/`[^`]*`/,greedy:!0},function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())\b/,keyword:/\b(?:args|as|by|case|config|connect|connector|const|copy|create|default|define|deploy|drop|each|emit|end|erase|event|flow|fn|for|from|group|having|insert|into|intrinsic|let|links|match|merge|mod|move|of|operator|patch|pipeline|recur|script|select|set|sliding|state|stream|to|tumbling|update|use|when|where|window|with)\b/,boolean:/\b(?:false|null|true)\b/i,number:/\b(?:0b[01_]*|0x[0-9a-fA-F_]*|\d[\d_]*(?:\.\d[\d_]*)?(?:[Ee][+-]?[\d_]+)?)\b/,"pattern-punctuation":{pattern:/%(?=[({[])/,alias:"punctuation"},operator:/[-+*\/%~!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?>?=?|(?:absent|and|not|or|present|xor)\b/,punctuation:/::|[;\[\]()\{\},.:]/};var r=/#\{(?:[^"{}]|\{[^{}]*\}|"(?:[^"\\\r\n]|\\(?:\r\n|[\s\S]))*")*\}/.source;n.languages.tremor["interpolated-string"]={pattern:RegExp(/(^|[^\\])/.source+'(?:"""(?:'+/[^"\\#]|\\[\s\S]|"(?!"")|#(?!\{)/.source+"|"+r+')*"""|"(?:'+/[^"\\\r\n#]|\\(?:\r\n|[\s\S])|#(?!\{)/.source+"|"+r+')*")'),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:RegExp(r),inside:{punctuation:/^#\{|\}$/,expression:{pattern:/[\s\S]+/,inside:n.languages.tremor}}},string:/[\s\S]+/}},n.languages.troy=n.languages.tremor,n.languages.trickle=n.languages.tremor})(e)}return NL}var OL,uee;function HUe(){if(uee)return OL;uee=1;var t=Rde(),e=BF();OL=n,n.displayName="tsx",n.aliases=[];function n(r){r.register(t),r.register(e),function(i){var a=i.util.clone(i.languages.typescript);i.languages.tsx=i.languages.extend("jsx",a),delete i.languages.tsx.parameter,delete i.languages.tsx["literal-property"];var s=i.languages.tsx.tag;s.pattern=RegExp(/(^|[^\w$]|(?=<\/))/.source+"(?:"+s.pattern.source+")",s.pattern.flags),s.lookbehind=!0}(r)}return OL}var ML,cee;function VUe(){if(cee)return ML;cee=1;var t=Sl();ML=e,e.displayName="tt2",e.aliases=[];function e(n){n.register(t),function(r){r.languages.tt2=r.languages.extend("clike",{comment:/#.*|\[%#[\s\S]*?%\]/,keyword:/\b(?:BLOCK|CALL|CASE|CATCH|CLEAR|DEBUG|DEFAULT|ELSE|ELSIF|END|FILTER|FINAL|FOREACH|GET|IF|IN|INCLUDE|INSERT|LAST|MACRO|META|NEXT|PERL|PROCESS|RAWPERL|RETURN|SET|STOP|SWITCH|TAGS|THROW|TRY|UNLESS|USE|WHILE|WRAPPER)\b/,punctuation:/[[\]{},()]/}),r.languages.insertBefore("tt2","number",{operator:/=[>=]?|!=?|<=?|>=?|&&|\|\|?|\b(?:and|not|or)\b/,variable:{pattern:/\b[a-z]\w*(?:\s*\.\s*(?:\d+|\$?[a-z]\w*))*\b/i}}),r.languages.insertBefore("tt2","keyword",{delimiter:{pattern:/^(?:\[%|%%)-?|-?%\]$/,alias:"punctuation"}}),r.languages.insertBefore("tt2","string",{"single-quoted-string":{pattern:/'[^\\']*(?:\\[\s\S][^\\']*)*'/,greedy:!0,alias:"string"},"double-quoted-string":{pattern:/"[^\\"]*(?:\\[\s\S][^\\"]*)*"/,greedy:!0,alias:"string",inside:{variable:{pattern:/\$(?:[a-z]\w*(?:\.(?:\d+|\$?[a-z]\w*))*)/i}}}}),delete r.languages.tt2.string,r.hooks.add("before-tokenize",function(i){var a=/\[%[\s\S]+?%\]/g;r.languages["markup-templating"].buildPlaceholders(i,"tt2",a)}),r.hooks.add("after-tokenize",function(i){r.languages["markup-templating"].tokenizePlaceholders(i,"tt2")})}(n)}return ML}var PL,dee;function GUe(){if(dee)return PL;dee=1;var t=Sl();PL=e,e.displayName="twig",e.aliases=[];function e(n){n.register(t),n.languages.twig={comment:/^\{#[\s\S]*?#\}$/,"tag-name":{pattern:/(^\{%-?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%]-?|-?[%}]\}$/,alias:"punctuation"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,inside:{punctuation:/^['"]|['"]$/}},keyword:/\b(?:even|if|odd)\b/,boolean:/\b(?:false|null|true)\b/,number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,operator:[{pattern:/(\s)(?:and|b-and|b-or|b-xor|ends with|in|is|matches|not|or|same as|starts with)(?=\s)/,lookbehind:!0},/[=<>]=?|!=|\*\*?|\/\/?|\?:?|[-+~%|]/],punctuation:/[()\[\]{}:.,]/},n.hooks.add("before-tokenize",function(r){if(r.language==="twig"){var i=/\{(?:#[\s\S]*?#|%[\s\S]*?%|\{[\s\S]*?\})\}/g;n.languages["markup-templating"].buildPlaceholders(r,"twig",i)}}),n.hooks.add("after-tokenize",function(r){n.languages["markup-templating"].tokenizePlaceholders(r,"twig")})}return PL}var LL,hee;function WUe(){if(hee)return LL;hee=1,LL=t,t.displayName="typoscript",t.aliases=["tsconfig"];function t(e){(function(n){var r=/\b(?:ACT|ACTIFSUB|CARRAY|CASE|CLEARGIF|COA|COA_INT|CONSTANTS|CONTENT|CUR|EDITPANEL|EFFECT|EXT|FILE|FLUIDTEMPLATE|FORM|FRAME|FRAMESET|GIFBUILDER|GMENU|GMENU_FOLDOUT|GMENU_LAYERS|GP|HMENU|HRULER|HTML|IENV|IFSUB|IMAGE|IMGMENU|IMGMENUITEM|IMGTEXT|IMG_RESOURCE|INCLUDE_TYPOSCRIPT|JSMENU|JSMENUITEM|LLL|LOAD_REGISTER|NO|PAGE|RECORDS|RESTORE_REGISTER|TEMPLATE|TEXT|TMENU|TMENUITEM|TMENU_LAYERS|USER|USER_INT|_GIFBUILDER|global|globalString|globalVar)\b/;n.languages.typoscript={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:= \t]|(?:^|[^= \t])[ \t]+)\/\/.*/,lookbehind:!0,greedy:!0},{pattern:/(^|[^"'])#.*/,lookbehind:!0,greedy:!0}],function:[{pattern:/<INCLUDE_TYPOSCRIPT:\s*source\s*=\s*(?:"[^"\r\n]*"|'[^'\r\n]*')\s*>/,inside:{string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,inside:{keyword:r}},keyword:{pattern:/INCLUDE_TYPOSCRIPT/}}},{pattern:/@import\s*(?:"[^"\r\n]*"|'[^'\r\n]*')/,inside:{string:/"[^"\r\n]*"|'[^'\r\n]*'/}}],string:{pattern:/^([^=]*=[< ]?)(?:(?!\]\n).)*/,lookbehind:!0,inside:{function:/\{\$.*\}/,keyword:r,number:/^\d+$/,punctuation:/[,|:]/}},keyword:r,number:{pattern:/\b\d+\s*[.{=]/,inside:{operator:/[.{=]/}},tag:{pattern:/\.?[-\w\\]+\.?/,inside:{punctuation:/\./}},punctuation:/[{}[\];(),.:|]/,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/},n.languages.tsconfig=n.languages.typoscript})(e)}return LL}var DL,fee;function KUe(){if(fee)return DL;fee=1,DL=t,t.displayName="unrealscript",t.aliases=["uc","uscript"];function t(e){e.languages.unrealscript={comment:/\/\/.*|\/\*[\s\S]*?\*\//,string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},category:{pattern:/(\b(?:(?:autoexpand|hide|show)categories|var)\s*\()[^()]+(?=\))/,lookbehind:!0,greedy:!0,alias:"property"},metadata:{pattern:/(\w\s*)<\s*\w+\s*=[^<>|=\r\n]+(?:\|\s*\w+\s*=[^<>|=\r\n]+)*>/,lookbehind:!0,greedy:!0,inside:{property:/\b\w+(?=\s*=)/,operator:/=/,punctuation:/[<>|]/}},macro:{pattern:/`\w+/,alias:"property"},"class-name":{pattern:/(\b(?:class|enum|extends|interface|state(?:\(\))?|struct|within)\s+)\w+/,lookbehind:!0},keyword:/\b(?:abstract|actor|array|auto|autoexpandcategories|bool|break|byte|case|class|classgroup|client|coerce|collapsecategories|config|const|continue|default|defaultproperties|delegate|dependson|deprecated|do|dontcollapsecategories|editconst|editinlinenew|else|enum|event|exec|export|extends|final|float|for|forcescriptorder|foreach|function|goto|guid|hidecategories|hidedropdown|if|ignores|implements|inherits|input|int|interface|iterator|latent|local|material|name|native|nativereplication|noexport|nontransient|noteditinlinenew|notplaceable|operator|optional|out|pawn|perobjectconfig|perobjectlocalized|placeable|postoperator|preoperator|private|protected|reliable|replication|return|server|showcategories|simulated|singular|state|static|string|struct|structdefault|structdefaultproperties|switch|texture|transient|travel|unreliable|until|var|vector|while|within)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,boolean:/\b(?:false|true)\b/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/>>|<<|--|\+\+|\*\*|[-+*/~!=<>$@]=?|&&?|\|\|?|\^\^?|[?:%]|\b(?:ClockwiseFrom|Cross|Dot)\b/,punctuation:/[()[\]{};,.]/},e.languages.uc=e.languages.uscript=e.languages.unrealscript}return DL}var FL,pee;function YUe(){if(pee)return FL;pee=1,FL=t,t.displayName="uorazor",t.aliases=[];function t(e){e.languages.uorazor={"comment-hash":{pattern:/#.*/,alias:"comment",greedy:!0},"comment-slash":{pattern:/\/\/.*/,alias:"comment",greedy:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,inside:{punctuation:/^['"]|['"]$/},greedy:!0},"source-layers":{pattern:/\b(?:arms|backpack|blue|bracelet|cancel|clear|cloak|criminal|earrings|enemy|facialhair|friend|friendly|gloves|gray|grey|ground|hair|head|innerlegs|innertorso|innocent|lefthand|middletorso|murderer|neck|nonfriendly|onehandedsecondary|outerlegs|outertorso|pants|red|righthand|ring|self|shirt|shoes|talisman|waist)\b/i,alias:"function"},"source-commands":{pattern:/\b(?:alliance|attack|cast|clearall|clearignore|clearjournal|clearlist|clearsysmsg|createlist|createtimer|dclick|dclicktype|dclickvar|dress|dressconfig|drop|droprelloc|emote|getlabel|guild|gumpclose|gumpresponse|hotkey|ignore|lasttarget|lift|lifttype|menu|menuresponse|msg|org|organize|organizer|overhead|pause|poplist|potion|promptresponse|pushlist|removelist|removetimer|rename|restock|say|scav|scavenger|script|setability|setlasttarget|setskill|settimer|setvar|sysmsg|target|targetloc|targetrelloc|targettype|undress|unignore|unsetvar|useobject|useonce|useskill|usetype|virtue|wait|waitforgump|waitformenu|waitforprompt|waitforstat|waitforsysmsg|waitfortarget|walk|wfsysmsg|wft|whisper|yell)\b/,alias:"function"},"tag-name":{pattern:/(^\{%-?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%]-?|-?[%}]\}$/,alias:"punctuation"},function:/\b(?:atlist|close|closest|count|counter|counttype|dead|dex|diffhits|diffmana|diffstam|diffweight|find|findbuff|finddebuff|findlayer|findtype|findtypelist|followers|gumpexists|hidden|hits|hp|hue|human|humanoid|ingump|inlist|insysmessage|insysmsg|int|invul|lhandempty|list|listexists|mana|maxhits|maxhp|maxmana|maxstam|maxweight|monster|mounted|name|next|noto|paralyzed|poisoned|position|prev|previous|queued|rand|random|rhandempty|skill|stam|str|targetexists|timer|timerexists|varexist|warmode|weight)\b/,keyword:/\b(?:and|as|break|continue|else|elseif|endfor|endif|endwhile|for|if|loop|not|or|replay|stop|while)\b/,boolean:/\b(?:false|null|true)\b/,number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,operator:[{pattern:/(\s)(?:and|b-and|b-or|b-xor|ends with|in|is|matches|not|or|same as|starts with)(?=\s)/,lookbehind:!0},/[=<>]=?|!=|\*\*?|\/\/?|\?:?|[-+~%|]/],punctuation:/[()\[\]{}:.,]/}}return FL}var BL,mee;function XUe(){if(mee)return BL;mee=1,BL=t,t.displayName="uri",t.aliases=["url"];function t(e){e.languages.uri={scheme:{pattern:/^[a-z][a-z0-9+.-]*:/im,greedy:!0,inside:{"scheme-delimiter":/:$/}},fragment:{pattern:/#[\w\-.~!$&'()*+,;=%:@/?]*/,inside:{"fragment-delimiter":/^#/}},query:{pattern:/\?[\w\-.~!$&'()*+,;=%:@/?]*/,inside:{"query-delimiter":{pattern:/^\?/,greedy:!0},"pair-delimiter":/[&;]/,pair:{pattern:/^[^=][\s\S]*/,inside:{key:/^[^=]+/,value:{pattern:/(^=)[\s\S]+/,lookbehind:!0}}}}},authority:{pattern:RegExp(/^\/\//.source+/(?:[\w\-.~!$&'()*+,;=%:]*@)?/.source+("(?:"+/\[(?:[0-9a-fA-F:.]{2,48}|v[0-9a-fA-F]+\.[\w\-.~!$&'()*+,;=]+)\]/.source+"|"+/[\w\-.~!$&'()*+,;=%]*/.source+")")+/(?::\d*)?/.source,"m"),inside:{"authority-delimiter":/^\/\//,"user-info-segment":{pattern:/^[\w\-.~!$&'()*+,;=%:]*@/,inside:{"user-info-delimiter":/@$/,"user-info":/^[\w\-.~!$&'()*+,;=%:]+/}},"port-segment":{pattern:/:\d*$/,inside:{"port-delimiter":/^:/,port:/^\d+/}},host:{pattern:/[\s\S]+/,inside:{"ip-literal":{pattern:/^\[[\s\S]+\]$/,inside:{"ip-literal-delimiter":/^\[|\]$/,"ipv-future":/^v[\s\S]+/,"ipv6-address":/^[\s\S]+/}},"ipv4-address":/^(?:(?:[03-9]\d?|[12]\d{0,2})\.){3}(?:[03-9]\d?|[12]\d{0,2})$/}}}},path:{pattern:/^[\w\-.~!$&'()*+,;=%:@/]+/m,inside:{"path-separator":/\//}}},e.languages.url=e.languages.uri}return BL}var UL,gee;function ZUe(){if(gee)return UL;gee=1,UL=t,t.displayName="v",t.aliases=[];function t(e){(function(n){var r={pattern:/[\s\S]+/,inside:null};n.languages.v=n.languages.extend("clike",{string:{pattern:/r?(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,alias:"quoted-string",greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\{[^{}]*\}|\w+(?:\.\w+(?:\([^\(\)]*\))?|\[[^\[\]]+\])*)/,lookbehind:!0,inside:{"interpolation-variable":{pattern:/^\$\w[\s\S]*$/,alias:"variable"},"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},"interpolation-expression":r}}}},"class-name":{pattern:/(\b(?:enum|interface|struct|type)\s+)(?:C\.)?\w+/,lookbehind:!0},keyword:/(?:\b(?:__global|as|asm|assert|atomic|break|chan|const|continue|defer|else|embed|enum|fn|for|go(?:to)?|if|import|in|interface|is|lock|match|module|mut|none|or|pub|return|rlock|select|shared|sizeof|static|struct|type(?:of)?|union|unsafe)|\$(?:else|for|if)|#(?:flag|include))\b/,number:/\b(?:0x[a-f\d]+(?:_[a-f\d]+)*|0b[01]+(?:_[01]+)*|0o[0-7]+(?:_[0-7]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?)\b/i,operator:/~|\?|[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\.?/,builtin:/\b(?:any(?:_float|_int)?|bool|byte(?:ptr)?|charptr|f(?:32|64)|i(?:8|16|64|128|nt)|rune|size_t|string|u(?:16|32|64|128)|voidptr)\b/}),r.inside=n.languages.v,n.languages.insertBefore("v","string",{char:{pattern:/`(?:\\`|\\?[^`]{1,2})`/,alias:"rune"}}),n.languages.insertBefore("v","operator",{attribute:{pattern:/(^[\t ]*)\[(?:deprecated|direct_array_access|flag|inline|live|ref_only|typedef|unsafe_fn|windows_stdcall)\]/m,lookbehind:!0,alias:"annotation",inside:{punctuation:/[\[\]]/,keyword:/\w+/}},generic:{pattern:/<\w+>(?=\s*[\)\{])/,inside:{punctuation:/[<>]/,"class-name":/\w+/}}}),n.languages.insertBefore("v","function",{"generic-function":{pattern:/\b\w+\s*<\w+>(?=\()/,inside:{function:/^\w+/,generic:{pattern:/<\w+>/,inside:n.languages.v.generic.inside}}}})})(e)}return UL}var jL,yee;function QUe(){if(yee)return jL;yee=1,jL=t,t.displayName="vala",t.aliases=[];function t(e){e.languages.vala=e.languages.extend("clike",{"class-name":[{pattern:/\b[A-Z]\w*(?:\.\w+)*\b(?=(?:\?\s+|\*?\s+\*?)\w)/,inside:{punctuation:/\./}},{pattern:/(\[)[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/(\b(?:class|interface)\s+[A-Z]\w*(?:\.\w+)*\s*:\s*)[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/((?:\b(?:class|enum|interface|new|struct)\s+)|(?:catch\s+\())[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}}],keyword:/\b(?:abstract|as|assert|async|base|bool|break|case|catch|char|class|const|construct|continue|default|delegate|delete|do|double|dynamic|else|ensures|enum|errordomain|extern|finally|float|for|foreach|get|if|in|inline|int|int16|int32|int64|int8|interface|internal|is|lock|long|namespace|new|null|out|override|owned|params|private|protected|public|ref|requires|return|set|short|signal|sizeof|size_t|ssize_t|static|string|struct|switch|this|throw|throws|try|typeof|uchar|uint|uint16|uint32|uint64|uint8|ulong|unichar|unowned|ushort|using|value|var|virtual|void|volatile|weak|while|yield)\b/i,function:/\b\w+(?=\s*\()/,number:/(?:\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)(?:f|u?l?)?/i,operator:/\+\+|--|&&|\|\||<<=?|>>=?|=>|->|~|[+\-*\/%&^|=!<>]=?|\?\??|\.\.\./,punctuation:/[{}[\];(),.:]/,constant:/\b[A-Z0-9_]+\b/}),e.languages.insertBefore("vala","string",{"raw-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},"template-string":{pattern:/@"[\s\S]*?"/,greedy:!0,inside:{interpolation:{pattern:/\$(?:\([^)]*\)|[a-zA-Z]\w*)/,inside:{delimiter:{pattern:/^\$\(?|\)$/,alias:"punctuation"},rest:e.languages.vala}},string:/[\s\S]+/}}}),e.languages.insertBefore("vala","keyword",{regex:{pattern:/\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[imsx]{0,4}(?=\s*(?:$|[\r\n,.;})\]]))/,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\//,"regex-flags":/^[a-z]+$/}}})}return jL}var zL,bee;function JUe(){if(bee)return zL;bee=1,zL=t,t.displayName="velocity",t.aliases=[];function t(e){(function(n){n.languages.velocity=n.languages.extend("markup",{});var r={variable:{pattern:/(^|[^\\](?:\\\\)*)\$!?(?:[a-z][\w-]*(?:\([^)]*\))?(?:\.[a-z][\w-]*(?:\([^)]*\))?|\[[^\]]+\])*|\{[^}]+\})/i,lookbehind:!0,inside:{}},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},number:/\b\d+\b/,boolean:/\b(?:false|true)\b/,operator:/[=!<>]=?|[+*/%-]|&&|\|\||\.\.|\b(?:eq|g[et]|l[et]|n(?:e|ot))\b/,punctuation:/[(){}[\]:,.]/};r.variable.inside={string:r.string,function:{pattern:/([^\w-])[a-z][\w-]*(?=\()/,lookbehind:!0},number:r.number,boolean:r.boolean,punctuation:r.punctuation},n.languages.insertBefore("velocity","comment",{unparsed:{pattern:/(^|[^\\])#\[\[[\s\S]*?\]\]#/,lookbehind:!0,greedy:!0,inside:{punctuation:/^#\[\[|\]\]#$/}},"velocity-comment":[{pattern:/(^|[^\\])#\*[\s\S]*?\*#/,lookbehind:!0,greedy:!0,alias:"comment"},{pattern:/(^|[^\\])##.*/,lookbehind:!0,greedy:!0,alias:"comment"}],directive:{pattern:/(^|[^\\](?:\\\\)*)#@?(?:[a-z][\w-]*|\{[a-z][\w-]*\})(?:\s*\((?:[^()]|\([^()]*\))*\))?/i,lookbehind:!0,inside:{keyword:{pattern:/^#@?(?:[a-z][\w-]*|\{[a-z][\w-]*\})|\bin\b/,inside:{punctuation:/[{}]/}},rest:r}},variable:r.variable}),n.languages.velocity.tag.inside["attr-value"].inside.rest=n.languages.velocity})(e)}return zL}var $L,vee;function eje(){if(vee)return $L;vee=1,$L=t,t.displayName="verilog",t.aliases=[];function t(e){e.languages.verilog={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"kernel-function":{pattern:/\B\$\w+\b/,alias:"property"},constant:/\B`\w+\b/,function:/\b\w+(?=\()/,keyword:/\b(?:alias|and|assert|assign|assume|automatic|before|begin|bind|bins|binsof|bit|break|buf|bufif0|bufif1|byte|case|casex|casez|cell|chandle|class|clocking|cmos|config|const|constraint|context|continue|cover|covergroup|coverpoint|cross|deassign|default|defparam|design|disable|dist|do|edge|else|end|endcase|endclass|endclocking|endconfig|endfunction|endgenerate|endgroup|endinterface|endmodule|endpackage|endprimitive|endprogram|endproperty|endsequence|endspecify|endtable|endtask|enum|event|expect|export|extends|extern|final|first_match|for|force|foreach|forever|fork|forkjoin|function|generate|genvar|highz0|highz1|if|iff|ifnone|ignore_bins|illegal_bins|import|incdir|include|initial|inout|input|inside|instance|int|integer|interface|intersect|join|join_any|join_none|large|liblist|library|local|localparam|logic|longint|macromodule|matches|medium|modport|module|nand|negedge|new|nmos|nor|noshowcancelled|not|notif0|notif1|null|or|output|package|packed|parameter|pmos|posedge|primitive|priority|program|property|protected|pull0|pull1|pulldown|pullup|pulsestyle_ondetect|pulsestyle_onevent|pure|rand|randc|randcase|randsequence|rcmos|real|realtime|ref|reg|release|repeat|return|rnmos|rpmos|rtran|rtranif0|rtranif1|scalared|sequence|shortint|shortreal|showcancelled|signed|small|solve|specify|specparam|static|string|strong0|strong1|struct|super|supply0|supply1|table|tagged|task|this|throughout|time|timeprecision|timeunit|tran|tranif0|tranif1|tri|tri0|tri1|triand|trior|trireg|type|typedef|union|unique|unsigned|use|uwire|var|vectored|virtual|void|wait|wait_order|wand|weak0|weak1|while|wildcard|wire|with|within|wor|xnor|xor)\b/,important:/\b(?:always|always_comb|always_ff|always_latch)\b(?: *@)?/,number:/\B##?\d+|(?:\b\d+)?'[odbh] ?[\da-fzx_?]+|\b(?:\d*[._])?\d+(?:e[-+]?\d+)?/i,operator:/[-+{}^~%*\/?=!<>&|]+/,punctuation:/[[\];(),.:]/}}return $L}var qL,wee;function tje(){if(wee)return qL;wee=1,qL=t,t.displayName="vhdl",t.aliases=[];function t(e){e.languages.vhdl={comment:/--.+/,"vhdl-vectors":{pattern:/\b[oxb]"[\da-f_]+"|"[01uxzwlh-]+"/i,alias:"number"},"quoted-function":{pattern:/"\S+?"(?=\()/,alias:"function"},string:/"(?:[^\\"\r\n]|\\(?:\r\n|[\s\S]))*"/,constant:/\b(?:library|use)\b/i,keyword:/\b(?:'active|'ascending|'base|'delayed|'driving|'driving_value|'event|'high|'image|'instance_name|'last_active|'last_event|'last_value|'left|'leftof|'length|'low|'path_name|'pos|'pred|'quiet|'range|'reverse_range|'right|'rightof|'simple_name|'stable|'succ|'transaction|'val|'value|access|after|alias|all|architecture|array|assert|attribute|begin|block|body|buffer|bus|case|component|configuration|constant|disconnect|downto|else|elsif|end|entity|exit|file|for|function|generate|generic|group|guarded|if|impure|in|inertial|inout|is|label|library|linkage|literal|loop|map|new|next|null|of|on|open|others|out|package|port|postponed|procedure|process|pure|range|record|register|reject|report|return|select|severity|shared|signal|subtype|then|to|transport|type|unaffected|units|until|use|variable|wait|when|while|with)\b/i,boolean:/\b(?:false|true)\b/i,function:/\w+(?=\()/,number:/'[01uxzwlh-]'|\b(?:\d+#[\da-f_.]+#|\d[\d_.]*)(?:e[-+]?\d+)?/i,operator:/[<>]=?|:=|[-+*/&=]|\b(?:abs|and|mod|nand|nor|not|or|rem|rol|ror|sla|sll|sra|srl|xnor|xor)\b/i,punctuation:/[{}[\];(),.:]/}}return qL}var HL,_ee;function nje(){if(_ee)return HL;_ee=1,HL=t,t.displayName="vim",t.aliases=[];function t(e){e.languages.vim={string:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\r\n]|'')*'/,comment:/".*/,function:/\b\w+(?=\()/,keyword:/\b(?:N|Next|P|Print|X|XMLent|XMLns|ab|abbreviate|abc|abclear|abo|aboveleft|al|all|ar|arga|argadd|argd|argdelete|argdo|arge|argedit|argg|argglobal|argl|arglocal|args|argu|argument|as|ascii|b|bN|bNext|ba|bad|badd|ball|bd|bdelete|be|bel|belowright|bf|bfirst|bl|blast|bm|bmodified|bn|bnext|bo|botright|bp|bprevious|br|brea|break|breaka|breakadd|breakd|breakdel|breakl|breaklist|brewind|bro|browse|bufdo|buffer|buffers|bun|bunload|bw|bwipeout|c|cN|cNext|cNfcNfile|ca|cabbrev|cabc|cabclear|cad|caddb|caddbuffer|caddexpr|caddf|caddfile|cal|call|cat|catch|cb|cbuffer|cc|ccl|cclose|cd|ce|center|cex|cexpr|cf|cfile|cfir|cfirst|cg|cgetb|cgetbuffer|cgete|cgetexpr|cgetfile|change|changes|chd|chdir|che|checkpath|checkt|checktime|cl|cla|clast|clist|clo|close|cmapc|cmapclear|cn|cnew|cnewer|cnext|cnf|cnfile|cnorea|cnoreabbrev|co|col|colder|colo|colorscheme|comc|comclear|comp|compiler|con|conf|confirm|continue|cope|copen|copy|cp|cpf|cpfile|cprevious|cq|cquit|cr|crewind|cu|cuna|cunabbrev|cunmap|cw|cwindow|d|debugg|debuggreedy|delc|delcommand|delete|delf|delfunction|delm|delmarks|di|diffg|diffget|diffoff|diffpatch|diffpu|diffput|diffsplit|diffthis|diffu|diffupdate|dig|digraphs|display|dj|djump|dl|dlist|dr|drop|ds|dsearch|dsp|dsplit|e|earlier|echoe|echoerr|echom|echomsg|echon|edit|el|else|elsei|elseif|em|emenu|en|endf|endfo|endfor|endfun|endfunction|endif|endt|endtry|endw|endwhile|ene|enew|ex|exi|exit|exu|exusage|f|file|files|filetype|fin|fina|finally|find|fini|finish|fir|first|fix|fixdel|fo|fold|foldc|foldclose|foldd|folddoc|folddoclosed|folddoopen|foldo|foldopen|for|fu|fun|function|go|goto|gr|grep|grepa|grepadd|h|ha|hardcopy|help|helpf|helpfind|helpg|helpgrep|helpt|helptags|hid|hide|his|history|ia|iabbrev|iabc|iabclear|if|ij|ijump|il|ilist|imapc|imapclear|in|inorea|inoreabbrev|isearch|isp|isplit|iu|iuna|iunabbrev|iunmap|j|join|ju|jumps|k|kee|keepalt|keepj|keepjumps|keepmarks|l|lN|lNext|lNf|lNfile|la|lad|laddb|laddbuffer|laddexpr|laddf|laddfile|lan|language|last|later|lb|lbuffer|lc|lcd|lch|lchdir|lcl|lclose|left|lefta|leftabove|let|lex|lexpr|lf|lfile|lfir|lfirst|lg|lgetb|lgetbuffer|lgete|lgetexpr|lgetfile|lgr|lgrep|lgrepa|lgrepadd|lh|lhelpgrep|list|ll|lla|llast|lli|llist|lm|lmak|lmake|lmap|lmapc|lmapclear|ln|lne|lnew|lnewer|lnext|lnf|lnfile|lnoremap|lo|loadview|loc|lockmarks|lockv|lockvar|lol|lolder|lop|lopen|lp|lpf|lpfile|lprevious|lr|lrewind|ls|lt|ltag|lu|lunmap|lv|lvimgrep|lvimgrepa|lvimgrepadd|lw|lwindow|m|ma|mak|make|mark|marks|mat|match|menut|menutranslate|mk|mkexrc|mks|mksession|mksp|mkspell|mkv|mkvie|mkview|mkvimrc|mod|mode|move|mz|mzf|mzfile|mzscheme|n|nbkey|new|next|nmapc|nmapclear|noh|nohlsearch|norea|noreabbrev|nu|number|nun|nunmap|o|omapc|omapclear|on|only|open|opt|options|ou|ounmap|p|pc|pclose|pe|ped|pedit|perl|perld|perldo|po|pop|popu|popup|pp|ppop|pre|preserve|prev|previous|print|prof|profd|profdel|profile|promptf|promptfind|promptr|promptrepl|ps|psearch|ptN|ptNext|pta|ptag|ptf|ptfirst|ptj|ptjump|ptl|ptlast|ptn|ptnext|ptp|ptprevious|ptr|ptrewind|pts|ptselect|pu|put|pw|pwd|py|pyf|pyfile|python|q|qa|qall|quit|quita|quitall|r|read|rec|recover|red|redi|redir|redo|redr|redraw|redraws|redrawstatus|reg|registers|res|resize|ret|retab|retu|return|rew|rewind|ri|right|rightb|rightbelow|ru|rub|ruby|rubyd|rubydo|rubyf|rubyfile|runtime|rv|rviminfo|sN|sNext|sa|sal|sall|san|sandbox|sargument|sav|saveas|sb|sbN|sbNext|sba|sball|sbf|sbfirst|sbl|sblast|sbm|sbmodified|sbn|sbnext|sbp|sbprevious|sbr|sbrewind|sbuffer|scrip|scripte|scriptencoding|scriptnames|se|set|setf|setfiletype|setg|setglobal|setl|setlocal|sf|sfind|sfir|sfirst|sh|shell|sign|sil|silent|sim|simalt|sl|sla|slast|sleep|sm|smagic|smap|smapc|smapclear|sme|smenu|sn|snext|sni|sniff|sno|snomagic|snor|snoremap|snoreme|snoremenu|so|sor|sort|source|sp|spe|spelld|spelldump|spellgood|spelli|spellinfo|spellr|spellrepall|spellu|spellundo|spellw|spellwrong|split|spr|sprevious|sre|srewind|st|sta|stag|star|startg|startgreplace|startinsert|startr|startreplace|stj|stjump|stop|stopi|stopinsert|sts|stselect|sun|sunhide|sunm|sunmap|sus|suspend|sv|sview|syncbind|t|tN|tNext|ta|tab|tabN|tabNext|tabc|tabclose|tabd|tabdo|tabe|tabedit|tabf|tabfind|tabfir|tabfirst|tabl|tablast|tabm|tabmove|tabn|tabnew|tabnext|tabo|tabonly|tabp|tabprevious|tabr|tabrewind|tabs|tag|tags|tc|tcl|tcld|tcldo|tclf|tclfile|te|tearoff|tf|tfirst|th|throw|tj|tjump|tl|tlast|tm|tmenu|tn|tnext|to|topleft|tp|tprevious|tr|trewind|try|ts|tselect|tu|tunmenu|u|una|unabbreviate|undo|undoj|undojoin|undol|undolist|unh|unhide|unlet|unlo|unlockvar|unm|unmap|up|update|ve|verb|verbose|version|vert|vertical|vi|vie|view|vim|vimgrep|vimgrepa|vimgrepadd|visual|viu|viusage|vmapc|vmapclear|vne|vnew|vs|vsplit|vu|vunmap|w|wN|wNext|wa|wall|wh|while|win|winc|wincmd|windo|winp|winpos|winsize|wn|wnext|wp|wprevious|wq|wqa|wqall|write|ws|wsverb|wv|wviminfo|x|xa|xall|xit|xm|xmap|xmapc|xmapclear|xme|xmenu|xn|xnoremap|xnoreme|xnoremenu|xu|xunmap|y|yank)\b/,builtin:/\b(?:acd|ai|akm|aleph|allowrevins|altkeymap|ambiwidth|ambw|anti|antialias|arab|arabic|arabicshape|ari|arshape|autochdir|autocmd|autoindent|autoread|autowrite|autowriteall|aw|awa|background|backspace|backup|backupcopy|backupdir|backupext|backupskip|balloondelay|ballooneval|balloonexpr|bdir|bdlay|beval|bex|bexpr|bg|bh|bin|binary|biosk|bioskey|bk|bkc|bomb|breakat|brk|browsedir|bs|bsdir|bsk|bt|bufhidden|buflisted|buftype|casemap|ccv|cdpath|cedit|cfu|ch|charconvert|ci|cin|cindent|cink|cinkeys|cino|cinoptions|cinw|cinwords|clipboard|cmdheight|cmdwinheight|cmp|cms|columns|com|comments|commentstring|compatible|complete|completefunc|completeopt|consk|conskey|copyindent|cot|cpo|cpoptions|cpt|cscopepathcomp|cscopeprg|cscopequickfix|cscopetag|cscopetagorder|cscopeverbose|cspc|csprg|csqf|cst|csto|csverb|cuc|cul|cursorcolumn|cursorline|cwh|debug|deco|def|define|delcombine|dex|dg|dict|dictionary|diff|diffexpr|diffopt|digraph|dip|dir|directory|dy|ea|ead|eadirection|eb|ed|edcompatible|ef|efm|ei|ek|enc|encoding|endofline|eol|ep|equalalways|equalprg|errorbells|errorfile|errorformat|esckeys|et|eventignore|expandtab|exrc|fcl|fcs|fdc|fde|fdi|fdl|fdls|fdm|fdn|fdo|fdt|fen|fenc|fencs|fex|ff|ffs|fileencoding|fileencodings|fileformat|fileformats|fillchars|fk|fkmap|flp|fml|fmr|foldcolumn|foldenable|foldexpr|foldignore|foldlevel|foldlevelstart|foldmarker|foldmethod|foldminlines|foldnestmax|foldtext|formatexpr|formatlistpat|formatoptions|formatprg|fp|fs|fsync|ft|gcr|gd|gdefault|gfm|gfn|gfs|gfw|ghr|gp|grepformat|grepprg|gtl|gtt|guicursor|guifont|guifontset|guifontwide|guiheadroom|guioptions|guipty|guitablabel|guitabtooltip|helpfile|helpheight|helplang|hf|hh|hi|hidden|highlight|hk|hkmap|hkmapp|hkp|hl|hlg|hls|hlsearch|ic|icon|iconstring|ignorecase|im|imactivatekey|imak|imc|imcmdline|imd|imdisable|imi|iminsert|ims|imsearch|inc|include|includeexpr|incsearch|inde|indentexpr|indentkeys|indk|inex|inf|infercase|insertmode|invacd|invai|invakm|invallowrevins|invaltkeymap|invanti|invantialias|invar|invarab|invarabic|invarabicshape|invari|invarshape|invautochdir|invautoindent|invautoread|invautowrite|invautowriteall|invaw|invawa|invbackup|invballooneval|invbeval|invbin|invbinary|invbiosk|invbioskey|invbk|invbl|invbomb|invbuflisted|invcf|invci|invcin|invcindent|invcompatible|invconfirm|invconsk|invconskey|invcopyindent|invcp|invcscopetag|invcscopeverbose|invcst|invcsverb|invcuc|invcul|invcursorcolumn|invcursorline|invdeco|invdelcombine|invdg|invdiff|invdigraph|invdisable|invea|inveb|inved|invedcompatible|invek|invendofline|inveol|invequalalways|inverrorbells|invesckeys|invet|invex|invexpandtab|invexrc|invfen|invfk|invfkmap|invfoldenable|invgd|invgdefault|invguipty|invhid|invhidden|invhk|invhkmap|invhkmapp|invhkp|invhls|invhlsearch|invic|invicon|invignorecase|invim|invimc|invimcmdline|invimd|invincsearch|invinf|invinfercase|invinsertmode|invis|invjoinspaces|invjs|invlazyredraw|invlbr|invlinebreak|invlisp|invlist|invloadplugins|invlpl|invlz|invma|invmacatsui|invmagic|invmh|invml|invmod|invmodeline|invmodifiable|invmodified|invmore|invmousef|invmousefocus|invmousehide|invnu|invnumber|invodev|invopendevice|invpaste|invpi|invpreserveindent|invpreviewwindow|invprompt|invpvw|invreadonly|invremap|invrestorescreen|invrevins|invri|invrightleft|invrightleftcmd|invrl|invrlc|invro|invrs|invru|invruler|invsb|invsc|invscb|invscrollbind|invscs|invsecure|invsft|invshellslash|invshelltemp|invshiftround|invshortname|invshowcmd|invshowfulltag|invshowmatch|invshowmode|invsi|invsm|invsmartcase|invsmartindent|invsmarttab|invsmd|invsn|invsol|invspell|invsplitbelow|invsplitright|invspr|invsr|invssl|invsta|invstartofline|invstmp|invswapfile|invswf|invta|invtagbsearch|invtagrelative|invtagstack|invtbi|invtbidi|invtbs|invtermbidi|invterse|invtextauto|invtextmode|invtf|invtgst|invtildeop|invtimeout|invtitle|invto|invtop|invtr|invttimeout|invttybuiltin|invttyfast|invtx|invvb|invvisualbell|invwa|invwarn|invwb|invweirdinvert|invwfh|invwfw|invwildmenu|invwinfixheight|invwinfixwidth|invwiv|invwmnu|invwrap|invwrapscan|invwrite|invwriteany|invwritebackup|invws|isf|isfname|isi|isident|isk|iskeyword|isprint|joinspaces|js|key|keymap|keymodel|keywordprg|km|kmp|kp|langmap|langmenu|laststatus|lazyredraw|lbr|lcs|linebreak|lines|linespace|lisp|lispwords|listchars|loadplugins|lpl|lsp|lz|macatsui|magic|makeef|makeprg|matchpairs|matchtime|maxcombine|maxfuncdepth|maxmapdepth|maxmem|maxmempattern|maxmemtot|mco|mef|menuitems|mfd|mh|mis|mkspellmem|ml|mls|mm|mmd|mmp|mmt|modeline|modelines|modifiable|modified|more|mouse|mousef|mousefocus|mousehide|mousem|mousemodel|mouses|mouseshape|mouset|mousetime|mp|mps|msm|mzq|mzquantum|nf|noacd|noai|noakm|noallowrevins|noaltkeymap|noanti|noantialias|noar|noarab|noarabic|noarabicshape|noari|noarshape|noautochdir|noautoindent|noautoread|noautowrite|noautowriteall|noaw|noawa|nobackup|noballooneval|nobeval|nobin|nobinary|nobiosk|nobioskey|nobk|nobl|nobomb|nobuflisted|nocf|noci|nocin|nocindent|nocompatible|noconfirm|noconsk|noconskey|nocopyindent|nocp|nocscopetag|nocscopeverbose|nocst|nocsverb|nocuc|nocul|nocursorcolumn|nocursorline|nodeco|nodelcombine|nodg|nodiff|nodigraph|nodisable|noea|noeb|noed|noedcompatible|noek|noendofline|noeol|noequalalways|noerrorbells|noesckeys|noet|noex|noexpandtab|noexrc|nofen|nofk|nofkmap|nofoldenable|nogd|nogdefault|noguipty|nohid|nohidden|nohk|nohkmap|nohkmapp|nohkp|nohls|noic|noicon|noignorecase|noim|noimc|noimcmdline|noimd|noincsearch|noinf|noinfercase|noinsertmode|nois|nojoinspaces|nojs|nolazyredraw|nolbr|nolinebreak|nolisp|nolist|noloadplugins|nolpl|nolz|noma|nomacatsui|nomagic|nomh|noml|nomod|nomodeline|nomodifiable|nomodified|nomore|nomousef|nomousefocus|nomousehide|nonu|nonumber|noodev|noopendevice|nopaste|nopi|nopreserveindent|nopreviewwindow|noprompt|nopvw|noreadonly|noremap|norestorescreen|norevins|nori|norightleft|norightleftcmd|norl|norlc|noro|nors|noru|noruler|nosb|nosc|noscb|noscrollbind|noscs|nosecure|nosft|noshellslash|noshelltemp|noshiftround|noshortname|noshowcmd|noshowfulltag|noshowmatch|noshowmode|nosi|nosm|nosmartcase|nosmartindent|nosmarttab|nosmd|nosn|nosol|nospell|nosplitbelow|nosplitright|nospr|nosr|nossl|nosta|nostartofline|nostmp|noswapfile|noswf|nota|notagbsearch|notagrelative|notagstack|notbi|notbidi|notbs|notermbidi|noterse|notextauto|notextmode|notf|notgst|notildeop|notimeout|notitle|noto|notop|notr|nottimeout|nottybuiltin|nottyfast|notx|novb|novisualbell|nowa|nowarn|nowb|noweirdinvert|nowfh|nowfw|nowildmenu|nowinfixheight|nowinfixwidth|nowiv|nowmnu|nowrap|nowrapscan|nowrite|nowriteany|nowritebackup|nows|nrformats|numberwidth|nuw|odev|oft|ofu|omnifunc|opendevice|operatorfunc|opfunc|osfiletype|pa|para|paragraphs|paste|pastetoggle|patchexpr|patchmode|path|pdev|penc|pex|pexpr|pfn|ph|pheader|pi|pm|pmbcs|pmbfn|popt|preserveindent|previewheight|previewwindow|printdevice|printencoding|printexpr|printfont|printheader|printmbcharset|printmbfont|printoptions|prompt|pt|pumheight|pvh|pvw|qe|quoteescape|readonly|remap|report|restorescreen|revins|rightleft|rightleftcmd|rl|rlc|ro|rs|rtp|ruf|ruler|rulerformat|runtimepath|sbo|sc|scb|scr|scroll|scrollbind|scrolljump|scrolloff|scrollopt|scs|sect|sections|secure|sel|selection|selectmode|sessionoptions|sft|shcf|shellcmdflag|shellpipe|shellquote|shellredir|shellslash|shelltemp|shelltype|shellxquote|shiftround|shiftwidth|shm|shortmess|shortname|showbreak|showcmd|showfulltag|showmatch|showmode|showtabline|shq|si|sidescroll|sidescrolloff|siso|sj|slm|smartcase|smartindent|smarttab|smc|smd|softtabstop|sol|spc|spell|spellcapcheck|spellfile|spelllang|spellsuggest|spf|spl|splitbelow|splitright|sps|sr|srr|ss|ssl|ssop|stal|startofline|statusline|stl|stmp|su|sua|suffixes|suffixesadd|sw|swapfile|swapsync|swb|swf|switchbuf|sws|sxq|syn|synmaxcol|syntax|t_AB|t_AF|t_AL|t_CS|t_CV|t_Ce|t_Co|t_Cs|t_DL|t_EI|t_F1|t_F2|t_F3|t_F4|t_F5|t_F6|t_F7|t_F8|t_F9|t_IE|t_IS|t_K1|t_K3|t_K4|t_K5|t_K6|t_K7|t_K8|t_K9|t_KA|t_KB|t_KC|t_KD|t_KE|t_KF|t_KG|t_KH|t_KI|t_KJ|t_KK|t_KL|t_RI|t_RV|t_SI|t_Sb|t_Sf|t_WP|t_WS|t_ZH|t_ZR|t_al|t_bc|t_cd|t_ce|t_cl|t_cm|t_cs|t_da|t_db|t_dl|t_fs|t_k1|t_k2|t_k3|t_k4|t_k5|t_k6|t_k7|t_k8|t_k9|t_kB|t_kD|t_kI|t_kN|t_kP|t_kb|t_kd|t_ke|t_kh|t_kl|t_kr|t_ks|t_ku|t_le|t_mb|t_md|t_me|t_mr|t_ms|t_nd|t_op|t_se|t_so|t_sr|t_te|t_ti|t_ts|t_ue|t_us|t_ut|t_vb|t_ve|t_vi|t_vs|t_xs|tabline|tabpagemax|tabstop|tagbsearch|taglength|tagrelative|tagstack|tal|tb|tbi|tbidi|tbis|tbs|tenc|term|termbidi|termencoding|terse|textauto|textmode|textwidth|tgst|thesaurus|tildeop|timeout|timeoutlen|title|titlelen|titleold|titlestring|toolbar|toolbariconsize|top|tpm|tsl|tsr|ttimeout|ttimeoutlen|ttm|tty|ttybuiltin|ttyfast|ttym|ttymouse|ttyscroll|ttytype|tw|tx|uc|ul|undolevels|updatecount|updatetime|ut|vb|vbs|vdir|verbosefile|vfile|viewdir|viewoptions|viminfo|virtualedit|visualbell|vop|wak|warn|wb|wc|wcm|wd|weirdinvert|wfh|wfw|whichwrap|wi|wig|wildchar|wildcharm|wildignore|wildmenu|wildmode|wildoptions|wim|winaltkeys|window|winfixheight|winfixwidth|winheight|winminheight|winminwidth|winwidth|wiv|wiw|wm|wmh|wmnu|wmw|wop|wrap|wrapmargin|wrapscan|writeany|writebackup|writedelay|ww)\b/,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?)\b/i,operator:/\|\||&&|[-+.]=?|[=!](?:[=~][#?]?)?|[<>]=?[#?]?|[*\/%?]|\b(?:is(?:not)?)\b/,punctuation:/[{}[\](),;:]/}}return HL}var VL,See;function rje(){if(See)return VL;See=1,VL=t,t.displayName="visualBasic",t.aliases=[];function t(e){e.languages["visual-basic"]={comment:{pattern:/(?:['‘’]|REM\b)(?:[^\r\n_]|_(?:\r\n?|\n)?)*/i,inside:{keyword:/^REM/i}},directive:{pattern:/#(?:Const|Else|ElseIf|End|ExternalChecksum|ExternalSource|If|Region)(?:\b_[ \t]*(?:\r\n?|\n)|.)+/i,alias:"property",greedy:!0},string:{pattern:/\$?["“”](?:["“”]{2}|[^"“”])*["“”]C?/i,greedy:!0},date:{pattern:/#[ \t]*(?:\d+([/-])\d+\1\d+(?:[ \t]+(?:\d+[ \t]*(?:AM|PM)|\d+:\d+(?::\d+)?(?:[ \t]*(?:AM|PM))?))?|\d+[ \t]*(?:AM|PM)|\d+:\d+(?::\d+)?(?:[ \t]*(?:AM|PM))?)[ \t]*#/i,alias:"number"},number:/(?:(?:\b\d+(?:\.\d+)?|\.\d+)(?:E[+-]?\d+)?|&[HO][\dA-F]+)(?:[FRD]|U?[ILS])?/i,boolean:/\b(?:False|Nothing|True)\b/i,keyword:/\b(?:AddHandler|AddressOf|Alias|And(?:Also)?|As|Boolean|ByRef|Byte|ByVal|Call|Case|Catch|C(?:Bool|Byte|Char|Date|Dbl|Dec|Int|Lng|Obj|SByte|Short|Sng|Str|Type|UInt|ULng|UShort)|Char|Class|Const|Continue|Currency|Date|Decimal|Declare|Default|Delegate|Dim|DirectCast|Do|Double|Each|Else(?:If)?|End(?:If)?|Enum|Erase|Error|Event|Exit|Finally|For|Friend|Function|Get(?:Type|XMLNamespace)?|Global|GoSub|GoTo|Handles|If|Implements|Imports|In|Inherits|Integer|Interface|Is|IsNot|Let|Lib|Like|Long|Loop|Me|Mod|Module|Must(?:Inherit|Override)|My(?:Base|Class)|Namespace|Narrowing|New|Next|Not(?:Inheritable|Overridable)?|Object|Of|On|Operator|Option(?:al)?|Or(?:Else)?|Out|Overloads|Overridable|Overrides|ParamArray|Partial|Private|Property|Protected|Public|RaiseEvent|ReadOnly|ReDim|RemoveHandler|Resume|Return|SByte|Select|Set|Shadows|Shared|short|Single|Static|Step|Stop|String|Structure|Sub|SyncLock|Then|Throw|To|Try|TryCast|Type|TypeOf|U(?:Integer|Long|Short)|Until|Using|Variant|Wend|When|While|Widening|With(?:Events)?|WriteOnly|Xor)\b/i,operator:/[+\-*/\\^<=>&#@$%!]|\b_(?=[ \t]*[\r\n])/,punctuation:/[{}().,:?]/},e.languages.vb=e.languages["visual-basic"],e.languages.vba=e.languages["visual-basic"]}return VL}var GL,xee;function ije(){if(xee)return GL;xee=1,GL=t,t.displayName="warpscript",t.aliases=[];function t(e){e.languages.warpscript={comment:/#.*|\/\/.*|\/\*[\s\S]*?\*\//,string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'|<'(?:[^\\']|'(?!>)|\\.)*'>/,greedy:!0},variable:/\$\S+/,macro:{pattern:/@\S+/,alias:"property"},keyword:/\b(?:BREAK|CHECKMACRO|CONTINUE|CUDF|DEFINED|DEFINEDMACRO|EVAL|FAIL|FOR|FOREACH|FORSTEP|IFT|IFTE|MSGFAIL|NRETURN|RETHROW|RETURN|SWITCH|TRY|UDF|UNTIL|WHILE)\b/,number:/[+-]?\b(?:NaN|Infinity|\d+(?:\.\d*)?(?:[Ee][+-]?\d+)?|0x[\da-fA-F]+|0b[01]+)\b/,boolean:/\b(?:F|T|false|true)\b/,punctuation:/<%|%>|[{}[\]()]/,operator:/==|&&?|\|\|?|\*\*?|>>>?|<<|[<>!~]=?|[-/%^]|\+!?|\b(?:AND|NOT|OR)\b/}}return GL}var WL,Eee;function aje(){if(Eee)return WL;Eee=1,WL=t,t.displayName="wasm",t.aliases=[];function t(e){e.languages.wasm={comment:[/\(;[\s\S]*?;\)/,{pattern:/;;.*/,greedy:!0}],string:{pattern:/"(?:\\[\s\S]|[^"\\])*"/,greedy:!0},keyword:[{pattern:/\b(?:align|offset)=/,inside:{operator:/=/}},{pattern:/\b(?:(?:f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|neg?|nearest|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|sqrt|store(?:8|16|32)?|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))?|memory\.(?:grow|size))\b/,inside:{punctuation:/\./}},/\b(?:anyfunc|block|br(?:_if|_table)?|call(?:_indirect)?|data|drop|elem|else|end|export|func|get_(?:global|local)|global|if|import|local|loop|memory|module|mut|nop|offset|param|result|return|select|set_(?:global|local)|start|table|tee_local|then|type|unreachable)\b/],variable:/\$[\w!#$%&'*+\-./:<=>?@\\^`|~]+/,number:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/,punctuation:/[()]/}}return WL}var KL,kee;function sje(){if(kee)return KL;kee=1,KL=t,t.displayName="webIdl",t.aliases=[];function t(e){(function(n){var r=/(?:\B-|\b_|\b)[A-Za-z][\w-]*(?![\w-])/.source,i="(?:"+/\b(?:unsigned\s+)?long\s+long(?![\w-])/.source+"|"+/\b(?:unrestricted|unsigned)\s+[a-z]+(?![\w-])/.source+"|"+/(?!(?:unrestricted|unsigned)\b)/.source+r+/(?:\s*<(?:[^<>]|<[^<>]*>)*>)?/.source+")"+/(?:\s*\?)?/.source,a={};n.languages["web-idl"]={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/"[^"]*"/,greedy:!0},namespace:{pattern:RegExp(/(\bnamespace\s+)/.source+r),lookbehind:!0},"class-name":[{pattern:/(^|[^\w-])(?:iterable|maplike|setlike)\s*<(?:[^<>]|<[^<>]*>)*>/,lookbehind:!0,inside:a},{pattern:RegExp(/(\b(?:attribute|const|deleter|getter|optional|setter)\s+)/.source+i),lookbehind:!0,inside:a},{pattern:RegExp("("+/\bcallback\s+/.source+r+/\s*=\s*/.source+")"+i),lookbehind:!0,inside:a},{pattern:RegExp(/(\btypedef\b\s*)/.source+i),lookbehind:!0,inside:a},{pattern:RegExp(/(\b(?:callback|dictionary|enum|interface(?:\s+mixin)?)\s+)(?!(?:interface|mixin)\b)/.source+r),lookbehind:!0},{pattern:RegExp(/(:\s*)/.source+r),lookbehind:!0},RegExp(r+/(?=\s+(?:implements|includes)\b)/.source),{pattern:RegExp(/(\b(?:implements|includes)\s+)/.source+r),lookbehind:!0},{pattern:RegExp(i+"(?="+/\s*(?:\.{3}\s*)?/.source+r+/\s*[(),;=]/.source+")"),inside:a}],builtin:/\b(?:ArrayBuffer|BigInt64Array|BigUint64Array|ByteString|DOMString|DataView|Float32Array|Float64Array|FrozenArray|Int16Array|Int32Array|Int8Array|ObservableArray|Promise|USVString|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray)\b/,keyword:[/\b(?:async|attribute|callback|const|constructor|deleter|dictionary|enum|getter|implements|includes|inherit|interface|mixin|namespace|null|optional|or|partial|readonly|required|setter|static|stringifier|typedef|unrestricted)\b/,/\b(?:any|bigint|boolean|byte|double|float|iterable|long|maplike|object|octet|record|sequence|setlike|short|symbol|undefined|unsigned|void)\b/],boolean:/\b(?:false|true)\b/,number:{pattern:/(^|[^\w-])-?(?:0x[0-9a-f]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|NaN|Infinity)(?![\w-])/i,lookbehind:!0},operator:/\.{3}|[=:?<>-]/,punctuation:/[(){}[\].,;]/};for(var s in n.languages["web-idl"])s!=="class-name"&&(a[s]=n.languages["web-idl"][s]);n.languages.webidl=n.languages["web-idl"]})(e)}return KL}var YL,Tee;function oje(){if(Tee)return YL;Tee=1,YL=t,t.displayName="wiki",t.aliases=[];function t(e){e.languages.wiki=e.languages.extend("markup",{"block-comment":{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0,alias:"comment"},heading:{pattern:/^(=+)[^=\r\n].*?\1/m,inside:{punctuation:/^=+|=+$/,important:/.+/}},emphasis:{pattern:/('{2,5}).+?\1/,inside:{"bold-italic":{pattern:/(''''').+?(?=\1)/,lookbehind:!0,alias:["bold","italic"]},bold:{pattern:/(''')[^'](?:.*?[^'])?(?=\1)/,lookbehind:!0},italic:{pattern:/('')[^'](?:.*?[^'])?(?=\1)/,lookbehind:!0},punctuation:/^''+|''+$/}},hr:{pattern:/^-{4,}/m,alias:"punctuation"},url:[/ISBN +(?:97[89][ -]?)?(?:\d[ -]?){9}[\dx]\b|(?:PMID|RFC) +\d+/i,/\[\[.+?\]\]|\[.+?\]/],variable:[/__[A-Z]+__/,/\{{3}.+?\}{3}/,/\{\{.+?\}\}/],symbol:[/^#redirect/im,/~{3,5}/],"table-tag":{pattern:/((?:^|[|!])[|!])[^|\r\n]+\|(?!\|)/m,lookbehind:!0,inside:{"table-bar":{pattern:/\|$/,alias:"punctuation"},rest:e.languages.markup.tag.inside}},punctuation:/^(?:\{\||\|\}|\|-|[*#:;!|])|\|\||!!/m}),e.languages.insertBefore("wiki","tag",{nowiki:{pattern:/<(nowiki|pre|source)\b[^>]*>[\s\S]*?<\/\1>/i,inside:{tag:{pattern:/<(?:nowiki|pre|source)\b[^>]*>|<\/(?:nowiki|pre|source)>/i,inside:e.languages.markup.tag.inside}}}})}return YL}var XL,Aee;function lje(){if(Aee)return XL;Aee=1,XL=t,t.displayName="wolfram",t.aliases=["mathematica","wl","nb"];function t(e){e.languages.wolfram={comment:/\(\*(?:\(\*(?:[^*]|\*(?!\)))*\*\)|(?!\(\*)[\s\S])*?\*\)/,string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:Abs|AbsArg|Accuracy|Block|Do|For|Function|If|Manipulate|Module|Nest|NestList|None|Return|Switch|Table|Which|While)\b/,context:{pattern:/\b\w+`+\w*/,alias:"class-name"},blank:{pattern:/\b\w+_\b/,alias:"regex"},"global-variable":{pattern:/\$\w+/,alias:"variable"},boolean:/\b(?:False|True)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/\/\.|;|=\.|\^=|\^:=|:=|<<|>>|<\||\|>|:>|\|->|->|<-|@@@|@@|@|\/@|=!=|===|==|=|\+|-|\^|\[\/-+%=\]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},e.languages.mathematica=e.languages.wolfram,e.languages.wl=e.languages.wolfram,e.languages.nb=e.languages.wolfram}return XL}var ZL,Cee;function uje(){if(Cee)return ZL;Cee=1,ZL=t,t.displayName="wren",t.aliases=[];function t(e){e.languages.wren={comment:[{pattern:/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*))*\*\/)*\*\/)*\*\//,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],"triple-quoted-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},"string-literal":null,hashbang:{pattern:/^#!\/.+/,greedy:!0,alias:"comment"},attribute:{pattern:/#!?[ \t\u3000]*\w+/,alias:"keyword"},"class-name":[{pattern:/(\bclass\s+)\w+/,lookbehind:!0},/\b[A-Z][a-z\d_]*\b/],constant:/\b[A-Z][A-Z\d_]*\b/,null:{pattern:/\bnull\b/,alias:"keyword"},keyword:/\b(?:as|break|class|construct|continue|else|for|foreign|if|import|in|is|return|static|super|this|var|while)\b/,boolean:/\b(?:false|true)\b/,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/i,function:/\b[a-z_]\w*(?=\s*[({])/i,operator:/<<|>>|[=!<>]=?|&&|\|\||[-+*/%~^&|?:]|\.{2,3}/,punctuation:/[\[\](){}.,;]/},e.languages.wren["string-literal"]={pattern:/(^|[^\\"])"(?:[^\\"%]|\\[\s\S]|%(?!\()|%\((?:[^()]|\((?:[^()]|\([^)]*\))*\))*\))*"/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)%\((?:[^()]|\((?:[^()]|\([^)]*\))*\))*\)/,lookbehind:!0,inside:{expression:{pattern:/^(%\()[\s\S]+(?=\)$)/,lookbehind:!0,inside:e.languages.wren},"interpolation-punctuation":{pattern:/^%\(|\)$/,alias:"punctuation"}}},string:/[\s\S]+/}}}return ZL}var QL,Ree;function cje(){if(Ree)return QL;Ree=1,QL=t,t.displayName="xeora",t.aliases=["xeoracube"];function t(e){(function(n){n.languages.xeora=n.languages.extend("markup",{constant:{pattern:/\$(?:DomainContents|PageRenderDuration)\$/,inside:{punctuation:{pattern:/\$/}}},variable:{pattern:/\$@?(?:#+|[-+*~=^])?[\w.]+\$/,inside:{punctuation:{pattern:/[$.]/},operator:{pattern:/#+|[-+*~=^@]/}}},"function-inline":{pattern:/\$F:[-\w.]+\?[-\w.]+(?:,(?:(?:@[-#]*\w+\.[\w+.]\.*)*\|)*(?:(?:[\w+]|[-#*.~^]+[\w+]|=\S)(?:[^$=]|=+[^=])*=*|(?:@[-#]*\w+\.[\w+.]\.*)+(?:(?:[\w+]|[-#*~^][-#*.~^]*[\w+]|=\S)(?:[^$=]|=+[^=])*=*)?)?)?\$/,inside:{variable:{pattern:/(?:[,|])@?(?:#+|[-+*~=^])?[\w.]+/,inside:{punctuation:{pattern:/[,.|]/},operator:{pattern:/#+|[-+*~=^@]/}}},punctuation:{pattern:/\$\w:|[$:?.,|]/}},alias:"function"},"function-block":{pattern:/\$XF:\{[-\w.]+\?[-\w.]+(?:,(?:(?:@[-#]*\w+\.[\w+.]\.*)*\|)*(?:(?:[\w+]|[-#*.~^]+[\w+]|=\S)(?:[^$=]|=+[^=])*=*|(?:@[-#]*\w+\.[\w+.]\.*)+(?:(?:[\w+]|[-#*~^][-#*.~^]*[\w+]|=\S)(?:[^$=]|=+[^=])*=*)?)?)?\}:XF\$/,inside:{punctuation:{pattern:/[$:{}?.,|]/}},alias:"function"},"directive-inline":{pattern:/\$\w(?:#\d+\+?)?(?:\[[-\w.]+\])?:[-\/\w.]+\$/,inside:{punctuation:{pattern:/\$(?:\w:|C(?:\[|#\d))?|[:{[\]]/,inside:{tag:{pattern:/#\d/}}}},alias:"function"},"directive-block-open":{pattern:/\$\w+:\{|\$\w(?:#\d+\+?)?(?:\[[-\w.]+\])?:[-\w.]+:\{(?:![A-Z]+)?/,inside:{punctuation:{pattern:/\$(?:\w:|C(?:\[|#\d))?|[:{[\]]/,inside:{tag:{pattern:/#\d/}}},attribute:{pattern:/![A-Z]+$/,inside:{punctuation:{pattern:/!/}},alias:"keyword"}},alias:"function"},"directive-block-separator":{pattern:/\}:[-\w.]+:\{/,inside:{punctuation:{pattern:/[:{}]/}},alias:"function"},"directive-block-close":{pattern:/\}:[-\w.]+\$/,inside:{punctuation:{pattern:/[:{}$]/}},alias:"function"}}),n.languages.insertBefore("inside","punctuation",{variable:n.languages.xeora["function-inline"].inside.variable},n.languages.xeora["function-block"]),n.languages.xeoracube=n.languages.xeora})(e)}return QL}var JL,Iee;function dje(){if(Iee)return JL;Iee=1,JL=t,t.displayName="xmlDoc",t.aliases=[];function t(e){(function(n){function r(o,l){n.languages[o]&&n.languages.insertBefore(o,"comment",{"doc-comment":l})}var i=n.languages.markup.tag,a={pattern:/\/\/\/.*/,greedy:!0,alias:"comment",inside:{tag:i}},s={pattern:/'''.*/,greedy:!0,alias:"comment",inside:{tag:i}};r("csharp",a),r("fsharp",a),r("vbnet",s)})(e)}return JL}var eD,Nee;function hje(){if(Nee)return eD;Nee=1,eD=t,t.displayName="xojo",t.aliases=[];function t(e){e.languages.xojo={comment:{pattern:/(?:'|\/\/|Rem\b).+/i,greedy:!0},string:{pattern:/"(?:""|[^"])*"/,greedy:!0},number:[/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,/&[bchou][a-z\d]+/i],directive:{pattern:/#(?:Else|ElseIf|Endif|If|Pragma)\b/i,alias:"property"},keyword:/\b(?:AddHandler|App|Array|As(?:signs)?|Auto|Boolean|Break|By(?:Ref|Val)|Byte|Call|Case|Catch|CFStringRef|CGFloat|Class|Color|Const|Continue|CString|Currency|CurrentMethodName|Declare|Delegate|Dim|Do(?:uble|wnTo)?|Each|Else(?:If)?|End|Enumeration|Event|Exception|Exit|Extends|False|Finally|For|Function|Get|GetTypeInfo|Global|GOTO|If|Implements|In|Inherits|Int(?:8|16|32|64|eger|erface)?|Lib|Loop|Me|Module|Next|Nil|Object|Optional|OSType|ParamArray|Private|Property|Protected|PString|Ptr|Raise(?:Event)?|ReDim|RemoveHandler|Return|Select(?:or)?|Self|Set|Shared|Short|Single|Soft|Static|Step|String|Sub|Super|Text|Then|To|True|Try|Ubound|UInt(?:8|16|32|64|eger)?|Until|Using|Var(?:iant)?|Wend|While|WindowPtr|WString)\b/i,operator:/<[=>]?|>=?|[+\-*\/\\^=]|\b(?:AddressOf|And|Ctype|IsA?|Mod|New|Not|Or|WeakAddressOf|Xor)\b/i,punctuation:/[.,;:()]/}}return eD}var tD,Oee;function fje(){if(Oee)return tD;Oee=1,tD=t,t.displayName="xquery",t.aliases=[];function t(e){(function(n){n.languages.xquery=n.languages.extend("markup",{"xquery-comment":{pattern:/\(:[\s\S]*?:\)/,greedy:!0,alias:"comment"},string:{pattern:/(["'])(?:\1\1|(?!\1)[\s\S])*\1/,greedy:!0},extension:{pattern:/\(#.+?#\)/,alias:"symbol"},variable:/\$[-\w:]+/,axis:{pattern:/(^|[^-])(?:ancestor(?:-or-self)?|attribute|child|descendant(?:-or-self)?|following(?:-sibling)?|parent|preceding(?:-sibling)?|self)(?=::)/,lookbehind:!0,alias:"operator"},"keyword-operator":{pattern:/(^|[^:-])\b(?:and|castable as|div|eq|except|ge|gt|idiv|instance of|intersect|is|le|lt|mod|ne|or|union)\b(?=$|[^:-])/,lookbehind:!0,alias:"operator"},keyword:{pattern:/(^|[^:-])\b(?:as|ascending|at|base-uri|boundary-space|case|cast as|collation|construction|copy-namespaces|declare|default|descending|else|empty (?:greatest|least)|encoding|every|external|for|function|if|import|in|inherit|lax|let|map|module|namespace|no-inherit|no-preserve|option|order(?: by|ed|ing)?|preserve|return|satisfies|schema|some|stable|strict|strip|then|to|treat as|typeswitch|unordered|validate|variable|version|where|xquery)\b(?=$|[^:-])/,lookbehind:!0},function:/[\w-]+(?::[\w-]+)*(?=\s*\()/,"xquery-element":{pattern:/(element\s+)[\w-]+(?::[\w-]+)*/,lookbehind:!0,alias:"tag"},"xquery-attribute":{pattern:/(attribute\s+)[\w-]+(?::[\w-]+)*/,lookbehind:!0,alias:"attr-name"},builtin:{pattern:/(^|[^:-])\b(?:attribute|comment|document|element|processing-instruction|text|xs:(?:ENTITIES|ENTITY|ID|IDREFS?|NCName|NMTOKENS?|NOTATION|Name|QName|anyAtomicType|anyType|anyURI|base64Binary|boolean|byte|date|dateTime|dayTimeDuration|decimal|double|duration|float|gDay|gMonth|gMonthDay|gYear|gYearMonth|hexBinary|int|integer|language|long|negativeInteger|nonNegativeInteger|nonPositiveInteger|normalizedString|positiveInteger|short|string|time|token|unsigned(?:Byte|Int|Long|Short)|untyped(?:Atomic)?|yearMonthDuration))\b(?=$|[^:-])/,lookbehind:!0},number:/\b\d+(?:\.\d+)?(?:E[+-]?\d+)?/,operator:[/[+*=?|@]|\.\.?|:=|!=|<[=<]?|>[=>]?/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}],punctuation:/[[\](){},;:/]/}),n.languages.xquery.tag.pattern=/<\/?(?!\d)[^\s>\/=$<%]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|\{(?!\{)(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/,n.languages.xquery.tag.inside["attr-value"].pattern=/=(?:("|')(?:\\[\s\S]|\{(?!\{)(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}|(?!\1)[^\\])*\1|[^\s'">=]+)/,n.languages.xquery.tag.inside["attr-value"].inside.punctuation=/^="|"$/,n.languages.xquery.tag.inside["attr-value"].inside.expression={pattern:/\{(?!\{)(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}/,inside:n.languages.xquery,alias:"language-xquery"};var r=function(a){return typeof a=="string"?a:typeof a.content=="string"?a.content:a.content.map(r).join("")},i=function(a){for(var s=[],o=0;o<a.length;o++){var l=a[o],u=!1;if(typeof l!="string"&&(l.type==="tag"&&l.content[0]&&l.content[0].type==="tag"?l.content[0].content[0].content==="</"?s.length>0&&s[s.length-1].tagName===r(l.content[0].content[1])&&s.pop():l.content[l.content.length-1].content==="/>"||s.push({tagName:r(l.content[0].content[1]),openedBraces:0}):s.length>0&&l.type==="punctuation"&&l.content==="{"&&(!a[o+1]||a[o+1].type!=="punctuation"||a[o+1].content!=="{")&&(!a[o-1]||a[o-1].type!=="plain-text"||a[o-1].content!=="{")?s[s.length-1].openedBraces++:s.length>0&&s[s.length-1].openedBraces>0&&l.type==="punctuation"&&l.content==="}"?s[s.length-1].openedBraces--:l.type!=="comment"&&(u=!0)),(u||typeof l=="string")&&s.length>0&&s[s.length-1].openedBraces===0){var d=r(l);o<a.length-1&&(typeof a[o+1]=="string"||a[o+1].type==="plain-text")&&(d+=r(a[o+1]),a.splice(o+1,1)),o>0&&(typeof a[o-1]=="string"||a[o-1].type==="plain-text")&&(d=r(a[o-1])+d,a.splice(o-1,1),o--),/^\s+$/.test(d)?a[o]=d:a[o]=new n.Token("plain-text",d,null,d)}l.content&&typeof l.content!="string"&&i(l.content)}};n.hooks.add("after-tokenize",function(a){a.language==="xquery"&&i(a.tokens)})})(e)}return tD}var nD,Mee;function pje(){if(Mee)return nD;Mee=1,nD=t,t.displayName="yang",t.aliases=[];function t(e){e.languages.yang={comment:/\/\*[\s\S]*?\*\/|\/\/.*/,string:{pattern:/"(?:[^\\"]|\\.)*"|'[^']*'/,greedy:!0},keyword:{pattern:/(^|[{};\r\n][ \t]*)[a-z_][\w.-]*/i,lookbehind:!0},namespace:{pattern:/(\s)[a-z_][\w.-]*(?=:)/i,lookbehind:!0},boolean:/\b(?:false|true)\b/,operator:/\+/,punctuation:/[{};:]/}}return nD}var rD,Pee;function mje(){if(Pee)return rD;Pee=1,rD=t,t.displayName="zig",t.aliases=[];function t(e){(function(n){function r(d){return function(){return d}}var i=/\b(?:align|allowzero|and|anyframe|anytype|asm|async|await|break|cancel|catch|comptime|const|continue|defer|else|enum|errdefer|error|export|extern|fn|for|if|inline|linksection|nakedcc|noalias|nosuspend|null|or|orelse|packed|promise|pub|resume|return|stdcallcc|struct|suspend|switch|test|threadlocal|try|undefined|union|unreachable|usingnamespace|var|volatile|while)\b/,a="\\b(?!"+i.source+")(?!\\d)\\w+\\b",s=/align\s*\((?:[^()]|\([^()]*\))*\)/.source,o=/(?:\?|\bpromise->|(?:\[[^[\]]*\]|\*(?!\*)|\*\*)(?:\s*<ALIGN>|\s*const\b|\s*volatile\b|\s*allowzero\b)*)/.source.replace(/<ALIGN>/g,r(s)),l=/(?:\bpromise\b|(?:\berror\.)?<ID>(?:\.<ID>)*(?!\s+<ID>))/.source.replace(/<ID>/g,r(a)),u="(?!\\s)(?:!?\\s*(?:"+o+"\\s*)*"+l+")+";n.languages.zig={comment:[{pattern:/\/\/[/!].*/,alias:"doc-comment"},/\/{2}.*/],string:[{pattern:/(^|[^\\@])c?"(?:[^"\\\r\n]|\\.)*"/,lookbehind:!0,greedy:!0},{pattern:/([\r\n])([ \t]+c?\\{2}).*(?:(?:\r\n?|\n)\2.*)*/,lookbehind:!0,greedy:!0}],char:{pattern:/(^|[^\\])'(?:[^'\\\r\n]|[\uD800-\uDFFF]{2}|\\(?:.|x[a-fA-F\d]{2}|u\{[a-fA-F\d]{1,6}\}))'/,lookbehind:!0,greedy:!0},builtin:/\B@(?!\d)\w+(?=\s*\()/,label:{pattern:/(\b(?:break|continue)\s*:\s*)\w+\b|\b(?!\d)\w+\b(?=\s*:\s*(?:\{|while\b))/,lookbehind:!0},"class-name":[/\b(?!\d)\w+(?=\s*=\s*(?:(?:extern|packed)\s+)?(?:enum|struct|union)\s*[({])/,{pattern:RegExp(/(:\s*)<TYPE>(?=\s*(?:<ALIGN>\s*)?[=;,)])|<TYPE>(?=\s*(?:<ALIGN>\s*)?\{)/.source.replace(/<TYPE>/g,r(u)).replace(/<ALIGN>/g,r(s))),lookbehind:!0,inside:null},{pattern:RegExp(/(\)\s*)<TYPE>(?=\s*(?:<ALIGN>\s*)?;)/.source.replace(/<TYPE>/g,r(u)).replace(/<ALIGN>/g,r(s))),lookbehind:!0,inside:null}],"builtin-type":{pattern:/\b(?:anyerror|bool|c_u?(?:int|long|longlong|short)|c_longdouble|c_void|comptime_(?:float|int)|f(?:16|32|64|128)|[iu](?:8|16|32|64|128|size)|noreturn|type|void)\b/,alias:"keyword"},keyword:i,function:/\b(?!\d)\w+(?=\s*\()/,number:/\b(?:0b[01]+|0o[0-7]+|0x[a-fA-F\d]+(?:\.[a-fA-F\d]*)?(?:[pP][+-]?[a-fA-F\d]+)?|\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)\b/,boolean:/\b(?:false|true)\b/,operator:/\.[*?]|\.{2,3}|[-=]>|\*\*|\+\+|\|\||(?:<<|>>|[-+*]%|[-+*/%^&|<>!=])=?|[?~]/,punctuation:/[.:,;(){}[\]]/},n.languages.zig["class-name"].forEach(function(d){d.inside===null&&(d.inside=n.languages.zig)})})(e)}return rD}var iD,Lee;function gje(){if(Lee)return iD;Lee=1;var t=O7e();return iD=t,t.register(P7e()),t.register(L7e()),t.register(D7e()),t.register(F7e()),t.register(B7e()),t.register(U7e()),t.register(j7e()),t.register(z7e()),t.register($7e()),t.register(q7e()),t.register(H7e()),t.register(V7e()),t.register(G7e()),t.register(W7e()),t.register(K7e()),t.register(Y7e()),t.register(X7e()),t.register(Z7e()),t.register(Q7e()),t.register(J7e()),t.register(eFe()),t.register(tFe()),t.register(Tde()),t.register(Ade()),t.register(nFe()),t.register(rFe()),t.register(iFe()),t.register(aFe()),t.register(sFe()),t.register(oFe()),t.register(lFe()),t.register(uFe()),t.register(cFe()),t.register(dFe()),t.register(I0()),t.register(hFe()),t.register(fFe()),t.register(pFe()),t.register(mFe()),t.register(gFe()),t.register(yFe()),t.register(bFe()),t.register(vFe()),t.register(wFe()),t.register(LF()),t.register(_Fe()),t.register(gC()),t.register(SFe()),t.register(xFe()),t.register(EFe()),t.register(kFe()),t.register(TFe()),t.register(AFe()),t.register(CFe()),t.register(RFe()),t.register(IFe()),t.register(NFe()),t.register(OFe()),t.register(MFe()),t.register(PFe()),t.register(LFe()),t.register(DFe()),t.register(FFe()),t.register(BFe()),t.register(UFe()),t.register(jFe()),t.register(zFe()),t.register($Fe()),t.register(qFe()),t.register(HFe()),t.register(VFe()),t.register(GFe()),t.register(WFe()),t.register(KFe()),t.register(YFe()),t.register(XFe()),t.register(ZFe()),t.register(QFe()),t.register(JFe()),t.register(e9e()),t.register(t9e()),t.register(n9e()),t.register(r9e()),t.register(i9e()),t.register(a9e()),t.register(s9e()),t.register(o9e()),t.register(l9e()),t.register(u9e()),t.register(c9e()),t.register(d9e()),t.register(h9e()),t.register(f9e()),t.register(p9e()),t.register(DF()),t.register(m9e()),t.register(g9e()),t.register(y9e()),t.register(b9e()),t.register(v9e()),t.register(w9e()),t.register(_9e()),t.register(S9e()),t.register(x9e()),t.register(E9e()),t.register(k9e()),t.register(T9e()),t.register(A9e()),t.register(C9e()),t.register(R9e()),t.register(I9e()),t.register(N9e()),t.register(FF()),t.register(O9e()),t.register(bC()),t.register(M9e()),t.register(P9e()),t.register(L9e()),t.register(D9e()),t.register(F9e()),t.register(B9e()),t.register(U9e()),t.register(UF()),t.register(j9e()),t.register(z9e()),t.register($9e()),t.register(Rde()),t.register(q9e()),t.register(H9e()),t.register(V9e()),t.register(G9e()),t.register(W9e()),t.register(K9e()),t.register(Y9e()),t.register(X9e()),t.register(Z9e()),t.register(Q9e()),t.register(J9e()),t.register(eBe()),t.register(tBe()),t.register(nBe()),t.register(rBe()),t.register(iBe()),t.register(Cde()),t.register(aBe()),t.register(sBe()),t.register(oBe()),t.register(Sl()),t.register(lBe()),t.register(uBe()),t.register(cBe()),t.register(dBe()),t.register(hBe()),t.register(fBe()),t.register(pBe()),t.register(mBe()),t.register(gBe()),t.register(yBe()),t.register(bBe()),t.register(vBe()),t.register(wBe()),t.register(_Be()),t.register(SBe()),t.register(xBe()),t.register(EBe()),t.register(kBe()),t.register(TBe()),t.register(ABe()),t.register(CBe()),t.register(RBe()),t.register(IBe()),t.register(NBe()),t.register(OBe()),t.register(MBe()),t.register(PBe()),t.register(LBe()),t.register(DBe()),t.register(FBe()),t.register(BBe()),t.register(UBe()),t.register(vC()),t.register(jBe()),t.register(zBe()),t.register($Be()),t.register(qBe()),t.register(HBe()),t.register(VBe()),t.register(GBe()),t.register(WBe()),t.register(KBe()),t.register(YBe()),t.register(XBe()),t.register(ZBe()),t.register(QBe()),t.register(JBe()),t.register(eUe()),t.register(tUe()),t.register(nUe()),t.register(rUe()),t.register(iUe()),t.register(aUe()),t.register(sUe()),t.register(oUe()),t.register(lUe()),t.register(uUe()),t.register(cUe()),t.register(dUe()),t.register(hUe()),t.register(fUe()),t.register(pUe()),t.register(mUe()),t.register(yC()),t.register(gUe()),t.register(yUe()),t.register(bUe()),t.register(vUe()),t.register(jF()),t.register(wUe()),t.register(_Ue()),t.register(SUe()),t.register(xUe()),t.register(EUe()),t.register(kUe()),t.register(TUe()),t.register(AUe()),t.register(CUe()),t.register(RUe()),t.register(IUe()),t.register(NUe()),t.register(PF()),t.register(OUe()),t.register(MUe()),t.register(PUe()),t.register(LUe()),t.register(DUe()),t.register(FUe()),t.register(zF()),t.register(BUe()),t.register(UUe()),t.register(jUe()),t.register(zUe()),t.register($Ue()),t.register(qUe()),t.register(HUe()),t.register(VUe()),t.register(Ide()),t.register(GUe()),t.register(BF()),t.register(WUe()),t.register(KUe()),t.register(YUe()),t.register(XUe()),t.register(ZUe()),t.register(QUe()),t.register(Nde()),t.register(JUe()),t.register(eje()),t.register(tje()),t.register(nje()),t.register(rje()),t.register(ije()),t.register(aje()),t.register(sje()),t.register(oje()),t.register(lje()),t.register(uje()),t.register(cje()),t.register(dje()),t.register(hje()),t.register(fje()),t.register(Ode()),t.register(pje()),t.register(mje()),iD}var yje=gje();const bje=Yc(yje);var Mde=i5e(bje,M7e);Mde.supportedLanguages=a5e;const vje={'code[class*="language-"]':{background:"hsl(220, 13%, 18%)",color:"hsl(220, 14%, 71%)",textShadow:"0 1px rgba(0, 0, 0, 0.3)",fontFamily:'"Fira Code", "Fira Mono", Menlo, Consolas, "DejaVu Sans Mono", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"2",OTabSize:"2",tabSize:"2",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{background:"hsl(220, 13%, 18%)",color:"hsl(220, 14%, 71%)",textShadow:"0 1px rgba(0, 0, 0, 0.3)",fontFamily:'"Fira Code", "Fira Mono", Menlo, Consolas, "DejaVu Sans Mono", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"2",OTabSize:"2",tabSize:"2",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:"0.5em 0",overflow:"auto",borderRadius:"0.3em"},'code[class*="language-"]::-moz-selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'code[class*="language-"] *::-moz-selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'pre[class*="language-"] *::-moz-selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'code[class*="language-"]::selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'code[class*="language-"] *::selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'pre[class*="language-"] *::selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},':not(pre) > code[class*="language-"]':{padding:"0.2em 0.3em",borderRadius:"0.3em",whiteSpace:"normal"},comment:{color:"hsl(220, 10%, 40%)",fontStyle:"italic"},prolog:{color:"hsl(220, 10%, 40%)"},cdata:{color:"hsl(220, 10%, 40%)"},doctype:{color:"hsl(220, 14%, 71%)"},punctuation:{color:"hsl(220, 14%, 71%)"},entity:{color:"hsl(220, 14%, 71%)",cursor:"help"},"attr-name":{color:"hsl(29, 54%, 61%)"},"class-name":{color:"hsl(29, 54%, 61%)"},boolean:{color:"hsl(29, 54%, 61%)"},constant:{color:"hsl(29, 54%, 61%)"},number:{color:"hsl(29, 54%, 61%)"},atrule:{color:"hsl(29, 54%, 61%)"},keyword:{color:"hsl(286, 60%, 67%)"},property:{color:"hsl(355, 65%, 65%)"},tag:{color:"hsl(355, 65%, 65%)"},symbol:{color:"hsl(355, 65%, 65%)"},deleted:{color:"hsl(355, 65%, 65%)"},important:{color:"hsl(355, 65%, 65%)"},selector:{color:"hsl(95, 38%, 62%)"},string:{color:"hsl(95, 38%, 62%)"},char:{color:"hsl(95, 38%, 62%)"},builtin:{color:"hsl(95, 38%, 62%)"},inserted:{color:"hsl(95, 38%, 62%)"},regex:{color:"hsl(95, 38%, 62%)"},"attr-value":{color:"hsl(95, 38%, 62%)"},"attr-value > .token.punctuation":{color:"hsl(95, 38%, 62%)"},variable:{color:"hsl(207, 82%, 66%)"},operator:{color:"hsl(207, 82%, 66%)"},function:{color:"hsl(207, 82%, 66%)"},url:{color:"hsl(187, 47%, 55%)"},"attr-value > .token.punctuation.attr-equals":{color:"hsl(220, 14%, 71%)"},"special-attr > .token.attr-value > .token.value.css":{color:"hsl(220, 14%, 71%)"},".language-css .token.selector":{color:"hsl(355, 65%, 65%)"},".language-css .token.property":{color:"hsl(220, 14%, 71%)"},".language-css .token.function":{color:"hsl(187, 47%, 55%)"},".language-css .token.url > .token.function":{color:"hsl(187, 47%, 55%)"},".language-css .token.url > .token.string.url":{color:"hsl(95, 38%, 62%)"},".language-css .token.important":{color:"hsl(286, 60%, 67%)"},".language-css .token.atrule .token.rule":{color:"hsl(286, 60%, 67%)"},".language-javascript .token.operator":{color:"hsl(286, 60%, 67%)"},".language-javascript .token.template-string > .token.interpolation > .token.interpolation-punctuation.punctuation":{color:"hsl(5, 48%, 51%)"},".language-json .token.operator":{color:"hsl(220, 14%, 71%)"},".language-json .token.null.keyword":{color:"hsl(29, 54%, 61%)"},".language-markdown .token.url":{color:"hsl(220, 14%, 71%)"},".language-markdown .token.url > .token.operator":{color:"hsl(220, 14%, 71%)"},".language-markdown .token.url-reference.url > .token.string":{color:"hsl(220, 14%, 71%)"},".language-markdown .token.url > .token.content":{color:"hsl(207, 82%, 66%)"},".language-markdown .token.url > .token.url":{color:"hsl(187, 47%, 55%)"},".language-markdown .token.url-reference.url":{color:"hsl(187, 47%, 55%)"},".language-markdown .token.blockquote.punctuation":{color:"hsl(220, 10%, 40%)",fontStyle:"italic"},".language-markdown .token.hr.punctuation":{color:"hsl(220, 10%, 40%)",fontStyle:"italic"},".language-markdown .token.code-snippet":{color:"hsl(95, 38%, 62%)"},".language-markdown .token.bold .token.content":{color:"hsl(29, 54%, 61%)"},".language-markdown .token.italic .token.content":{color:"hsl(286, 60%, 67%)"},".language-markdown .token.strike .token.content":{color:"hsl(355, 65%, 65%)"},".language-markdown .token.strike .token.punctuation":{color:"hsl(355, 65%, 65%)"},".language-markdown .token.list.punctuation":{color:"hsl(355, 65%, 65%)"},".language-markdown .token.title.important > .token.punctuation":{color:"hsl(355, 65%, 65%)"},bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},namespace:{Opacity:"0.8"},"token.tab:not(:empty):before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"token.cr:before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"token.lf:before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"token.space:before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item":{marginRight:"0.4em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 9%, 55%)",padding:"0.1em 0.4em",borderRadius:"0.3em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 9%, 55%)",padding:"0.1em 0.4em",borderRadius:"0.3em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 9%, 55%)",padding:"0.1em 0.4em",borderRadius:"0.3em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button:hover":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button:focus":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a:hover":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a:focus":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span:hover":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span:focus":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},".line-highlight.line-highlight":{background:"hsla(220, 100%, 80%, 0.04)"},".line-highlight.line-highlight:before":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 14%, 71%)",padding:"0.1em 0.6em",borderRadius:"0.3em",boxShadow:"0 2px 0 0 rgba(0, 0, 0, 0.2)"},".line-highlight.line-highlight[data-end]:after":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 14%, 71%)",padding:"0.1em 0.6em",borderRadius:"0.3em",boxShadow:"0 2px 0 0 rgba(0, 0, 0, 0.2)"},"pre[id].linkable-line-numbers.linkable-line-numbers span.line-numbers-rows > span:hover:before":{backgroundColor:"hsla(220, 100%, 80%, 0.04)"},".line-numbers.line-numbers .line-numbers-rows":{borderRightColor:"hsla(220, 14%, 71%, 0.15)"},".command-line .command-line-prompt":{borderRightColor:"hsla(220, 14%, 71%, 0.15)"},".line-numbers .line-numbers-rows > span:before":{color:"hsl(220, 14%, 45%)"},".command-line .command-line-prompt > span:before":{color:"hsl(220, 14%, 45%)"},".rainbow-braces .token.token.punctuation.brace-level-1":{color:"hsl(355, 65%, 65%)"},".rainbow-braces .token.token.punctuation.brace-level-5":{color:"hsl(355, 65%, 65%)"},".rainbow-braces .token.token.punctuation.brace-level-9":{color:"hsl(355, 65%, 65%)"},".rainbow-braces .token.token.punctuation.brace-level-2":{color:"hsl(95, 38%, 62%)"},".rainbow-braces .token.token.punctuation.brace-level-6":{color:"hsl(95, 38%, 62%)"},".rainbow-braces .token.token.punctuation.brace-level-10":{color:"hsl(95, 38%, 62%)"},".rainbow-braces .token.token.punctuation.brace-level-3":{color:"hsl(207, 82%, 66%)"},".rainbow-braces .token.token.punctuation.brace-level-7":{color:"hsl(207, 82%, 66%)"},".rainbow-braces .token.token.punctuation.brace-level-11":{color:"hsl(207, 82%, 66%)"},".rainbow-braces .token.token.punctuation.brace-level-4":{color:"hsl(286, 60%, 67%)"},".rainbow-braces .token.token.punctuation.brace-level-8":{color:"hsl(286, 60%, 67%)"},".rainbow-braces .token.token.punctuation.brace-level-12":{color:"hsl(286, 60%, 67%)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)":{backgroundColor:"hsla(353, 100%, 66%, 0.15)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)":{backgroundColor:"hsla(353, 100%, 66%, 0.15)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix) *::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix) *::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)":{backgroundColor:"hsla(137, 100%, 55%, 0.15)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)":{backgroundColor:"hsla(137, 100%, 55%, 0.15)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix) *::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix) *::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},".prism-previewer.prism-previewer:before":{borderColor:"hsl(224, 13%, 17%)"},".prism-previewer-gradient.prism-previewer-gradient div":{borderColor:"hsl(224, 13%, 17%)",borderRadius:"0.3em"},".prism-previewer-color.prism-previewer-color:before":{borderRadius:"0.3em"},".prism-previewer-easing.prism-previewer-easing:before":{borderRadius:"0.3em"},".prism-previewer.prism-previewer:after":{borderTopColor:"hsl(224, 13%, 17%)"},".prism-previewer-flipped.prism-previewer-flipped.after":{borderBottomColor:"hsl(224, 13%, 17%)"},".prism-previewer-angle.prism-previewer-angle:before":{background:"hsl(219, 13%, 22%)"},".prism-previewer-time.prism-previewer-time:before":{background:"hsl(219, 13%, 22%)"},".prism-previewer-easing.prism-previewer-easing":{background:"hsl(219, 13%, 22%)"},".prism-previewer-angle.prism-previewer-angle circle":{stroke:"hsl(220, 14%, 71%)",strokeOpacity:"1"},".prism-previewer-time.prism-previewer-time circle":{stroke:"hsl(220, 14%, 71%)",strokeOpacity:"1"},".prism-previewer-easing.prism-previewer-easing circle":{stroke:"hsl(220, 14%, 71%)",fill:"transparent"},".prism-previewer-easing.prism-previewer-easing path":{stroke:"hsl(220, 14%, 71%)"},".prism-previewer-easing.prism-previewer-easing line":{stroke:"hsl(220, 14%, 71%)"}};function Pde(t,e){const n=String(t);let r=n.indexOf(e),i=r,a=0,s=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>s&&(s=a):a=1,i=r+e.length,r=n.indexOf(e,i);return s}function wje(){return{enter:{mathFlow:t,mathFlowFenceMeta:e,mathText:a},exit:{mathFlow:i,mathFlowFence:r,mathFlowFenceMeta:n,mathFlowValue:o,mathText:s,mathTextData:o}};function t(l){const u={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[u]}},l)}function e(){this.buffer()}function n(){const l=this.resume(),u=this.stack[this.stack.length-1];u.type,u.meta=l}function r(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function i(l){const u=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),d=this.stack[this.stack.length-1];d.type,this.exit(l),d.value=u;const h=d.data.hChildren[0];h.type,h.tagName,h.children.push({type:"text",value:u}),this.data.mathFlowInside=void 0}function a(l){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},l),this.buffer()}function s(l){const u=this.resume(),d=this.stack[this.stack.length-1];d.type,this.exit(l),d.value=u,d.data.hChildren.push({type:"text",value:u})}function o(l){this.config.enter.data.call(this,l),this.config.exit.data.call(this,l)}}function _je(t){let e=(t||{}).singleDollarTextMath;return e==null&&(e=!0),r.peek=i,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:e?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:n,inlineMath:r}};function n(a,s,o,l){const u=a.value||"",d=o.createTracker(l),h="$".repeat(Math.max(Pde(u,"$")+1,2)),p=o.enter("mathFlow");let m=d.move(h);if(a.meta){const v=o.enter("mathFlowMeta");m+=d.move(o.safe(a.meta,{after:`
`,before:m,encode:["$"],...d.current()})),v()}return m+=d.move(`
`),u&&(m+=d.move(u+`
`)),m+=d.move(h),p(),m}function r(a,s,o){let l=a.value||"",u=1;for(e||u++;new RegExp("(^|[^$])"+"\\$".repeat(u)+"([^$]|$)").test(l);)u++;const d="$".repeat(u);/[^ \r\n]/.test(l)&&(/^[ \r\n]/.test(l)&&/[ \r\n]$/.test(l)||/^\$|\$$/.test(l))&&(l=" "+l+" ");let h=-1;for(;++h<o.unsafe.length;){const p=o.unsafe[h];if(!p.atBreak)continue;const m=o.compilePattern(p);let v;for(;v=m.exec(l);){let w=v.index;l.codePointAt(w)===10&&l.codePointAt(w-1)===13&&w--,l=l.slice(0,w)+" "+l.slice(v.index+1)}}return d+l+d}function i(){return"$"}}const Sje={tokenize:xje,concrete:!0,name:"mathFlow"},Dee={tokenize:Eje,partial:!0};function xje(t,e,n){const r=this,i=r.events[r.events.length-1],a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let s=0;return o;function o(C){return t.enter("mathFlow"),t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),l(C)}function l(C){return C===36?(t.consume(C),s++,l):s<2?n(C):(t.exit("mathFlowFenceSequence"),kr(t,u,"whitespace")(C))}function u(C){return C===null||Cn(C)?h(C):(t.enter("mathFlowFenceMeta"),t.enter("chunkString",{contentType:"string"}),d(C))}function d(C){return C===null||Cn(C)?(t.exit("chunkString"),t.exit("mathFlowFenceMeta"),h(C)):C===36?n(C):(t.consume(C),d)}function h(C){return t.exit("mathFlowFence"),r.interrupt?e(C):t.attempt(Dee,p,k)(C)}function p(C){return t.attempt({tokenize:T,partial:!0},k,m)(C)}function m(C){return(a?kr(t,v,"linePrefix",a+1):v)(C)}function v(C){return C===null?k(C):Cn(C)?t.attempt(Dee,p,k)(C):(t.enter("mathFlowValue"),w(C))}function w(C){return C===null||Cn(C)?(t.exit("mathFlowValue"),v(C)):(t.consume(C),w)}function k(C){return t.exit("mathFlow"),e(C)}function T(C,N,F){let D=0;return kr(C,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function U(re){return C.enter("mathFlowFence"),C.enter("mathFlowFenceSequence"),G(re)}function G(re){return re===36?(D++,C.consume(re),G):D<s?F(re):(C.exit("mathFlowFenceSequence"),kr(C,se,"whitespace")(re))}function se(re){return re===null||Cn(re)?(C.exit("mathFlowFence"),N(re)):F(re)}}}function Eje(t,e,n){const r=this;return i;function i(s){return s===null?e(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function kje(t){let n=(t||{}).singleDollarTextMath;return n==null&&(n=!0),{tokenize:r,resolve:Tje,previous:Aje,name:"mathText"};function r(i,a,s){let o=0,l,u;return d;function d(w){return i.enter("mathText"),i.enter("mathTextSequence"),h(w)}function h(w){return w===36?(i.consume(w),o++,h):o<2&&!n?s(w):(i.exit("mathTextSequence"),p(w))}function p(w){return w===null?s(w):w===36?(u=i.enter("mathTextSequence"),l=0,v(w)):w===32?(i.enter("space"),i.consume(w),i.exit("space"),p):Cn(w)?(i.enter("lineEnding"),i.consume(w),i.exit("lineEnding"),p):(i.enter("mathTextData"),m(w))}function m(w){return w===null||w===32||w===36||Cn(w)?(i.exit("mathTextData"),p(w)):(i.consume(w),m)}function v(w){return w===36?(i.consume(w),l++,v):l===o?(i.exit("mathTextSequence"),i.exit("mathText"),a(w)):(u.type="mathTextData",m(w))}}}function Tje(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="mathTextData"){t[e][1].type="mathTextPadding",t[n][1].type="mathTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="mathTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Aje(t){return t!==36||this.events[this.events.length-1][1].type==="characterEscape"}function Cje(t){return{flow:{36:Sje},text:{36:kje(t)}}}let Cc=class Lde{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new Lde(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}},zd=class Dde{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new Dde(n,Cc.range(this,e))}};class Wt{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,a,s=n&&n.loc;if(s&&s.start<=s.end){var o=s.lexer.input;i=s.start,a=s.end,i===o.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var l=o.slice(i,a).replace(/[^]/g,"$&̲"),u;i>15?u="…"+o.slice(i-15,i):u=o.slice(0,i);var d;a+15<o.length?d=o.slice(a,a+15)+"…":d=o.slice(a),r+=u+l+d}var h=new Error(r);return h.name="ParseError",h.__proto__=Wt.prototype,h.position=i,i!=null&&a!=null&&(h.length=a-i),h.rawMessage=e,h}}Wt.prototype.__proto__=Error.prototype;var Rje=function(e,n){return e.indexOf(n)!==-1},Ije=function(e,n){return e===void 0?n:e},Nje=/([A-Z])/g,Oje=function(e){return e.replace(Nje,"-$1").toLowerCase()},Mje={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Pje=/[&><"']/g;function Lje(t){return String(t).replace(Pje,e=>Mje[e])}var Fde=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},Dje=function(e){var n=Fde(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},Fje=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},Bje=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},Dn={contains:Rje,deflt:Ije,escape:Lje,hyphenate:Oje,getBaseElem:Fde,isCharacterBox:Dje,protocolFromUrl:Bje},vk={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function Uje(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}let $F=class{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in vk)if(vk.hasOwnProperty(n)){var r=vk[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:Uje(r)}}reportNonstrict(e,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new Wt("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var i=this.strict;if(typeof i=="function")try{i=i(e,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=Dn.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}};class $p{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return Od[jje[this.id]]}sub(){return Od[zje[this.id]]}fracNum(){return Od[$je[this.id]]}fracDen(){return Od[qje[this.id]]}cramp(){return Od[Hje[this.id]]}text(){return Od[Vje[this.id]]}isTight(){return this.size>=2}}var qF=0,RT=1,Eb=2,vf=3,A1=4,Lu=5,Hb=6,Mo=7,Od=[new $p(qF,0,!1),new $p(RT,0,!0),new $p(Eb,1,!1),new $p(vf,1,!0),new $p(A1,2,!1),new $p(Lu,2,!0),new $p(Hb,3,!1),new $p(Mo,3,!0)],jje=[A1,Lu,A1,Lu,Hb,Mo,Hb,Mo],zje=[Lu,Lu,Lu,Lu,Mo,Mo,Mo,Mo],$je=[Eb,vf,A1,Lu,Hb,Mo,Hb,Mo],qje=[vf,vf,Lu,Lu,Mo,Mo,Mo,Mo],Hje=[RT,RT,vf,vf,Lu,Lu,Mo,Mo],Vje=[qF,RT,Eb,vf,Eb,vf,Eb,vf],Bn={DISPLAY:Od[qF],TEXT:Od[Eb],SCRIPT:Od[A1],SCRIPTSCRIPT:Od[Hb]},N5=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function Gje(t){for(var e=0;e<N5.length;e++)for(var n=N5[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}var wk=[];N5.forEach(t=>t.blocks.forEach(e=>wk.push(...e)));function Bde(t){for(var e=0;e<wk.length;e+=2)if(t>=wk[e]&&t<=wk[e+1])return!0;return!1}var ky=80,Wje=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},Kje=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},Yje=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},Xje=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},Zje=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},Qje=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},Jje=function(e,n,r){var i=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},eze=function(e,n,r){n=1e3*n;var i="";switch(e){case"sqrtMain":i=Wje(n,ky);break;case"sqrtSize1":i=Kje(n,ky);break;case"sqrtSize2":i=Yje(n,ky);break;case"sqrtSize3":i=Xje(n,ky);break;case"sqrtSize4":i=Zje(n,ky);break;case"sqrtTall":i=Jje(n,ky,r)}return i},tze=function(e,n){switch(e){case"⎜":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"∣":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"∥":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"⎟":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"⎢":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"⎥":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"⎪":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"⏐":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"‖":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},Fee={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},nze=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};let xS=class{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return Dn.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}};var Dd={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},wE={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Bee={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function rze(t,e){Dd[t]=e}function HF(t,e,n){if(!Dd[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=Dd[e][r];if(!i&&t[0]in Bee&&(r=Bee[t[0]].charCodeAt(0),i=Dd[e][r]),!i&&n==="text"&&Bde(r)&&(i=Dd[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var aD={};function ize(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!aD[e]){var n=aD[e]={cssEmPerMu:wE.quad[e]/18};for(var r in wE)wE.hasOwnProperty(r)&&(n[r]=wE[r][e])}return aD[e]}var aze=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Uee=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],jee=function(e,n){return n.size<2?e:aze[e-1][n.size-1]};class hf{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||hf.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=Uee[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new hf(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:jee(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:Uee[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=jee(hf.BASESIZE,e);return this.size===n&&this.textSize===hf.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==hf.BASESIZE?["sizing","reset-size"+this.size,"size"+hf.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=ize(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}hf.BASESIZE=6;var O5={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},sze={ex:!0,em:!0,mu:!0},Ude=function(e){return typeof e!="string"&&(e=e.unit),e in O5||e in sze||e==="ex"},oa=function(e,n){var r;if(e.unit in O5)r=O5[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new Wt("Invalid unit: '"+e.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},nn=function(e){return+e.toFixed(4)+"em"},Pm=function(e){return e.filter(n=>n).join(" ")},jde=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},zde=function(e){var n=document.createElement(e);n.className=Pm(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var a=0;a<this.children.length;a++)n.appendChild(this.children[a].toNode());return n},oze=/[\s"'>/=\x00-\x1f]/,$de=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+Dn.escape(Pm(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Dn.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+Dn.escape(r)+'"');for(var a in this.attributes)if(this.attributes.hasOwnProperty(a)){if(oze.test(a))throw new Wt("Invalid attribute name '"+a+"'");n+=" "+a+'="'+Dn.escape(this.attributes[a])+'"'}n+=">";for(var s=0;s<this.children.length;s++)n+=this.children[s].toMarkup();return n+="</"+e+">",n};class ES{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,jde.call(this,e,r,i),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return Dn.contains(this.classes,e)}toNode(){return zde.call(this,"span")}toMarkup(){return $de.call(this,"span")}}class VF{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,jde.call(this,n,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return Dn.contains(this.classes,e)}toNode(){return zde.call(this,"a")}toMarkup(){return $de.call(this,"a")}}class lze{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return Dn.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+Dn.escape(this.src)+'"'+(' alt="'+Dn.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=Dn.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+Dn.escape(n)+'"'),e+="'/>",e}}var uze={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class zu{constructor(e,n,r,i,a,s,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=a||0,this.width=s||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var u=Gje(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=uze[this.text])}hasClass(e){return Dn.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=nn(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Pm(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=Dn.escape(Pm(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Dn.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,n+=' style="'+Dn.escape(r)+'"');var a=Dn.escape(this.text);return e?(n+=">",n+=a,n+="</span>",n):a}}class Cf{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+Dn.escape(this.attributes[n])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class Lm{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",Fee[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+Dn.escape(this.alternate)+'"/>':'<path d="'+Dn.escape(Fee[this.pathName])+'"/>'}}class M5{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+Dn.escape(this.attributes[n])+'"');return e+="/>",e}}function zee(t){if(t instanceof zu)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function cze(t){if(t instanceof ES)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var dze={bin:1,close:1,inner:1,open:1,punct:1,rel:1},hze={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Ui={math:{},text:{}};function q(t,e,n,r,i,a){Ui[t][i]={font:e,group:n,replace:r},a&&r&&(Ui[t][r]=Ui[t][i])}var X="math",Ut="text",le="main",De="ams",Yi="accent-token",pn="bin",qo="close",_v="inner",Fn="mathord",qa="op-token",ru="open",wC="punct",Ue="rel",Uf="spacing",Ze="textord";q(X,le,Ue,"≡","\\equiv",!0);q(X,le,Ue,"≺","\\prec",!0);q(X,le,Ue,"≻","\\succ",!0);q(X,le,Ue,"∼","\\sim",!0);q(X,le,Ue,"⊥","\\perp");q(X,le,Ue,"⪯","\\preceq",!0);q(X,le,Ue,"⪰","\\succeq",!0);q(X,le,Ue,"≃","\\simeq",!0);q(X,le,Ue,"∣","\\mid",!0);q(X,le,Ue,"≪","\\ll",!0);q(X,le,Ue,"≫","\\gg",!0);q(X,le,Ue,"≍","\\asymp",!0);q(X,le,Ue,"∥","\\parallel");q(X,le,Ue,"⋈","\\bowtie",!0);q(X,le,Ue,"⌣","\\smile",!0);q(X,le,Ue,"⊑","\\sqsubseteq",!0);q(X,le,Ue,"⊒","\\sqsupseteq",!0);q(X,le,Ue,"≐","\\doteq",!0);q(X,le,Ue,"⌢","\\frown",!0);q(X,le,Ue,"∋","\\ni",!0);q(X,le,Ue,"∝","\\propto",!0);q(X,le,Ue,"⊢","\\vdash",!0);q(X,le,Ue,"⊣","\\dashv",!0);q(X,le,Ue,"∋","\\owns");q(X,le,wC,".","\\ldotp");q(X,le,wC,"⋅","\\cdotp");q(X,le,Ze,"#","\\#");q(Ut,le,Ze,"#","\\#");q(X,le,Ze,"&","\\&");q(Ut,le,Ze,"&","\\&");q(X,le,Ze,"ℵ","\\aleph",!0);q(X,le,Ze,"∀","\\forall",!0);q(X,le,Ze,"ℏ","\\hbar",!0);q(X,le,Ze,"∃","\\exists",!0);q(X,le,Ze,"∇","\\nabla",!0);q(X,le,Ze,"♭","\\flat",!0);q(X,le,Ze,"ℓ","\\ell",!0);q(X,le,Ze,"♮","\\natural",!0);q(X,le,Ze,"♣","\\clubsuit",!0);q(X,le,Ze,"℘","\\wp",!0);q(X,le,Ze,"♯","\\sharp",!0);q(X,le,Ze,"♢","\\diamondsuit",!0);q(X,le,Ze,"ℜ","\\Re",!0);q(X,le,Ze,"♡","\\heartsuit",!0);q(X,le,Ze,"ℑ","\\Im",!0);q(X,le,Ze,"♠","\\spadesuit",!0);q(X,le,Ze,"§","\\S",!0);q(Ut,le,Ze,"§","\\S");q(X,le,Ze,"¶","\\P",!0);q(Ut,le,Ze,"¶","\\P");q(X,le,Ze,"†","\\dag");q(Ut,le,Ze,"†","\\dag");q(Ut,le,Ze,"†","\\textdagger");q(X,le,Ze,"‡","\\ddag");q(Ut,le,Ze,"‡","\\ddag");q(Ut,le,Ze,"‡","\\textdaggerdbl");q(X,le,qo,"⎱","\\rmoustache",!0);q(X,le,ru,"⎰","\\lmoustache",!0);q(X,le,qo,"⟯","\\rgroup",!0);q(X,le,ru,"⟮","\\lgroup",!0);q(X,le,pn,"∓","\\mp",!0);q(X,le,pn,"⊖","\\ominus",!0);q(X,le,pn,"⊎","\\uplus",!0);q(X,le,pn,"⊓","\\sqcap",!0);q(X,le,pn,"∗","\\ast");q(X,le,pn,"⊔","\\sqcup",!0);q(X,le,pn,"◯","\\bigcirc",!0);q(X,le,pn,"∙","\\bullet",!0);q(X,le,pn,"‡","\\ddagger");q(X,le,pn,"≀","\\wr",!0);q(X,le,pn,"⨿","\\amalg");q(X,le,pn,"&","\\And");q(X,le,Ue,"⟵","\\longleftarrow",!0);q(X,le,Ue,"⇐","\\Leftarrow",!0);q(X,le,Ue,"⟸","\\Longleftarrow",!0);q(X,le,Ue,"⟶","\\longrightarrow",!0);q(X,le,Ue,"⇒","\\Rightarrow",!0);q(X,le,Ue,"⟹","\\Longrightarrow",!0);q(X,le,Ue,"↔","\\leftrightarrow",!0);q(X,le,Ue,"⟷","\\longleftrightarrow",!0);q(X,le,Ue,"⇔","\\Leftrightarrow",!0);q(X,le,Ue,"⟺","\\Longleftrightarrow",!0);q(X,le,Ue,"↦","\\mapsto",!0);q(X,le,Ue,"⟼","\\longmapsto",!0);q(X,le,Ue,"↗","\\nearrow",!0);q(X,le,Ue,"↩","\\hookleftarrow",!0);q(X,le,Ue,"↪","\\hookrightarrow",!0);q(X,le,Ue,"↘","\\searrow",!0);q(X,le,Ue,"↼","\\leftharpoonup",!0);q(X,le,Ue,"⇀","\\rightharpoonup",!0);q(X,le,Ue,"↙","\\swarrow",!0);q(X,le,Ue,"↽","\\leftharpoondown",!0);q(X,le,Ue,"⇁","\\rightharpoondown",!0);q(X,le,Ue,"↖","\\nwarrow",!0);q(X,le,Ue,"⇌","\\rightleftharpoons",!0);q(X,De,Ue,"≮","\\nless",!0);q(X,De,Ue,"","\\@nleqslant");q(X,De,Ue,"","\\@nleqq");q(X,De,Ue,"⪇","\\lneq",!0);q(X,De,Ue,"≨","\\lneqq",!0);q(X,De,Ue,"","\\@lvertneqq");q(X,De,Ue,"⋦","\\lnsim",!0);q(X,De,Ue,"⪉","\\lnapprox",!0);q(X,De,Ue,"⊀","\\nprec",!0);q(X,De,Ue,"⋠","\\npreceq",!0);q(X,De,Ue,"⋨","\\precnsim",!0);q(X,De,Ue,"⪹","\\precnapprox",!0);q(X,De,Ue,"≁","\\nsim",!0);q(X,De,Ue,"","\\@nshortmid");q(X,De,Ue,"∤","\\nmid",!0);q(X,De,Ue,"⊬","\\nvdash",!0);q(X,De,Ue,"⊭","\\nvDash",!0);q(X,De,Ue,"⋪","\\ntriangleleft");q(X,De,Ue,"⋬","\\ntrianglelefteq",!0);q(X,De,Ue,"⊊","\\subsetneq",!0);q(X,De,Ue,"","\\@varsubsetneq");q(X,De,Ue,"⫋","\\subsetneqq",!0);q(X,De,Ue,"","\\@varsubsetneqq");q(X,De,Ue,"≯","\\ngtr",!0);q(X,De,Ue,"","\\@ngeqslant");q(X,De,Ue,"","\\@ngeqq");q(X,De,Ue,"⪈","\\gneq",!0);q(X,De,Ue,"≩","\\gneqq",!0);q(X,De,Ue,"","\\@gvertneqq");q(X,De,Ue,"⋧","\\gnsim",!0);q(X,De,Ue,"⪊","\\gnapprox",!0);q(X,De,Ue,"⊁","\\nsucc",!0);q(X,De,Ue,"⋡","\\nsucceq",!0);q(X,De,Ue,"⋩","\\succnsim",!0);q(X,De,Ue,"⪺","\\succnapprox",!0);q(X,De,Ue,"≆","\\ncong",!0);q(X,De,Ue,"","\\@nshortparallel");q(X,De,Ue,"∦","\\nparallel",!0);q(X,De,Ue,"⊯","\\nVDash",!0);q(X,De,Ue,"⋫","\\ntriangleright");q(X,De,Ue,"⋭","\\ntrianglerighteq",!0);q(X,De,Ue,"","\\@nsupseteqq");q(X,De,Ue,"⊋","\\supsetneq",!0);q(X,De,Ue,"","\\@varsupsetneq");q(X,De,Ue,"⫌","\\supsetneqq",!0);q(X,De,Ue,"","\\@varsupsetneqq");q(X,De,Ue,"⊮","\\nVdash",!0);q(X,De,Ue,"⪵","\\precneqq",!0);q(X,De,Ue,"⪶","\\succneqq",!0);q(X,De,Ue,"","\\@nsubseteqq");q(X,De,pn,"⊴","\\unlhd");q(X,De,pn,"⊵","\\unrhd");q(X,De,Ue,"↚","\\nleftarrow",!0);q(X,De,Ue,"↛","\\nrightarrow",!0);q(X,De,Ue,"⇍","\\nLeftarrow",!0);q(X,De,Ue,"⇏","\\nRightarrow",!0);q(X,De,Ue,"↮","\\nleftrightarrow",!0);q(X,De,Ue,"⇎","\\nLeftrightarrow",!0);q(X,De,Ue,"△","\\vartriangle");q(X,De,Ze,"ℏ","\\hslash");q(X,De,Ze,"▽","\\triangledown");q(X,De,Ze,"◊","\\lozenge");q(X,De,Ze,"Ⓢ","\\circledS");q(X,De,Ze,"®","\\circledR");q(Ut,De,Ze,"®","\\circledR");q(X,De,Ze,"∡","\\measuredangle",!0);q(X,De,Ze,"∄","\\nexists");q(X,De,Ze,"℧","\\mho");q(X,De,Ze,"Ⅎ","\\Finv",!0);q(X,De,Ze,"⅁","\\Game",!0);q(X,De,Ze,"‵","\\backprime");q(X,De,Ze,"▲","\\blacktriangle");q(X,De,Ze,"▼","\\blacktriangledown");q(X,De,Ze,"■","\\blacksquare");q(X,De,Ze,"⧫","\\blacklozenge");q(X,De,Ze,"★","\\bigstar");q(X,De,Ze,"∢","\\sphericalangle",!0);q(X,De,Ze,"∁","\\complement",!0);q(X,De,Ze,"ð","\\eth",!0);q(Ut,le,Ze,"ð","ð");q(X,De,Ze,"╱","\\diagup");q(X,De,Ze,"╲","\\diagdown");q(X,De,Ze,"□","\\square");q(X,De,Ze,"□","\\Box");q(X,De,Ze,"◊","\\Diamond");q(X,De,Ze,"¥","\\yen",!0);q(Ut,De,Ze,"¥","\\yen",!0);q(X,De,Ze,"✓","\\checkmark",!0);q(Ut,De,Ze,"✓","\\checkmark");q(X,De,Ze,"ℶ","\\beth",!0);q(X,De,Ze,"ℸ","\\daleth",!0);q(X,De,Ze,"ℷ","\\gimel",!0);q(X,De,Ze,"ϝ","\\digamma",!0);q(X,De,Ze,"ϰ","\\varkappa");q(X,De,ru,"┌","\\@ulcorner",!0);q(X,De,qo,"┐","\\@urcorner",!0);q(X,De,ru,"└","\\@llcorner",!0);q(X,De,qo,"┘","\\@lrcorner",!0);q(X,De,Ue,"≦","\\leqq",!0);q(X,De,Ue,"⩽","\\leqslant",!0);q(X,De,Ue,"⪕","\\eqslantless",!0);q(X,De,Ue,"≲","\\lesssim",!0);q(X,De,Ue,"⪅","\\lessapprox",!0);q(X,De,Ue,"≊","\\approxeq",!0);q(X,De,pn,"⋖","\\lessdot");q(X,De,Ue,"⋘","\\lll",!0);q(X,De,Ue,"≶","\\lessgtr",!0);q(X,De,Ue,"⋚","\\lesseqgtr",!0);q(X,De,Ue,"⪋","\\lesseqqgtr",!0);q(X,De,Ue,"≑","\\doteqdot");q(X,De,Ue,"≓","\\risingdotseq",!0);q(X,De,Ue,"≒","\\fallingdotseq",!0);q(X,De,Ue,"∽","\\backsim",!0);q(X,De,Ue,"⋍","\\backsimeq",!0);q(X,De,Ue,"⫅","\\subseteqq",!0);q(X,De,Ue,"⋐","\\Subset",!0);q(X,De,Ue,"⊏","\\sqsubset",!0);q(X,De,Ue,"≼","\\preccurlyeq",!0);q(X,De,Ue,"⋞","\\curlyeqprec",!0);q(X,De,Ue,"≾","\\precsim",!0);q(X,De,Ue,"⪷","\\precapprox",!0);q(X,De,Ue,"⊲","\\vartriangleleft");q(X,De,Ue,"⊴","\\trianglelefteq");q(X,De,Ue,"⊨","\\vDash",!0);q(X,De,Ue,"⊪","\\Vvdash",!0);q(X,De,Ue,"⌣","\\smallsmile");q(X,De,Ue,"⌢","\\smallfrown");q(X,De,Ue,"≏","\\bumpeq",!0);q(X,De,Ue,"≎","\\Bumpeq",!0);q(X,De,Ue,"≧","\\geqq",!0);q(X,De,Ue,"⩾","\\geqslant",!0);q(X,De,Ue,"⪖","\\eqslantgtr",!0);q(X,De,Ue,"≳","\\gtrsim",!0);q(X,De,Ue,"⪆","\\gtrapprox",!0);q(X,De,pn,"⋗","\\gtrdot");q(X,De,Ue,"⋙","\\ggg",!0);q(X,De,Ue,"≷","\\gtrless",!0);q(X,De,Ue,"⋛","\\gtreqless",!0);q(X,De,Ue,"⪌","\\gtreqqless",!0);q(X,De,Ue,"≖","\\eqcirc",!0);q(X,De,Ue,"≗","\\circeq",!0);q(X,De,Ue,"≜","\\triangleq",!0);q(X,De,Ue,"∼","\\thicksim");q(X,De,Ue,"≈","\\thickapprox");q(X,De,Ue,"⫆","\\supseteqq",!0);q(X,De,Ue,"⋑","\\Supset",!0);q(X,De,Ue,"⊐","\\sqsupset",!0);q(X,De,Ue,"≽","\\succcurlyeq",!0);q(X,De,Ue,"⋟","\\curlyeqsucc",!0);q(X,De,Ue,"≿","\\succsim",!0);q(X,De,Ue,"⪸","\\succapprox",!0);q(X,De,Ue,"⊳","\\vartriangleright");q(X,De,Ue,"⊵","\\trianglerighteq");q(X,De,Ue,"⊩","\\Vdash",!0);q(X,De,Ue,"∣","\\shortmid");q(X,De,Ue,"∥","\\shortparallel");q(X,De,Ue,"≬","\\between",!0);q(X,De,Ue,"⋔","\\pitchfork",!0);q(X,De,Ue,"∝","\\varpropto");q(X,De,Ue,"◀","\\blacktriangleleft");q(X,De,Ue,"∴","\\therefore",!0);q(X,De,Ue,"∍","\\backepsilon");q(X,De,Ue,"▶","\\blacktriangleright");q(X,De,Ue,"∵","\\because",!0);q(X,De,Ue,"⋘","\\llless");q(X,De,Ue,"⋙","\\gggtr");q(X,De,pn,"⊲","\\lhd");q(X,De,pn,"⊳","\\rhd");q(X,De,Ue,"≂","\\eqsim",!0);q(X,le,Ue,"⋈","\\Join");q(X,De,Ue,"≑","\\Doteq",!0);q(X,De,pn,"∔","\\dotplus",!0);q(X,De,pn,"∖","\\smallsetminus");q(X,De,pn,"⋒","\\Cap",!0);q(X,De,pn,"⋓","\\Cup",!0);q(X,De,pn,"⩞","\\doublebarwedge",!0);q(X,De,pn,"⊟","\\boxminus",!0);q(X,De,pn,"⊞","\\boxplus",!0);q(X,De,pn,"⋇","\\divideontimes",!0);q(X,De,pn,"⋉","\\ltimes",!0);q(X,De,pn,"⋊","\\rtimes",!0);q(X,De,pn,"⋋","\\leftthreetimes",!0);q(X,De,pn,"⋌","\\rightthreetimes",!0);q(X,De,pn,"⋏","\\curlywedge",!0);q(X,De,pn,"⋎","\\curlyvee",!0);q(X,De,pn,"⊝","\\circleddash",!0);q(X,De,pn,"⊛","\\circledast",!0);q(X,De,pn,"⋅","\\centerdot");q(X,De,pn,"⊺","\\intercal",!0);q(X,De,pn,"⋒","\\doublecap");q(X,De,pn,"⋓","\\doublecup");q(X,De,pn,"⊠","\\boxtimes",!0);q(X,De,Ue,"⇢","\\dashrightarrow",!0);q(X,De,Ue,"⇠","\\dashleftarrow",!0);q(X,De,Ue,"⇇","\\leftleftarrows",!0);q(X,De,Ue,"⇆","\\leftrightarrows",!0);q(X,De,Ue,"⇚","\\Lleftarrow",!0);q(X,De,Ue,"↞","\\twoheadleftarrow",!0);q(X,De,Ue,"↢","\\leftarrowtail",!0);q(X,De,Ue,"↫","\\looparrowleft",!0);q(X,De,Ue,"⇋","\\leftrightharpoons",!0);q(X,De,Ue,"↶","\\curvearrowleft",!0);q(X,De,Ue,"↺","\\circlearrowleft",!0);q(X,De,Ue,"↰","\\Lsh",!0);q(X,De,Ue,"⇈","\\upuparrows",!0);q(X,De,Ue,"↿","\\upharpoonleft",!0);q(X,De,Ue,"⇃","\\downharpoonleft",!0);q(X,le,Ue,"⊶","\\origof",!0);q(X,le,Ue,"⊷","\\imageof",!0);q(X,De,Ue,"⊸","\\multimap",!0);q(X,De,Ue,"↭","\\leftrightsquigarrow",!0);q(X,De,Ue,"⇉","\\rightrightarrows",!0);q(X,De,Ue,"⇄","\\rightleftarrows",!0);q(X,De,Ue,"↠","\\twoheadrightarrow",!0);q(X,De,Ue,"↣","\\rightarrowtail",!0);q(X,De,Ue,"↬","\\looparrowright",!0);q(X,De,Ue,"↷","\\curvearrowright",!0);q(X,De,Ue,"↻","\\circlearrowright",!0);q(X,De,Ue,"↱","\\Rsh",!0);q(X,De,Ue,"⇊","\\downdownarrows",!0);q(X,De,Ue,"↾","\\upharpoonright",!0);q(X,De,Ue,"⇂","\\downharpoonright",!0);q(X,De,Ue,"⇝","\\rightsquigarrow",!0);q(X,De,Ue,"⇝","\\leadsto");q(X,De,Ue,"⇛","\\Rrightarrow",!0);q(X,De,Ue,"↾","\\restriction");q(X,le,Ze,"‘","`");q(X,le,Ze,"$","\\$");q(Ut,le,Ze,"$","\\$");q(Ut,le,Ze,"$","\\textdollar");q(X,le,Ze,"%","\\%");q(Ut,le,Ze,"%","\\%");q(X,le,Ze,"_","\\_");q(Ut,le,Ze,"_","\\_");q(Ut,le,Ze,"_","\\textunderscore");q(X,le,Ze,"∠","\\angle",!0);q(X,le,Ze,"∞","\\infty",!0);q(X,le,Ze,"′","\\prime");q(X,le,Ze,"△","\\triangle");q(X,le,Ze,"Γ","\\Gamma",!0);q(X,le,Ze,"Δ","\\Delta",!0);q(X,le,Ze,"Θ","\\Theta",!0);q(X,le,Ze,"Λ","\\Lambda",!0);q(X,le,Ze,"Ξ","\\Xi",!0);q(X,le,Ze,"Π","\\Pi",!0);q(X,le,Ze,"Σ","\\Sigma",!0);q(X,le,Ze,"Υ","\\Upsilon",!0);q(X,le,Ze,"Φ","\\Phi",!0);q(X,le,Ze,"Ψ","\\Psi",!0);q(X,le,Ze,"Ω","\\Omega",!0);q(X,le,Ze,"A","Α");q(X,le,Ze,"B","Β");q(X,le,Ze,"E","Ε");q(X,le,Ze,"Z","Ζ");q(X,le,Ze,"H","Η");q(X,le,Ze,"I","Ι");q(X,le,Ze,"K","Κ");q(X,le,Ze,"M","Μ");q(X,le,Ze,"N","Ν");q(X,le,Ze,"O","Ο");q(X,le,Ze,"P","Ρ");q(X,le,Ze,"T","Τ");q(X,le,Ze,"X","Χ");q(X,le,Ze,"¬","\\neg",!0);q(X,le,Ze,"¬","\\lnot");q(X,le,Ze,"⊤","\\top");q(X,le,Ze,"⊥","\\bot");q(X,le,Ze,"∅","\\emptyset");q(X,De,Ze,"∅","\\varnothing");q(X,le,Fn,"α","\\alpha",!0);q(X,le,Fn,"β","\\beta",!0);q(X,le,Fn,"γ","\\gamma",!0);q(X,le,Fn,"δ","\\delta",!0);q(X,le,Fn,"ϵ","\\epsilon",!0);q(X,le,Fn,"ζ","\\zeta",!0);q(X,le,Fn,"η","\\eta",!0);q(X,le,Fn,"θ","\\theta",!0);q(X,le,Fn,"ι","\\iota",!0);q(X,le,Fn,"κ","\\kappa",!0);q(X,le,Fn,"λ","\\lambda",!0);q(X,le,Fn,"μ","\\mu",!0);q(X,le,Fn,"ν","\\nu",!0);q(X,le,Fn,"ξ","\\xi",!0);q(X,le,Fn,"ο","\\omicron",!0);q(X,le,Fn,"π","\\pi",!0);q(X,le,Fn,"ρ","\\rho",!0);q(X,le,Fn,"σ","\\sigma",!0);q(X,le,Fn,"τ","\\tau",!0);q(X,le,Fn,"υ","\\upsilon",!0);q(X,le,Fn,"ϕ","\\phi",!0);q(X,le,Fn,"χ","\\chi",!0);q(X,le,Fn,"ψ","\\psi",!0);q(X,le,Fn,"ω","\\omega",!0);q(X,le,Fn,"ε","\\varepsilon",!0);q(X,le,Fn,"ϑ","\\vartheta",!0);q(X,le,Fn,"ϖ","\\varpi",!0);q(X,le,Fn,"ϱ","\\varrho",!0);q(X,le,Fn,"ς","\\varsigma",!0);q(X,le,Fn,"φ","\\varphi",!0);q(X,le,pn,"∗","*",!0);q(X,le,pn,"+","+");q(X,le,pn,"−","-",!0);q(X,le,pn,"⋅","\\cdot",!0);q(X,le,pn,"∘","\\circ",!0);q(X,le,pn,"÷","\\div",!0);q(X,le,pn,"±","\\pm",!0);q(X,le,pn,"×","\\times",!0);q(X,le,pn,"∩","\\cap",!0);q(X,le,pn,"∪","\\cup",!0);q(X,le,pn,"∖","\\setminus",!0);q(X,le,pn,"∧","\\land");q(X,le,pn,"∨","\\lor");q(X,le,pn,"∧","\\wedge",!0);q(X,le,pn,"∨","\\vee",!0);q(X,le,Ze,"√","\\surd");q(X,le,ru,"⟨","\\langle",!0);q(X,le,ru,"∣","\\lvert");q(X,le,ru,"∥","\\lVert");q(X,le,qo,"?","?");q(X,le,qo,"!","!");q(X,le,qo,"⟩","\\rangle",!0);q(X,le,qo,"∣","\\rvert");q(X,le,qo,"∥","\\rVert");q(X,le,Ue,"=","=");q(X,le,Ue,":",":");q(X,le,Ue,"≈","\\approx",!0);q(X,le,Ue,"≅","\\cong",!0);q(X,le,Ue,"≥","\\ge");q(X,le,Ue,"≥","\\geq",!0);q(X,le,Ue,"←","\\gets");q(X,le,Ue,">","\\gt",!0);q(X,le,Ue,"∈","\\in",!0);q(X,le,Ue,"","\\@not");q(X,le,Ue,"⊂","\\subset",!0);q(X,le,Ue,"⊃","\\supset",!0);q(X,le,Ue,"⊆","\\subseteq",!0);q(X,le,Ue,"⊇","\\supseteq",!0);q(X,De,Ue,"⊈","\\nsubseteq",!0);q(X,De,Ue,"⊉","\\nsupseteq",!0);q(X,le,Ue,"⊨","\\models");q(X,le,Ue,"←","\\leftarrow",!0);q(X,le,Ue,"≤","\\le");q(X,le,Ue,"≤","\\leq",!0);q(X,le,Ue,"<","\\lt",!0);q(X,le,Ue,"→","\\rightarrow",!0);q(X,le,Ue,"→","\\to");q(X,De,Ue,"≱","\\ngeq",!0);q(X,De,Ue,"≰","\\nleq",!0);q(X,le,Uf," ","\\ ");q(X,le,Uf," ","\\space");q(X,le,Uf," ","\\nobreakspace");q(Ut,le,Uf," ","\\ ");q(Ut,le,Uf," "," ");q(Ut,le,Uf," ","\\space");q(Ut,le,Uf," ","\\nobreakspace");q(X,le,Uf,null,"\\nobreak");q(X,le,Uf,null,"\\allowbreak");q(X,le,wC,",",",");q(X,le,wC,";",";");q(X,De,pn,"⊼","\\barwedge",!0);q(X,De,pn,"⊻","\\veebar",!0);q(X,le,pn,"⊙","\\odot",!0);q(X,le,pn,"⊕","\\oplus",!0);q(X,le,pn,"⊗","\\otimes",!0);q(X,le,Ze,"∂","\\partial",!0);q(X,le,pn,"⊘","\\oslash",!0);q(X,De,pn,"⊚","\\circledcirc",!0);q(X,De,pn,"⊡","\\boxdot",!0);q(X,le,pn,"△","\\bigtriangleup");q(X,le,pn,"▽","\\bigtriangledown");q(X,le,pn,"†","\\dagger");q(X,le,pn,"⋄","\\diamond");q(X,le,pn,"⋆","\\star");q(X,le,pn,"◃","\\triangleleft");q(X,le,pn,"▹","\\triangleright");q(X,le,ru,"{","\\{");q(Ut,le,Ze,"{","\\{");q(Ut,le,Ze,"{","\\textbraceleft");q(X,le,qo,"}","\\}");q(Ut,le,Ze,"}","\\}");q(Ut,le,Ze,"}","\\textbraceright");q(X,le,ru,"{","\\lbrace");q(X,le,qo,"}","\\rbrace");q(X,le,ru,"[","\\lbrack",!0);q(Ut,le,Ze,"[","\\lbrack",!0);q(X,le,qo,"]","\\rbrack",!0);q(Ut,le,Ze,"]","\\rbrack",!0);q(X,le,ru,"(","\\lparen",!0);q(X,le,qo,")","\\rparen",!0);q(Ut,le,Ze,"<","\\textless",!0);q(Ut,le,Ze,">","\\textgreater",!0);q(X,le,ru,"⌊","\\lfloor",!0);q(X,le,qo,"⌋","\\rfloor",!0);q(X,le,ru,"⌈","\\lceil",!0);q(X,le,qo,"⌉","\\rceil",!0);q(X,le,Ze,"\\","\\backslash");q(X,le,Ze,"∣","|");q(X,le,Ze,"∣","\\vert");q(Ut,le,Ze,"|","\\textbar",!0);q(X,le,Ze,"∥","\\|");q(X,le,Ze,"∥","\\Vert");q(Ut,le,Ze,"∥","\\textbardbl");q(Ut,le,Ze,"~","\\textasciitilde");q(Ut,le,Ze,"\\","\\textbackslash");q(Ut,le,Ze,"^","\\textasciicircum");q(X,le,Ue,"↑","\\uparrow",!0);q(X,le,Ue,"⇑","\\Uparrow",!0);q(X,le,Ue,"↓","\\downarrow",!0);q(X,le,Ue,"⇓","\\Downarrow",!0);q(X,le,Ue,"↕","\\updownarrow",!0);q(X,le,Ue,"⇕","\\Updownarrow",!0);q(X,le,qa,"∐","\\coprod");q(X,le,qa,"⋁","\\bigvee");q(X,le,qa,"⋀","\\bigwedge");q(X,le,qa,"⨄","\\biguplus");q(X,le,qa,"⋂","\\bigcap");q(X,le,qa,"⋃","\\bigcup");q(X,le,qa,"∫","\\int");q(X,le,qa,"∫","\\intop");q(X,le,qa,"∬","\\iint");q(X,le,qa,"∭","\\iiint");q(X,le,qa,"∏","\\prod");q(X,le,qa,"∑","\\sum");q(X,le,qa,"⨂","\\bigotimes");q(X,le,qa,"⨁","\\bigoplus");q(X,le,qa,"⨀","\\bigodot");q(X,le,qa,"∮","\\oint");q(X,le,qa,"∯","\\oiint");q(X,le,qa,"∰","\\oiiint");q(X,le,qa,"⨆","\\bigsqcup");q(X,le,qa,"∫","\\smallint");q(Ut,le,_v,"…","\\textellipsis");q(X,le,_v,"…","\\mathellipsis");q(Ut,le,_v,"…","\\ldots",!0);q(X,le,_v,"…","\\ldots",!0);q(X,le,_v,"⋯","\\@cdots",!0);q(X,le,_v,"⋱","\\ddots",!0);q(X,le,Ze,"⋮","\\varvdots");q(Ut,le,Ze,"⋮","\\varvdots");q(X,le,Yi,"ˊ","\\acute");q(X,le,Yi,"ˋ","\\grave");q(X,le,Yi,"¨","\\ddot");q(X,le,Yi,"~","\\tilde");q(X,le,Yi,"ˉ","\\bar");q(X,le,Yi,"˘","\\breve");q(X,le,Yi,"ˇ","\\check");q(X,le,Yi,"^","\\hat");q(X,le,Yi,"⃗","\\vec");q(X,le,Yi,"˙","\\dot");q(X,le,Yi,"˚","\\mathring");q(X,le,Fn,"","\\@imath");q(X,le,Fn,"","\\@jmath");q(X,le,Ze,"ı","ı");q(X,le,Ze,"ȷ","ȷ");q(Ut,le,Ze,"ı","\\i",!0);q(Ut,le,Ze,"ȷ","\\j",!0);q(Ut,le,Ze,"ß","\\ss",!0);q(Ut,le,Ze,"æ","\\ae",!0);q(Ut,le,Ze,"œ","\\oe",!0);q(Ut,le,Ze,"ø","\\o",!0);q(Ut,le,Ze,"Æ","\\AE",!0);q(Ut,le,Ze,"Œ","\\OE",!0);q(Ut,le,Ze,"Ø","\\O",!0);q(Ut,le,Yi,"ˊ","\\'");q(Ut,le,Yi,"ˋ","\\`");q(Ut,le,Yi,"ˆ","\\^");q(Ut,le,Yi,"˜","\\~");q(Ut,le,Yi,"ˉ","\\=");q(Ut,le,Yi,"˘","\\u");q(Ut,le,Yi,"˙","\\.");q(Ut,le,Yi,"¸","\\c");q(Ut,le,Yi,"˚","\\r");q(Ut,le,Yi,"ˇ","\\v");q(Ut,le,Yi,"¨",'\\"');q(Ut,le,Yi,"˝","\\H");q(Ut,le,Yi,"◯","\\textcircled");var qde={"--":!0,"---":!0,"``":!0,"''":!0};q(Ut,le,Ze,"–","--",!0);q(Ut,le,Ze,"–","\\textendash");q(Ut,le,Ze,"—","---",!0);q(Ut,le,Ze,"—","\\textemdash");q(Ut,le,Ze,"‘","`",!0);q(Ut,le,Ze,"‘","\\textquoteleft");q(Ut,le,Ze,"’","'",!0);q(Ut,le,Ze,"’","\\textquoteright");q(Ut,le,Ze,"“","``",!0);q(Ut,le,Ze,"“","\\textquotedblleft");q(Ut,le,Ze,"”","''",!0);q(Ut,le,Ze,"”","\\textquotedblright");q(X,le,Ze,"°","\\degree",!0);q(Ut,le,Ze,"°","\\degree");q(Ut,le,Ze,"°","\\textdegree",!0);q(X,le,Ze,"£","\\pounds");q(X,le,Ze,"£","\\mathsterling",!0);q(Ut,le,Ze,"£","\\pounds");q(Ut,le,Ze,"£","\\textsterling",!0);q(X,De,Ze,"✠","\\maltese");q(Ut,De,Ze,"✠","\\maltese");var $ee='0123456789/@."';for(var sD=0;sD<$ee.length;sD++){var qee=$ee.charAt(sD);q(X,le,Ze,qee,qee)}var Hee='0123456789!@*()-=+";:?/.,';for(var oD=0;oD<Hee.length;oD++){var Vee=Hee.charAt(oD);q(Ut,le,Ze,Vee,Vee)}var IT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var lD=0;lD<IT.length;lD++){var _E=IT.charAt(lD);q(X,le,Fn,_E,_E),q(Ut,le,Ze,_E,_E)}q(X,De,Ze,"C","ℂ");q(Ut,De,Ze,"C","ℂ");q(X,De,Ze,"H","ℍ");q(Ut,De,Ze,"H","ℍ");q(X,De,Ze,"N","ℕ");q(Ut,De,Ze,"N","ℕ");q(X,De,Ze,"P","ℙ");q(Ut,De,Ze,"P","ℙ");q(X,De,Ze,"Q","ℚ");q(Ut,De,Ze,"Q","ℚ");q(X,De,Ze,"R","ℝ");q(Ut,De,Ze,"R","ℝ");q(X,De,Ze,"Z","ℤ");q(Ut,De,Ze,"Z","ℤ");q(X,le,Fn,"h","ℎ");q(Ut,le,Fn,"h","ℎ");var Kn="";for(var xo=0;xo<IT.length;xo++){var ba=IT.charAt(xo);Kn=String.fromCharCode(55349,56320+xo),q(X,le,Fn,ba,Kn),q(Ut,le,Ze,ba,Kn),Kn=String.fromCharCode(55349,56372+xo),q(X,le,Fn,ba,Kn),q(Ut,le,Ze,ba,Kn),Kn=String.fromCharCode(55349,56424+xo),q(X,le,Fn,ba,Kn),q(Ut,le,Ze,ba,Kn),Kn=String.fromCharCode(55349,56580+xo),q(X,le,Fn,ba,Kn),q(Ut,le,Ze,ba,Kn),Kn=String.fromCharCode(55349,56684+xo),q(X,le,Fn,ba,Kn),q(Ut,le,Ze,ba,Kn),Kn=String.fromCharCode(55349,56736+xo),q(X,le,Fn,ba,Kn),q(Ut,le,Ze,ba,Kn),Kn=String.fromCharCode(55349,56788+xo),q(X,le,Fn,ba,Kn),q(Ut,le,Ze,ba,Kn),Kn=String.fromCharCode(55349,56840+xo),q(X,le,Fn,ba,Kn),q(Ut,le,Ze,ba,Kn),Kn=String.fromCharCode(55349,56944+xo),q(X,le,Fn,ba,Kn),q(Ut,le,Ze,ba,Kn),xo<26&&(Kn=String.fromCharCode(55349,56632+xo),q(X,le,Fn,ba,Kn),q(Ut,le,Ze,ba,Kn),Kn=String.fromCharCode(55349,56476+xo),q(X,le,Fn,ba,Kn),q(Ut,le,Ze,ba,Kn))}Kn="𝕜";q(X,le,Fn,"k",Kn);q(Ut,le,Ze,"k",Kn);for(var Rg=0;Rg<10;Rg++){var qp=Rg.toString();Kn=String.fromCharCode(55349,57294+Rg),q(X,le,Fn,qp,Kn),q(Ut,le,Ze,qp,Kn),Kn=String.fromCharCode(55349,57314+Rg),q(X,le,Fn,qp,Kn),q(Ut,le,Ze,qp,Kn),Kn=String.fromCharCode(55349,57324+Rg),q(X,le,Fn,qp,Kn),q(Ut,le,Ze,qp,Kn),Kn=String.fromCharCode(55349,57334+Rg),q(X,le,Fn,qp,Kn),q(Ut,le,Ze,qp,Kn)}var P5="ÐÞþ";for(var uD=0;uD<P5.length;uD++){var SE=P5.charAt(uD);q(X,le,Fn,SE,SE),q(Ut,le,Ze,SE,SE)}var xE=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Gee=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],fze=function(e,n){var r=e.charCodeAt(0),i=e.charCodeAt(1),a=(r-55296)*1024+(i-56320)+65536,s=n==="math"?0:1;if(119808<=a&&a<120484){var o=Math.floor((a-119808)/26);return[xE[o][2],xE[o][s]]}else if(120782<=a&&a<=120831){var l=Math.floor((a-120782)/10);return[Gee[l][2],Gee[l][s]]}else{if(a===120485||a===120486)return[xE[0][2],xE[0][s]];if(120486<a&&a<120782)return["",""];throw new Wt("Unsupported character: "+e)}},_C=function(e,n,r){return Ui[r][e]&&Ui[r][e].replace&&(e=Ui[r][e].replace),{value:e,metrics:HF(e,n,r)}},Rc=function(e,n,r,i,a){var s=_C(e,n,r),o=s.metrics;e=s.value;var l;if(o){var u=o.italic;(r==="text"||i&&i.font==="mathit")&&(u=0),l=new zu(e,o.height,o.depth,u,o.skew,o.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),l=new zu(e,0,0,0,0,0,a);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var d=i.getColor();d&&(l.style.color=d)}return l},pze=function(e,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&_C(e,"Main-Bold",n).metrics?Rc(e,"Main-Bold",n,r,i.concat(["mathbf"])):e==="\\"||Ui[n][e].font==="main"?Rc(e,"Main-Regular",n,r,i):Rc(e,"AMS-Regular",n,r,i.concat(["amsrm"]))},mze=function(e,n,r,i,a){return a!=="textord"&&_C(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},gze=function(e,n,r){var i=e.mode,a=e.text,s=["mord"],o=i==="math"||i==="text"&&n.font,l=o?n.font:n.fontFamily,u="",d="";if(a.charCodeAt(0)===55349&&([u,d]=fze(a,i)),u.length>0)return Rc(a,u,i,n,s.concat(d));if(l){var h,p;if(l==="boldsymbol"){var m=mze(a,i,n,s,r);h=m.fontName,p=[m.fontClass]}else o?(h=Gde[l].fontName,p=[l]):(h=EE(l,n.fontWeight,n.fontShape),p=[l,n.fontWeight,n.fontShape]);if(_C(a,h,i).metrics)return Rc(a,h,i,n,s.concat(p));if(qde.hasOwnProperty(a)&&h.slice(0,10)==="Typewriter"){for(var v=[],w=0;w<a.length;w++)v.push(Rc(a[w],h,i,n,s.concat(p)));return Vde(v)}}if(r==="mathord")return Rc(a,"Math-Italic",i,n,s.concat(["mathnormal"]));if(r==="textord"){var k=Ui[i][a]&&Ui[i][a].font;if(k==="ams"){var T=EE("amsrm",n.fontWeight,n.fontShape);return Rc(a,T,i,n,s.concat("amsrm",n.fontWeight,n.fontShape))}else if(k==="main"||!k){var C=EE("textrm",n.fontWeight,n.fontShape);return Rc(a,C,i,n,s.concat(n.fontWeight,n.fontShape))}else{var N=EE(k,n.fontWeight,n.fontShape);return Rc(a,N,i,n,s.concat(N,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},yze=(t,e)=>{if(Pm(t.classes)!==Pm(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},bze=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof zu&&r instanceof zu&&yze(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},GF=function(e){for(var n=0,r=0,i=0,a=0;a<e.children.length;a++){var s=e.children[a];s.height>n&&(n=s.height),s.depth>r&&(r=s.depth),s.maxFontSize>i&&(i=s.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=i},dl=function(e,n,r,i){var a=new ES(e,n,r,i);return GF(a),a},Hde=(t,e,n,r)=>new ES(t,e,n,r),vze=function(e,n,r){var i=dl([e],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=nn(i.height),i.maxFontSize=1,i},wze=function(e,n,r,i){var a=new VF(e,n,r,i);return GF(a),a},Vde=function(e){var n=new xS(e);return GF(n),n},_ze=function(e,n){return e instanceof xS?dl([],[e],n):e},Sze=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,a=i,s=1;s<n.length;s++){var o=-n[s].shift-a-n[s].elem.depth,l=o-(n[s-1].elem.height+n[s-1].elem.depth);a=a+o,r.push({type:"kern",size:l}),r.push(n[s])}return{children:r,depth:i}}var u;if(e.positionType==="top"){for(var d=e.positionData,h=0;h<e.children.length;h++){var p=e.children[h];d-=p.type==="kern"?p.size:p.elem.height+p.elem.depth}u=d}else if(e.positionType==="bottom")u=-e.positionData;else{var m=e.children[0];if(m.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-m.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-m.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},xze=function(e,n){for(var{children:r,depth:i}=Sze(e),a=0,s=0;s<r.length;s++){var o=r[s];if(o.type==="elem"){var l=o.elem;a=Math.max(a,l.maxFontSize,l.height)}}a+=2;var u=dl(["pstrut"],[]);u.style.height=nn(a);for(var d=[],h=i,p=i,m=i,v=0;v<r.length;v++){var w=r[v];if(w.type==="kern")m+=w.size;else{var k=w.elem,T=w.wrapperClasses||[],C=w.wrapperStyle||{},N=dl(T,[u,k],void 0,C);N.style.top=nn(-a-m-k.depth),w.marginLeft&&(N.style.marginLeft=w.marginLeft),w.marginRight&&(N.style.marginRight=w.marginRight),d.push(N),m+=k.height+k.depth}h=Math.min(h,m),p=Math.max(p,m)}var F=dl(["vlist"],d);F.style.height=nn(p);var D;if(h<0){var U=dl([],[]),G=dl(["vlist"],[U]);G.style.height=nn(-h);var se=dl(["vlist-s"],[new zu("​")]);D=[dl(["vlist-r"],[F,se]),dl(["vlist-r"],[G])]}else D=[dl(["vlist-r"],[F])];var re=dl(["vlist-t"],D);return D.length===2&&re.classes.push("vlist-t2"),re.height=p,re.depth=-h,re},Eze=(t,e)=>{var n=dl(["mspace"],[],e),r=oa(t,e);return n.style.marginRight=nn(r),n},EE=function(e,n,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var a;return n==="textbf"&&r==="textit"?a="BoldItalic":n==="textbf"?a="Bold":n==="textit"?a="Italic":a="Regular",i+"-"+a},Gde={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Wde={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},kze=function(e,n){var[r,i,a]=Wde[e],s=new Lm(r),o=new Cf([s],{width:nn(i),height:nn(a),style:"width:"+nn(i),viewBox:"0 0 "+1e3*i+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),l=Hde(["overlay"],[o],n);return l.height=a,l.style.height=nn(a),l.style.width=nn(i),l},pt={fontMap:Gde,makeSymbol:Rc,mathsym:pze,makeSpan:dl,makeSvgSpan:Hde,makeLineSpan:vze,makeAnchor:wze,makeFragment:Vde,wrapFragment:_ze,makeVList:xze,makeOrd:gze,makeGlue:Eze,staticSvg:kze,svgData:Wde,tryCombineChars:bze},aa={number:3,unit:"mu"},Ig={number:4,unit:"mu"},Wh={number:5,unit:"mu"},Tze={mord:{mop:aa,mbin:Ig,mrel:Wh,minner:aa},mop:{mord:aa,mop:aa,mrel:Wh,minner:aa},mbin:{mord:Ig,mop:Ig,mopen:Ig,minner:Ig},mrel:{mord:Wh,mop:Wh,mopen:Wh,minner:Wh},mopen:{},mclose:{mop:aa,mbin:Ig,mrel:Wh,minner:aa},mpunct:{mord:aa,mop:aa,mrel:Wh,mopen:aa,mclose:aa,mpunct:aa,minner:aa},minner:{mord:aa,mop:aa,mbin:Ig,mrel:Wh,mopen:aa,mpunct:aa,minner:aa}},Aze={mord:{mop:aa},mop:{mord:aa,mop:aa},mbin:{},mrel:{},mopen:{},mclose:{mop:aa},mpunct:{},minner:{mop:aa}},Kde={},NT={},OT={};function dn(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:a,mathmlBuilder:s}=t,o={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<n.length;++l)Kde[n[l]]=o;e&&(a&&(NT[e]=a),s&&(OT[e]=s))}function N0(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;dn({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var MT=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Ta=function(e){return e.type==="ordgroup"?e.body:[e]},Rf=pt.makeSpan,Cze=["leftmost","mbin","mopen","mrel","mop","mpunct"],Rze=["rightmost","mrel","mclose","mpunct"],Ize={display:Bn.DISPLAY,text:Bn.TEXT,script:Bn.SCRIPT,scriptscript:Bn.SCRIPTSCRIPT},Nze={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},rs=function(e,n,r,i){i===void 0&&(i=[null,null]);for(var a=[],s=0;s<e.length;s++){var o=Xr(e[s],n);if(o instanceof xS){var l=o.children;a.push(...l)}else a.push(o)}if(pt.tryCombineChars(a),!r)return a;var u=n;if(e.length===1){var d=e[0];d.type==="sizing"?u=n.havingSize(d.size):d.type==="styling"&&(u=n.havingStyle(Ize[d.style]))}var h=Rf([i[0]||"leftmost"],[],n),p=Rf([i[1]||"rightmost"],[],n),m=r==="root";return Wee(a,(v,w)=>{var k=w.classes[0],T=v.classes[0];k==="mbin"&&Dn.contains(Rze,T)?w.classes[0]="mord":T==="mbin"&&Dn.contains(Cze,k)&&(v.classes[0]="mord")},{node:h},p,m),Wee(a,(v,w)=>{var k=L5(w),T=L5(v),C=k&&T?v.hasClass("mtight")?Aze[k][T]:Tze[k][T]:null;if(C)return pt.makeGlue(C,u)},{node:h},p,m),a},Wee=function t(e,n,r,i,a){i&&e.push(i);for(var s=0;s<e.length;s++){var o=e[s],l=Yde(o);if(l){t(l.children,n,r,null,a);continue}var u=!o.hasClass("mspace");if(u){var d=n(o,r.node);d&&(r.insertAfter?r.insertAfter(d):(e.unshift(d),s++))}u?r.node=o:a&&o.hasClass("newline")&&(r.node=Rf(["leftmost"])),r.insertAfter=(h=>p=>{e.splice(h+1,0,p),s++})(s)}i&&e.pop()},Yde=function(e){return e instanceof xS||e instanceof VF||e instanceof ES&&e.hasClass("enclosing")?e:null},Oze=function t(e,n){var r=Yde(e);if(r){var i=r.children;if(i.length){if(n==="right")return t(i[i.length-1],"right");if(n==="left")return t(i[0],"left")}}return e},L5=function(e,n){return e?(n&&(e=Oze(e,n)),Nze[e.classes[0]]||null):null},C1=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return Rf(n.concat(r))},Xr=function(e,n,r){if(!e)return Rf();if(NT[e.type]){var i=NT[e.type](e,n);if(r&&n.size!==r.size){i=Rf(n.sizingClasses(r),[i],n);var a=n.sizeMultiplier/r.sizeMultiplier;i.height*=a,i.depth*=a}return i}else throw new Wt("Got group of unknown type: '"+e.type+"'")};function kE(t,e){var n=Rf(["base"],t,e),r=Rf(["strut"]);return r.style.height=nn(n.height+n.depth),n.depth&&(r.style.verticalAlign=nn(-n.depth)),n.children.unshift(r),n}function D5(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=rs(t,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var a=[],s=[],o=0;o<r.length;o++)if(s.push(r[o]),r[o].hasClass("mbin")||r[o].hasClass("mrel")||r[o].hasClass("allowbreak")){for(var l=!1;o<r.length-1&&r[o+1].hasClass("mspace")&&!r[o+1].hasClass("newline");)o++,s.push(r[o]),r[o].hasClass("nobreak")&&(l=!0);l||(a.push(kE(s,e)),s=[])}else r[o].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(kE(s,e)),s=[]),a.push(r[o]));s.length>0&&a.push(kE(s,e));var u;n?(u=kE(rs(n,e,!0)),u.classes=["tag"],a.push(u)):i&&a.push(i);var d=Rf(["katex-html"],a);if(d.setAttribute("aria-hidden","true"),u){var h=u.children[0];h.style.height=nn(d.height+d.depth),d.depth&&(h.style.verticalAlign=nn(-d.depth))}return d}function Xde(t){return new xS(t)}class Wl{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=Pm(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof Fd&&this.children[r+1]instanceof Fd){for(var i=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof Fd;)i+=this.children[++r].toText();e.appendChild(new Fd(i).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=Dn.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+Dn.escape(Pm(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class Fd{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Dn.escape(this.toText())}toText(){return this.text}}class Mze{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character=" ":e>=.1666&&e<=.1667?this.character=" ":e>=.2222&&e<=.2223?this.character=" ":e>=.2777&&e<=.2778?this.character="  ":e>=-.05556&&e<=-.05555?this.character=" ⁣":e>=-.1667&&e<=-.1666?this.character=" ⁣":e>=-.2223&&e<=-.2222?this.character=" ⁣":e>=-.2778&&e<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",nn(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+nn(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Ht={MathNode:Wl,TextNode:Fd,SpaceNode:Mze,newDocumentFragment:Xde},$u=function(e,n,r){return Ui[n][e]&&Ui[n][e].replace&&e.charCodeAt(0)!==55349&&!(qde.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=Ui[n][e].replace),new Ht.TextNode(e)},WF=function(e){return e.length===1?e[0]:new Ht.MathNode("mrow",e)},KF=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var a=e.text;if(Dn.contains(["\\imath","\\jmath"],a))return null;Ui[i][a]&&Ui[i][a].replace&&(a=Ui[i][a].replace);var s=pt.fontMap[r].fontName;return HF(a,s,i)?pt.fontMap[r].variant:null};function cD(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof Fd&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var n=t.children[0];return n instanceof Fd&&n.text===","}else return!1}var xl=function(e,n,r){if(e.length===1){var i=Ri(e[0],n);return r&&i instanceof Wl&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var a=[],s,o=0;o<e.length;o++){var l=Ri(e[o],n);if(l instanceof Wl&&s instanceof Wl){if(l.type==="mtext"&&s.type==="mtext"&&l.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...l.children);continue}else if(l.type==="mn"&&s.type==="mn"){s.children.push(...l.children);continue}else if(cD(l)&&s.type==="mn"){s.children.push(...l.children);continue}else if(l.type==="mn"&&cD(s))l.children=[...s.children,...l.children],a.pop();else if((l.type==="msup"||l.type==="msub")&&l.children.length>=1&&(s.type==="mn"||cD(s))){var u=l.children[0];u instanceof Wl&&u.type==="mn"&&(u.children=[...s.children,...u.children],a.pop())}else if(s.type==="mi"&&s.children.length===1){var d=s.children[0];if(d instanceof Fd&&d.text==="̸"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var h=l.children[0];h instanceof Fd&&h.text.length>0&&(h.text=h.text.slice(0,1)+"̸"+h.text.slice(1),a.pop())}}}a.push(l),s=l}return a},Dm=function(e,n,r){return WF(xl(e,n,r))},Ri=function(e,n){if(!e)return new Ht.MathNode("mrow");if(OT[e.type]){var r=OT[e.type](e,n);return r}else throw new Wt("Got group of unknown type: '"+e.type+"'")};function Kee(t,e,n,r,i){var a=xl(t,n),s;a.length===1&&a[0]instanceof Wl&&Dn.contains(["mrow","mtable"],a[0].type)?s=a[0]:s=new Ht.MathNode("mrow",a);var o=new Ht.MathNode("annotation",[new Ht.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var l=new Ht.MathNode("semantics",[s,o]),u=new Ht.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&u.setAttribute("display","block");var d=i?"katex":"katex-mathml";return pt.makeSpan([d],[u])}var Zde=function(e){return new hf({style:e.displayMode?Bn.DISPLAY:Bn.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},Qde=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=pt.makeSpan(r,[e])}return e},Pze=function(e,n,r){var i=Zde(r),a;if(r.output==="mathml")return Kee(e,n,i,r.displayMode,!0);if(r.output==="html"){var s=D5(e,i);a=pt.makeSpan(["katex"],[s])}else{var o=Kee(e,n,i,r.displayMode,!1),l=D5(e,i);a=pt.makeSpan(["katex"],[o,l])}return Qde(a,r)},Lze=function(e,n,r){var i=Zde(r),a=D5(e,i),s=pt.makeSpan(["katex"],[a]);return Qde(s,r)},Dze={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},Fze=function(e){var n=new Ht.MathNode("mo",[new Ht.TextNode(Dze[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},Bze={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Uze=function(e){return e.type==="ordgroup"?e.body.length:1},jze=function(e,n){function r(){var o=4e5,l=e.label.slice(1);if(Dn.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=e,d=Uze(u.base),h,p,m;if(d>5)l==="widehat"||l==="widecheck"?(h=420,o=2364,m=.42,p=l+"4"):(h=312,o=2340,m=.34,p="tilde4");else{var v=[1,1,2,2,3,3][d];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][v],h=[0,239,300,360,420][v],m=[0,.24,.3,.3,.36,.42][v],p=l+v):(o=[0,600,1033,2339,2340][v],h=[0,260,286,306,312][v],m=[0,.26,.286,.3,.306,.34][v],p="tilde"+v)}var w=new Lm(p),k=new Cf([w],{width:"100%",height:nn(m),viewBox:"0 0 "+o+" "+h,preserveAspectRatio:"none"});return{span:pt.makeSvgSpan([],[k],n),minWidth:0,height:m}}else{var T=[],C=Bze[l],[N,F,D]=C,U=D/1e3,G=N.length,se,re;if(G===1){var Q=C[3];se=["hide-tail"],re=[Q]}else if(G===2)se=["halfarrow-left","halfarrow-right"],re=["xMinYMin","xMaxYMin"];else if(G===3)se=["brace-left","brace-center","brace-right"],re=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+G+" children.");for(var ce=0;ce<G;ce++){var Ie=new Lm(N[ce]),qe=new Cf([Ie],{width:"400em",height:nn(U),viewBox:"0 0 "+o+" "+D,preserveAspectRatio:re[ce]+" slice"}),xe=pt.makeSvgSpan([se[ce]],[qe],n);if(G===1)return{span:xe,minWidth:F,height:U};xe.style.height=nn(U),T.push(xe)}return{span:pt.makeSpan(["stretchy"],T,n),minWidth:F,height:U}}}var{span:i,minWidth:a,height:s}=r();return i.height=s,i.style.height=nn(s),a>0&&(i.style.minWidth=nn(a)),i},zze=function(e,n,r,i,a){var s,o=e.height+e.depth+r+i;if(/fbox|color|angl/.test(n)){if(s=pt.makeSpan(["stretchy",n],[],a),n==="fbox"){var l=a.color&&a.getColor();l&&(s.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(n)&&u.push(new M5({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&u.push(new M5({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var d=new Cf(u,{width:"100%",height:nn(o)});s=pt.makeSvgSpan([],[d],a)}return s.height=o,s.style.height=nn(o),s},If={encloseSpan:zze,mathMLnode:Fze,svgSpan:jze};function gr(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function YF(t){var e=SC(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function SC(t){return t&&(t.type==="atom"||hze.hasOwnProperty(t.type))?t:null}var XF=(t,e)=>{var n,r,i;t&&t.type==="supsub"?(r=gr(t.base,"accent"),n=r.base,t.base=n,i=cze(Xr(t,e)),t.base=r):(r=gr(t,"accent"),n=r.base);var a=Xr(n,e.havingCrampedStyle()),s=r.isShifty&&Dn.isCharacterBox(n),o=0;if(s){var l=Dn.getBaseElem(n),u=Xr(l,e.havingCrampedStyle());o=zee(u).skew}var d=r.label==="\\c",h=d?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),p;if(r.isStretchy)p=If.svgSpan(r,e),p=pt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:p,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+nn(2*o)+")",marginLeft:nn(2*o)}:void 0}]},e);else{var m,v;r.label==="\\vec"?(m=pt.staticSvg("vec",e),v=pt.svgData.vec[1]):(m=pt.makeOrd({mode:r.mode,text:r.label},e,"textord"),m=zee(m),m.italic=0,v=m.width,d&&(h+=m.depth)),p=pt.makeSpan(["accent-body"],[m]);var w=r.label==="\\textcircled";w&&(p.classes.push("accent-full"),h=a.height);var k=o;w||(k-=v/2),p.style.left=nn(k),r.label==="\\textcircled"&&(p.style.top=".2em"),p=pt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-h},{type:"elem",elem:p}]},e)}var T=pt.makeSpan(["mord","accent"],[p],e);return i?(i.children[0]=T,i.height=Math.max(T.height,i.height),i.classes[0]="mord",i):T},Jde=(t,e)=>{var n=t.isStretchy?If.mathMLnode(t.label):new Ht.MathNode("mo",[$u(t.label,t.mode)]),r=new Ht.MathNode("mover",[Ri(t.base,e),n]);return r.setAttribute("accent","true"),r},$ze=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));dn({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=MT(e[0]),r=!$ze.test(t.funcName),i=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:XF,mathmlBuilder:Jde});dn({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:XF,mathmlBuilder:Jde});dn({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=Xr(t.base,e),r=If.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,a=pt.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return pt.makeSpan(["mord","accentunder"],[a],e)},mathmlBuilder:(t,e)=>{var n=If.mathMLnode(t.label),r=new Ht.MathNode("munder",[Ri(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var TE=t=>{var e=new Ht.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};dn({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),i=pt.wrapFragment(Xr(t.body,r,e),e),a=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(a+"-arrow-pad");var s;t.below&&(r=e.havingStyle(n.sub()),s=pt.wrapFragment(Xr(t.below,r,e),e),s.classes.push(a+"-arrow-pad"));var o=If.svgSpan(t,e),l=-e.fontMetrics().axisHeight+.5*o.height,u=-e.fontMetrics().axisHeight-.5*o.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(u-=i.depth);var d;if(s){var h=-e.fontMetrics().axisHeight+s.height+.5*o.height+.111;d=pt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l},{type:"elem",elem:s,shift:h}]},e)}else d=pt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l}]},e);return d.children[0].children[0].children[1].classes.push("svg-align"),pt.makeSpan(["mrel","x-arrow"],[d],e)},mathmlBuilder(t,e){var n=If.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var i=TE(Ri(t.body,e));if(t.below){var a=TE(Ri(t.below,e));r=new Ht.MathNode("munderover",[n,a,i])}else r=new Ht.MathNode("mover",[n,i])}else if(t.below){var s=TE(Ri(t.below,e));r=new Ht.MathNode("munder",[n,s])}else r=TE(),r=new Ht.MathNode("mover",[n,r]);return r}});var qze=pt.makeSpan;function ehe(t,e){var n=rs(t.body,e,!0);return qze([t.mclass],n,e)}function the(t,e){var n,r=xl(t.body,e);return t.mclass==="minner"?n=new Ht.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new Ht.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new Ht.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}dn({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:Ta(i),isCharacterBox:Dn.isCharacterBox(i)}},htmlBuilder:ehe,mathmlBuilder:the});var xC=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};dn({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:xC(e[0]),body:Ta(e[1]),isCharacterBox:Dn.isCharacterBox(e[1])}}});dn({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,i=e[1],a=e[0],s;r!=="\\stackrel"?s=xC(i):s="mrel";var o={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:Ta(i)},l={type:"supsub",mode:a.mode,base:o,sup:r==="\\underset"?null:a,sub:r==="\\underset"?a:null};return{type:"mclass",mode:n.mode,mclass:s,body:[l],isCharacterBox:Dn.isCharacterBox(l)}},htmlBuilder:ehe,mathmlBuilder:the});dn({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:xC(e[0]),body:Ta(e[0])}},htmlBuilder(t,e){var n=rs(t.body,e,!0),r=pt.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=xl(t.body,e),r=new Ht.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var Hze={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Yee=()=>({type:"styling",body:[],mode:"math",style:"display"}),Xee=t=>t.type==="textord"&&t.text==="@",Vze=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function Gze(t,e,n){var r=Hze[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:r,mode:"math",family:"rel"},s=n.callFunction("\\Big",[a],[]),o=n.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[i,s,o]};return n.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function Wze(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Wt("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],i=[r],a=0;a<e.length;a++){for(var s=e[a],o=Yee(),l=0;l<s.length;l++)if(!Xee(s[l]))o.body.push(s[l]);else{r.push(o),l+=1;var u=YF(s[l]).text,d=new Array(2);if(d[0]={type:"ordgroup",mode:"math",body:[]},d[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var h=0;h<2;h++){for(var p=!0,m=l+1;m<s.length;m++){if(Vze(s[m],u)){p=!1,l=m;break}if(Xee(s[m]))throw new Wt("Missing a "+u+" character to complete a CD arrow.",s[m]);d[h].body.push(s[m])}if(p)throw new Wt("Missing a "+u+" character to complete a CD arrow.",s[l])}else throw new Wt('Expected one of "<>AV=|." after @',s[l]);var v=Gze(u,d,t),w={type:"styling",body:[v],mode:"math",style:"display"};r.push(w),o=Yee()}a%2===0?r.push(o):r.shift(),r=[],i.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var k=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:k,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}dn({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=pt.wrapFragment(Xr(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=nn(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new Ht.MathNode("mrow",[Ri(t.label,e)]);return n=new Ht.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new Ht.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});dn({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=pt.wrapFragment(Xr(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new Ht.MathNode("mrow",[Ri(t.fragment,e)])}});dn({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=gr(e[0],"ordgroup"),i=r.body,a="",s=0;s<i.length;s++){var o=gr(i[s],"textord");a+=o.text}var l=parseInt(a),u;if(isNaN(l))throw new Wt("\\@char has non-numeric argument "+a);if(l<0||l>=1114111)throw new Wt("\\@char with invalid code point "+a);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:n.mode,text:u}}});var nhe=(t,e)=>{var n=rs(t.body,e.withColor(t.color),!1);return pt.makeFragment(n)},rhe=(t,e)=>{var n=xl(t.body,e.withColor(t.color)),r=new Ht.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};dn({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=gr(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:Ta(i)}},htmlBuilder:nhe,mathmlBuilder:rhe});dn({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=gr(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var a=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:a}},htmlBuilder:nhe,mathmlBuilder:rhe});dn({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,a=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:a,size:i&&gr(i,"size").value}},htmlBuilder(t,e){var n=pt.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=nn(oa(t.size,e)))),n},mathmlBuilder(t,e){var n=new Ht.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",nn(oa(t.size,e)))),n}});var F5={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},ihe=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Wt("Expected a control sequence",t);return e},Kze=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},ahe=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};dn({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(F5[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=F5[r.text]),gr(e.parseFunction(),"internal");throw new Wt("Invalid token after macro prefix",r)}});dn({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new Wt("Expected a control sequence",r);for(var a=0,s,o=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){s=e.gullet.future(),o[a].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new Wt('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==a+1)throw new Wt('Argument number "'+r.text+'" out of order');a++,o.push([])}else{if(r.text==="EOF")throw new Wt("Expected a macro definition");o[a].push(r.text)}var{tokens:l}=e.gullet.consumeArg();return s&&l.unshift(s),(n==="\\edef"||n==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(i,{tokens:l,numArgs:a,delimiters:o},n===F5[n]),{type:"internal",mode:e.mode}}});dn({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=ihe(e.gullet.popToken());e.gullet.consumeSpaces();var i=Kze(e);return ahe(e,r,i,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});dn({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=ihe(e.gullet.popToken()),i=e.gullet.popToken(),a=e.gullet.popToken();return ahe(e,r,a,n==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var Xw=function(e,n,r){var i=Ui.math[e]&&Ui.math[e].replace,a=HF(i||e,n,r);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return a},ZF=function(e,n,r,i){var a=r.havingBaseStyle(n),s=pt.makeSpan(i.concat(a.sizingClasses(r)),[e],r),o=a.sizeMultiplier/r.sizeMultiplier;return s.height*=o,s.depth*=o,s.maxFontSize=a.sizeMultiplier,s},she=function(e,n,r){var i=n.havingBaseStyle(r),a=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=nn(a),e.height-=a,e.depth+=a},Yze=function(e,n,r,i,a,s){var o=pt.makeSymbol(e,"Main-Regular",a,i),l=ZF(o,n,i,s);return r&&she(l,i,n),l},Xze=function(e,n,r,i){return pt.makeSymbol(e,"Size"+n+"-Regular",r,i)},ohe=function(e,n,r,i,a,s){var o=Xze(e,n,a,i),l=ZF(pt.makeSpan(["delimsizing","size"+n],[o],i),Bn.TEXT,i,s);return r&&she(l,i,Bn.TEXT),l},dD=function(e,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var a=pt.makeSpan(["delimsizinginner",i],[pt.makeSpan([],[pt.makeSymbol(e,n,r)])]);return{type:"elem",elem:a}},hD=function(e,n,r){var i=Dd["Size4-Regular"][e.charCodeAt(0)]?Dd["Size4-Regular"][e.charCodeAt(0)][4]:Dd["Size1-Regular"][e.charCodeAt(0)][4],a=new Lm("inner",tze(e,Math.round(1e3*n))),s=new Cf([a],{width:nn(i),height:nn(n),style:"width:"+nn(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),o=pt.makeSvgSpan([],[s],r);return o.height=n,o.style.height=nn(n),o.style.width=nn(i),{type:"elem",elem:o}},B5=.008,AE={type:"kern",size:-1*B5},Zze=["|","\\lvert","\\rvert","\\vert"],Qze=["\\|","\\lVert","\\rVert","\\Vert"],lhe=function(e,n,r,i,a,s){var o,l,u,d,h="",p=0;o=u=d=e,l=null;var m="Size1-Regular";e==="\\uparrow"?u=d="⏐":e==="\\Uparrow"?u=d="‖":e==="\\downarrow"?o=u="⏐":e==="\\Downarrow"?o=u="‖":e==="\\updownarrow"?(o="\\uparrow",u="⏐",d="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",u="‖",d="\\Downarrow"):Dn.contains(Zze,e)?(u="∣",h="vert",p=333):Dn.contains(Qze,e)?(u="∥",h="doublevert",p=556):e==="["||e==="\\lbrack"?(o="⎡",u="⎢",d="⎣",m="Size4-Regular",h="lbrack",p=667):e==="]"||e==="\\rbrack"?(o="⎤",u="⎥",d="⎦",m="Size4-Regular",h="rbrack",p=667):e==="\\lfloor"||e==="⌊"?(u=o="⎢",d="⎣",m="Size4-Regular",h="lfloor",p=667):e==="\\lceil"||e==="⌈"?(o="⎡",u=d="⎢",m="Size4-Regular",h="lceil",p=667):e==="\\rfloor"||e==="⌋"?(u=o="⎥",d="⎦",m="Size4-Regular",h="rfloor",p=667):e==="\\rceil"||e==="⌉"?(o="⎤",u=d="⎥",m="Size4-Regular",h="rceil",p=667):e==="("||e==="\\lparen"?(o="⎛",u="⎜",d="⎝",m="Size4-Regular",h="lparen",p=875):e===")"||e==="\\rparen"?(o="⎞",u="⎟",d="⎠",m="Size4-Regular",h="rparen",p=875):e==="\\{"||e==="\\lbrace"?(o="⎧",l="⎨",d="⎩",u="⎪",m="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="⎫",l="⎬",d="⎭",u="⎪",m="Size4-Regular"):e==="\\lgroup"||e==="⟮"?(o="⎧",d="⎩",u="⎪",m="Size4-Regular"):e==="\\rgroup"||e==="⟯"?(o="⎫",d="⎭",u="⎪",m="Size4-Regular"):e==="\\lmoustache"||e==="⎰"?(o="⎧",d="⎭",u="⎪",m="Size4-Regular"):(e==="\\rmoustache"||e==="⎱")&&(o="⎫",d="⎩",u="⎪",m="Size4-Regular");var v=Xw(o,m,a),w=v.height+v.depth,k=Xw(u,m,a),T=k.height+k.depth,C=Xw(d,m,a),N=C.height+C.depth,F=0,D=1;if(l!==null){var U=Xw(l,m,a);F=U.height+U.depth,D=2}var G=w+N+F,se=Math.max(0,Math.ceil((n-G)/(D*T))),re=G+se*D*T,Q=i.fontMetrics().axisHeight;r&&(Q*=i.sizeMultiplier);var ce=re/2-Q,Ie=[];if(h.length>0){var qe=re-w-N,xe=Math.round(re*1e3),Ce=nze(h,Math.round(qe*1e3)),ue=new Lm(h,Ce),ke=(p/1e3).toFixed(3)+"em",Te=(xe/1e3).toFixed(3)+"em",he=new Cf([ue],{width:ke,height:Te,viewBox:"0 0 "+p+" "+xe}),j=pt.makeSvgSpan([],[he],i);j.height=xe/1e3,j.style.width=ke,j.style.height=Te,Ie.push({type:"elem",elem:j})}else{if(Ie.push(dD(d,m,a)),Ie.push(AE),l===null){var pe=re-w-N+2*B5;Ie.push(hD(u,pe,i))}else{var Ne=(re-w-N-F)/2+2*B5;Ie.push(hD(u,Ne,i)),Ie.push(AE),Ie.push(dD(l,m,a)),Ie.push(AE),Ie.push(hD(u,Ne,i))}Ie.push(AE),Ie.push(dD(o,m,a))}var ae=i.havingBaseStyle(Bn.TEXT),He=pt.makeVList({positionType:"bottom",positionData:ce,children:Ie},ae);return ZF(pt.makeSpan(["delimsizing","mult"],[He],ae),Bn.TEXT,i,s)},fD=80,pD=.08,mD=function(e,n,r,i,a){var s=eze(e,i,r),o=new Lm(e,s),l=new Cf([o],{width:"400em",height:nn(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return pt.makeSvgSpan(["hide-tail"],[l],a)},Jze=function(e,n){var r=n.havingBaseSizing(),i=hhe("\\surd",e*r.sizeMultiplier,dhe,r),a=r.sizeMultiplier,s=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),o,l=0,u=0,d=0,h;return i.type==="small"?(d=1e3+1e3*s+fD,e<1?a=1:e<1.4&&(a=.7),l=(1+s+pD)/a,u=(1+s)/a,o=mD("sqrtMain",l,d,s,n),o.style.minWidth="0.853em",h=.833/a):i.type==="large"?(d=(1e3+fD)*U_[i.size],u=(U_[i.size]+s)/a,l=(U_[i.size]+s+pD)/a,o=mD("sqrtSize"+i.size,l,d,s,n),o.style.minWidth="1.02em",h=1/a):(l=e+s+pD,u=e+s,d=Math.floor(1e3*e+s)+fD,o=mD("sqrtTall",l,d,s,n),o.style.minWidth="0.742em",h=1.056),o.height=u,o.style.height=nn(l),{span:o,advanceWidth:h,ruleWidth:(n.fontMetrics().sqrtRuleThickness+s)*a}},uhe=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],e$e=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],che=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],U_=[0,1.2,1.8,2.4,3],t$e=function(e,n,r,i,a){if(e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),Dn.contains(uhe,e)||Dn.contains(che,e))return ohe(e,n,!1,r,i,a);if(Dn.contains(e$e,e))return lhe(e,U_[n],!1,r,i,a);throw new Wt("Illegal delimiter: '"+e+"'")},n$e=[{type:"small",style:Bn.SCRIPTSCRIPT},{type:"small",style:Bn.SCRIPT},{type:"small",style:Bn.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],r$e=[{type:"small",style:Bn.SCRIPTSCRIPT},{type:"small",style:Bn.SCRIPT},{type:"small",style:Bn.TEXT},{type:"stack"}],dhe=[{type:"small",style:Bn.SCRIPTSCRIPT},{type:"small",style:Bn.SCRIPT},{type:"small",style:Bn.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],i$e=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},hhe=function(e,n,r,i){for(var a=Math.min(2,3-i.style.size),s=a;s<r.length&&r[s].type!=="stack";s++){var o=Xw(e,i$e(r[s]),"math"),l=o.height+o.depth;if(r[s].type==="small"){var u=i.havingBaseStyle(r[s].style);l*=u.sizeMultiplier}if(l>n)return r[s]}return r[r.length-1]},fhe=function(e,n,r,i,a,s){e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle");var o;Dn.contains(che,e)?o=n$e:Dn.contains(uhe,e)?o=dhe:o=r$e;var l=hhe(e,n,o,i);return l.type==="small"?Yze(e,l.style,r,i,a,s):l.type==="large"?ohe(e,l.size,r,i,a,s):lhe(e,n,r,i,a,s)},a$e=function(e,n,r,i,a,s){var o=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,u=5/i.fontMetrics().ptPerEm,d=Math.max(n-o,r+o),h=Math.max(d/500*l,2*d-u);return fhe(e,h,!0,i,a,s)},wf={sqrtImage:Jze,sizedDelim:t$e,sizeToMaxHeight:U_,customSizedDelim:fhe,leftRightDelim:a$e},Zee={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},s$e=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function EC(t,e){var n=SC(t);if(n&&Dn.contains(s$e,n.text))return n;throw n?new Wt("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new Wt("Invalid delimiter type '"+t.type+"'",t)}dn({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=EC(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:Zee[t.funcName].size,mclass:Zee[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?pt.makeSpan([t.mclass]):wf.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push($u(t.delim,t.mode));var n=new Ht.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=nn(wf.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function Qee(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}dn({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new Wt("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:EC(e[0],t).text,color:n}}});dn({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=EC(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var a=gr(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:a.delim,rightColor:a.color}},htmlBuilder:(t,e)=>{Qee(t);for(var n=rs(t.body,e,!0,["mopen","mclose"]),r=0,i=0,a=!1,s=0;s<n.length;s++)n[s].isMiddle?a=!0:(r=Math.max(n[s].height,r),i=Math.max(n[s].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var o;if(t.left==="."?o=C1(e,["mopen"]):o=wf.leftRightDelim(t.left,r,i,e,t.mode,["mopen"]),n.unshift(o),a)for(var l=1;l<n.length;l++){var u=n[l],d=u.isMiddle;d&&(n[l]=wf.leftRightDelim(d.delim,r,i,d.options,t.mode,[]))}var h;if(t.right===".")h=C1(e,["mclose"]);else{var p=t.rightColor?e.withColor(t.rightColor):e;h=wf.leftRightDelim(t.right,r,i,p,t.mode,["mclose"])}return n.push(h),pt.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{Qee(t);var n=xl(t.body,e);if(t.left!=="."){var r=new Ht.MathNode("mo",[$u(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var i=new Ht.MathNode("mo",[$u(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return WF(n)}});dn({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=EC(e[0],t);if(!t.parser.leftrightDepth)throw new Wt("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=C1(e,[]);else{n=wf.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?$u("|","text"):$u(t.delim,t.mode),r=new Ht.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var QF=(t,e)=>{var n=pt.wrapFragment(Xr(t.body,e),e),r=t.label.slice(1),i=e.sizeMultiplier,a,s=0,o=Dn.isCharacterBox(t.body);if(r==="sout")a=pt.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/i,s=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var l=oa({number:.6,unit:"pt"},e),u=oa({number:.35,unit:"ex"},e),d=e.havingBaseSizing();i=i/d.sizeMultiplier;var h=n.height+n.depth+l+u;n.style.paddingLeft=nn(h/2+l);var p=Math.floor(1e3*h*i),m=Qje(p),v=new Cf([new Lm("phase",m)],{width:"400em",height:nn(p/1e3),viewBox:"0 0 400000 "+p,preserveAspectRatio:"xMinYMin slice"});a=pt.makeSvgSpan(["hide-tail"],[v],e),a.style.height=nn(h),s=n.depth+l+u}else{/cancel/.test(r)?o||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var w=0,k=0,T=0;/box/.test(r)?(T=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),w=e.fontMetrics().fboxsep+(r==="colorbox"?0:T),k=w):r==="angl"?(T=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),w=4*T,k=Math.max(0,.25-n.depth)):(w=o?.2:0,k=w),a=If.encloseSpan(n,r,w,k,e),/fbox|boxed|fcolorbox/.test(r)?(a.style.borderStyle="solid",a.style.borderWidth=nn(T)):r==="angl"&&T!==.049&&(a.style.borderTopWidth=nn(T),a.style.borderRightWidth=nn(T)),s=n.depth+k,t.backgroundColor&&(a.style.backgroundColor=t.backgroundColor,t.borderColor&&(a.style.borderColor=t.borderColor))}var C;if(t.backgroundColor)C=pt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:n,shift:0}]},e);else{var N=/cancel|phase/.test(r)?["svg-align"]:[];C=pt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:N}]},e)}return/cancel/.test(r)&&(C.height=n.height,C.depth=n.depth),/cancel/.test(r)&&!o?pt.makeSpan(["mord","cancel-lap"],[C],e):pt.makeSpan(["mord"],[C],e)},JF=(t,e)=>{var n=0,r=new Ht.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Ri(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};dn({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,a=gr(e[0],"color-token").color,s=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:a,body:s}},htmlBuilder:QF,mathmlBuilder:JF});dn({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,a=gr(e[0],"color-token").color,s=gr(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,borderColor:a,body:o}},htmlBuilder:QF,mathmlBuilder:JF});dn({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});dn({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:QF,mathmlBuilder:JF});dn({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var phe={};function th(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:a,mathmlBuilder:s}=t,o={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<n.length;++l)phe[n[l]]=o;a&&(NT[e]=a),s&&(OT[e]=s)}var mhe={};function ve(t,e){mhe[t]=e}function Jee(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var kC=t=>{var e=t.parser.settings;if(!e.displayMode)throw new Wt("{"+t.envName+"} can be used only in display mode.")};function e9(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Ym(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:a,arraystretch:s,colSeparationType:o,autoTag:l,singleRow:u,emptySingleRow:d,maxNumCols:h,leqno:p}=e;if(t.gullet.beginGroup(),u||t.gullet.macros.set("\\cr","\\\\\\relax"),!s){var m=t.gullet.expandMacroAsText("\\arraystretch");if(m==null)s=1;else if(s=parseFloat(m),!s||s<0)throw new Wt("Invalid \\arraystretch: "+m)}t.gullet.beginGroup();var v=[],w=[v],k=[],T=[],C=l!=null?[]:void 0;function N(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function F(){C&&(t.gullet.macros.get("\\df@tag")?(C.push(t.subparse([new zd("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):C.push(!!l&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(N(),T.push(Jee(t));;){var D=t.parseExpression(!1,u?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),D={type:"ordgroup",mode:t.mode,body:D},n&&(D={type:"styling",mode:t.mode,style:n,body:[D]}),v.push(D);var U=t.fetch().text;if(U==="&"){if(h&&v.length===h){if(u||o)throw new Wt("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(U==="\\end"){F(),v.length===1&&D.type==="styling"&&D.body[0].body.length===0&&(w.length>1||!d)&&w.pop(),T.length<w.length+1&&T.push([]);break}else if(U==="\\\\"){t.consume();var G=void 0;t.gullet.future().text!==" "&&(G=t.parseSizeGroup(!0)),k.push(G?G.value:null),F(),T.push(Jee(t)),v=[],w.push(v),N()}else throw new Wt("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:s,body:w,cols:a,rowGaps:k,hskipBeforeAndAfter:r,hLinesBeforeRow:T,colSeparationType:o,tags:C,leqno:p}}function t9(t){return t.slice(0,1)==="d"?"display":"text"}var nh=function(e,n){var r,i,a=e.body.length,s=e.hLinesBeforeRow,o=0,l=new Array(a),u=[],d=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),h=1/n.fontMetrics().ptPerEm,p=5*h;if(e.colSeparationType&&e.colSeparationType==="small"){var m=n.havingStyle(Bn.SCRIPT).sizeMultiplier;p=.2778*(m/n.sizeMultiplier)}var v=e.colSeparationType==="CD"?oa({number:3,unit:"ex"},n):12*h,w=3*h,k=e.arraystretch*v,T=.7*k,C=.3*k,N=0;function F(tr){for(var nr=0;nr<tr.length;++nr)nr>0&&(N+=.25),u.push({pos:N,isDashed:tr[nr]})}for(F(s[0]),r=0;r<e.body.length;++r){var D=e.body[r],U=T,G=C;o<D.length&&(o=D.length);var se=new Array(D.length);for(i=0;i<D.length;++i){var re=Xr(D[i],n);G<re.depth&&(G=re.depth),U<re.height&&(U=re.height),se[i]=re}var Q=e.rowGaps[r],ce=0;Q&&(ce=oa(Q,n),ce>0&&(ce+=C,G<ce&&(G=ce),ce=0)),e.addJot&&(G+=w),se.height=U,se.depth=G,N+=U,se.pos=N,N+=G+ce,l[r]=se,F(s[r+1])}var Ie=N/2+n.fontMetrics().axisHeight,qe=e.cols||[],xe=[],Ce,ue,ke=[];if(e.tags&&e.tags.some(tr=>tr))for(r=0;r<a;++r){var Te=l[r],he=Te.pos-Ie,j=e.tags[r],pe=void 0;j===!0?pe=pt.makeSpan(["eqn-num"],[],n):j===!1?pe=pt.makeSpan([],[],n):pe=pt.makeSpan([],rs(j,n,!0),n),pe.depth=Te.depth,pe.height=Te.height,ke.push({type:"elem",elem:pe,shift:he})}for(i=0,ue=0;i<o||ue<qe.length;++i,++ue){for(var Ne=qe[ue]||{},ae=!0;Ne.type==="separator";){if(ae||(Ce=pt.makeSpan(["arraycolsep"],[]),Ce.style.width=nn(n.fontMetrics().doubleRuleSep),xe.push(Ce)),Ne.separator==="|"||Ne.separator===":"){var He=Ne.separator==="|"?"solid":"dashed",it=pt.makeSpan(["vertical-separator"],[],n);it.style.height=nn(N),it.style.borderRightWidth=nn(d),it.style.borderRightStyle=He,it.style.margin="0 "+nn(-d/2);var Xe=N-Ie;Xe&&(it.style.verticalAlign=nn(-Xe)),xe.push(it)}else throw new Wt("Invalid separator type: "+Ne.separator);ue++,Ne=qe[ue]||{},ae=!1}if(!(i>=o)){var Ke=void 0;(i>0||e.hskipBeforeAndAfter)&&(Ke=Dn.deflt(Ne.pregap,p),Ke!==0&&(Ce=pt.makeSpan(["arraycolsep"],[]),Ce.style.width=nn(Ke),xe.push(Ce)));var ct=[];for(r=0;r<a;++r){var de=l[r],Se=de[i];if(Se){var ht=de.pos-Ie;Se.depth=de.depth,Se.height=de.height,ct.push({type:"elem",elem:Se,shift:ht})}}ct=pt.makeVList({positionType:"individualShift",children:ct},n),ct=pt.makeSpan(["col-align-"+(Ne.align||"c")],[ct]),xe.push(ct),(i<o-1||e.hskipBeforeAndAfter)&&(Ke=Dn.deflt(Ne.postgap,p),Ke!==0&&(Ce=pt.makeSpan(["arraycolsep"],[]),Ce.style.width=nn(Ke),xe.push(Ce)))}}if(l=pt.makeSpan(["mtable"],xe),u.length>0){for(var vt=pt.makeLineSpan("hline",n,d),Dt=pt.makeLineSpan("hdashline",n,d),an=[{type:"elem",elem:l,shift:0}];u.length>0;){var Nt=u.pop(),Un=Nt.pos-Ie;Nt.isDashed?an.push({type:"elem",elem:Dt,shift:Un}):an.push({type:"elem",elem:vt,shift:Un})}l=pt.makeVList({positionType:"individualShift",children:an},n)}if(ke.length===0)return pt.makeSpan(["mord"],[l],n);var rn=pt.makeVList({positionType:"individualShift",children:ke},n);return rn=pt.makeSpan(["tag"],[rn],n),pt.makeFragment([l,rn])},o$e={c:"center ",l:"left ",r:"right "},rh=function(e,n){for(var r=[],i=new Ht.MathNode("mtd",[],["mtr-glue"]),a=new Ht.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<e.body.length;s++){for(var o=e.body[s],l=[],u=0;u<o.length;u++)l.push(new Ht.MathNode("mtd",[Ri(o[u],n)]));e.tags&&e.tags[s]&&(l.unshift(i),l.push(i),e.leqno?l.unshift(a):l.push(a)),r.push(new Ht.MathNode("mtr",l))}var d=new Ht.MathNode("mtable",r),h=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);d.setAttribute("rowspacing",nn(h));var p="",m="";if(e.cols&&e.cols.length>0){var v=e.cols,w="",k=!1,T=0,C=v.length;v[0].type==="separator"&&(p+="top ",T=1),v[v.length-1].type==="separator"&&(p+="bottom ",C-=1);for(var N=T;N<C;N++)v[N].type==="align"?(m+=o$e[v[N].align],k&&(w+="none "),k=!0):v[N].type==="separator"&&k&&(w+=v[N].separator==="|"?"solid ":"dashed ",k=!1);d.setAttribute("columnalign",m.trim()),/[sd]/.test(w)&&d.setAttribute("columnlines",w.trim())}if(e.colSeparationType==="align"){for(var F=e.cols||[],D="",U=1;U<F.length;U++)D+=U%2?"0em ":"1em ";d.setAttribute("columnspacing",D.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?d.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?d.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?d.setAttribute("columnspacing","0.5em"):d.setAttribute("columnspacing","1em");var G="",se=e.hLinesBeforeRow;p+=se[0].length>0?"left ":"",p+=se[se.length-1].length>0?"right ":"";for(var re=1;re<se.length-1;re++)G+=se[re].length===0?"none ":se[re][0]?"dashed ":"solid ";return/[sd]/.test(G)&&d.setAttribute("rowlines",G.trim()),p!==""&&(d=new Ht.MathNode("menclose",[d]),d.setAttribute("notation",p.trim())),e.arraystretch&&e.arraystretch<1&&(d=new Ht.MathNode("mstyle",[d]),d.setAttribute("scriptlevel","1")),d},ghe=function(e,n){e.envName.indexOf("ed")===-1&&kC(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",s=Ym(e.parser,{cols:r,addJot:!0,autoTag:a?void 0:e9(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),o,l=0,u={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var d="",h=0;h<n[0].body.length;h++){var p=gr(n[0].body[h],"textord");d+=p.text}o=Number(d),l=o*2}var m=!l;s.body.forEach(function(T){for(var C=1;C<T.length;C+=2){var N=gr(T[C],"styling"),F=gr(N.body[0],"ordgroup");F.body.unshift(u)}if(m)l<T.length&&(l=T.length);else{var D=T.length/2;if(o<D)throw new Wt("Too many math in a row: "+("expected "+o+", but got "+D),T[0])}});for(var v=0;v<l;++v){var w="r",k=0;v%2===1?w="l":v>0&&m&&(k=1),r[v]={type:"align",align:w,pregap:k,postgap:0}}return s.colSeparationType=m?"align":"alignat",s};th({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=SC(e[0]),r=n?[e[0]]:gr(e[0],"ordgroup").body,i=r.map(function(s){var o=YF(s),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new Wt("Unknown column alignment: "+l,s)}),a={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Ym(t.parser,a,t9(t.envName))},htmlBuilder:nh,mathmlBuilder:rh});th({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new Wt("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var a=Ym(t.parser,r,t9(t.envName)),s=Math.max(0,...a.body.map(o=>o.length));return a.cols=new Array(s).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:nh,mathmlBuilder:rh});th({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=Ym(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:nh,mathmlBuilder:rh});th({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=SC(e[0]),r=n?[e[0]]:gr(e[0],"ordgroup").body,i=r.map(function(s){var o=YF(s),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new Wt("Unknown column alignment: "+l,s)});if(i.length>1)throw new Wt("{subarray} can contain only one column");var a={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=Ym(t.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new Wt("{subarray} can contain only one column");return a},htmlBuilder:nh,mathmlBuilder:rh});th({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=Ym(t.parser,e,t9(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:nh,mathmlBuilder:rh});th({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:ghe,htmlBuilder:nh,mathmlBuilder:rh});th({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){Dn.contains(["gather","gather*"],t.envName)&&kC(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:e9(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Ym(t.parser,e,"display")},htmlBuilder:nh,mathmlBuilder:rh});th({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:ghe,htmlBuilder:nh,mathmlBuilder:rh});th({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){kC(t);var e={autoTag:e9(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Ym(t.parser,e,"display")},htmlBuilder:nh,mathmlBuilder:rh});th({type:"array",names:["CD"],props:{numArgs:0},handler(t){return kC(t),Wze(t.parser)},htmlBuilder:nh,mathmlBuilder:rh});ve("\\nonumber","\\gdef\\@eqnsw{0}");ve("\\notag","\\nonumber");dn({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new Wt(t.funcName+" valid only within array environment")}});var ete=phe;dn({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if(i.type!=="ordgroup")throw new Wt("Invalid environment name",i);for(var a="",s=0;s<i.body.length;++s)a+=gr(i.body[s],"textord").text;if(r==="\\begin"){if(!ete.hasOwnProperty(a))throw new Wt("No such environment: "+a,i);var o=ete[a],{args:l,optArgs:u}=n.parseArguments("\\begin{"+a+"}",o),d={mode:n.mode,envName:a,parser:n},h=o.handler(d,l,u);n.expect("\\end",!1);var p=n.nextToken,m=gr(n.parseFunction(),"environment");if(m.name!==a)throw new Wt("Mismatch: \\begin{"+a+"} matched by \\end{"+m.name+"}",p);return h}return{type:"environment",mode:n.mode,name:a,nameGroup:i}}});var yhe=(t,e)=>{var n=t.font,r=e.withFont(n);return Xr(t.body,r)},bhe=(t,e)=>{var n=t.font,r=e.withFont(n);return Ri(t.body,r)},tte={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};dn({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=MT(e[0]),a=r;return a in tte&&(a=tte[a]),{type:"font",mode:n.mode,font:a.slice(1),body:i}},htmlBuilder:yhe,mathmlBuilder:bhe});dn({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=Dn.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:xC(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});dn({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:a}=n,s=n.parseExpression(!0,i),o="math"+r.slice(1);return{type:"font",mode:a,font:o,body:{type:"ordgroup",mode:n.mode,body:s}}},htmlBuilder:yhe,mathmlBuilder:bhe});var vhe=(t,e)=>{var n=e;return t==="display"?n=n.id>=Bn.SCRIPT.id?n.text():Bn.DISPLAY:t==="text"&&n.size===Bn.DISPLAY.size?n=Bn.TEXT:t==="script"?n=Bn.SCRIPT:t==="scriptscript"&&(n=Bn.SCRIPTSCRIPT),n},n9=(t,e)=>{var n=vhe(t.size,e.style),r=n.fracNum(),i=n.fracDen(),a;a=e.havingStyle(r);var s=Xr(t.numer,a,e);if(t.continued){var o=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;s.height=s.height<o?o:s.height,s.depth=s.depth<l?l:s.depth}a=e.havingStyle(i);var u=Xr(t.denom,a,e),d,h,p;t.hasBarLine?(t.barSize?(h=oa(t.barSize,e),d=pt.makeLineSpan("frac-line",e,h)):d=pt.makeLineSpan("frac-line",e),h=d.height,p=d.height):(d=null,h=0,p=e.fontMetrics().defaultRuleThickness);var m,v,w;n.size===Bn.DISPLAY.size||t.size==="display"?(m=e.fontMetrics().num1,h>0?v=3*p:v=7*p,w=e.fontMetrics().denom1):(h>0?(m=e.fontMetrics().num2,v=p):(m=e.fontMetrics().num3,v=3*p),w=e.fontMetrics().denom2);var k;if(d){var C=e.fontMetrics().axisHeight;m-s.depth-(C+.5*h)<v&&(m+=v-(m-s.depth-(C+.5*h))),C-.5*h-(u.height-w)<v&&(w+=v-(C-.5*h-(u.height-w)));var N=-(C-.5*h);k=pt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:w},{type:"elem",elem:d,shift:N},{type:"elem",elem:s,shift:-m}]},e)}else{var T=m-s.depth-(u.height-w);T<v&&(m+=.5*(v-T),w+=.5*(v-T)),k=pt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:w},{type:"elem",elem:s,shift:-m}]},e)}a=e.havingStyle(n),k.height*=a.sizeMultiplier/e.sizeMultiplier,k.depth*=a.sizeMultiplier/e.sizeMultiplier;var F;n.size===Bn.DISPLAY.size?F=e.fontMetrics().delim1:n.size===Bn.SCRIPTSCRIPT.size?F=e.havingStyle(Bn.SCRIPT).fontMetrics().delim2:F=e.fontMetrics().delim2;var D,U;return t.leftDelim==null?D=C1(e,["mopen"]):D=wf.customSizedDelim(t.leftDelim,F,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?U=pt.makeSpan([]):t.rightDelim==null?U=C1(e,["mclose"]):U=wf.customSizedDelim(t.rightDelim,F,!0,e.havingStyle(n),t.mode,["mclose"]),pt.makeSpan(["mord"].concat(a.sizingClasses(e)),[D,pt.makeSpan(["mfrac"],[k]),U],e)},r9=(t,e)=>{var n=new Ht.MathNode("mfrac",[Ri(t.numer,e),Ri(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=oa(t.barSize,e);n.setAttribute("linethickness",nn(r))}var i=vhe(t.size,e.style);if(i.size!==e.style.size){n=new Ht.MathNode("mstyle",[n]);var a=i.size===Bn.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",a),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var s=[];if(t.leftDelim!=null){var o=new Ht.MathNode("mo",[new Ht.TextNode(t.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),s.push(o)}if(s.push(n),t.rightDelim!=null){var l=new Ht.MathNode("mo",[new Ht.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}return WF(s)}return n};dn({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],a=e[1],s,o=null,l=null,u="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,o="(",l=")";break;case"\\\\bracefrac":s=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":s=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:a,hasBarLine:s,leftDelim:o,rightDelim:l,size:u,barSize:null}},htmlBuilder:n9,mathmlBuilder:r9});dn({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],a=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});dn({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var nte=["display","text","script","scriptscript"],rte=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};dn({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],i=e[5],a=MT(e[0]),s=a.type==="atom"&&a.family==="open"?rte(a.text):null,o=MT(e[1]),l=o.type==="atom"&&o.family==="close"?rte(o.text):null,u=gr(e[2],"size"),d,h=null;u.isBlank?d=!0:(h=u.value,d=h.number>0);var p="auto",m=e[3];if(m.type==="ordgroup"){if(m.body.length>0){var v=gr(m.body[0],"textord");p=nte[Number(v.text)]}}else m=gr(m,"textord"),p=nte[Number(m.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:d,barSize:h,leftDelim:s,rightDelim:l,size:p}},htmlBuilder:n9,mathmlBuilder:r9});dn({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:gr(e[0],"size").value,token:i}}});dn({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],a=Fje(gr(e[1],"infix").size),s=e[2],o=a.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:s,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:n9,mathmlBuilder:r9});var whe=(t,e)=>{var n=e.style,r,i;t.type==="supsub"?(r=t.sup?Xr(t.sup,e.havingStyle(n.sup()),e):Xr(t.sub,e.havingStyle(n.sub()),e),i=gr(t.base,"horizBrace")):i=gr(t,"horizBrace");var a=Xr(i.base,e.havingBaseStyle(Bn.DISPLAY)),s=If.svgSpan(i,e),o;if(i.isOver?(o=pt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=pt.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),r){var l=pt.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e);i.isOver?o=pt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},e):o=pt.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return pt.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e)},l$e=(t,e)=>{var n=If.mathMLnode(t.label);return new Ht.MathNode(t.isOver?"mover":"munder",[Ri(t.base,e),n])};dn({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:whe,mathmlBuilder:l$e});dn({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=gr(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:Ta(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=rs(t.body,e,!1);return pt.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=Dm(t.body,e);return n instanceof Wl||(n=new Wl("mrow",[n])),n.setAttribute("href",t.href),n}});dn({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=gr(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],a=0;a<r.length;a++){var s=r[a];s==="~"&&(s="\\textasciitilde"),i.push({type:"textord",mode:"text",text:s})}var o={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:Ta(o)}}});dn({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:Ta(e[0])}},htmlBuilder(t,e){var n=rs(t.body,e,!1);return pt.makeFragment(n)},mathmlBuilder(t,e){return new Ht.MathNode("mrow",xl(t.body,e))}});dn({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:i}=t,a=gr(e[0],"raw").string,s=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(r){case"\\htmlClass":l.class=a,o={command:"\\htmlClass",class:a};break;case"\\htmlId":l.id=a,o={command:"\\htmlId",id:a};break;case"\\htmlStyle":l.style=a,o={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var u=a.split(","),d=0;d<u.length;d++){var h=u[d].split("=");if(h.length!==2)throw new Wt("Error parsing key-value for \\htmlData");l["data-"+h[0].trim()]=h[1].trim()}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(o)?{type:"html",mode:n.mode,attributes:l,body:Ta(s)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=rs(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=pt.makeSpan(r,n,e);for(var a in t.attributes)a!=="class"&&t.attributes.hasOwnProperty(a)&&i.setAttribute(a,t.attributes[a]);return i},mathmlBuilder:(t,e)=>Dm(t.body,e)});dn({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:Ta(e[0]),mathml:Ta(e[1])}},htmlBuilder:(t,e)=>{var n=rs(t.html,e,!1);return pt.makeFragment(n)},mathmlBuilder:(t,e)=>Dm(t.mathml,e)});var gD=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new Wt("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!Ude(r))throw new Wt("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};dn({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},o="";if(n[0])for(var l=gr(n[0],"raw").string,u=l.split(","),d=0;d<u.length;d++){var h=u[d].split("=");if(h.length===2){var p=h[1].trim();switch(h[0].trim()){case"alt":o=p;break;case"width":i=gD(p);break;case"height":a=gD(p);break;case"totalheight":s=gD(p);break;default:throw new Wt("Invalid key: '"+h[0]+"' in \\includegraphics.")}}}var m=gr(e[0],"url").url;return o===""&&(o=m,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:m})?{type:"includegraphics",mode:r.mode,alt:o,width:i,height:a,totalheight:s,src:m}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=oa(t.height,e),r=0;t.totalheight.number>0&&(r=oa(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=oa(t.width,e));var a={height:nn(n+r)};i>0&&(a.width=nn(i)),r>0&&(a.verticalAlign=nn(-r));var s=new lze(t.src,t.alt,a);return s.height=n,s.depth=r,s},mathmlBuilder:(t,e)=>{var n=new Ht.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=oa(t.height,e),i=0;if(t.totalheight.number>0&&(i=oa(t.totalheight,e)-r,n.setAttribute("valign",nn(-i))),n.setAttribute("height",nn(r+i)),t.width.number>0){var a=oa(t.width,e);n.setAttribute("width",nn(a))}return n.setAttribute("src",t.src),n}});dn({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=gr(e[0],"size");if(n.settings.strict){var a=r[1]==="m",s=i.value.unit==="mu";a?(s||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):s&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return pt.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=oa(t.dimension,e);return new Ht.SpaceNode(n)}});dn({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=pt.makeSpan([],[Xr(t.body,e)]),n=pt.makeSpan(["inner"],[n],e)):n=pt.makeSpan(["inner"],[Xr(t.body,e)]);var r=pt.makeSpan(["fix"],[]),i=pt.makeSpan([t.alignment],[n,r],e),a=pt.makeSpan(["strut"]);return a.style.height=nn(i.height+i.depth),i.depth&&(a.style.verticalAlign=nn(-i.depth)),i.children.unshift(a),i=pt.makeSpan(["thinbox"],[i],e),pt.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new Ht.MathNode("mpadded",[Ri(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});dn({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var a=n==="\\("?"\\)":"$",s=r.parseExpression(!1,a);return r.expect(a),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:s}}});dn({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new Wt("Mismatched "+t.funcName)}});var ite=(t,e)=>{switch(e.style.size){case Bn.DISPLAY.size:return t.display;case Bn.TEXT.size:return t.text;case Bn.SCRIPT.size:return t.script;case Bn.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};dn({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:Ta(e[0]),text:Ta(e[1]),script:Ta(e[2]),scriptscript:Ta(e[3])}},htmlBuilder:(t,e)=>{var n=ite(t,e),r=rs(n,e,!1);return pt.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=ite(t,e);return Dm(n,e)}});var _he=(t,e,n,r,i,a,s)=>{t=pt.makeSpan([],[t]);var o=n&&Dn.isCharacterBox(n),l,u;if(e){var d=Xr(e,r.havingStyle(i.sup()),r);u={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-d.depth)}}if(n){var h=Xr(n,r.havingStyle(i.sub()),r);l={elem:h,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-h.height)}}var p;if(u&&l){var m=r.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+t.depth+s;p=pt.makeVList({positionType:"bottom",positionData:m,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:nn(-a)},{type:"kern",size:l.kern},{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:nn(a)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(l){var v=t.height-s;p=pt.makeVList({positionType:"top",positionData:v,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:nn(-a)},{type:"kern",size:l.kern},{type:"elem",elem:t}]},r)}else if(u){var w=t.depth+s;p=pt.makeVList({positionType:"bottom",positionData:w,children:[{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:nn(a)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var k=[p];if(l&&a!==0&&!o){var T=pt.makeSpan(["mspace"],[],r);T.style.marginRight=nn(a),k.unshift(T)}return pt.makeSpan(["mop","op-limits"],k,r)},She=["\\smallint"],Sv=(t,e)=>{var n,r,i=!1,a;t.type==="supsub"?(n=t.sup,r=t.sub,a=gr(t.base,"op"),i=!0):a=gr(t,"op");var s=e.style,o=!1;s.size===Bn.DISPLAY.size&&a.symbol&&!Dn.contains(She,a.name)&&(o=!0);var l;if(a.symbol){var u=o?"Size2-Regular":"Size1-Regular",d="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(d=a.name.slice(1),a.name=d==="oiint"?"\\iint":"\\iiint"),l=pt.makeSymbol(a.name,u,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),d.length>0){var h=l.italic,p=pt.staticSvg(d+"Size"+(o?"2":"1"),e);l=pt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:p,shift:o?.08:0}]},e),a.name="\\"+d,l.classes.unshift("mop"),l.italic=h}}else if(a.body){var m=rs(a.body,e,!0);m.length===1&&m[0]instanceof zu?(l=m[0],l.classes[0]="mop"):l=pt.makeSpan(["mop"],m,e)}else{for(var v=[],w=1;w<a.name.length;w++)v.push(pt.mathsym(a.name[w],a.mode,e));l=pt.makeSpan(["mop"],v,e)}var k=0,T=0;return(l instanceof zu||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(k=(l.height-l.depth)/2-e.fontMetrics().axisHeight,T=l.italic),i?_he(l,n,r,e,s,T,k):(k&&(l.style.position="relative",l.style.top=nn(k)),l)},kS=(t,e)=>{var n;if(t.symbol)n=new Wl("mo",[$u(t.name,t.mode)]),Dn.contains(She,t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new Wl("mo",xl(t.body,e));else{n=new Wl("mi",[new Fd(t.name.slice(1))]);var r=new Wl("mo",[$u("⁡","text")]);t.parentIsSupSub?n=new Wl("mrow",[n,r]):n=Xde([n,r])}return n},u$e={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};dn({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return i.length===1&&(i=u$e[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Sv,mathmlBuilder:kS});dn({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Ta(r)}},htmlBuilder:Sv,mathmlBuilder:kS});var c$e={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};dn({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Sv,mathmlBuilder:kS});dn({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Sv,mathmlBuilder:kS});dn({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=c$e[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Sv,mathmlBuilder:kS});var xhe=(t,e)=>{var n,r,i=!1,a;t.type==="supsub"?(n=t.sup,r=t.sub,a=gr(t.base,"operatorname"),i=!0):a=gr(t,"operatorname");var s;if(a.body.length>0){for(var o=a.body.map(h=>{var p=h.text;return typeof p=="string"?{type:"textord",mode:h.mode,text:p}:h}),l=rs(o,e.withFont("mathrm"),!0),u=0;u<l.length;u++){var d=l[u];d instanceof zu&&(d.text=d.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=pt.makeSpan(["mop"],l,e)}else s=pt.makeSpan(["mop"],[],e);return i?_he(s,n,r,e,e.style,0,0):s},d$e=(t,e)=>{for(var n=xl(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var a=n[i];if(!(a instanceof Ht.SpaceNode))if(a instanceof Ht.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof Ht.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var o=n.map(d=>d.toText()).join("");n=[new Ht.TextNode(o)]}var l=new Ht.MathNode("mi",n);l.setAttribute("mathvariant","normal");var u=new Ht.MathNode("mo",[$u("⁡","text")]);return t.parentIsSupSub?new Ht.MathNode("mrow",[l,u]):Ht.newDocumentFragment([l,u])};dn({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:Ta(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:xhe,mathmlBuilder:d$e});ve("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");N0({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?pt.makeFragment(rs(t.body,e,!1)):pt.makeSpan(["mord"],rs(t.body,e,!0),e)},mathmlBuilder(t,e){return Dm(t.body,e,!0)}});dn({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=Xr(t.body,e.havingCrampedStyle()),r=pt.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,a=pt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return pt.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(t,e){var n=new Ht.MathNode("mo",[new Ht.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new Ht.MathNode("mover",[Ri(t.body,e),n]);return r.setAttribute("accent","true"),r}});dn({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:Ta(r)}},htmlBuilder:(t,e)=>{var n=rs(t.body,e.withPhantom(),!1);return pt.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=xl(t.body,e);return new Ht.MathNode("mphantom",n)}});dn({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=pt.makeSpan([],[Xr(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=pt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),pt.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=xl(Ta(t.body),e),r=new Ht.MathNode("mphantom",n),i=new Ht.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});dn({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=pt.makeSpan(["inner"],[Xr(t.body,e.withPhantom())]),r=pt.makeSpan(["fix"],[]);return pt.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=xl(Ta(t.body),e),r=new Ht.MathNode("mphantom",n),i=new Ht.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});dn({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=gr(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=Xr(t.body,e),r=oa(t.dy,e);return pt.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new Ht.MathNode("mpadded",[Ri(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});dn({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});dn({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],a=gr(e[0],"size"),s=gr(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&gr(i,"size").value,width:a.value,height:s.value}},htmlBuilder(t,e){var n=pt.makeSpan(["mord","rule"],[],e),r=oa(t.width,e),i=oa(t.height,e),a=t.shift?oa(t.shift,e):0;return n.style.borderRightWidth=nn(r),n.style.borderTopWidth=nn(i),n.style.bottom=nn(a),n.width=r,n.height=i+a,n.depth=-a,n.maxFontSize=i*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=oa(t.width,e),r=oa(t.height,e),i=t.shift?oa(t.shift,e):0,a=e.color&&e.getColor()||"black",s=new Ht.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",nn(n)),s.setAttribute("height",nn(r));var o=new Ht.MathNode("mpadded",[s]);return i>=0?o.setAttribute("height",nn(i)):(o.setAttribute("height",nn(i)),o.setAttribute("depth",nn(-i))),o.setAttribute("voffset",nn(i)),o}});function Ehe(t,e,n){for(var r=rs(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,a=0;a<r.length;a++){var s=r[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(r[a].classes,e.sizingClasses(n)):r[a].classes[s+1]==="reset-size"+e.size&&(r[a].classes[s+1]="reset-size"+n.size),r[a].height*=i,r[a].depth*=i}return pt.makeFragment(r)}var ate=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],h$e=(t,e)=>{var n=e.havingSize(t.size);return Ehe(t.body,n,e)};dn({type:"sizing",names:ate,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,a=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:ate.indexOf(r)+1,body:a}},htmlBuilder:h$e,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=xl(t.body,n),i=new Ht.MathNode("mstyle",r);return i.setAttribute("mathsize",nn(n.sizeMultiplier)),i}});dn({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,a=!1,s=n[0]&&gr(n[0],"ordgroup");if(s)for(var o="",l=0;l<s.body.length;++l){var u=s.body[l];if(o=u.text,o==="t")i=!0;else if(o==="b")a=!0;else{i=!1,a=!1;break}}else i=!0,a=!0;var d=e[0];return{type:"smash",mode:r.mode,body:d,smashHeight:i,smashDepth:a}},htmlBuilder:(t,e)=>{var n=pt.makeSpan([],[Xr(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var a=pt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return pt.makeSpan(["mord"],[a],e)},mathmlBuilder:(t,e)=>{var n=new Ht.MathNode("mpadded",[Ri(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});dn({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],a=e[0];return{type:"sqrt",mode:r.mode,body:a,index:i}},htmlBuilder(t,e){var n=Xr(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=pt.wrapFragment(n,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,a=i;e.style.id<Bn.TEXT.id&&(a=e.fontMetrics().xHeight);var s=i+a/4,o=n.height+n.depth+s+i,{span:l,ruleWidth:u,advanceWidth:d}=wf.sqrtImage(o,e),h=l.height-u;h>n.height+n.depth+s&&(s=(s+h-n.height-n.depth)/2);var p=l.height-n.height-s-u;n.style.paddingLeft=nn(d);var m=pt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+p)},{type:"elem",elem:l},{type:"kern",size:u}]},e);if(t.index){var v=e.havingStyle(Bn.SCRIPTSCRIPT),w=Xr(t.index,v,e),k=.6*(m.height-m.depth),T=pt.makeVList({positionType:"shift",positionData:-k,children:[{type:"elem",elem:w}]},e),C=pt.makeSpan(["root"],[T]);return pt.makeSpan(["mord","sqrt"],[C,m],e)}else return pt.makeSpan(["mord","sqrt"],[m],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new Ht.MathNode("mroot",[Ri(n,e),Ri(r,e)]):new Ht.MathNode("msqrt",[Ri(n,e)])}});var ste={display:Bn.DISPLAY,text:Bn.TEXT,script:Bn.SCRIPT,scriptscript:Bn.SCRIPTSCRIPT};dn({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,a=i.parseExpression(!0,n),s=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:s,body:a}},htmlBuilder(t,e){var n=ste[t.style],r=e.havingStyle(n).withFont("");return Ehe(t.body,r,e)},mathmlBuilder(t,e){var n=ste[t.style],r=e.havingStyle(n),i=xl(t.body,r),a=new Ht.MathNode("mstyle",i),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=s[t.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}});var f$e=function(e,n){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===Bn.DISPLAY.size||r.alwaysHandleSupSub);return i?Sv:null}else if(r.type==="operatorname"){var a=r.alwaysHandleSupSub&&(n.style.size===Bn.DISPLAY.size||r.limits);return a?xhe:null}else{if(r.type==="accent")return Dn.isCharacterBox(r.base)?XF:null;if(r.type==="horizBrace"){var s=!e.sub;return s===r.isOver?whe:null}else return null}else return null};N0({type:"supsub",htmlBuilder(t,e){var n=f$e(t,e);if(n)return n(t,e);var{base:r,sup:i,sub:a}=t,s=Xr(r,e),o,l,u=e.fontMetrics(),d=0,h=0,p=r&&Dn.isCharacterBox(r);if(i){var m=e.havingStyle(e.style.sup());o=Xr(i,m,e),p||(d=s.height-m.fontMetrics().supDrop*m.sizeMultiplier/e.sizeMultiplier)}if(a){var v=e.havingStyle(e.style.sub());l=Xr(a,v,e),p||(h=s.depth+v.fontMetrics().subDrop*v.sizeMultiplier/e.sizeMultiplier)}var w;e.style===Bn.DISPLAY?w=u.sup1:e.style.cramped?w=u.sup3:w=u.sup2;var k=e.sizeMultiplier,T=nn(.5/u.ptPerEm/k),C=null;if(l){var N=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(s instanceof zu||N)&&(C=nn(-s.italic))}var F;if(o&&l){d=Math.max(d,w,o.depth+.25*u.xHeight),h=Math.max(h,u.sub2);var D=u.defaultRuleThickness,U=4*D;if(d-o.depth-(l.height-h)<U){h=U-(d-o.depth)+l.height;var G=.8*u.xHeight-(d-o.depth);G>0&&(d+=G,h-=G)}var se=[{type:"elem",elem:l,shift:h,marginRight:T,marginLeft:C},{type:"elem",elem:o,shift:-d,marginRight:T}];F=pt.makeVList({positionType:"individualShift",children:se},e)}else if(l){h=Math.max(h,u.sub1,l.height-.8*u.xHeight);var re=[{type:"elem",elem:l,marginLeft:C,marginRight:T}];F=pt.makeVList({positionType:"shift",positionData:h,children:re},e)}else if(o)d=Math.max(d,w,o.depth+.25*u.xHeight),F=pt.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:o,marginRight:T}]},e);else throw new Error("supsub must have either sup or sub.");var Q=L5(s,"right")||"mord";return pt.makeSpan([Q],[s,pt.makeSpan(["msupsub"],[F])],e)},mathmlBuilder(t,e){var n=!1,r,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var a=[Ri(t.base,e)];t.sub&&a.push(Ri(t.sub,e)),t.sup&&a.push(Ri(t.sup,e));var s;if(n)s=r?"mover":"munder";else if(t.sub)if(t.sup){var u=t.base;u&&u.type==="op"&&u.limits&&e.style===Bn.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===Bn.DISPLAY||u.limits)?s="munderover":s="msubsup"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===Bn.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===Bn.DISPLAY)?s="munder":s="msub"}else{var o=t.base;o&&o.type==="op"&&o.limits&&(e.style===Bn.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===Bn.DISPLAY)?s="mover":s="msup"}return new Ht.MathNode(s,a)}});N0({type:"atom",htmlBuilder(t,e){return pt.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new Ht.MathNode("mo",[$u(t.text,t.mode)]);if(t.family==="bin"){var r=KF(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var khe={mi:"italic",mn:"normal",mtext:"normal"};N0({type:"mathord",htmlBuilder(t,e){return pt.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new Ht.MathNode("mi",[$u(t.text,t.mode,e)]),r=KF(t,e)||"italic";return r!==khe[n.type]&&n.setAttribute("mathvariant",r),n}});N0({type:"textord",htmlBuilder(t,e){return pt.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=$u(t.text,t.mode,e),r=KF(t,e)||"normal",i;return t.mode==="text"?i=new Ht.MathNode("mtext",[n]):/[0-9]/.test(t.text)?i=new Ht.MathNode("mn",[n]):t.text==="\\prime"?i=new Ht.MathNode("mo",[n]):i=new Ht.MathNode("mi",[n]),r!==khe[i.type]&&i.setAttribute("mathvariant",r),i}});var yD={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},bD={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};N0({type:"spacing",htmlBuilder(t,e){if(bD.hasOwnProperty(t.text)){var n=bD[t.text].className||"";if(t.mode==="text"){var r=pt.makeOrd(t,e,"textord");return r.classes.push(n),r}else return pt.makeSpan(["mspace",n],[pt.mathsym(t.text,t.mode,e)],e)}else{if(yD.hasOwnProperty(t.text))return pt.makeSpan(["mspace",yD[t.text]],[],e);throw new Wt('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(bD.hasOwnProperty(t.text))n=new Ht.MathNode("mtext",[new Ht.TextNode(" ")]);else{if(yD.hasOwnProperty(t.text))return new Ht.MathNode("mspace");throw new Wt('Unknown type of space "'+t.text+'"')}return n}});var ote=()=>{var t=new Ht.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};N0({type:"tag",mathmlBuilder(t,e){var n=new Ht.MathNode("mtable",[new Ht.MathNode("mtr",[ote(),new Ht.MathNode("mtd",[Dm(t.body,e)]),ote(),new Ht.MathNode("mtd",[Dm(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var lte={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},ute={"\\textbf":"textbf","\\textmd":"textmd"},p$e={"\\textit":"textit","\\textup":"textup"},cte=(t,e)=>{var n=t.font;if(n){if(lte[n])return e.withTextFontFamily(lte[n]);if(ute[n])return e.withTextFontWeight(ute[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(p$e[n])};dn({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:Ta(i),font:r}},htmlBuilder(t,e){var n=cte(t,e),r=rs(t.body,n,!0);return pt.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=cte(t,e);return Dm(t.body,n)}});dn({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Xr(t.body,e),r=pt.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,a=pt.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return pt.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(t,e){var n=new Ht.MathNode("mo",[new Ht.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new Ht.MathNode("munder",[Ri(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});dn({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Xr(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return pt.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new Ht.MathNode("mpadded",[Ri(t.body,e)],["vcenter"])}});dn({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new Wt("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=dte(t),r=[],i=e.havingStyle(e.style.text()),a=0;a<n.length;a++){var s=n[a];s==="~"&&(s="\\textasciitilde"),r.push(pt.makeSymbol(s,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return pt.makeSpan(["mord","text"].concat(i.sizingClasses(e)),pt.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new Ht.TextNode(dte(t)),r=new Ht.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var dte=t=>t.body.replace(/ /g,t.star?"␣":" "),mm=Kde,The=`[ \r
	]`,m$e="\\\\[a-zA-Z@]+",g$e="\\\\[^\uD800-\uDFFF]",y$e="("+m$e+")"+The+"*",b$e=`\\\\(
|[ \r	]+
?)[ \r	]*`,U5="[̀-ͯ]",v$e=new RegExp(U5+"+$"),w$e="("+The+"+)|"+(b$e+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(U5+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(U5+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+y$e)+("|"+g$e+")");class hte{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(w$e,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new zd("EOF",new Cc(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new Wt("Unexpected character: '"+e[n]+"'",new zd(e[n],new Cc(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new zd(i,new Cc(this,n,this.tokenRegex.lastIndex))}}class _$e{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Wt("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var S$e=mhe;ve("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});ve("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});ve("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});ve("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});ve("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});ve("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");ve("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var fte={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};ve("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Wt("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=fte[e.text],r==null||r>=n)throw new Wt("Invalid base-"+n+" digit "+e.text);for(var i;(i=fte[t.future().text])!=null&&i<n;)r*=n,r+=i,t.popToken()}return"\\@char{"+r+"}"});var i9=(t,e,n,r)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new Wt("\\newcommand's first argument must be a macro name");var a=i[0].text,s=t.isDefined(a);if(s&&!e)throw new Wt("\\newcommand{"+a+"} attempting to redefine "+(a+"; use \\renewcommand"));if(!s&&!n)throw new Wt("\\renewcommand{"+a+"} when command "+a+" does not yet exist; use \\newcommand");var o=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var l="",u=t.expandNextToken();u.text!=="]"&&u.text!=="EOF";)l+=u.text,u=t.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new Wt("Invalid number of arguments: "+l);o=parseInt(l),i=t.consumeArg().tokens}return s&&r||t.macros.set(a,{tokens:i,numArgs:o}),""};ve("\\newcommand",t=>i9(t,!1,!0,!1));ve("\\renewcommand",t=>i9(t,!0,!1,!1));ve("\\providecommand",t=>i9(t,!0,!0,!0));ve("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});ve("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});ve("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),mm[n],Ui.math[n],Ui.text[n]),""});ve("\\bgroup","{");ve("\\egroup","}");ve("~","\\nobreakspace");ve("\\lq","`");ve("\\rq","'");ve("\\aa","\\r a");ve("\\AA","\\r A");ve("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");ve("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");ve("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");ve("ℬ","\\mathscr{B}");ve("ℰ","\\mathscr{E}");ve("ℱ","\\mathscr{F}");ve("ℋ","\\mathscr{H}");ve("ℐ","\\mathscr{I}");ve("ℒ","\\mathscr{L}");ve("ℳ","\\mathscr{M}");ve("ℛ","\\mathscr{R}");ve("ℭ","\\mathfrak{C}");ve("ℌ","\\mathfrak{H}");ve("ℨ","\\mathfrak{Z}");ve("\\Bbbk","\\Bbb{k}");ve("·","\\cdotp");ve("\\llap","\\mathllap{\\textrm{#1}}");ve("\\rlap","\\mathrlap{\\textrm{#1}}");ve("\\clap","\\mathclap{\\textrm{#1}}");ve("\\mathstrut","\\vphantom{(}");ve("\\underbar","\\underline{\\text{#1}}");ve("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');ve("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");ve("\\ne","\\neq");ve("≠","\\neq");ve("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");ve("∉","\\notin");ve("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");ve("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");ve("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");ve("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");ve("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");ve("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");ve("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");ve("⟂","\\perp");ve("‼","\\mathclose{!\\mkern-0.8mu!}");ve("∌","\\notni");ve("⌜","\\ulcorner");ve("⌝","\\urcorner");ve("⌞","\\llcorner");ve("⌟","\\lrcorner");ve("©","\\copyright");ve("®","\\textregistered");ve("️","\\textregistered");ve("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');ve("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');ve("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');ve("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');ve("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");ve("⋮","\\vdots");ve("\\varGamma","\\mathit{\\Gamma}");ve("\\varDelta","\\mathit{\\Delta}");ve("\\varTheta","\\mathit{\\Theta}");ve("\\varLambda","\\mathit{\\Lambda}");ve("\\varXi","\\mathit{\\Xi}");ve("\\varPi","\\mathit{\\Pi}");ve("\\varSigma","\\mathit{\\Sigma}");ve("\\varUpsilon","\\mathit{\\Upsilon}");ve("\\varPhi","\\mathit{\\Phi}");ve("\\varPsi","\\mathit{\\Psi}");ve("\\varOmega","\\mathit{\\Omega}");ve("\\substack","\\begin{subarray}{c}#1\\end{subarray}");ve("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");ve("\\boxed","\\fbox{$\\displaystyle{#1}$}");ve("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");ve("\\implies","\\DOTSB\\;\\Longrightarrow\\;");ve("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");ve("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");ve("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var pte={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};ve("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in pte?e=pte[n]:(n.slice(0,4)==="\\not"||n in Ui.math&&Dn.contains(["bin","rel"],Ui.math[n].group))&&(e="\\dotsb"),e});var a9={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};ve("\\dotso",function(t){var e=t.future().text;return e in a9?"\\ldots\\,":"\\ldots"});ve("\\dotsc",function(t){var e=t.future().text;return e in a9&&e!==","?"\\ldots\\,":"\\ldots"});ve("\\cdots",function(t){var e=t.future().text;return e in a9?"\\@cdots\\,":"\\@cdots"});ve("\\dotsb","\\cdots");ve("\\dotsm","\\cdots");ve("\\dotsi","\\!\\cdots");ve("\\dotsx","\\ldots\\,");ve("\\DOTSI","\\relax");ve("\\DOTSB","\\relax");ve("\\DOTSX","\\relax");ve("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");ve("\\,","\\tmspace+{3mu}{.1667em}");ve("\\thinspace","\\,");ve("\\>","\\mskip{4mu}");ve("\\:","\\tmspace+{4mu}{.2222em}");ve("\\medspace","\\:");ve("\\;","\\tmspace+{5mu}{.2777em}");ve("\\thickspace","\\;");ve("\\!","\\tmspace-{3mu}{.1667em}");ve("\\negthinspace","\\!");ve("\\negmedspace","\\tmspace-{4mu}{.2222em}");ve("\\negthickspace","\\tmspace-{5mu}{.277em}");ve("\\enspace","\\kern.5em ");ve("\\enskip","\\hskip.5em\\relax");ve("\\quad","\\hskip1em\\relax");ve("\\qquad","\\hskip2em\\relax");ve("\\tag","\\@ifstar\\tag@literal\\tag@paren");ve("\\tag@paren","\\tag@literal{({#1})}");ve("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new Wt("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});ve("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");ve("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");ve("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");ve("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");ve("\\newline","\\\\\\relax");ve("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Ahe=nn(Dd["Main-Regular"][84][1]-.7*Dd["Main-Regular"][65][1]);ve("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Ahe+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");ve("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Ahe+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");ve("\\hspace","\\@ifstar\\@hspacer\\@hspace");ve("\\@hspace","\\hskip #1\\relax");ve("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");ve("\\ordinarycolon",":");ve("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");ve("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');ve("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');ve("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');ve("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');ve("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');ve("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');ve("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');ve("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');ve("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');ve("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');ve("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');ve("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');ve("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');ve("∷","\\dblcolon");ve("∹","\\eqcolon");ve("≔","\\coloneqq");ve("≕","\\eqqcolon");ve("⩴","\\Coloneqq");ve("\\ratio","\\vcentcolon");ve("\\coloncolon","\\dblcolon");ve("\\colonequals","\\coloneqq");ve("\\coloncolonequals","\\Coloneqq");ve("\\equalscolon","\\eqqcolon");ve("\\equalscoloncolon","\\Eqqcolon");ve("\\colonminus","\\coloneq");ve("\\coloncolonminus","\\Coloneq");ve("\\minuscolon","\\eqcolon");ve("\\minuscoloncolon","\\Eqcolon");ve("\\coloncolonapprox","\\Colonapprox");ve("\\coloncolonsim","\\Colonsim");ve("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");ve("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");ve("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");ve("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");ve("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");ve("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");ve("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");ve("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");ve("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");ve("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");ve("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");ve("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");ve("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");ve("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");ve("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");ve("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");ve("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");ve("\\nleqq","\\html@mathml{\\@nleqq}{≰}");ve("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");ve("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");ve("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");ve("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");ve("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");ve("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");ve("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");ve("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");ve("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");ve("\\imath","\\html@mathml{\\@imath}{ı}");ve("\\jmath","\\html@mathml{\\@jmath}{ȷ}");ve("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");ve("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");ve("⟦","\\llbracket");ve("⟧","\\rrbracket");ve("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");ve("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");ve("⦃","\\lBrace");ve("⦄","\\rBrace");ve("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");ve("⦵","\\minuso");ve("\\darr","\\downarrow");ve("\\dArr","\\Downarrow");ve("\\Darr","\\Downarrow");ve("\\lang","\\langle");ve("\\rang","\\rangle");ve("\\uarr","\\uparrow");ve("\\uArr","\\Uparrow");ve("\\Uarr","\\Uparrow");ve("\\N","\\mathbb{N}");ve("\\R","\\mathbb{R}");ve("\\Z","\\mathbb{Z}");ve("\\alef","\\aleph");ve("\\alefsym","\\aleph");ve("\\Alpha","\\mathrm{A}");ve("\\Beta","\\mathrm{B}");ve("\\bull","\\bullet");ve("\\Chi","\\mathrm{X}");ve("\\clubs","\\clubsuit");ve("\\cnums","\\mathbb{C}");ve("\\Complex","\\mathbb{C}");ve("\\Dagger","\\ddagger");ve("\\diamonds","\\diamondsuit");ve("\\empty","\\emptyset");ve("\\Epsilon","\\mathrm{E}");ve("\\Eta","\\mathrm{H}");ve("\\exist","\\exists");ve("\\harr","\\leftrightarrow");ve("\\hArr","\\Leftrightarrow");ve("\\Harr","\\Leftrightarrow");ve("\\hearts","\\heartsuit");ve("\\image","\\Im");ve("\\infin","\\infty");ve("\\Iota","\\mathrm{I}");ve("\\isin","\\in");ve("\\Kappa","\\mathrm{K}");ve("\\larr","\\leftarrow");ve("\\lArr","\\Leftarrow");ve("\\Larr","\\Leftarrow");ve("\\lrarr","\\leftrightarrow");ve("\\lrArr","\\Leftrightarrow");ve("\\Lrarr","\\Leftrightarrow");ve("\\Mu","\\mathrm{M}");ve("\\natnums","\\mathbb{N}");ve("\\Nu","\\mathrm{N}");ve("\\Omicron","\\mathrm{O}");ve("\\plusmn","\\pm");ve("\\rarr","\\rightarrow");ve("\\rArr","\\Rightarrow");ve("\\Rarr","\\Rightarrow");ve("\\real","\\Re");ve("\\reals","\\mathbb{R}");ve("\\Reals","\\mathbb{R}");ve("\\Rho","\\mathrm{P}");ve("\\sdot","\\cdot");ve("\\sect","\\S");ve("\\spades","\\spadesuit");ve("\\sub","\\subset");ve("\\sube","\\subseteq");ve("\\supe","\\supseteq");ve("\\Tau","\\mathrm{T}");ve("\\thetasym","\\vartheta");ve("\\weierp","\\wp");ve("\\Zeta","\\mathrm{Z}");ve("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");ve("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");ve("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");ve("\\bra","\\mathinner{\\langle{#1}|}");ve("\\ket","\\mathinner{|{#1}\\rangle}");ve("\\braket","\\mathinner{\\langle{#1}\\rangle}");ve("\\Bra","\\left\\langle#1\\right|");ve("\\Ket","\\left|#1\\right\\rangle");var Che=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,a=e.consumeArg().tokens,s=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var l=h=>p=>{t&&(p.macros.set("|",s),i.length&&p.macros.set("\\|",o));var m=h;if(!h&&i.length){var v=p.future();v.text==="|"&&(p.popToken(),m=!0)}return{tokens:m?i:r,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var u=e.consumeArg().tokens,d=e.expandTokens([...a,...u,...n]);return e.macros.endGroup(),{tokens:d.reverse(),numArgs:0}};ve("\\bra@ket",Che(!1));ve("\\bra@set",Che(!0));ve("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");ve("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");ve("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");ve("\\angln","{\\angl n}");ve("\\blue","\\textcolor{##6495ed}{#1}");ve("\\orange","\\textcolor{##ffa500}{#1}");ve("\\pink","\\textcolor{##ff00af}{#1}");ve("\\red","\\textcolor{##df0030}{#1}");ve("\\green","\\textcolor{##28ae7b}{#1}");ve("\\gray","\\textcolor{gray}{#1}");ve("\\purple","\\textcolor{##9d38bd}{#1}");ve("\\blueA","\\textcolor{##ccfaff}{#1}");ve("\\blueB","\\textcolor{##80f6ff}{#1}");ve("\\blueC","\\textcolor{##63d9ea}{#1}");ve("\\blueD","\\textcolor{##11accd}{#1}");ve("\\blueE","\\textcolor{##0c7f99}{#1}");ve("\\tealA","\\textcolor{##94fff5}{#1}");ve("\\tealB","\\textcolor{##26edd5}{#1}");ve("\\tealC","\\textcolor{##01d1c1}{#1}");ve("\\tealD","\\textcolor{##01a995}{#1}");ve("\\tealE","\\textcolor{##208170}{#1}");ve("\\greenA","\\textcolor{##b6ffb0}{#1}");ve("\\greenB","\\textcolor{##8af281}{#1}");ve("\\greenC","\\textcolor{##74cf70}{#1}");ve("\\greenD","\\textcolor{##1fab54}{#1}");ve("\\greenE","\\textcolor{##0d923f}{#1}");ve("\\goldA","\\textcolor{##ffd0a9}{#1}");ve("\\goldB","\\textcolor{##ffbb71}{#1}");ve("\\goldC","\\textcolor{##ff9c39}{#1}");ve("\\goldD","\\textcolor{##e07d10}{#1}");ve("\\goldE","\\textcolor{##a75a05}{#1}");ve("\\redA","\\textcolor{##fca9a9}{#1}");ve("\\redB","\\textcolor{##ff8482}{#1}");ve("\\redC","\\textcolor{##f9685d}{#1}");ve("\\redD","\\textcolor{##e84d39}{#1}");ve("\\redE","\\textcolor{##bc2612}{#1}");ve("\\maroonA","\\textcolor{##ffbde0}{#1}");ve("\\maroonB","\\textcolor{##ff92c6}{#1}");ve("\\maroonC","\\textcolor{##ed5fa6}{#1}");ve("\\maroonD","\\textcolor{##ca337c}{#1}");ve("\\maroonE","\\textcolor{##9e034e}{#1}");ve("\\purpleA","\\textcolor{##ddd7ff}{#1}");ve("\\purpleB","\\textcolor{##c6b9fc}{#1}");ve("\\purpleC","\\textcolor{##aa87ff}{#1}");ve("\\purpleD","\\textcolor{##7854ab}{#1}");ve("\\purpleE","\\textcolor{##543b78}{#1}");ve("\\mintA","\\textcolor{##f5f9e8}{#1}");ve("\\mintB","\\textcolor{##edf2df}{#1}");ve("\\mintC","\\textcolor{##e0e5cc}{#1}");ve("\\grayA","\\textcolor{##f6f7f7}{#1}");ve("\\grayB","\\textcolor{##f0f1f2}{#1}");ve("\\grayC","\\textcolor{##e3e5e6}{#1}");ve("\\grayD","\\textcolor{##d6d8da}{#1}");ve("\\grayE","\\textcolor{##babec2}{#1}");ve("\\grayF","\\textcolor{##888d93}{#1}");ve("\\grayG","\\textcolor{##626569}{#1}");ve("\\grayH","\\textcolor{##3b3e40}{#1}");ve("\\grayI","\\textcolor{##21242c}{#1}");ve("\\kaBlue","\\textcolor{##314453}{#1}");ve("\\kaGreen","\\textcolor{##71B307}{#1}");var Rhe={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class x$e{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new _$e(S$e,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new hte(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new zd("EOF",r.loc)),this.pushTokens(i),n.range(r,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),a,s=0,o=0;do{if(a=this.popToken(),n.push(a),a.text==="{")++s;else if(a.text==="}"){if(--s,s===-1)throw new Wt("Extra }",a)}else if(a.text==="EOF")throw new Wt("Unexpected end of input in a macro argument, expected '"+(e&&r?e[o]:"}")+"'",a);if(e&&r)if((s===0||s===1&&e[o]==="{")&&a.text===e[o]){if(++o,o===e.length){n.splice(-o,o);break}}else o=0}while(s!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:a}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new Wt("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var a=this.popToken();if(r[i]!==a.text)throw new Wt("Use of the macro doesn't match its definition",a)}}for(var s=[],o=0;o<e;o++)s.push(this.consumeArg(n&&n[o+1]).tokens);return s}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new Wt("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new Wt("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var a=i.tokens,s=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){a=a.slice();for(var o=a.length-1;o>=0;--o){var l=a[o];if(l.text==="#"){if(o===0)throw new Wt("Incomplete placeholder at end of macro body",l);if(l=a[--o],l.text==="#")a.splice(o+1,1);else if(/^[1-9]$/.test(l.text))a.splice(o,2,...s[+l.text-1]);else throw new Wt("Not a valid argument number",l)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new zd(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var a=0;if(i.indexOf("#")!==-1)for(var s=i.replace(/##/g,"");s.indexOf("#"+(a+1))!==-1;)++a;for(var o=new hte(i,this.settings),l=[],u=o.lex();u.text!=="EOF";)l.push(u),u=o.lex();l.reverse();var d={tokens:l,numArgs:a};return d}return i}isDefined(e){return this.macros.has(e)||mm.hasOwnProperty(e)||Ui.math.hasOwnProperty(e)||Ui.text.hasOwnProperty(e)||Rhe.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:mm.hasOwnProperty(e)&&!mm[e].primitive}}var mte=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,CE=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),vD={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},gte={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};let Ihe=class Nhe{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new x$e(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new Wt("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new zd("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(Nhe.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||e&&mm[i.text]&&mm[i.text].infix)break;var a=this.parseAtom(n);if(a){if(a.type==="internal")continue}else break;r.push(a)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(n!==-1)throw new Wt("only one infix operator per group",e[i].token);n=i,r=e[i].replaceWith}if(n!==-1&&r){var a,s,o=e.slice(0,n),l=e.slice(n+1);o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?s=l[0]:s={type:"ordgroup",mode:this.mode,body:l};var u;return r==="\\\\abovefrac"?u=this.callFunction(r,[a,e[n],s],[]):u=this.callFunction(r,[a,s],[]),[u]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(e);if(!i)throw new Wt("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:n},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return a}parseAtom(e){var n=this.parseGroup("atom",e);if(this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(n&&n.type==="op"){var s=a.text==="\\limits";n.limits=s,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=a.text==="\\limits");else throw new Wt("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(r)throw new Wt("Double superscript",a);r=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(i)throw new Wt("Double subscript",a);i=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(r)throw new Wt("Double superscript",a);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:l}}else if(CE[a.text]){var u=mte.test(a.text),d=[];for(d.push(new zd(CE[a.text])),this.consume();;){var h=this.fetch().text;if(!CE[h]||mte.test(h)!==u)break;d.unshift(new zd(CE[h])),this.consume()}var p=this.subparse(d);u?i={type:"ordgroup",mode:"math",body:p}:r={type:"ordgroup",mode:"math",body:p}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(e,n){var r=this.fetch(),i=r.text,a=mm[i];if(!a)return null;if(this.consume(),n&&n!=="atom"&&!a.allowedInArgument)throw new Wt("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!a.allowedInText)throw new Wt("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&a.allowedInMath===!1)throw new Wt("Can't use function '"+i+"' in math mode",r);var{args:s,optArgs:o}=this.parseArguments(i,a);return this.callFunction(i,s,o,r,e)}callFunction(e,n,r,i,a){var s={funcName:e,parser:this,token:i,breakOnTokenText:a},o=mm[e];if(o&&o.handler)return o.handler(s,n,r);throw new Wt("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],a=[],s=0;s<r;s++){var o=n.argTypes&&n.argTypes[s],l=s<n.numOptionalArgs;(n.primitive&&o==null||n.type==="sqrt"&&s===1&&a[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",o,l);if(l)a.push(u);else if(u!=null)i.push(u);else throw new Wt("Null argument, please report this as a bug")}return{args:i,optArgs:a}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",r);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(r)throw new Wt("A primitive argument cannot be optional");var s=this.parseGroup(e);if(s==null)throw new Wt("Expected group as "+e,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new Wt("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",a;(a=this.fetch()).text!=="EOF";)i+=a.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,n){for(var r=this.fetch(),i=r,a="",s;(s=this.fetch()).text!=="EOF"&&e.test(a+s.text);)i=s,a+=i.text,this.consume();if(a==="")throw new Wt("Invalid "+n+": '"+r.text+"'",r);return r.range(i,a)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new Wt("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new Wt("Invalid size: '"+n.text+"'",n);var a={number:+(i[1]+i[2]),unit:i[3]};if(!Ude(a))throw new Wt("Invalid unit: '"+a.unit+"'",n);return{type:"size",mode:this.mode,value:a,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:r.loc,body:a};return n&&this.switchMode(i),s}parseGroup(e,n){var r=this.fetch(),i=r.text,a;if(i==="{"||i==="\\begingroup"){this.consume();var s=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,s),l=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:Cc.range(r,l),body:o,semisimple:i==="\\begingroup"||void 0}}else if(a=this.parseFunction(n,e)||this.parseSymbol(),a==null&&i[0]==="\\"&&!Rhe.hasOwnProperty(i)){if(this.settings.throwOnError)throw new Wt("Undefined control sequence: "+i,r);a=this.formatUnsupportedCmd(i),this.consume()}return a}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var i=e[r],a=i.text;a==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:Cc.range(i,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:Cc.range(i,e[r+1]),text:"--"}),n-=1)),(a==="'"||a==="`")&&e[r+1].text===a&&(e.splice(r,2,{type:"textord",mode:"text",loc:Cc.range(i,e[r+1]),text:a+a}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new Wt(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}gte.hasOwnProperty(n[0])&&!Ui[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=gte[n[0]]+n.slice(1));var a=v$e.exec(n);a&&(n=n.substring(0,a.index),n==="i"?n="ı":n==="j"&&(n="ȷ"));var s;if(Ui[this.mode][n]){this.settings.strict&&this.mode==="math"&&P5.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var o=Ui[this.mode][n].group,l=Cc.range(e),u;if(dze.hasOwnProperty(o)){var d=o;u={type:"atom",mode:this.mode,family:d,loc:l,text:n}}else u={type:o,mode:this.mode,loc:l,text:n};s=u}else if(n.charCodeAt(0)>=128)this.settings.strict&&(Bde(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),s={type:"textord",mode:"text",loc:Cc.range(e),text:n};else return null;if(this.consume(),a)for(var h=0;h<a[0].length;h++){var p=a[0][h];if(!vD[p])throw new Wt("Unknown accent ' "+p+"'",e);var m=vD[p][this.mode]||vD[p].text;if(!m)throw new Wt("Accent "+p+" unsupported in "+this.mode+" mode",e);s={type:"accent",mode:this.mode,loc:Cc.range(e),label:m,isStretchy:!1,isShifty:!0,base:s}}return s}};Ihe.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var s9=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new Ihe(e,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new Wt("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new zd("\\df@tag")])}]}return i},Ohe=function(e,n,r){n.textContent="";var i=o9(e,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Ohe=function(){throw new Wt("KaTeX doesn't work in quirks mode.")});var E$e=function(e,n){var r=o9(e,n).toMarkup();return r},k$e=function(e,n){var r=new $F(n);return s9(e,r)},Mhe=function(e,n,r){if(r.throwOnError||!(e instanceof Wt))throw e;var i=pt.makeSpan(["katex-error"],[new zu(n)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},o9=function(e,n){var r=new $F(n);try{var i=s9(e,r);return Pze(i,e,r)}catch(a){return Mhe(a,e,r)}},T$e=function(e,n){var r=new $F(n);try{var i=s9(e,r);return Lze(i,e,r)}catch(a){return Mhe(a,e,r)}},A$e="0.16.21",C$e={Span:ES,Anchor:VF,SymbolNode:zu,SvgNode:Cf,PathNode:Lm,LineNode:M5},yte={version:A$e,render:Ohe,renderToString:E$e,ParseError:Wt,SETTINGS_SCHEMA:vk,__parse:k$e,__renderToDomTree:o9,__renderToHTMLTree:T$e,__setFontMetrics:rze,__defineSymbol:q,__defineFunction:dn,__defineMacro:ve,__domTree:C$e};const R$e={};function I$e(t){const e=this,n=t||R$e,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Cje(n)),a.push(wje()),s.push(_je(n))}const bte=/[#.]/g;function N$e(t,e){const n=t||"",r={};let i=0,a,s;for(;i<n.length;){bte.lastIndex=i;const o=bte.exec(n),l=n.slice(i,o?o.index:n.length);l&&(a?a==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:s=l,i+=l.length),o&&(a=o[0],i++)}return{type:"element",tagName:s||e||"div",properties:r,children:[]}}function Phe(t,e,n){const r=n?L$e(n):void 0;function i(a,s,...o){let l;if(a==null){l={type:"root",children:[]};const u=s;o.unshift(u)}else{l=N$e(a,e);const u=l.tagName.toLowerCase(),d=r?r.get(u):void 0;if(l.tagName=d||u,O$e(s))o.unshift(s);else for(const[h,p]of Object.entries(s))M$e(t,l.properties,h,p)}for(const u of o)j5(l.children,u);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function O$e(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,n=Object.keys(t);for(const r of n){const i=e[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const a=i;for(const s of a)if(typeof s!="number"&&typeof s!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function M$e(t,e,n,r){const i=Uce(t,n);let a;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;a=r}else typeof r=="boolean"?a=r:typeof r=="string"?i.spaceSeparated?a=gK(r):i.commaSeparated?a=dK(r):i.commaOrSpaceSeparated?a=gK(dK(r).join(" ")):a=vte(i,i.property,r):Array.isArray(r)?a=[...r]:a=i.property==="style"?P$e(r):String(r);if(Array.isArray(a)){const s=[];for(const o of a)s.push(vte(i,i.property,o));a=s}i.property==="className"&&Array.isArray(e.className)&&(a=e.className.concat(a)),e[i.property]=a}}function j5(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const n of e)j5(t,n);else if(typeof e=="object"&&"type"in e)e.type==="root"?j5(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function vte(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||E1(n)===E1(e)))return!0}return n}function P$e(t){const e=[];for(const[n,r]of Object.entries(t))e.push([n,r].join(": "));return e.join("; ")}function L$e(t){const e=new Map;for(const n of t)e.set(n.toLowerCase(),n);return e}const D$e=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],F$e=Phe(jce,"div"),B$e=Phe(dC,"g",D$e),wD={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function U$e(t,e){return Lhe(t,{})||{type:"root",children:[]}}function Lhe(t,e){const n=j$e(t,e);return n&&e.afterTransform&&e.afterTransform(t,n),n}function j$e(t,e){switch(t.nodeType){case 1:return H$e(t,e);case 3:return $$e(t);case 8:return q$e(t);case 9:return wte(t,e);case 10:return z$e();case 11:return wte(t,e);default:return}}function wte(t,e){return{type:"root",children:Dhe(t,e)}}function z$e(){return{type:"doctype"}}function $$e(t){return{type:"text",value:t.nodeValue||""}}function q$e(t){return{type:"comment",value:t.nodeValue||""}}function H$e(t,e){const n=t.namespaceURI,r=n===wD.svg?B$e:F$e,i=n===wD.html?t.tagName.toLowerCase():t.tagName,a=n===wD.html&&i==="template"?t.content:t,s=t.getAttributeNames(),o={};let l=-1;for(;++l<s.length;)o[s[l]]=t.getAttribute(s[l])||"";return r(i,o,Dhe(a,e))}function Dhe(t,e){const n=t.childNodes,r=[];let i=-1;for(;++i<n.length;){const a=Lhe(n[i],e);a!==void 0&&r.push(a)}return r}new DOMParser;function V$e(t,e){const n=G$e(t);return U$e(n)}function G$e(t){const e=document.createElement("template");return e.innerHTML=t,e.content}const _te=function(t,e,n){const r=wS(n);if(!t||!t.type||!t.children)throw new Error("Expected parent node");if(typeof e=="number"){if(e<0||e===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(e=t.children.indexOf(e),e<0)throw new Error("Expected child node or index");for(;++e<t.children.length;)if(r(t.children[e],e,t))return t.children[e]},O0=function(t){if(t==null)return Y$e;if(typeof t=="string")return K$e(t);if(typeof t=="object")return W$e(t);if(typeof t=="function")return l9(t);throw new Error("Expected function, string, or array as `test`")};function W$e(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=O0(t[n]);return l9(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function K$e(t){return l9(e);function e(n){return n.tagName===t}}function l9(t){return e;function e(n,r,i){return!!(X$e(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Y$e(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="element"&&"tagName"in t&&typeof t.tagName=="string")}function X$e(t){return t!==null&&typeof t=="object"&&"type"in t&&"tagName"in t}const Ste=/\n/g,xte=/[\t ]+/g,z5=O0("br"),Ete=O0(iqe),Z$e=O0("p"),kte=O0("tr"),Q$e=O0(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",rqe,aqe]),Fhe=O0(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function J$e(t,e){const n=e||{},r="children"in t?t.children:[],i=Fhe(t),a=jhe(t,{whitespace:n.whitespace||"normal"}),s=[];(t.type==="text"||t.type==="comment")&&s.push(...Uhe(t,{breakBefore:!0,breakAfter:!0}));let o=-1;for(;++o<r.length;)s.push(...Bhe(r[o],t,{whitespace:a,breakBefore:o?void 0:i,breakAfter:o<r.length-1?z5(r[o+1]):i}));const l=[];let u;for(o=-1;++o<s.length;){const d=s[o];typeof d=="number"?u!==void 0&&d>u&&(u=d):d&&(u!==void 0&&u>-1&&l.push(`
`.repeat(u)||" "),u=-1,l.push(d))}return l.join("")}function Bhe(t,e,n){return t.type==="element"?eqe(t,e,n):t.type==="text"?n.whitespace==="normal"?Uhe(t,n):tqe(t):[]}function eqe(t,e,n){const r=jhe(t,n),i=t.children||[];let a=-1,s=[];if(Q$e(t))return s;let o,l;for(z5(t)||kte(t)&&_te(e,t,kte)?l=`
`:Z$e(t)?(o=2,l=2):Fhe(t)&&(o=1,l=1);++a<i.length;)s=s.concat(Bhe(i[a],t,{whitespace:r,breakBefore:a?void 0:o,breakAfter:a<i.length-1?z5(i[a+1]):l}));return Ete(t)&&_te(e,t,Ete)&&s.push("	"),o&&s.unshift(o),l&&s.push(l),s}function Uhe(t,e){const n=String(t.value),r=[],i=[];let a=0;for(;a<=n.length;){Ste.lastIndex=a;const l=Ste.exec(n),u=l&&"index"in l?l.index:n.length;r.push(nqe(n.slice(a,u).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),a===0?e.breakBefore:!0,u===n.length?e.breakAfter:!0)),a=u+1}let s=-1,o;for(;++s<r.length;)r[s].charCodeAt(r[s].length-1)===8203||s<r.length-1&&r[s+1].charCodeAt(0)===8203?(i.push(r[s]),o=void 0):r[s]?(typeof o=="number"&&i.push(o),i.push(r[s]),o=0):(s===0||s===r.length-1)&&i.push(0);return i}function tqe(t){return[String(t.value)]}function nqe(t,e,n){const r=[];let i=0,a;for(;i<t.length;){xte.lastIndex=i;const s=xte.exec(t);a=s?s.index:t.length,!i&&!a&&s&&!e&&r.push(""),i!==a&&r.push(t.slice(i,a)),i=s?a+s[0].length:a}return i!==a&&!n&&r.push(""),r.join(" ")}function jhe(t,e){if(t.type==="element"){const n=t.properties||{};switch(t.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":e.whitespace;case"textarea":return"pre-wrap"}}return e.whitespace}function rqe(t){return!!(t.properties||{}).hidden}function iqe(t){return t.tagName==="td"||t.tagName==="th"}function aqe(t){return t.tagName==="dialog"&&!(t.properties||{}).open}const sqe={},oqe=[];function lqe(t){const e=t||sqe;return function(n,r){RF(n,"element",function(i,a){const s=Array.isArray(i.properties.className)?i.properties.className:oqe,o=s.includes("language-math"),l=s.includes("math-display"),u=s.includes("math-inline");let d=l;if(!o&&!l&&!u)return;let h=a[a.length-1],p=i;if(i.tagName==="code"&&o&&h&&h.type==="element"&&h.tagName==="pre"&&(p=h,h=a[a.length-2],d=!0),!h)return;const m=J$e(p,{whitespace:"pre"});let v;try{v=yte.renderToString(m,{...e,displayMode:d,throwOnError:!0})}catch(k){const T=k,C=T.name.toLowerCase();r.message("Could not render math with KaTeX",{ancestors:[...a,i],cause:T,place:i.position,ruleId:C,source:"rehype-katex"});try{v=yte.renderToString(m,{...e,displayMode:d,strict:"ignore",throwOnError:!1})}catch{v=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(e.errorColor||"#cc0000"),title:String(k)},children:[{type:"text",value:m}]}]}}typeof v=="string"&&(v=V$e(v).children);const w=h.children.indexOf(p);return h.children.splice(w,1,...v),fde})}}function Tte(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function uqe(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function cqe(t,e,n){const i=wS((n||{}).ignore||[]),a=dqe(e);let s=-1;for(;++s<a.length;)RF(t,"text",o);function o(u,d){let h=-1,p;for(;++h<d.length;){const m=d[h],v=p?p.children:void 0;if(i(m,v?v.indexOf(m):void 0,p))return;p=m}if(p)return l(u,d)}function l(u,d){const h=d[d.length-1],p=a[s][0],m=a[s][1];let v=0;const k=h.children.indexOf(u);let T=!1,C=[];p.lastIndex=0;let N=p.exec(u.value);for(;N;){const F=N.index,D={index:N.index,input:N.input,stack:[...d,u]};let U=m(...N,D);if(typeof U=="string"&&(U=U.length>0?{type:"text",value:U}:void 0),U===!1?p.lastIndex=F+1:(v!==F&&C.push({type:"text",value:u.value.slice(v,F)}),Array.isArray(U)?C.push(...U):U&&C.push(U),v=F+N[0].length,T=!0),!p.global)break;N=p.exec(u.value)}return T?(v<u.value.length&&C.push({type:"text",value:u.value.slice(v)}),h.children.splice(k,1,...C)):C=[u],k+C.length}}function dqe(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([hqe(i[0]),fqe(i[1])])}return e}function hqe(t){return typeof t=="string"?new RegExp(uqe(t),"g"):t}function fqe(t){return typeof t=="function"?t:function(){return t}}const _D="phrasing",SD=["autolink","link","image","label"];function pqe(){return{transforms:[_qe],enter:{literalAutolink:gqe,literalAutolinkEmail:xD,literalAutolinkHttp:xD,literalAutolinkWww:xD},exit:{literalAutolink:wqe,literalAutolinkEmail:vqe,literalAutolinkHttp:yqe,literalAutolinkWww:bqe}}}function mqe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:_D,notInConstruct:SD},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:_D,notInConstruct:SD},{character:":",before:"[ps]",after:"\\/",inConstruct:_D,notInConstruct:SD}]}}function gqe(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function xD(t){this.config.enter.autolinkProtocol.call(this,t)}function yqe(t){this.config.exit.autolinkProtocol.call(this,t)}function bqe(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function vqe(t){this.config.exit.autolinkEmail.call(this,t)}function wqe(t){this.exit(t)}function _qe(t){cqe(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Sqe],[/(?<=^|\s|\p{P}|\p{S})([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/gu,xqe]],{ignore:["link","linkReference"]})}function Sqe(t,e,n,r,i){let a="";if(!zhe(i)||(/^w/i.test(e)&&(n=e+n,e="",a="http://"),!Eqe(n)))return!1;const s=kqe(n+r);if(!s[0])return!1;const o={type:"link",title:null,url:a+e+s[0],children:[{type:"text",value:e+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function xqe(t,e,n,r){return!zhe(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function Eqe(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function kqe(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=Tte(t,"(");let a=Tte(t,")");for(;r!==-1&&i>a;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[t,n]}function zhe(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||_0(n)||hC(n))&&(!e||n!==47)}$he.peek=Pqe;function Tqe(){this.buffer()}function Aqe(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function Cqe(){this.buffer()}function Rqe(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function Iqe(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=zc(this.sliceSerialize(t)).toLowerCase(),n.label=e}function Nqe(t){this.exit(t)}function Oqe(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=zc(this.sliceSerialize(t)).toLowerCase(),n.label=e}function Mqe(t){this.exit(t)}function Pqe(){return"["}function $he(t,e,n,r){const i=n.createTracker(r);let a=i.move("[^");const s=n.enter("footnoteReference"),o=n.enter("reference");return a+=i.move(n.safe(n.associationId(t),{after:"]",before:a})),o(),s(),a+=i.move("]"),a}function Lqe(){return{enter:{gfmFootnoteCallString:Tqe,gfmFootnoteCall:Aqe,gfmFootnoteDefinitionLabelString:Cqe,gfmFootnoteDefinition:Rqe},exit:{gfmFootnoteCallString:Iqe,gfmFootnoteCall:Nqe,gfmFootnoteDefinitionLabelString:Oqe,gfmFootnoteDefinition:Mqe}}}function Dqe(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:$he},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,s){const o=a.createTracker(s);let l=o.move("[^");const u=a.enter("footnoteDefinition"),d=a.enter("label");return l+=o.move(a.safe(a.associationId(r),{before:l,after:"]"})),d(),l+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),l+=o.move((e?`
`:" ")+a.indentLines(a.containerFlow(r,o.current()),e?qhe:Fqe))),u(),l}}function Fqe(t,e,n){return e===0?t:qhe(t,e,n)}function qhe(t,e,n){return(n?"":"    ")+t}const Bqe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Hhe.peek=qqe;function Uqe(){return{canContainEols:["delete"],enter:{strikethrough:zqe},exit:{strikethrough:$qe}}}function jqe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Bqe}],handlers:{delete:Hhe}}}function zqe(t){this.enter({type:"delete",children:[]},t)}function $qe(t){this.exit(t)}function Hhe(t,e,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(t,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function qqe(){return"~"}function Hqe(t){return t.length}function Vqe(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||Hqe,a=[],s=[],o=[],l=[];let u=0,d=-1;for(;++d<t.length;){const w=[],k=[];let T=-1;for(t[d].length>u&&(u=t[d].length);++T<t[d].length;){const C=Gqe(t[d][T]);if(n.alignDelimiters!==!1){const N=i(C);k[T]=N,(l[T]===void 0||N>l[T])&&(l[T]=N)}w.push(C)}s[d]=w,o[d]=k}let h=-1;if(typeof r=="object"&&"length"in r)for(;++h<u;)a[h]=Ate(r[h]);else{const w=Ate(r);for(;++h<u;)a[h]=w}h=-1;const p=[],m=[];for(;++h<u;){const w=a[h];let k="",T="";w===99?(k=":",T=":"):w===108?k=":":w===114&&(T=":");let C=n.alignDelimiters===!1?1:Math.max(1,l[h]-k.length-T.length);const N=k+"-".repeat(C)+T;n.alignDelimiters!==!1&&(C=k.length+C+T.length,C>l[h]&&(l[h]=C),m[h]=C),p[h]=N}s.splice(1,0,p),o.splice(1,0,m),d=-1;const v=[];for(;++d<s.length;){const w=s[d],k=o[d];h=-1;const T=[];for(;++h<u;){const C=w[h]||"";let N="",F="";if(n.alignDelimiters!==!1){const D=l[h]-(k[h]||0),U=a[h];U===114?N=" ".repeat(D):U===99?D%2?(N=" ".repeat(D/2+.5),F=" ".repeat(D/2-.5)):(N=" ".repeat(D/2),F=N):F=" ".repeat(D)}n.delimiterStart!==!1&&!h&&T.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&C==="")&&(n.delimiterStart!==!1||h)&&T.push(" "),n.alignDelimiters!==!1&&T.push(N),T.push(C),n.alignDelimiters!==!1&&T.push(F),n.padding!==!1&&T.push(" "),(n.delimiterEnd!==!1||h!==u-1)&&T.push("|")}v.push(n.delimiterEnd===!1?T.join("").replace(/ +$/,""):T.join(""))}return v.join(`
`)}function Gqe(t){return t==null?"":String(t)}function Ate(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function Wqe(t,e,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const s=n.indentLines(n.containerFlow(t,a.current()),Kqe);return i(),s}function Kqe(t,e,n){return">"+(n?"":" ")+t}function Yqe(t,e){return Cte(t,e.inConstruct,!0)&&!Cte(t,e.notInConstruct,!1)}function Cte(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function Rte(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Yqe(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Xqe(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function Zqe(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Qqe(t,e,n,r){const i=Zqe(n),a=t.value||"",s=i==="`"?"GraveAccent":"Tilde";if(Xqe(t,n)){const h=n.enter("codeIndented"),p=n.indentLines(a,Jqe);return h(),p}const o=n.createTracker(r),l=i.repeat(Math.max(Pde(a,i)+1,3)),u=n.enter("codeFenced");let d=o.move(l);if(t.lang){const h=n.enter(`codeFencedLang${s}`);d+=o.move(n.safe(t.lang,{before:d,after:" ",encode:["`"],...o.current()})),h()}if(t.lang&&t.meta){const h=n.enter(`codeFencedMeta${s}`);d+=o.move(" "),d+=o.move(n.safe(t.meta,{before:d,after:`
`,encode:["`"],...o.current()})),h()}return d+=o.move(`
`),a&&(d+=o.move(a+`
`)),d+=o.move(l),u(),d}function Jqe(t,e,n){return(n?"":"    ")+t}function u9(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function eHe(t,e,n,r){const i=u9(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(t),{before:u,after:"]",...l.current()})),u+=l.move("]: "),o(),!t.url||/[\0- \u007F]/.test(t.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":`
`,...l.current()}))),o(),t.title&&(o=n.enter(`title${a}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),s(),u}function tHe(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function R1(t){return"&#x"+t.toString(16).toUpperCase()+";"}function PT(t,e,n){const r=qb(t),i=qb(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Vhe.peek=nHe;function Vhe(t,e,n,r){const i=tHe(n),a=n.enter("emphasis"),s=n.createTracker(r),o=s.move(i);let l=s.move(n.containerPhrasing(t,{after:i,before:o,...s.current()}));const u=l.charCodeAt(0),d=PT(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(l=R1(u)+l.slice(1));const h=l.charCodeAt(l.length-1),p=PT(r.after.charCodeAt(0),h,i);p.inside&&(l=l.slice(0,-1)+R1(h));const m=s.move(i);return a(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},o+l+m}function nHe(t,e,n){return n.options.emphasis||"*"}function rHe(t,e){let n=!1;return IF(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,E5}),!!((!t.depth||t.depth<3)&&SF(t)&&(e.options.setext||n))}function iHe(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),a=n.createTracker(r);if(rHe(t,n)){const d=n.enter("headingSetext"),h=n.enter("phrasing"),p=n.containerPhrasing(t,{...a.current(),before:`
`,after:`
`});return h(),d(),p+`
`+(i===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const s="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");a.move(s+" ");let u=n.containerPhrasing(t,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(u)&&(u=R1(u.charCodeAt(0))+u.slice(1)),u=u?s+" "+u:s,n.options.closeAtx&&(u+=" "+s),l(),o(),u}Ghe.peek=aHe;function Ghe(t){return t.value||""}function aHe(){return"<"}Whe.peek=sHe;function Whe(t,e,n,r){const i=u9(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(t.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),o(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":")",...l.current()}))),o(),t.title&&(o=n.enter(`title${a}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),u+=l.move(")"),s(),u}function sHe(){return"!"}Khe.peek=oHe;function Khe(t,e,n,r){const i=t.referenceType,a=n.enter("imageReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const u=n.safe(t.alt,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const h=n.safe(n.associationId(t),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!u||u!==h?l+=o.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function oHe(){return"!"}Yhe.peek=lHe;function Yhe(t,e,n){let r=t.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const s=n.unsafe[a],o=n.compilePattern(s);let l;if(s.atBreak)for(;l=o.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function lHe(){return"`"}function Xhe(t,e){const n=SF(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}Zhe.peek=uHe;function Zhe(t,e,n,r){const i=u9(n),a=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let o,l;if(Xhe(t,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let h=s.move("<");return h+=s.move(n.containerPhrasing(t,{before:h,after:">",...s.current()})),h+=s.move(">"),o(),n.stack=d,h}o=n.enter("link"),l=n.enter("label");let u=s.move("[");return u+=s.move(n.containerPhrasing(t,{before:u,after:"](",...s.current()})),u+=s.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(n.safe(t.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(l=n.enter("destinationRaw"),u+=s.move(n.safe(t.url,{before:u,after:t.title?" ":")",...s.current()}))),l(),t.title&&(l=n.enter(`title${a}`),u+=s.move(" "+i),u+=s.move(n.safe(t.title,{before:u,after:i,...s.current()})),u+=s.move(i),l()),u+=s.move(")"),o(),u}function uHe(t,e,n){return Xhe(t,n)?"<":"["}Qhe.peek=cHe;function Qhe(t,e,n,r){const i=t.referenceType,a=n.enter("linkReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const u=n.containerPhrasing(t,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const h=n.safe(n.associationId(t),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!u||u!==h?l+=o.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function cHe(){return"["}function c9(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function dHe(t){const e=c9(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function hHe(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Jhe(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function fHe(t,e,n,r){const i=n.enter("list"),a=n.bulletCurrent;let s=t.ordered?hHe(n):c9(n);const o=t.ordered?s==="."?")":".":dHe(n);let l=e&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!t.ordered){const d=t.children?t.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),Jhe(n)===s&&d){let h=-1;for(;++h<t.children.length;){const p=t.children[h];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=o),n.bulletCurrent=s;const u=n.containerFlow(t,r);return n.bulletLastUsed=s,n.bulletCurrent=a,i(),u}function pHe(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function mHe(t,e,n,r){const i=pHe(n);let a=n.bulletCurrent||c9(n);e&&e.type==="list"&&e.ordered&&(a=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+a);let s=a.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(s=Math.ceil(s/4)*4);const o=n.createTracker(r);o.move(a+" ".repeat(s-a.length)),o.shift(s);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,o.current()),d);return l(),u;function d(h,p,m){return p?(m?"":" ".repeat(s))+h:(m?a:a+" ".repeat(s-a.length))+h}}function gHe(t,e,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),s=n.containerPhrasing(t,r);return a(),i(),s}const yHe=wS(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function bHe(t,e,n,r){return(t.children.some(function(s){return yHe(s)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function vHe(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}efe.peek=wHe;function efe(t,e,n,r){const i=vHe(n),a=n.enter("strong"),s=n.createTracker(r),o=s.move(i+i);let l=s.move(n.containerPhrasing(t,{after:i,before:o,...s.current()}));const u=l.charCodeAt(0),d=PT(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(l=R1(u)+l.slice(1));const h=l.charCodeAt(l.length-1),p=PT(r.after.charCodeAt(0),h,i);p.inside&&(l=l.slice(0,-1)+R1(h));const m=s.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},o+l+m}function wHe(t,e,n){return n.options.strong||"*"}function _He(t,e,n,r){return n.safe(t.value,r)}function SHe(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function xHe(t,e,n){const r=(Jhe(n)+(n.options.ruleSpaces?" ":"")).repeat(SHe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const tfe={blockquote:Wqe,break:Rte,code:Qqe,definition:eHe,emphasis:Vhe,hardBreak:Rte,heading:iHe,html:Ghe,image:Whe,imageReference:Khe,inlineCode:Yhe,link:Zhe,linkReference:Qhe,list:fHe,listItem:mHe,paragraph:gHe,root:bHe,strong:efe,text:_He,thematicBreak:xHe};function EHe(){return{enter:{table:kHe,tableData:Ite,tableHeader:Ite,tableRow:AHe},exit:{codeText:CHe,table:THe,tableData:ED,tableHeader:ED,tableRow:ED}}}function kHe(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function THe(t){this.exit(t),this.data.inTable=void 0}function AHe(t){this.enter({type:"tableRow",children:[]},t)}function ED(t){this.exit(t)}function Ite(t){this.enter({type:"tableCell",children:[]},t)}function CHe(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,RHe));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function RHe(t,e){return e==="|"?e:t}function IHe(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:s,tableCell:l,tableRow:o}};function s(m,v,w,k){return u(d(m,w,k),m.align)}function o(m,v,w,k){const T=h(m,w,k),C=u([T]);return C.slice(0,C.indexOf(`
`))}function l(m,v,w,k){const T=w.enter("tableCell"),C=w.enter("phrasing"),N=w.containerPhrasing(m,{...k,before:a,after:a});return C(),T(),N}function u(m,v){return Vqe(m,{align:v,alignDelimiters:r,padding:n,stringLength:i})}function d(m,v,w){const k=m.children;let T=-1;const C=[],N=v.enter("table");for(;++T<k.length;)C[T]=h(k[T],v,w);return N(),C}function h(m,v,w){const k=m.children;let T=-1;const C=[],N=v.enter("tableRow");for(;++T<k.length;)C[T]=l(k[T],m,v,w);return N(),C}function p(m,v,w){let k=tfe.inlineCode(m,v,w);return w.stack.includes("tableCell")&&(k=k.replace(/\|/g,"\\$&")),k}}function NHe(){return{exit:{taskListCheckValueChecked:Nte,taskListCheckValueUnchecked:Nte,paragraph:MHe}}}function OHe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:PHe}}}function Nte(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function MHe(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let a=-1,s;for(;++a<i.length;){const o=i[a];if(o.type==="paragraph"){s=o;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function PHe(t,e,n,r){const i=t.children[0],a=typeof t.checked=="boolean"&&i&&i.type==="paragraph",s="["+(t.checked?"x":" ")+"] ",o=n.createTracker(r);a&&o.move(s);let l=tfe.listItem(t,e,n,{...r,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(d){return d+s}}function LHe(){return[pqe(),Lqe(),Uqe(),EHe(),NHe()]}function DHe(t){return{extensions:[mqe(),Dqe(t),jqe(),IHe(t),OHe()]}}const FHe={tokenize:qHe,partial:!0},nfe={tokenize:HHe,partial:!0},rfe={tokenize:VHe,partial:!0},ife={tokenize:GHe,partial:!0},BHe={tokenize:WHe,partial:!0},afe={name:"wwwAutolink",tokenize:zHe,previous:ofe},sfe={name:"protocolAutolink",tokenize:$He,previous:lfe},jf={name:"emailAutolink",tokenize:jHe,previous:ufe},ih={};function UHe(){return{text:ih}}let Ng=48;for(;Ng<123;)ih[Ng]=jf,Ng++,Ng===58?Ng=65:Ng===91&&(Ng=97);ih[43]=jf;ih[45]=jf;ih[46]=jf;ih[95]=jf;ih[72]=[jf,sfe];ih[104]=[jf,sfe];ih[87]=[jf,afe];ih[119]=[jf,afe];function jHe(t,e,n){const r=this;let i,a;return s;function s(h){return!$5(h)||!ufe.call(r,r.previous)||d9(r.events)?n(h):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),o(h))}function o(h){return $5(h)?(t.consume(h),o):h===64?(t.consume(h),l):n(h)}function l(h){return h===46?t.check(BHe,d,u)(h):h===45||h===95||ro(h)?(a=!0,t.consume(h),l):d(h)}function u(h){return t.consume(h),i=!0,l}function d(h){return a&&i&&Oo(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(h)):n(h)}}function zHe(t,e,n){const r=this;return i;function i(s){return s!==87&&s!==119||!ofe.call(r,r.previous)||d9(r.events)?n(s):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(FHe,t.attempt(nfe,t.attempt(rfe,a),n),n)(s))}function a(s){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(s)}}function $He(t,e,n){const r=this;let i="",a=!1;return s;function s(h){return(h===72||h===104)&&lfe.call(r,r.previous)&&!d9(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),t.consume(h),o):n(h)}function o(h){if(Oo(h)&&i.length<5)return i+=String.fromCodePoint(h),t.consume(h),o;if(h===58){const p=i.toLowerCase();if(p==="http"||p==="https")return t.consume(h),l}return n(h)}function l(h){return h===47?(t.consume(h),a?u:(a=!0,l)):n(h)}function u(h){return h===null||TT(h)||Ci(h)||_0(h)||hC(h)?n(h):t.attempt(nfe,t.attempt(rfe,d),n)(h)}function d(h){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(h)}}function qHe(t,e,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,t.consume(s),i):s===46&&r===3?(t.consume(s),a):n(s)}function a(s){return s===null?n(s):e(s)}}function HHe(t,e,n){let r,i,a;return s;function s(u){return u===46||u===95?t.check(ife,l,o)(u):u===null||Ci(u)||_0(u)||u!==45&&hC(u)?l(u):(a=!0,t.consume(u),s)}function o(u){return u===95?r=!0:(i=r,r=void 0),t.consume(u),s}function l(u){return i||r||!a?n(u):e(u)}}function VHe(t,e){let n=0,r=0;return i;function i(s){return s===40?(n++,t.consume(s),i):s===41&&r<n?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?t.check(ife,e,a)(s):s===null||Ci(s)||_0(s)?e(s):(t.consume(s),i)}function a(s){return s===41&&r++,t.consume(s),i}}function GHe(t,e,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(t.consume(o),r):o===38?(t.consume(o),a):o===93?(t.consume(o),i):o===60||o===null||Ci(o)||_0(o)?e(o):n(o)}function i(o){return o===null||o===40||o===91||Ci(o)||_0(o)?e(o):r(o)}function a(o){return Oo(o)?s(o):n(o)}function s(o){return o===59?(t.consume(o),r):Oo(o)?(t.consume(o),s):n(o)}}function WHe(t,e,n){return r;function r(a){return t.consume(a),i}function i(a){return ro(a)?n(a):e(a)}}function ofe(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Ci(t)}function lfe(t){return!Oo(t)}function ufe(t){return!(t===47||$5(t))}function $5(t){return t===43||t===45||t===46||t===95||ro(t)}function d9(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const KHe={tokenize:nVe,partial:!0};function YHe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:JHe,continuation:{tokenize:eVe},exit:tVe}},text:{91:{name:"gfmFootnoteCall",tokenize:QHe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:XHe,resolveTo:ZHe}}}}function XHe(t,e,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!s||!s._balanced)return n(l);const u=zc(r.sliceSerialize({start:s.end,end:r.now()}));return u.codePointAt(0)!==94||!a.includes(u.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function ZHe(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",a,e],["enter",s,e],["exit",s,e],["exit",a,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...o),t}function QHe(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,s;return o;function o(h){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),l}function l(h){return h!==94?n(h):(t.enter("gfmFootnoteCallMarker"),t.consume(h),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(h){if(a>999||h===93&&!s||h===null||h===91||Ci(h))return n(h);if(h===93){t.exit("chunkString");const p=t.exit("gfmFootnoteCallString");return i.includes(zc(r.sliceSerialize(p)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(h)}return Ci(h)||(s=!0),a++,t.consume(h),h===92?d:u}function d(h){return h===91||h===92||h===93?(t.consume(h),a++,u):u(h)}}function JHe(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,s=0,o;return l;function l(v){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(v){return v===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",d):n(v)}function d(v){if(s>999||v===93&&!o||v===null||v===91||Ci(v))return n(v);if(v===93){t.exit("chunkString");const w=t.exit("gfmFootnoteDefinitionLabelString");return a=zc(r.sliceSerialize(w)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),p}return Ci(v)||(o=!0),s++,t.consume(v),v===92?h:d}function h(v){return v===91||v===92||v===93?(t.consume(v),s++,d):d(v)}function p(v){return v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),i.includes(a)||i.push(a),kr(t,m,"gfmFootnoteDefinitionWhitespace")):n(v)}function m(v){return e(v)}}function eVe(t,e,n){return t.check(vS,e,t.attempt(KHe,e,n))}function tVe(t){t.exit("gfmFootnoteDefinition")}function nVe(t,e,n){const r=this;return kr(t,i,"gfmFootnoteDefinitionIndent",5);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?e(a):n(a)}}function rVe(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,o){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let u=l;for(;u--;)if(s[u][0]==="exit"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[u][1].end.offset-s[u][1].start.offset){s[l][1].type="strikethroughSequence",s[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},s[u][1].start),end:Object.assign({},s[l][1].end)},h={type:"strikethroughText",start:Object.assign({},s[u][1].end),end:Object.assign({},s[l][1].start)},p=[["enter",d,o],["enter",s[u][1],o],["exit",s[u][1],o],["enter",h,o]],m=o.parser.constructs.insideSpan.null;m&&Jl(p,p.length,0,fC(m,s.slice(u+1,l),o)),Jl(p,p.length,0,[["exit",h,o],["enter",s[l][1],o],["exit",s[l][1],o],["exit",d,o]]),Jl(s,u-1,l-u+3,p),l=u+p.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function a(s,o,l){const u=this.previous,d=this.events;let h=0;return p;function p(v){return u===126&&d[d.length-1][1].type!=="characterEscape"?l(v):(s.enter("strikethroughSequenceTemporary"),m(v))}function m(v){const w=qb(u);if(v===126)return h>1?l(v):(s.consume(v),h++,m);if(h<2&&!n)return l(v);const k=s.exit("strikethroughSequenceTemporary"),T=qb(v);return k._open=!T||T===2&&!!w,k._close=!w||w===2&&!!T,o(v)}}}class iVe{constructor(){this.map=[]}add(e,n,r){aVe(this,e,n,r)}consume(e){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const a of i)e.push(a);i=r.pop()}this.map.length=0}}function aVe(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function sVe(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function oVe(){return{flow:{null:{name:"table",tokenize:lVe,resolveAll:uVe}}}}function lVe(t,e,n){const r=this;let i=0,a=0,s;return o;function o(Q){let ce=r.events.length-1;for(;ce>-1;){const xe=r.events[ce][1].type;if(xe==="lineEnding"||xe==="linePrefix")ce--;else break}const Ie=ce>-1?r.events[ce][1].type:null,qe=Ie==="tableHead"||Ie==="tableRow"?U:l;return qe===U&&r.parser.lazy[r.now().line]?n(Q):qe(Q)}function l(Q){return t.enter("tableHead"),t.enter("tableRow"),u(Q)}function u(Q){return Q===124||(s=!0,a+=1),d(Q)}function d(Q){return Q===null?n(Q):Cn(Q)?a>1?(a=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(Q),t.exit("lineEnding"),m):n(Q):Cr(Q)?kr(t,d,"whitespace")(Q):(a+=1,s&&(s=!1,i+=1),Q===124?(t.enter("tableCellDivider"),t.consume(Q),t.exit("tableCellDivider"),s=!0,d):(t.enter("data"),h(Q)))}function h(Q){return Q===null||Q===124||Ci(Q)?(t.exit("data"),d(Q)):(t.consume(Q),Q===92?p:h)}function p(Q){return Q===92||Q===124?(t.consume(Q),h):h(Q)}function m(Q){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(Q):(t.enter("tableDelimiterRow"),s=!1,Cr(Q)?kr(t,v,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Q):v(Q))}function v(Q){return Q===45||Q===58?k(Q):Q===124?(s=!0,t.enter("tableCellDivider"),t.consume(Q),t.exit("tableCellDivider"),w):D(Q)}function w(Q){return Cr(Q)?kr(t,k,"whitespace")(Q):k(Q)}function k(Q){return Q===58?(a+=1,s=!0,t.enter("tableDelimiterMarker"),t.consume(Q),t.exit("tableDelimiterMarker"),T):Q===45?(a+=1,T(Q)):Q===null||Cn(Q)?F(Q):D(Q)}function T(Q){return Q===45?(t.enter("tableDelimiterFiller"),C(Q)):D(Q)}function C(Q){return Q===45?(t.consume(Q),C):Q===58?(s=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(Q),t.exit("tableDelimiterMarker"),N):(t.exit("tableDelimiterFiller"),N(Q))}function N(Q){return Cr(Q)?kr(t,F,"whitespace")(Q):F(Q)}function F(Q){return Q===124?v(Q):Q===null||Cn(Q)?!s||i!==a?D(Q):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(Q)):D(Q)}function D(Q){return n(Q)}function U(Q){return t.enter("tableRow"),G(Q)}function G(Q){return Q===124?(t.enter("tableCellDivider"),t.consume(Q),t.exit("tableCellDivider"),G):Q===null||Cn(Q)?(t.exit("tableRow"),e(Q)):Cr(Q)?kr(t,G,"whitespace")(Q):(t.enter("data"),se(Q))}function se(Q){return Q===null||Q===124||Ci(Q)?(t.exit("data"),G(Q)):(t.consume(Q),Q===92?re:se)}function re(Q){return Q===92||Q===124?(t.consume(Q),se):se(Q)}}function uVe(t,e){let n=-1,r=!0,i=0,a=[0,0,0,0],s=[0,0,0,0],o=!1,l=0,u,d,h;const p=new iVe;for(;++n<t.length;){const m=t[n],v=m[1];m[0]==="enter"?v.type==="tableHead"?(o=!1,l!==0&&(Ote(p,e,l,u,d),d=void 0,l=0),u={type:"table",start:Object.assign({},v.start),end:Object.assign({},v.end)},p.add(n,0,[["enter",u,e]])):v.type==="tableRow"||v.type==="tableDelimiterRow"?(r=!0,h=void 0,a=[0,0,0,0],s=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},v.start),end:Object.assign({},v.end)},p.add(n,0,[["enter",d,e]])),i=v.type==="tableDelimiterRow"?2:d?3:1):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],h=RE(p,e,a,i,void 0,h),a=[0,0,0,0]),s[2]=n)):v.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(s[0]=s[1],h=RE(p,e,a,i,void 0,h)),a=s,s=[a[1],n,0,0])):v.type==="tableHead"?(o=!0,l=n):v.type==="tableRow"||v.type==="tableDelimiterRow"?(l=n,a[1]!==0?(s[0]=s[1],h=RE(p,e,a,i,n,h)):s[1]!==0&&(h=RE(p,e,s,i,n,h)),i=0):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&Ote(p,e,l,u,d),p.consume(e.events),n=-1;++n<e.events.length;){const m=e.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=sVe(e.events,n))}return t}function RE(t,e,n,r,i,a){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(a.end=Object.assign({},Py(e.events,n[0])),t.add(n[0],0,[["exit",a,e]]));const l=Py(e.events,n[1]);if(a={type:s,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",a,e]]),n[2]!==0){const u=Py(e.events,n[2]),d=Py(e.events,n[3]),h={type:o,start:Object.assign({},u),end:Object.assign({},d)};if(t.add(n[2],0,[["enter",h,e]]),r!==2){const p=e.events[n[2]],m=e.events[n[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const v=n[2]+1,w=n[3]-n[2]-1;t.add(v,w,[])}}t.add(n[3]+1,0,[["exit",h,e]])}return i!==void 0&&(a.end=Object.assign({},Py(e.events,i)),t.add(i,0,[["exit",a,e]]),a=void 0),a}function Ote(t,e,n,r,i){const a=[],s=Py(e.events,n);i&&(i.end=Object.assign({},s),a.push(["exit",i,e])),r.end=Object.assign({},s),a.push(["exit",r,e]),t.add(n+1,0,a)}function Py(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const cVe={name:"tasklistCheck",tokenize:hVe};function dVe(){return{text:{91:cVe}}}function hVe(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),a)}function a(l){return Ci(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),o):n(l)}function o(l){return Cn(l)?e(l):Cr(l)?t.check({tokenize:fVe},e,n)(l):n(l)}}function fVe(t,e,n){return kr(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function pVe(t){return Kce([UHe(),YHe(),rVe(t),oVe(),dVe()])}const mVe={};function gVe(t){const e=this,n=t||mVe,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(pVe(n)),a.push(LHe()),s.push(DHe(n))}const q5=_t.memo(({message:t})=>{const e=_t.useCallback(()=>{const n=String(t.content);navigator.clipboard.writeText(n).then(()=>Xl.success("Response copied to clipboard")).catch(()=>Xl.error("Failed to copy response"))},[t.content]);return z.jsxs("div",{className:"flex flex-col gap-1 group",children:[z.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:z.jsx(N6e,{remarkPlugins:[I$e,gVe],rehypePlugins:[lqe],components:{p(n){return z.jsx("p",{...n,className:"leading-7 mb-4"})},h1(n){return z.jsx("h1",{...n,className:"text-3xl font-bold tracking-tight mb-4 mt-8"})},h2(n){return z.jsx("h2",{...n,className:"text-2xl font-semibold tracking-tight mb-4 mt-8"})},h3(n){return z.jsx("h3",{...n,className:"text-xl font-semibold tracking-tight mb-4 mt-6"})},h4(n){return z.jsx("h4",{...n,className:"text-lg font-semibold tracking-tight mb-4 mt-6"})},code(n){const{children:r,className:i,...a}=n,s=/language-(\w+)/.exec(i||""),o=s?s[1]:"",l=String(r).replace(/\n$/,""),u=()=>{navigator.clipboard.writeText(l),Xl.success("Code copied to clipboard")};return s?z.jsxs("div",{className:"relative rounded-md overflow-hidden my-6",children:[z.jsxs("div",{className:"absolute right-2 top-2 flex items-center gap-2",children:[o&&z.jsx(Md,{variant:"secondary",className:"text-xs font-mono",children:o}),z.jsx(la,{variant:"ghost",size:"icon",className:"h-6 w-6 bg-muted/50 hover:bg-muted",onClick:u,children:z.jsx(U6,{className:"h-3 w-3"})})]}),z.jsx(Mde,{style:vje,language:o,PreTag:"div",customStyle:{margin:0,borderRadius:0,padding:"1.5rem"},children:l})]}):z.jsx("code",{...a,className:`${i} bg-muted px-1.5 py-0.5 rounded-md text-sm`,children:r})},a(n){return z.jsx("a",{...n,className:"text-primary hover:underline font-medium",target:"_blank",rel:"noopener noreferrer"})},table(n){return z.jsx("div",{className:"my-6 w-full overflow-y-auto",children:z.jsx("table",{...n,className:"w-full border-collapse table-auto"})})},th(n){return z.jsx("th",{...n,className:"border border-muted-foreground px-4 py-2 text-left font-semibold"})},td(n){return z.jsx("td",{...n,className:"border border-muted-foreground px-4 py-2"})},blockquote(n){return z.jsx("blockquote",{...n,className:"mt-6 border-l-4 border-primary pl-6 italic"})},ul(n){return z.jsx("ul",{...n,className:"my-6 ml-6 list-disc [&>li]:mt-2"})},ol(n){return z.jsx("ol",{...n,className:"my-6 ml-6 list-decimal [&>li]:mt-2"})},li(n){return z.jsx("li",{...n,className:"leading-7"})},hr(n){return z.jsx("hr",{...n,className:"my-6 border-muted"})}},children:String(t.content)})}),z.jsx("div",{className:"flex flex-row gap-1 opacity-0 group-hover:opacity-100",children:z.jsxs(la,{variant:"ghost",size:"sm",onClick:e,children:[z.jsx(U6,{className:"h-4 w-4 mr-2"}),"Copy response"]})})]})});q5.displayName="AIMessageComponent";const cfe=_t.memo(({messages:t,streamingHumanMessage:e,streamingAIMessageChunks:n,setPreviewDocument:r,onEditMessage:i,onRegenerateMessage:a,editingMessageIndex:s,onSaveEdit:o,onCancelEdit:l})=>{const{id:u}=Ase(),d=_t.useRef(null),[h,p]=_t.useState(!1),m=_t.useCallback(w=>{const k=w.target,T=k.scrollHeight-k.scrollTop-k.clientHeight>10;p(T)},[]),v=_t.useCallback(()=>{if(!d.current)return;const w=d.current;w.scrollTo({top:w.scrollHeight,behavior:"smooth"})},[]);return _t.useEffect(()=>{const w=d.current;if(w)return w.addEventListener("scroll",m),m({target:w}),()=>w.removeEventListener("scroll",m)},[m]),u==="new"||!t?z.jsx("div",{className:"flex-1 min-h-0",children:z.jsx(uS,{className:"h-full"})}):z.jsxs("div",{className:"flex-1 min-h-0 relative",children:[z.jsxs(x7,{className:"h-full",children:[z.jsx(Roe,{ref:d,className:"h-full w-full",children:z.jsxs("div",{className:"flex flex-col w-1/2 mx-auto gap-1 pb-4",children:[t.map((w,k)=>KIe(w)?z.jsx(v5,{message:w,setPreviewDocument:r,onEdit:()=>i(k),onRegenerate:()=>a(k),isEditing:s===k,onSave:o,onCancelEdit:l},k):pv(w)?z.jsx(q5,{message:w},k):null),e&&z.jsx(v5,{message:e,setPreviewDocument:r}),n.length>0&&z.jsx(q5,{message:new yl(n.map(w=>w.content).join(""))})]})}),z.jsx(NTe,{orientation:"vertical",children:z.jsx(OTe,{})})]}),h&&z.jsx(la,{variant:"secondary",size:"icon",className:"absolute left-1/2 -translate-x-1/2 z-50 bottom-4 rounded-full shadow-md hover:bg-accent bg-background/80 backdrop-blur-sm",onClick:v,children:z.jsx(jTe,{className:"h-4 w-4"})})]})});cfe.displayName="Messages";var H5=["Enter"," "],yVe=["ArrowDown","PageUp","Home"],dfe=["ArrowUp","PageDown","End"],bVe=[...yVe,...dfe],vVe={ltr:[...H5,"ArrowRight"],rtl:[...H5,"ArrowLeft"]},wVe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},TS="Menu",[I1,_Ve,SVe]=p7(TS),[M0,hfe]=Hu(TS,[SVe,cv,xA]),TC=cv(),ffe=xA(),[xVe,P0]=M0(TS),[EVe,AS]=M0(TS),pfe=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:a,modal:s=!0}=t,o=TC(e),[l,u]=$.useState(null),d=$.useRef(!1),h=ts(a),p=iS(i);return $.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),z.jsx(z7,{...o,children:z.jsx(xVe,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:u,children:z.jsx(EVe,{scope:e,onClose:$.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:p,modal:s,children:r})})})};pfe.displayName=TS;var kVe="MenuAnchor",h9=$.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=TC(n);return z.jsx($7,{...i,...r,ref:e})});h9.displayName=kVe;var f9="MenuPortal",[TVe,mfe]=M0(f9,{forceMount:void 0}),gfe=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,a=P0(f9,e);return z.jsx(TVe,{scope:e,forceMount:n,children:z.jsx(zo,{present:n||a.open,children:z.jsx(LA,{asChild:!0,container:i,children:r})})})};gfe.displayName=f9;var Uu="MenuContent",[AVe,p9]=M0(Uu),yfe=$.forwardRef((t,e)=>{const n=mfe(Uu,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=P0(Uu,t.__scopeMenu),s=AS(Uu,t.__scopeMenu);return z.jsx(I1.Provider,{scope:t.__scopeMenu,children:z.jsx(zo,{present:r||a.open,children:z.jsx(I1.Slot,{scope:t.__scopeMenu,children:s.modal?z.jsx(CVe,{...i,ref:e}):z.jsx(RVe,{...i,ref:e})})})})}),CVe=$.forwardRef((t,e)=>{const n=P0(Uu,t.__scopeMenu),r=$.useRef(null),i=Rr(e,r);return $.useEffect(()=>{const a=r.current;if(a)return G7(a)},[]),z.jsx(m9,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:un(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),RVe=$.forwardRef((t,e)=>{const n=P0(Uu,t.__scopeMenu);return z.jsx(m9,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),m9=$.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:m,disableOutsideScroll:v,...w}=t,k=P0(Uu,n),T=AS(Uu,n),C=TC(n),N=ffe(n),F=_Ve(n),[D,U]=$.useState(null),G=$.useRef(null),se=Rr(e,G,k.onContentChange),re=$.useRef(0),Q=$.useRef(""),ce=$.useRef(0),Ie=$.useRef(null),qe=$.useRef("right"),xe=$.useRef(0),Ce=v?FA:$.Fragment,ue=v?{as:eu,allowPinchZoom:!0}:void 0,ke=he=>{const j=Q.current+he,pe=F().filter(Ke=>!Ke.disabled),Ne=document.activeElement,ae=pe.find(Ke=>Ke.ref.current===Ne)?.textValue,He=pe.map(Ke=>Ke.textValue),it=zVe(He,j,ae),Xe=pe.find(Ke=>Ke.textValue===it)?.ref.current;(function Ke(ct){Q.current=ct,window.clearTimeout(re.current),ct!==""&&(re.current=window.setTimeout(()=>Ke(""),1e3))})(j),Xe&&setTimeout(()=>Xe.focus())};$.useEffect(()=>()=>window.clearTimeout(re.current),[]),N7();const Te=$.useCallback(he=>qe.current===Ie.current?.side&&qVe(he,Ie.current?.area),[]);return z.jsx(AVe,{scope:n,searchRef:Q,onItemEnter:$.useCallback(he=>{Te(he)&&he.preventDefault()},[Te]),onItemLeave:$.useCallback(he=>{Te(he)||(G.current?.focus(),U(null))},[Te]),onTriggerLeave:$.useCallback(he=>{Te(he)&&he.preventDefault()},[Te]),pointerGraceTimerRef:ce,onPointerGraceIntentChange:$.useCallback(he=>{Ie.current=he},[]),children:z.jsx(Ce,{...ue,children:z.jsx(NA,{asChild:!0,trapped:i,onMountAutoFocus:un(a,he=>{he.preventDefault(),G.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:z.jsx(dS,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:m,children:z.jsx($se,{asChild:!0,...N,dir:T.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:U,onEntryFocus:un(l,he=>{T.isUsingKeyboardRef.current||he.preventDefault()}),preventScrollOnEntryFocus:!0,children:z.jsx(q7,{role:"menu","aria-orientation":"vertical","data-state":Mfe(k.open),"data-radix-menu-content":"",dir:T.dir,...C,...w,ref:se,style:{outline:"none",...w.style},onKeyDown:un(w.onKeyDown,he=>{const pe=he.target.closest("[data-radix-menu-content]")===he.currentTarget,Ne=he.ctrlKey||he.altKey||he.metaKey,ae=he.key.length===1;pe&&(he.key==="Tab"&&he.preventDefault(),!Ne&&ae&&ke(he.key));const He=G.current;if(he.target!==He||!bVe.includes(he.key))return;he.preventDefault();const Xe=F().filter(Ke=>!Ke.disabled).map(Ke=>Ke.ref.current);dfe.includes(he.key)&&Xe.reverse(),UVe(Xe)}),onBlur:un(t.onBlur,he=>{he.currentTarget.contains(he.target)||(window.clearTimeout(re.current),Q.current="")}),onPointerMove:un(t.onPointerMove,N1(he=>{const j=he.target,pe=xe.current!==he.clientX;if(he.currentTarget.contains(j)&&pe){const Ne=he.clientX>xe.current?"right":"left";qe.current=Ne,xe.current=he.clientX}}))})})})})})})});yfe.displayName=Uu;var IVe="MenuGroup",g9=$.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return z.jsx(Gn.div,{role:"group",...r,ref:e})});g9.displayName=IVe;var NVe="MenuLabel",bfe=$.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return z.jsx(Gn.div,{...r,ref:e})});bfe.displayName=NVe;var LT="MenuItem",Mte="menu.itemSelect",AC=$.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,a=$.useRef(null),s=AS(LT,t.__scopeMenu),o=p9(LT,t.__scopeMenu),l=Rr(e,a),u=$.useRef(!1),d=()=>{const h=a.current;if(!n&&h){const p=new CustomEvent(Mte,{bubbles:!0,cancelable:!0});h.addEventListener(Mte,m=>r?.(m),{once:!0}),Dse(h,p),p.defaultPrevented?u.current=!1:s.onClose()}};return z.jsx(vfe,{...i,ref:l,disabled:n,onClick:un(t.onClick,d),onPointerDown:h=>{t.onPointerDown?.(h),u.current=!0},onPointerUp:un(t.onPointerUp,h=>{u.current||h.currentTarget?.click()}),onKeyDown:un(t.onKeyDown,h=>{const p=o.searchRef.current!=="";n||p&&h.key===" "||H5.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});AC.displayName=LT;var vfe=$.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=t,s=p9(LT,n),o=ffe(n),l=$.useRef(null),u=Rr(e,l),[d,h]=$.useState(!1),[p,m]=$.useState("");return $.useEffect(()=>{const v=l.current;v&&m((v.textContent??"").trim())},[a.children]),z.jsx(I1.ItemSlot,{scope:n,disabled:r,textValue:i??p,children:z.jsx(qse,{asChild:!0,...o,focusable:!r,children:z.jsx(Gn.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:u,onPointerMove:un(t.onPointerMove,N1(v=>{r?s.onItemLeave(v):(s.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:un(t.onPointerLeave,N1(v=>s.onItemLeave(v))),onFocus:un(t.onFocus,()=>h(!0)),onBlur:un(t.onBlur,()=>h(!1))})})})}),OVe="MenuCheckboxItem",wfe=$.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return z.jsx(kfe,{scope:t.__scopeMenu,checked:n,children:z.jsx(AC,{role:"menuitemcheckbox","aria-checked":DT(n)?"mixed":n,...i,ref:e,"data-state":b9(n),onSelect:un(i.onSelect,()=>r?.(DT(n)?!0:!n),{checkForDefaultPrevented:!1})})})});wfe.displayName=OVe;var _fe="MenuRadioGroup",[MVe,PVe]=M0(_fe,{value:void 0,onValueChange:()=>{}}),Sfe=$.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,a=ts(r);return z.jsx(MVe,{scope:t.__scopeMenu,value:n,onValueChange:a,children:z.jsx(g9,{...i,ref:e})})});Sfe.displayName=_fe;var xfe="MenuRadioItem",Efe=$.forwardRef((t,e)=>{const{value:n,...r}=t,i=PVe(xfe,t.__scopeMenu),a=n===i.value;return z.jsx(kfe,{scope:t.__scopeMenu,checked:a,children:z.jsx(AC,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":b9(a),onSelect:un(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});Efe.displayName=xfe;var y9="MenuItemIndicator",[kfe,LVe]=M0(y9,{checked:!1}),Tfe=$.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,a=LVe(y9,n);return z.jsx(zo,{present:r||DT(a.checked)||a.checked===!0,children:z.jsx(Gn.span,{...i,ref:e,"data-state":b9(a.checked)})})});Tfe.displayName=y9;var DVe="MenuSeparator",Afe=$.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return z.jsx(Gn.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});Afe.displayName=DVe;var FVe="MenuArrow",Cfe=$.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=TC(n);return z.jsx(H7,{...i,...r,ref:e})});Cfe.displayName=FVe;var BVe="MenuSub",[Tlt,Rfe]=M0(BVe),Zw="MenuSubTrigger",Ife=$.forwardRef((t,e)=>{const n=P0(Zw,t.__scopeMenu),r=AS(Zw,t.__scopeMenu),i=Rfe(Zw,t.__scopeMenu),a=p9(Zw,t.__scopeMenu),s=$.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=a,u={__scopeMenu:t.__scopeMenu},d=$.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return $.useEffect(()=>d,[d]),$.useEffect(()=>{const h=o.current;return()=>{window.clearTimeout(h),l(null)}},[o,l]),z.jsx(h9,{asChild:!0,...u,children:z.jsx(vfe,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":Mfe(n.open),...t,ref:_A(e,i.onTriggerChange),onClick:h=>{t.onClick?.(h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:un(t.onPointerMove,N1(h=>{a.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!s.current&&(a.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:un(t.onPointerLeave,N1(h=>{d();const p=n.content?.getBoundingClientRect();if(p){const m=n.content?.dataset.side,v=m==="right",w=v?-5:5,k=p[v?"left":"right"],T=p[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+w,y:h.clientY},{x:k,y:p.top},{x:T,y:p.top},{x:T,y:p.bottom},{x:k,y:p.bottom}],side:m}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:un(t.onKeyDown,h=>{const p=a.searchRef.current!=="";t.disabled||p&&h.key===" "||vVe[r.dir].includes(h.key)&&(n.onOpenChange(!0),n.content?.focus(),h.preventDefault())})})})});Ife.displayName=Zw;var Nfe="MenuSubContent",Ofe=$.forwardRef((t,e)=>{const n=mfe(Uu,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=P0(Uu,t.__scopeMenu),s=AS(Uu,t.__scopeMenu),o=Rfe(Nfe,t.__scopeMenu),l=$.useRef(null),u=Rr(e,l);return z.jsx(I1.Provider,{scope:t.__scopeMenu,children:z.jsx(zo,{present:r||a.open,children:z.jsx(I1.Slot,{scope:t.__scopeMenu,children:z.jsx(m9,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:u,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{s.isUsingKeyboardRef.current&&l.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:un(t.onFocusOutside,d=>{d.target!==o.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:un(t.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:un(t.onKeyDown,d=>{const h=d.currentTarget.contains(d.target),p=wVe[s.dir].includes(d.key);h&&p&&(a.onOpenChange(!1),o.trigger?.focus(),d.preventDefault())})})})})})});Ofe.displayName=Nfe;function Mfe(t){return t?"open":"closed"}function DT(t){return t==="indeterminate"}function b9(t){return DT(t)?"indeterminate":t?"checked":"unchecked"}function UVe(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function jVe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function zVe(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let s=jVe(t,Math.max(a,0));i.length===1&&(s=s.filter(u=>u!==n));const l=s.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function $Ve(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const o=e[a].x,l=e[a].y,u=e[s].x,d=e[s].y;l>r!=d>r&&n<(u-o)*(r-l)/(d-l)+o&&(i=!i)}return i}function qVe(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return $Ve(n,e)}function N1(t){return e=>e.pointerType==="mouse"?t(e):void 0}var HVe=pfe,VVe=h9,GVe=gfe,WVe=yfe,KVe=g9,YVe=bfe,XVe=AC,ZVe=wfe,QVe=Sfe,JVe=Efe,eGe=Tfe,tGe=Afe,nGe=Cfe,rGe=Ife,iGe=Ofe,v9="DropdownMenu",[aGe,Alt]=Hu(v9,[hfe]),Ho=hfe(),[sGe,Pfe]=aGe(v9),Lfe=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:s,modal:o=!0}=t,l=Ho(e),u=$.useRef(null),[d=!1,h]=Sf({prop:i,defaultProp:a,onChange:s});return z.jsx(sGe,{scope:e,triggerId:Fu(),triggerRef:u,contentId:Fu(),open:d,onOpenChange:h,onOpenToggle:$.useCallback(()=>h(p=>!p),[h]),modal:o,children:z.jsx(HVe,{...l,open:d,onOpenChange:h,dir:r,modal:o,children:n})})};Lfe.displayName=v9;var Dfe="DropdownMenuTrigger",Ffe=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,a=Pfe(Dfe,n),s=Ho(n);return z.jsx(VVe,{asChild:!0,...s,children:z.jsx(Gn.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:_A(e,a.triggerRef),onPointerDown:un(t.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(a.onOpenToggle(),a.open||o.preventDefault())}),onKeyDown:un(t.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&a.onOpenToggle(),o.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});Ffe.displayName=Dfe;var oGe="DropdownMenuPortal",Bfe=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Ho(e);return z.jsx(GVe,{...r,...n})};Bfe.displayName=oGe;var Ufe="DropdownMenuContent",jfe=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Pfe(Ufe,n),a=Ho(n),s=$.useRef(!1);return z.jsx(WVe,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:un(t.onCloseAutoFocus,o=>{s.current||i.triggerRef.current?.focus(),s.current=!1,o.preventDefault()}),onInteractOutside:un(t.onInteractOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!i.modal||d)&&(s.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jfe.displayName=Ufe;var lGe="DropdownMenuGroup",uGe=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ho(n);return z.jsx(KVe,{...i,...r,ref:e})});uGe.displayName=lGe;var cGe="DropdownMenuLabel",zfe=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ho(n);return z.jsx(YVe,{...i,...r,ref:e})});zfe.displayName=cGe;var dGe="DropdownMenuItem",$fe=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ho(n);return z.jsx(XVe,{...i,...r,ref:e})});$fe.displayName=dGe;var hGe="DropdownMenuCheckboxItem",qfe=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ho(n);return z.jsx(ZVe,{...i,...r,ref:e})});qfe.displayName=hGe;var fGe="DropdownMenuRadioGroup",pGe=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ho(n);return z.jsx(QVe,{...i,...r,ref:e})});pGe.displayName=fGe;var mGe="DropdownMenuRadioItem",Hfe=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ho(n);return z.jsx(JVe,{...i,...r,ref:e})});Hfe.displayName=mGe;var gGe="DropdownMenuItemIndicator",Vfe=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ho(n);return z.jsx(eGe,{...i,...r,ref:e})});Vfe.displayName=gGe;var yGe="DropdownMenuSeparator",Gfe=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ho(n);return z.jsx(tGe,{...i,...r,ref:e})});Gfe.displayName=yGe;var bGe="DropdownMenuArrow",vGe=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ho(n);return z.jsx(nGe,{...i,...r,ref:e})});vGe.displayName=bGe;var wGe="DropdownMenuSubTrigger",Wfe=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ho(n);return z.jsx(rGe,{...i,...r,ref:e})});Wfe.displayName=wGe;var _Ge="DropdownMenuSubContent",Kfe=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ho(n);return z.jsx(iGe,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Kfe.displayName=_Ge;var SGe=Lfe,xGe=Ffe,EGe=Bfe,Yfe=jfe,Xfe=zfe,Zfe=$fe,Qfe=qfe,Jfe=Hfe,epe=Vfe,tpe=Gfe,npe=Wfe,rpe=Kfe;const ipe=SGe,ape=xGe,kGe=$.forwardRef(({className:t,inset:e,children:n,...r},i)=>z.jsxs(npe,{ref:i,className:cn("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,z.jsx(HTe,{className:"ml-auto"})]}));kGe.displayName=npe.displayName;const TGe=$.forwardRef(({className:t,...e},n)=>z.jsx(rpe,{ref:n,className:cn("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));TGe.displayName=rpe.displayName;const w9=$.forwardRef(({className:t,sideOffset:e=4,...n},r)=>z.jsx(EGe,{children:z.jsx(Yfe,{ref:r,sideOffset:e,className:cn("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));w9.displayName=Yfe.displayName;const FT=$.forwardRef(({className:t,inset:e,...n},r)=>z.jsx(Zfe,{ref:r,className:cn("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));FT.displayName=Zfe.displayName;const AGe=$.forwardRef(({className:t,children:e,checked:n,...r},i)=>z.jsxs(Qfe,{ref:i,className:cn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[z.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:z.jsx(epe,{children:z.jsx(RA,{className:"h-4 w-4"})})}),e]}));AGe.displayName=Qfe.displayName;const CGe=$.forwardRef(({className:t,children:e,...n},r)=>z.jsxs(Jfe,{ref:r,className:cn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[z.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:z.jsx(epe,{children:z.jsx(ZTe,{className:"h-2 w-2 fill-current"})})}),e]}));CGe.displayName=Jfe.displayName;const RGe=$.forwardRef(({className:t,inset:e,...n},r)=>z.jsx(Xfe,{ref:r,className:cn("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));RGe.displayName=Xfe.displayName;const spe=$.forwardRef(({className:t,...e},n)=>z.jsx(tpe,{ref:n,className:cn("-mx-1 my-1 h-px bg-muted",t),...e}));spe.displayName=tpe.displayName;const ope=_t.memo(({selectedModel:t,selectedModelName:e,enabledChatModels:n,onModelChange:r})=>z.jsxs(ipe,{children:[z.jsx(ape,{asChild:!0,children:z.jsx(la,{variant:"ghost",className:"w-[200px] h-8 p-1 justify-start font-normal truncate",children:z.jsx("span",{className:"truncate",children:e})})}),z.jsx(w9,{className:"w-[400px]",children:xf.filter(i=>n?.includes(i.model)).map(i=>z.jsx(Uue,{children:z.jsxs(jue,{children:[z.jsx(zue,{asChild:!0,children:z.jsx(FT,{className:"p-4",onSelect:()=>r(i.model),children:z.jsxs("div",{className:"flex items-center gap-2 w-full",children:[i.model===t&&z.jsx(RA,{className:"h-4 w-4 shrink-0"}),z.jsx("span",{className:"flex-grow",children:i.name}),z.jsx(iAe,{className:"h-4 w-4 text-muted-foreground shrink-0"})]})})}),z.jsxs(J7,{side:"right",align:"start",className:"max-w-[300px]",children:[z.jsx("p",{children:i.description}),i.modalities&&i.modalities.length>0&&z.jsx("div",{className:"flex gap-1 flex-wrap mt-1",children:i.modalities.map(a=>z.jsx(Md,{variant:"secondary",className:"capitalize text-xs",children:a.toLowerCase()},a))})]})]})},i.model))})]}));ope.displayName="ModelSelector";const lpe=_t.memo(({isUrlInputOpen:t,setIsUrlInputOpen:e,urlInput:n,setUrlInput:r,handleAttachmentFileUpload:i,handleAttachmentUrlUpload:a})=>z.jsxs(ipe,{children:[z.jsx(ape,{asChild:!0,children:z.jsx(la,{variant:"ghost",size:"icon",className:"h-8 w-8",children:z.jsx(fAe,{className:"h-4 w-4"})})}),z.jsxs(w9,{align:"start",className:"w-[300px]",children:[z.jsxs(FT,{onSelect:()=>{const s=document.createElement("input");s.type="file",s.multiple=!0,s.accept=".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif,.mp3,.mp4,.wav,.ogg",s.onchange=o=>i(o),s.click()},children:[z.jsx(kAe,{className:"h-4 w-4 mr-2"}),"Upload Files"]}),z.jsx(spe,{}),z.jsxs(FT,{onSelect:s=>{s.preventDefault(),e(!0)},children:[z.jsx(sAe,{className:"h-4 w-4 mr-2"}),"Add URLs"]}),t&&z.jsxs("div",{className:"p-2 flex gap-2",children:[z.jsx(lm,{value:n,onChange:s=>r(s.target.value),placeholder:"Enter URLs (comma-separated)",className:"flex-1"}),z.jsx(la,{size:"sm",onClick:a,children:"Add"})]})]})]}));lpe.displayName="AttachmentDropdown";const upe=_t.memo(({input:t,selectedModel:e,attachments:n,onInputChange:r,onModelChange:i,onSendMessage:a,enabledChatModels:s,setPreviewDocument:o,isUrlInputOpen:l,setIsUrlInputOpen:u,urlInput:d,setUrlInput:h,handleAttachmentFileUpload:p,handleAttachmentUrlUpload:m,handleAttachmentRemove:v,selectedModelName:w,isGenerating:k,stopGenerating:T})=>z.jsxs("div",{className:"flex flex-col w-1/2 mx-auto bg-muted rounded-md p-1",children:[n.length>0&&z.jsx(gF,{documents:n,onPreview:o,onRemove:v,maxHeight:"100px",rowReverse:!1}),z.jsx(mF,{value:t,onChange:C=>r(C.target.value),className:"bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0 resize-none p-2",maxHeight:300,minHeight:50,onKeyDown:C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),a())}}),z.jsxs("div",{className:"flex flex-row justify-between items-end",children:[z.jsxs("div",{className:"flex gap-0",children:[z.jsx(ope,{selectedModel:e,selectedModelName:w,enabledChatModels:s,onModelChange:i}),z.jsx(lpe,{isUrlInputOpen:l,setIsUrlInputOpen:u,urlInput:d,setUrlInput:h,handleAttachmentFileUpload:p,handleAttachmentUrlUpload:m})]}),z.jsx(la,{variant:"default",size:"icon",className:"rounded-full",onClick:()=>{k?T():a()},children:k?z.jsx(k7,{className:"h-4 w-4 animate-spin"}):z.jsx(_Ae,{className:"h-4 w-4"})})]})]}));upe.displayName="Input";const IGe=Tue,NGe=Aue,cpe=$.forwardRef(({className:t,...e},n)=>z.jsx(zA,{ref:n,className:cn("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));cpe.displayName=zA.displayName;const dpe=$.forwardRef(({className:t,children:e,...n},r)=>z.jsxs(NGe,{children:[z.jsx(cpe,{}),z.jsxs($A,{ref:r,className:cn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,z.jsxs(Cue,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[z.jsx(IA,{className:"h-4 w-4"}),z.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));dpe.displayName=$A.displayName;const hpe=({className:t,...e})=>z.jsx("div",{className:cn("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});hpe.displayName="DialogHeader";const fpe=$.forwardRef(({className:t,...e},n)=>z.jsx(qA,{ref:n,className:cn("text-lg font-semibold leading-none tracking-tight",t),...e}));fpe.displayName=qA.displayName;const ppe=$.forwardRef(({className:t,...e},n)=>z.jsx(HA,{ref:n,className:cn("text-sm text-muted-foreground",t),...e}));ppe.displayName=HA.displayName;const OGe={cpp:["cpp"],go:["go"],java:["java"],js:["js","jsx","ts","tsx"],php:["php"],proto:["proto"],python:["py","ipynb"],rst:["rst"],ruby:["rb"],rust:["rs"],scala:["scala"],swift:["swift"],markdown:["md","mdx"],latex:["tex"],html:["html"],sol:["sol"]},MGe={pdf:["pdf"],docx:["docx"],doc:["doc"],txt:["txt"],url:["url"],image:["jpg","jpeg","png","gif","bmp","tiff","ico","webp"],video:["mp4","mov","avi","wmv","flv","mpeg","mpg","m4v","webm"],audio:["mp3","wav","ogg","m4a","wma","aac","flac","m4b","m4p"],youtube:["youtube"],...OGe};var _k={exports:{}},PGe=_k.exports,Pte;function LGe(){return Pte||(Pte=1,function(t,e){(function(r,i){t.exports=i()})(PGe,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var s=r[a]={exports:{},id:a,loaded:!1};return n[a].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}return i.m=n,i.c=r,i.p="",i(0)}([function(n,r,i){(function(a,s,o,l){Object.defineProperty(r,"__esModule",{value:!0});var u=i(2),d=i(9),h;(function(x){x[x.EPERM=1]="EPERM",x[x.ENOENT=2]="ENOENT",x[x.EIO=5]="EIO",x[x.EBADF=9]="EBADF",x[x.EACCES=13]="EACCES",x[x.EBUSY=16]="EBUSY",x[x.EEXIST=17]="EEXIST",x[x.ENOTDIR=20]="ENOTDIR",x[x.EISDIR=21]="EISDIR",x[x.EINVAL=22]="EINVAL",x[x.EFBIG=27]="EFBIG",x[x.ENOSPC=28]="ENOSPC",x[x.EROFS=30]="EROFS",x[x.ENOTEMPTY=39]="ENOTEMPTY",x[x.ENOTSUP=95]="ENOTSUP"})(h||(h={}));var p={};p[h.EPERM]="Operation not permitted.",p[h.ENOENT]="No such file or directory.",p[h.EIO]="Input/output error.",p[h.EBADF]="Bad file descriptor.",p[h.EACCES]="Permission denied.",p[h.EBUSY]="Resource busy or locked.",p[h.EEXIST]="File exists.",p[h.ENOTDIR]="File is not a directory.",p[h.EISDIR]="File is a directory.",p[h.EINVAL]="Invalid argument.",p[h.EFBIG]="File is too big.",p[h.ENOSPC]="No space left on disk.",p[h.EROFS]="Cannot modify a read-only file system.",p[h.ENOTEMPTY]="Directory is not empty.",p[h.ENOTSUP]="Operation is not supported.";var m=function(x){function y(S,b,E){b===void 0&&(b=p[S]),x.call(this,b),this.syscall="",this.errno=S,this.code=h[S],this.path=E,this.stack=new x().stack,this.message="Error: "+this.code+": "+b+(this.path?", '"+this.path+"'":"")}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.fromJSON=function(b){var E=new y(0);return E.errno=b.errno,E.code=b.code,E.path=b.path,E.stack=b.stack,E.message=b.message,E},y.fromBuffer=function(b,E){return E===void 0&&(E=0),y.fromJSON(JSON.parse(b.toString("utf8",E+4,E+4+b.readUInt32LE(E))))},y.FileError=function(b,E){return new y(b,p[b],E)},y.ENOENT=function(b){return this.FileError(h.ENOENT,b)},y.EEXIST=function(b){return this.FileError(h.EEXIST,b)},y.EISDIR=function(b){return this.FileError(h.EISDIR,b)},y.ENOTDIR=function(b){return this.FileError(h.ENOTDIR,b)},y.EPERM=function(b){return this.FileError(h.EPERM,b)},y.ENOTEMPTY=function(b){return this.FileError(h.ENOTEMPTY,b)},y.prototype.toString=function(){return this.message},y.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},y.prototype.writeToBuffer=function(b,E){b===void 0&&(b=a.alloc(this.bufferSize())),E===void 0&&(E=0);var R=b.write(JSON.stringify(this.toJSON()),E+4);return b.writeUInt32LE(R,E),b},y.prototype.bufferSize=function(){return 4+a.byteLength(JSON.stringify(this.toJSON()))},y}(Error),v=Object.freeze({get ErrorCode(){return h},ErrorStrings:p,ApiError:m}),w;(function(x){x[x.NOP=0]="NOP",x[x.THROW_EXCEPTION=1]="THROW_EXCEPTION",x[x.TRUNCATE_FILE=2]="TRUNCATE_FILE",x[x.CREATE_FILE=3]="CREATE_FILE"})(w||(w={}));var k=function x(y){if(this.flagStr=y,x.validFlagStrs.indexOf(y)<0)throw new m(h.EINVAL,"Invalid flag: "+y)};k.getFileFlag=function(y){return k.flagCache.hasOwnProperty(y)?k.flagCache[y]:k.flagCache[y]=new k(y)},k.prototype.getFlagString=function(){return this.flagStr},k.prototype.isReadable=function(){return this.flagStr.indexOf("r")!==-1||this.flagStr.indexOf("+")!==-1},k.prototype.isWriteable=function(){return this.flagStr.indexOf("w")!==-1||this.flagStr.indexOf("a")!==-1||this.flagStr.indexOf("+")!==-1},k.prototype.isTruncating=function(){return this.flagStr.indexOf("w")!==-1},k.prototype.isAppendable=function(){return this.flagStr.indexOf("a")!==-1},k.prototype.isSynchronous=function(){return this.flagStr.indexOf("s")!==-1},k.prototype.isExclusive=function(){return this.flagStr.indexOf("x")!==-1},k.prototype.pathExistsAction=function(){return this.isExclusive()?w.THROW_EXCEPTION:this.isTruncating()?w.TRUNCATE_FILE:w.NOP},k.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&this.flagStr!=="r+"?w.CREATE_FILE:w.THROW_EXCEPTION},k.flagCache={},k.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"];var T;(function(x){x[x.FILE=32768]="FILE",x[x.DIRECTORY=16384]="DIRECTORY",x[x.SYMLINK=40960]="SYMLINK"})(T||(T={}));var C=function(y,S,b,E,R,M){if(E===void 0&&(E=new Date),R===void 0&&(R=new Date),M===void 0&&(M=new Date),this.size=S,this.atime=E,this.mtime=R,this.ctime=M,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.birthtime=new Date(0),this.fileData=null,b)this.mode=b;else switch(y){case T.FILE:this.mode=420;break;case T.DIRECTORY:default:this.mode=511}this.blocks=Math.ceil(S/512),this.mode<4096&&(this.mode|=y)};C.fromBuffer=function(y){var S=y.readUInt32LE(0),b=y.readUInt32LE(4),E=y.readDoubleLE(8),R=y.readDoubleLE(16),M=y.readDoubleLE(24);return new C(b&61440,S,b&4095,new Date(E),new Date(R),new Date(M))},C.prototype.toBuffer=function(){var y=a.alloc(32);return y.writeUInt32LE(this.size,0),y.writeUInt32LE(this.mode,4),y.writeDoubleLE(this.atime.getTime(),8),y.writeDoubleLE(this.mtime.getTime(),16),y.writeDoubleLE(this.ctime.getTime(),24),y},C.prototype.clone=function(){return new C(this.mode&61440,this.size,this.mode&4095,this.atime,this.mtime,this.ctime)},C.prototype.isFile=function(){return(this.mode&61440)===T.FILE},C.prototype.isDirectory=function(){return(this.mode&61440)===T.DIRECTORY},C.prototype.isSymbolicLink=function(){return(this.mode&61440)===T.SYMLINK},C.prototype.chmod=function(y){this.mode=this.mode&61440|y},C.prototype.isSocket=function(){return!1},C.prototype.isBlockDevice=function(){return!1},C.prototype.isCharacterDevice=function(){return!1},C.prototype.isFIFO=function(){return!1};var N=function(x,y){return x};function F(x){if(x)return x;throw new m(h.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function D(x,y){switch(typeof x){case"number":return x;case"string":var S=parseInt(x,8);return isNaN(S)?y:S;default:return y}}function U(x){if(x instanceof Date)return x;if(typeof x=="number")return new Date(x*1e3);throw new m(h.EINVAL,"Invalid time.")}function G(x){if(x.indexOf("\0")>=0)throw new m(h.EINVAL,"Path must be a string without null bytes.");if(x==="")throw new m(h.EINVAL,"Path must not be empty.");return d.resolve(x)}function se(x,y,S,b){switch(typeof x){case"object":return{encoding:typeof x.encoding<"u"?x.encoding:y,flag:typeof x.flag<"u"?x.flag:S,mode:D(x.mode,b)};case"string":return{encoding:x,flag:S,mode:b};default:return{encoding:y,flag:S,mode:b}}}function re(){}var Q=function(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100};Q.prototype.initialize=function(y){if(!y.constructor.isAvailable())throw new m(h.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=y},Q.prototype._toUnixTimestamp=function(y){if(typeof y=="number")return y;if(y instanceof Date)return y.getTime()/1e3;throw new Error("Cannot parse time: "+y)},Q.prototype.getRootFS=function(){return this.root?this.root:null},Q.prototype.rename=function(y,S,b){b===void 0&&(b=re);var E=N(b,1);try{F(this.root).rename(G(y),G(S),E)}catch(R){E(R)}},Q.prototype.renameSync=function(y,S){F(this.root).renameSync(G(y),G(S))},Q.prototype.exists=function(y,S){S===void 0&&(S=re);var b=N(S,1);try{return F(this.root).exists(G(y),b)}catch{return b(!1)}},Q.prototype.existsSync=function(y){try{return F(this.root).existsSync(G(y))}catch{return!1}},Q.prototype.stat=function(y,S){S===void 0&&(S=re);var b=N(S,2);try{return F(this.root).stat(G(y),!1,b)}catch(E){return b(E)}},Q.prototype.statSync=function(y){return F(this.root).statSync(G(y),!1)},Q.prototype.lstat=function(y,S){S===void 0&&(S=re);var b=N(S,2);try{return F(this.root).stat(G(y),!0,b)}catch(E){return b(E)}},Q.prototype.lstatSync=function(y){return F(this.root).statSync(G(y),!0)},Q.prototype.truncate=function(y,S,b){S===void 0&&(S=0),b===void 0&&(b=re);var E=0;typeof S=="function"?b=S:typeof S=="number"&&(E=S);var R=N(b,1);try{if(E<0)throw new m(h.EINVAL);return F(this.root).truncate(G(y),E,R)}catch(M){return R(M)}},Q.prototype.truncateSync=function(y,S){if(S===void 0&&(S=0),S<0)throw new m(h.EINVAL);return F(this.root).truncateSync(G(y),S)},Q.prototype.unlink=function(y,S){S===void 0&&(S=re);var b=N(S,1);try{return F(this.root).unlink(G(y),b)}catch(E){return b(E)}},Q.prototype.unlinkSync=function(y){return F(this.root).unlinkSync(G(y))},Q.prototype.open=function(y,S,b,E){var R=this;E===void 0&&(E=re);var M=D(b,420);E=typeof b=="function"?b:E;var W=N(E,2);try{F(this.root).open(G(y),k.getFileFlag(S),M,function(oe,me){me?W(oe,R.getFdForFile(me)):W(oe)})}catch(oe){W(oe)}},Q.prototype.openSync=function(y,S,b){return b===void 0&&(b=420),this.getFdForFile(F(this.root).openSync(G(y),k.getFileFlag(S),D(b,420)))},Q.prototype.readFile=function(y,S,b){S===void 0&&(S={}),b===void 0&&(b=re);var E=se(S,null,"r",null);b=typeof S=="function"?S:b;var R=N(b,2);try{var M=k.getFileFlag(E.flag);return M.isReadable()?F(this.root).readFile(G(y),E.encoding,M,R):R(new m(h.EINVAL,"Flag passed to readFile must allow for reading."))}catch(W){return R(W)}},Q.prototype.readFileSync=function(y,S){S===void 0&&(S={});var b=se(S,null,"r",null),E=k.getFileFlag(b.flag);if(!E.isReadable())throw new m(h.EINVAL,"Flag passed to readFile must allow for reading.");return F(this.root).readFileSync(G(y),b.encoding,E)},Q.prototype.writeFile=function(y,S,b,E){b===void 0&&(b={}),E===void 0&&(E=re);var R=se(b,"utf8","w",420);E=typeof b=="function"?b:E;var M=N(E,1);try{var W=k.getFileFlag(R.flag);return W.isWriteable()?F(this.root).writeFile(G(y),S,R.encoding,W,R.mode,M):M(new m(h.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(oe){return M(oe)}},Q.prototype.writeFileSync=function(y,S,b){var E=se(b,"utf8","w",420),R=k.getFileFlag(E.flag);if(!R.isWriteable())throw new m(h.EINVAL,"Flag passed to writeFile must allow for writing.");return F(this.root).writeFileSync(G(y),S,E.encoding,R,E.mode)},Q.prototype.appendFile=function(y,S,b,E){E===void 0&&(E=re);var R=se(b,"utf8","a",420);E=typeof b=="function"?b:E;var M=N(E,1);try{var W=k.getFileFlag(R.flag);if(!W.isAppendable())return M(new m(h.EINVAL,"Flag passed to appendFile must allow for appending."));F(this.root).appendFile(G(y),S,R.encoding,W,R.mode,M)}catch(oe){M(oe)}},Q.prototype.appendFileSync=function(y,S,b){var E=se(b,"utf8","a",420),R=k.getFileFlag(E.flag);if(!R.isAppendable())throw new m(h.EINVAL,"Flag passed to appendFile must allow for appending.");return F(this.root).appendFileSync(G(y),S,E.encoding,R,E.mode)},Q.prototype.fstat=function(y,S){S===void 0&&(S=re);var b=N(S,2);try{var E=this.fd2file(y);E.stat(b)}catch(R){b(R)}},Q.prototype.fstatSync=function(y){return this.fd2file(y).statSync()},Q.prototype.close=function(y,S){var b=this;S===void 0&&(S=re);var E=N(S,1);try{this.fd2file(y).close(function(R){R||b.closeFd(y),E(R)})}catch(R){E(R)}},Q.prototype.closeSync=function(y){this.fd2file(y).closeSync(),this.closeFd(y)},Q.prototype.ftruncate=function(y,S,b){b===void 0&&(b=re);var E=typeof S=="number"?S:0;b=typeof S=="function"?S:b;var R=N(b,1);try{var M=this.fd2file(y);if(E<0)throw new m(h.EINVAL);M.truncate(E,R)}catch(W){R(W)}},Q.prototype.ftruncateSync=function(y,S){S===void 0&&(S=0);var b=this.fd2file(y);if(S<0)throw new m(h.EINVAL);b.truncateSync(S)},Q.prototype.fsync=function(y,S){S===void 0&&(S=re);var b=N(S,1);try{this.fd2file(y).sync(b)}catch(E){b(E)}},Q.prototype.fsyncSync=function(y){this.fd2file(y).syncSync()},Q.prototype.fdatasync=function(y,S){S===void 0&&(S=re);var b=N(S,1);try{this.fd2file(y).datasync(b)}catch(E){b(E)}},Q.prototype.fdatasyncSync=function(y){this.fd2file(y).datasyncSync()},Q.prototype.write=function(y,S,b,E,R,M){M===void 0&&(M=re);var W,oe,me,Be=null;if(typeof S=="string"){var ut="utf8";switch(typeof b){case"function":M=b;break;case"number":Be=b,ut=typeof E=="string"?E:"utf8",M=typeof R=="function"?R:M;break;default:return M=typeof E=="function"?E:typeof R=="function"?R:M,M(new m(h.EINVAL,"Invalid arguments."))}W=a.from(S,ut),oe=0,me=W.length}else W=S,oe=b,me=E,Be=typeof R=="number"?R:null,M=typeof R=="function"?R:M;var At=N(M,3);try{var qt=this.fd2file(y);Be==null&&(Be=qt.getPos()),qt.write(W,oe,me,Be,At)}catch(Gt){At(Gt)}},Q.prototype.writeSync=function(y,S,b,E,R){var M,W=0,oe,me;if(typeof S=="string"){me=typeof b=="number"?b:null;var Be=typeof E=="string"?E:"utf8";W=0,M=a.from(S,Be),oe=M.length}else M=S,W=b,oe=E,me=typeof R=="number"?R:null;var ut=this.fd2file(y);return me==null&&(me=ut.getPos()),ut.writeSync(M,W,oe,me)},Q.prototype.read=function(y,S,b,E,R,M){M===void 0&&(M=re);var W,oe,me,Be,ut;if(typeof S=="number"){me=S,W=b;var At=E;M=typeof R=="function"?R:M,oe=0,Be=a.alloc(me),ut=N(function(Gt,hn,Mn){if(Gt)return M(Gt);M(Gt,Mn.toString(At),hn)},3)}else Be=S,oe=b,me=E,W=R,ut=N(M,3);try{var qt=this.fd2file(y);W==null&&(W=qt.getPos()),qt.read(Be,oe,me,W,ut)}catch(Gt){ut(Gt)}},Q.prototype.readSync=function(y,S,b,E,R){var M=!1,W,oe,me,Be,ut="utf8";typeof S=="number"?(me=S,Be=b,ut=E,oe=0,W=a.alloc(me),M=!0):(W=S,oe=b,me=E,Be=R);var At=this.fd2file(y);Be==null&&(Be=At.getPos());var qt=At.readSync(W,oe,me,Be);return M?[W.toString(ut),qt]:qt},Q.prototype.fchown=function(y,S,b,E){E===void 0&&(E=re);var R=N(E,1);try{this.fd2file(y).chown(S,b,R)}catch(M){R(M)}},Q.prototype.fchownSync=function(y,S,b){this.fd2file(y).chownSync(S,b)},Q.prototype.fchmod=function(y,S,b){var E=N(b,1);try{var R=typeof S=="string"?parseInt(S,8):S;this.fd2file(y).chmod(R,E)}catch(M){E(M)}},Q.prototype.fchmodSync=function(y,S){var b=typeof S=="string"?parseInt(S,8):S;this.fd2file(y).chmodSync(b)},Q.prototype.futimes=function(y,S,b,E){E===void 0&&(E=re);var R=N(E,1);try{var M=this.fd2file(y);typeof S=="number"&&(S=new Date(S*1e3)),typeof b=="number"&&(b=new Date(b*1e3)),M.utimes(S,b,R)}catch(W){R(W)}},Q.prototype.futimesSync=function(y,S,b){this.fd2file(y).utimesSync(U(S),U(b))},Q.prototype.rmdir=function(y,S){S===void 0&&(S=re);var b=N(S,1);try{y=G(y),F(this.root).rmdir(y,b)}catch(E){b(E)}},Q.prototype.rmdirSync=function(y){return y=G(y),F(this.root).rmdirSync(y)},Q.prototype.mkdir=function(y,S,b){b===void 0&&(b=re),typeof S=="function"&&(b=S,S=511);var E=N(b,1);try{y=G(y),F(this.root).mkdir(y,S,E)}catch(R){E(R)}},Q.prototype.mkdirSync=function(y,S){F(this.root).mkdirSync(G(y),D(S,511))},Q.prototype.readdir=function(y,S){S===void 0&&(S=re);var b=N(S,2);try{y=G(y),F(this.root).readdir(y,b)}catch(E){b(E)}},Q.prototype.readdirSync=function(y){return y=G(y),F(this.root).readdirSync(y)},Q.prototype.link=function(y,S,b){b===void 0&&(b=re);var E=N(b,1);try{y=G(y),S=G(S),F(this.root).link(y,S,E)}catch(R){E(R)}},Q.prototype.linkSync=function(y,S){return y=G(y),S=G(S),F(this.root).linkSync(y,S)},Q.prototype.symlink=function(y,S,b,E){E===void 0&&(E=re);var R=typeof b=="string"?b:"file";E=typeof b=="function"?b:E;var M=N(E,1);try{if(R!=="file"&&R!=="dir")return M(new m(h.EINVAL,"Invalid type: "+R));y=G(y),S=G(S),F(this.root).symlink(y,S,R,M)}catch(W){M(W)}},Q.prototype.symlinkSync=function(y,S,b){if(!b)b="file";else if(b!=="file"&&b!=="dir")throw new m(h.EINVAL,"Invalid type: "+b);return y=G(y),S=G(S),F(this.root).symlinkSync(y,S,b)},Q.prototype.readlink=function(y,S){S===void 0&&(S=re);var b=N(S,2);try{y=G(y),F(this.root).readlink(y,b)}catch(E){b(E)}},Q.prototype.readlinkSync=function(y){return y=G(y),F(this.root).readlinkSync(y)},Q.prototype.chown=function(y,S,b,E){E===void 0&&(E=re);var R=N(E,1);try{y=G(y),F(this.root).chown(y,!1,S,b,R)}catch(M){R(M)}},Q.prototype.chownSync=function(y,S,b){y=G(y),F(this.root).chownSync(y,!1,S,b)},Q.prototype.lchown=function(y,S,b,E){E===void 0&&(E=re);var R=N(E,1);try{y=G(y),F(this.root).chown(y,!0,S,b,R)}catch(M){R(M)}},Q.prototype.lchownSync=function(y,S,b){y=G(y),F(this.root).chownSync(y,!0,S,b)},Q.prototype.chmod=function(y,S,b){b===void 0&&(b=re);var E=N(b,1);try{var R=D(S,-1);if(R<0)throw new m(h.EINVAL,"Invalid mode.");F(this.root).chmod(G(y),!1,R,E)}catch(M){E(M)}},Q.prototype.chmodSync=function(y,S){var b=D(S,-1);if(b<0)throw new m(h.EINVAL,"Invalid mode.");y=G(y),F(this.root).chmodSync(y,!1,b)},Q.prototype.lchmod=function(y,S,b){b===void 0&&(b=re);var E=N(b,1);try{var R=D(S,-1);if(R<0)throw new m(h.EINVAL,"Invalid mode.");F(this.root).chmod(G(y),!0,R,E)}catch(M){E(M)}},Q.prototype.lchmodSync=function(y,S){var b=D(S,-1);if(b<1)throw new m(h.EINVAL,"Invalid mode.");F(this.root).chmodSync(G(y),!0,b)},Q.prototype.utimes=function(y,S,b,E){E===void 0&&(E=re);var R=N(E,1);try{F(this.root).utimes(G(y),U(S),U(b),R)}catch(M){R(M)}},Q.prototype.utimesSync=function(y,S,b){F(this.root).utimesSync(G(y),U(S),U(b))},Q.prototype.realpath=function(y,S,b){b===void 0&&(b=re);var E=typeof S=="object"?S:{};b=typeof S=="function"?S:re;var R=N(b,2);try{y=G(y),F(this.root).realpath(y,E,R)}catch(M){R(M)}},Q.prototype.realpathSync=function(y,S){return S===void 0&&(S={}),y=G(y),F(this.root).realpathSync(y,S)},Q.prototype.watchFile=function(y,S,b){throw new m(h.ENOTSUP)},Q.prototype.unwatchFile=function(y,S){throw new m(h.ENOTSUP)},Q.prototype.watch=function(y,S,b){throw new m(h.ENOTSUP)},Q.prototype.access=function(y,S,b){throw new m(h.ENOTSUP)},Q.prototype.accessSync=function(y,S){throw new m(h.ENOTSUP)},Q.prototype.createReadStream=function(y,S){throw new m(h.ENOTSUP)},Q.prototype.createWriteStream=function(y,S){throw new m(h.ENOTSUP)},Q.prototype.wrapCallbacks=function(y){N=y},Q.prototype.getFdForFile=function(y){var S=this.nextFd++;return this.fdMap[S]=y,S},Q.prototype.fd2file=function(y){var S=this.fdMap[y];if(S)return S;throw new m(h.EBADF,"Invalid file descriptor.")},Q.prototype.closeFd=function(y){delete this.fdMap[y]},Q.Stats=C;var ce=new Q,Ie={},qe=Q.prototype;Object.keys(qe).forEach(function(x){typeof ce[x]=="function"?Ie[x]=function(){return ce[x].apply(ce,arguments)}:Ie[x]=ce[x]}),Ie.changeFSModule=function(x){ce=x},Ie.getFSModule=function(){return ce},Ie.FS=Q;function xe(x,y,S,b,E){return x<y||S<y?x>S?S+1:x+1:b===E?y:y+1}function Ce(x,y){if(x===y)return 0;if(x.length>y.length){var S=x;x=y,y=S}for(var b=x.length,E=y.length;b>0&&x.charCodeAt(b-1)===y.charCodeAt(E-1);)b--,E--;for(var R=0;R<b&&x.charCodeAt(R)===y.charCodeAt(R);)R++;if(b-=R,E-=R,b===0||E===1)return E;for(var M=new Array(b<<1),W=0;W<b;)M[b+W]=x.charCodeAt(R+W),M[W]=++W;var oe,me,Be,ut,At;for(oe=0;oe+3<E;)for(var qt=y.charCodeAt(R+(me=oe)),Gt=y.charCodeAt(R+(Be=oe+1)),hn=y.charCodeAt(R+(ut=oe+2)),Mn=y.charCodeAt(R+(At=oe+3)),Qn=oe+=4,Si=0;Si<b;){var La=M[b+Si],Cl=M[Si];me=xe(Cl,me,Be,qt,La),Be=xe(me,Be,ut,Gt,La),ut=xe(Be,ut,At,hn,La),Qn=xe(ut,At,Qn,Mn,La),M[Si++]=Qn,At=ut,ut=Be,Be=me,me=Cl}for(var Rl=0;oe<E;){var Mh=y.charCodeAt(R+(me=oe));Rl=++oe;for(var pu=0;pu<b;pu++){var mu=M[pu];M[pu]=Rl=mu<me||Rl<me?mu>Rl?Rl+1:mu+1:Mh===M[b+pu]?me:me+1,me=mu}}return Rl}function ue(x,y,S){x&&console.warn("["+y+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+y+".Create("+JSON.stringify(S)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")}var ke=typeof navigator<"u"&&!!(/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||navigator.userAgent.indexOf("Trident")!==-1),Te=typeof window>"u";function he(){throw new Error("BFS has reached an impossible code path; please file a bug.")}function j(x,y,S){S.existsSync(x)||(j(d.dirname(x),y,S),S.mkdirSync(x,y))}function pe(x){var y=Ne(x),S=y.byteOffset,b=y.byteLength;return S===0&&b===y.buffer.byteLength?y.buffer:y.buffer.slice(S,S+b)}function Ne(x){return x instanceof Uint8Array?x:new Uint8Array(x)}function ae(x){return x instanceof a?x:x instanceof Uint8Array?He(x):a.from(x)}function He(x){return x instanceof a?x:x.byteOffset===0&&x.byteLength===x.buffer.byteLength?it(x.buffer):a.from(x.buffer,x.byteOffset,x.byteLength)}function it(x){return a.from(x)}function Xe(x,y,S){if(y===void 0&&(y=0),S===void 0&&(S=x.length),y<0||S<0||S>x.length||y>S)throw new TypeError("Invalid slice bounds on buffer of length "+x.length+": ["+y+", "+S+"]");if(x.length===0)return ct();var b=Ne(x),E=x[0],R=(E+1)%255;return x[0]=R,b[0]===R?(b[0]=E,He(b.slice(y,S))):(x[0]=E,He(b.subarray(y,S)))}var Ke=null;function ct(){return Ke||(Ke=a.alloc(0))}function de(x,y){a.isBuffer(x)?y():y(new m(h.EINVAL,"option must be a Buffer."))}function Se(x,y,S){var b=x.Options,E=x.Name,R=0,M=!1,W=!1;function oe(At){M||(At&&(M=!0,S(At)),R--,R===0&&W&&S())}var me=function(At){if(b.hasOwnProperty(At)){var qt=b[At],Gt=y[At];if(Gt==null){if(!qt.optional){var hn=Object.keys(y).filter(function(Qn){return!(Qn in b)}).map(function(Qn){return{str:Qn,distance:Ce(At,Qn)}}).filter(function(Qn){return Qn.distance<5}).sort(function(Qn,Si){return Qn.distance-Si.distance});return M?{}:(M=!0,{v:S(new m(h.EINVAL,"["+E+"] Required option '"+At+"' not provided."+(hn.length>0?" You provided unrecognized option '"+hn[0].str+"'; perhaps you meant to type '"+At+"'.":"")+`
Option description: `+qt.description))})}}else{var Mn=!1;if(Array.isArray(qt.type)?Mn=qt.type.indexOf(typeof Gt)!==-1:Mn=typeof Gt===qt.type,Mn)qt.validator&&(R++,qt.validator(Gt,oe));else return M?{}:(M=!0,{v:S(new m(h.EINVAL,"["+E+"] Value provided for option "+At+" is not the proper type. Expected "+(Array.isArray(qt.type)?"one of {"+qt.type.join(", ")+"}":qt.type)+", but received "+typeof Gt+`
Option description: `+qt.description))})}}};for(var Be in b){var ut=me(Be);if(ut)return ut.v}W=!0,R===0&&!M&&S()}var ht=Object.freeze({deprecationMessage:ue,isIE:ke,isWebWorker:Te,fail:he,mkdirpSync:j,buffer2ArrayBuffer:pe,buffer2Uint8array:Ne,arrayish2Buffer:ae,uint8Array2Buffer:He,arrayBuffer2Buffer:it,copyingSlice:Xe,emptyBuffer:ct,bufferValidator:de,checkOptions:Se}),vt=function(y){this.fs=y,this.nodefs=y.getNodeFS(),this.FS=y.getFS(),this.PATH=y.getPATH(),this.ERRNO_CODES=y.getERRNO_CODES()};vt.prototype.open=function(y){var S=this.fs.realPath(y.node),b=this.FS;try{b.isFile(y.node.mode)&&(y.nfd=this.nodefs.openSync(S,this.fs.flagsToPermissionString(y.flags)))}catch(E){throw E.code?new b.ErrnoError(this.ERRNO_CODES[E.code]):E}},vt.prototype.close=function(y){var S=this.FS;try{S.isFile(y.node.mode)&&y.nfd&&this.nodefs.closeSync(y.nfd)}catch(b){throw b.code?new S.ErrnoError(this.ERRNO_CODES[b.code]):b}},vt.prototype.read=function(y,S,b,E,R){try{return this.nodefs.readSync(y.nfd,He(S),b,E,R)}catch(M){throw new this.FS.ErrnoError(this.ERRNO_CODES[M.code])}},vt.prototype.write=function(y,S,b,E,R){try{return this.nodefs.writeSync(y.nfd,He(S),b,E,R)}catch(M){throw new this.FS.ErrnoError(this.ERRNO_CODES[M.code])}},vt.prototype.llseek=function(y,S,b){var E=S;if(b===1)E+=y.position;else if(b===2&&this.FS.isFile(y.node.mode))try{var R=this.nodefs.fstatSync(y.nfd);E+=R.size}catch(M){throw new this.FS.ErrnoError(this.ERRNO_CODES[M.code])}if(E<0)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return y.position=E,E};var Dt=function(y){this.fs=y,this.nodefs=y.getNodeFS(),this.FS=y.getFS(),this.PATH=y.getPATH(),this.ERRNO_CODES=y.getERRNO_CODES()};Dt.prototype.getattr=function(y){var S=this.fs.realPath(y),b;try{b=this.nodefs.lstatSync(S)}catch(E){throw E.code?new this.FS.ErrnoError(this.ERRNO_CODES[E.code]):E}return{dev:b.dev,ino:b.ino,mode:b.mode,nlink:b.nlink,uid:b.uid,gid:b.gid,rdev:b.rdev,size:b.size,atime:b.atime,mtime:b.mtime,ctime:b.ctime,blksize:b.blksize,blocks:b.blocks}},Dt.prototype.setattr=function(y,S){var b=this.fs.realPath(y);try{if(S.mode!==void 0&&(this.nodefs.chmodSync(b,S.mode),y.mode=S.mode),S.timestamp!==void 0){var E=new Date(S.timestamp);this.nodefs.utimesSync(b,E,E)}}catch(R){if(!R.code)throw R;if(R.code!=="ENOTSUP")throw new this.FS.ErrnoError(this.ERRNO_CODES[R.code])}if(S.size!==void 0)try{this.nodefs.truncateSync(b,S.size)}catch(R){throw R.code?new this.FS.ErrnoError(this.ERRNO_CODES[R.code]):R}},Dt.prototype.lookup=function(y,S){var b=this.PATH.join2(this.fs.realPath(y),S),E=this.fs.getMode(b);return this.fs.createNode(y,S,E)},Dt.prototype.mknod=function(y,S,b,E){var R=this.fs.createNode(y,S,b,E),M=this.fs.realPath(R);try{this.FS.isDir(R.mode)?this.nodefs.mkdirSync(M,R.mode):this.nodefs.writeFileSync(M,"",{mode:R.mode})}catch(W){throw W.code?new this.FS.ErrnoError(this.ERRNO_CODES[W.code]):W}return R},Dt.prototype.rename=function(y,S,b){var E=this.fs.realPath(y),R=this.PATH.join2(this.fs.realPath(S),b);try{this.nodefs.renameSync(E,R),y.name=b,y.parent=S}catch(M){throw M.code?new this.FS.ErrnoError(this.ERRNO_CODES[M.code]):M}},Dt.prototype.unlink=function(y,S){var b=this.PATH.join2(this.fs.realPath(y),S);try{this.nodefs.unlinkSync(b)}catch(E){throw E.code?new this.FS.ErrnoError(this.ERRNO_CODES[E.code]):E}},Dt.prototype.rmdir=function(y,S){var b=this.PATH.join2(this.fs.realPath(y),S);try{this.nodefs.rmdirSync(b)}catch(E){throw E.code?new this.FS.ErrnoError(this.ERRNO_CODES[E.code]):E}},Dt.prototype.readdir=function(y){var S=this.fs.realPath(y);try{var b=this.nodefs.readdirSync(S);return b.push(".",".."),b}catch(E){throw E.code?new this.FS.ErrnoError(this.ERRNO_CODES[E.code]):E}},Dt.prototype.symlink=function(y,S,b){var E=this.PATH.join2(this.fs.realPath(y),S);try{this.nodefs.symlinkSync(b,E)}catch(R){throw R.code?new this.FS.ErrnoError(this.ERRNO_CODES[R.code]):R}},Dt.prototype.readlink=function(y){var S=this.fs.realPath(y);try{return this.nodefs.readlinkSync(S)}catch(b){throw b.code?new this.FS.ErrnoError(this.ERRNO_CODES[b.code]):b}};var an=function(y,S,b,E){y===void 0&&(y=self.FS),S===void 0&&(S=self.PATH),b===void 0&&(b=self.ERRNO_CODES),E===void 0&&(E=Ie),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},this.nodefs=E,this.FS=y,this.PATH=S,this.ERRNO_CODES=b,this.node_ops=new Dt(this),this.stream_ops=new vt(this)};an.prototype.mount=function(y){return this.createNode(null,"/",this.getMode(y.opts.root),0)},an.prototype.createNode=function(y,S,b,E){var R=this.FS;if(!R.isDir(b)&&!R.isFile(b)&&!R.isLink(b))throw new R.ErrnoError(this.ERRNO_CODES.EINVAL);var M=R.createNode(y,S,b);return M.node_ops=this.node_ops,M.stream_ops=this.stream_ops,M},an.prototype.getMode=function(y){var S;try{S=this.nodefs.lstatSync(y)}catch(b){throw b.code?new this.FS.ErrnoError(this.ERRNO_CODES[b.code]):b}return S.mode},an.prototype.realPath=function(y){for(var S=[];y.parent!==y;)S.push(y.name),y=y.parent;return S.push(y.mount.opts.root),S.reverse(),this.PATH.join.apply(null,S)},an.prototype.flagsToPermissionString=function(y){var S=typeof y=="string"?parseInt(y,10):y;return S&=8191,S in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[S]:y},an.prototype.getNodeFS=function(){return this.nodefs},an.prototype.getFS=function(){return this.FS},an.prototype.getPATH=function(){return this.PATH},an.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES};var Nt=function(){};Nt.prototype.supportsLinks=function(){return!1},Nt.prototype.diskSpace=function(y,S){S(0,0)},Nt.prototype.openFile=function(y,S,b){throw new m(h.ENOTSUP)},Nt.prototype.createFile=function(y,S,b,E){throw new m(h.ENOTSUP)},Nt.prototype.open=function(y,S,b,E){var R=this,M=function(W,oe){if(W)switch(S.pathNotExistsAction()){case w.CREATE_FILE:return R.stat(d.dirname(y),!1,function(me,Be){me?E(me):Be&&!Be.isDirectory()?E(m.ENOTDIR(d.dirname(y))):R.createFile(y,S,b,E)});case w.THROW_EXCEPTION:return E(m.ENOENT(y));default:return E(new m(h.EINVAL,"Invalid FileFlag object."))}else{if(oe&&oe.isDirectory())return E(m.EISDIR(y));switch(S.pathExistsAction()){case w.THROW_EXCEPTION:return E(m.EEXIST(y));case w.TRUNCATE_FILE:return R.openFile(y,S,function(me,Be){me?E(me):Be?Be.truncate(0,function(){Be.sync(function(){E(null,Be)})}):he()});case w.NOP:return R.openFile(y,S,E);default:return E(new m(h.EINVAL,"Invalid FileFlag object."))}}};this.stat(y,!1,M)},Nt.prototype.rename=function(y,S,b){b(new m(h.ENOTSUP))},Nt.prototype.renameSync=function(y,S){throw new m(h.ENOTSUP)},Nt.prototype.stat=function(y,S,b){b(new m(h.ENOTSUP))},Nt.prototype.statSync=function(y,S){throw new m(h.ENOTSUP)},Nt.prototype.openFileSync=function(y,S,b){throw new m(h.ENOTSUP)},Nt.prototype.createFileSync=function(y,S,b){throw new m(h.ENOTSUP)},Nt.prototype.openSync=function(y,S,b){var E;try{E=this.statSync(y,!1)}catch{switch(S.pathNotExistsAction()){case w.CREATE_FILE:var R=this.statSync(d.dirname(y),!1);if(!R.isDirectory())throw m.ENOTDIR(d.dirname(y));return this.createFileSync(y,S,b);case w.THROW_EXCEPTION:throw m.ENOENT(y);default:throw new m(h.EINVAL,"Invalid FileFlag object.")}}if(E.isDirectory())throw m.EISDIR(y);switch(S.pathExistsAction()){case w.THROW_EXCEPTION:throw m.EEXIST(y);case w.TRUNCATE_FILE:return this.unlinkSync(y),this.createFileSync(y,S,E.mode);case w.NOP:return this.openFileSync(y,S,b);default:throw new m(h.EINVAL,"Invalid FileFlag object.")}},Nt.prototype.unlink=function(y,S){S(new m(h.ENOTSUP))},Nt.prototype.unlinkSync=function(y){throw new m(h.ENOTSUP)},Nt.prototype.rmdir=function(y,S){S(new m(h.ENOTSUP))},Nt.prototype.rmdirSync=function(y){throw new m(h.ENOTSUP)},Nt.prototype.mkdir=function(y,S,b){b(new m(h.ENOTSUP))},Nt.prototype.mkdirSync=function(y,S){throw new m(h.ENOTSUP)},Nt.prototype.readdir=function(y,S){S(new m(h.ENOTSUP))},Nt.prototype.readdirSync=function(y){throw new m(h.ENOTSUP)},Nt.prototype.exists=function(y,S){this.stat(y,null,function(b){S(!b)})},Nt.prototype.existsSync=function(y){try{return this.statSync(y,!0),!0}catch{return!1}},Nt.prototype.realpath=function(y,S,b){if(this.supportsLinks())for(var E=y.split(d.sep),R=0;R<E.length;R++){var M=E.slice(0,R+1);E[R]=d.join.apply(null,M)}else this.exists(y,function(W){W?b(null,y):b(m.ENOENT(y))})},Nt.prototype.realpathSync=function(y,S){if(this.supportsLinks()){for(var b=y.split(d.sep),E=0;E<b.length;E++){var R=b.slice(0,E+1);b[E]=d.join.apply(d,R)}return b.join(d.sep)}else{if(this.existsSync(y))return y;throw m.ENOENT(y)}},Nt.prototype.truncate=function(y,S,b){this.open(y,k.getFileFlag("r+"),420,function(E,R){if(E)return b(E);R.truncate(S,function(M){R.close(function(W){b(M||W)})})})},Nt.prototype.truncateSync=function(y,S){var b=this.openSync(y,k.getFileFlag("r+"),420);try{b.truncateSync(S)}catch(E){throw E}finally{b.closeSync()}},Nt.prototype.readFile=function(y,S,b,E){var R=E;this.open(y,b,420,function(M,W){if(M)return E(M);E=function(oe,me){W.close(function(Be){return oe||(oe=Be),R(oe,me)})},W.stat(function(oe,me){if(oe)return E(oe);var Be=a.alloc(me.size);W.read(Be,0,me.size,0,function(ut){if(ut)return E(ut);if(S===null)return E(ut,Be);try{E(null,Be.toString(S))}catch(At){E(At)}})})})},Nt.prototype.readFileSync=function(y,S,b){var E=this.openSync(y,b,420);try{var R=E.statSync(),M=a.alloc(R.size);return E.readSync(M,0,R.size,0),E.closeSync(),S===null?M:M.toString(S)}finally{E.closeSync()}},Nt.prototype.writeFile=function(y,S,b,E,R,M){var W=M;this.open(y,E,420,function(oe,me){if(oe)return M(oe);M=function(Be){me.close(function(ut){W(Be||ut)})};try{typeof S=="string"&&(S=a.from(S,b))}catch(Be){return M(Be)}me.write(S,0,S.length,0,M)})},Nt.prototype.writeFileSync=function(y,S,b,E,R){var M=this.openSync(y,E,R);try{typeof S=="string"&&(S=a.from(S,b)),M.writeSync(S,0,S.length,0)}finally{M.closeSync()}},Nt.prototype.appendFile=function(y,S,b,E,R,M){var W=M;this.open(y,E,R,function(oe,me){if(oe)return M(oe);M=function(Be){me.close(function(ut){W(Be||ut)})},typeof S=="string"&&(S=a.from(S,b)),me.write(S,0,S.length,null,M)})},Nt.prototype.appendFileSync=function(y,S,b,E,R){var M=this.openSync(y,E,R);try{typeof S=="string"&&(S=a.from(S,b)),M.writeSync(S,0,S.length,null)}finally{M.closeSync()}},Nt.prototype.chmod=function(y,S,b,E){E(new m(h.ENOTSUP))},Nt.prototype.chmodSync=function(y,S,b){throw new m(h.ENOTSUP)},Nt.prototype.chown=function(y,S,b,E,R){R(new m(h.ENOTSUP))},Nt.prototype.chownSync=function(y,S,b,E){throw new m(h.ENOTSUP)},Nt.prototype.utimes=function(y,S,b,E){E(new m(h.ENOTSUP))},Nt.prototype.utimesSync=function(y,S,b){throw new m(h.ENOTSUP)},Nt.prototype.link=function(y,S,b){b(new m(h.ENOTSUP))},Nt.prototype.linkSync=function(y,S){throw new m(h.ENOTSUP)},Nt.prototype.symlink=function(y,S,b,E){E(new m(h.ENOTSUP))},Nt.prototype.symlinkSync=function(y,S,b){throw new m(h.ENOTSUP)},Nt.prototype.readlink=function(y,S){S(new m(h.ENOTSUP))},Nt.prototype.readlinkSync=function(y){throw new m(h.ENOTSUP)};var Un=function(x){function y(){x.apply(this,arguments)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype.supportsSynch=function(){return!0},y.prototype.rename=function(b,E,R){try{this.renameSync(b,E),R()}catch(M){R(M)}},y.prototype.stat=function(b,E,R){try{R(null,this.statSync(b,E))}catch(M){R(M)}},y.prototype.open=function(b,E,R,M){try{M(null,this.openSync(b,E,R))}catch(W){M(W)}},y.prototype.unlink=function(b,E){try{this.unlinkSync(b),E()}catch(R){E(R)}},y.prototype.rmdir=function(b,E){try{this.rmdirSync(b),E()}catch(R){E(R)}},y.prototype.mkdir=function(b,E,R){try{this.mkdirSync(b,E),R()}catch(M){R(M)}},y.prototype.readdir=function(b,E){try{E(null,this.readdirSync(b))}catch(R){E(R)}},y.prototype.chmod=function(b,E,R,M){try{this.chmodSync(b,E,R),M()}catch(W){M(W)}},y.prototype.chown=function(b,E,R,M,W){try{this.chownSync(b,E,R,M),W()}catch(oe){W(oe)}},y.prototype.utimes=function(b,E,R,M){try{this.utimesSync(b,E,R),M()}catch(W){M(W)}},y.prototype.link=function(b,E,R){try{this.linkSync(b,E),R()}catch(M){R(M)}},y.prototype.symlink=function(b,E,R,M){try{this.symlinkSync(b,E,R),M()}catch(W){M(W)}},y.prototype.readlink=function(b,E){try{E(null,this.readlinkSync(b))}catch(R){E(R)}},y}(Nt),rn=function(){};rn.prototype.sync=function(y){y(new m(h.ENOTSUP))},rn.prototype.syncSync=function(){throw new m(h.ENOTSUP)},rn.prototype.datasync=function(y){this.sync(y)},rn.prototype.datasyncSync=function(){return this.syncSync()},rn.prototype.chown=function(y,S,b){b(new m(h.ENOTSUP))},rn.prototype.chownSync=function(y,S){throw new m(h.ENOTSUP)},rn.prototype.chmod=function(y,S){S(new m(h.ENOTSUP))},rn.prototype.chmodSync=function(y){throw new m(h.ENOTSUP)},rn.prototype.utimes=function(y,S,b){b(new m(h.ENOTSUP))},rn.prototype.utimesSync=function(y,S){throw new m(h.ENOTSUP)};var tr=function(x){function y(S,b,E,R,M){if(x.call(this),this._pos=0,this._dirty=!1,this._fs=S,this._path=b,this._flag=E,this._stat=R,M?this._buffer=M:this._buffer=ct(),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype.getBuffer=function(){return this._buffer},y.prototype.getStats=function(){return this._stat},y.prototype.getFlag=function(){return this._flag},y.prototype.getPath=function(){return this._path},y.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},y.prototype.advancePos=function(b){return this._pos+=b},y.prototype.setPos=function(b){return this._pos=b},y.prototype.sync=function(b){try{this.syncSync(),b()}catch(E){b(E)}},y.prototype.syncSync=function(){throw new m(h.ENOTSUP)},y.prototype.close=function(b){try{this.closeSync(),b()}catch(E){b(E)}},y.prototype.closeSync=function(){throw new m(h.ENOTSUP)},y.prototype.stat=function(b){try{b(null,this._stat.clone())}catch(E){b(E)}},y.prototype.statSync=function(){return this._stat.clone()},y.prototype.truncate=function(b,E){try{this.truncateSync(b),this._flag.isSynchronous()&&!Ie.getRootFS().supportsSynch()&&this.sync(E),E()}catch(R){return E(R)}},y.prototype.truncateSync=function(b){if(this._dirty=!0,!this._flag.isWriteable())throw new m(h.EPERM,"File not opened with a writeable mode.");if(this._stat.mtime=new Date,b>this._buffer.length){var E=a.alloc(b-this._buffer.length,0);this.writeSync(E,0,E.length,this._buffer.length),this._flag.isSynchronous()&&Ie.getRootFS().supportsSynch()&&this.syncSync();return}this._stat.size=b;var R=a.alloc(b);this._buffer.copy(R,0,0,b),this._buffer=R,this._flag.isSynchronous()&&Ie.getRootFS().supportsSynch()&&this.syncSync()},y.prototype.write=function(b,E,R,M,W){try{W(null,this.writeSync(b,E,R,M),b)}catch(oe){W(oe)}},y.prototype.writeSync=function(b,E,R,M){if(this._dirty=!0,M==null&&(M=this.getPos()),!this._flag.isWriteable())throw new m(h.EPERM,"File not opened with a writeable mode.");var W=M+R;if(W>this._stat.size&&(this._stat.size=W,W>this._buffer.length)){var oe=a.alloc(W);this._buffer.copy(oe),this._buffer=oe}var me=b.copy(this._buffer,M,E,E+R);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),me):(this.setPos(M+me),me)},y.prototype.read=function(b,E,R,M,W){try{W(null,this.readSync(b,E,R,M),b)}catch(oe){W(oe)}},y.prototype.readSync=function(b,E,R,M){if(!this._flag.isReadable())throw new m(h.EPERM,"File not opened with a readable mode.");M==null&&(M=this.getPos());var W=M+R;W>this._stat.size&&(R=this._stat.size-M);var oe=this._buffer.copy(b,E,M,M+R);return this._stat.atime=new Date,this._pos=M+R,oe},y.prototype.chmod=function(b,E){try{this.chmodSync(b),E()}catch(R){E(R)}},y.prototype.chmodSync=function(b){if(!this._fs.supportsProps())throw new m(h.ENOTSUP);this._dirty=!0,this._stat.chmod(b),this.syncSync()},y.prototype.isDirty=function(){return this._dirty},y.prototype.resetDirty=function(){this._dirty=!1},y}(rn),nr=function(x){function y(S,b,E,R,M){x.call(this,S,b,E,R,M)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype.sync=function(b){b()},y.prototype.syncSync=function(){},y.prototype.close=function(b){b()},y.prototype.closeSync=function(){},y}(tr),Dr=function(x){function y(S,b,E,R,M){x.call(this,S,b,E,R,M)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},y.prototype.closeSync=function(){this.syncSync()},y}(tr),Ee=function(x){function y(S,b,E){if(E===void 0&&(E=!0),x.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._initializeCallbacks=[],this._sync=S,this._async=b,!S.supportsSynch())throw new Error("The first argument to AsyncMirror needs to be a synchronous file system.");ue(E,y.Name,{sync:"sync file system instance",async:"async file system instance"})}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.Create=function(b,E){try{var R=new y(b.sync,b.async,!1);R.initialize(function(M){M?E(M):E(null,R)},!1)}catch(M){E(M)}},y.isAvailable=function(){return!0},y.prototype.getName=function(){return y.Name},y.prototype._syncSync=function(b){this._sync.writeFileSync(b.getPath(),b.getBuffer(),null,k.getFileFlag("w"),b.getStats().mode),this.enqueueOp({apiMethod:"writeFile",arguments:[b.getPath(),b.getBuffer(),null,b.getFlag(),b.getStats().mode]})},y.prototype.initialize=function(b,E){var R=this;E===void 0&&(E=!0),E&&console.warn("[AsyncMirror] AsyncMirror.initialize() is deprecated and will be removed in the next major version. Please use 'AsyncMirror.Create({ sync: (sync file system instance), async: (async file system instance)}, cb)' to create and initialize AsyncMirror instances.");var M=this._initializeCallbacks,W=function(ut){R._isInitialized=!ut,R._initializeCallbacks=[],M.forEach(function(At){return At(ut)})};if(this._isInitialized)b();else if(M.push(b)===1){var oe=function(ut,At,qt){ut!=="/"&&R._sync.mkdirSync(ut,At),R._async.readdir(ut,function(Gt,hn){var Mn=0;function Qn(Si){Si?qt(Si):Mn<hn.length?(Be(d.join(ut,hn[Mn]),Qn),Mn++):qt()}Gt?qt(Gt):Qn()})},me=function(ut,At,qt){R._async.readFile(ut,null,k.getFileFlag("r"),function(Gt,hn){if(Gt)qt(Gt);else try{R._sync.writeFileSync(ut,hn,null,k.getFileFlag("w"),At)}catch(Mn){Gt=Mn}finally{qt(Gt)}})},Be=function(ut,At){R._async.stat(ut,!1,function(qt,Gt){qt?At(qt):Gt.isDirectory()?oe(ut,Gt.mode,At):me(ut,Gt.mode,At)})};oe("/",0,W)}},y.prototype.isReadOnly=function(){return!1},y.prototype.supportsSynch=function(){return!0},y.prototype.supportsLinks=function(){return!1},y.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},y.prototype.renameSync=function(b,E){this.checkInitialized(),this._sync.renameSync(b,E),this.enqueueOp({apiMethod:"rename",arguments:[b,E]})},y.prototype.statSync=function(b,E){return this.checkInitialized(),this._sync.statSync(b,E)},y.prototype.openSync=function(b,E,R){this.checkInitialized();var M=this._sync.openSync(b,E,R);return M.closeSync(),new Dr(this,b,E,this._sync.statSync(b,!1),this._sync.readFileSync(b,null,k.getFileFlag("r")))},y.prototype.unlinkSync=function(b){this.checkInitialized(),this._sync.unlinkSync(b),this.enqueueOp({apiMethod:"unlink",arguments:[b]})},y.prototype.rmdirSync=function(b){this.checkInitialized(),this._sync.rmdirSync(b),this.enqueueOp({apiMethod:"rmdir",arguments:[b]})},y.prototype.mkdirSync=function(b,E){this.checkInitialized(),this._sync.mkdirSync(b,E),this.enqueueOp({apiMethod:"mkdir",arguments:[b,E]})},y.prototype.readdirSync=function(b){return this.checkInitialized(),this._sync.readdirSync(b)},y.prototype.existsSync=function(b){return this.checkInitialized(),this._sync.existsSync(b)},y.prototype.chmodSync=function(b,E,R){this.checkInitialized(),this._sync.chmodSync(b,E,R),this.enqueueOp({apiMethod:"chmod",arguments:[b,E,R]})},y.prototype.chownSync=function(b,E,R,M){this.checkInitialized(),this._sync.chownSync(b,E,R,M),this.enqueueOp({apiMethod:"chown",arguments:[b,E,R,M]})},y.prototype.utimesSync=function(b,E,R){this.checkInitialized(),this._sync.utimesSync(b,E,R),this.enqueueOp({apiMethod:"utimes",arguments:[b,E,R]})},y.prototype.checkInitialized=function(){if(!this._isInitialized)throw new m(h.EPERM,"AsyncMirrorFS is not initialized. Please initialize AsyncMirrorFS using its initialize() method before using it.")},y.prototype.enqueueOp=function(b){var E=this;if(this._queue.push(b),!this._queueRunning){this._queueRunning=!0;var R=function(M){if(M&&console.error("WARNING: File system has desynchronized. Received following error: "+M+`
$`),E._queue.length>0){var W=E._queue.shift(),oe=W.arguments;oe.push(R),E._async[W.apiMethod].apply(E._async,oe)}else E._queueRunning=!1};R()}},y}(Un);Ee.Name="AsyncMirror",Ee.Options={sync:{type:"object",description:"The synchronous file system to mirror the asynchronous file system to."},async:{type:"object",description:"The asynchronous file system to mirror."}};function ee(x,y,S){switch(S.length){case 0:return x.call(y);case 1:return x.call(y,S[0]);case 2:return x.call(y,S[0],S[1]);case 3:return x.call(y,S[0],S[1],S[2])}return x.apply(y,S)}var te=Math.max;function Re(x,y,S){return y=te(y===void 0?x.length-1:y,0),function(){for(var b=arguments,E=-1,R=te(b.length-y,0),M=Array(R);++E<R;)M[E]=b[y+E];E=-1;for(var W=Array(y+1);++E<y;)W[E]=b[E];return W[y]=S(M),ee(x,this,W)}}function nt(x){return x}function Oe(x,y){return Re(x,y,nt)}var K=function(x){return Oe(function(y){var S=y.pop();x.call(this,y,S)})};function B(x){return Oe(function(y,S){var b=K(function(E,R){var M=this;return x(y,function(W,oe){W.apply(M,E.concat(oe))},R)});return S.length?b.apply(this,S):b})}var V=typeof s=="object"&&s&&s.Object===Object&&s,be=typeof self=="object"&&self&&self.Object===Object&&self,je=V||be||Function("return this")(),We=je.Symbol,gt=Object.prototype,sn=gt.hasOwnProperty,xn=gt.toString,Mt=We?We.toStringTag:void 0;function Sn(x){var y=sn.call(x,Mt),S=x[Mt];try{x[Mt]=void 0;var b=!0}catch{}var E=xn.call(x);return b&&(y?x[Mt]=S:delete x[Mt]),E}var En=Object.prototype,li=En.toString;function ze(x){return li.call(x)}var Yt="[object Null]",_e="[object Undefined]",Pt=We?We.toStringTag:void 0;function In(x){return x==null?x===void 0?_e:Yt:Pt&&Pt in Object(x)?Sn(x):ze(x)}function Ft(x){var y=typeof x;return x!=null&&(y=="object"||y=="function")}var Ir="[object AsyncFunction]",on="[object Function]",qn="[object GeneratorFunction]",St="[object Proxy]";function Ct(x){if(!Ft(x))return!1;var y=In(x);return y==on||y==qn||y==Ir||y==St}var ji=9007199254740991;function mn(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=ji}function Jt(x){return x!=null&&mn(x.length)&&!Ct(x)}var Ra={};function ss(){}function ni(x){return function(){if(x!==null){var y=x;x=null,y.apply(this,arguments)}}}var Xn=typeof Symbol=="function"&&Symbol.iterator,Tr=function(x){return Xn&&x[Xn]&&x[Xn]()};function vr(x,y){for(var S=-1,b=Array(x);++S<x;)b[S]=y(S);return b}function Zr(x){return x!=null&&typeof x=="object"}var Ha="[object Arguments]";function Wo(x){return Zr(x)&&In(x)==Ha}var ki=Object.prototype,Ni=ki.hasOwnProperty,_i=ki.propertyIsEnumerable,Xi=Wo(function(){return arguments}())?Wo:function(x){return Zr(x)&&Ni.call(x,"callee")&&!_i.call(x,"callee")},Zi=Array.isArray;function lo(){return!1}var ui=typeof r=="object"&&r&&!r.nodeType&&r,Es=ui&&typeof o=="object"&&o&&!o.nodeType&&o,ci=Es&&Es.exports===ui,qf=ci?je.Buffer:void 0,Ku=qf?qf.isBuffer:void 0,Ko=Ku||lo,au=9007199254740991,uo=/^(?:0|[1-9]\d*)$/;function Yu(x,y){return y=y??au,!!y&&(typeof x=="number"||uo.test(x))&&x>-1&&x%1==0&&x<y}var tg="[object Arguments]",lh="[object Array]",B0="[object Boolean]",ar="[object Date]",uh="[object Error]",Yo="[object Function]",ks="[object Map]",di="[object Number]",ch="[object Object]",su="[object RegExp]",Xu="[object Set]",Jc="[object String]",ng="[object WeakMap]",Va="[object ArrayBuffer]",Hf="[object DataView]",dh="[object Float32Array]",Vf="[object Float64Array]",Xo="[object Int8Array]",rg="[object Int16Array]",U0="[object Int32Array]",ur="[object Uint8Array]",ig="[object Uint8ClampedArray]",j0="[object Uint16Array]",z0="[object Uint32Array]",ir={};ir[dh]=ir[Vf]=ir[Xo]=ir[rg]=ir[U0]=ir[ur]=ir[ig]=ir[j0]=ir[z0]=!0,ir[tg]=ir[lh]=ir[Va]=ir[B0]=ir[Hf]=ir[ar]=ir[uh]=ir[Yo]=ir[ks]=ir[di]=ir[ch]=ir[su]=ir[Xu]=ir[Jc]=ir[ng]=!1;function ed(x){return Zr(x)&&mn(x.length)&&!!ir[In(x)]}function Gf(x){return function(y){return x(y)}}var Us=typeof r=="object"&&r&&!r.nodeType&&r,hh=Us&&typeof o=="object"&&o&&!o.nodeType&&o,Wf=hh&&hh.exports===Us,gi=Wf&&V.process,Ia=function(){try{return gi&&gi.binding&&gi.binding("util")}catch{}}(),Zu=Ia&&Ia.isTypedArray,Qu=Zu?Gf(Zu):ed,Kf=Object.prototype,js=Kf.hasOwnProperty;function ag(x,y){var S=Zi(x),b=!S&&Xi(x),E=!S&&!b&&Ko(x),R=!S&&!b&&!E&&Qu(x),M=S||b||E||R,W=M?vr(x.length,String):[],oe=W.length;for(var me in x)js.call(x,me)&&!(M&&(me=="length"||E&&(me=="offset"||me=="parent")||R&&(me=="buffer"||me=="byteLength"||me=="byteOffset")||Yu(me,oe)))&&W.push(me);return W}var os=Object.prototype;function Zo(x){var y=x&&x.constructor,S=typeof y=="function"&&y.prototype||os;return x===S}function Yf(x,y){return function(S){return x(y(S))}}var td=Yf(Object.keys,Object),nd=Object.prototype,rd=nd.hasOwnProperty;function fh(x){if(!Zo(x))return td(x);var y=[];for(var S in Object(x))rd.call(x,S)&&S!="constructor"&&y.push(S);return y}function $0(x){return Jt(x)?ag(x):fh(x)}function da(x){var y=-1,S=x.length;return function(){return++y<S?{value:x[y],key:y}:null}}function Ju(x){var y=-1;return function(){var b=x.next();return b.done?null:(y++,{value:b.value,key:y})}}function Xf(x){var y=$0(x),S=-1,b=y.length;return function(){var R=y[++S];return S<b?{value:x[R],key:R}:null}}function ou(x){if(Jt(x))return da(x);var y=Tr(x);return y?Ju(y):Xf(x)}function ph(x){return function(){if(x===null)throw new Error("Callback was already called.");var y=x;x=null,y.apply(this,arguments)}}function id(x){return function(y,S,b){if(b=ni(b||ss),x<=0||!y)return b(null);var E=ou(y),R=!1,M=0;function W(me,Be){if(M-=1,me)R=!0,b(me);else{if(Be===Ra||R&&M<=0)return R=!0,b(null);oe()}}function oe(){for(;M<x&&!R;){var me=E();if(me===null){R=!0,M<=0&&b(null);return}M+=1,S(me.value,me.key,ph(W))}}oe()}}function Zf(x,y,S,b){id(y)(x,S,b)}function ec(x,y){return function(S,b,E){return x(S,y,b,E)}}function Qf(x,y,S){S=ni(S||ss);var b=0,E=0,R=x.length;R===0&&S(null);function M(W,oe){W?S(W):(++E===R||oe===Ra)&&S(null)}for(;b<R;b++)y(x[b],b,ph(M))}var Jf=ec(Zf,1/0),ep=function(x,y,S){var b=Jt(x)?Qf:Jf;b(x,y,S)};function q0(x){return function(y,S,b){return x(ep,y,S,b)}}function mh(x,y,S,b){b=b||ss,y=y||[];var E=[],R=0;x(y,function(M,W,oe){var me=R++;S(M,function(Be,ut){E[me]=ut,oe(Be)})},function(M){b(M,E)})}var ad=q0(mh);B(ad);function tp(x){return function(y,S,b,E){return x(id(S),y,b,E)}}var H0=tp(mh),Bv=ec(H0,1);B(Bv),Oe(function(x,y){return Oe(function(S){return x.apply(null,y.concat(S))})});function np(x,y){for(var S=-1,b=x==null?0:x.length;++S<b&&y(x[S],S,x)!==!1;);return x}var rp=typeof setImmediate=="function"&&setImmediate,gh=typeof l=="object"&&typeof l.nextTick=="function";function ip(x){setTimeout(x,0)}function ap(x){return Oe(function(y,S){x(function(){y.apply(null,S)})})}var Qi;rp?Qi=setImmediate:gh?Qi=l.nextTick:Qi=ip,ap(Qi);var yh=ec(Zf,1);function tc(x,y,S,b){b=ni(b||ss),yh(x,function(E,R,M){S(y,E,function(W,oe){y=oe,M(W)})},function(E){b(E,y)})}var V0=Oe(function(y){return Oe(function(S){var b=this,E=S[S.length-1];typeof E=="function"?S.pop():E=ss,tc(y,S,function(R,M,W){M.apply(b,R.concat(Oe(function(oe,me){W(oe,me)})))},function(R,M){E.apply(b,[R].concat(M))})})});Oe(function(x){return V0.apply(null,x.reverse())}),Oe(function(x){var y=[null].concat(x);return K(function(S,b){return b.apply(this,y)})});function bh(x){return Oe(function(y,S){y.apply(null,S.concat(Oe(function(b,E){typeof console=="object"&&(b?console.error&&console.error(b):console[x]&&np(E,function(R){console[x](R)}))})))})}bh("dir");function G0(x){return function(y,S,b){return x(y,b)}}function sp(x,y,S){ep(x,G0(y),S)}bh("log");var nc;gh?nc=l.nextTick:rp?nc=setImmediate:nc=ip,ap(nc);var Na;function rc(){Na||(Na={},Na[Dropbox.ApiError.NETWORK_ERROR]=h.EIO,Na[Dropbox.ApiError.INVALID_PARAM]=h.EINVAL,Na[Dropbox.ApiError.INVALID_TOKEN]=h.EPERM,Na[Dropbox.ApiError.OAUTH_ERROR]=h.EPERM,Na[Dropbox.ApiError.NOT_FOUND]=h.ENOENT,Na[Dropbox.ApiError.INVALID_METHOD]=h.EINVAL,Na[Dropbox.ApiError.NOT_ACCEPTABLE]=h.EINVAL,Na[Dropbox.ApiError.CONFLICT]=h.EINVAL,Na[Dropbox.ApiError.RATE_LIMITED]=h.EBUSY,Na[Dropbox.ApiError.SERVER_ERROR]=h.EBUSY,Na[Dropbox.ApiError.OVER_QUOTA]=h.ENOSPC)}function sg(x){return x&&x.stat.isFile}function og(x){return x&&x.stat.isFolder}function op(x){return x==null||typeof x=="object"&&typeof x.byteLength=="number"}var Ji=function(y){this._cache={},this._client=y};Ji.prototype.readdir=function(y,S){var b=this,E=this.getCachedDirInfo(y);this._wrap(function(R){E!==null&&E.contents?b._client.readdir(y,{contentHash:E.stat.contentHash},R):b._client.readdir(y,R)},function(R,M,W,oe){R?R.status===Dropbox.ApiError.NO_CONTENT&&E!==null?S(null,E.contents.slice(0)):S(R):(b.updateCachedDirInfo(y,W,M.slice(0)),oe.forEach(function(me){b.updateCachedInfo(d.join(y,me.name),me)}),S(null,M))})},Ji.prototype.remove=function(y,S){var b=this;this._wrap(function(E){b._client.remove(y,E)},function(E,R){E||b.updateCachedInfo(y,R),S(E)})},Ji.prototype.move=function(y,S,b){var E=this;this._wrap(function(R){E._client.move(y,S,R)},function(R,M){R||(E.deleteCachedInfo(y),E.updateCachedInfo(S,M)),b(R)})},Ji.prototype.stat=function(y,S){var b=this;this._wrap(function(E){b._client.stat(y,E)},function(E,R){E||b.updateCachedInfo(y,R),S(E,R)})},Ji.prototype.readFile=function(y,S){var b=this,E=this.getCachedFileInfo(y);E!==null&&E.contents!==null?this.stat(y,function(R,M){R?S(R):M.contentHash===E.stat.contentHash?S(R,E.contents.slice(0),E.stat):b.readFile(y,S)}):this._wrap(function(R){b._client.readFile(y,{arrayBuffer:!0},R)},function(R,M,W){R||b.updateCachedInfo(y,W,M.slice(0)),S(R,M,W)})},Ji.prototype.writeFile=function(y,S,b){var E=this;this._wrap(function(R){E._client.writeFile(y,S,R)},function(R,M){R||E.updateCachedInfo(y,M,S.slice(0)),b(R,M)})},Ji.prototype.mkdir=function(y,S){var b=this;this._wrap(function(E){b._client.mkdir(y,E)},function(E,R){E||b.updateCachedInfo(y,R,[]),S(E)})},Ji.prototype._wrap=function(y,S){var b=0,E=function(R){var M=2;if(R&&3>++b)switch(R.status){case Dropbox.ApiError.SERVER_ERROR:case Dropbox.ApiError.NETWORK_ERROR:case Dropbox.ApiError.RATE_LIMITED:setTimeout(function(){y(E)},M*1e3);break;default:S.apply(null,arguments);break}else S.apply(null,arguments)};y(E)},Ji.prototype.getCachedInfo=function(y){return this._cache[y.toLowerCase()]},Ji.prototype.putCachedInfo=function(y,S){this._cache[y.toLowerCase()]=S},Ji.prototype.deleteCachedInfo=function(y){delete this._cache[y.toLowerCase()]},Ji.prototype.getCachedDirInfo=function(y){var S=this.getCachedInfo(y);return og(S)?S:null},Ji.prototype.getCachedFileInfo=function(y){var S=this.getCachedInfo(y);return sg(S)?S:null},Ji.prototype.updateCachedDirInfo=function(y,S,b){b===void 0&&(b=null);var E=this.getCachedInfo(y);S.contentHash!==null&&(E===void 0||E.stat.contentHash!==S.contentHash)&&this.putCachedInfo(y,{stat:S,contents:b})},Ji.prototype.updateCachedFileInfo=function(y,S,b){b===void 0&&(b=null);var E=this.getCachedInfo(y);S.versionTag!==null&&(E===void 0||E.stat.versionTag!==S.versionTag)&&this.putCachedInfo(y,{stat:S,contents:b})},Ji.prototype.updateCachedInfo=function(y,S,b){b===void 0&&(b=null),S.isFile&&op(b)?this.updateCachedFileInfo(y,S,b):S.isFolder&&Array.isArray(b)&&this.updateCachedDirInfo(y,S,b)};var W0=function(x){function y(S,b,E,R,M){x.call(this,S,b,E,R,M)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype.sync=function(b){var E=this;if(this.isDirty()){var R=this.getBuffer(),M=pe(R);this._fs._writeFileStrict(this.getPath(),M,function(W){W||E.resetDirty(),b(W)})}else b()},y.prototype.close=function(b){this.sync(b)},y}(tr),lp=function(x){function y(S,b){b===void 0&&(b=!0),x.call(this),this._client=new Ji(S),ue(b,y.Name,{client:"authenticated dropbox client instance"}),rc()}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.Create=function(b,E){E(null,new y(b.client,!1))},y.isAvailable=function(){return typeof Dropbox<"u"},y.prototype.getName=function(){return y.Name},y.prototype.isReadOnly=function(){return!1},y.prototype.supportsSymlinks=function(){return!1},y.prototype.supportsProps=function(){return!1},y.prototype.supportsSynch=function(){return!1},y.prototype.empty=function(b){var E=this;this._client.readdir("/",function(R,M){if(R)b(E.convert(R,"/"));else{var W=function(me,Be){var ut=d.join("/",me);E._client.remove(ut,function(At){Be(At?E.convert(At,ut):null)})},oe=function(me){me?b(me):b()};sp(M,W,oe)}})},y.prototype.rename=function(b,E,R){var M=this;this._client.move(b,E,function(W){W?M._client.stat(E,function(oe,me){if(oe||me.isFolder){var Be=W.response.error.indexOf(b)>-1?b:E;R(M.convert(W,Be))}else M._client.remove(E,function(ut){ut?R(M.convert(ut,E)):M.rename(b,E,R)})}):R()})},y.prototype.stat=function(b,E,R){var M=this;this._client.stat(b,function(W,oe){if(W)R(M.convert(W,b));else if(oe&&oe.isRemoved)R(m.FileError(h.ENOENT,b));else{var me=new C(M._statType(oe),oe.size);return R(null,me)}})},y.prototype.open=function(b,E,R,M){var W=this;this._client.readFile(b,function(oe,me,Be){if(oe)if(E.isReadable())M(W.convert(oe,b));else switch(oe.status){case Dropbox.ApiError.NOT_FOUND:var ut=new ArrayBuffer(0);return W._writeFileStrict(b,ut,function(Gt,hn){if(Gt)M(Gt);else{var Mn=W._makeFile(b,E,hn,it(ut));M(null,Mn)}});default:return M(W.convert(oe,b))}else{var At;me===null?At=ct():At=it(me);var qt=W._makeFile(b,E,Be,At);return M(null,qt)}})},y.prototype._writeFileStrict=function(b,E,R){var M=this,W=d.dirname(b);this.stat(W,!1,function(oe,me){oe?R(m.FileError(h.ENOENT,W)):M._client.writeFile(b,E,function(Be,ut){Be?R(M.convert(Be,b)):R(null,ut)})})},y.prototype._statType=function(b){return b.isFile?T.FILE:T.DIRECTORY},y.prototype._makeFile=function(b,E,R,M){var W=this._statType(R),oe=new C(W,R.size);return new W0(this,b,E,oe,M)},y.prototype._remove=function(b,E,R){var M=this;this._client.stat(b,function(W,oe){W?E(M.convert(W,b)):oe.isFile&&!R?E(m.FileError(h.ENOTDIR,b)):!oe.isFile&&R?E(m.FileError(h.EISDIR,b)):M._client.remove(b,function(me){E(me?M.convert(me,b):null)})})},y.prototype.unlink=function(b,E){this._remove(b,E,!0)},y.prototype.rmdir=function(b,E){this._remove(b,E,!1)},y.prototype.mkdir=function(b,E,R){var M=this,W=d.dirname(b);this._client.stat(W,function(oe,me){oe?R(M.convert(oe,W)):M._client.mkdir(b,function(Be){R(Be?m.FileError(h.EEXIST,b):null)})})},y.prototype.readdir=function(b,E){var R=this;this._client.readdir(b,function(M,W){return M?E(R.convert(M)):E(null,W)})},y.prototype.convert=function(b,E){E===void 0&&(E=null);var R=Na[b.status];return R===void 0&&(R=h.EIO),E?m.FileError(R,E):new m(R)},y}(Nt);lp.Name="Dropbox",lp.Options={client:{type:"object",description:"An *authenticated* Dropbox client. Must be from the 0.10 JS SDK.",validator:function(x,y){x.isAuthenticated&&x.isAuthenticated()?y():y(new m(h.EINVAL,"'client' option must be an authenticated Dropbox client from the v0.10 JS SDK."))}}};function ri(x,y){y===void 0&&(y="");for(var S=x.errno,b=x.node,E=[];b&&(E.unshift(b.name),b!==b.parent);)b=b.parent;return new m(S,p[S],E.length>0?"/"+E.join("/"):y)}var lu=function(x){function y(S,b,E,R){x.call(this),this._fs=S,this._FS=b,this._path=E,this._stream=R}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype.getPos=function(){},y.prototype.close=function(b){var E=null;try{this.closeSync()}catch(R){E=R}finally{b(E)}},y.prototype.closeSync=function(){try{this._FS.close(this._stream)}catch(b){throw ri(b,this._path)}},y.prototype.stat=function(b){try{b(null,this.statSync())}catch(E){b(E)}},y.prototype.statSync=function(){try{return this._fs.statSync(this._path,!1)}catch(b){throw ri(b,this._path)}},y.prototype.truncate=function(b,E){var R=null;try{this.truncateSync(b)}catch(M){R=M}finally{E(R)}},y.prototype.truncateSync=function(b){try{this._FS.ftruncate(this._stream.fd,b)}catch(E){throw ri(E,this._path)}},y.prototype.write=function(b,E,R,M,W){try{W(null,this.writeSync(b,E,R,M),b)}catch(oe){W(oe)}},y.prototype.writeSync=function(b,E,R,M){try{var W=Ne(b),oe=M===null?void 0:M;return this._FS.write(this._stream,W,E,R,oe)}catch(me){throw ri(me,this._path)}},y.prototype.read=function(b,E,R,M,W){try{W(null,this.readSync(b,E,R,M),b)}catch(oe){W(oe)}},y.prototype.readSync=function(b,E,R,M){try{var W=Ne(b),oe=M===null?void 0:M;return this._FS.read(this._stream,W,E,R,oe)}catch(me){throw ri(me,this._path)}},y.prototype.sync=function(b){b()},y.prototype.syncSync=function(){},y.prototype.chown=function(b,E,R){var M=null;try{this.chownSync(b,E)}catch(W){M=W}finally{R(M)}},y.prototype.chownSync=function(b,E){try{this._FS.fchown(this._stream.fd,b,E)}catch(R){throw ri(R,this._path)}},y.prototype.chmod=function(b,E){var R=null;try{this.chmodSync(b)}catch(M){R=M}finally{E(R)}},y.prototype.chmodSync=function(b){try{this._FS.fchmod(this._stream.fd,b)}catch(E){throw ri(E,this._path)}},y.prototype.utimes=function(b,E,R){var M=null;try{this.utimesSync(b,E)}catch(W){M=W}finally{R(M)}},y.prototype.utimesSync=function(b,E){this._fs.utimesSync(this._path,b,E)},y}(rn),up=function(x){function y(S){x.call(this),this._FS=S}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.Create=function(b,E){E(null,new y(b.FS))},y.isAvailable=function(){return!0},y.prototype.getName=function(){return this._FS.DB_NAME()},y.prototype.isReadOnly=function(){return!1},y.prototype.supportsLinks=function(){return!0},y.prototype.supportsProps=function(){return!0},y.prototype.supportsSynch=function(){return!0},y.prototype.renameSync=function(b,E){try{this._FS.rename(b,E)}catch(R){throw R.errno===h.ENOENT?ri(R,this.existsSync(b)?E:b):ri(R)}},y.prototype.statSync=function(b,E){try{var R=E?this._FS.lstat(b):this._FS.stat(b),M=this.modeToFileType(R.mode);return new C(M,R.size,R.mode,R.atime,R.mtime,R.ctime)}catch(W){throw ri(W,b)}},y.prototype.openSync=function(b,E,R){try{var M=this._FS.open(b,E.getFlagString(),R);if(this._FS.isDir(M.node.mode))throw this._FS.close(M),m.EISDIR(b);return new lu(this,this._FS,b,M)}catch(W){throw ri(W,b)}},y.prototype.unlinkSync=function(b){try{this._FS.unlink(b)}catch(E){throw ri(E,b)}},y.prototype.rmdirSync=function(b){try{this._FS.rmdir(b)}catch(E){throw ri(E,b)}},y.prototype.mkdirSync=function(b,E){try{this._FS.mkdir(b,E)}catch(R){throw ri(R,b)}},y.prototype.readdirSync=function(b){try{return this._FS.readdir(b).filter(function(E){return E!=="."&&E!==".."})}catch(E){throw ri(E,b)}},y.prototype.truncateSync=function(b,E){try{this._FS.truncate(b,E)}catch(R){throw ri(R,b)}},y.prototype.readFileSync=function(b,E,R){try{var M=this._FS.readFile(b,{flags:R.getFlagString()}),W=He(M);return E?W.toString(E):W}catch(oe){throw ri(oe,b)}},y.prototype.writeFileSync=function(b,E,R,M,W){try{R&&(E=a.from(E,R));var oe=Ne(E);this._FS.writeFile(b,oe,{flags:M.getFlagString(),encoding:"binary"}),this._FS.chmod(b,W)}catch(me){throw ri(me,b)}},y.prototype.chmodSync=function(b,E,R){try{E?this._FS.lchmod(b,R):this._FS.chmod(b,R)}catch(M){throw ri(M,b)}},y.prototype.chownSync=function(b,E,R,M){try{E?this._FS.lchown(b,R,M):this._FS.chown(b,R,M)}catch(W){throw ri(W,b)}},y.prototype.symlinkSync=function(b,E,R){try{this._FS.symlink(b,E)}catch(M){throw ri(M)}},y.prototype.readlinkSync=function(b){try{return this._FS.readlink(b)}catch(E){throw ri(E,b)}},y.prototype.utimesSync=function(b,E,R){try{this._FS.utime(b,E.getTime(),R.getTime())}catch(M){throw ri(M,b)}},y.prototype.modeToFileType=function(b){if(this._FS.isDir(b))return T.DIRECTORY;if(this._FS.isFile(b))return T.FILE;if(this._FS.isLink(b))return T.SYMLINK;throw m.EPERM("Invalid mode: "+b)},y}(Un);up.Name="EmscriptenFileSystem",up.Options={FS:{type:"object",description:"The Emscripten file system to use (the `FS` variable)"}};var El=function(x){function y(S,b){x.call(this),this._folder=S,this._wrapped=b}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.Create=function(b,E){E(null,new y(b.folder,b.wrapped))},y.isAvailable=function(){return!0},y.prototype.initialize=function(b){var E=this;this._wrapped.exists(this._folder,function(R){R?b():E._wrapped.isReadOnly()?b(m.ENOENT(E._folder)):E._wrapped.mkdir(E._folder,511,b)})},y.prototype.getName=function(){return this._wrapped.getName()},y.prototype.isReadOnly=function(){return this._wrapped.isReadOnly()},y.prototype.supportsProps=function(){return this._wrapped.supportsProps()},y.prototype.supportsSynch=function(){return this._wrapped.supportsSynch()},y.prototype.supportsLinks=function(){return!1},y}(Nt);El.Name="FolderAdapter",El.Options={folder:{type:"string",description:"The folder to use as the root directory"},wrapped:{type:"object",description:"The file system to wrap"}};function vh(x,y){if(y!==null&&typeof y=="object"){var S=y,b=S.path;b&&(b="/"+d.relative(x,b),S.message=S.message.replace(S.path,b),S.path=b)}return y}function K0(x,y){return typeof y=="function"?function(S){arguments.length>0&&(arguments[0]=vh(x,S)),y.apply(null,arguments)}:y}function cp(x,y,S){return x.slice(x.length-4)!=="Sync"?function(){return arguments.length>0&&(arguments[0]=d.join(this._folder,arguments[0]),S&&(arguments[1]=d.join(this._folder,arguments[1])),arguments[arguments.length-1]=K0(this._folder,arguments[arguments.length-1])),this._wrapped[x].apply(this._wrapped,arguments)}:function(){try{return y&&(arguments[0]=d.join(this._folder,arguments[0])),S&&(arguments[1]=d.join(this._folder,arguments[1])),this._wrapped[x].apply(this._wrapped,arguments)}catch(b){throw vh(this._folder,b)}}}["diskSpace","stat","statSync","open","openSync","unlink","unlinkSync","rmdir","rmdirSync","mkdir","mkdirSync","readdir","readdirSync","exists","existsSync","realpath","realpathSync","truncate","truncateSync","readFile","readFileSync","writeFile","writeFileSync","appendFile","appendFileSync","chmod","chmodSync","chown","chownSync","utimes","utimesSync","readlink","readlinkSync"].forEach(function(x){El.prototype[x]=cp(x,!0,!1)}),["rename","renameSync","link","linkSync","symlink","symlinkSync"].forEach(function(x){El.prototype[x]=cp(x,!0,!0)});var wh;typeof window<"u"?wh=window:typeof self<"u"?wh=self:wh=s;var ii=wh;function Y0(x){return x.isDirectory}var lg=ii.webkitRequestFileSystem||ii.requestFileSystem||null;function X0(x,y,S,b){if(typeof navigator.webkitPersistentStorage<"u")switch(x){case ii.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(y,S,b);break;case ii.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(y,S,b);break;default:b(new TypeError("Invalid storage type: "+x));break}else ii.webkitStorageInfo.requestQuota(x,y,S,b)}function dp(x){return Array.prototype.slice.call(x||[],0)}function zs(x,y,S){switch(x.name){case"PathExistsError":return m.EEXIST(y);case"QuotaExceededError":return m.FileError(h.ENOSPC,y);case"NotFoundError":return m.ENOENT(y);case"SecurityError":return m.FileError(h.EACCES,y);case"InvalidModificationError":return m.FileError(h.EPERM,y);case"TypeMismatchError":return m.FileError(S?h.ENOTDIR:h.EISDIR,y);case"EncodingError":case"InvalidStateError":case"NoModificationAllowedError":default:return m.FileError(h.EINVAL,y)}}var sd=function(x){function y(S,b,E,R,M,W){x.call(this,S,E,R,M,W),this._entry=b}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype.sync=function(b){var E=this;if(!this.isDirty())return b();this._entry.createWriter(function(R){var M=E.getBuffer(),W=new Blob([pe(M)]),oe=W.size;R.onwriteend=function(me){R.onwriteend=null,R.onerror=null,R.truncate(oe),E.resetDirty(),b()},R.onerror=function(me){b(zs(me,E.getPath(),!1))},R.write(W)})},y.prototype.close=function(b){this.sync(b)},y}(tr),uu=function(x){function y(S,b,E){S===void 0&&(S=5),b===void 0&&(b=ii.PERSISTENT),E===void 0&&(E=!0),x.call(this),this.size=1024*1024*S,this.type=b,ue(E,y.Name,{size:S,type:b})}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.Create=function(b,E){var R=new y(b.size,b.type,!1);R.allocate(function(M){return M?E(M):E(null,R)},!1)},y.isAvailable=function(){return!!lg},y.prototype.getName=function(){return y.Name},y.prototype.isReadOnly=function(){return!1},y.prototype.supportsSymlinks=function(){return!1},y.prototype.supportsProps=function(){return!1},y.prototype.supportsSynch=function(){return!1},y.prototype.allocate=function(b,E){var R=this;b===void 0&&(b=function(){}),E===void 0&&(E=!0),E&&console.warn("[HTML5FS] HTML5FS.allocate() is deprecated and will be removed in the next major release. Please use 'HTML5FS.Create({type: "+this.type+", size: "+this.size+"}, cb)' to create and allocate HTML5FS instances.");var M=function(oe){R.fs=oe,b()},W=function(oe){b(zs(oe,"/",!0))};this.type===ii.PERSISTENT?X0(this.type,this.size,function(oe){lg(R.type,oe,M,W)},W):lg(this.type,this.size,M,W)},y.prototype.empty=function(b){this._readdir("/",function(E,R){if(E)console.error("Failed to empty FS"),b(E);else{var M=function(oe){E?(console.error("Failed to empty FS"),b(E)):b()},W=function(oe,me){var Be=function(){me()},ut=function(At){me(zs(At,oe.fullPath,!oe.isDirectory))};Y0(oe)?oe.removeRecursively(Be,ut):oe.remove(Be,ut)};sp(R,W,M)}})},y.prototype.rename=function(b,E,R){var M=this,W=2,oe=0,me=this.fs.root,Be=b,ut=function(qt){--W<=0&&R(zs(qt,Be,!1))},At=function(qt){if(++oe===2)return R(new m(h.EINVAL,"Something was identified as both a file and a directory. This should never happen."));if(b===E)return R();Be=d.dirname(E),me.getDirectory(Be,{},function(Gt){Be=d.basename(E),qt.moveTo(Gt,Be,function(hn){R()},function(hn){qt.isDirectory?(Be=E,M.unlink(E,function(Mn){Mn?ut(hn):M.rename(b,E,R)})):ut(hn)})},ut)};me.getFile(b,{},At,ut),me.getDirectory(b,{},At,ut)},y.prototype.stat=function(b,E,R){var M=this,W={create:!1},oe=function(At){var qt=function(Gt){var hn=new C(T.FILE,Gt.size);R(null,hn)};At.file(qt,Be)},me=function(At){var qt=4096,Gt=new C(T.DIRECTORY,qt);R(null,Gt)},Be=function(At){R(zs(At,b,!1))},ut=function(){M.fs.root.getDirectory(b,W,me,Be)};this.fs.root.getFile(b,W,oe,ut)},y.prototype.open=function(b,E,R,M){var W=this,oe=function(me){me.name==="InvalidModificationError"&&E.isExclusive()?M(m.EEXIST(b)):M(zs(me,b,!1))};this.fs.root.getFile(b,{create:E.pathNotExistsAction()===w.CREATE_FILE,exclusive:E.isExclusive()},function(me){me.file(function(Be){var ut=new FileReader;ut.onloadend=function(At){var qt=W._makeFile(b,me,E,Be,ut.result);M(null,qt)},ut.onerror=function(At){oe(ut.error)},ut.readAsArrayBuffer(Be)},oe)},oe)},y.prototype.unlink=function(b,E){this._remove(b,E,!0)},y.prototype.rmdir=function(b,E){var R=this;this.readdir(b,function(M,W){M?E(M):W.length>0?E(m.ENOTEMPTY(b)):R._remove(b,E,!1)})},y.prototype.mkdir=function(b,E,R){var M={create:!0,exclusive:!0},W=function(me){R()},oe=function(me){R(zs(me,b,!0))};this.fs.root.getDirectory(b,M,W,oe)},y.prototype.readdir=function(b,E){this._readdir(b,function(R,M){if(M){for(var W=[],oe=0,me=M;oe<me.length;oe+=1){var Be=me[oe];W.push(Be.name)}E(null,W)}else return E(R)})},y.prototype._makeFile=function(b,E,R,M,W){W===void 0&&(W=new ArrayBuffer(0));var oe=new C(T.FILE,M.size),me=it(W);return new sd(this,E,b,R,oe,me)},y.prototype._readdir=function(b,E){var R=function(M){E(zs(M,b,!0))};this.fs.root.getDirectory(b,{create:!1},function(M){var W=M.createReader(),oe=[],me=function(){W.readEntries(function(Be){Be.length?(oe=oe.concat(dp(Be)),me()):E(null,oe)},R)};me()},R)},y.prototype._remove=function(b,E,R){var M=function(me){var Be=function(){E()},ut=function(At){E(zs(At,b,!R))};me.remove(Be,ut)},W=function(me){E(zs(me,b,!R))},oe={create:!1};R?this.fs.root.getFile(b,oe,M,W):this.fs.root.getDirectory(b,oe,M,W)},y}(Nt);uu.Name="HTML5FS",uu.Options={size:{type:"number",optional:!0,description:"Storage quota to request, in megabytes. Allocated value may be less. Defaults to 5."},type:{type:"number",optional:!0,description:"window.PERSISTENT or window.TEMPORARY. Defaults to PERSISTENT."}};var ls=function(y,S,b,E,R,M){this.id=y,this.size=S,this.mode=b,this.atime=E,this.mtime=R,this.ctime=M};ls.fromBuffer=function(y){if(y===void 0)throw new Error("NO");return new ls(y.toString("ascii",30),y.readUInt32LE(0),y.readUInt16LE(4),y.readDoubleLE(6),y.readDoubleLE(14),y.readDoubleLE(22))},ls.prototype.toStats=function(){return new C((this.mode&61440)===T.DIRECTORY?T.DIRECTORY:T.FILE,this.size,this.mode,new Date(this.atime),new Date(this.mtime),new Date(this.ctime))},ls.prototype.getSize=function(){return 30+this.id.length},ls.prototype.toBuffer=function(y){return y===void 0&&(y=a.alloc(this.getSize())),y.writeUInt32LE(this.size,0),y.writeUInt16LE(this.mode,4),y.writeDoubleLE(this.atime,6),y.writeDoubleLE(this.mtime,14),y.writeDoubleLE(this.ctime,22),y.write(this.id,30,this.id.length,"ascii"),y},ls.prototype.update=function(y){var S=!1;this.size!==y.size&&(this.size=y.size,S=!0),this.mode!==y.mode&&(this.mode=y.mode,S=!0);var b=y.atime.getTime();this.atime!==b&&(this.atime=b,S=!0);var E=y.mtime.getTime();this.mtime!==E&&(this.mtime=E,S=!0);var R=y.ctime.getTime();return this.ctime!==R&&(this.ctime=R,S=!0),S},ls.prototype.isFile=function(){return(this.mode&61440)===T.FILE},ls.prototype.isDirectory=function(){return(this.mode&61440)===T.DIRECTORY};var co="/",ic=null;function ho(){return ic||(ic=a.from("{}"))}function hi(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(x){var y=Math.random()*16|0,S=x==="x"?y:y&3|8;return S.toString(16)})}function ha(x,y){return x?(y(x),!1):!0}function Nr(x,y,S){return x?(y.abort(function(){S(x)}),!1):!0}var Qo=function(y){this.store=y,this.originalData={},this.modifiedKeys=[]};Qo.prototype.get=function(y){var S=this.store.get(y);return this.stashOldValue(y,S),S},Qo.prototype.put=function(y,S,b){return this.markModified(y),this.store.put(y,S,b)},Qo.prototype.del=function(y){this.markModified(y),this.store.del(y)},Qo.prototype.commit=function(){},Qo.prototype.abort=function(){for(var y=this,S=0,b=y.modifiedKeys;S<b.length;S+=1){var E=b[S],R=y.originalData[E];R?y.store.put(E,R,!0):y.store.del(E)}},Qo.prototype.stashOldValue=function(y,S){this.originalData.hasOwnProperty(y)||(this.originalData[y]=S)},Qo.prototype.markModified=function(y){this.modifiedKeys.indexOf(y)===-1&&(this.modifiedKeys.push(y),this.originalData.hasOwnProperty(y)||(this.originalData[y]=this.store.get(y)))};var _h=function(x){function y(S,b,E,R,M){x.call(this,S,b,E,R,M)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},y.prototype.closeSync=function(){this.syncSync()},y}(tr),ug=function(x){function y(S){x.call(this),this.store=S.store,this.makeRootDirectory()}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.isAvailable=function(){return!0},y.prototype.getName=function(){return this.store.name()},y.prototype.isReadOnly=function(){return!1},y.prototype.supportsSymlinks=function(){return!1},y.prototype.supportsProps=function(){return!1},y.prototype.supportsSynch=function(){return!0},y.prototype.empty=function(){this.store.clear(),this.makeRootDirectory()},y.prototype.renameSync=function(b,E){var R=this.store.beginTransaction("readwrite"),M=d.dirname(b),W=d.basename(b),oe=d.dirname(E),me=d.basename(E),Be=this.findINode(R,M),ut=this.getDirListing(R,M,Be);if(!ut[W])throw m.ENOENT(b);var At=ut[W];if(delete ut[W],(oe+"/").indexOf(b+"/")===0)throw new m(h.EBUSY,M);var qt,Gt;if(oe===M?(qt=Be,Gt=ut):(qt=this.findINode(R,oe),Gt=this.getDirListing(R,oe,qt)),Gt[me]){var hn=this.getINode(R,E,Gt[me]);if(hn.isFile())try{R.del(hn.id),R.del(Gt[me])}catch(Mn){throw R.abort(),Mn}else throw m.EPERM(E)}Gt[me]=At;try{R.put(Be.id,a.from(JSON.stringify(ut)),!0),R.put(qt.id,a.from(JSON.stringify(Gt)),!0)}catch(Mn){throw R.abort(),Mn}R.commit()},y.prototype.statSync=function(b,E){return this.findINode(this.store.beginTransaction("readonly"),b).toStats()},y.prototype.createFileSync=function(b,E,R){var M=this.store.beginTransaction("readwrite"),W=ct(),oe=this.commitNewFile(M,b,T.FILE,R,W);return new _h(this,b,E,oe.toStats(),W)},y.prototype.openFileSync=function(b,E){var R=this.store.beginTransaction("readonly"),M=this.findINode(R,b),W=R.get(M.id);if(W===void 0)throw m.ENOENT(b);return new _h(this,b,E,M.toStats(),W)},y.prototype.unlinkSync=function(b){this.removeEntry(b,!1)},y.prototype.rmdirSync=function(b){if(this.readdirSync(b).length>0)throw m.ENOTEMPTY(b);this.removeEntry(b,!0)},y.prototype.mkdirSync=function(b,E){var R=this.store.beginTransaction("readwrite"),M=a.from("{}");this.commitNewFile(R,b,T.DIRECTORY,E,M)},y.prototype.readdirSync=function(b){var E=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(E,b,this.findINode(E,b)))},y.prototype._syncSync=function(b,E,R){var M=this.store.beginTransaction("readwrite"),W=this._findINode(M,d.dirname(b),d.basename(b)),oe=this.getINode(M,b,W),me=oe.update(R);try{M.put(oe.id,E,!0),me&&M.put(W,oe.toBuffer(),!0)}catch(Be){throw M.abort(),Be}M.commit()},y.prototype.makeRootDirectory=function(){var b=this.store.beginTransaction("readwrite");if(b.get(co)===void 0){var E=new Date().getTime(),R=new ls(hi(),4096,511|T.DIRECTORY,E,E,E);b.put(R.id,ho(),!1),b.put(co,R.toBuffer(),!1),b.commit()}},y.prototype._findINode=function(b,E,R){var M=this,W=function(oe){var me=M.getDirListing(b,E,oe);if(me[R])return me[R];throw m.ENOENT(d.resolve(E,R))};return E==="/"?R===""?co:W(this.getINode(b,E,co)):W(this.getINode(b,E+d.sep+R,this._findINode(b,d.dirname(E),d.basename(E))))},y.prototype.findINode=function(b,E){return this.getINode(b,E,this._findINode(b,d.dirname(E),d.basename(E)))},y.prototype.getINode=function(b,E,R){var M=b.get(R);if(M===void 0)throw m.ENOENT(E);return ls.fromBuffer(M)},y.prototype.getDirListing=function(b,E,R){if(!R.isDirectory())throw m.ENOTDIR(E);var M=b.get(R.id);if(M===void 0)throw m.ENOENT(E);return JSON.parse(M.toString())},y.prototype.addNewNode=function(b,E){for(var R=0,M;R<5;)try{return M=hi(),b.put(M,E,!1),M}catch{}throw new m(h.EIO,"Unable to commit data to key-value store.")},y.prototype.commitNewFile=function(b,E,R,M,W){var oe=d.dirname(E),me=d.basename(E),Be=this.findINode(b,oe),ut=this.getDirListing(b,oe,Be),At=new Date().getTime();if(E==="/"||ut[me])throw m.EEXIST(E);var qt;try{var Gt=this.addNewNode(b,W);qt=new ls(Gt,W.length,M|R,At,At,At);var hn=this.addNewNode(b,qt.toBuffer());ut[me]=hn,b.put(Be.id,a.from(JSON.stringify(ut)),!0)}catch(Mn){throw b.abort(),Mn}return b.commit(),qt},y.prototype.removeEntry=function(b,E){var R=this.store.beginTransaction("readwrite"),M=d.dirname(b),W=this.findINode(R,M),oe=this.getDirListing(R,M,W),me=d.basename(b);if(!oe[me])throw m.ENOENT(b);var Be=oe[me];delete oe[me];var ut=this.getINode(R,b,Be);if(!E&&ut.isDirectory())throw m.EISDIR(b);if(E&&!ut.isDirectory())throw m.ENOTDIR(b);try{R.del(ut.id),R.del(Be),R.put(W.id,a.from(JSON.stringify(oe)),!0)}catch(At){throw R.abort(),At}R.commit()},y}(Un),cu=function(x){function y(S,b,E,R,M){x.call(this,S,b,E,R,M)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype.sync=function(b){var E=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),function(R){R||E.resetDirty(),b(R)}):b()},y.prototype.close=function(b){this.sync(b)},y}(tr),cg=function(x){function y(){x.apply(this,arguments)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.isAvailable=function(){return!0},y.prototype.init=function(b,E){this.store=b,this.makeRootDirectory(E)},y.prototype.getName=function(){return this.store.name()},y.prototype.isReadOnly=function(){return!1},y.prototype.supportsSymlinks=function(){return!1},y.prototype.supportsProps=function(){return!1},y.prototype.supportsSynch=function(){return!1},y.prototype.empty=function(b){var E=this;this.store.clear(function(R){ha(R,b)&&E.makeRootDirectory(b)})},y.prototype.rename=function(b,E,R){var M=this,W=this.store.beginTransaction("readwrite"),oe=d.dirname(b),me=d.basename(b),Be=d.dirname(E),ut=d.basename(E),At={},qt={},Gt=!1;if((Be+"/").indexOf(b+"/")===0)return R(new m(h.EBUSY,oe));var hn=function(){if(!(Gt||!qt.hasOwnProperty(oe)||!qt.hasOwnProperty(Be))){var Qn=qt[oe],Si=At[oe],La=qt[Be],Cl=At[Be];if(!Qn[me])R(m.ENOENT(b));else{var Rl=Qn[me];delete Qn[me];var Mh=function(){La[ut]=Rl,W.put(Si.id,a.from(JSON.stringify(Qn)),!0,function(pu){Nr(pu,W,R)&&(oe===Be?W.commit(R):W.put(Cl.id,a.from(JSON.stringify(La)),!0,function(mu){Nr(mu,W,R)&&W.commit(R)}))})};La[ut]?M.getINode(W,E,La[ut],function(pu,mu){Nr(pu,W,R)&&(mu.isFile()?W.del(mu.id,function(ry){Nr(ry,W,R)&&W.del(La[ut],function(mx){Nr(mx,W,R)&&Mh()})}):W.abort(function(ry){R(m.EPERM(E))}))}):Mh()}}},Mn=function(Qn){M.findINodeAndDirListing(W,Qn,function(Si,La,Cl){Si?Gt||(Gt=!0,W.abort(function(){R(Si)})):(At[Qn]=La,qt[Qn]=Cl,hn())})};Mn(oe),oe!==Be&&Mn(Be)},y.prototype.stat=function(b,E,R){var M=this.store.beginTransaction("readonly");this.findINode(M,b,function(W,oe){ha(W,R)&&R(null,oe.toStats())})},y.prototype.createFile=function(b,E,R,M){var W=this,oe=this.store.beginTransaction("readwrite"),me=ct();this.commitNewFile(oe,b,T.FILE,R,me,function(Be,ut){ha(Be,M)&&M(null,new cu(W,b,E,ut.toStats(),me))})},y.prototype.openFile=function(b,E,R){var M=this,W=this.store.beginTransaction("readonly");this.findINode(W,b,function(oe,me){ha(oe,R)&&W.get(me.id,function(Be,ut){ha(Be,R)&&(ut===void 0?R(m.ENOENT(b)):R(null,new cu(M,b,E,me.toStats(),ut)))})})},y.prototype.unlink=function(b,E){this.removeEntry(b,!1,E)},y.prototype.rmdir=function(b,E){var R=this;this.readdir(b,function(M,W){M?E(M):W.length>0?E(m.ENOTEMPTY(b)):R.removeEntry(b,!0,E)})},y.prototype.mkdir=function(b,E,R){var M=this.store.beginTransaction("readwrite"),W=a.from("{}");this.commitNewFile(M,b,T.DIRECTORY,E,W,R)},y.prototype.readdir=function(b,E){var R=this,M=this.store.beginTransaction("readonly");this.findINode(M,b,function(W,oe){ha(W,E)&&R.getDirListing(M,b,oe,function(me,Be){ha(me,E)&&E(null,Object.keys(Be))})})},y.prototype._sync=function(b,E,R,M){var W=this,oe=this.store.beginTransaction("readwrite");this._findINode(oe,d.dirname(b),d.basename(b),function(me,Be){Nr(me,oe,M)&&W.getINode(oe,b,Be,function(ut,At){if(Nr(ut,oe,M)){var qt=At.update(R);oe.put(At.id,E,!0,function(Gt){Nr(Gt,oe,M)&&(qt?oe.put(Be,At.toBuffer(),!0,function(hn){Nr(hn,oe,M)&&oe.commit(M)}):oe.commit(M))})}})})},y.prototype.makeRootDirectory=function(b){var E=this.store.beginTransaction("readwrite");E.get(co,function(R,M){if(R||M===void 0){var W=new Date().getTime(),oe=new ls(hi(),4096,511|T.DIRECTORY,W,W,W);E.put(oe.id,ho(),!1,function(me){Nr(me,E,b)&&E.put(co,oe.toBuffer(),!1,function(Be){Be?E.abort(function(){b(Be)}):E.commit(b)})})}else E.commit(b)})},y.prototype._findINode=function(b,E,R,M){var W=this,oe=function(me,Be,ut){me?M(me):ut[R]?M(null,ut[R]):M(m.ENOENT(d.resolve(E,R)))};E==="/"?R===""?M(null,co):this.getINode(b,E,co,function(me,Be){ha(me,M)&&W.getDirListing(b,E,Be,function(ut,At){oe(ut,Be,At)})}):this.findINodeAndDirListing(b,E,oe)},y.prototype.findINode=function(b,E,R){var M=this;this._findINode(b,d.dirname(E),d.basename(E),function(W,oe){ha(W,R)&&M.getINode(b,E,oe,R)})},y.prototype.getINode=function(b,E,R,M){b.get(R,function(W,oe){ha(W,M)&&(oe===void 0?M(m.ENOENT(E)):M(null,ls.fromBuffer(oe)))})},y.prototype.getDirListing=function(b,E,R,M){R.isDirectory()?b.get(R.id,function(W,oe){if(ha(W,M))try{M(null,JSON.parse(oe.toString()))}catch{M(m.ENOENT(E))}}):M(m.ENOTDIR(E))},y.prototype.findINodeAndDirListing=function(b,E,R){var M=this;this.findINode(b,E,function(W,oe){ha(W,R)&&M.getDirListing(b,E,oe,function(me,Be){ha(me,R)&&R(null,oe,Be)})})},y.prototype.addNewNode=function(b,E,R){var M=0,W,oe=function(){++M===5?R(new m(h.EIO,"Unable to commit data to key-value store.")):(W=hi(),b.put(W,E,!1,function(me,Be){me||!Be?oe():R(null,W)}))};oe()},y.prototype.commitNewFile=function(b,E,R,M,W,oe){var me=this,Be=d.dirname(E),ut=d.basename(E),At=new Date().getTime();if(E==="/")return oe(m.EEXIST(E));this.findINodeAndDirListing(b,Be,function(qt,Gt,hn){Nr(qt,b,oe)&&(hn[ut]?b.abort(function(){oe(m.EEXIST(E))}):me.addNewNode(b,W,function(Mn,Qn){if(Nr(Mn,b,oe)){var Si=new ls(Qn,W.length,M|R,At,At,At);me.addNewNode(b,Si.toBuffer(),function(La,Cl){Nr(La,b,oe)&&(hn[ut]=Cl,b.put(Gt.id,a.from(JSON.stringify(hn)),!0,function(Rl){Nr(Rl,b,oe)&&b.commit(function(Mh){Nr(Mh,b,oe)&&oe(null,Si)})}))})}}))})},y.prototype.removeEntry=function(b,E,R){var M=this,W=this.store.beginTransaction("readwrite"),oe=d.dirname(b),me=d.basename(b);this.findINodeAndDirListing(W,oe,function(Be,ut,At){if(Nr(Be,W,R))if(!At[me])W.abort(function(){R(m.ENOENT(b))});else{var qt=At[me];delete At[me],M.getINode(W,b,qt,function(Gt,hn){Nr(Gt,W,R)&&(!E&&hn.isDirectory()?W.abort(function(){R(m.EISDIR(b))}):E&&!hn.isDirectory()?W.abort(function(){R(m.ENOTDIR(b))}):W.del(hn.id,function(Mn){Nr(Mn,W,R)&&W.del(qt,function(Qn){Nr(Qn,W,R)&&W.put(ut.id,a.from(JSON.stringify(At)),!0,function(Si){Nr(Si,W,R)&&W.commit(R)})})}))})}})},y}(Nt),$s=function(){this.store={}};$s.prototype.name=function(){return Ts.Name},$s.prototype.clear=function(){this.store={}},$s.prototype.beginTransaction=function(y){return new Qo(this)},$s.prototype.get=function(y){return this.store[y]},$s.prototype.put=function(y,S,b){return!b&&this.store.hasOwnProperty(y)?!1:(this.store[y]=S,!0)},$s.prototype.del=function(y){delete this.store[y]};var Ts=function(x){function y(){x.call(this,{store:new $s})}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.Create=function(b,E){E(null,new y)},y}(ug);Ts.Name="InMemory",Ts.Options={};var Oa=ii.indexedDB||ii.mozIndexedDB||ii.webkitIndexedDB||ii.msIndexedDB;function A(x,y){switch(y===void 0&&(y=x.toString()),x.name){case"NotFoundError":return new m(h.ENOENT,y);case"QuotaExceededError":return new m(h.ENOSPC,y);default:return new m(h.EIO,y)}}function O(x,y,S){return y===void 0&&(y=h.EIO),S===void 0&&(S=null),function(b){b.preventDefault(),x(new m(y,S!==null?S:void 0))}}var H=function(y,S){this.tx=y,this.store=S};H.prototype.get=function(y,S){try{var b=this.store.get(y);b.onerror=O(S),b.onsuccess=function(E){var R=E.target.result;R===void 0?S(null,R):S(null,it(R))}}catch(E){S(A(E))}};var J=function(x){function y(S,b){x.call(this,S,b)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype.put=function(b,E,R,M){try{var W=pe(E),oe;R?oe=this.store.put(W,b):oe=this.store.add(W,b),oe.onerror=O(M),oe.onsuccess=function(me){M(null,!0)}}catch(me){M(A(me))}},y.prototype.del=function(b,E){try{var R=this.store.delete(b);R.onerror=O(E),R.onsuccess=function(M){E()}}catch(M){E(A(M))}},y.prototype.commit=function(b){setTimeout(b,0)},y.prototype.abort=function(b){var E=null;try{this.tx.abort()}catch(R){E=A(R)}finally{b(E)}},y}(H),ie=function(y,S){var b=this;S===void 0&&(S="browserfs"),this.storeName=S;var E=Oa.open(this.storeName,1);E.onupgradeneeded=function(R){var M=R.target.result;M.objectStoreNames.contains(b.storeName)&&M.deleteObjectStore(b.storeName),M.createObjectStore(b.storeName)},E.onsuccess=function(R){b.db=R.target.result,y(null,b)},E.onerror=O(y,h.EACCES)};ie.prototype.name=function(){return fe.Name+" - "+this.storeName},ie.prototype.clear=function(y){try{var S=this.db.transaction(this.storeName,"readwrite"),b=S.objectStore(this.storeName),E=b.clear();E.onsuccess=function(R){setTimeout(y,0)},E.onerror=O(y)}catch(R){y(A(R))}},ie.prototype.beginTransaction=function(y){y===void 0&&(y="readonly");var S=this.db.transaction(this.storeName,y),b=S.objectStore(this.storeName);if(y==="readwrite")return new J(S,b);if(y==="readonly")return new H(S,b);throw new m(h.EINVAL,"Invalid transaction type.")};var fe=function(x){function y(S,b,E){var R=this;E===void 0&&(E=!0),x.call(this),this.store=new ie(function(M){M?S(M):R.init(R.store,function(W){S(W,R)})},b),ue(E,y.Name,{storeName:b})}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.Create=function(b,E){new y(E,b.storeName,!1)},y.isAvailable=function(){try{return typeof Oa<"u"&&Oa.open("__browserfs_test__")!==null}catch{return!1}},y}(cg);fe.Name="IndexedDB",fe.Options={storeName:{type:"string",optional:!0,description:"The name of this file system. You can have multiple IndexedDB file systems operating at once, but each must have a different name."}};var Ae=!1,Fe;try{ii.localStorage.setItem("__test__","\uD800"),Ae=ii.localStorage.getItem("__test__")==="\uD800"}catch{Ae=!1}Fe=Ae?"binary_string":"binary_string_ie",a.isEncoding(Fe)||(Fe="base64");var Ve=function(){};Ve.prototype.name=function(){return Ye.Name},Ve.prototype.clear=function(){ii.localStorage.clear()},Ve.prototype.beginTransaction=function(y){return new Qo(this)},Ve.prototype.get=function(y){try{var S=ii.localStorage.getItem(y);if(S!==null)return a.from(S,Fe)}catch{}},Ve.prototype.put=function(y,S,b){try{return!b&&ii.localStorage.getItem(y)!==null?!1:(ii.localStorage.setItem(y,S.toString(Fe)),!0)}catch{throw new m(h.ENOSPC,"LocalStorage is full.")}},Ve.prototype.del=function(y){try{ii.localStorage.removeItem(y)}catch(S){throw new m(h.EIO,"Unable to delete key "+y+": "+S)}};var Ye=function(x){function y(){x.call(this,{store:new Ve})}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.Create=function(b,E){E(null,new y)},y.isAvailable=function(){return typeof ii.localStorage<"u"},y}(ug);Ye.Name="LocalStorage",Ye.Options={};var Je=function(x){function y(){x.call(this),this.mountList=[],this.mntMap={},this.rootFs=new Ts}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.Create=function(b,E){var R=new y;Object.keys(b).forEach(function(M){R.mount(M,b[M])}),E(null,R)},y.isAvailable=function(){return!0},y.prototype.mount=function(b,E){if(b[0]!=="/"&&(b="/"+b),b=d.resolve(b),this.mntMap[b])throw new m(h.EINVAL,"Mount point "+b+" is already taken.");j(b,511,this.rootFs),this.mntMap[b]=E,this.mountList.push(b),this.mountList=this.mountList.sort(function(R,M){return M.length-R.length})},y.prototype.umount=function(b){var E=this;if(b[0]!=="/"&&(b="/"+b),b=d.resolve(b),!this.mntMap[b])throw new m(h.EINVAL,"Mount point "+b+" is already unmounted.");for(delete this.mntMap[b],this.mountList.splice(this.mountList.indexOf(b),1);b!=="/"&&E.rootFs.readdirSync(b).length===0;)E.rootFs.rmdirSync(b),b=d.dirname(b)},y.prototype._getFs=function(b){for(var E=this,R=this.mountList,M=R.length,W=0;W<M;W++){var oe=R[W];if(oe.length<=b.length&&b.indexOf(oe)===0)return b=b.substr(oe.length>1?oe.length:0),b===""&&(b="/"),{fs:E.mntMap[oe],path:b}}return{fs:this.rootFs,path:b}},y.prototype.getName=function(){return y.Name},y.prototype.diskSpace=function(b,E){E(0,0)},y.prototype.isReadOnly=function(){return!1},y.prototype.supportsLinks=function(){return!1},y.prototype.supportsProps=function(){return!1},y.prototype.supportsSynch=function(){return!0},y.prototype.standardizeError=function(b,E,R){var M=b.message.indexOf(E);return M!==-1&&(b.message=b.message.substr(0,M)+R+b.message.substr(M+E.length),b.path=R),b},y.prototype.rename=function(b,E,R){var M=this,W=this._getFs(b),oe=this._getFs(E);return W.fs===oe.fs?W.fs.rename(W.path,oe.path,function(me){me&&M.standardizeError(M.standardizeError(me,W.path,b),oe.path,E),R(me)}):Ie.readFile(b,function(me,Be){if(me)return R(me);Ie.writeFile(E,Be,function(ut){if(ut)return R(ut);Ie.unlink(b,R)})})},y.prototype.renameSync=function(b,E){var R=this._getFs(b),M=this._getFs(E);if(R.fs===M.fs)try{return R.fs.renameSync(R.path,M.path)}catch(oe){throw this.standardizeError(this.standardizeError(oe,R.path,b),M.path,E),oe}var W=Ie.readFileSync(b);return Ie.writeFileSync(E,W),Ie.unlinkSync(b)},y.prototype.readdirSync=function(b){var E=this._getFs(b),R=null;if(E.fs!==this.rootFs)try{R=this.rootFs.readdirSync(b)}catch{}try{var M=E.fs.readdirSync(E.path);return R===null?M:M.concat(R.filter(function(W){return M.indexOf(W)===-1}))}catch(W){if(R===null)throw this.standardizeError(W,E.path,b);return R}},y.prototype.readdir=function(b,E){var R=this,M=this._getFs(b);M.fs.readdir(M.path,function(W,oe){if(M.fs!==R.rootFs)try{var me=R.rootFs.readdirSync(b);oe?oe=oe.concat(me.filter(function(Be){return oe.indexOf(Be)===-1})):oe=me}catch{if(W)return E(R.standardizeError(W,M.path,b))}else if(W)return E(R.standardizeError(W,M.path,b));E(null,oe)})},y.prototype.rmdirSync=function(b){var E=this._getFs(b);if(this._containsMountPt(b))throw m.ENOTEMPTY(b);try{E.fs.rmdirSync(E.path)}catch(R){throw this.standardizeError(R,E.path,b)}},y.prototype.rmdir=function(b,E){var R=this,M=this._getFs(b);this._containsMountPt(b)?E(m.ENOTEMPTY(b)):M.fs.rmdir(M.path,function(W){E(W?R.standardizeError(W,M.path,b):null)})},y.prototype._containsMountPt=function(b){for(var E=this.mountList,R=E.length,M=0;M<R;M++){var W=E[M];if(W.length>=b.length&&W.slice(0,b.length)===b)return!0}return!1},y}(Nt);Je.Name="MountableFileSystem",Je.Options={};function $e(x,y,S){return y?function(){for(var b=[],E=arguments.length;E--;)b[E]=arguments[E];var R=b[0],M=this._getFs(R);b[0]=M.path;try{return M.fs[x].apply(M.fs,b)}catch(W){throw this.standardizeError(W,M.path,R),W}}:function(){for(var b=this,E=[],R=arguments.length;R--;)E[R]=arguments[R];var M=E[0],W=this._getFs(M);if(E[0]=W.path,typeof E[E.length-1]=="function"){var oe=E[E.length-1];E[E.length-1]=function(){for(var me=[],Be=arguments.length;Be--;)me[Be]=arguments[Be];me.length>0&&me[0]instanceof m&&b.standardizeError(me[0],W.path,M),oe.apply(null,me)}}return W.fs[x].apply(W.fs,E)}}for(var ot=[["exists","unlink","readlink"],["stat","mkdir","realpath","truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]],Ge=0;Ge<ot.length;Ge++)for(var tt=ot[Ge],at=0,Qe=tt;at<Qe.length;at+=1){var dt=Qe[at];Je.prototype[dt]=$e(dt,!1),Je.prototype[dt+"Sync"]=$e(dt+"Sync",!0)}var bt;if(typeof setImmediate<"u")bt=setImmediate;else{var mt=ii,Tt=[],zt="zero-timeout-message",en=function(){if(typeof mt.importScripts<"u"||!mt.postMessage)return!1;var x=!0,y=mt.onmessage;return mt.onmessage=function(){x=!1},mt.postMessage("","*"),mt.onmessage=y,x};if(en()){bt=function(x){Tt.push(x),mt.postMessage(zt,"*")};var $t=function(x){if(x.source===self&&x.data===zt&&(x.stopPropagation?x.stopPropagation():x.cancelBubble=!0,Tt.length>0)){var y=Tt.shift();return y()}};mt.addEventListener?mt.addEventListener("message",$t,!0):mt.attachEvent("onmessage",$t)}else if(mt.MessageChannel){var Kt=new mt.MessageChannel;Kt.port1.onmessage=function(x){if(Tt.length>0)return Tt.shift()()},bt=function(x){Tt.push(x),Kt.port2.postMessage("")}}else bt=function(x){return setTimeout(x,0)}}var tn=bt,Xt=function(){this._locked=!1,this._waiters=[]};Xt.prototype.lock=function(y){if(this._locked){this._waiters.push(y);return}this._locked=!0,y()},Xt.prototype.unlock=function(){if(!this._locked)throw new Error("unlock of a non-locked mutex");var y=this._waiters.shift();if(y){tn(y);return}this._locked=!1},Xt.prototype.tryLock=function(){return this._locked?!1:(this._locked=!0,!0)},Xt.prototype.isLocked=function(){return this._locked};var Rt=function(y){this._fs=y,this._mu=new Xt};Rt.prototype.getName=function(){return"LockedFS<"+this._fs.getName()+">"},Rt.prototype.getFSUnlocked=function(){return this._fs},Rt.prototype.initialize=function(y){this._fs.initialize(y)},Rt.prototype.diskSpace=function(y,S){this._fs.diskSpace(y,S)},Rt.prototype.isReadOnly=function(){return this._fs.isReadOnly()},Rt.prototype.supportsLinks=function(){return this._fs.supportsLinks()},Rt.prototype.supportsProps=function(){return this._fs.supportsProps()},Rt.prototype.supportsSynch=function(){return this._fs.supportsSynch()},Rt.prototype.rename=function(y,S,b){var E=this;this._mu.lock(function(){E._fs.rename(y,S,function(R){E._mu.unlock(),b(R)})})},Rt.prototype.renameSync=function(y,S){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.renameSync(y,S)},Rt.prototype.stat=function(y,S,b){var E=this;this._mu.lock(function(){E._fs.stat(y,S,function(R,M){E._mu.unlock(),b(R,M)})})},Rt.prototype.statSync=function(y,S){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.statSync(y,S)},Rt.prototype.open=function(y,S,b,E){var R=this;this._mu.lock(function(){R._fs.open(y,S,b,function(M,W){R._mu.unlock(),E(M,W)})})},Rt.prototype.openSync=function(y,S,b){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.openSync(y,S,b)},Rt.prototype.unlink=function(y,S){var b=this;this._mu.lock(function(){b._fs.unlink(y,function(E){b._mu.unlock(),S(E)})})},Rt.prototype.unlinkSync=function(y){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.unlinkSync(y)},Rt.prototype.rmdir=function(y,S){var b=this;this._mu.lock(function(){b._fs.rmdir(y,function(E){b._mu.unlock(),S(E)})})},Rt.prototype.rmdirSync=function(y){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.rmdirSync(y)},Rt.prototype.mkdir=function(y,S,b){var E=this;this._mu.lock(function(){E._fs.mkdir(y,S,function(R){E._mu.unlock(),b(R)})})},Rt.prototype.mkdirSync=function(y,S){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.mkdirSync(y,S)},Rt.prototype.readdir=function(y,S){var b=this;this._mu.lock(function(){b._fs.readdir(y,function(E,R){b._mu.unlock(),S(E,R)})})},Rt.prototype.readdirSync=function(y){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readdirSync(y)},Rt.prototype.exists=function(y,S){var b=this;this._mu.lock(function(){b._fs.exists(y,function(E){b._mu.unlock(),S(E)})})},Rt.prototype.existsSync=function(y){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.existsSync(y)},Rt.prototype.realpath=function(y,S,b){var E=this;this._mu.lock(function(){E._fs.realpath(y,S,function(R,M){E._mu.unlock(),b(R,M)})})},Rt.prototype.realpathSync=function(y,S){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.realpathSync(y,S)},Rt.prototype.truncate=function(y,S,b){var E=this;this._mu.lock(function(){E._fs.truncate(y,S,function(R){E._mu.unlock(),b(R)})})},Rt.prototype.truncateSync=function(y,S){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.truncateSync(y,S)},Rt.prototype.readFile=function(y,S,b,E){var R=this;this._mu.lock(function(){R._fs.readFile(y,S,b,function(M,W){R._mu.unlock(),E(M,W)})})},Rt.prototype.readFileSync=function(y,S,b){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readFileSync(y,S,b)},Rt.prototype.writeFile=function(y,S,b,E,R,M){var W=this;this._mu.lock(function(){W._fs.writeFile(y,S,b,E,R,function(oe){W._mu.unlock(),M(oe)})})},Rt.prototype.writeFileSync=function(y,S,b,E,R){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.writeFileSync(y,S,b,E,R)},Rt.prototype.appendFile=function(y,S,b,E,R,M){var W=this;this._mu.lock(function(){W._fs.appendFile(y,S,b,E,R,function(oe){W._mu.unlock(),M(oe)})})},Rt.prototype.appendFileSync=function(y,S,b,E,R){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.appendFileSync(y,S,b,E,R)},Rt.prototype.chmod=function(y,S,b,E){var R=this;this._mu.lock(function(){R._fs.chmod(y,S,b,function(M){R._mu.unlock(),E(M)})})},Rt.prototype.chmodSync=function(y,S,b){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chmodSync(y,S,b)},Rt.prototype.chown=function(y,S,b,E,R){var M=this;this._mu.lock(function(){M._fs.chown(y,S,b,E,function(W){M._mu.unlock(),R(W)})})},Rt.prototype.chownSync=function(y,S,b,E){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chownSync(y,S,b,E)},Rt.prototype.utimes=function(y,S,b,E){var R=this;this._mu.lock(function(){R._fs.utimes(y,S,b,function(M){R._mu.unlock(),E(M)})})},Rt.prototype.utimesSync=function(y,S,b){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.utimesSync(y,S,b)},Rt.prototype.link=function(y,S,b){var E=this;this._mu.lock(function(){E._fs.link(y,S,function(R){E._mu.unlock(),b(R)})})},Rt.prototype.linkSync=function(y,S){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.linkSync(y,S)},Rt.prototype.symlink=function(y,S,b,E){var R=this;this._mu.lock(function(){R._fs.symlink(y,S,b,function(M){R._mu.unlock(),E(M)})})},Rt.prototype.symlinkSync=function(y,S,b){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.symlinkSync(y,S,b)},Rt.prototype.readlink=function(y,S){var b=this;this._mu.lock(function(){b._fs.readlink(y,function(E,R){b._mu.unlock(),S(E,R)})})},Rt.prototype.readlinkSync=function(y){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readlinkSync(y)};var gn="/.deletedFiles.log";function Wn(x){return 146|x}function On(x){return k.getFileFlag(x)}var _a=function(x){function y(S,b,E,R,M){x.call(this,S,b,E,R,M)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype.sync=function(b){var E=this;if(!this.isDirty()){b(null);return}this._fs._syncAsync(this,function(R){E.resetDirty(),b(R)})},y.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},y.prototype.close=function(b){this.sync(b)},y.prototype.closeSync=function(){this.syncSync()},y}(tr),jn=function(x){function y(S,b){if(x.call(this),this._isInitialized=!1,this._initializeCallbacks=[],this._deletedFiles={},this._deleteLog="",this._deleteLogUpdatePending=!1,this._deleteLogUpdateNeeded=!1,this._deleteLogError=null,this._writable=S,this._readable=b,this._writable.isReadOnly())throw new m(h.EINVAL,"Writable file system must be writable.")}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.isAvailable=function(){return!0},y.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},y.prototype._syncAsync=function(b,E){var R=this;this.createParentDirectoriesAsync(b.getPath(),function(M){if(M)return E(M);R._writable.writeFile(b.getPath(),b.getBuffer(),null,On("w"),b.getStats().mode,E)})},y.prototype._syncSync=function(b){this.createParentDirectories(b.getPath()),this._writable.writeFileSync(b.getPath(),b.getBuffer(),null,On("w"),b.getStats().mode)},y.prototype.getName=function(){return Oi.Name},y.prototype.initialize=function(b){var E=this,R=this._initializeCallbacks,M=function(W){E._isInitialized=!W,E._initializeCallbacks=[],R.forEach(function(oe){return oe(W)})};if(this._isInitialized)return b();R.push(b),R.length===1&&this._writable.readFile(gn,"utf8",On("r"),function(W,oe){if(W){if(W.errno!==h.ENOENT)return M(W)}else E._deleteLog=oe;E._reparseDeletionLog(),M()})},y.prototype.isReadOnly=function(){return!1},y.prototype.supportsSynch=function(){return this._readable.supportsSynch()&&this._writable.supportsSynch()},y.prototype.supportsLinks=function(){return!1},y.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},y.prototype.getDeletionLog=function(){return this._deleteLog},y.prototype.restoreDeletionLog=function(b){this._deleteLog=b,this._reparseDeletionLog(),this.updateLog("")},y.prototype.rename=function(b,E,R){var M=this;if(!(!this.checkInitAsync(R)||this.checkPathAsync(b,R)||this.checkPathAsync(E,R))){if(b===gn||E===gn)return R(m.EPERM("Cannot rename deletion log."));if(b===E)return R();this.stat(b,!1,function(W,oe){return W?R(W):M.stat(E,!1,function(me,Be){var ut=M;function At(Gt){var hn=Gt.shift();if(!hn)return R();var Mn=d.resolve(b,hn),Qn=d.resolve(E,hn);ut.rename(Mn,Qn,function(Si){if(Si)return R(Si);At(Gt)})}var qt=511;if(oe.isDirectory()){if(me)return me.errno!==h.ENOENT?R(me):M._writable.exists(b,function(Gt){if(Gt)return M._writable.rename(b,E,R);M._writable.mkdir(E,qt,function(hn){if(hn)return R(hn);M._readable.readdir(b,function(Mn,Qn){if(Mn)return R();At(Qn)})})});if(qt=Be.mode,!Be.isDirectory())return R(m.ENOTDIR(E));M.readdir(E,function(Gt,hn){if(hn&&hn.length)return R(m.ENOTEMPTY(E));M._readable.readdir(b,function(Mn,Qn){if(Mn)return R();At(Qn)})})}if(Be&&Be.isDirectory())return R(m.EISDIR(E));M.readFile(b,null,On("r"),function(Gt,hn){return Gt?R(Gt):M.writeFile(E,hn,null,On("w"),oe.mode,function(Mn){return Mn?R(Mn):M.unlink(b,R)})})})})}},y.prototype.renameSync=function(b,E){var R=this;if(this.checkInitialized(),this.checkPath(b),this.checkPath(E),b===gn||E===gn)throw m.EPERM("Cannot rename deletion log.");var M=this.statSync(b,!1);if(M.isDirectory()){if(b===E)return;var W=511;if(this.existsSync(E)){var oe=this.statSync(E,!1);if(W=oe.mode,oe.isDirectory()){if(this.readdirSync(E).length>0)throw m.ENOTEMPTY(E)}else throw m.ENOTDIR(E)}this._writable.existsSync(b)?this._writable.renameSync(b,E):this._writable.existsSync(E)||this._writable.mkdirSync(E,W),this._readable.existsSync(b)&&this._readable.readdirSync(b).forEach(function(me){R.renameSync(d.resolve(b,me),d.resolve(E,me))})}else{if(this.existsSync(E)&&this.statSync(E,!1).isDirectory())throw m.EISDIR(E);this.writeFileSync(E,this.readFileSync(b,null,On("r")),null,On("w"),M.mode)}b!==E&&this.existsSync(b)&&this.unlinkSync(b)},y.prototype.stat=function(b,E,R){var M=this;this.checkInitAsync(R)&&this._writable.stat(b,E,function(W,oe){W&&W.errno===h.ENOENT?(M._deletedFiles[b]&&R(m.ENOENT(b)),M._readable.stat(b,E,function(me,Be){Be&&(Be=Be.clone(),Be.mode=Wn(Be.mode)),R(me,Be)})):R(W,oe)})},y.prototype.statSync=function(b,E){this.checkInitialized();try{return this._writable.statSync(b,E)}catch{if(this._deletedFiles[b])throw m.ENOENT(b);var R=this._readable.statSync(b,E).clone();return R.mode=Wn(R.mode),R}},y.prototype.open=function(b,E,R,M){var W=this;!this.checkInitAsync(M)||this.checkPathAsync(b,M)||this.stat(b,!1,function(oe,me){if(me)switch(E.pathExistsAction()){case w.TRUNCATE_FILE:return W.createParentDirectoriesAsync(b,function(Be){if(Be)return M(Be);W._writable.open(b,E,R,M)});case w.NOP:return W._writable.exists(b,function(Be){Be?W._writable.open(b,E,R,M):(me=me.clone(),me.mode=R,W._readable.readFile(b,null,On("r"),function(ut,At){if(ut)return M(ut);me.size===-1&&(me.size=At.length);var qt=new _a(W,b,E,me,At);M(null,qt)}))});default:return M(m.EEXIST(b))}else switch(E.pathNotExistsAction()){case w.CREATE_FILE:return W.createParentDirectoriesAsync(b,function(Be){return Be?M(Be):W._writable.open(b,E,R,M)});default:return M(m.ENOENT(b))}})},y.prototype.openSync=function(b,E,R){if(this.checkInitialized(),this.checkPath(b),b===gn)throw m.EPERM("Cannot open deletion log.");if(this.existsSync(b))switch(E.pathExistsAction()){case w.TRUNCATE_FILE:return this.createParentDirectories(b),this._writable.openSync(b,E,R);case w.NOP:if(this._writable.existsSync(b))return this._writable.openSync(b,E,R);var M=this._readable.readFileSync(b,null,On("r")),W=this._readable.statSync(b,!1).clone();return W.mode=R,new _a(this,b,E,W,M);default:throw m.EEXIST(b)}else switch(E.pathNotExistsAction()){case w.CREATE_FILE:return this.createParentDirectories(b),this._writable.openSync(b,E,R);default:throw m.ENOENT(b)}},y.prototype.unlink=function(b,E){var R=this;!this.checkInitAsync(E)||this.checkPathAsync(b,E)||this.exists(b,function(M){if(!M)return E(m.ENOENT(b));R._writable.exists(b,function(W){if(W)return R._writable.unlink(b,function(oe){if(oe)return E(oe);R.exists(b,function(me){me&&R.deletePath(b),E(null)})});R.deletePath(b),E(null)})})},y.prototype.unlinkSync=function(b){if(this.checkInitialized(),this.checkPath(b),this.existsSync(b))this._writable.existsSync(b)&&this._writable.unlinkSync(b),this.existsSync(b)&&this.deletePath(b);else throw m.ENOENT(b)},y.prototype.rmdir=function(b,E){var R=this;if(this.checkInitAsync(E)){var M=function(){R.readdir(b,function(W,oe){if(W)return E(W);if(oe.length)return E(m.ENOTEMPTY(b));R.deletePath(b),E(null)})};this.exists(b,function(W){if(!W)return E(m.ENOENT(b));R._writable.exists(b,function(oe){oe?R._writable.rmdir(b,function(me){if(me)return E(me);R._readable.exists(b,function(Be){Be?M():E()})}):M()})})}},y.prototype.rmdirSync=function(b){if(this.checkInitialized(),this.existsSync(b)){if(this._writable.existsSync(b)&&this._writable.rmdirSync(b),this.existsSync(b)){if(this.readdirSync(b).length>0)throw m.ENOTEMPTY(b);this.deletePath(b)}}else throw m.ENOENT(b)},y.prototype.mkdir=function(b,E,R){var M=this;this.checkInitAsync(R)&&this.exists(b,function(W){if(W)return R(m.EEXIST(b));M.createParentDirectoriesAsync(b,function(oe){if(oe)return R(oe);M._writable.mkdir(b,E,R)})})},y.prototype.mkdirSync=function(b,E){if(this.checkInitialized(),this.existsSync(b))throw m.EEXIST(b);this.createParentDirectories(b),this._writable.mkdirSync(b,E)},y.prototype.readdir=function(b,E){var R=this;this.checkInitAsync(E)&&this.stat(b,!1,function(M,W){if(M)return E(M);if(!W.isDirectory())return E(m.ENOTDIR(b));R._writable.readdir(b,function(oe,me){if(oe&&oe.code!=="ENOENT")return E(oe);(oe||!me)&&(me=[]),R._readable.readdir(b,function(Be,ut){(Be||!ut)&&(ut=[]);var At={},qt=me.concat(ut.filter(function(Gt){return!R._deletedFiles[b+"/"+Gt]})).filter(function(Gt){var hn=!At[Gt];return At[Gt]=!0,hn});E(null,qt)})})})},y.prototype.readdirSync=function(b){var E=this;this.checkInitialized();var R=this.statSync(b,!1);if(!R.isDirectory())throw m.ENOTDIR(b);var M=[];try{M=M.concat(this._writable.readdirSync(b))}catch{}try{M=M.concat(this._readable.readdirSync(b).filter(function(oe){return!E._deletedFiles[b+"/"+oe]}))}catch{}var W={};return M.filter(function(oe){var me=!W[oe];return W[oe]=!0,me})},y.prototype.exists=function(b,E){var R=this;this.checkInitialized(),this._writable.exists(b,function(M){if(M)return E(!0);R._readable.exists(b,function(W){E(W&&R._deletedFiles[b]!==!0)})})},y.prototype.existsSync=function(b){return this.checkInitialized(),this._writable.existsSync(b)||this._readable.existsSync(b)&&this._deletedFiles[b]!==!0},y.prototype.chmod=function(b,E,R,M){var W=this;this.checkInitAsync(M)&&this.operateOnWritableAsync(b,function(oe){if(oe)return M(oe);W._writable.chmod(b,E,R,M)})},y.prototype.chmodSync=function(b,E,R){var M=this;this.checkInitialized(),this.operateOnWritable(b,function(){M._writable.chmodSync(b,E,R)})},y.prototype.chown=function(b,E,R,M,W){var oe=this;this.checkInitAsync(W)&&this.operateOnWritableAsync(b,function(me){if(me)return W(me);oe._writable.chown(b,E,R,M,W)})},y.prototype.chownSync=function(b,E,R,M){var W=this;this.checkInitialized(),this.operateOnWritable(b,function(){W._writable.chownSync(b,E,R,M)})},y.prototype.utimes=function(b,E,R,M){var W=this;this.checkInitAsync(M)&&this.operateOnWritableAsync(b,function(oe){if(oe)return M(oe);W._writable.utimes(b,E,R,M)})},y.prototype.utimesSync=function(b,E,R){var M=this;this.checkInitialized(),this.operateOnWritable(b,function(){M._writable.utimesSync(b,E,R)})},y.prototype.deletePath=function(b){this._deletedFiles[b]=!0,this.updateLog("d"+b+`
`)},y.prototype.updateLog=function(b){var E=this;this._deleteLog+=b,this._deleteLogUpdatePending?this._deleteLogUpdateNeeded=!0:(this._deleteLogUpdatePending=!0,this._writable.writeFile(gn,this._deleteLog,"utf8",k.getFileFlag("w"),420,function(R){E._deleteLogUpdatePending=!1,R?E._deleteLogError=R:E._deleteLogUpdateNeeded&&(E._deleteLogUpdateNeeded=!1,E.updateLog(""))}))},y.prototype._reparseDeletionLog=function(){var b=this;this._deletedFiles={},this._deleteLog.split(`
`).forEach(function(E){b._deletedFiles[E.slice(1)]=E.slice(0,1)==="d"})},y.prototype.checkInitialized=function(){if(this._isInitialized){if(this._deleteLogError!==null){var b=this._deleteLogError;throw this._deleteLogError=null,b}}else throw new m(h.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")},y.prototype.checkInitAsync=function(b){if(this._isInitialized){if(this._deleteLogError!==null){var E=this._deleteLogError;return this._deleteLogError=null,b(E),!1}}else return b(new m(h.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")),!1;return!0},y.prototype.checkPath=function(b){if(b===gn)throw m.EPERM(b)},y.prototype.checkPathAsync=function(b,E){return b===gn?(E(m.EPERM(b)),!0):!1},y.prototype.createParentDirectoriesAsync=function(b,E){var R=d.dirname(b),M=[],W=this;this._writable.stat(R,!1,oe);function oe(Be,ut){Be?(M.push(R),R=d.dirname(R),W._writable.stat(R,!1,oe)):me()}function me(){if(!M.length)return E();var Be=M.pop();W._readable.stat(Be,!1,function(ut,At){if(!At)return E();W._writable.mkdir(Be,At.mode,function(qt){if(qt)return E(qt);me()})})}},y.prototype.createParentDirectories=function(b){for(var E=this,R=d.dirname(b),M=[];!this._writable.existsSync(R);)M.push(R),R=d.dirname(R);M=M.reverse(),M.forEach(function(W){E._writable.mkdirSync(W,E.statSync(W,!1).mode)})},y.prototype.operateOnWritable=function(b,E){if(this.existsSync(b))this._writable.existsSync(b)||this.copyToWritable(b),E();else throw m.ENOENT(b)},y.prototype.operateOnWritableAsync=function(b,E){var R=this;this.exists(b,function(M){if(!M)return E(m.ENOENT(b));R._writable.exists(b,function(W){if(W)E();else return R.copyToWritableAsync(b,E)})})},y.prototype.copyToWritable=function(b){var E=this.statSync(b,!1);E.isDirectory()?this._writable.mkdirSync(b,E.mode):this.writeFileSync(b,this._readable.readFileSync(b,null,On("r")),null,On("w"),this.statSync(b,!1).mode)},y.prototype.copyToWritableAsync=function(b,E){var R=this;this.stat(b,!1,function(M,W){if(M)return E(M);if(W.isDirectory())return R._writable.mkdir(b,W.mode,E);R._readable.readFile(b,null,On("r"),function(oe,me){if(oe)return E(oe);R.writeFile(b,me,null,On("w"),W.mode,E)})})},y}(Nt),Oi=function(x){function y(S,b,E){E===void 0&&(E=!0),x.call(this,new jn(S,b)),ue(E,y.Name,{readable:"readable file system",writable:"writable file system"})}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.Create=function(b,E){try{var R=new y(b.writable,b.readable,!1);R.initialize(function(M){E(M,R)},!1)}catch(M){E(M)}},y.isAvailable=function(){return jn.isAvailable()},y.prototype.initialize=function(b,E){E===void 0&&(E=!0),E&&console.warn("[OverlayFS] OverlayFS.initialize() is deprecated and will be removed in the next major release. Please use 'OverlayFS.Create({readable: readable file system instance, writable: writable file system instance}, cb)' to create and initialize OverlayFS instances."),x.prototype.initialize.call(this,b)},y.prototype.getOverlayedFileSystems=function(){return x.prototype.getFSUnlocked.call(this).getOverlayedFileSystems()},y.prototype.unwrap=function(){return x.prototype.getFSUnlocked.call(this)},y}(Rt);Oi.Name="OverlayFS",Oi.Options={writable:{type:"object",description:"The file system to write modified files to."},readable:{type:"object",description:"The file system that initially populates this file system."}};var zn;(function(x){x[x.CB=0]="CB",x[x.FD=1]="FD",x[x.API_ERROR=2]="API_ERROR",x[x.STATS=3]="STATS",x[x.PROBE=4]="PROBE",x[x.FILEFLAG=5]="FILEFLAG",x[x.BUFFER=6]="BUFFER",x[x.ERROR=7]="ERROR"})(zn||(zn={}));var ac=function(){this._callbacks={},this._nextId=0};ac.prototype.toRemoteArg=function(y){var S=this._nextId++;return this._callbacks[S]=y,{type:zn.CB,id:S}},ac.prototype.toLocalArg=function(y){var S=this._callbacks[y];return delete this._callbacks[y],S};var zi=function(){this._fileDescriptors={},this._nextId=0};zi.prototype.toRemoteArg=function(y,S,b,E){var R=this._nextId++,M,W;this._fileDescriptors[R]=y,y.stat(function(oe,me){oe?E(oe):(W=Ma(me.toBuffer()),b.isReadable()?y.read(a.alloc(me.size),0,me.size,0,function(Be,ut,At){Be?E(Be):(M=Ma(At),E(null,{type:zn.FD,id:R,data:M,stat:W,path:S,flag:b.getFlagString()}))}):E(null,{type:zn.FD,id:R,data:new ArrayBuffer(0),stat:W,path:S,flag:b.getFlagString()}))})},zi.prototype.applyFdAPIRequest=function(y,S){var b=this,E=y.args[0];this._applyFdChanges(E,function(R,M){R?S(R):M[y.method](function(W){y.method==="close"&&delete b._fileDescriptors[E.id],S(W)})})},zi.prototype._applyFdChanges=function(y,S){var b=this._fileDescriptors[y.id],E=mo(y.data),R=C.fromBuffer(mo(y.stat)),M=k.getFileFlag(y.flag);M.isWriteable()?b.write(E,0,E.length,M.isAppendable()?b.getPos():0,function(W){function oe(){b.stat(function(me,Be){me?S(me):Be.mode!==R.mode?b.chmod(R.mode,function(ut){S(ut,b)}):S(me,b)})}W?S(W):M.isAppendable()?oe():b.truncate(E.length,function(){oe()})}):S(null,b)};function Ga(x){return{type:zn.API_ERROR,errorData:Ma(x.writeToBuffer())}}function Sh(x){return m.fromBuffer(mo(x.errorData))}function fo(x){return{type:zn.ERROR,name:x.name,message:x.message,stack:x.stack}}function xh(x){var y=ii[x.name];typeof y!="function"&&(y=Error);var S=new y(x.message);return S.stack=x.stack,S}function Eh(x){return{type:zn.STATS,statsData:Ma(x.toBuffer())}}function dg(x){return C.fromBuffer(mo(x.statsData))}function hg(x){return{type:zn.FILEFLAG,flagStr:x.getFlagString()}}function po(x){return k.getFileFlag(x.flagStr)}function Ma(x){return pe(x)}function mo(x){return it(x)}function du(x){return{type:zn.BUFFER,data:Ma(x)}}function hu(x){return mo(x.data)}function kh(x){return x&&typeof x=="object"&&x.hasOwnProperty("browserfsMessage")&&x.browserfsMessage}function ox(x){return x&&typeof x=="object"&&x.hasOwnProperty("browserfsMessage")&&x.browserfsMessage}var Z0=function(x){function y(S,b,E,R,M,W){x.call(this,S,b,E,R,W),this._remoteFdId=M}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype.getRemoteFdId=function(){return this._remoteFdId},y.prototype.toRemoteArg=function(){return{type:zn.FD,id:this._remoteFdId,data:Ma(this.getBuffer()),stat:Ma(this.getStats().toBuffer()),path:this.getPath(),flag:this.getFlag().getFlagString()}},y.prototype.sync=function(b){this._syncClose("sync",b)},y.prototype.close=function(b){this._syncClose("close",b)},y.prototype._syncClose=function(b,E){var R=this;this.isDirty()?this._fs.syncClose(b,this,function(M){M||R.resetDirty(),E(M)}):E()},y}(tr),hp=function(x){function y(S,b){var E=this;b===void 0&&(b=!0),x.call(this),this._callbackConverter=new ac,this._isInitialized=!1,this._isReadOnly=!1,this._supportLinks=!1,this._supportProps=!1,this._worker=S,ue(b,y.Name,{worker:"Web Worker instance"}),this._worker.addEventListener("message",function(R){var M=R.data;if(ox(M)){var W,oe=M.args,me=new Array(oe.length);for(W=0;W<me.length;W++)me[W]=E._argRemote2Local(oe[W]);E._callbackConverter.toLocalArg(M.cbId).apply(null,me)}})}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.Create=function(b,E){var R=new y(b.worker,!1);R.initialize(function(){E(null,R)})},y.isAvailable=function(){return typeof importScripts<"u"||typeof Worker<"u"},y.attachRemoteListener=function(b){var E=new zi;function R(W,oe,me){switch(typeof W){case"object":W instanceof C?me(null,Eh(W)):W instanceof m?me(null,Ga(W)):W instanceof rn?me(null,E.toRemoteArg(W,oe[0],oe[1],me)):W instanceof k?me(null,hg(W)):W instanceof a?me(null,du(W)):W instanceof Error?me(null,fo(W)):me(null,W);break;default:me(null,W);break}}function M(W,oe){if(!W)return W;switch(typeof W){case"object":if(typeof W.type=="number"){var me=W;switch(me.type){case zn.CB:var Be=W.id;return function(){var ut=arguments,At,qt=new Array(arguments.length),Gt,hn=arguments.length;function Mn(Qn){hn>0&&(hn=-1,Gt={browserfsMessage:!0,cbId:Be,args:[Ga(Qn)]},b.postMessage(Gt))}for(At=0;At<arguments.length;At++)(function(Qn,Si){R(Si,oe,function(La,Cl){qt[Qn]=Cl,La?Mn(La):--hn===0&&(Gt={browserfsMessage:!0,cbId:Be,args:qt},b.postMessage(Gt))})})(At,ut[At]);arguments.length===0&&(Gt={browserfsMessage:!0,cbId:Be,args:qt},b.postMessage(Gt))};case zn.API_ERROR:return Sh(me);case zn.STATS:return dg(me);case zn.FILEFLAG:return po(me);case zn.BUFFER:return hu(me);case zn.ERROR:return xh(me);default:return W}}else return W;default:return W}}b.addEventListener("message",function(W){var oe=W.data;if(kh(oe)){var me=oe.args,Be=new Array(me.length);switch(oe.method){case"close":case"sync":(function(){var qt=me[1];E.applyFdAPIRequest(oe,function(Gt){var hn={browserfsMessage:!0,cbId:qt.id,args:Gt?[Ga(Gt)]:[]};b.postMessage(hn)})})();break;case"probe":(function(){var qt=Ie.getRootFS(),Gt=me[1],hn={type:zn.PROBE,isReadOnly:qt.isReadOnly(),supportsLinks:qt.supportsLinks(),supportsProps:qt.supportsProps()},Mn={browserfsMessage:!0,cbId:Gt.id,args:[hn]};b.postMessage(Mn)})();break;default:for(var ut=0;ut<me.length;ut++)Be[ut]=M(me[ut],Be);var At=Ie.getRootFS();At[oe.method].apply(At,Be);break}}})},y.prototype.getName=function(){return y.Name},y.prototype.initialize=function(b){var E=this;if(this._isInitialized)b();else{var R={browserfsMessage:!0,method:"probe",args:[this._argLocal2Remote(ct()),this._callbackConverter.toRemoteArg(function(M){E._isInitialized=!0,E._isReadOnly=M.isReadOnly,E._supportLinks=M.supportsLinks,E._supportProps=M.supportsProps,b()})]};this._worker.postMessage(R)}},y.prototype.isReadOnly=function(){return this._isReadOnly},y.prototype.supportsSynch=function(){return!1},y.prototype.supportsLinks=function(){return this._supportLinks},y.prototype.supportsProps=function(){return this._supportProps},y.prototype.rename=function(b,E,R){this._rpc("rename",arguments)},y.prototype.stat=function(b,E,R){this._rpc("stat",arguments)},y.prototype.open=function(b,E,R,M){this._rpc("open",arguments)},y.prototype.unlink=function(b,E){this._rpc("unlink",arguments)},y.prototype.rmdir=function(b,E){this._rpc("rmdir",arguments)},y.prototype.mkdir=function(b,E,R){this._rpc("mkdir",arguments)},y.prototype.readdir=function(b,E){this._rpc("readdir",arguments)},y.prototype.exists=function(b,E){this._rpc("exists",arguments)},y.prototype.realpath=function(b,E,R){this._rpc("realpath",arguments)},y.prototype.truncate=function(b,E,R){this._rpc("truncate",arguments)},y.prototype.readFile=function(b,E,R,M){this._rpc("readFile",arguments)},y.prototype.writeFile=function(b,E,R,M,W,oe){this._rpc("writeFile",arguments)},y.prototype.appendFile=function(b,E,R,M,W,oe){this._rpc("appendFile",arguments)},y.prototype.chmod=function(b,E,R,M){this._rpc("chmod",arguments)},y.prototype.chown=function(b,E,R,M,W){this._rpc("chown",arguments)},y.prototype.utimes=function(b,E,R,M){this._rpc("utimes",arguments)},y.prototype.link=function(b,E,R){this._rpc("link",arguments)},y.prototype.symlink=function(b,E,R,M){this._rpc("symlink",arguments)},y.prototype.readlink=function(b,E){this._rpc("readlink",arguments)},y.prototype.syncClose=function(b,E,R){this._worker.postMessage({browserfsMessage:!0,method:b,args:[E.toRemoteArg(),this._callbackConverter.toRemoteArg(R)]})},y.prototype._argRemote2Local=function(b){if(!b)return b;switch(typeof b){case"object":if(typeof b.type=="number"){var E=b;switch(E.type){case zn.API_ERROR:return Sh(E);case zn.FD:var R=E;return new Z0(this,R.path,k.getFileFlag(R.flag),C.fromBuffer(mo(R.stat)),R.id,mo(R.data));case zn.STATS:return dg(E);case zn.FILEFLAG:return po(E);case zn.BUFFER:return hu(E);case zn.ERROR:return xh(E);default:return b}}else return b;default:return b}},y.prototype._rpc=function(b,E){for(var R=this,M=new Array(E.length),W=0;W<E.length;W++)M[W]=R._argLocal2Remote(E[W]);var oe={browserfsMessage:!0,method:b,args:M};this._worker.postMessage(oe)},y.prototype._argLocal2Remote=function(b){if(!b)return b;switch(typeof b){case"object":return b instanceof C?Eh(b):b instanceof m?Ga(b):b instanceof Z0?b.toRemoteArg():b instanceof k?hg(b):b instanceof a?du(b):b instanceof Error?fo(b):"Unknown argument";case"function":return this._callbackConverter.toRemoteArg(b);default:return b}},y}(Nt);hp.Name="WorkerFS",hp.Options={worker:{type:"object",description:"The target worker that you want to connect to, or the current worker if in a worker context.",validator:function(x,y){x.postMessage?y():y(new m(h.EINVAL,"option must be a Web Worker instance."))}}};function As(x,y,S){var b=new XMLHttpRequest;b.open("GET",x,!0);var E=!0;switch(y){case"buffer":b.responseType="arraybuffer";break;case"json":try{b.responseType="json",E=b.responseType==="json"}catch{E=!1}break;default:return S(new m(h.EINVAL,"Invalid download type: "+y))}b.onreadystatechange=function(R){if(b.readyState===4)if(b.status===200)switch(y){case"buffer":return S(null,b.response?a.from(b.response):ct());case"json":return E?S(null,b.response):S(null,JSON.parse(b.responseText))}else return S(new m(b.status,"XHR error."))},b.send()}function Wa(x,y){var S=new XMLHttpRequest;S.open("GET",x,!1);var b=null,E=null;if(S.overrideMimeType("text/plain; charset=x-user-defined"),S.onreadystatechange=function(R){if(S.readyState===4)if(S.status===200)switch(y){case"buffer":var M=S.responseText;b=a.alloc(M.length);for(var W=0;W<M.length;W++)b[W]=M.charCodeAt(W);return;case"json":b=JSON.parse(S.responseText);return}else{E=new m(S.status,"XHR error.");return}},S.send(),E)throw E;return b}function $r(x,y){var S=new XMLHttpRequest;switch(S.open("GET",x,!1),y){case"buffer":S.responseType="arraybuffer";break;case"json":break;default:throw new m(h.EINVAL,"Invalid download type: "+y)}var b,E;if(S.onreadystatechange=function(R){if(S.readyState===4)if(S.status===200)switch(y){case"buffer":b=a.from(S.response);break;case"json":b=JSON.parse(S.response);break}else E=new m(S.status,"XHR error.")},S.send(),E)throw E;return b}function Jo(x,y,S){var b=new XMLHttpRequest;b.open("HEAD",y,x),b.onreadystatechange=function(E){if(b.readyState===4)if(b.status===200)try{return S(null,parseInt(b.getResponseHeader("Content-Length")||"-1",10))}catch{return S(new m(h.EIO,"XHR HEAD error: Could not read content-length."))}else return S(new m(b.status,"XHR HEAD error."))},b.send()}var kl=As,Uv=ke&&typeof Blob<"u"?$r:Wa;function Th(x){var y=-1;return Jo(!1,x,function(S,b){if(S)throw S;y=b}),y}function lx(x,y){Jo(!0,x,y)}var go=function(){this._index={},this.addPath("/",new Pa)};go.fromListing=function(y){var S=new go,b=new Pa;S._index["/"]=b;for(var E=[["",y,b]];E.length>0;){var R=void 0,M=E.pop(),W=M[0],oe=M[1],me=M[2];for(var Be in oe)if(oe.hasOwnProperty(Be)){var ut=oe[Be],At=W+"/"+Be;ut?(S._index[At]=R=new Pa,E.push([At,ut,R])):R=new fu(new C(T.FILE,-1,365)),me&&(me._ls[Be]=R)}}return S},go.prototype.fileIterator=function(y){var S=this;for(var b in S._index)if(S._index.hasOwnProperty(b))for(var E=S._index[b],R=E.getListing(),M=0,W=R;M<W.length;M+=1){var oe=W[M],me=E.getItem(oe);yo(me)&&y(me.getData())}},go.prototype.addPath=function(y,S){if(!S)throw new Error("Inode must be specified");if(y[0]!=="/")throw new Error("Path must be absolute, got: "+y);if(this._index.hasOwnProperty(y))return this._index[y]===S;var b=this._split_path(y),E=b[0],R=b[1],M=this._index[E];return M===void 0&&y!=="/"&&(M=new Pa,!this.addPath(E,M))||y!=="/"&&!M.addItem(R,S)?!1:(el(S)&&(this._index[y]=S),!0)},go.prototype.addPathFast=function(y,S){var b=y.lastIndexOf("/"),E=b===0?"/":y.substring(0,b),R=y.substring(b+1),M=this._index[E];return M===void 0&&(M=new Pa,this.addPathFast(E,M)),M.addItem(R,S)?(S.isDir()&&(this._index[y]=S),!0):!1},go.prototype.removePath=function(y){var S=this,b=this._split_path(y),E=b[0],R=b[1],M=this._index[E];if(M===void 0)return null;var W=M.remItem(R);if(W===null)return null;if(el(W)){for(var oe=W.getListing(),me=0,Be=oe;me<Be.length;me+=1){var ut=Be[me];S.removePath(y+"/"+ut)}y!=="/"&&delete this._index[y]}return W},go.prototype.ls=function(y){var S=this._index[y];return S===void 0?null:S.getListing()},go.prototype.getInode=function(y){var S=this._split_path(y),b=S[0],E=S[1],R=this._index[b];return R===void 0?null:b===y?R:R.getItem(E)},go.prototype._split_path=function(y){var S=d.dirname(y),b=y.substr(S.length+(S==="/"?0:1));return[S,b]};var fu=function(y){this.data=y};fu.prototype.isFile=function(){return!0},fu.prototype.isDir=function(){return!1},fu.prototype.getData=function(){return this.data},fu.prototype.setData=function(y){this.data=y};var Pa=function(y){y===void 0&&(y=null),this.data=y,this._ls={}};Pa.prototype.isFile=function(){return!1},Pa.prototype.isDir=function(){return!0},Pa.prototype.getData=function(){return this.data},Pa.prototype.getStats=function(){return new C(T.DIRECTORY,4096,365)},Pa.prototype.getListing=function(){return Object.keys(this._ls)},Pa.prototype.getItem=function(y){var S=this._ls[y];return S||null},Pa.prototype.addItem=function(y,S){return y in this._ls?!1:(this._ls[y]=S,!0)},Pa.prototype.remItem=function(y){var S=this._ls[y];return S===void 0?null:(delete this._ls[y],S)};function yo(x){return!!x&&x.isFile()}function el(x){return!!x&&x.isDir()}function ux(x,y,S){try{S(null,x.toString(y))}catch(b){S(b)}}var fp=function(x){function y(S,b,E){b===void 0&&(b=""),E===void 0&&(E=!0),x.call(this),S||(S="index.json"),b.length>0&&b.charAt(b.length-1)!=="/"&&(b=b+"/"),this.prefixUrl=b;var R=null;if(typeof S=="string"){if(R=this._requestFileSync(S,"json"),!R)throw new Error("Unable to find listing at URL: ${listingUrlOrObj}")}else R=S;ue(E,y.Name,{index:typeof S=="string"?S:"file index as an object",baseUrl:b}),this._index=go.fromListing(R)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.Create=function(b,E){b.index===void 0&&(b.index="index.json"),typeof b.index=="string"?y.FromURL(b.index,E,b.baseUrl,!1):E(null,new y(b.index,b.baseUrl,!1))},y.isAvailable=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest!==null},y.FromURL=function(b,E,R,M){R===void 0&&(R=b.slice(0,b.lastIndexOf("/")+1)),M===void 0&&(M=!0),M&&console.warn(`[XmlHttpRequest] XmlHttpRequest.FromURL() is deprecated and will be removed in the next major release. Please use 'XmlHttpRequest.Create({ index: "`+b+'", baseUrl: "'+R+`" }, cb)' instead.`),kl(b,"json",function(W,oe){W?E(W):E(null,new y(oe,R,!1))})},y.prototype.empty=function(){this._index.fileIterator(function(b){b.fileData=null})},y.prototype.getName=function(){return y.Name},y.prototype.diskSpace=function(b,E){E(0,0)},y.prototype.isReadOnly=function(){return!0},y.prototype.supportsLinks=function(){return!1},y.prototype.supportsProps=function(){return!1},y.prototype.supportsSynch=function(){return!0},y.prototype.preloadFile=function(b,E){var R=this._index.getInode(b);if(yo(R)){if(R===null)throw m.ENOENT(b);var M=R.getData();M.size=E.length,M.fileData=E}else throw m.EISDIR(b)},y.prototype.stat=function(b,E,R){var M=this._index.getInode(b);if(M===null)return R(m.ENOENT(b));var W;yo(M)?(W=M.getData(),W.size<0?this._requestFileSizeAsync(b,function(oe,me){if(oe)return R(oe);W.size=me,R(null,W.clone())}):R(null,W.clone())):el(M)?(W=M.getStats(),R(null,W)):R(m.FileError(h.EINVAL,b))},y.prototype.statSync=function(b,E){var R=this._index.getInode(b);if(R===null)throw m.ENOENT(b);var M;if(yo(R))M=R.getData(),M.size<0&&(M.size=this._requestFileSizeSync(b));else if(el(R))M=R.getStats();else throw m.FileError(h.EINVAL,b);return M},y.prototype.open=function(b,E,R,M){if(E.isWriteable())return M(new m(h.EPERM,b));var W=this,oe=this._index.getInode(b);if(oe===null)return M(m.ENOENT(b));if(yo(oe)){var me=oe.getData();switch(E.pathExistsAction()){case w.THROW_EXCEPTION:case w.TRUNCATE_FILE:return M(m.EEXIST(b));case w.NOP:if(me.fileData)return M(null,new nr(W,b,E,me.clone(),me.fileData));this._requestFileAsync(b,"buffer",function(Be,ut){return Be?M(Be):(me.size=ut.length,me.fileData=ut,M(null,new nr(W,b,E,me.clone(),ut)))});break;default:return M(new m(h.EINVAL,"Invalid FileMode object."))}}else return M(m.EISDIR(b))},y.prototype.openSync=function(b,E,R){if(E.isWriteable())throw new m(h.EPERM,b);var M=this._index.getInode(b);if(M===null)throw m.ENOENT(b);if(yo(M)){var W=M.getData();switch(E.pathExistsAction()){case w.THROW_EXCEPTION:case w.TRUNCATE_FILE:throw m.EEXIST(b);case w.NOP:if(W.fileData)return new nr(this,b,E,W.clone(),W.fileData);var oe=this._requestFileSync(b,"buffer");return W.size=oe.length,W.fileData=oe,new nr(this,b,E,W.clone(),oe);default:throw new m(h.EINVAL,"Invalid FileMode object.")}}else throw m.EISDIR(b)},y.prototype.readdir=function(b,E){try{E(null,this.readdirSync(b))}catch(R){E(R)}},y.prototype.readdirSync=function(b){var E=this._index.getInode(b);if(E===null)throw m.ENOENT(b);if(el(E))return E.getListing();throw m.ENOTDIR(b)},y.prototype.readFile=function(b,E,R,M){var W=M;this.open(b,R,420,function(oe,me){if(oe)return M(oe);M=function(At,qt){me.close(function(Gt){return At||(At=Gt),W(At,qt)})};var Be=me,ut=Be.getBuffer();E===null?M(oe,Xe(ut)):ux(ut,E,M)})},y.prototype.readFileSync=function(b,E,R){var M=this.openSync(b,R,420);try{var W=M,oe=W.getBuffer();return E===null?Xe(oe):oe.toString(E)}finally{M.closeSync()}},y.prototype.getXhrPath=function(b){return b.charAt(0)==="/"&&(b=b.slice(1)),this.prefixUrl+b},y.prototype._requestFileAsync=function(b,E,R){kl(this.getXhrPath(b),E,R)},y.prototype._requestFileSync=function(b,E){return Uv(this.getXhrPath(b),E)},y.prototype._requestFileSizeAsync=function(b,E){lx(this.getXhrPath(b),E)},y.prototype._requestFileSizeSync=function(b){return Th(this.getXhrPath(b))},y}(Nt);fp.Name="XmlHttpRequest",fp.Options={index:{type:["string","object"],optional:!0,description:"URL to a file index as a JSON file or the file index object itself, generated with the make_xhrfs_index script. Defaults to `index.json`."},baseUrl:{type:"string",optional:!0,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}};var od=function(){};od.str2byte=function(y,S){for(var b=y.length>S.length?S.length:y.length,E=0;E<b;E++){var R=y.charCodeAt(E);if(R>127){var M=od.extendedChars.indexOf(y.charAt(E));M>-1&&(R=M+128)}S[R]=E}return b},od.byte2str=function(y){for(var S=new Array(y.length),b=0;b<y.length;b++){var E=y[b];E>127?S[b]=od.extendedChars[E-128]:S[b]=String.fromCharCode(E)}return S.join("")},od.byteLength=function(y){return y.length},od.extendedChars=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "];var Q0=i(31).inflateRaw,jv={},pp;(function(x){x[x.MSDOS=0]="MSDOS",x[x.AMIGA=1]="AMIGA",x[x.OPENVMS=2]="OPENVMS",x[x.UNIX=3]="UNIX",x[x.VM_CMS=4]="VM_CMS",x[x.ATARI_ST=5]="ATARI_ST",x[x.OS2_HPFS=6]="OS2_HPFS",x[x.MAC=7]="MAC",x[x.Z_SYSTEM=8]="Z_SYSTEM",x[x.CP_M=9]="CP_M",x[x.NTFS=10]="NTFS",x[x.MVS=11]="MVS",x[x.VSE=12]="VSE",x[x.ACORN_RISC=13]="ACORN_RISC",x[x.VFAT=14]="VFAT",x[x.ALT_MVS=15]="ALT_MVS",x[x.BEOS=16]="BEOS",x[x.TANDEM=17]="TANDEM",x[x.OS_400=18]="OS_400",x[x.OSX=19]="OSX"})(pp||(pp={}));var Ah;(function(x){x[x.STORED=0]="STORED",x[x.SHRUNK=1]="SHRUNK",x[x.REDUCED_1=2]="REDUCED_1",x[x.REDUCED_2=3]="REDUCED_2",x[x.REDUCED_3=4]="REDUCED_3",x[x.REDUCED_4=5]="REDUCED_4",x[x.IMPLODE=6]="IMPLODE",x[x.DEFLATE=8]="DEFLATE",x[x.DEFLATE64=9]="DEFLATE64",x[x.TERSE_OLD=10]="TERSE_OLD",x[x.BZIP2=12]="BZIP2",x[x.LZMA=14]="LZMA",x[x.TERSE_NEW=18]="TERSE_NEW",x[x.LZ77=19]="LZ77",x[x.WAVPACK=97]="WAVPACK",x[x.PPMD=98]="PPMD"})(Ah||(Ah={}));function Ch(x,y){var S=y&31,b=(y>>5&15)-1,E=(y>>9)+1980,R=x&31,M=x>>5&63,W=x>>11;return new Date(E,b,S,W,M,R)}function ld(x,y,S,b){return b===0?"":y?x.toString("utf8",S,S+b):od.byte2str(x.slice(S,S+b))}var us=function(y){if(this.data=y,y.readUInt32LE(0)!==67324752)throw new m(h.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))};us.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},us.prototype.flags=function(){return this.data.readUInt16LE(6)},us.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},us.prototype.lastModFileTime=function(){return Ch(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},us.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},us.prototype.crc32=function(){return this.data.readUInt32LE(14)},us.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},us.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},us.prototype.fileName=function(){return ld(this.data,this.useUTF8(),30,this.fileNameLength())},us.prototype.extraField=function(){var y=30+this.fileNameLength();return this.data.slice(y,y+this.extraFieldLength())},us.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},us.prototype.useUTF8=function(){return(this.flags()&2048)===2048};var sc=function(y,S,b){this.header=y,this.record=S,this.data=b};sc.prototype.decompress=function(){var y=this.header.compressionMethod(),S=jv[y];if(S)return S(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var b=Ah[y];throw b||(b="Unknown: "+y),new m(h.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+b)},sc.prototype.getHeader=function(){return this.header},sc.prototype.getRecord=function(){return this.record},sc.prototype.getRawData=function(){return this.data};var Sr=function(y,S){if(this.zipData=y,this.data=S,this.data.readUInt32LE(0)!==33639248)throw new m(h.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()};Sr.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},Sr.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},Sr.prototype.flag=function(){return this.data.readUInt16LE(8)},Sr.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},Sr.prototype.lastModFileTime=function(){return Ch(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},Sr.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},Sr.prototype.crc32=function(){return this.data.readUInt32LE(16)},Sr.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},Sr.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},Sr.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},Sr.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},Sr.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},Sr.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},Sr.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},Sr.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},Sr.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},Sr.prototype.produceFilename=function(){var y=ld(this.data,this.useUTF8(),46,this.fileNameLength());return y.replace(/\\/g,"/")},Sr.prototype.fileName=function(){return this._filename},Sr.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},Sr.prototype.extraField=function(){var y=44+this.fileNameLength();return this.data.slice(y,y+this.extraFieldLength())},Sr.prototype.fileComment=function(){var y=46+this.fileNameLength()+this.extraFieldLength();return ld(this.data,this.useUTF8(),y,this.fileCommentLength())},Sr.prototype.rawFileComment=function(){var y=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(y,y+this.fileCommentLength())},Sr.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},Sr.prototype.isDirectory=function(){var y=this.fileName();return!!(this.externalAttributes()&16)||y.charAt(y.length-1)==="/"},Sr.prototype.isFile=function(){return!this.isDirectory()},Sr.prototype.useUTF8=function(){return(this.flag()&2048)===2048},Sr.prototype.isEncrypted=function(){return(this.flag()&1)===1},Sr.prototype.getFileData=function(){var y=this.headerRelativeOffset(),S=new us(this.zipData.slice(y));return new sc(S,this,this.zipData.slice(y+S.totalSize()))},Sr.prototype.getData=function(){return this.getFileData().decompress()},Sr.prototype.getRawData=function(){return this.getFileData().getRawData()},Sr.prototype.getStats=function(){return new C(T.FILE,this.uncompressedSize(),365,new Date,this.lastModFileTime())};var Tl=function(y){if(this.data=y,this.data.readUInt32LE(0)!==101010256)throw new m(h.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))};Tl.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},Tl.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},Tl.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},Tl.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},Tl.prototype.cdSize=function(){return this.data.readUInt32LE(12)},Tl.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},Tl.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},Tl.prototype.cdZipComment=function(){return ld(this.data,!0,22,this.cdZipCommentLength())},Tl.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())};var zv=function(y,S,b,E){this.index=y,this.directoryEntries=S,this.eocd=b,this.data=E},bo=function(x){function y(S,b,E){b===void 0&&(b=""),E===void 0&&(E=!0),x.call(this),this.name=b,this._index=new go,this._directoryEntries=[],this._eocd=null,ue(E,y.Name,{zipData:"zip data as a Buffer",name:b}),S instanceof zv?(this._index=S.index,this._directoryEntries=S.directoryEntries,this._eocd=S.eocd,this.data=S.data):(this.data=S,this.populateIndex())}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.Create=function(b,E){try{y.computeIndex(b.zipData,function(R){var M=new y(R,b.name,!1);E(null,M)},!1)}catch(R){E(R)}},y.isAvailable=function(){return!0},y.RegisterDecompressionMethod=function(b,E){jv[b]=E},y.computeIndex=function(b,E,R){R===void 0&&(R=!0),R&&console.warn("[ZipFS] ZipFS.computeIndex is now deprecated, and will be removed in the next major release. Please update your code to use 'ZipFS.Create({ zipData: zip file as a Buffer}, cb)' instead.");var M=new go,W=y.getEOCD(b);if(W.diskNumber()!==W.cdDiskNumber())throw new m(h.EINVAL,"ZipFS does not support spanned zip files.");var oe=W.cdOffset();if(oe===4294967295)throw new m(h.EINVAL,"ZipFS does not support Zip64.");var me=oe+W.cdSize();y.computeIndexResponsive(b,M,oe,me,E,[],W)},y.getEOCD=function(b){for(var E=22,R=Math.min(E+65535,b.length-1),M=E;M<R;M++)if(b.readUInt32LE(b.length-M)===101010256)return new Tl(b.slice(b.length-M));throw new m(h.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},y.addToIndex=function(b,E){var R=b.fileName();if(R.charAt(0)==="/")throw new Error("WHY IS THIS ABSOLUTE");R.charAt(R.length-1)==="/"&&(R=R.substr(0,R.length-1)),b.isDirectory()?E.addPathFast("/"+R,new Pa(b)):E.addPathFast("/"+R,new fu(b))},y.computeIndexResponsive=function(b,E,R,M,W,oe,me){if(R<M){for(var Be=0;Be++<200&&R<M;){var ut=new Sr(b,b.slice(R));y.addToIndex(ut,E),R+=ut.totalSize(),oe.push(ut)}tn(function(){y.computeIndexResponsive(b,E,R,M,W,oe,me)})}else W(new zv(E,oe,me,b))},y.prototype.getName=function(){return y.Name+(this.name!==""?" "+this.name:"")},y.prototype.getCentralDirectoryEntry=function(b){var E=this._index.getInode(b);if(E===null)throw m.ENOENT(b);if(yo(E))return E.getData();if(el(E))return E.getData();throw m.EPERM("Invalid inode: "+E)},y.prototype.getCentralDirectoryEntryAt=function(b){var E=this._directoryEntries[b];if(!E)throw new RangeError("Invalid directory index: "+b+".");return E},y.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},y.prototype.getEndOfCentralDirectory=function(){return this._eocd},y.prototype.diskSpace=function(b,E){E(this.data.length,0)},y.prototype.isReadOnly=function(){return!0},y.prototype.supportsLinks=function(){return!1},y.prototype.supportsProps=function(){return!1},y.prototype.supportsSynch=function(){return!0},y.prototype.statSync=function(b,E){var R=this._index.getInode(b);if(R===null)throw m.ENOENT(b);var M;if(yo(R))M=R.getData().getStats();else if(el(R))M=R.getStats();else throw new m(h.EINVAL,"Invalid inode.");return M},y.prototype.openSync=function(b,E,R){if(E.isWriteable())throw new m(h.EPERM,b);var M=this._index.getInode(b);if(M)if(yo(M)){var W=M.getData(),oe=W.getStats();switch(E.pathExistsAction()){case w.THROW_EXCEPTION:case w.TRUNCATE_FILE:throw m.EEXIST(b);case w.NOP:return new nr(this,b,E,oe,W.getData());default:throw new m(h.EINVAL,"Invalid FileMode object.")}}else throw m.EISDIR(b);else throw m.ENOENT(b)},y.prototype.readdirSync=function(b){var E=this._index.getInode(b);if(E){if(el(E))return E.getListing();throw m.ENOTDIR(b)}else throw m.ENOENT(b)},y.prototype.readFileSync=function(b,E,R){var M=this.openSync(b,R,420);try{var W=M,oe=W.getBuffer();return E===null?Xe(oe):oe.toString(E)}finally{M.closeSync()}},y.prototype.populateIndex=function(){var b=this,E=this._eocd=y.getEOCD(this.data);if(E.diskNumber()!==E.cdDiskNumber())throw new m(h.EINVAL,"ZipFS does not support spanned zip files.");var R=E.cdOffset();if(R===4294967295)throw new m(h.EINVAL,"ZipFS does not support Zip64.");for(var M=R+E.cdSize();R<M;){var W=new Sr(b.data,b.data.slice(R));R+=W.totalSize(),y.addToIndex(W,b._index),b._directoryEntries.push(W)}},y}(Un);bo.Name="ZipFS",bo.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:de},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},bo.CompressionMethod=Ah,bo.RegisterDecompressionMethod(Ah.DEFLATE,function(x,y,S){return ae(Q0(x.slice(0,y),{chunkSize:S}))}),bo.RegisterDecompressionMethod(Ah.STORED,function(x,y,S){return Xe(x,0,S)});var cx="IEEE_P1282";function Sa(x,y,S){return x.toString("ascii",y,y+S).trim()}function mp(x,y,S){if(S===1)return String.fromCharCode(x[y]);for(var b=Math.floor(S/2),E=new Array(b),R=0;R<b;R++){var M=y+(R<<1);E[R]=String.fromCharCode(x[M+1]|x[M]<<8)}return E.join("")}function Al(x,y){var S=parseInt(Sa(x,y,4),10),b=parseInt(Sa(x,y+4,2),10),E=parseInt(Sa(x,y+6,2),10),R=parseInt(Sa(x,y+8,2),10),M=parseInt(Sa(x,y+10,2),10),W=parseInt(Sa(x,y+12,2),10),oe=parseInt(Sa(x,y+14,2),10);return new Date(S,b,E,R,M,W,oe*100)}function oc(x,y){var S=x[y],b=x[y+1],E=x[y+2],R=x[y+3],M=x[y+4],W=x[y+5];return new Date(S,b-1,E,R,M,W)}function $v(x,y){var S=x.slice(y),b=new ea(S);switch(b.signatureWord()){case 17221:return new hx(S);case 20548:return new d2(S);case 21328:return new pa(S);case 21332:return new J0(S);case 17746:return new gp(S);case 17747:return new pg(S);case 20568:return new Rh(S);case 20558:return new yp(S);case 21324:return new qv(S);case 20045:return new fx(S);case 17228:return new ty(S);case 20556:return new Ih(S);case 21061:return new ny(S);case 21574:return new mg(S);case 21318:return new px(S);case 21074:return new ey(S);default:return b}}function vo(x,y,S,b){S=S-4;for(var E=new Array;y<S;){var R=$v(x,y),M=R.length();if(M===0)return E;if(y+=M,R instanceof J0)break;R instanceof hx?E=E.concat(R.getEntries(b)):E.push(R)}return E}var Cs=function(y){this._data=y};Cs.prototype.type=function(){return this._data[0]},Cs.prototype.standardIdentifier=function(){return Sa(this._data,1,5)},Cs.prototype.version=function(){return this._data[6]},Cs.prototype.data=function(){return this._data.slice(7,2048)};var lc=function(x){function y(S){x.call(this,S),this._root=null}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype.systemIdentifier=function(){return this._getString32(8)},y.prototype.volumeIdentifier=function(){return this._getString32(40)},y.prototype.volumeSpaceSize=function(){return this._data.readUInt32LE(80)},y.prototype.volumeSetSize=function(){return this._data.readUInt16LE(120)},y.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(124)},y.prototype.logicalBlockSize=function(){return this._data.readUInt16LE(128)},y.prototype.pathTableSize=function(){return this._data.readUInt32LE(132)},y.prototype.locationOfTypeLPathTable=function(){return this._data.readUInt32LE(140)},y.prototype.locationOfOptionalTypeLPathTable=function(){return this._data.readUInt32LE(144)},y.prototype.locationOfTypeMPathTable=function(){return this._data.readUInt32BE(148)},y.prototype.locationOfOptionalTypeMPathTable=function(){return this._data.readUInt32BE(152)},y.prototype.rootDirectoryEntry=function(b){return this._root===null&&(this._root=this._constructRootDirectoryRecord(this._data.slice(156)),this._root.rootCheckForRockRidge(b)),this._root},y.prototype.volumeSetIdentifier=function(){return this._getString(190,128)},y.prototype.publisherIdentifier=function(){return this._getString(318,128)},y.prototype.dataPreparerIdentifier=function(){return this._getString(446,128)},y.prototype.applicationIdentifier=function(){return this._getString(574,128)},y.prototype.copyrightFileIdentifier=function(){return this._getString(702,38)},y.prototype.abstractFileIdentifier=function(){return this._getString(740,36)},y.prototype.bibliographicFileIdentifier=function(){return this._getString(776,37)},y.prototype.volumeCreationDate=function(){return Al(this._data,813)},y.prototype.volumeModificationDate=function(){return Al(this._data,830)},y.prototype.volumeExpirationDate=function(){return Al(this._data,847)},y.prototype.volumeEffectiveDate=function(){return Al(this._data,864)},y.prototype.fileStructureVersion=function(){return this._data[881]},y.prototype.applicationUsed=function(){return this._data.slice(883,1395)},y.prototype.reserved=function(){return this._data.slice(1395,2048)},y.prototype._getString32=function(b){return this._getString(b,32)},y}(Cs),dx=function(x){function y(S){if(x.call(this,S),this.type()!==1)throw new m(h.EIO,"Invalid primary volume descriptor.")}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype.name=function(){return"ISO9660"},y.prototype._constructRootDirectoryRecord=function(b){return new fa(b,-1)},y.prototype._getString=function(b,E){return this._getString(b,E)},y}(lc),ud=function(x){function y(S){if(x.call(this,S),this.type()!==2)throw new m(h.EIO,"Invalid supplementary volume descriptor.");var b=this.escapeSequence(),E=b[2];if(b[0]!==37||b[1]!==47||E!==64&&E!==67&&E!==69)throw new m(h.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+b.toString())}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype.name=function(){return"Joliet"},y.prototype.escapeSequence=function(){return this._data.slice(88,120)},y.prototype._constructRootDirectoryRecord=function(b){return new fg(b,-1)},y.prototype._getString=function(b,E){return mp(this._data,b,E)},y}(lc),Fr=function(y,S){this._suEntries=null,this._fileOrDir=null,this._data=y,this._rockRidgeOffset=S};Fr.prototype.hasRockRidge=function(){return this._rockRidgeOffset>-1},Fr.prototype.getRockRidgeOffset=function(){return this._rockRidgeOffset},Fr.prototype.rootCheckForRockRidge=function(y){var S=this.getDirectory(y);this._rockRidgeOffset=S.getDotEntry(y)._getRockRidgeOffset(y),this._rockRidgeOffset>-1&&(this._fileOrDir=null)},Fr.prototype.length=function(){return this._data[0]},Fr.prototype.extendedAttributeRecordLength=function(){return this._data[1]},Fr.prototype.lba=function(){return this._data.readUInt32LE(2)*2048},Fr.prototype.dataLength=function(){return this._data.readUInt32LE(10)},Fr.prototype.recordingDate=function(){return oc(this._data,18)},Fr.prototype.fileFlags=function(){return this._data[25]},Fr.prototype.fileUnitSize=function(){return this._data[26]},Fr.prototype.interleaveGapSize=function(){return this._data[27]},Fr.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(28)},Fr.prototype.identifier=function(){return this._getString(33,this._data[32])},Fr.prototype.fileName=function(y){if(this.hasRockRidge()){var S=this._rockRidgeFilename(y);if(S!==null)return S}var b=this.identifier();if(this.isDirectory(y))return b;var E=b.indexOf(";");return E===-1?b:b[E-1]==="."?b.slice(0,E-1):b.slice(0,E)},Fr.prototype.isDirectory=function(y){var S=!!(this.fileFlags()&2);return!S&&this.hasRockRidge()&&(S=this.getSUEntries(y).filter(function(b){return b instanceof ty}).length>0),S},Fr.prototype.isSymlink=function(y){return this.hasRockRidge()&&this.getSUEntries(y).filter(function(S){return S instanceof qv}).length>0},Fr.prototype.getSymlinkPath=function(y){for(var S="",b=this.getSUEntries(y),E=this._getGetString(),R=0,M=b;R<M.length;R+=1){var W=M[R];if(W instanceof qv){for(var oe=W.componentRecords(),me=0,Be=oe;me<Be.length;me+=1){var ut=Be[me],At=ut.flags();At&2?S+="./":At&4?S+="../":At&8?S+="/":(S+=ut.content(E),At&1||(S+="/"))}if(!W.continueFlag())break}}return S.length>1&&S[S.length-1]==="/"?S.slice(0,S.length-1):S},Fr.prototype.getFile=function(y){if(this.isDirectory(y))throw new Error("Tried to get a File from a directory.");return this._fileOrDir===null&&(this._fileOrDir=y.slice(this.lba(),this.lba()+this.dataLength())),this._fileOrDir},Fr.prototype.getDirectory=function(y){if(!this.isDirectory(y))throw new Error("Tried to get a Directory from a file.");return this._fileOrDir===null&&(this._fileOrDir=this._constructDirectory(y)),this._fileOrDir},Fr.prototype.getSUEntries=function(y){return this._suEntries||this._constructSUEntries(y),this._suEntries},Fr.prototype._rockRidgeFilename=function(y){var S=this.getSUEntries(y).filter(function(oe){return oe instanceof fx});if(S.length===0||S[0].flags()&6)return null;for(var b="",E=this._getGetString(),R=0,M=S;R<M.length;R+=1){var W=M[R];if(b+=W.name(E),!(W.flags()&1))break}return b},Fr.prototype._constructSUEntries=function(y){var S=33+this._data[32];S%2===1&&S++,S+=this._rockRidgeOffset,this._suEntries=vo(this._data,S,this.length(),y)},Fr.prototype._getRockRidgeOffset=function(y){this._rockRidgeOffset=0;var S=this.getSUEntries(y);if(S.length>0){var b=S[0];if(b instanceof pa&&b.checkBytesPass())for(var E=1;E<S.length;E++){var R=S[E];if(R instanceof ey||R instanceof gp&&R.extensionIdentifier()===cx)return b.bytesSkipped()}}return this._rockRidgeOffset=-1,-1};var fa=function(x){function y(S,b){x.call(this,S,b)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype._getString=function(b,E){return Sa(this._data,b,E)},y.prototype._constructDirectory=function(b){return new cr(this,b)},y.prototype._getGetString=function(){return Sa},y}(Fr),fg=function(x){function y(S,b){x.call(this,S,b)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype._getString=function(b,E){return mp(this._data,b,E)},y.prototype._constructDirectory=function(b){return new fi(this,b)},y.prototype._getGetString=function(){return mp},y}(Fr),ea=function(y){this._data=y};ea.prototype.signatureWord=function(){return this._data.readUInt16BE(0)},ea.prototype.signatureWordString=function(){return Sa(this._data,0,2)},ea.prototype.length=function(){return this._data[2]},ea.prototype.suVersion=function(){return this._data[3]};var hx=function(x){function y(S){x.call(this,S),this._entries=null}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype.continuationLba=function(){return this._data.readUInt32LE(4)},y.prototype.continuationLbaOffset=function(){return this._data.readUInt32LE(12)},y.prototype.continuationLength=function(){return this._data.readUInt32LE(20)},y.prototype.getEntries=function(b){if(!this._entries){var E=this.continuationLba()*2048+this.continuationLbaOffset();this._entries=vo(b,E,this.continuationLength(),b)}return this._entries},y}(ea),d2=function(x){function y(S){x.call(this,S)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y}(ea),pa=function(x){function y(S){x.call(this,S)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype.checkBytesPass=function(){return this._data[4]===190&&this._data[5]===239},y.prototype.bytesSkipped=function(){return this._data[6]},y}(ea),J0=function(x){function y(S){x.call(this,S)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y}(ea),gp=function(x){function y(S){x.call(this,S)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype.identifierLength=function(){return this._data[4]},y.prototype.descriptorLength=function(){return this._data[5]},y.prototype.sourceLength=function(){return this._data[6]},y.prototype.extensionVersion=function(){return this._data[7]},y.prototype.extensionIdentifier=function(){return Sa(this._data,8,this.identifierLength())},y.prototype.extensionDescriptor=function(){return Sa(this._data,8+this.identifierLength(),this.descriptorLength())},y.prototype.extensionSource=function(){return Sa(this._data,8+this.identifierLength()+this.descriptorLength(),this.sourceLength())},y}(ea),pg=function(x){function y(S){x.call(this,S)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype.extensionSequence=function(){return this._data[4]},y}(ea),ey=function(x){function y(S){x.call(this,S)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y}(ea),Rh=function(x){function y(S){x.call(this,S)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype.mode=function(){return this._data.readUInt32LE(4)},y.prototype.fileLinks=function(){return this._data.readUInt32LE(12)},y.prototype.uid=function(){return this._data.readUInt32LE(20)},y.prototype.gid=function(){return this._data.readUInt32LE(28)},y.prototype.inode=function(){return this._data.readUInt32LE(36)},y}(ea),yp=function(x){function y(S){x.call(this,S)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype.devTHigh=function(){return this._data.readUInt32LE(4)},y.prototype.devTLow=function(){return this._data.readUInt32LE(12)},y}(ea),qv=function(x){function y(S){x.call(this,S)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype.flags=function(){return this._data[4]},y.prototype.continueFlag=function(){return this.flags()&1},y.prototype.componentRecords=function(){for(var b=this,E=new Array,R=5;R<this.length();){var M=new bp(b._data.slice(R));E.push(M),R+=M.length()}return E},y}(ea),bp=function(y){this._data=y};bp.prototype.flags=function(){return this._data[0]},bp.prototype.length=function(){return 2+this.componentLength()},bp.prototype.componentLength=function(){return this._data[1]},bp.prototype.content=function(y){return y(this._data,2,this.componentLength())};var fx=function(x){function y(S){x.call(this,S)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype.flags=function(){return this._data[4]},y.prototype.name=function(b){return b(this._data,5,this.length()-5)},y}(ea),ty=function(x){function y(S){x.call(this,S)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype.childDirectoryLba=function(){return this._data.readUInt32LE(4)},y}(ea),Ih=function(x){function y(S){x.call(this,S)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype.parentDirectoryLba=function(){return this._data.readUInt32LE(4)},y}(ea),ny=function(x){function y(S){x.call(this,S)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y}(ea),mg=function(x){function y(S){x.call(this,S)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype.flags=function(){return this._data[4]},y.prototype.creation=function(){return this.flags()&1?this._longFormDates()?Al(this._data,5):oc(this._data,5):null},y.prototype.modify=function(){if(this.flags()&2){var b=this.flags()&1?1:0;return this._longFormDates?Al(this._data,5+b*17):oc(this._data,5+b*7)}else return null},y.prototype.access=function(){if(this.flags()&4){var b=this.flags()&1?1:0;return b+=this.flags()&2?1:0,this._longFormDates?Al(this._data,5+b*17):oc(this._data,5+b*7)}else return null},y.prototype.backup=function(){if(this.flags()&16){var b=this.flags()&1?1:0;return b+=this.flags()&2?1:0,b+=this.flags()&4?1:0,this._longFormDates?Al(this._data,5+b*17):oc(this._data,5+b*7)}else return null},y.prototype.expiration=function(){if(this.flags()&32){var b=this.flags()&1?1:0;return b+=this.flags()&2?1:0,b+=this.flags()&4?1:0,b+=this.flags()&16?1:0,this._longFormDates?Al(this._data,5+b*17):oc(this._data,5+b*7)}else return null},y.prototype.effective=function(){if(this.flags()&64){var b=this.flags()&1?1:0;return b+=this.flags()&2?1:0,b+=this.flags()&4?1:0,b+=this.flags()&16?1:0,b+=this.flags()&32?1:0,this._longFormDates?Al(this._data,5+b*17):oc(this._data,5+b*7)}else return null},y.prototype._longFormDates=function(){return!!this.flags()},y}(ea),px=function(x){function y(S){x.call(this,S)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype.virtualSizeHigh=function(){return this._data.readUInt32LE(4)},y.prototype.virtualSizeLow=function(){return this._data.readUInt32LE(12)},y.prototype.tableDepth=function(){return this._data[20]},y}(ea),tl=function(y,S){var b=this;this._fileList=[],this._fileMap={},this._record=y;var E=y.lba(),R=E+y.dataLength();if(!(y.fileFlags()&2)){var M=y.getSUEntries(S).filter(function(Be){return Be instanceof ty})[0];E=M.childDirectoryLba()*2048,R=1/0}for(;E<R;){var W=S[E];if(W===0){E++;continue}var oe=b._constructDirectoryRecord(S.slice(E)),me=oe.fileName(S);me!=="\0"&&me!==""?(!oe.hasRockRidge()||oe.getSUEntries(S).filter(function(Be){return Be instanceof ny}).length===0)&&(b._fileMap[me]=oe,b._fileList.push(me)):R===1/0&&(R=E+oe.dataLength()),E+=oe.length()}};tl.prototype.getRecord=function(y){return this._fileMap[y]},tl.prototype.getFileList=function(){return this._fileList},tl.prototype.getDotEntry=function(y){return this._constructDirectoryRecord(y.slice(this._record.lba()))};var cr=function(x){function y(S,b){x.call(this,S,b)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype._constructDirectoryRecord=function(b){return new fa(b,this._record.getRockRidgeOffset())},y}(tl),fi=function(x){function y(S,b){x.call(this,S,b)}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.prototype._constructDirectoryRecord=function(b){return new fg(b,this._record.getRockRidgeOffset())},y}(tl),$i=function(x){function y(S,b,E){var R=this;b===void 0&&(b=""),E===void 0&&(E=!0),x.call(this),this._data=S,ue(E,y.Name,{data:"ISO data as a Buffer",name:b});for(var M=!1,W=16*2048,oe=new Array;!M;){var me=S.slice(W),Be=new Cs(me);switch(Be.type()){case 1:oe.push(new dx(me));break;case 2:oe.push(new ud(me));break;case 255:M=!0;break}W+=2048}if(oe.length===0)throw new m(h.EIO,"Unable to find a suitable volume descriptor.");oe.forEach(function(ut){(!R._pvd||R._pvd.type()!==2)&&(R._pvd=ut)}),this._root=this._pvd.rootDirectoryEntry(S),this._name=b}return x&&(y.__proto__=x),y.prototype=Object.create(x&&x.prototype),y.prototype.constructor=y,y.Create=function(b,E){var R,M;try{R=new y(b.data,b.name,!1)}catch(W){W=W}finally{E(M,R)}},y.isAvailable=function(){return!0},y.prototype.getName=function(){var b="IsoFS"+this._name+(this._pvd?"-"+this._pvd.name():"");return this._root&&this._root.hasRockRidge()&&(b+="-RockRidge"),b},y.prototype.diskSpace=function(b,E){E(this._data.length,0)},y.prototype.isReadOnly=function(){return!0},y.prototype.supportsLinks=function(){return!1},y.prototype.supportsProps=function(){return!1},y.prototype.supportsSynch=function(){return!0},y.prototype.statSync=function(b,E){var R=this._getDirectoryRecord(b);if(R===null)throw m.ENOENT(b);return this._getStats(b,R)},y.prototype.openSync=function(b,E,R){if(E.isWriteable())throw new m(h.EPERM,b);var M=this._getDirectoryRecord(b);if(M){if(M.isSymlink(this._data))return this.openSync(d.resolve(b,M.getSymlinkPath(this._data)),E,R);if(M.isDirectory(this._data))throw m.EISDIR(b);var W=M.getFile(this._data),oe=this._getStats(b,M);switch(E.pathExistsAction()){case w.THROW_EXCEPTION:case w.TRUNCATE_FILE:throw m.EEXIST(b);case w.NOP:return new nr(this,b,E,oe,W);default:throw new m(h.EINVAL,"Invalid FileMode object.")}}else throw m.ENOENT(b)},y.prototype.readdirSync=function(b){var E=this._getDirectoryRecord(b);if(E){if(E.isDirectory(this._data))return E.getDirectory(this._data).getFileList().slice(0);throw m.ENOTDIR(b)}else throw m.ENOENT(b)},y.prototype.readFileSync=function(b,E,R){var M=this.openSync(b,R,420);try{var W=M,oe=W.getBuffer();return E===null?Xe(oe):oe.toString(E)}finally{M.closeSync()}},y.prototype._getDirectoryRecord=function(b){var E=this;if(b==="/")return this._root;for(var R=b.split("/").slice(1),M=this._root,W=0,oe=R;W<oe.length;W+=1){var me=oe[W];if(M.isDirectory(E._data)){if(M=M.getDirectory(E._data).getRecord(me),!M)return null}else return null}return M},y.prototype._getStats=function(b,E){if(E.isSymlink(this._data)){var R=d.resolve(b,E.getSymlinkPath(this._data)),M=this._getDirectoryRecord(R);return M?this._getStats(R,M):null}else{var W=E.dataLength(),oe=365,me=E.recordingDate(),Be=me,ut=me,At=me;if(E.hasRockRidge())for(var qt=E.getSUEntries(this._data),Gt=0,hn=qt;Gt<hn.length;Gt+=1){var Mn=hn[Gt];if(Mn instanceof Rh)oe=Mn.mode();else if(Mn instanceof mg){var Qn=Mn.flags();Qn&4&&(Be=Mn.access()),Qn&2&&(ut=Mn.modify()),Qn&1&&(At=Mn.creation())}}return oe=oe&365,new C(E.isDirectory(this._data)?T.DIRECTORY:T.FILE,W,oe,Be,ut,At)}},y}(Un);$i.Name="IsoFS",$i.Options={data:{type:"object",description:"The ISO file in a buffer",validator:de}},[Ee,lp,up,El,uu,Ts,fe,$i,Ye,Je,Oi,hp,fp,bo].forEach(function(x){var y=x.Create;x.Create=function(S,b){var E=typeof S=="function",R=E?S:b,M=E?{}:S;function W(oe){oe?R(oe):y.call(x,M,R)}Se(x,M,W)}});var Nh={AsyncMirror:Ee,Dropbox:lp,Emscripten:up,FolderAdapter:El,HTML5FS:uu,InMemory:Ts,IndexedDB:fe,IsoFS:$i,LocalStorage:Ye,MountableFileSystem:Je,OverlayFS:Oi,WorkerFS:hp,XmlHttpRequest:fp,ZipFS:bo};l.initializeTTYs&&l.initializeTTYs();function vp(x){x.Buffer=a,x.process=l;var y=x.require?x.require:null;x.require=function(S){var b=gg(S);return b||y.apply(null,Array.prototype.slice.call(arguments,0))}}function Oh(x,y){Nh[x]=y}function gg(x){switch(x){case"fs":return Ie;case"path":return d;case"buffer":return u;case"process":return l;case"bfs_utils":return ht;default:return Nh[x]}}function wp(x){return Ie.initialize(x)}function _p(x,y){Hv(x,function(S,b){b?(wp(b),y()):y(S)})}function Hv(x,y){var S=x.fs;if(!S)return y(new m(h.EPERM,'Missing "fs" property on configuration object.'));var b=x.options,E=0,R=!1;function M(){if(!R){R=!0;var me=Nh[S];me?me.Create(b,y):y(new m(h.EPERM,"File system "+S+" is not available in BrowserFS."))}}if(b!==null&&typeof b=="object"){var W=!1,oe=Object.keys(b).filter(function(me){return me!=="fs"});oe.forEach(function(me){var Be=b[me];Be!==null&&typeof Be=="object"&&Be.fs&&(E++,Hv(Be,function(ut,At){if(E--,ut){if(R)return;R=!0,y(ut)}else b[me]=At,E===0&&W&&M()}))}),W=!0}E===0&&M()}"ab".substr(-1)!=="b"&&(String.prototype.substr=function(x){return function(y,S){return y<0&&(y=this.length+y),x.call(this,y,S)}}(String.prototype.substr)),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(x,y){x===void 0&&(x=0),y===void 0&&(y=this.length);var S=this;return x<0&&(x=this.length+x,x<0&&(x=0)),y<0&&(y=this.length+y,y<0&&(y=0)),y<x&&(y=x),new Uint8Array(S.buffer,S.byteOffset+x,y-x)})),r.install=vp,r.registerFileSystem=Oh,r.BFSRequire=gg,r.initialize=wp,r.configure=_p,r.getFileSystem=Hv,r.EmscriptenFS=an,r.FileSystem=Nh,r.Errors=v,r.setImmediate=tn}).call(r,i(1),function(){return this}(),i(5)(n),i(6))},function(n,r,i){n.exports=i(2).Buffer},function(n,r,i){(function(h){var s=i(3),o=i(4);r.Buffer=h,r.SlowBuffer=D,r.INSPECT_MAX_BYTES=50;var l=2147483647;r.kMaxLength=l,h.TYPED_ARRAY_SUPPORT=u(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{var Ee=new Uint8Array(1);return Ee.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},Ee.foo()===42}catch{return!1}}function d(Ee){if(Ee>l)throw new RangeError("Invalid typed array length");var ee=new Uint8Array(Ee);return ee.__proto__=h.prototype,ee}function h(Ee,ee,te){if(typeof Ee=="number"){if(typeof ee=="string")throw new Error("If encoding is specified then the first argument must be a string");return w(Ee)}return p(Ee,ee,te)}typeof Symbol<"u"&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192;function p(Ee,ee,te){if(typeof Ee=="number")throw new TypeError('"value" argument must not be a number');return tr(Ee)?C(Ee,ee,te):typeof Ee=="string"?k(Ee,ee):N(Ee)}h.from=function(Ee,ee,te){return p(Ee,ee,te)},h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array;function m(Ee){if(typeof Ee!="number")throw new TypeError('"size" argument must be a number');if(Ee<0)throw new RangeError('"size" argument must not be negative')}function v(Ee,ee,te){return m(Ee),Ee<=0?d(Ee):ee!==void 0?typeof te=="string"?d(Ee).fill(ee,te):d(Ee).fill(ee):d(Ee)}h.alloc=function(Ee,ee,te){return v(Ee,ee,te)};function w(Ee){return m(Ee),d(Ee<0?0:F(Ee)|0)}h.allocUnsafe=function(Ee){return w(Ee)},h.allocUnsafeSlow=function(Ee){return w(Ee)};function k(Ee,ee){if((typeof ee!="string"||ee==="")&&(ee="utf8"),!h.isEncoding(ee))throw new TypeError('"encoding" must be a valid string encoding');var te=U(Ee,ee)|0,Re=d(te),nt=Re.write(Ee,ee);return nt!==te&&(Re=Re.slice(0,nt)),Re}function T(Ee){for(var ee=Ee.length<0?0:F(Ee.length)|0,te=d(ee),Re=0;Re<ee;Re+=1)te[Re]=Ee[Re]&255;return te}function C(Ee,ee,te){if(ee<0||Ee.byteLength<ee)throw new RangeError("'offset' is out of bounds");if(Ee.byteLength<ee+(te||0))throw new RangeError("'length' is out of bounds");var Re;return ee===void 0&&te===void 0?Re=new Uint8Array(Ee):te===void 0?Re=new Uint8Array(Ee,ee):Re=new Uint8Array(Ee,ee,te),Re.__proto__=h.prototype,Re}function N(Ee){if(h.isBuffer(Ee)){var ee=F(Ee.length)|0,te=d(ee);return te.length===0||Ee.copy(te,0,0,ee),te}if(Ee){if(nr(Ee)||"length"in Ee)return typeof Ee.length!="number"||Dr(Ee.length)?d(0):T(Ee);if(Ee.type==="Buffer"&&Array.isArray(Ee.data))return T(Ee.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function F(Ee){if(Ee>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return Ee|0}function D(Ee){return+Ee!=Ee&&(Ee=0),h.alloc(+Ee)}h.isBuffer=function(ee){return ee!=null&&ee._isBuffer===!0},h.compare=function(ee,te){if(!h.isBuffer(ee)||!h.isBuffer(te))throw new TypeError("Arguments must be Buffers");if(ee===te)return 0;for(var Re=ee.length,nt=te.length,Oe=0,K=Math.min(Re,nt);Oe<K;++Oe)if(ee[Oe]!==te[Oe]){Re=ee[Oe],nt=te[Oe];break}return Re<nt?-1:nt<Re?1:0},h.isEncoding=function(ee){switch(String(ee).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(ee,te){if(!Array.isArray(ee))throw new TypeError('"list" argument must be an Array of Buffers');if(ee.length===0)return h.alloc(0);var Re;if(te===void 0)for(te=0,Re=0;Re<ee.length;++Re)te+=ee[Re].length;var nt=h.allocUnsafe(te),Oe=0;for(Re=0;Re<ee.length;++Re){var K=ee[Re];if(!h.isBuffer(K))throw new TypeError('"list" argument must be an Array of Buffers');K.copy(nt,Oe),Oe+=K.length}return nt};function U(Ee,ee){if(h.isBuffer(Ee))return Ee.length;if(nr(Ee)||tr(Ee))return Ee.byteLength;typeof Ee!="string"&&(Ee=""+Ee);var te=Ee.length;if(te===0)return 0;for(var Re=!1;;)switch(ee){case"ascii":case"latin1":case"binary":return te;case"utf8":case"utf-8":case void 0:return Dt(Ee).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te*2;case"hex":return te>>>1;case"base64":return Un(Ee).length;default:if(Re)return Dt(Ee).length;ee=(""+ee).toLowerCase(),Re=!0}}h.byteLength=U;function G(Ee,ee,te){var Re=!1;if((ee===void 0||ee<0)&&(ee=0),ee>this.length||((te===void 0||te>this.length)&&(te=this.length),te<=0)||(te>>>=0,ee>>>=0,te<=ee))return"";for(Ee||(Ee="utf8");;)switch(Ee){case"hex":return ae(this,ee,te);case"utf8":case"utf-8":return Te(this,ee,te);case"ascii":return pe(this,ee,te);case"latin1":case"binary":return Ne(this,ee,te);case"base64":return ke(this,ee,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return He(this,ee,te);default:if(Re)throw new TypeError("Unknown encoding: "+Ee);Ee=(Ee+"").toLowerCase(),Re=!0}}h.prototype._isBuffer=!0;function se(Ee,ee,te){var Re=Ee[ee];Ee[ee]=Ee[te],Ee[te]=Re}h.prototype.swap16=function(){var ee=this.length;if(ee%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var te=0;te<ee;te+=2)se(this,te,te+1);return this},h.prototype.swap32=function(){var ee=this.length;if(ee%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var te=0;te<ee;te+=4)se(this,te,te+3),se(this,te+1,te+2);return this},h.prototype.swap64=function(){var ee=this.length;if(ee%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var te=0;te<ee;te+=8)se(this,te,te+7),se(this,te+1,te+6),se(this,te+2,te+5),se(this,te+3,te+4);return this},h.prototype.toString=function(){var ee=this.length;return ee===0?"":arguments.length===0?Te(this,0,ee):G.apply(this,arguments)},h.prototype.equals=function(ee){if(!h.isBuffer(ee))throw new TypeError("Argument must be a Buffer");return this===ee?!0:h.compare(this,ee)===0},h.prototype.inspect=function(){var ee="",te=r.INSPECT_MAX_BYTES;return this.length>0&&(ee=this.toString("hex",0,te).match(/.{2}/g).join(" "),this.length>te&&(ee+=" ... ")),"<Buffer "+ee+">"},h.prototype.compare=function(ee,te,Re,nt,Oe){if(!h.isBuffer(ee))throw new TypeError("Argument must be a Buffer");if(te===void 0&&(te=0),Re===void 0&&(Re=ee?ee.length:0),nt===void 0&&(nt=0),Oe===void 0&&(Oe=this.length),te<0||Re>ee.length||nt<0||Oe>this.length)throw new RangeError("out of range index");if(nt>=Oe&&te>=Re)return 0;if(nt>=Oe)return-1;if(te>=Re)return 1;if(te>>>=0,Re>>>=0,nt>>>=0,Oe>>>=0,this===ee)return 0;for(var K=Oe-nt,B=Re-te,V=Math.min(K,B),be=this.slice(nt,Oe),je=ee.slice(te,Re),We=0;We<V;++We)if(be[We]!==je[We]){K=be[We],B=je[We];break}return K<B?-1:B<K?1:0};function re(Ee,ee,te,Re,nt){if(Ee.length===0)return-1;if(typeof te=="string"?(Re=te,te=0):te>2147483647?te=2147483647:te<-2147483648&&(te=-2147483648),te=+te,Dr(te)&&(te=nt?0:Ee.length-1),te<0&&(te=Ee.length+te),te>=Ee.length){if(nt)return-1;te=Ee.length-1}else if(te<0)if(nt)te=0;else return-1;if(typeof ee=="string"&&(ee=h.from(ee,Re)),h.isBuffer(ee))return ee.length===0?-1:Q(Ee,ee,te,Re,nt);if(typeof ee=="number")return ee=ee&255,typeof Uint8Array.prototype.indexOf=="function"?nt?Uint8Array.prototype.indexOf.call(Ee,ee,te):Uint8Array.prototype.lastIndexOf.call(Ee,ee,te):Q(Ee,[ee],te,Re,nt);throw new TypeError("val must be string, number or Buffer")}function Q(Ee,ee,te,Re,nt){var Oe=1,K=Ee.length,B=ee.length;if(Re!==void 0&&(Re=String(Re).toLowerCase(),Re==="ucs2"||Re==="ucs-2"||Re==="utf16le"||Re==="utf-16le")){if(Ee.length<2||ee.length<2)return-1;Oe=2,K/=2,B/=2,te/=2}function V(sn,xn){return Oe===1?sn[xn]:sn.readUInt16BE(xn*Oe)}var be;if(nt){var je=-1;for(be=te;be<K;be++)if(V(Ee,be)===V(ee,je===-1?0:be-je)){if(je===-1&&(je=be),be-je+1===B)return je*Oe}else je!==-1&&(be-=be-je),je=-1}else for(te+B>K&&(te=K-B),be=te;be>=0;be--){for(var We=!0,gt=0;gt<B;gt++)if(V(Ee,be+gt)!==V(ee,gt)){We=!1;break}if(We)return be}return-1}h.prototype.includes=function(ee,te,Re){return this.indexOf(ee,te,Re)!==-1},h.prototype.indexOf=function(ee,te,Re){return re(this,ee,te,Re,!0)},h.prototype.lastIndexOf=function(ee,te,Re){return re(this,ee,te,Re,!1)};function ce(Ee,ee,te,Re){te=Number(te)||0;var nt=Ee.length-te;Re?(Re=Number(Re),Re>nt&&(Re=nt)):Re=nt;var Oe=ee.length;if(Oe%2!==0)throw new TypeError("Invalid hex string");Re>Oe/2&&(Re=Oe/2);for(var K=0;K<Re;++K){var B=parseInt(ee.substr(K*2,2),16);if(Dr(B))return K;Ee[te+K]=B}return K}function Ie(Ee,ee,te,Re){return rn(Dt(ee,Ee.length-te),Ee,te,Re)}function qe(Ee,ee,te,Re){return rn(an(ee),Ee,te,Re)}function xe(Ee,ee,te,Re){return qe(Ee,ee,te,Re)}function Ce(Ee,ee,te,Re){return rn(Un(ee),Ee,te,Re)}function ue(Ee,ee,te,Re){return rn(Nt(ee,Ee.length-te),Ee,te,Re)}h.prototype.write=function(ee,te,Re,nt){if(te===void 0)nt="utf8",Re=this.length,te=0;else if(Re===void 0&&typeof te=="string")nt=te,Re=this.length,te=0;else if(isFinite(te))te=te>>>0,isFinite(Re)?(Re=Re>>>0,nt===void 0&&(nt="utf8")):(nt=Re,Re=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Oe=this.length-te;if((Re===void 0||Re>Oe)&&(Re=Oe),ee.length>0&&(Re<0||te<0)||te>this.length)throw new RangeError("Attempt to write outside buffer bounds");nt||(nt="utf8");for(var K=!1;;)switch(nt){case"hex":return ce(this,ee,te,Re);case"utf8":case"utf-8":return Ie(this,ee,te,Re);case"ascii":return qe(this,ee,te,Re);case"latin1":case"binary":return xe(this,ee,te,Re);case"base64":return Ce(this,ee,te,Re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,ee,te,Re);default:if(K)throw new TypeError("Unknown encoding: "+nt);nt=(""+nt).toLowerCase(),K=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ke(Ee,ee,te){return ee===0&&te===Ee.length?s.fromByteArray(Ee):s.fromByteArray(Ee.slice(ee,te))}function Te(Ee,ee,te){te=Math.min(Ee.length,te);for(var Re=[],nt=ee;nt<te;){var Oe=Ee[nt],K=null,B=Oe>239?4:Oe>223?3:Oe>191?2:1;if(nt+B<=te){var V,be,je,We;switch(B){case 1:Oe<128&&(K=Oe);break;case 2:V=Ee[nt+1],(V&192)===128&&(We=(Oe&31)<<6|V&63,We>127&&(K=We));break;case 3:V=Ee[nt+1],be=Ee[nt+2],(V&192)===128&&(be&192)===128&&(We=(Oe&15)<<12|(V&63)<<6|be&63,We>2047&&(We<55296||We>57343)&&(K=We));break;case 4:V=Ee[nt+1],be=Ee[nt+2],je=Ee[nt+3],(V&192)===128&&(be&192)===128&&(je&192)===128&&(We=(Oe&15)<<18|(V&63)<<12|(be&63)<<6|je&63,We>65535&&We<1114112&&(K=We))}}K===null?(K=65533,B=1):K>65535&&(K-=65536,Re.push(K>>>10&1023|55296),K=56320|K&1023),Re.push(K),nt+=B}return j(Re)}var he=4096;function j(Ee){var ee=Ee.length;if(ee<=he)return String.fromCharCode.apply(String,Ee);for(var te="",Re=0;Re<ee;)te+=String.fromCharCode.apply(String,Ee.slice(Re,Re+=he));return te}function pe(Ee,ee,te){var Re="";te=Math.min(Ee.length,te);for(var nt=ee;nt<te;++nt)Re+=String.fromCharCode(Ee[nt]&127);return Re}function Ne(Ee,ee,te){var Re="";te=Math.min(Ee.length,te);for(var nt=ee;nt<te;++nt)Re+=String.fromCharCode(Ee[nt]);return Re}function ae(Ee,ee,te){var Re=Ee.length;(!ee||ee<0)&&(ee=0),(!te||te<0||te>Re)&&(te=Re);for(var nt="",Oe=ee;Oe<te;++Oe)nt+=vt(Ee[Oe]);return nt}function He(Ee,ee,te){for(var Re=Ee.slice(ee,te),nt="",Oe=0;Oe<Re.length;Oe+=2)nt+=String.fromCharCode(Re[Oe]+Re[Oe+1]*256);return nt}h.prototype.slice=function(ee,te){var Re=this.length;ee=~~ee,te=te===void 0?Re:~~te,ee<0?(ee+=Re,ee<0&&(ee=0)):ee>Re&&(ee=Re),te<0?(te+=Re,te<0&&(te=0)):te>Re&&(te=Re),te<ee&&(te=ee);var nt=this.subarray(ee,te);return nt.__proto__=h.prototype,nt};function it(Ee,ee,te){if(Ee%1!==0||Ee<0)throw new RangeError("offset is not uint");if(Ee+ee>te)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUIntLE=function(ee,te,Re){ee=ee>>>0,te=te>>>0,Re||it(ee,te,this.length);for(var nt=this[ee],Oe=1,K=0;++K<te&&(Oe*=256);)nt+=this[ee+K]*Oe;return nt},h.prototype.readUIntBE=function(ee,te,Re){ee=ee>>>0,te=te>>>0,Re||it(ee,te,this.length);for(var nt=this[ee+--te],Oe=1;te>0&&(Oe*=256);)nt+=this[ee+--te]*Oe;return nt},h.prototype.readUInt8=function(ee,te){return ee=ee>>>0,te||it(ee,1,this.length),this[ee]},h.prototype.readUInt16LE=function(ee,te){return ee=ee>>>0,te||it(ee,2,this.length),this[ee]|this[ee+1]<<8},h.prototype.readUInt16BE=function(ee,te){return ee=ee>>>0,te||it(ee,2,this.length),this[ee]<<8|this[ee+1]},h.prototype.readUInt32LE=function(ee,te){return ee=ee>>>0,te||it(ee,4,this.length),(this[ee]|this[ee+1]<<8|this[ee+2]<<16)+this[ee+3]*16777216},h.prototype.readUInt32BE=function(ee,te){return ee=ee>>>0,te||it(ee,4,this.length),this[ee]*16777216+(this[ee+1]<<16|this[ee+2]<<8|this[ee+3])},h.prototype.readIntLE=function(ee,te,Re){ee=ee>>>0,te=te>>>0,Re||it(ee,te,this.length);for(var nt=this[ee],Oe=1,K=0;++K<te&&(Oe*=256);)nt+=this[ee+K]*Oe;return Oe*=128,nt>=Oe&&(nt-=Math.pow(2,8*te)),nt},h.prototype.readIntBE=function(ee,te,Re){ee=ee>>>0,te=te>>>0,Re||it(ee,te,this.length);for(var nt=te,Oe=1,K=this[ee+--nt];nt>0&&(Oe*=256);)K+=this[ee+--nt]*Oe;return Oe*=128,K>=Oe&&(K-=Math.pow(2,8*te)),K},h.prototype.readInt8=function(ee,te){return ee=ee>>>0,te||it(ee,1,this.length),this[ee]&128?(255-this[ee]+1)*-1:this[ee]},h.prototype.readInt16LE=function(ee,te){ee=ee>>>0,te||it(ee,2,this.length);var Re=this[ee]|this[ee+1]<<8;return Re&32768?Re|4294901760:Re},h.prototype.readInt16BE=function(ee,te){ee=ee>>>0,te||it(ee,2,this.length);var Re=this[ee+1]|this[ee]<<8;return Re&32768?Re|4294901760:Re},h.prototype.readInt32LE=function(ee,te){return ee=ee>>>0,te||it(ee,4,this.length),this[ee]|this[ee+1]<<8|this[ee+2]<<16|this[ee+3]<<24},h.prototype.readInt32BE=function(ee,te){return ee=ee>>>0,te||it(ee,4,this.length),this[ee]<<24|this[ee+1]<<16|this[ee+2]<<8|this[ee+3]},h.prototype.readFloatLE=function(ee,te){return ee=ee>>>0,te||it(ee,4,this.length),o.read(this,ee,!0,23,4)},h.prototype.readFloatBE=function(ee,te){return ee=ee>>>0,te||it(ee,4,this.length),o.read(this,ee,!1,23,4)},h.prototype.readDoubleLE=function(ee,te){return ee=ee>>>0,te||it(ee,8,this.length),o.read(this,ee,!0,52,8)},h.prototype.readDoubleBE=function(ee,te){return ee=ee>>>0,te||it(ee,8,this.length),o.read(this,ee,!1,52,8)};function Xe(Ee,ee,te,Re,nt,Oe){if(!h.isBuffer(Ee))throw new TypeError('"buffer" argument must be a Buffer instance');if(ee>nt||ee<Oe)throw new RangeError('"value" argument is out of bounds');if(te+Re>Ee.length)throw new RangeError("Index out of range")}h.prototype.writeUIntLE=function(ee,te,Re,nt){if(ee=+ee,te=te>>>0,Re=Re>>>0,!nt){var Oe=Math.pow(2,8*Re)-1;Xe(this,ee,te,Re,Oe,0)}var K=1,B=0;for(this[te]=ee&255;++B<Re&&(K*=256);)this[te+B]=ee/K&255;return te+Re},h.prototype.writeUIntBE=function(ee,te,Re,nt){if(ee=+ee,te=te>>>0,Re=Re>>>0,!nt){var Oe=Math.pow(2,8*Re)-1;Xe(this,ee,te,Re,Oe,0)}var K=Re-1,B=1;for(this[te+K]=ee&255;--K>=0&&(B*=256);)this[te+K]=ee/B&255;return te+Re},h.prototype.writeUInt8=function(ee,te,Re){return ee=+ee,te=te>>>0,Re||Xe(this,ee,te,1,255,0),this[te]=ee&255,te+1},h.prototype.writeUInt16LE=function(ee,te,Re){return ee=+ee,te=te>>>0,Re||Xe(this,ee,te,2,65535,0),this[te]=ee&255,this[te+1]=ee>>>8,te+2},h.prototype.writeUInt16BE=function(ee,te,Re){return ee=+ee,te=te>>>0,Re||Xe(this,ee,te,2,65535,0),this[te]=ee>>>8,this[te+1]=ee&255,te+2},h.prototype.writeUInt32LE=function(ee,te,Re){return ee=+ee,te=te>>>0,Re||Xe(this,ee,te,4,4294967295,0),this[te+3]=ee>>>24,this[te+2]=ee>>>16,this[te+1]=ee>>>8,this[te]=ee&255,te+4},h.prototype.writeUInt32BE=function(ee,te,Re){return ee=+ee,te=te>>>0,Re||Xe(this,ee,te,4,4294967295,0),this[te]=ee>>>24,this[te+1]=ee>>>16,this[te+2]=ee>>>8,this[te+3]=ee&255,te+4},h.prototype.writeIntLE=function(ee,te,Re,nt){if(ee=+ee,te=te>>>0,!nt){var Oe=Math.pow(2,8*Re-1);Xe(this,ee,te,Re,Oe-1,-Oe)}var K=0,B=1,V=0;for(this[te]=ee&255;++K<Re&&(B*=256);)ee<0&&V===0&&this[te+K-1]!==0&&(V=1),this[te+K]=(ee/B>>0)-V&255;return te+Re},h.prototype.writeIntBE=function(ee,te,Re,nt){if(ee=+ee,te=te>>>0,!nt){var Oe=Math.pow(2,8*Re-1);Xe(this,ee,te,Re,Oe-1,-Oe)}var K=Re-1,B=1,V=0;for(this[te+K]=ee&255;--K>=0&&(B*=256);)ee<0&&V===0&&this[te+K+1]!==0&&(V=1),this[te+K]=(ee/B>>0)-V&255;return te+Re},h.prototype.writeInt8=function(ee,te,Re){return ee=+ee,te=te>>>0,Re||Xe(this,ee,te,1,127,-128),ee<0&&(ee=255+ee+1),this[te]=ee&255,te+1},h.prototype.writeInt16LE=function(ee,te,Re){return ee=+ee,te=te>>>0,Re||Xe(this,ee,te,2,32767,-32768),this[te]=ee&255,this[te+1]=ee>>>8,te+2},h.prototype.writeInt16BE=function(ee,te,Re){return ee=+ee,te=te>>>0,Re||Xe(this,ee,te,2,32767,-32768),this[te]=ee>>>8,this[te+1]=ee&255,te+2},h.prototype.writeInt32LE=function(ee,te,Re){return ee=+ee,te=te>>>0,Re||Xe(this,ee,te,4,2147483647,-2147483648),this[te]=ee&255,this[te+1]=ee>>>8,this[te+2]=ee>>>16,this[te+3]=ee>>>24,te+4},h.prototype.writeInt32BE=function(ee,te,Re){return ee=+ee,te=te>>>0,Re||Xe(this,ee,te,4,2147483647,-2147483648),ee<0&&(ee=4294967295+ee+1),this[te]=ee>>>24,this[te+1]=ee>>>16,this[te+2]=ee>>>8,this[te+3]=ee&255,te+4};function Ke(Ee,ee,te,Re,nt,Oe){if(te+Re>Ee.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("Index out of range")}function ct(Ee,ee,te,Re,nt){return ee=+ee,te=te>>>0,nt||Ke(Ee,ee,te,4),o.write(Ee,ee,te,Re,23,4),te+4}h.prototype.writeFloatLE=function(ee,te,Re){return ct(this,ee,te,!0,Re)},h.prototype.writeFloatBE=function(ee,te,Re){return ct(this,ee,te,!1,Re)};function de(Ee,ee,te,Re,nt){return ee=+ee,te=te>>>0,nt||Ke(Ee,ee,te,8),o.write(Ee,ee,te,Re,52,8),te+8}h.prototype.writeDoubleLE=function(ee,te,Re){return de(this,ee,te,!0,Re)},h.prototype.writeDoubleBE=function(ee,te,Re){return de(this,ee,te,!1,Re)},h.prototype.copy=function(ee,te,Re,nt){if(Re||(Re=0),!nt&&nt!==0&&(nt=this.length),te>=ee.length&&(te=ee.length),te||(te=0),nt>0&&nt<Re&&(nt=Re),nt===Re||ee.length===0||this.length===0)return 0;if(te<0)throw new RangeError("targetStart out of bounds");if(Re<0||Re>=this.length)throw new RangeError("sourceStart out of bounds");if(nt<0)throw new RangeError("sourceEnd out of bounds");nt>this.length&&(nt=this.length),ee.length-te<nt-Re&&(nt=ee.length-te+Re);var Oe=nt-Re,K;if(this===ee&&Re<te&&te<nt)for(K=Oe-1;K>=0;--K)ee[K+te]=this[K+Re];else if(Oe<1e3)for(K=0;K<Oe;++K)ee[K+te]=this[K+Re];else Uint8Array.prototype.set.call(ee,this.subarray(Re,Re+Oe),te);return Oe},h.prototype.fill=function(ee,te,Re,nt){if(typeof ee=="string"){if(typeof te=="string"?(nt=te,te=0,Re=this.length):typeof Re=="string"&&(nt=Re,Re=this.length),ee.length===1){var Oe=ee.charCodeAt(0);Oe<256&&(ee=Oe)}if(nt!==void 0&&typeof nt!="string")throw new TypeError("encoding must be a string");if(typeof nt=="string"&&!h.isEncoding(nt))throw new TypeError("Unknown encoding: "+nt)}else typeof ee=="number"&&(ee=ee&255);if(te<0||this.length<te||this.length<Re)throw new RangeError("Out of range index");if(Re<=te)return this;te=te>>>0,Re=Re===void 0?this.length:Re>>>0,ee||(ee=0);var K;if(typeof ee=="number")for(K=te;K<Re;++K)this[K]=ee;else{var B=h.isBuffer(ee)?ee:new h(ee,nt),V=B.length;for(K=0;K<Re-te;++K)this[K+te]=B[K%V]}return this};var Se=/[^+/0-9A-Za-z-_]/g;function ht(Ee){if(Ee=Ee.trim().replace(Se,""),Ee.length<2)return"";for(;Ee.length%4!==0;)Ee=Ee+"=";return Ee}function vt(Ee){return Ee<16?"0"+Ee.toString(16):Ee.toString(16)}function Dt(Ee,ee){ee=ee||1/0;for(var te,Re=Ee.length,nt=null,Oe=[],K=0;K<Re;++K){if(te=Ee.charCodeAt(K),te>55295&&te<57344){if(!nt){if(te>56319){(ee-=3)>-1&&Oe.push(239,191,189);continue}else if(K+1===Re){(ee-=3)>-1&&Oe.push(239,191,189);continue}nt=te;continue}if(te<56320){(ee-=3)>-1&&Oe.push(239,191,189),nt=te;continue}te=(nt-55296<<10|te-56320)+65536}else nt&&(ee-=3)>-1&&Oe.push(239,191,189);if(nt=null,te<128){if((ee-=1)<0)break;Oe.push(te)}else if(te<2048){if((ee-=2)<0)break;Oe.push(te>>6|192,te&63|128)}else if(te<65536){if((ee-=3)<0)break;Oe.push(te>>12|224,te>>6&63|128,te&63|128)}else if(te<1114112){if((ee-=4)<0)break;Oe.push(te>>18|240,te>>12&63|128,te>>6&63|128,te&63|128)}else throw new Error("Invalid code point")}return Oe}function an(Ee){for(var ee=[],te=0;te<Ee.length;++te)ee.push(Ee.charCodeAt(te)&255);return ee}function Nt(Ee,ee){for(var te,Re,nt,Oe=[],K=0;K<Ee.length&&!((ee-=2)<0);++K)te=Ee.charCodeAt(K),Re=te>>8,nt=te%256,Oe.push(nt),Oe.push(Re);return Oe}function Un(Ee){return s.toByteArray(ht(Ee))}function rn(Ee,ee,te,Re){for(var nt=0;nt<Re&&!(nt+te>=ee.length||nt>=Ee.length);++nt)ee[nt+te]=Ee[nt];return nt}function tr(Ee){return Ee instanceof ArrayBuffer||Ee!=null&&Ee.constructor!=null&&Ee.constructor.name==="ArrayBuffer"&&typeof Ee.byteLength=="number"}function nr(Ee){return typeof ArrayBuffer.isView=="function"&&ArrayBuffer.isView(Ee)}function Dr(Ee){return Ee!==Ee}}).call(r,i(1))},function(n,r){r.byteLength=h,r.toByteArray=p,r.fromByteArray=w;for(var i=[],a=[],s=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,u=o.length;l<u;++l)i[l]=o[l],a[o.charCodeAt(l)]=l;a[45]=62,a[95]=63;function d(k){var T=k.length;if(T%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return k[T-2]==="="?2:k[T-1]==="="?1:0}function h(k){return k.length*3/4-d(k)}function p(k){var T,C,N,F,D,U,G=k.length;D=d(k),U=new s(G*3/4-D),N=D>0?G-4:G;var se=0;for(T=0,C=0;T<N;T+=4,C+=3)F=a[k.charCodeAt(T)]<<18|a[k.charCodeAt(T+1)]<<12|a[k.charCodeAt(T+2)]<<6|a[k.charCodeAt(T+3)],U[se++]=F>>16&255,U[se++]=F>>8&255,U[se++]=F&255;return D===2?(F=a[k.charCodeAt(T)]<<2|a[k.charCodeAt(T+1)]>>4,U[se++]=F&255):D===1&&(F=a[k.charCodeAt(T)]<<10|a[k.charCodeAt(T+1)]<<4|a[k.charCodeAt(T+2)]>>2,U[se++]=F>>8&255,U[se++]=F&255),U}function m(k){return i[k>>18&63]+i[k>>12&63]+i[k>>6&63]+i[k&63]}function v(k,T,C){for(var N,F=[],D=T;D<C;D+=3)N=(k[D]<<16)+(k[D+1]<<8)+k[D+2],F.push(m(N));return F.join("")}function w(k){for(var T,C=k.length,N=C%3,F="",D=[],U=16383,G=0,se=C-N;G<se;G+=U)D.push(v(k,G,G+U>se?se:G+U));return N===1?(T=k[C-1],F+=i[T>>2],F+=i[T<<4&63],F+="=="):N===2&&(T=(k[C-2]<<8)+k[C-1],F+=i[T>>10],F+=i[T>>4&63],F+=i[T<<2&63],F+="="),D.push(F),D.join("")}},function(n,r){r.read=function(i,a,s,o,l){var u,d,h=l*8-o-1,p=(1<<h)-1,m=p>>1,v=-7,w=s?l-1:0,k=s?-1:1,T=i[a+w];for(w+=k,u=T&(1<<-v)-1,T>>=-v,v+=h;v>0;u=u*256+i[a+w],w+=k,v-=8);for(d=u&(1<<-v)-1,u>>=-v,v+=o;v>0;d=d*256+i[a+w],w+=k,v-=8);if(u===0)u=1-m;else{if(u===p)return d?NaN:(T?-1:1)*(1/0);d=d+Math.pow(2,o),u=u-m}return(T?-1:1)*d*Math.pow(2,u-o)},r.write=function(i,a,s,o,l,u){var d,h,p,m=u*8-l-1,v=(1<<m)-1,w=v>>1,k=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=o?0:u-1,C=o?1:-1,N=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(h=isNaN(a)?1:0,d=v):(d=Math.floor(Math.log(a)/Math.LN2),a*(p=Math.pow(2,-d))<1&&(d--,p*=2),d+w>=1?a+=k/p:a+=k*Math.pow(2,1-w),a*p>=2&&(d++,p/=2),d+w>=v?(h=0,d=v):d+w>=1?(h=(a*p-1)*Math.pow(2,l),d=d+w):(h=a*Math.pow(2,w-1)*Math.pow(2,l),d=0));l>=8;i[s+T]=h&255,T+=C,h/=256,l-=8);for(d=d<<l|h,m+=l;m>0;i[s+T]=d&255,T+=C,d/=256,m-=8);i[s+T-C]|=N*128}},function(n,r){n.exports=function(i){return i.webpackPolyfill||(i.deprecate=function(){},i.paths=[],i.children=[],i.webpackPolyfill=1),i}},function(n,r,i){var a=i(7),s=new a,o={};function l(d){o[d]||(typeof s[d]=="function"?o[d]=function(){return s[d].apply(s,arguments)}:o[d]=s[d])}for(var u in s)l(u);o.initializeTTYs=function(){s.stdin===null&&(s.initializeTTYs(),o.stdin=s.stdin,o.stdout=s.stdout,o.stderr=s.stderr)},s.nextTick(function(){o.initializeTTYs()}),n.exports=o},function(n,r,i){(function(a){var s=this&&this.__extends||function(p,m){for(var v in m)m.hasOwnProperty(v)&&(p[v]=m[v]);function w(){this.constructor=p}p.prototype=m===null?Object.create(m):(w.prototype=m.prototype,new w)},o=i(8),l=null,u=function(){function p(m,v){this.fun=m,this.array=v}return p.prototype.run=function(){this.fun.apply(null,this.array)},p}(),d=function(){function p(){this._queue=[],this._draining=!1,this._currentQueue=null,this._queueIndex=-1}return p.prototype.push=function(m){var v=this;this._queue.push(m)===1&&!this._draining&&setTimeout(function(){return v._drainQueue()},0)},p.prototype._cleanUpNextTick=function(){this._draining=!1,this._currentQueue&&this._currentQueue.length?this._queue=this._currentQueue.concat(this._queue):this._queueIndex=-1,this._queue.length&&this._drainQueue()},p.prototype._drainQueue=function(){var m=this;if(!this._draining){var v=setTimeout(function(){return m._cleanUpNextTick()});this._draining=!0;for(var w=this._queue.length;w;){for(this._currentQueue=this._queue,this._queue=[];++this._queueIndex<w;)this._currentQueue&&this._currentQueue[this._queueIndex].run();this._queueIndex=-1,w=this._queue.length}this._currentQueue=null,this._draining=!1,clearTimeout(v)}},p}(),h=function(p){s(m,p);function m(){p.apply(this,arguments),this.startTime=Date.now(),this._cwd="/",this.platform="browser",this.argv=[],this.execArgv=[],this.stdout=null,this.stderr=null,this.stdin=null,this.domain=null,this._queue=new d,this.execPath=a,this.env={},this.exitCode=0,this._gid=1,this._uid=1,this.version="v5.0",this.versions={http_parser:"0.0",node:"5.0",v8:"0.0",uv:"0.0",zlib:"0.0",ares:"0.0",icu:"0.0",modules:"0",openssl:"0.0"},this.config={target_defaults:{cflags:[],default_configuration:"Release",defines:[],include_dirs:[],libraries:[]},variables:{clang:0,host_arch:"x32",node_install_npm:!1,node_install_waf:!1,node_prefix:"",node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_zlib:!1,node_shared_v8:!1,node_use_dtrace:!1,node_use_etw:!1,node_use_openssl:!1,node_shared_openssl:!1,strict_aliasing:!1,target_arch:"x32",v8_use_snapshot:!1,v8_no_strict_aliasing:0,visibility:""}},this.pid=Math.random()*1e3|0,this.title="node",this.arch="x32",this._mask=18,this.connected=void 0}return m.prototype.chdir=function(v){l===null&&(l=i(9)),this._cwd=l.resolve(v)},m.prototype.cwd=function(){return this._cwd},m.prototype.uptime=function(){return(Date.now()-this.startTime)/1e3|0},m.prototype.nextTick=function(v){for(var w=[],k=1;k<arguments.length;k++)w[k-1]=arguments[k];this._queue.push(new u(v,w))},m.prototype.abort=function(){this.emit("abort")},m.prototype.exit=function(v){this.exitCode=v,this.emit("exit",[v])},m.prototype.getgid=function(){return this._gid},m.prototype.setgid=function(v){typeof v=="number"?this._gid=v:this._gid=1},m.prototype.getuid=function(){return this._uid},m.prototype.setuid=function(v){typeof v=="number"?this._uid=v:this._uid=1},m.prototype.kill=function(v,w){this.emit("kill",[v,w])},m.prototype.memoryUsage=function(){return{rss:0,heapTotal:0,heapUsed:0}},m.prototype.umask=function(v){v===void 0&&(v=this._mask);var w=this._mask;return this._mask=v,this.emit("umask",[v]),w},m.prototype.hrtime=function(){var v;typeof performance<"u"?v=performance.now():Date.now?v=Date.now():v=new Date().getTime();var w=v/1e3|0;return v-=w*1e3,v=v*1e6|0,[w,v]},m.prototype.initializeTTYs=function(){if(this.stdout===null){var v=i(10);this.stdout=new v,this.stderr=new v,this.stdin=new v}},m.prototype.disconnect=function(){},m}(o.EventEmitter);n.exports=h}).call(r,"/")},function(n,r){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}n.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(u){if(!s(u)||u<0||isNaN(u))throw TypeError("n must be a positive number");return this._maxListeners=u,this},i.prototype.emit=function(u){var d,h,p,m,v,w;if(this._events||(this._events={}),u==="error"&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(d=arguments[1],d instanceof Error)throw d;var k=new Error('Uncaught, unspecified "error" event. ('+d+")");throw k.context=d,k}if(h=this._events[u],l(h))return!1;if(a(h))switch(arguments.length){case 1:h.call(this);break;case 2:h.call(this,arguments[1]);break;case 3:h.call(this,arguments[1],arguments[2]);break;default:m=Array.prototype.slice.call(arguments,1),h.apply(this,m)}else if(o(h))for(m=Array.prototype.slice.call(arguments,1),w=h.slice(),p=w.length,v=0;v<p;v++)w[v].apply(this,m);return!0},i.prototype.addListener=function(u,d){var h;if(!a(d))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",u,a(d.listener)?d.listener:d),this._events[u]?o(this._events[u])?this._events[u].push(d):this._events[u]=[this._events[u],d]:this._events[u]=d,o(this._events[u])&&!this._events[u].warned&&(l(this._maxListeners)?h=i.defaultMaxListeners:h=this._maxListeners,h&&h>0&&this._events[u].length>h&&(this._events[u].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[u].length),typeof console.trace=="function"&&console.trace())),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(u,d){if(!a(d))throw TypeError("listener must be a function");var h=!1;function p(){this.removeListener(u,p),h||(h=!0,d.apply(this,arguments))}return p.listener=d,this.on(u,p),this},i.prototype.removeListener=function(u,d){var h,p,m,v;if(!a(d))throw TypeError("listener must be a function");if(!this._events||!this._events[u])return this;if(h=this._events[u],m=h.length,p=-1,h===d||a(h.listener)&&h.listener===d)delete this._events[u],this._events.removeListener&&this.emit("removeListener",u,d);else if(o(h)){for(v=m;v-- >0;)if(h[v]===d||h[v].listener&&h[v].listener===d){p=v;break}if(p<0)return this;h.length===1?(h.length=0,delete this._events[u]):h.splice(p,1),this._events.removeListener&&this.emit("removeListener",u,d)}return this},i.prototype.removeAllListeners=function(u){var d,h;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[u]&&delete this._events[u],this;if(arguments.length===0){for(d in this._events)d!=="removeListener"&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events={},this}if(h=this._events[u],a(h))this.removeListener(u,h);else if(h)for(;h.length;)this.removeListener(u,h[h.length-1]);return delete this._events[u],this},i.prototype.listeners=function(u){var d;return!this._events||!this._events[u]?d=[]:a(this._events[u])?d=[this._events[u]]:d=this._events[u].slice(),d},i.prototype.listenerCount=function(u){if(this._events){var d=this._events[u];if(a(d))return 1;if(d)return d.length}return 0},i.listenerCount=function(u,d){return u.listenerCount(d)};function a(u){return typeof u=="function"}function s(u){return typeof u=="number"}function o(u){return typeof u=="object"&&u!==null}function l(u){return u===void 0}},function(n,r,i){(function(a){var s=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function o(u){var d=s.exec(u);return d.shift(),d}var l=function(){function u(){}return u.normalize=function(d){d===""&&(d=".");var h=d.charAt(0)===u.sep;d=u._removeDuplicateSeps(d);for(var p=d.split(u.sep),m=[],v=0;v<p.length;v++){var w=p[v];w!=="."&&(w===".."&&(h||!h&&m.length>0&&m[0]!=="..")?m.pop():m.push(w))}if(!h&&m.length<2)switch(m.length){case 1:m[0]===""&&m.unshift(".");break;default:m.push(".")}return d=m.join(u.sep),h&&d.charAt(0)!==u.sep&&(d=u.sep+d),d},u.join=function(){for(var d=[],h=0;h<arguments.length;h++)d[h-0]=arguments[h];for(var p=[],m=0;m<d.length;m++){var v=d[m];if(typeof v!="string")throw new TypeError("Invalid argument type to path.join: "+typeof v);v!==""&&p.push(v)}return u.normalize(p.join(u.sep))},u.resolve=function(){for(var d=[],h=0;h<arguments.length;h++)d[h-0]=arguments[h];for(var p=[],m=0;m<d.length;m++){var v=d[m];if(typeof v!="string")throw new TypeError("Invalid argument type to path.join: "+typeof v);v!==""&&(v.charAt(0)===u.sep&&(p=[]),p.push(v))}var w=u.normalize(p.join(u.sep));if(w.length>1&&w.charAt(w.length-1)===u.sep)return w.substr(0,w.length-1);if(w.charAt(0)!==u.sep){w.charAt(0)==="."&&(w.length===1||w.charAt(1)===u.sep)&&(w=w.length===1?"":w.substr(2));var k=a.cwd();w!==""?w=this.normalize(k+(k!=="/"?u.sep:"")+w):w=k}return w},u.relative=function(d,h){var p;d=u.resolve(d),h=u.resolve(h);var m=d.split(u.sep),v=h.split(u.sep);v.shift(),m.shift();var w=0,k=[];for(p=0;p<m.length;p++){var T=m[p];if(T!==v[p]){w=m.length-p;break}}k=v.slice(p),m.length===1&&m[0]===""&&(w=0),w>m.length&&(w=m.length);var C="";for(p=0;p<w;p++)C+="../";return C+=k.join(u.sep),C.length>1&&C.charAt(C.length-1)===u.sep&&(C=C.substr(0,C.length-1)),C},u.dirname=function(d){d=u._removeDuplicateSeps(d);var h=d.charAt(0)===u.sep,p=d.split(u.sep);return p.pop()===""&&p.length>0&&p.pop(),p.length>1||p.length===1&&!h?p.join(u.sep):h?u.sep:"."},u.basename=function(d,h){if(h===void 0&&(h=""),d==="")return d;d=u.normalize(d);var p=d.split(u.sep),m=p[p.length-1];if(m===""&&p.length>1)return p[p.length-2];if(h.length>0){var v=m.substr(m.length-h.length);if(v===h)return m.substr(0,m.length-h.length)}return m},u.extname=function(d){d=u.normalize(d);var h=d.split(u.sep);if(d=h.pop(),d===""&&h.length>0&&(d=h.pop()),d==="..")return"";var p=d.lastIndexOf(".");return p===-1||p===0?"":d.substr(p)},u.isAbsolute=function(d){return d.length>0&&d.charAt(0)===u.sep},u._makeLong=function(d){return d},u.parse=function(d){var h=o(d);return{root:h[0],dir:h[0]+h[1].slice(0,-1),base:h[2],ext:h[3],name:h[2].slice(0,h[2].length-h[3].length)}},u.format=function(d){if(d===null||typeof d!="object")throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof d);var h=d.root||"";if(typeof h!="string")throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof d.root);var p=d.dir?d.dir+u.sep:"",m=d.base||"";return p+m},u._removeDuplicateSeps=function(d){return d=d.replace(this._replaceRegex,this.sep),d},u.sep="/",u._replaceRegex=new RegExp("//+","g"),u.delimiter=":",u.posix=u,u.win32=u,u}();n.exports=l}).call(r,i(6))},function(n,r,i){(function(a){var s=this&&this.__extends||function(u,d){for(var h in d)d.hasOwnProperty(h)&&(u[h]=d[h]);function p(){this.constructor=u}u.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)},o=i(11),l=function(u){s(d,u);function d(){u.call(this),this.isRaw=!1,this.columns=80,this.rows=120,this.isTTY=!0,this._bufferedWrites=[],this._waitingForWrites=!1}return d.prototype.setRawMode=function(h){this.isRaw!==h&&(this.isRaw=h,this.emit("modeChange"))},d.prototype.changeColumns=function(h){h!==this.columns&&(this.columns=h,this.emit("resize"))},d.prototype.changeRows=function(h){h!==this.rows&&(this.rows=h,this.emit("resize"))},d.isatty=function(h){return h&&h instanceof d},d.prototype._write=function(h,p,m){var v;try{var w;typeof h=="string"?w=new a(h,p):w=h,this._bufferedWrites.push(w),this._waitingForWrites&&this._read(1024)}catch(k){v=k}finally{m(v)}},d.prototype._read=function(h){if(this._bufferedWrites.length===0)this._waitingForWrites=!0;else for(;this._bufferedWrites.length>0&&(this._waitingForWrites=this.push(this._bufferedWrites.shift()),!!this._waitingForWrites););},d}(o.Duplex);n.exports=l}).call(r,i(1))},function(n,r,i){n.exports=o;var a=i(8).EventEmitter,s=i(12);s(o,a),o.Readable=i(13),o.Writable=i(27),o.Duplex=i(28),o.Transform=i(29),o.PassThrough=i(30),o.Stream=o;function o(){a.call(this)}o.prototype.pipe=function(l,u){var d=this;function h(C){l.writable&&l.write(C)===!1&&d.pause&&d.pause()}d.on("data",h);function p(){d.readable&&d.resume&&d.resume()}l.on("drain",p),!l._isStdio&&(!u||u.end!==!1)&&(d.on("end",v),d.on("close",w));var m=!1;function v(){m||(m=!0,l.end())}function w(){m||(m=!0,typeof l.destroy=="function"&&l.destroy())}function k(C){if(T(),a.listenerCount(this,"error")===0)throw C}d.on("error",k),l.on("error",k);function T(){d.removeListener("data",h),l.removeListener("drain",p),d.removeListener("end",v),d.removeListener("close",w),d.removeListener("error",k),l.removeListener("error",k),d.removeListener("end",T),d.removeListener("close",T),l.removeListener("close",T)}return d.on("end",T),d.on("close",T),l.on("close",T),l.emit("pipe",d),l}},function(n,r){typeof Object.create=="function"?n.exports=function(a,s){a.super_=s,a.prototype=Object.create(s.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(a,s){a.super_=s;var o=function(){};o.prototype=s.prototype,a.prototype=new o,a.prototype.constructor=a}},function(n,r,i){(function(a){var s=function(){try{return i(11)}catch{}}();r=n.exports=i(14),r.Stream=s||r,r.Readable=r,r.Writable=i(22),r.Duplex=i(21),r.Transform=i(25),r.PassThrough=i(26),!a.browser&&a.env.READABLE_STREAM==="disable"&&s&&(n.exports=s)}).call(r,i(6))},function(n,r,i){(function(a){n.exports=F;var s=i(15),o=i(16),l;F.ReadableState=N,i(8).EventEmitter;var u=function(de,Se){return de.listeners(Se).length},d;(function(){try{d=i(11)}catch{}finally{d||(d=i(8).EventEmitter)}})();var h=i(2).Buffer,p=i(17),m=i(18);m.inherits=i(12);var v=i(19),w=void 0;v&&v.debuglog?w=v.debuglog("stream"):w=function(){};var k=i(20),T;m.inherits(F,d);function C(de,Se,ht){if(typeof de.prependListener=="function")return de.prependListener(Se,ht);!de._events||!de._events[Se]?de.on(Se,ht):o(de._events[Se])?de._events[Se].unshift(ht):de._events[Se]=[ht,de._events[Se]]}function N(de,Se){l=l||i(21),de=de||{},this.objectMode=!!de.objectMode,Se instanceof l&&(this.objectMode=this.objectMode||!!de.readableObjectMode);var ht=de.highWaterMark,vt=this.objectMode?16:16*1024;this.highWaterMark=ht||ht===0?ht:vt,this.highWaterMark=~~this.highWaterMark,this.buffer=new k,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=de.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,de.encoding&&(T||(T=i(24).StringDecoder),this.decoder=new T(de.encoding),this.encoding=de.encoding)}function F(de){if(l=l||i(21),!(this instanceof F))return new F(de);this._readableState=new N(de,this),this.readable=!0,de&&typeof de.read=="function"&&(this._read=de.read),d.call(this)}F.prototype.push=function(de,Se){var ht=this._readableState;return!ht.objectMode&&typeof de=="string"&&(Se=Se||ht.defaultEncoding,Se!==ht.encoding&&(de=p.from(de,Se),Se="")),D(this,ht,de,Se,!1)},F.prototype.unshift=function(de){var Se=this._readableState;return D(this,Se,de,"",!0)},F.prototype.isPaused=function(){return this._readableState.flowing===!1};function D(de,Se,ht,vt,Dt){var an=Q(Se,ht);if(an)de.emit("error",an);else if(ht===null)Se.reading=!1,ce(de,Se);else if(Se.objectMode||ht&&ht.length>0)if(Se.ended&&!Dt){var Nt=new Error("stream.push() after EOF");de.emit("error",Nt)}else if(Se.endEmitted&&Dt){var Un=new Error("stream.unshift() after end event");de.emit("error",Un)}else{var rn;Se.decoder&&!Dt&&!vt&&(ht=Se.decoder.write(ht),rn=!Se.objectMode&&ht.length===0),Dt||(Se.reading=!1),rn||(Se.flowing&&Se.length===0&&!Se.sync?(de.emit("data",ht),de.read(0)):(Se.length+=Se.objectMode?1:ht.length,Dt?Se.buffer.unshift(ht):Se.buffer.push(ht),Se.needReadable&&Ie(de))),xe(de,Se)}else Dt||(Se.reading=!1);return U(Se)}function U(de){return!de.ended&&(de.needReadable||de.length<de.highWaterMark||de.length===0)}F.prototype.setEncoding=function(de){return T||(T=i(24).StringDecoder),this._readableState.decoder=new T(de),this._readableState.encoding=de,this};var G=8388608;function se(de){return de>=G?de=G:(de--,de|=de>>>1,de|=de>>>2,de|=de>>>4,de|=de>>>8,de|=de>>>16,de++),de}function re(de,Se){return de<=0||Se.length===0&&Se.ended?0:Se.objectMode?1:de!==de?Se.flowing&&Se.length?Se.buffer.head.data.length:Se.length:(de>Se.highWaterMark&&(Se.highWaterMark=se(de)),de<=Se.length?de:Se.ended?Se.length:(Se.needReadable=!0,0))}F.prototype.read=function(de){w("read",de),de=parseInt(de,10);var Se=this._readableState,ht=de;if(de!==0&&(Se.emittedReadable=!1),de===0&&Se.needReadable&&(Se.length>=Se.highWaterMark||Se.ended))return w("read: emitReadable",Se.length,Se.ended),Se.length===0&&Se.ended?it(this):Ie(this),null;if(de=re(de,Se),de===0&&Se.ended)return Se.length===0&&it(this),null;var vt=Se.needReadable;w("need readable",vt),(Se.length===0||Se.length-de<Se.highWaterMark)&&(vt=!0,w("length less than watermark",vt)),Se.ended||Se.reading?(vt=!1,w("reading or ended",vt)):vt&&(w("do read"),Se.reading=!0,Se.sync=!0,Se.length===0&&(Se.needReadable=!0),this._read(Se.highWaterMark),Se.sync=!1,Se.reading||(de=re(ht,Se)));var Dt;return de>0?Dt=pe(de,Se):Dt=null,Dt===null?(Se.needReadable=!0,de=0):Se.length-=de,Se.length===0&&(Se.ended||(Se.needReadable=!0),ht!==de&&Se.ended&&it(this)),Dt!==null&&this.emit("data",Dt),Dt};function Q(de,Se){var ht=null;return!h.isBuffer(Se)&&typeof Se!="string"&&Se!==null&&Se!==void 0&&!de.objectMode&&(ht=new TypeError("Invalid non-string/buffer chunk")),ht}function ce(de,Se){if(!Se.ended){if(Se.decoder){var ht=Se.decoder.end();ht&&ht.length&&(Se.buffer.push(ht),Se.length+=Se.objectMode?1:ht.length)}Se.ended=!0,Ie(de)}}function Ie(de){var Se=de._readableState;Se.needReadable=!1,Se.emittedReadable||(w("emitReadable",Se.flowing),Se.emittedReadable=!0,Se.sync?s(qe,de):qe(de))}function qe(de){w("emit readable"),de.emit("readable"),j(de)}function xe(de,Se){Se.readingMore||(Se.readingMore=!0,s(Ce,de,Se))}function Ce(de,Se){for(var ht=Se.length;!Se.reading&&!Se.flowing&&!Se.ended&&Se.length<Se.highWaterMark&&(w("maybeReadMore read 0"),de.read(0),ht!==Se.length);)ht=Se.length;Se.readingMore=!1}F.prototype._read=function(de){this.emit("error",new Error("_read() is not implemented"))},F.prototype.pipe=function(de,Se){var ht=this,vt=this._readableState;switch(vt.pipesCount){case 0:vt.pipes=de;break;case 1:vt.pipes=[vt.pipes,de];break;default:vt.pipes.push(de);break}vt.pipesCount+=1,w("pipe count=%d opts=%j",vt.pipesCount,Se);var Dt=(!Se||Se.end!==!1)&&de!==a.stdout&&de!==a.stderr,an=Dt?Un:nr;vt.endEmitted?s(an):ht.once("end",an),de.on("unpipe",Nt);function Nt(Oe){w("onunpipe"),Oe===ht&&nr()}function Un(){w("onend"),de.end()}var rn=ue(ht);de.on("drain",rn);var tr=!1;function nr(){w("cleanup"),de.removeListener("close",te),de.removeListener("finish",Re),de.removeListener("drain",rn),de.removeListener("error",ee),de.removeListener("unpipe",Nt),ht.removeListener("end",Un),ht.removeListener("end",nr),ht.removeListener("data",Ee),tr=!0,vt.awaitDrain&&(!de._writableState||de._writableState.needDrain)&&rn()}var Dr=!1;ht.on("data",Ee);function Ee(Oe){w("ondata"),Dr=!1;var K=de.write(Oe);K===!1&&!Dr&&((vt.pipesCount===1&&vt.pipes===de||vt.pipesCount>1&&ct(vt.pipes,de)!==-1)&&!tr&&(w("false write response, pause",ht._readableState.awaitDrain),ht._readableState.awaitDrain++,Dr=!0),ht.pause())}function ee(Oe){w("onerror",Oe),nt(),de.removeListener("error",ee),u(de,"error")===0&&de.emit("error",Oe)}C(de,"error",ee);function te(){de.removeListener("finish",Re),nt()}de.once("close",te);function Re(){w("onfinish"),de.removeListener("close",te),nt()}de.once("finish",Re);function nt(){w("unpipe"),ht.unpipe(de)}return de.emit("pipe",ht),vt.flowing||(w("pipe resume"),ht.resume()),de};function ue(de){return function(){var Se=de._readableState;w("pipeOnDrain",Se.awaitDrain),Se.awaitDrain&&Se.awaitDrain--,Se.awaitDrain===0&&u(de,"data")&&(Se.flowing=!0,j(de))}}F.prototype.unpipe=function(de){var Se=this._readableState;if(Se.pipesCount===0)return this;if(Se.pipesCount===1)return de&&de!==Se.pipes?this:(de||(de=Se.pipes),Se.pipes=null,Se.pipesCount=0,Se.flowing=!1,de&&de.emit("unpipe",this),this);if(!de){var ht=Se.pipes,vt=Se.pipesCount;Se.pipes=null,Se.pipesCount=0,Se.flowing=!1;for(var Dt=0;Dt<vt;Dt++)ht[Dt].emit("unpipe",this);return this}var an=ct(Se.pipes,de);return an===-1?this:(Se.pipes.splice(an,1),Se.pipesCount-=1,Se.pipesCount===1&&(Se.pipes=Se.pipes[0]),de.emit("unpipe",this),this)},F.prototype.on=function(de,Se){var ht=d.prototype.on.call(this,de,Se);if(de==="data")this._readableState.flowing!==!1&&this.resume();else if(de==="readable"){var vt=this._readableState;!vt.endEmitted&&!vt.readableListening&&(vt.readableListening=vt.needReadable=!0,vt.emittedReadable=!1,vt.reading?vt.length&&Ie(this):s(ke,this))}return ht},F.prototype.addListener=F.prototype.on;function ke(de){w("readable nexttick read 0"),de.read(0)}F.prototype.resume=function(){var de=this._readableState;return de.flowing||(w("resume"),de.flowing=!0,Te(this,de)),this};function Te(de,Se){Se.resumeScheduled||(Se.resumeScheduled=!0,s(he,de,Se))}function he(de,Se){Se.reading||(w("resume read 0"),de.read(0)),Se.resumeScheduled=!1,Se.awaitDrain=0,de.emit("resume"),j(de),Se.flowing&&!Se.reading&&de.read(0)}F.prototype.pause=function(){return w("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(w("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function j(de){var Se=de._readableState;for(w("flow",Se.flowing);Se.flowing&&de.read()!==null;);}F.prototype.wrap=function(de){var Se=this._readableState,ht=!1,vt=this;de.on("end",function(){if(w("wrapped end"),Se.decoder&&!Se.ended){var Nt=Se.decoder.end();Nt&&Nt.length&&vt.push(Nt)}vt.push(null)}),de.on("data",function(Nt){if(w("wrapped data"),Se.decoder&&(Nt=Se.decoder.write(Nt)),!(Se.objectMode&&Nt==null)&&!(!Se.objectMode&&(!Nt||!Nt.length))){var Un=vt.push(Nt);Un||(ht=!0,de.pause())}});for(var Dt in de)this[Dt]===void 0&&typeof de[Dt]=="function"&&(this[Dt]=function(Nt){return function(){return de[Nt].apply(de,arguments)}}(Dt));var an=["error","close","destroy","pause","resume"];return Ke(an,function(Nt){de.on(Nt,vt.emit.bind(vt,Nt))}),vt._read=function(Nt){w("wrapped _read",Nt),ht&&(ht=!1,de.resume())},vt},F._fromList=pe;function pe(de,Se){if(Se.length===0)return null;var ht;return Se.objectMode?ht=Se.buffer.shift():!de||de>=Se.length?(Se.decoder?ht=Se.buffer.join(""):Se.buffer.length===1?ht=Se.buffer.head.data:ht=Se.buffer.concat(Se.length),Se.buffer.clear()):ht=Ne(de,Se.buffer,Se.decoder),ht}function Ne(de,Se,ht){var vt;return de<Se.head.data.length?(vt=Se.head.data.slice(0,de),Se.head.data=Se.head.data.slice(de)):de===Se.head.data.length?vt=Se.shift():vt=ht?ae(de,Se):He(de,Se),vt}function ae(de,Se){var ht=Se.head,vt=1,Dt=ht.data;for(de-=Dt.length;ht=ht.next;){var an=ht.data,Nt=de>an.length?an.length:de;if(Nt===an.length?Dt+=an:Dt+=an.slice(0,de),de-=Nt,de===0){Nt===an.length?(++vt,ht.next?Se.head=ht.next:Se.head=Se.tail=null):(Se.head=ht,ht.data=an.slice(Nt));break}++vt}return Se.length-=vt,Dt}function He(de,Se){var ht=p.allocUnsafe(de),vt=Se.head,Dt=1;for(vt.data.copy(ht),de-=vt.data.length;vt=vt.next;){var an=vt.data,Nt=de>an.length?an.length:de;if(an.copy(ht,ht.length-de,0,Nt),de-=Nt,de===0){Nt===an.length?(++Dt,vt.next?Se.head=vt.next:Se.head=Se.tail=null):(Se.head=vt,vt.data=an.slice(Nt));break}++Dt}return Se.length-=Dt,ht}function it(de){var Se=de._readableState;if(Se.length>0)throw new Error('"endReadable()" called on non-empty stream');Se.endEmitted||(Se.ended=!0,s(Xe,Se,de))}function Xe(de,Se){!de.endEmitted&&de.length===0&&(de.endEmitted=!0,Se.readable=!1,Se.emit("end"))}function Ke(de,Se){for(var ht=0,vt=de.length;ht<vt;ht++)Se(de[ht],ht)}function ct(de,Se){for(var ht=0,vt=de.length;ht<vt;ht++)if(de[ht]===Se)return ht;return-1}}).call(r,i(6))},function(n,r,i){(function(a){!a.version||a.version.indexOf("v0.")===0||a.version.indexOf("v1.")===0&&a.version.indexOf("v1.8.")!==0?n.exports=s:n.exports=a.nextTick;function s(o,l,u,d){if(typeof o!="function")throw new TypeError('"callback" argument must be a function');var h=arguments.length,p,m;switch(h){case 0:case 1:return a.nextTick(o);case 2:return a.nextTick(function(){o.call(null,l)});case 3:return a.nextTick(function(){o.call(null,l,u)});case 4:return a.nextTick(function(){o.call(null,l,u,d)});default:for(p=new Array(h-1),m=0;m<p.length;)p[m++]=arguments[m];return a.nextTick(function(){o.apply(null,p)})}}}).call(r,i(6))},function(n,r){var i={}.toString;n.exports=Array.isArray||function(a){return i.call(a)=="[object Array]"}},function(n,r,i){(function(a){var s=i(2),o=s.Buffer,l=s.SlowBuffer,u=s.kMaxLength||2147483647;r.alloc=function(h,p,m){if(typeof o.alloc=="function")return o.alloc(h,p,m);if(typeof m=="number")throw new TypeError("encoding must not be number");if(typeof h!="number")throw new TypeError("size must be a number");if(h>u)throw new RangeError("size is too large");var v=m,w=p;w===void 0&&(v=void 0,w=0);var k=new o(h);if(typeof w=="string")for(var T=new o(w,v),C=T.length,N=-1;++N<h;)k[N]=T[N%C];else k.fill(w);return k},r.allocUnsafe=function(h){if(typeof o.allocUnsafe=="function")return o.allocUnsafe(h);if(typeof h!="number")throw new TypeError("size must be a number");if(h>u)throw new RangeError("size is too large");return new o(h)},r.from=function(h,p,m){if(typeof o.from=="function"&&(!a.Uint8Array||Uint8Array.from!==o.from))return o.from(h,p,m);if(typeof h=="number")throw new TypeError('"value" argument must not be a number');if(typeof h=="string")return new o(h,p);if(typeof ArrayBuffer<"u"&&h instanceof ArrayBuffer){var v=p;if(arguments.length===1)return new o(h);typeof v>"u"&&(v=0);var w=m;if(typeof w>"u"&&(w=h.byteLength-v),v>=h.byteLength)throw new RangeError("'offset' is out of bounds");if(w>h.byteLength-v)throw new RangeError("'length' is out of bounds");return new o(h.slice(v,v+w))}if(o.isBuffer(h)){var k=new o(h.length);return h.copy(k,0,0,h.length),k}if(h){if(Array.isArray(h)||typeof ArrayBuffer<"u"&&h.buffer instanceof ArrayBuffer||"length"in h)return new o(h);if(h.type==="Buffer"&&Array.isArray(h.data))return new o(h.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},r.allocUnsafeSlow=function(h){if(typeof o.allocUnsafeSlow=="function")return o.allocUnsafeSlow(h);if(typeof h!="number")throw new TypeError("size must be a number");if(h>=u)throw new RangeError("size is too large");return new l(h)}}).call(r,function(){return this}())},function(n,r,i){(function(a){function s(D){return Array.isArray?Array.isArray(D):F(D)==="[object Array]"}r.isArray=s;function o(D){return typeof D=="boolean"}r.isBoolean=o;function l(D){return D===null}r.isNull=l;function u(D){return D==null}r.isNullOrUndefined=u;function d(D){return typeof D=="number"}r.isNumber=d;function h(D){return typeof D=="string"}r.isString=h;function p(D){return typeof D=="symbol"}r.isSymbol=p;function m(D){return D===void 0}r.isUndefined=m;function v(D){return F(D)==="[object RegExp]"}r.isRegExp=v;function w(D){return typeof D=="object"&&D!==null}r.isObject=w;function k(D){return F(D)==="[object Date]"}r.isDate=k;function T(D){return F(D)==="[object Error]"||D instanceof Error}r.isError=T;function C(D){return typeof D=="function"}r.isFunction=C;function N(D){return D===null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||typeof D=="symbol"||typeof D>"u"}r.isPrimitive=N,r.isBuffer=a.isBuffer;function F(D){return Object.prototype.toString.call(D)}}).call(r,i(1))},function(n,r){},function(n,r,i){i(2).Buffer;var a=i(17);n.exports=s;function s(){this.head=null,this.tail=null,this.length=0}s.prototype.push=function(o){var l={data:o,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length},s.prototype.unshift=function(o){var l={data:o,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length},s.prototype.shift=function(){if(this.length!==0){var o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}},s.prototype.clear=function(){this.head=this.tail=null,this.length=0},s.prototype.join=function(o){if(this.length===0)return"";for(var l=this.head,u=""+l.data;l=l.next;)u+=o+l.data;return u},s.prototype.concat=function(o){if(this.length===0)return a.alloc(0);if(this.length===1)return this.head.data;for(var l=a.allocUnsafe(o>>>0),u=this.head,d=0;u;)u.data.copy(l,d),d+=u.data.length,u=u.next;return l}},function(n,r,i){var a=Object.keys||function(k){var T=[];for(var C in k)T.push(C);return T};n.exports=m;var s=i(15),o=i(18);o.inherits=i(12);var l=i(14),u=i(22);o.inherits(m,l);for(var d=a(u.prototype),h=0;h<d.length;h++){var p=d[h];m.prototype[p]||(m.prototype[p]=u.prototype[p])}function m(k){if(!(this instanceof m))return new m(k);l.call(this,k),u.call(this,k),k&&k.readable===!1&&(this.readable=!1),k&&k.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,k&&k.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",v)}function v(){this.allowHalfOpen||this._writableState.ended||s(w,this)}function w(k){k.end()}},function(n,r,i){(function(a){n.exports=C;var s=i(15),o=!a.browser&&["v0.10","v0.9."].indexOf(a.version.slice(0,5))>-1?setImmediate:s,l;C.WritableState=k;var u=i(18);u.inherits=i(12);var d={deprecate:i(23)},h;(function(){try{h=i(11)}catch{}finally{h||(h=i(8).EventEmitter)}})();var p=i(2).Buffer,m=i(17);u.inherits(C,h);function v(){}function w(he,j,pe){this.chunk=he,this.encoding=j,this.callback=pe,this.next=null}function k(he,j){l=l||i(21),he=he||{},this.objectMode=!!he.objectMode,j instanceof l&&(this.objectMode=this.objectMode||!!he.writableObjectMode);var pe=he.highWaterMark,Ne=this.objectMode?16:16*1024;this.highWaterMark=pe||pe===0?pe:Ne,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var ae=he.decodeStrings===!1;this.decodeStrings=!ae,this.defaultEncoding=he.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(He){Q(j,He)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Te(this)}k.prototype.getBuffer=function(){for(var j=this.bufferedRequest,pe=[];j;)pe.push(j),j=j.next;return pe},function(){try{Object.defineProperty(k.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch{}}();var T;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(T=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(he){return T.call(this,he)?!0:he&&he._writableState instanceof k}})):T=function(he){return he instanceof this};function C(he){if(l=l||i(21),!T.call(C,this)&&!(this instanceof l))return new C(he);this._writableState=new k(he,this),this.writable=!0,he&&(typeof he.write=="function"&&(this._write=he.write),typeof he.writev=="function"&&(this._writev=he.writev)),h.call(this)}C.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function N(he,j){var pe=new Error("write after end");he.emit("error",pe),s(j,pe)}function F(he,j,pe,Ne){var ae=!0,He=!1;return pe===null?He=new TypeError("May not write null values to stream"):typeof pe!="string"&&pe!==void 0&&!j.objectMode&&(He=new TypeError("Invalid non-string/buffer chunk")),He&&(he.emit("error",He),s(Ne,He),ae=!1),ae}C.prototype.write=function(he,j,pe){var Ne=this._writableState,ae=!1,He=p.isBuffer(he);return typeof j=="function"&&(pe=j,j=null),He?j="buffer":j||(j=Ne.defaultEncoding),typeof pe!="function"&&(pe=v),Ne.ended?N(this,pe):(He||F(this,Ne,he,pe))&&(Ne.pendingcb++,ae=U(this,Ne,He,he,j,pe)),ae},C.prototype.cork=function(){var he=this._writableState;he.corked++},C.prototype.uncork=function(){var he=this._writableState;he.corked&&(he.corked--,!he.writing&&!he.corked&&!he.finished&&!he.bufferProcessing&&he.bufferedRequest&&qe(this,he))},C.prototype.setDefaultEncoding=function(j){if(typeof j=="string"&&(j=j.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((j+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+j);return this._writableState.defaultEncoding=j,this};function D(he,j,pe){return!he.objectMode&&he.decodeStrings!==!1&&typeof j=="string"&&(j=m.from(j,pe)),j}function U(he,j,pe,Ne,ae,He){pe||(Ne=D(j,Ne,ae),p.isBuffer(Ne)&&(ae="buffer"));var it=j.objectMode?1:Ne.length;j.length+=it;var Xe=j.length<j.highWaterMark;if(Xe||(j.needDrain=!0),j.writing||j.corked){var Ke=j.lastBufferedRequest;j.lastBufferedRequest=new w(Ne,ae,He),Ke?Ke.next=j.lastBufferedRequest:j.bufferedRequest=j.lastBufferedRequest,j.bufferedRequestCount+=1}else G(he,j,!1,it,Ne,ae,He);return Xe}function G(he,j,pe,Ne,ae,He,it){j.writelen=Ne,j.writecb=it,j.writing=!0,j.sync=!0,pe?he._writev(ae,j.onwrite):he._write(ae,He,j.onwrite),j.sync=!1}function se(he,j,pe,Ne,ae){--j.pendingcb,pe?s(ae,Ne):ae(Ne),he._writableState.errorEmitted=!0,he.emit("error",Ne)}function re(he){he.writing=!1,he.writecb=null,he.length-=he.writelen,he.writelen=0}function Q(he,j){var pe=he._writableState,Ne=pe.sync,ae=pe.writecb;if(re(pe),j)se(he,pe,Ne,j,ae);else{var He=xe(pe);!He&&!pe.corked&&!pe.bufferProcessing&&pe.bufferedRequest&&qe(he,pe),Ne?o(ce,he,pe,He,ae):ce(he,pe,He,ae)}}function ce(he,j,pe,Ne){pe||Ie(he,j),j.pendingcb--,Ne(),ue(he,j)}function Ie(he,j){j.length===0&&j.needDrain&&(j.needDrain=!1,he.emit("drain"))}function qe(he,j){j.bufferProcessing=!0;var pe=j.bufferedRequest;if(he._writev&&pe&&pe.next){var Ne=j.bufferedRequestCount,ae=new Array(Ne),He=j.corkedRequestsFree;He.entry=pe;for(var it=0;pe;)ae[it]=pe,pe=pe.next,it+=1;G(he,j,!0,j.length,ae,"",He.finish),j.pendingcb++,j.lastBufferedRequest=null,He.next?(j.corkedRequestsFree=He.next,He.next=null):j.corkedRequestsFree=new Te(j)}else{for(;pe;){var Xe=pe.chunk,Ke=pe.encoding,ct=pe.callback,de=j.objectMode?1:Xe.length;if(G(he,j,!1,de,Xe,Ke,ct),pe=pe.next,j.writing)break}pe===null&&(j.lastBufferedRequest=null)}j.bufferedRequestCount=0,j.bufferedRequest=pe,j.bufferProcessing=!1}C.prototype._write=function(he,j,pe){pe(new Error("_write() is not implemented"))},C.prototype._writev=null,C.prototype.end=function(he,j,pe){var Ne=this._writableState;typeof he=="function"?(pe=he,he=null,j=null):typeof j=="function"&&(pe=j,j=null),he!=null&&this.write(he,j),Ne.corked&&(Ne.corked=1,this.uncork()),!Ne.ending&&!Ne.finished&&ke(this,Ne,pe)};function xe(he){return he.ending&&he.length===0&&he.bufferedRequest===null&&!he.finished&&!he.writing}function Ce(he,j){j.prefinished||(j.prefinished=!0,he.emit("prefinish"))}function ue(he,j){var pe=xe(j);return pe&&(j.pendingcb===0?(Ce(he,j),j.finished=!0,he.emit("finish")):Ce(he,j)),pe}function ke(he,j,pe){j.ending=!0,ue(he,j),pe&&(j.finished?s(pe):he.once("finish",pe)),j.ended=!0,he.writable=!1}function Te(he){var j=this;this.next=null,this.entry=null,this.finish=function(pe){var Ne=j.entry;for(j.entry=null;Ne;){var ae=Ne.callback;he.pendingcb--,ae(pe),Ne=Ne.next}he.corkedRequestsFree?he.corkedRequestsFree.next=j:he.corkedRequestsFree=j}}}).call(r,i(6))},function(n,r){(function(i){n.exports=a;function a(o,l){if(s("noDeprecation"))return o;var u=!1;function d(){if(!u){if(s("throwDeprecation"))throw new Error(l);s("traceDeprecation")?console.trace(l):console.warn(l),u=!0}return o.apply(this,arguments)}return d}function s(o){try{if(!i.localStorage)return!1}catch{return!1}var l=i.localStorage[o];return l==null?!1:String(l).toLowerCase()==="true"}}).call(r,function(){return this}())},function(n,r,i){var a=i(2).Buffer,s=a.isEncoding||function(p){switch(p&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(p){if(p&&!s(p))throw new Error("Unknown encoding: "+p)}var l=r.StringDecoder=function(p){switch(this.encoding=(p||"utf8").toLowerCase().replace(/[-_]/,""),o(p),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=d;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=h;break;default:this.write=u;return}this.charBuffer=new a(6),this.charReceived=0,this.charLength=0};l.prototype.write=function(p){for(var m="";this.charLength;){var v=p.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:p.length;if(p.copy(this.charBuffer,this.charReceived,0,v),this.charReceived+=v,this.charReceived<this.charLength)return"";p=p.slice(v,p.length),m=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var k=m.charCodeAt(m.length-1);if(k>=55296&&k<=56319){this.charLength+=this.surrogateSize,m="";continue}if(this.charReceived=this.charLength=0,p.length===0)return m;break}this.detectIncompleteChar(p);var w=p.length;this.charLength&&(p.copy(this.charBuffer,0,p.length-this.charReceived,w),w-=this.charReceived),m+=p.toString(this.encoding,0,w);var w=m.length-1,k=m.charCodeAt(w);if(k>=55296&&k<=56319){var T=this.surrogateSize;return this.charLength+=T,this.charReceived+=T,this.charBuffer.copy(this.charBuffer,T,0,T),p.copy(this.charBuffer,0,0,T),m.substring(0,w)}return m},l.prototype.detectIncompleteChar=function(p){for(var m=p.length>=3?3:p.length;m>0;m--){var v=p[p.length-m];if(m==1&&v>>5==6){this.charLength=2;break}if(m<=2&&v>>4==14){this.charLength=3;break}if(m<=3&&v>>3==30){this.charLength=4;break}}this.charReceived=m},l.prototype.end=function(p){var m="";if(p&&p.length&&(m=this.write(p)),this.charReceived){var v=this.charReceived,w=this.charBuffer,k=this.encoding;m+=w.slice(0,v).toString(k)}return m};function u(p){return p.toString(this.encoding)}function d(p){this.charReceived=p.length%2,this.charLength=this.charReceived?2:0}function h(p){this.charReceived=p.length%3,this.charLength=this.charReceived?3:0}},function(n,r,i){n.exports=u;var a=i(21),s=i(18);s.inherits=i(12),s.inherits(u,a);function o(h){this.afterTransform=function(p,m){return l(h,p,m)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function l(h,p,m){var v=h._transformState;v.transforming=!1;var w=v.writecb;if(!w)return h.emit("error",new Error("no writecb in Transform class"));v.writechunk=null,v.writecb=null,m!=null&&h.push(m),w(p);var k=h._readableState;k.reading=!1,(k.needReadable||k.length<k.highWaterMark)&&h._read(k.highWaterMark)}function u(h){if(!(this instanceof u))return new u(h);a.call(this,h),this._transformState=new o(this);var p=this;this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(m,v){d(p,m,v)}):d(p)})}u.prototype.push=function(h,p){return this._transformState.needTransform=!1,a.prototype.push.call(this,h,p)},u.prototype._transform=function(h,p,m){throw new Error("_transform() is not implemented")},u.prototype._write=function(h,p,m){var v=this._transformState;if(v.writecb=m,v.writechunk=h,v.writeencoding=p,!v.transforming){var w=this._readableState;(v.needTransform||w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}},u.prototype._read=function(h){var p=this._transformState;p.writechunk!==null&&p.writecb&&!p.transforming?(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform)):p.needTransform=!0};function d(h,p,m){if(p)return h.emit("error",p);m!=null&&h.push(m);var v=h._writableState,w=h._transformState;if(v.length)throw new Error("Calling transform done when ws.length != 0");if(w.transforming)throw new Error("Calling transform done when still transforming");return h.push(null)}},function(n,r,i){n.exports=o;var a=i(25),s=i(18);s.inherits=i(12),s.inherits(o,a);function o(l){if(!(this instanceof o))return new o(l);a.call(this,l)}o.prototype._transform=function(l,u,d){d(null,l)}},function(n,r,i){n.exports=i(22)},function(n,r,i){n.exports=i(21)},function(n,r,i){n.exports=i(25)},function(n,r,i){n.exports=i(26)},function(n,r,i){var a=i(32),s=i(33),o=i(38),l=i(39),u=i(40),d=i(41),h=i(42),p=Object.prototype.toString;function m(k){if(!(this instanceof m))return new m(k);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},k||{});var T=this.options;T.raw&&T.windowBits>=0&&T.windowBits<16&&(T.windowBits=-T.windowBits,T.windowBits===0&&(T.windowBits=-15)),T.windowBits>=0&&T.windowBits<16&&!(k&&k.windowBits)&&(T.windowBits+=32),T.windowBits>15&&T.windowBits<48&&(T.windowBits&15||(T.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var C=a.inflateInit2(this.strm,T.windowBits);if(C!==l.Z_OK)throw new Error(u[C]);this.header=new h,a.inflateGetHeader(this.strm,this.header)}m.prototype.push=function(k,T){var C=this.strm,N=this.options.chunkSize,F=this.options.dictionary,D,U,G,se,re,Q,ce=!1;if(this.ended)return!1;U=T===~~T?T:T===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof k=="string"?C.input=o.binstring2buf(k):p.call(k)==="[object ArrayBuffer]"?C.input=new Uint8Array(k):C.input=k,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new s.Buf8(N),C.next_out=0,C.avail_out=N),D=a.inflate(C,l.Z_NO_FLUSH),D===l.Z_NEED_DICT&&F&&(typeof F=="string"?Q=o.string2buf(F):p.call(F)==="[object ArrayBuffer]"?Q=new Uint8Array(F):Q=F,D=a.inflateSetDictionary(this.strm,Q)),D===l.Z_BUF_ERROR&&ce===!0&&(D=l.Z_OK,ce=!1),D!==l.Z_STREAM_END&&D!==l.Z_OK)return this.onEnd(D),this.ended=!0,!1;C.next_out&&(C.avail_out===0||D===l.Z_STREAM_END||C.avail_in===0&&(U===l.Z_FINISH||U===l.Z_SYNC_FLUSH))&&(this.options.to==="string"?(G=o.utf8border(C.output,C.next_out),se=C.next_out-G,re=o.buf2string(C.output,G),C.next_out=se,C.avail_out=N-se,se&&s.arraySet(C.output,C.output,G,se,0),this.onData(re)):this.onData(s.shrinkBuf(C.output,C.next_out))),C.avail_in===0&&C.avail_out===0&&(ce=!0)}while((C.avail_in>0||C.avail_out===0)&&D!==l.Z_STREAM_END);return D===l.Z_STREAM_END&&(U=l.Z_FINISH),U===l.Z_FINISH?(D=a.inflateEnd(this.strm),this.onEnd(D),this.ended=!0,D===l.Z_OK):(U===l.Z_SYNC_FLUSH&&(this.onEnd(l.Z_OK),C.avail_out=0),!0)},m.prototype.onData=function(k){this.chunks.push(k)},m.prototype.onEnd=function(k){k===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg};function v(k,T){var C=new m(T);if(C.push(k,!0),C.err)throw C.msg||u[C.err];return C.result}function w(k,T){return T=T||{},T.raw=!0,v(k,T)}r.Inflate=m,r.inflate=v,r.inflateRaw=w,r.ungzip=v},function(n,r,i){var a=i(33),s=i(34),o=i(35),l=i(36),u=i(37),d=0,h=1,p=2,m=4,v=5,w=6,k=0,T=1,C=2,N=-2,F=-3,D=-4,U=-5,G=8,se=1,re=2,Q=3,ce=4,Ie=5,qe=6,xe=7,Ce=8,ue=9,ke=10,Te=11,he=12,j=13,pe=14,Ne=15,ae=16,He=17,it=18,Xe=19,Ke=20,ct=21,de=22,Se=23,ht=24,vt=25,Dt=26,an=27,Nt=28,Un=29,rn=30,tr=31,nr=32,Dr=852,Ee=592,ee=15,te=ee;function Re(ze){return(ze>>>24&255)+(ze>>>8&65280)+((ze&65280)<<8)+((ze&255)<<24)}function nt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Oe(ze){var Yt;return!ze||!ze.state?N:(Yt=ze.state,ze.total_in=ze.total_out=Yt.total=0,ze.msg="",Yt.wrap&&(ze.adler=Yt.wrap&1),Yt.mode=se,Yt.last=0,Yt.havedict=0,Yt.dmax=32768,Yt.head=null,Yt.hold=0,Yt.bits=0,Yt.lencode=Yt.lendyn=new a.Buf32(Dr),Yt.distcode=Yt.distdyn=new a.Buf32(Ee),Yt.sane=1,Yt.back=-1,k)}function K(ze){var Yt;return!ze||!ze.state?N:(Yt=ze.state,Yt.wsize=0,Yt.whave=0,Yt.wnext=0,Oe(ze))}function B(ze,Yt){var _e,Pt;return!ze||!ze.state||(Pt=ze.state,Yt<0?(_e=0,Yt=-Yt):(_e=(Yt>>4)+1,Yt<48&&(Yt&=15)),Yt&&(Yt<8||Yt>15))?N:(Pt.window!==null&&Pt.wbits!==Yt&&(Pt.window=null),Pt.wrap=_e,Pt.wbits=Yt,K(ze))}function V(ze,Yt){var _e,Pt;return ze?(Pt=new nt,ze.state=Pt,Pt.window=null,_e=B(ze,Yt),_e!==k&&(ze.state=null),_e):N}function be(ze){return V(ze,te)}var je=!0,We,gt;function sn(ze){if(je){var Yt;for(We=new a.Buf32(512),gt=new a.Buf32(32),Yt=0;Yt<144;)ze.lens[Yt++]=8;for(;Yt<256;)ze.lens[Yt++]=9;for(;Yt<280;)ze.lens[Yt++]=7;for(;Yt<288;)ze.lens[Yt++]=8;for(u(h,ze.lens,0,288,We,0,ze.work,{bits:9}),Yt=0;Yt<32;)ze.lens[Yt++]=5;u(p,ze.lens,0,32,gt,0,ze.work,{bits:5}),je=!1}ze.lencode=We,ze.lenbits=9,ze.distcode=gt,ze.distbits=5}function xn(ze,Yt,_e,Pt){var In,Ft=ze.state;return Ft.window===null&&(Ft.wsize=1<<Ft.wbits,Ft.wnext=0,Ft.whave=0,Ft.window=new a.Buf8(Ft.wsize)),Pt>=Ft.wsize?(a.arraySet(Ft.window,Yt,_e-Ft.wsize,Ft.wsize,0),Ft.wnext=0,Ft.whave=Ft.wsize):(In=Ft.wsize-Ft.wnext,In>Pt&&(In=Pt),a.arraySet(Ft.window,Yt,_e-Pt,In,Ft.wnext),Pt-=In,Pt?(a.arraySet(Ft.window,Yt,_e-Pt,Pt,0),Ft.wnext=Pt,Ft.whave=Ft.wsize):(Ft.wnext+=In,Ft.wnext===Ft.wsize&&(Ft.wnext=0),Ft.whave<Ft.wsize&&(Ft.whave+=In))),0}function Mt(ze,Yt){var _e,Pt,In,Ft,Ir,on,qn,St,Ct,ji,mn,Jt,Ra,ss,ni=0,Xn,Tr,vr,Zr,Ha,Wo,ki,Ni,_i=new a.Buf8(4),Xi,Zi,lo=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!ze||!ze.state||!ze.output||!ze.input&&ze.avail_in!==0)return N;_e=ze.state,_e.mode===he&&(_e.mode=j),Ir=ze.next_out,In=ze.output,qn=ze.avail_out,Ft=ze.next_in,Pt=ze.input,on=ze.avail_in,St=_e.hold,Ct=_e.bits,ji=on,mn=qn,Ni=k;e:for(;;)switch(_e.mode){case se:if(_e.wrap===0){_e.mode=j;break}for(;Ct<16;){if(on===0)break e;on--,St+=Pt[Ft++]<<Ct,Ct+=8}if(_e.wrap&2&&St===35615){_e.check=0,_i[0]=St&255,_i[1]=St>>>8&255,_e.check=o(_e.check,_i,2,0),St=0,Ct=0,_e.mode=re;break}if(_e.flags=0,_e.head&&(_e.head.done=!1),!(_e.wrap&1)||(((St&255)<<8)+(St>>8))%31){ze.msg="incorrect header check",_e.mode=rn;break}if((St&15)!==G){ze.msg="unknown compression method",_e.mode=rn;break}if(St>>>=4,Ct-=4,ki=(St&15)+8,_e.wbits===0)_e.wbits=ki;else if(ki>_e.wbits){ze.msg="invalid window size",_e.mode=rn;break}_e.dmax=1<<ki,ze.adler=_e.check=1,_e.mode=St&512?ke:he,St=0,Ct=0;break;case re:for(;Ct<16;){if(on===0)break e;on--,St+=Pt[Ft++]<<Ct,Ct+=8}if(_e.flags=St,(_e.flags&255)!==G){ze.msg="unknown compression method",_e.mode=rn;break}if(_e.flags&57344){ze.msg="unknown header flags set",_e.mode=rn;break}_e.head&&(_e.head.text=St>>8&1),_e.flags&512&&(_i[0]=St&255,_i[1]=St>>>8&255,_e.check=o(_e.check,_i,2,0)),St=0,Ct=0,_e.mode=Q;case Q:for(;Ct<32;){if(on===0)break e;on--,St+=Pt[Ft++]<<Ct,Ct+=8}_e.head&&(_e.head.time=St),_e.flags&512&&(_i[0]=St&255,_i[1]=St>>>8&255,_i[2]=St>>>16&255,_i[3]=St>>>24&255,_e.check=o(_e.check,_i,4,0)),St=0,Ct=0,_e.mode=ce;case ce:for(;Ct<16;){if(on===0)break e;on--,St+=Pt[Ft++]<<Ct,Ct+=8}_e.head&&(_e.head.xflags=St&255,_e.head.os=St>>8),_e.flags&512&&(_i[0]=St&255,_i[1]=St>>>8&255,_e.check=o(_e.check,_i,2,0)),St=0,Ct=0,_e.mode=Ie;case Ie:if(_e.flags&1024){for(;Ct<16;){if(on===0)break e;on--,St+=Pt[Ft++]<<Ct,Ct+=8}_e.length=St,_e.head&&(_e.head.extra_len=St),_e.flags&512&&(_i[0]=St&255,_i[1]=St>>>8&255,_e.check=o(_e.check,_i,2,0)),St=0,Ct=0}else _e.head&&(_e.head.extra=null);_e.mode=qe;case qe:if(_e.flags&1024&&(Jt=_e.length,Jt>on&&(Jt=on),Jt&&(_e.head&&(ki=_e.head.extra_len-_e.length,_e.head.extra||(_e.head.extra=new Array(_e.head.extra_len)),a.arraySet(_e.head.extra,Pt,Ft,Jt,ki)),_e.flags&512&&(_e.check=o(_e.check,Pt,Jt,Ft)),on-=Jt,Ft+=Jt,_e.length-=Jt),_e.length))break e;_e.length=0,_e.mode=xe;case xe:if(_e.flags&2048){if(on===0)break e;Jt=0;do ki=Pt[Ft+Jt++],_e.head&&ki&&_e.length<65536&&(_e.head.name+=String.fromCharCode(ki));while(ki&&Jt<on);if(_e.flags&512&&(_e.check=o(_e.check,Pt,Jt,Ft)),on-=Jt,Ft+=Jt,ki)break e}else _e.head&&(_e.head.name=null);_e.length=0,_e.mode=Ce;case Ce:if(_e.flags&4096){if(on===0)break e;Jt=0;do ki=Pt[Ft+Jt++],_e.head&&ki&&_e.length<65536&&(_e.head.comment+=String.fromCharCode(ki));while(ki&&Jt<on);if(_e.flags&512&&(_e.check=o(_e.check,Pt,Jt,Ft)),on-=Jt,Ft+=Jt,ki)break e}else _e.head&&(_e.head.comment=null);_e.mode=ue;case ue:if(_e.flags&512){for(;Ct<16;){if(on===0)break e;on--,St+=Pt[Ft++]<<Ct,Ct+=8}if(St!==(_e.check&65535)){ze.msg="header crc mismatch",_e.mode=rn;break}St=0,Ct=0}_e.head&&(_e.head.hcrc=_e.flags>>9&1,_e.head.done=!0),ze.adler=_e.check=0,_e.mode=he;break;case ke:for(;Ct<32;){if(on===0)break e;on--,St+=Pt[Ft++]<<Ct,Ct+=8}ze.adler=_e.check=Re(St),St=0,Ct=0,_e.mode=Te;case Te:if(_e.havedict===0)return ze.next_out=Ir,ze.avail_out=qn,ze.next_in=Ft,ze.avail_in=on,_e.hold=St,_e.bits=Ct,C;ze.adler=_e.check=1,_e.mode=he;case he:if(Yt===v||Yt===w)break e;case j:if(_e.last){St>>>=Ct&7,Ct-=Ct&7,_e.mode=an;break}for(;Ct<3;){if(on===0)break e;on--,St+=Pt[Ft++]<<Ct,Ct+=8}switch(_e.last=St&1,St>>>=1,Ct-=1,St&3){case 0:_e.mode=pe;break;case 1:if(sn(_e),_e.mode=Ke,Yt===w){St>>>=2,Ct-=2;break e}break;case 2:_e.mode=He;break;case 3:ze.msg="invalid block type",_e.mode=rn}St>>>=2,Ct-=2;break;case pe:for(St>>>=Ct&7,Ct-=Ct&7;Ct<32;){if(on===0)break e;on--,St+=Pt[Ft++]<<Ct,Ct+=8}if((St&65535)!==(St>>>16^65535)){ze.msg="invalid stored block lengths",_e.mode=rn;break}if(_e.length=St&65535,St=0,Ct=0,_e.mode=Ne,Yt===w)break e;case Ne:_e.mode=ae;case ae:if(Jt=_e.length,Jt){if(Jt>on&&(Jt=on),Jt>qn&&(Jt=qn),Jt===0)break e;a.arraySet(In,Pt,Ft,Jt,Ir),on-=Jt,Ft+=Jt,qn-=Jt,Ir+=Jt,_e.length-=Jt;break}_e.mode=he;break;case He:for(;Ct<14;){if(on===0)break e;on--,St+=Pt[Ft++]<<Ct,Ct+=8}if(_e.nlen=(St&31)+257,St>>>=5,Ct-=5,_e.ndist=(St&31)+1,St>>>=5,Ct-=5,_e.ncode=(St&15)+4,St>>>=4,Ct-=4,_e.nlen>286||_e.ndist>30){ze.msg="too many length or distance symbols",_e.mode=rn;break}_e.have=0,_e.mode=it;case it:for(;_e.have<_e.ncode;){for(;Ct<3;){if(on===0)break e;on--,St+=Pt[Ft++]<<Ct,Ct+=8}_e.lens[lo[_e.have++]]=St&7,St>>>=3,Ct-=3}for(;_e.have<19;)_e.lens[lo[_e.have++]]=0;if(_e.lencode=_e.lendyn,_e.lenbits=7,Xi={bits:_e.lenbits},Ni=u(d,_e.lens,0,19,_e.lencode,0,_e.work,Xi),_e.lenbits=Xi.bits,Ni){ze.msg="invalid code lengths set",_e.mode=rn;break}_e.have=0,_e.mode=Xe;case Xe:for(;_e.have<_e.nlen+_e.ndist;){for(;ni=_e.lencode[St&(1<<_e.lenbits)-1],Xn=ni>>>24,Tr=ni>>>16&255,vr=ni&65535,!(Xn<=Ct);){if(on===0)break e;on--,St+=Pt[Ft++]<<Ct,Ct+=8}if(vr<16)St>>>=Xn,Ct-=Xn,_e.lens[_e.have++]=vr;else{if(vr===16){for(Zi=Xn+2;Ct<Zi;){if(on===0)break e;on--,St+=Pt[Ft++]<<Ct,Ct+=8}if(St>>>=Xn,Ct-=Xn,_e.have===0){ze.msg="invalid bit length repeat",_e.mode=rn;break}ki=_e.lens[_e.have-1],Jt=3+(St&3),St>>>=2,Ct-=2}else if(vr===17){for(Zi=Xn+3;Ct<Zi;){if(on===0)break e;on--,St+=Pt[Ft++]<<Ct,Ct+=8}St>>>=Xn,Ct-=Xn,ki=0,Jt=3+(St&7),St>>>=3,Ct-=3}else{for(Zi=Xn+7;Ct<Zi;){if(on===0)break e;on--,St+=Pt[Ft++]<<Ct,Ct+=8}St>>>=Xn,Ct-=Xn,ki=0,Jt=11+(St&127),St>>>=7,Ct-=7}if(_e.have+Jt>_e.nlen+_e.ndist){ze.msg="invalid bit length repeat",_e.mode=rn;break}for(;Jt--;)_e.lens[_e.have++]=ki}}if(_e.mode===rn)break;if(_e.lens[256]===0){ze.msg="invalid code -- missing end-of-block",_e.mode=rn;break}if(_e.lenbits=9,Xi={bits:_e.lenbits},Ni=u(h,_e.lens,0,_e.nlen,_e.lencode,0,_e.work,Xi),_e.lenbits=Xi.bits,Ni){ze.msg="invalid literal/lengths set",_e.mode=rn;break}if(_e.distbits=6,_e.distcode=_e.distdyn,Xi={bits:_e.distbits},Ni=u(p,_e.lens,_e.nlen,_e.ndist,_e.distcode,0,_e.work,Xi),_e.distbits=Xi.bits,Ni){ze.msg="invalid distances set",_e.mode=rn;break}if(_e.mode=Ke,Yt===w)break e;case Ke:_e.mode=ct;case ct:if(on>=6&&qn>=258){ze.next_out=Ir,ze.avail_out=qn,ze.next_in=Ft,ze.avail_in=on,_e.hold=St,_e.bits=Ct,l(ze,mn),Ir=ze.next_out,In=ze.output,qn=ze.avail_out,Ft=ze.next_in,Pt=ze.input,on=ze.avail_in,St=_e.hold,Ct=_e.bits,_e.mode===he&&(_e.back=-1);break}for(_e.back=0;ni=_e.lencode[St&(1<<_e.lenbits)-1],Xn=ni>>>24,Tr=ni>>>16&255,vr=ni&65535,!(Xn<=Ct);){if(on===0)break e;on--,St+=Pt[Ft++]<<Ct,Ct+=8}if(Tr&&!(Tr&240)){for(Zr=Xn,Ha=Tr,Wo=vr;ni=_e.lencode[Wo+((St&(1<<Zr+Ha)-1)>>Zr)],Xn=ni>>>24,Tr=ni>>>16&255,vr=ni&65535,!(Zr+Xn<=Ct);){if(on===0)break e;on--,St+=Pt[Ft++]<<Ct,Ct+=8}St>>>=Zr,Ct-=Zr,_e.back+=Zr}if(St>>>=Xn,Ct-=Xn,_e.back+=Xn,_e.length=vr,Tr===0){_e.mode=Dt;break}if(Tr&32){_e.back=-1,_e.mode=he;break}if(Tr&64){ze.msg="invalid literal/length code",_e.mode=rn;break}_e.extra=Tr&15,_e.mode=de;case de:if(_e.extra){for(Zi=_e.extra;Ct<Zi;){if(on===0)break e;on--,St+=Pt[Ft++]<<Ct,Ct+=8}_e.length+=St&(1<<_e.extra)-1,St>>>=_e.extra,Ct-=_e.extra,_e.back+=_e.extra}_e.was=_e.length,_e.mode=Se;case Se:for(;ni=_e.distcode[St&(1<<_e.distbits)-1],Xn=ni>>>24,Tr=ni>>>16&255,vr=ni&65535,!(Xn<=Ct);){if(on===0)break e;on--,St+=Pt[Ft++]<<Ct,Ct+=8}if(!(Tr&240)){for(Zr=Xn,Ha=Tr,Wo=vr;ni=_e.distcode[Wo+((St&(1<<Zr+Ha)-1)>>Zr)],Xn=ni>>>24,Tr=ni>>>16&255,vr=ni&65535,!(Zr+Xn<=Ct);){if(on===0)break e;on--,St+=Pt[Ft++]<<Ct,Ct+=8}St>>>=Zr,Ct-=Zr,_e.back+=Zr}if(St>>>=Xn,Ct-=Xn,_e.back+=Xn,Tr&64){ze.msg="invalid distance code",_e.mode=rn;break}_e.offset=vr,_e.extra=Tr&15,_e.mode=ht;case ht:if(_e.extra){for(Zi=_e.extra;Ct<Zi;){if(on===0)break e;on--,St+=Pt[Ft++]<<Ct,Ct+=8}_e.offset+=St&(1<<_e.extra)-1,St>>>=_e.extra,Ct-=_e.extra,_e.back+=_e.extra}if(_e.offset>_e.dmax){ze.msg="invalid distance too far back",_e.mode=rn;break}_e.mode=vt;case vt:if(qn===0)break e;if(Jt=mn-qn,_e.offset>Jt){if(Jt=_e.offset-Jt,Jt>_e.whave&&_e.sane){ze.msg="invalid distance too far back",_e.mode=rn;break}Jt>_e.wnext?(Jt-=_e.wnext,Ra=_e.wsize-Jt):Ra=_e.wnext-Jt,Jt>_e.length&&(Jt=_e.length),ss=_e.window}else ss=In,Ra=Ir-_e.offset,Jt=_e.length;Jt>qn&&(Jt=qn),qn-=Jt,_e.length-=Jt;do In[Ir++]=ss[Ra++];while(--Jt);_e.length===0&&(_e.mode=ct);break;case Dt:if(qn===0)break e;In[Ir++]=_e.length,qn--,_e.mode=ct;break;case an:if(_e.wrap){for(;Ct<32;){if(on===0)break e;on--,St|=Pt[Ft++]<<Ct,Ct+=8}if(mn-=qn,ze.total_out+=mn,_e.total+=mn,mn&&(ze.adler=_e.check=_e.flags?o(_e.check,In,mn,Ir-mn):s(_e.check,In,mn,Ir-mn)),mn=qn,(_e.flags?St:Re(St))!==_e.check){ze.msg="incorrect data check",_e.mode=rn;break}St=0,Ct=0}_e.mode=Nt;case Nt:if(_e.wrap&&_e.flags){for(;Ct<32;){if(on===0)break e;on--,St+=Pt[Ft++]<<Ct,Ct+=8}if(St!==(_e.total&4294967295)){ze.msg="incorrect length check",_e.mode=rn;break}St=0,Ct=0}_e.mode=Un;case Un:Ni=T;break e;case rn:Ni=F;break e;case tr:return D;case nr:default:return N}return ze.next_out=Ir,ze.avail_out=qn,ze.next_in=Ft,ze.avail_in=on,_e.hold=St,_e.bits=Ct,(_e.wsize||mn!==ze.avail_out&&_e.mode<rn&&(_e.mode<an||Yt!==m))&&xn(ze,ze.output,ze.next_out,mn-ze.avail_out),ji-=ze.avail_in,mn-=ze.avail_out,ze.total_in+=ji,ze.total_out+=mn,_e.total+=mn,_e.wrap&&mn&&(ze.adler=_e.check=_e.flags?o(_e.check,In,mn,ze.next_out-mn):s(_e.check,In,mn,ze.next_out-mn)),ze.data_type=_e.bits+(_e.last?64:0)+(_e.mode===he?128:0)+(_e.mode===Ke||_e.mode===Ne?256:0),(ji===0&&mn===0||Yt===m)&&Ni===k&&(Ni=U),Ni}function Sn(ze){if(!ze||!ze.state)return N;var Yt=ze.state;return Yt.window&&(Yt.window=null),ze.state=null,k}function En(ze,Yt){var _e;return!ze||!ze.state||(_e=ze.state,!(_e.wrap&2))?N:(_e.head=Yt,Yt.done=!1,k)}function li(ze,Yt){var _e=Yt.length,Pt,In,Ft;return!ze||!ze.state||(Pt=ze.state,Pt.wrap!==0&&Pt.mode!==Te)?N:Pt.mode===Te&&(In=1,In=s(In,Yt,_e,0),In!==Pt.check)?F:(Ft=xn(ze,Yt,_e,_e),Ft?(Pt.mode=tr,D):(Pt.havedict=1,k))}r.inflateReset=K,r.inflateReset2=B,r.inflateResetKeep=Oe,r.inflateInit=be,r.inflateInit2=V,r.inflate=Mt,r.inflateEnd=Sn,r.inflateGetHeader=En,r.inflateSetDictionary=li,r.inflateInfo="pako inflate (from Nodeca project)"},function(n,r){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(o){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var u=l.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])}}return o},r.shrinkBuf=function(o,l){return o.length===l?o:o.subarray?o.subarray(0,l):(o.length=l,o)};var a={arraySet:function(o,l,u,d,h){if(l.subarray&&o.subarray){o.set(l.subarray(u,u+d),h);return}for(var p=0;p<d;p++)o[h+p]=l[u+p]},flattenChunks:function(o){var l,u,d,h,p,m;for(d=0,l=0,u=o.length;l<u;l++)d+=o[l].length;for(m=new Uint8Array(d),h=0,l=0,u=o.length;l<u;l++)p=o[l],m.set(p,h),h+=p.length;return m}},s={arraySet:function(o,l,u,d,h){for(var p=0;p<d;p++)o[h+p]=l[u+p]},flattenChunks:function(o){return[].concat.apply([],o)}};r.setTyped=function(o){o?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,a)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,s))},r.setTyped(i)},function(n,r){function i(a,s,o,l){for(var u=a&65535|0,d=a>>>16&65535|0,h=0;o!==0;){h=o>2e3?2e3:o,o-=h;do u=u+s[l++]|0,d=d+u|0;while(--h);u%=65521,d%=65521}return u|d<<16|0}n.exports=i},function(n,r){function i(){for(var o,l=[],u=0;u<256;u++){o=u;for(var d=0;d<8;d++)o=o&1?3988292384^o>>>1:o>>>1;l[u]=o}return l}var a=i();function s(o,l,u,d){var h=a,p=d+u;o^=-1;for(var m=d;m<p;m++)o=o>>>8^h[(o^l[m])&255];return o^-1}n.exports=s},function(n,r){var i=30,a=12;n.exports=function(o,l){var u,d,h,p,m,v,w,k,T,C,N,F,D,U,G,se,re,Q,ce,Ie,qe,xe,Ce,ue,ke;u=o.state,d=o.next_in,ue=o.input,h=d+(o.avail_in-5),p=o.next_out,ke=o.output,m=p-(l-o.avail_out),v=p+(o.avail_out-257),w=u.dmax,k=u.wsize,T=u.whave,C=u.wnext,N=u.window,F=u.hold,D=u.bits,U=u.lencode,G=u.distcode,se=(1<<u.lenbits)-1,re=(1<<u.distbits)-1;e:do{D<15&&(F+=ue[d++]<<D,D+=8,F+=ue[d++]<<D,D+=8),Q=U[F&se];t:for(;;){if(ce=Q>>>24,F>>>=ce,D-=ce,ce=Q>>>16&255,ce===0)ke[p++]=Q&65535;else if(ce&16){Ie=Q&65535,ce&=15,ce&&(D<ce&&(F+=ue[d++]<<D,D+=8),Ie+=F&(1<<ce)-1,F>>>=ce,D-=ce),D<15&&(F+=ue[d++]<<D,D+=8,F+=ue[d++]<<D,D+=8),Q=G[F&re];n:for(;;){if(ce=Q>>>24,F>>>=ce,D-=ce,ce=Q>>>16&255,ce&16){if(qe=Q&65535,ce&=15,D<ce&&(F+=ue[d++]<<D,D+=8,D<ce&&(F+=ue[d++]<<D,D+=8)),qe+=F&(1<<ce)-1,qe>w){o.msg="invalid distance too far back",u.mode=i;break e}if(F>>>=ce,D-=ce,ce=p-m,qe>ce){if(ce=qe-ce,ce>T&&u.sane){o.msg="invalid distance too far back",u.mode=i;break e}if(xe=0,Ce=N,C===0){if(xe+=k-ce,ce<Ie){Ie-=ce;do ke[p++]=N[xe++];while(--ce);xe=p-qe,Ce=ke}}else if(C<ce){if(xe+=k+C-ce,ce-=C,ce<Ie){Ie-=ce;do ke[p++]=N[xe++];while(--ce);if(xe=0,C<Ie){ce=C,Ie-=ce;do ke[p++]=N[xe++];while(--ce);xe=p-qe,Ce=ke}}}else if(xe+=C-ce,ce<Ie){Ie-=ce;do ke[p++]=N[xe++];while(--ce);xe=p-qe,Ce=ke}for(;Ie>2;)ke[p++]=Ce[xe++],ke[p++]=Ce[xe++],ke[p++]=Ce[xe++],Ie-=3;Ie&&(ke[p++]=Ce[xe++],Ie>1&&(ke[p++]=Ce[xe++]))}else{xe=p-qe;do ke[p++]=ke[xe++],ke[p++]=ke[xe++],ke[p++]=ke[xe++],Ie-=3;while(Ie>2);Ie&&(ke[p++]=ke[xe++],Ie>1&&(ke[p++]=ke[xe++]))}}else if(ce&64){o.msg="invalid distance code",u.mode=i;break e}else{Q=G[(Q&65535)+(F&(1<<ce)-1)];continue n}break}}else if(ce&64)if(ce&32){u.mode=a;break e}else{o.msg="invalid literal/length code",u.mode=i;break e}else{Q=U[(Q&65535)+(F&(1<<ce)-1)];continue t}break}}while(d<h&&p<v);Ie=D>>3,d-=Ie,D-=Ie<<3,F&=(1<<D)-1,o.next_in=d,o.next_out=p,o.avail_in=d<h?5+(h-d):5-(d-h),o.avail_out=p<v?257+(v-p):257-(p-v),u.hold=F,u.bits=D}},function(n,r,i){var a=i(33),s=15,o=852,l=592,u=0,d=1,h=2,p=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],m=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],v=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],w=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(T,C,N,F,D,U,G,se){var re=se.bits,Q=0,ce=0,Ie=0,qe=0,xe=0,Ce=0,ue=0,ke=0,Te=0,he=0,j,pe,Ne,ae,He,it=null,Xe=0,Ke,ct=new a.Buf16(s+1),de=new a.Buf16(s+1),Se=null,ht=0,vt,Dt,an;for(Q=0;Q<=s;Q++)ct[Q]=0;for(ce=0;ce<F;ce++)ct[C[N+ce]]++;for(xe=re,qe=s;qe>=1&&ct[qe]===0;qe--);if(xe>qe&&(xe=qe),qe===0)return D[U++]=1<<24|64<<16|0,D[U++]=1<<24|64<<16|0,se.bits=1,0;for(Ie=1;Ie<qe&&ct[Ie]===0;Ie++);for(xe<Ie&&(xe=Ie),ke=1,Q=1;Q<=s;Q++)if(ke<<=1,ke-=ct[Q],ke<0)return-1;if(ke>0&&(T===u||qe!==1))return-1;for(de[1]=0,Q=1;Q<s;Q++)de[Q+1]=de[Q]+ct[Q];for(ce=0;ce<F;ce++)C[N+ce]!==0&&(G[de[C[N+ce]]++]=ce);if(T===u?(it=Se=G,Ke=19):T===d?(it=p,Xe-=257,Se=m,ht-=257,Ke=256):(it=v,Se=w,Ke=-1),he=0,ce=0,Q=Ie,He=U,Ce=xe,ue=0,Ne=-1,Te=1<<xe,ae=Te-1,T===d&&Te>o||T===h&&Te>l)return 1;for(;;){vt=Q-ue,G[ce]<Ke?(Dt=0,an=G[ce]):G[ce]>Ke?(Dt=Se[ht+G[ce]],an=it[Xe+G[ce]]):(Dt=96,an=0),j=1<<Q-ue,pe=1<<Ce,Ie=pe;do pe-=j,D[He+(he>>ue)+pe]=vt<<24|Dt<<16|an|0;while(pe!==0);for(j=1<<Q-1;he&j;)j>>=1;if(j!==0?(he&=j-1,he+=j):he=0,ce++,--ct[Q]===0){if(Q===qe)break;Q=C[N+G[ce]]}if(Q>xe&&(he&ae)!==Ne){for(ue===0&&(ue=xe),He+=Ie,Ce=Q-ue,ke=1<<Ce;Ce+ue<qe&&(ke-=ct[Ce+ue],!(ke<=0));)Ce++,ke<<=1;if(Te+=1<<Ce,T===d&&Te>o||T===h&&Te>l)return 1;Ne=he&ae,D[Ne]=xe<<24|Ce<<16|He-U|0}}return he!==0&&(D[He+he]=Q-ue<<24|64<<16|0),se.bits=xe,0}},function(n,r,i){var a=i(33),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new a.Buf8(256),u=0;u<256;u++)l[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;l[254]=l[254]=1,r.string2buf=function(h){var p,m,v,w,k,T=h.length,C=0;for(w=0;w<T;w++)m=h.charCodeAt(w),(m&64512)===55296&&w+1<T&&(v=h.charCodeAt(w+1),(v&64512)===56320&&(m=65536+(m-55296<<10)+(v-56320),w++)),C+=m<128?1:m<2048?2:m<65536?3:4;for(p=new a.Buf8(C),k=0,w=0;k<C;w++)m=h.charCodeAt(w),(m&64512)===55296&&w+1<T&&(v=h.charCodeAt(w+1),(v&64512)===56320&&(m=65536+(m-55296<<10)+(v-56320),w++)),m<128?p[k++]=m:m<2048?(p[k++]=192|m>>>6,p[k++]=128|m&63):m<65536?(p[k++]=224|m>>>12,p[k++]=128|m>>>6&63,p[k++]=128|m&63):(p[k++]=240|m>>>18,p[k++]=128|m>>>12&63,p[k++]=128|m>>>6&63,p[k++]=128|m&63);return p};function d(h,p){if(p<65537&&(h.subarray&&o||!h.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(h,p));for(var m="",v=0;v<p;v++)m+=String.fromCharCode(h[v]);return m}r.buf2binstring=function(h){return d(h,h.length)},r.binstring2buf=function(h){for(var p=new a.Buf8(h.length),m=0,v=p.length;m<v;m++)p[m]=h.charCodeAt(m);return p},r.buf2string=function(h,p){var m,v,w,k,T=p||h.length,C=new Array(T*2);for(v=0,m=0;m<T;){if(w=h[m++],w<128){C[v++]=w;continue}if(k=l[w],k>4){C[v++]=65533,m+=k-1;continue}for(w&=k===2?31:k===3?15:7;k>1&&m<T;)w=w<<6|h[m++]&63,k--;if(k>1){C[v++]=65533;continue}w<65536?C[v++]=w:(w-=65536,C[v++]=55296|w>>10&1023,C[v++]=56320|w&1023)}return d(C,v)},r.utf8border=function(h,p){var m;for(p=p||h.length,p>h.length&&(p=h.length),m=p-1;m>=0&&(h[m]&192)===128;)m--;return m<0||m===0?p:m+l[h[m]]>p?m:p}},function(n,r){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(n,r){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(n,r){function i(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}n.exports=i},function(n,r){function i(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}n.exports=i}])})}(_k)),_k.exports}var Lte=LGe();class Vb{constructor(e){Object.defineProperty(this,"pageContent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.pageContent=e.pageContent!==void 0?e.pageContent.toString():"",this.metadata=e.metadata??{},this.id=e.id}}class CC{async loadAndSplit(e){if(e===void 0)throw new Error("You must pass a text splitter to use this method.");const n=await this.load();return e.invoke(n)}}class DGe extends CC{constructor(e,{splitPages:n=!0,pdfjs:r=FGe,parsedItemSeparator:i=""}={}){super(),Object.defineProperty(this,"blob",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"splitPages",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"pdfjs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parsedItemSeparator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.blob=e,this.splitPages=n??this.splitPages,this.pdfjs=r,this.parsedItemSeparator=i}async load(){const{getDocument:e,version:n}=await this.pdfjs(),r=await e({data:new Uint8Array(await this.blob.arrayBuffer()),useWorkerFetch:!1,isEvalSupported:!1,useSystemFonts:!0}).promise,i=await r.getMetadata().catch(()=>null),a=[];for(let s=1;s<=r.numPages;s+=1){const l=await(await r.getPage(s)).getTextContent();if(l.items.length===0)continue;let u;const d=[];for(const p of l.items)"str"in p&&(u===p.transform[5]||!u?d.push(p.str):d.push(`
${p.str}`),u=p.transform[5]);const h=d.join(this.parsedItemSeparator);a.push(new Vb({pageContent:h,metadata:{pdf:{version:n,info:i?.info,metadata:i?.metadata,totalPages:r.numPages},loc:{pageNumber:s}}}))}return this.splitPages?a:a.length===0?[]:[new Vb({pageContent:a.map(s=>s.pageContent).join(`

`),metadata:{pdf:{version:n,info:i?.info,metadata:i?.metadata,totalPages:r.numPages}}})]}}async function FGe(){try{const{default:t}=await Ps(async()=>{const{default:r}=await import("./pdf-0IwF-OuM.js").then(i=>i.p);return{default:r}},__vite__mapDeps([0,1,2,3])),{getDocument:e,version:n}=t;return{getDocument:e,version:n}}catch(t){throw console.error(t),new Error("Failed to load pdf-parse. Please install it with eg. `npm install pdf-parse`.")}}function BGe(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function L(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function kt(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}const UGe="YOUTUBEJS",mf={ERROR:1,WARNING:2,INFO:3,DEBUG:4},Dte={[mf.ERROR]:(...t)=>console.error(...t),[mf.WARNING]:(...t)=>console.warn(...t),[mf.INFO]:(...t)=>console.info(...t),[mf.DEBUG]:(...t)=>console.debug(...t)};let jGe=[mf.WARNING];function RC(t,e,n){if(!Dte[t]||!jGe.includes(t))return;const r=[`[${UGe}]`];e&&r.push(`[${e}]`),Dte[t](`${r.join("")}:`,...n||[])}const Js=(t,...e)=>RC(mf.WARNING,t,e),Fte=(t,...e)=>RC(mf.ERROR,t,e),Io=(t,...e)=>RC(mf.INFO,t,e),O1=(t,...e)=>RC(mf.DEBUG,t,e);var V5,mpe,Xa,yi,Cd,Jh,Lg;const gpe=Symbol("ObservedArray.isObserved");class Z{constructor(){V5.add(this),this.type=this.constructor.type}is(...e){return e.some(n=>L(this,V5,"m",mpe).call(this,n))}as(...e){if(!this.is(...e))throw new x0(`Cannot cast ${this.type} to one of ${e.map(n=>n.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new x0(`Missing key ${e}`);return new _9(this[e])}}V5=new WeakSet,mpe=function(e){return this.type===e.type};Z.type="YTNode";const zGe="Maybe";class _9{constructor(e){Xa.add(this),yi.set(this,void 0),kt(this,yi,e,"f")}get typeof(){return typeof L(this,yi,"f")}string(){return L(this,Xa,"m",Jh).call(this,"string")}isString(){return L(this,Xa,"m",Cd).call(this,"string")}number(){return L(this,Xa,"m",Jh).call(this,"number")}isNumber(){return L(this,Xa,"m",Cd).call(this,"number")}bigint(){return L(this,Xa,"m",Jh).call(this,"bigint")}isBigint(){return L(this,Xa,"m",Cd).call(this,"bigint")}boolean(){return L(this,Xa,"m",Jh).call(this,"boolean")}isBoolean(){return L(this,Xa,"m",Cd).call(this,"boolean")}symbol(){return L(this,Xa,"m",Jh).call(this,"symbol")}isSymbol(){return L(this,Xa,"m",Cd).call(this,"symbol")}undefined(){return L(this,Xa,"m",Jh).call(this,"undefined")}isUndefined(){return L(this,Xa,"m",Cd).call(this,"undefined")}null(){if(L(this,yi,"f")!==null)throw new TypeError(`Expected null, got ${typeof L(this,yi,"f")}`);return L(this,yi,"f")}isNull(){return L(this,yi,"f")===null}object(){return L(this,Xa,"m",Jh).call(this,"object")}isObject(){return L(this,Xa,"m",Cd).call(this,"object")}function(){return L(this,Xa,"m",Jh).call(this,"function")}isFunction(){return L(this,Xa,"m",Cd).call(this,"function")}array(){if(!Array.isArray(L(this,yi,"f")))throw new TypeError(`Expected array, got ${typeof L(this,yi,"f")}`);return L(this,yi,"f")}arrayOfMaybe(){const e=[];return new Proxy(this.array(),{get(n,r){return Reflect.has(e,r)?Reflect.get(n,r):new _9(Reflect.get(n,r))}})}isArray(){return Array.isArray(L(this,yi,"f"))}node(){if(!(L(this,yi,"f")instanceof Z))throw new TypeError(`Expected YTNode, got ${L(this,yi,"f").constructor.name}`);return L(this,yi,"f")}isNode(){return L(this,yi,"f")instanceof Z}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof L(this,yi,"f")}`);return L(this,yi,"f")}isObserved(){return L(this,yi,"f")?.[gpe]}parsed(){if(!(L(this,yi,"f")instanceof M1))throw new TypeError(`Expected SuperParsedResult, got ${typeof L(this,yi,"f")}`);return L(this,yi,"f")}isParsed(){return L(this,yi,"f")instanceof M1}any(){return Js(zGe,"This call is not meant to be used outside of debugging. Please use the specific type getter instead."),L(this,yi,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${L(this,yi,"f").constructor.name}`);return L(this,yi,"f")}isInstanceof(e){return L(this,yi,"f")instanceof e}}yi=new WeakMap,Xa=new WeakSet,Cd=function(e){return typeof L(this,yi,"f")===e},Jh=function(e){if(!L(this,Xa,"m",Cd).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return L(this,yi,"f")};class M1{constructor(e){Lg.set(this,void 0),kt(this,Lg,e,"f")}get is_null(){return L(this,Lg,"f")===null}get is_array(){return!this.is_null&&Array.isArray(L(this,Lg,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return L(this,Lg,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return L(this,Lg,"f")}}Lg=new WeakMap;function mi(t){return new Proxy(t,{get(e,n){return n=="get"?(r,i)=>e.find((a,s)=>{const o=Bne(r,a);return o&&i&&e.splice(s,1),o}):n==gpe?!0:n=="getAll"?(r,i)=>e.filter((a,s)=>{const o=Bne(r,a);return o&&i&&e.splice(s,1),o}):n=="matchCondition"?r=>e.find(i=>r(i)):n=="filterType"?(...r)=>mi(e.filter(i=>!!i.is(...r))):n=="firstOfType"?(...r)=>e.find(i=>!!i.is(...r)):n=="first"?()=>e[0]:n=="as"?(...r)=>mi(e.map(i=>{if(i.is(...r))return i;throw new x0(`Expected node of any type ${r.map(a=>a.type).join(", ")}, got ${i.type}`)})):n=="remove"?r=>e.splice(r,1):Reflect.get(e,n)}})}class ype extends Map{getType(...e){return e=e.flat(),mi(e.flatMap(n=>this.get(n.type)||[]))}}const za={YT_BASE:"https://www.youtube.com",YT_SUGGESTIONS:"https://suggestqueries-clients6.youtube.com",YT_UPLOAD:"https://upload.youtube.com/",API:{PRODUCTION_1:"https://www.youtube.com/youtubei/"},GOOGLE_SEARCH_BASE:"https://www.google.com/"},Bte={REGEX:{TV_SCRIPT:new RegExp('<script\\s+id="base-js"\\s+src="([^"]+)"[^>]*><\\/script>'),CLIENT_IDENTITY:new RegExp('clientId:"(?<client_id>[^"]+)",[^"]*?:"(?<client_secret>[^"]+)"')}},Zn={IOS:{NAME:"iOS",VERSION:"18.06.35",USER_AGENT:"com.google.ios.youtube/18.06.35 (iPhone; CPU iPhone OS 14_4 like Mac OS X; en_US)",DEVICE_MODEL:"iPhone10,6"},WEB:{NAME:"WEB",VERSION:"2.20241121.01.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",SUGG_EXP_ID:"ytzpb5_e2,ytpo.bo.lqp.elu=1,ytpo.bo.lqp.ecsc=1,ytpo.bo.lqp.mcsc=3,ytpo.bo.lqp.mec=1,ytpo.bo.lqp.rw=0.8,ytpo.bo.lqp.fw=0.2,ytpo.bo.lqp.szp=1,ytpo.bo.lqp.mz=3,ytpo.bo.lqp.al=en_us,ytpo.bo.lqp.zrm=1,ytpo.bo.lqp.er=1,ytpo.bo.ro.erl=1,ytpo.bo.ro.mlus=3,ytpo.bo.ro.erls=3,ytpo.bo.qfo.mlus=3,ytzprp.ppp.e=1,ytzprp.ppp.st=772,ytzprp.ppp.p=5"},MWEB:{NAME:"MWEB",VERSION:"2.20241205.01.00"},WEB_KIDS:{NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20250219.01.00"},ANDROID:{NAME:"ANDROID",VERSION:"19.35.36",SDK_VERSION:33,USER_AGENT:"com.google.android.youtube/19.35.36(Linux; U; Android 13; en_US; SM-S908E Build/TP1A.220624.014) gzip"},YTSTUDIO_ANDROID:{NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV:{NAME:"TVHTML5",VERSION:"7.20241016.15.00",USER_AGENT:"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version"},TV_EMBEDDED:{NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"},WEB_EMBEDDED:{NAME:"WEB_EMBEDDED_PLAYER",VERSION:"2.20240111.09.00"},WEB_CREATOR:{NAME:"WEB_CREATOR",VERSION:"1.20241203.01.00"}},G5={iOS:"5",WEB:"1",MWEB:"2",WEB_KIDS:"76",WEB_REMIX:"67",ANDROID:"3",ANDROID_CREATOR:"14",ANDROID_MUSIC:"21",TVHTML5:"7",TVHTML5_SIMPLY_EMBEDDED_PLAYER:"85",WEB_EMBEDDED_PLAYER:"56",WEB_CREATOR:"62"},Gb={accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"},Ute=["IOS","WEB","MWEB","YTKIDS","YTMUSIC","ANDROID","YTSTUDIO_ANDROID","YTMUSIC_ANDROID","TV","TV_EMBEDDED","WEB_EMBEDDED","WEB_CREATOR"];var Ly;class bpe extends EventTarget{constructor(){super(),Ly.set(this,new Map)}emit(e,...n){const r=new Hr.shim.CustomEvent(e,{detail:n});this.dispatchEvent(r)}on(e,n){const r=i=>{i instanceof Hr.shim.CustomEvent?n(...i.detail):n(i)};L(this,Ly,"f").set(n,r),this.addEventListener(e,r)}once(e,n){const r=i=>{i instanceof Hr.shim.CustomEvent?n(...i.detail):n(i),this.off(e,n)};L(this,Ly,"f").set(n,r),this.addEventListener(e,r)}off(e,n){const r=L(this,Ly,"f").get(n);r&&(this.removeEventListener(e,r),L(this,Ly,"f").delete(n))}}Ly=new WeakMap;const $Ge={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function jte(t){return t.replace(/([&"<>'])/g,(e,n)=>$Ge[n])}function qGe(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Kr(t,e,...n){const r=n.flat();return typeof t=="function"?t({...e,children:r}):{type:qGe(t),props:{...e,children:r}}}async function vpe(t){if(typeof t=="string")return jte(t);let e=`<${t.type}`;if(t.props)for(const n of Object.keys(t.props))n!=="children"&&t.props[n]!==void 0&&(e+=` ${n}="${jte(`${t.props[n]}`)}"`);if(t.props.children){const n=await Promise.all((await Promise.all(t.props.children.flat())).flat().filter(r=>!!r).map(r=>vpe(r)));if(n.length>0)return e+=`>${n.join("")}</${t.type}>`,e}return`${e}/>`}async function HGe(t){return`<?xml version="1.0" encoding="utf-8"?>${await vpe(await t)}`}function VGe(t){return t.children}class CS extends Z{constructor(e){super();const n=e.spec.split("|"),r=new URL(n.shift());this.boards=n.map((i,a)=>{const[s,o,l,u,d,h,p,m]=i.split("#");r.searchParams.set("sigh",m);const v=Math.ceil(parseInt(l,10)/(parseInt(u,10)*parseInt(d,10)));return{type:"vod",template_url:r.toString().replace("$L",a).replace("$N",p),thumbnail_width:parseInt(s,10),thumbnail_height:parseInt(o,10),thumbnail_count:parseInt(l,10),interval:parseInt(h,10),columns:parseInt(u,10),rows:parseInt(d,10),storyboard_count:v}})}}CS.type="PlayerStoryboardSpec";const GGe="StreamingInfo";function WGe(t,e){const n=new Map,r=t.some(i=>!!i.audio_track);for(const i of t){if((!i.index_range||!i.init_range)&&!i.is_type_otf&&!e)continue;const a=i.mime_type.split(";")[0],s=$c(i.mime_type,'codecs="','"')?.split(".")[0],o=i.color_info?Object.values(i.color_info).join("-"):"",l=i.audio_track?.id||"",u=i.is_drc?"drc":"",d=`${a}-${s}-${o}-${l}-${u}`;n.has(d)||n.set(d,[]),n.get(d)?.push(i)}return{groups:Array.from(n.values()),has_multiple_audio_tracks:r}}function wpe(t,e){if(t.length>1&&new Set(t.map(n=>$c(n.mime_type,'codecs="','"'))).size===1)return e.push("codecs"),$c(t[0].mime_type,'codecs="','"')}function _pe(t,e,n){if(t.length>1&&new Set(t.map(r=>r.fps)).size===1)return n.push(e),Number(t[0][e])}function KGe(t,e){if(t.length>1&&new Set(t.map(n=>n.audio_channels||2)).size===1)return e.push("AudioChannelConfiguration"),t[0].audio_channels}async function YGe(t,e){const n=await e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:Gb,redirect:"follow"}),r=n.url.replace("&rn=0","").replace("&sq=0",""),i=await n.text(),a=$c(i,"Segment-Durations-Ms:",`\r
`)?.split(",");if(!a)throw new Pe("Failed to extract the segment durations from this OTF stream",{url:t});const s=[];for(const o of a){const l=o.trim();if(l.length===0)continue;let u;const d=$c(l,"(r=",")");d&&(u=parseInt(d)),s.push({duration:parseInt(l),repeat_count:u})}return{init_url:`${r}&sq=0`,media_url:`${r}&sq=$Number$`,timeline:s}}async function Spe(t,e){const n=await e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"HEAD",headers:Gb,redirect:"follow"}),r=parseInt(n.headers.get("X-Head-Time-Millis")||""),i=parseInt(n.headers.get("X-Head-Seqnum")||"");if(isNaN(r)||isNaN(i))throw new Pe("Failed to extract the duration or segment count for this Post Live DVR video");return{duration:r/1e3,segment_count:i}}async function XGe(t,e,n,r,i,a){if(!t.item){const s=new URL(e.decipher(i));s.searchParams.set("cpn",a||"");const o=n(s).toString();t.item=await Spe(o,r)}return t.item.duration}function xpe(t,e,n,r,i,a){const s=new URL(t.decipher(r));s.searchParams.set("cpn",i||"");const o=e(s).toString();if(t.is_type_otf){if(!n)throw new Pe("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,is_post_live_dvr:!1,getSegmentTemplate(){return YGe(o,n)}}}if(a){if(!n)throw new Pe("Unable to get segment count for this Post Live DVR video without an Actions instance",{format:t});const u=t.target_duration_dec;if(typeof u!="number")throw new Pe("Format is missing target_duration_dec",{format:t});return{is_oft:!1,is_post_live_dvr:!0,async getSegmentTemplate(){return a.item||(a.item=await Spe(o,n)),{media_url:`${o}&sq=$Number$`,timeline:[{duration:u*1e3,repeat_count:a.item.segment_count}]}}}}if(!t.index_range||!t.init_range)throw new Pe("Index and init ranges not available",{format:t});return{is_oft:!1,is_post_live_dvr:!1,base_url:o,index_range:t.index_range,init_range:t.init_range}}function ZGe(t,e,n,r,i,a,s){new URL(t.decipher(i)).searchParams.set("cpn",a||"");const l=[t.itag.toString()];return t.audio_track&&l.push(t.audio_track.id),t.is_drc&&l.push("drc"),{uid:l.join("-"),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:$c(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:xpe(t,n,r,i,a,s)}}function QGe(t,e){if(!t.audio_track&&!e)return;const n=[t.is_original?"main":"alternate"];return(t.is_dubbed||t.is_auto_dubbed)&&n.push("dub"),t.is_descriptive&&n.push("description"),t.is_drc&&n.push("enhanced-audio-intelligibility"),n}function JGe(t,e,n,r,i,a,s){const o=t[0],{audio_track:l}=o,u=[],d=!!s;let h;return l?d&&o.is_drc?h=s.label_drc_multiple(l.display_name):h=l.display_name:d&&(h=o.is_drc?s.label_drc:s.label_original),{mime_type:o.mime_type.split(";")[0],language:o.language??void 0,codecs:wpe(t,u),audio_sample_rate:_pe(t,"audio_sample_rate",u),track_name:h,track_roles:QGe(o,d),channels:KGe(t,u),representations:t.map(m=>ZGe(m,u,e,n,r,i,a))}}const eWe={BT709:"1",BT2020:"9"},zte={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},tWe={BT709:"1",BT2020_NCL:"14"};function nWe(t){const e=t.color_info;let n,r,i;if(e){if(e.primaries&&(n=eWe[e.primaries]),e.transfer_characteristics&&(r=zte[e.transfer_characteristics]),e.matrix_coefficients&&(i=tWe[e.matrix_coefficients],!i)){const s=new URL(t.url),o=JSON.parse(JSON.stringify(t));o.url="REDACTED",o.signature_cipher="REDACTED",o.cipher="REDACTED",Js(GGe,`Unknown matrix coefficients "${e.matrix_coefficients}". The DASH manifest is still usable without this.
Please report it at ${Hr.shim.info.bugs_url} so we can add support for it.
InnerTube client: ${s.searchParams.get("c")}
format:`,o)}}else $c(t.mime_type,'codecs="','"')?.startsWith("avc1")&&(r=zte.BT709);return{primaries:n,transfer_characteristics:r,matrix_coefficients:i}}function rWe(t,e,n,r,i,a,s){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:n.includes("codecs")?void 0:$c(t.mime_type,'codecs="','"'),fps:n.includes("fps")?void 0:t.fps,segment_info:xpe(t,e,i,r,a,s)}}function iWe(t,e,n,r,i,a){const s=t[0],o=nWe(s),l=[];return{mime_type:s.mime_type.split(";")[0],color_info:o,codecs:wpe(t,l),fps:_pe(t,"fps",l),representations:t.map(d=>rWe(d,e,l,n,r,i,a))}}function aWe(t){const e=new Map,n=t.is(CS)?t.boards:[t.board];for(const r of n){const i=new URL(r.template_url).pathname.split(".").pop(),a=`image/${i==="jpg"?"jpeg":i}`;e.has(a)||e.set(a,[]),e.get(a)?.push(r)}return e}async function sWe(t,e,n,r,i){const a=e.template_url,s=n(new URL(a.replace("$M","0"))),o=i.response?i.response:t.session.http.fetch_function(s,{method:"HEAD",headers:Gb});return i.response=o,(await o).headers.get("Content-Type")||r}async function oWe(t,e,n){const r=e.template_url,i=[],a=Math.min(e.type==="vod"?e.storyboard_count:5,10);for(let l=0;l<a;l++){const u=new URL(r.replace("$M",l.toString())),d=l===0&&n.response?n.response:t.session.http.fetch_function(u,{method:"HEAD",headers:Gb});l===0&&(n.response=d),i.push(d)}const s=await Promise.all(i),o=[];for(const l of s)o.push(parseInt(l.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...o)/(e.rows*e.columns)*8)}function lWe(t,e,n,r,i){const a=n.template_url,s=new URL(a.replace("$M","$Number$"));let o;return n.type==="vod"?o=t/n.storyboard_count:o=t*n.columns*n.rows,{uid:`thumbnails_${n.thumbnail_width}x${n.thumbnail_height}`,getBitrate(){return oWe(e,n,i)},sheet_width:n.thumbnail_width*n.columns,sheet_height:n.thumbnail_height*n.rows,thumbnail_height:n.thumbnail_height,thumbnail_width:n.thumbnail_width,rows:n.rows,columns:n.columns,template_duration:Math.round(o),template_url:r(s).toString(),getURL(u){return s.toString().replace("$Number$",u.toString())}}}function uWe(t,e,n,r){const i=aWe(n),a={};return Array.from(i.entries()).map(([s,o])=>({probable_mime_type:s,getMimeType(){return sWe(e,o[0],r,s,a)},representations:o.map(l=>lWe(t,e,l,r,a))}))}function cWe(t,e,n){const r=e==="vtt"?"text/vtt":"application/ttml+xml";return t.map(i=>{const a=new URL(i.base_url);a.searchParams.set("fmt",e);const s=["caption"];return a.searchParams.has("tlang")&&s.push("dub"),{mime_type:r,language:i.language_code,track_name:i.name.toString(),track_roles:s,representation:{uid:`text-${i.vss_id}`,base_url:n(a).toString()}}})}function Epe(t,e=!1,n=d=>d,r,i,a,s,o,l,u){if(!t)throw new Pe("Streaming data not available");const d=r?t.adaptive_formats.filter(G=>!r(G)):t.adaptive_formats;let h,p;if(e){if(p={},!s)throw new Pe("Unable to get duration or segment count for this Post Live DVR video without an Actions instance");h=()=>p?XGe(p,d[0],n,s,a,i):Promise.resolve(0)}else{const G=d[0].approx_duration_ms/1e3;h=()=>Promise.resolve(G)}const{groups:m,has_multiple_audio_tracks:v}=WGe(d,e),{video_groups:w,audio_groups:k}=m.reduce((G,se)=>se[0].has_audio?(v&&!se[0].audio_track||G.audio_groups.push(se),G):(G.video_groups.push(se),G),{video_groups:[],audio_groups:[]});let T;k.flat().some(G=>G.is_drc)&&(T={label_original:u?.label_original||"Original",label_drc:u?.label_drc||"Stable Volume",label_drc_multiple:u?.label_drc_multiple||(G=>`${G} (Stable Volume)`)});const C=k.map(G=>JGe(G,n,s,a,i,p,T)),N=w.map(G=>iWe(G,n,a,s,i,p));let F=[];if(o&&s){let G;if(o.is(CS))G=d[0].approx_duration_ms/1e3;else{const se=d[0].target_duration_dec;if(se===void 0)throw new Pe("Format is missing target_duration_dec",{format:d[0]});G=se}F=uWe(G,s,o,n)}let D=[];if(l&&u?.captions_format){if(u.captions_format!=="vtt"&&u.captions_format!=="ttml")throw new Pe("Invalid captions format",u.captions_format);D=cWe(l,u.captions_format,n)}return{getDuration:h,audio_sets:C,video_sets:N,image_sets:F,text_sets:D}}async function dWe({info:t}){if(!t.is_oft&&!t.is_post_live_dvr)return null;const e=await t.getSegmentTemplate();return Kr("segmentTemplate",{startNumber:e.init_url?"1":"0",timescale:"1000",initialization:e.init_url,media:e.media_url},Kr("segmentTimeline",null,e.timeline.map(n=>Kr("s",{d:n.duration,r:n.repeat_count}))))}function $te({info:t}){return t.is_oft||t.is_post_live_dvr?Kr(dWe,{info:t}):Kr(VGe,null,Kr("baseURL",null,t.base_url),Kr("segmentBase",{indexRange:`${t.index_range.start}-${t.index_range.end}`},Kr("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}async function hWe({streamingData:t,isPostLiveDvr:e,transformURL:n,rejectFormat:r,cpn:i,player:a,actions:s,storyboards:o,captionTracks:l,options:u}){const{getDuration:d,audio_sets:h,video_sets:p,image_sets:m,text_sets:v}=Epe(t,e,n,r,i,a,s,o,l,u);return Kr("mPD",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${await d()}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},Kr("period",null,h.map((w,k)=>Kr("adaptationSet",{id:k,mimeType:w.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:w.language,codecs:w.codecs,audioSamplingRate:w.audio_sample_rate,contentType:"audio"},w.track_roles&&w.track_roles.map(T=>Kr("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:T})),w.track_name&&Kr("label",{id:k},w.track_name),w.channels&&Kr("audioChannelConfiguration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:w.channels}),w.representations.map(T=>Kr("representation",{id:T.uid,bandwidth:T.bitrate,codecs:T.codecs,audioSamplingRate:T.audio_sample_rate},T.channels&&Kr("audioChannelConfiguration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:T.channels}),Kr($te,{info:T.segment_info}))))),p.map((w,k)=>Kr("adaptationSet",{id:k+h.length,mimeType:w.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:w.codecs,maxPlayoutRate:"1",frameRate:w.fps,contentType:"video"},w.color_info.primaries&&Kr("supplementalProperty",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:w.color_info.primaries}),w.color_info.transfer_characteristics&&Kr("supplementalProperty",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:w.color_info.transfer_characteristics}),w.color_info.matrix_coefficients&&Kr("supplementalProperty",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:w.color_info.matrix_coefficients}),w.representations.map(T=>Kr("representation",{id:T.uid,bandwidth:T.bitrate,width:T.width,height:T.height,codecs:T.codecs,frameRate:T.fps},Kr($te,{info:T.segment_info}))))),m.map(async(w,k)=>Kr("adaptationSet",{id:k+h.length+p.length,mimeType:await w.getMimeType(),contentType:"image"},w.representations.map(async T=>Kr("representation",{id:`thumbnails_${T.thumbnail_width}x${T.thumbnail_height}`,bandwidth:await T.getBitrate(),width:T.sheet_width,height:T.sheet_height},Kr("essentialProperty",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${T.columns}x${T.rows}`}),Kr("segmentTemplate",{media:T.template_url,duration:T.template_duration,startNumber:"0"}))))),v.map((w,k)=>Kr("adaptationSet",{id:k+h.length+p.length+m.length,mimeType:w.mime_type,lang:w.language,contentType:"text"},w.track_roles.map(T=>Kr("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:T})),Kr("label",{id:k+h.length},w.track_name),Kr("representation",{id:w.representation.uid,bandwidth:"0"},Kr("baseURL",null,w.representation.base_url))))))}function fWe(t,e=!1,n=d=>d,r,i,a,s,o,l,u){if(!t)throw new Pe("Streaming data not available");return HGe(Kr(hWe,{streamingData:t,isPostLiveDvr:e,transformURL:n,options:u,rejectFormat:r,cpn:i,player:a,actions:s,storyboards:o,captionTracks:l}))}async function pWe(t,e,n,r,i,a){if(n?.status==="UNPLAYABLE")throw new Pe("Video is unplayable",{error_type:"UNPLAYABLE"});if(n?.status==="LOGIN_REQUIRED")throw new Pe("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!r)throw new Pe("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});const s={quality:"360p",type:"video+audio",format:"mp4",range:void 0,...t},o=kpe(s,r),l=o.decipher(i);if(s.type==="video+audio"&&!t.range){const v=await e.session.http.fetch_function(`${l}&cpn=${a}`,{method:"GET",headers:Gb,redirect:"follow"});if(!v.ok)throw new Pe("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:v});const w=v.body;if(!w)throw new Pe("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:v});return w}const u=1048576*10;let d=t.range?t.range.start:0,h=t.range?t.range.end:u,p=!1,m;return new Hr.shim.ReadableStream({start(){},pull:async v=>{if(p){v.close();return}return(h>=(o.content_length?o.content_length:0)||t.range)&&(p=!0),new Promise(async(w,k)=>{try{m=new AbortController;const T=await e.session.http.fetch_function(`${l}&cpn=${a}&range=${d}-${h||""}`,{method:"GET",headers:{...Gb},signal:m.signal});if(!T.ok)throw new Pe("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:T});const C=T.body;if(!C)throw new Pe("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:T});for await(const N of oZe(C))v.enqueue(N);d=h+1,h+=u,w()}catch(T){k(T)}})},async cancel(v){m.abort(v)}},{highWaterMark:1,size(v){return v.byteLength}})}function kpe(t,e){if(!e)throw new Pe("Streaming data not available");const n=[...e.formats||[],...e.adaptive_formats||[]];if(t.itag){const h=n.filter(p=>p.itag===t.itag);if(!h.length)throw new Pe("No matching formats found",{options:t});return h[0]}const r=t.type?t.type.includes("audio"):!0,i=t.type?t.type.includes("video"):!0,a=t.language||"original",s=t.quality||"best";let o=-1;const l=["best","bestefficiency"].includes(s),u=s!=="best";let d=n.filter(h=>r&&!h.has_audio||i&&!h.has_video||t.codec&&!h.mime_type.includes(t.codec)||t.format!=="any"&&!h.mime_type.includes(t.format||"mp4")||!l&&h.quality_label!==s?!1:(h.width&&o<h.width&&(o=h.width),!0));if(!d.length)throw new Pe("No matching formats found",{options:t});if(l&&i&&(d=d.filter(h=>h.width===o)),r&&!i){const h=d.filter(p=>a!=="original"?!p.has_video&&!p.has_text&&p.language===a:!p.has_video&&!p.has_text&&p.is_original);h.length>0&&(d=h)}return u?d.sort((h,p)=>h.bitrate-p.bitrate):d.sort((h,p)=>p.bitrate-h.bitrate),d[0]}var W5,sl,Dy,Qw,Tpe;class mWe{constructor(e,n,r){W5.add(this),sl.set(this,void 0),Dy.set(this,void 0),Qw.set(this,void 0),kt(this,sl,e,"f"),kt(this,Dy,n,"f"),kt(this,Qw,r||Hr.shim.fetch,"f")}get fetch_function(){return L(this,Qw,"f")}async fetch(e,n){const r=za.API.PRODUCTION_1+L(this,sl,"f").api_version,i=n?.baseURL||r,a=typeof e=="string"?!i.endsWith("/")&&!e.startsWith("/")?new URL(`${i}/${e}`):new URL(i+e):e instanceof URL?e:new URL(e.url,i),s=n?.headers||(e instanceof Hr.shim.Request?e.headers:new Hr.shim.Headers)||new Hr.shim.Headers,o=n?.body||(e instanceof Hr.shim.Request?e.body:void 0),l=new Hr.shim.Headers(s);l.set("Accept","*/*"),l.set("Accept-Language","*"),l.set("X-Goog-Visitor-Id",L(this,sl,"f").context.client.visitorData||""),l.set("X-Youtube-Client-Version",L(this,sl,"f").context.client.clientVersion||"");const u=G5[L(this,sl,"f").context.client.clientName];u&&l.set("X-Youtube-Client-Name",u),Hr.shim.server&&(l.set("User-Agent",L(this,sl,"f").user_agent||""),l.set("Origin",a.origin)),a.searchParams.set("prettyPrint","false"),a.searchParams.set("alt","json");const d=l.get("Content-Type");let h=o,p=!1;const m=i===r||i===za.YT_UPLOAD;if(d==="application/json"&&m&&typeof o=="string"){const T={...JSON.parse(o),context:JSON.parse(JSON.stringify(L(this,sl,"f").context))};L(this,W5,"m",Tpe).call(this,T.context,T.client),l.set("X-Youtube-Client-Version",T.context.client.clientVersion);const C=G5[T.context.client.clientName];C&&l.set("X-Youtube-Client-Name",C),delete T.client,T.context.client.clientName==="ANDROID"||T.context.client.clientName==="ANDROID_MUSIC"?(l.set("User-Agent",Zn.ANDROID.USER_AGENT),l.set("X-GOOG-API-FORMAT-VERSION","2")):T.context.client.clientName==="iOS"&&l.set("User-Agent",Zn.IOS.USER_AGENT),p=T.context.client.clientName==="WEB_KIDS",h=JSON.stringify(T)}else d==="application/x-protobuf"&&Hr.shim.server&&(l.set("User-Agent",Zn.ANDROID.USER_AGENT),l.set("X-GOOG-API-FORMAT-VERSION","2"),l.delete("X-Youtube-Client-Version"));if(L(this,sl,"f").logged_in&&m&&!p){const k=L(this,sl,"f").oauth;if(k.oauth2_tokens&&(k.shouldRefreshToken()&&await k.refreshAccessToken(),l.set("Authorization",`Bearer ${k.oauth2_tokens.access_token}`)),L(this,Dy,"f")){const T=uZe(L(this,Dy,"f"),"SAPISID");T&&(l.set("Authorization",await aZe(T)),l.set("X-Goog-Authuser",L(this,sl,"f").account_index.toString()),L(this,sl,"f").context.user.onBehalfOfUser&&l.set("X-Goog-PageId",L(this,sl,"f").context.user.onBehalfOfUser)),l.set("Cookie",L(this,Dy,"f"))}}const v=new Hr.shim.Request(a,e instanceof Hr.shim.Request?e:n),w=await L(this,Qw,"f").call(this,v,{body:h,headers:l,redirect:e instanceof Hr.shim.Request?e.redirect:n?.redirect||"follow",...Hr.shim.runtime!=="cf-worker"?{credentials:"include"}:{}});if(w.ok)return w;throw new Pe(`Request to ${w.url} failed with status ${w.status}`,await w.text())}}sl=new WeakMap,Dy=new WeakMap,Qw=new WeakMap,W5=new WeakSet,Tpe=function(e,n){if(n){if(!Ute.includes(n.toUpperCase()))throw new Pe(`Invalid client: ${n}`,{available_innertube_clients:Ute});switch((n==="ANDROID"||n==="YTMUSIC_ANDROID"||n==="YTMUSIC_ANDROID"||n==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=Zn.ANDROID.SDK_VERSION,e.client.userAgent=Zn.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="13",e.client.platform="MOBILE"),n.toUpperCase()){case"MWEB":e.client.clientVersion=Zn.MWEB.VERSION,e.client.clientName=Zn.MWEB.NAME,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.platform="MOBILE";break;case"IOS":e.client.deviceMake="Apple",e.client.deviceModel=Zn.IOS.DEVICE_MODEL,e.client.clientVersion=Zn.IOS.VERSION,e.client.clientName=Zn.IOS.NAME,e.client.platform="MOBILE",e.client.osName="iOS",delete e.client.browserName,delete e.client.browserVersion;break;case"YTMUSIC":e.client.clientVersion=Zn.YTMUSIC.VERSION,e.client.clientName=Zn.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=Zn.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=Zn.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=Zn.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=Zn.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=Zn.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=Zn.YTSTUDIO_ANDROID.NAME;break;case"TV":{e.client.clientVersion=Zn.TV.VERSION,e.client.clientName=Zn.TV.NAME,e.client.userAgent=Zn.TV.USER_AGENT;break}case"TV_EMBEDDED":e.client.clientName=Zn.TV_EMBEDDED.NAME,e.client.clientVersion=Zn.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:za.YT_BASE};break;case"YTKIDS":e.client.clientVersion=Zn.WEB_KIDS.VERSION,e.client.clientName=Zn.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;case"WEB_EMBEDDED":e.client.clientName=Zn.WEB_EMBEDDED.NAME,e.client.clientVersion=Zn.WEB_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:za.GOOGLE_SEARCH_BASE};break;case"WEB_CREATOR":e.client.clientName=Zn.WEB_CREATOR.NAME,e.client.clientVersion=Zn.WEB_CREATOR.VERSION;break}}};function K5(t){const e=[],n={};for(let a=0;a<256;a++)n[String.fromCharCode(a)]=a;let r="",i=256;for(let a=0;a<t.length;a++){const s=t[a],o=r+s;n.hasOwnProperty(o)?r=o:(e.push(n[r]),n[o]=i++,r=s)}return r!==""&&e.push(n[r]),e.map(a=>String.fromCharCode(a)).join("")}function Y5(t){const e={},n=t.split(""),r=[n.shift()],i=n.length>>>0;let a=256,s=r[0],o=s;for(let l=0;l<i;++l){const u=n[l].charCodeAt(0),d=u<256?n[l]:e[u]?e[u]:o+s;r.push(d),s=d.charAt(0),e[a++]=o+s,o=d}return r.join("")}function gWe(){let t=0,e=0;for(let r=0;r<28;r+=7){let i=this.buf[this.pos++];if(t|=(i&127)<<r,!(i&128))return this.assertBounds(),[t,e]}let n=this.buf[this.pos++];if(t|=(n&15)<<28,e=(n&112)>>4,!(n&128))return this.assertBounds(),[t,e];for(let r=3;r<=31;r+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<r,!(i&128))return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function kD(t,e,n){for(let a=0;a<28;a=a+7){const s=t>>>a,o=!(!(s>>>7)&&e==0),l=(o?s|128:s)&255;if(n.push(l),!o)return}const r=t>>>28&15|(e&7)<<4,i=!!(e>>3);if(n.push((i?r|128:r)&255),!!i){for(let a=3;a<31;a=a+7){const s=e>>>a,o=!!(s>>>7),l=(o?s|128:s)&255;if(n.push(l),!o)return}n.push(e>>>31&1)}}const Sk=4294967296;function qte(t){const e=t[0]==="-";e&&(t=t.slice(1));const n=1e6;let r=0,i=0;function a(s,o){const l=Number(t.slice(s,o));i*=n,r=r*n+l,r>=Sk&&(i=i+(r/Sk|0),r=r%Sk)}return a(-24,-18),a(-18,-12),a(-12,-6),a(-6),e?Cpe(r,i):S9(r,i)}function yWe(t,e){let n=S9(t,e);const r=n.hi&2147483648;r&&(n=Cpe(n.lo,n.hi));const i=Ape(n.lo,n.hi);return r?"-"+i:i}function Ape(t,e){if({lo:t,hi:e}=bWe(t,e),e<=2097151)return String(Sk*e+t);const n=t&16777215,r=(t>>>24|e<<8)&16777215,i=e>>16&65535;let a=n+r*6777216+i*6710656,s=r+i*8147497,o=i*2;const l=1e7;return a>=l&&(s+=Math.floor(a/l),a%=l),s>=l&&(o+=Math.floor(s/l),s%=l),o.toString()+Hte(s)+Hte(a)}function bWe(t,e){return{lo:t>>>0,hi:e>>>0}}function S9(t,e){return{lo:t|0,hi:e|0}}function Cpe(t,e){return e=~e,t?t=~t+1:e+=1,S9(t,e)}const Hte=t=>{const e=String(t);return"0000000".slice(e.length)+e};function Vte(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let n=0;n<9;n++)e.push(t&127|128),t=t>>7;e.push(1)}}function vWe(){let t=this.buf[this.pos++],e=t&127;if(!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,!(t&128))return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let n=5;t&128&&n<10;n++)t=this.buf[this.pos++];if(t&128)throw new Error("invalid varint");return this.assertBounds(),e>>>0}var Gte={};const Pd=wWe();function wWe(){const t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof process!="object"||typeof Gte!="object"||Gte.BUF_BIGINT_DISABLE!=="1")){const n=BigInt("-9223372036854775808"),r=BigInt("9223372036854775807"),i=BigInt("0"),a=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(s){const o=typeof s=="bigint"?s:BigInt(s);if(o>r||o<n)throw new Error(`invalid int64: ${s}`);return o},uParse(s){const o=typeof s=="bigint"?s:BigInt(s);if(o>a||o<i)throw new Error(`invalid uint64: ${s}`);return o},enc(s){return t.setBigInt64(0,this.parse(s),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(s){return t.setBigInt64(0,this.uParse(s),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(s,o){return t.setInt32(0,s,!0),t.setInt32(4,o,!0),t.getBigInt64(0,!0)},uDec(s,o){return t.setInt32(0,s,!0),t.setInt32(4,o,!0),t.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(n){return typeof n!="string"&&(n=n.toString()),Wte(n),n},uParse(n){return typeof n!="string"&&(n=n.toString()),Kte(n),n},enc(n){return typeof n!="string"&&(n=n.toString()),Wte(n),qte(n)},uEnc(n){return typeof n!="string"&&(n=n.toString()),Kte(n),qte(n)},dec(n,r){return yWe(n,r)},uDec(n,r){return Ape(n,r)}}}function Wte(t){if(!/^-?[0-9]+$/.test(t))throw new Error("invalid int64: "+t)}function Kte(t){if(!/^[0-9]+$/.test(t))throw new Error("invalid uint64: "+t)}const TD=Symbol.for("@bufbuild/protobuf/text-encoding");function Rpe(){if(globalThis[TD]==null){const t=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[TD]={encodeUtf8(n){return t.encode(n)},decodeUtf8(n){return e.decode(n)},checkUtf8(n){try{return encodeURIComponent(n),!0}catch{return!1}}}}return globalThis[TD]}var rm;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(rm||(rm={}));const _We=34028234663852886e22,SWe=-34028234663852886e22,xWe=4294967295,EWe=2147483647,kWe=-2147483648;class Qt{constructor(e=Rpe().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let e=0;for(let i=0;i<this.chunks.length;i++)e+=this.chunks[i].length;let n=new Uint8Array(e),r=0;for(let i=0;i<this.chunks.length;i++)n.set(this.chunks[i],r),r+=this.chunks[i].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(Yte(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return AD(e),Vte(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.encodeUtf8(e);return this.uint32(n.byteLength),this.raw(n)}float(e){TWe(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){Yte(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){AD(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return AD(e),e=(e<<1^e>>31)>>>0,Vte(e,this.buf),this}sfixed64(e){let n=new Uint8Array(8),r=new DataView(n.buffer),i=Pd.enc(e);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),r=new DataView(n.buffer),i=Pd.uEnc(e);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}int64(e){let n=Pd.enc(e);return kD(n.lo,n.hi,this.buf),this}sint64(e){let n=Pd.enc(e),r=n.hi>>31,i=n.lo<<1^r,a=(n.hi<<1|n.lo>>>31)^r;return kD(i,a,this.buf),this}uint64(e){let n=Pd.uEnc(e);return kD(n.lo,n.hi,this.buf),this}}class st{constructor(e,n=Rpe().decodeUtf8){this.decodeUtf8=n,this.varint64=gWe,this.uint32=vWe,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),n=e>>>3,r=e&7;if(n<=0||r<0||r>5)throw new Error("illegal tag: field no "+n+" wire type "+r);return[n,r]}skip(e,n){let r=this.pos;switch(e){case rm.Varint:for(;this.buf[this.pos++]&128;);break;case rm.Bit64:this.pos+=4;case rm.Bit32:this.pos+=4;break;case rm.LengthDelimited:let i=this.uint32();this.pos+=i;break;case rm.StartGroup:for(;;){const[a,s]=this.tag();if(s===rm.EndGroup){if(n!==void 0&&a!==n)throw new Error("invalid end group tag");break}this.skip(s,a)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return Pd.dec(...this.varint64())}uint64(){return Pd.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),r=-(e&1);return e=(e>>>1|(n&1)<<31)^r,n=n>>>1^r,Pd.dec(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Pd.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Pd.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.decodeUtf8(this.bytes())}}function AD(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid int32: "+typeof t);if(!Number.isInteger(t)||t>EWe||t<kWe)throw new Error("invalid int32: "+t)}function Yte(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid uint32: "+typeof t);if(!Number.isInteger(t)||t>xWe||t<0)throw new Error("invalid uint32: "+t)}function TWe(t){if(typeof t=="string"){const e=t;if(t=Number(t),isNaN(t)&&e!=="NaN")throw new Error("invalid float32: "+e)}else if(typeof t!="number")throw new Error("invalid float32: "+typeof t);if(Number.isFinite(t)&&(t>_We||t<SWe))throw new Error("invalid float32: "+t)}var X5;(function(t){t[t.RELEVANCE=0]="RELEVANCE",t[t.RATING=1]="RATING",t[t.UPLOAD_DATE=2]="UPLOAD_DATE",t[t.VIEW_COUNT=3]="VIEW_COUNT",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(X5||(X5={}));var Z5;(function(t){t[t.ANY_DATE=0]="ANY_DATE",t[t.HOUR=1]="HOUR",t[t.TODAY=2]="TODAY",t[t.WEEK=3]="WEEK",t[t.MONTH=4]="MONTH",t[t.YEAR=5]="YEAR",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Z5||(Z5={}));var Q5;(function(t){t[t.ANY_TYPE=0]="ANY_TYPE",t[t.VIDEO=1]="VIDEO",t[t.CHANNEL=2]="CHANNEL",t[t.PLAYLIST=3]="PLAYLIST",t[t.MOVIE=4]="MOVIE",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Q5||(Q5={}));var J5;(function(t){t[t.ANY_DURATION=0]="ANY_DURATION",t[t.SHORT=1]="SHORT",t[t.LONG=2]="LONG",t[t.MEDIUM=3]="MEDIUM",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(J5||(J5={}));function AWe(){return{id:"",timestamp:0}}const Ipe={encode(t,e=new Qt){return t.id!==""&&e.uint32(10).string(t.id),t.timestamp!==0&&e.uint32(40).int32(t.timestamp),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=AWe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.id=n.string();continue;case 5:if(a!==40)break;i.timestamp=n.int32();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function CWe(){return{sortBy:void 0,filters:void 0}}const Npe={encode(t,e=new Qt){return t.sortBy!==void 0&&e.uint32(8).int32(t.sortBy),t.filters!==void 0&&Xte.encode(t.filters,e.uint32(18).fork()).join(),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=CWe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;i.sortBy=n.int32();continue;case 2:if(a!==18)break;i.filters=Xte.decode(n,n.uint32());continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function RWe(){return{uploadDate:void 0,type:void 0,duration:void 0,musicSearchType:void 0,featuresHd:void 0,featuresSubtitles:void 0,featuresCreativeCommons:void 0,features3d:void 0,featuresLive:void 0,featuresPurchased:void 0,features4k:void 0,features360:void 0,featuresLocation:void 0,featuresHdr:void 0,featuresVr180:void 0}}const Xte={encode(t,e=new Qt){return t.uploadDate!==void 0&&e.uint32(8).int32(t.uploadDate),t.type!==void 0&&e.uint32(16).int32(t.type),t.duration!==void 0&&e.uint32(24).int32(t.duration),t.musicSearchType!==void 0&&Zte.encode(t.musicSearchType,e.uint32(138).fork()).join(),t.featuresHd!==void 0&&e.uint32(32).bool(t.featuresHd),t.featuresSubtitles!==void 0&&e.uint32(40).bool(t.featuresSubtitles),t.featuresCreativeCommons!==void 0&&e.uint32(48).bool(t.featuresCreativeCommons),t.features3d!==void 0&&e.uint32(56).bool(t.features3d),t.featuresLive!==void 0&&e.uint32(64).bool(t.featuresLive),t.featuresPurchased!==void 0&&e.uint32(72).bool(t.featuresPurchased),t.features4k!==void 0&&e.uint32(112).bool(t.features4k),t.features360!==void 0&&e.uint32(120).bool(t.features360),t.featuresLocation!==void 0&&e.uint32(184).bool(t.featuresLocation),t.featuresHdr!==void 0&&e.uint32(200).bool(t.featuresHdr),t.featuresVr180!==void 0&&e.uint32(208).bool(t.featuresVr180),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=RWe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;i.uploadDate=n.int32();continue;case 2:if(a!==16)break;i.type=n.int32();continue;case 3:if(a!==24)break;i.duration=n.int32();continue;case 17:if(a!==138)break;i.musicSearchType=Zte.decode(n,n.uint32());continue;case 4:if(a!==32)break;i.featuresHd=n.bool();continue;case 5:if(a!==40)break;i.featuresSubtitles=n.bool();continue;case 6:if(a!==48)break;i.featuresCreativeCommons=n.bool();continue;case 7:if(a!==56)break;i.features3d=n.bool();continue;case 8:if(a!==64)break;i.featuresLive=n.bool();continue;case 9:if(a!==72)break;i.featuresPurchased=n.bool();continue;case 14:if(a!==112)break;i.features4k=n.bool();continue;case 15:if(a!==120)break;i.features360=n.bool();continue;case 23:if(a!==184)break;i.featuresLocation=n.bool();continue;case 25:if(a!==200)break;i.featuresHdr=n.bool();continue;case 26:if(a!==208)break;i.featuresVr180=n.bool();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function IWe(){return{song:void 0,video:void 0,album:void 0,artist:void 0,playlist:void 0}}const Zte={encode(t,e=new Qt){return t.song!==void 0&&e.uint32(8).bool(t.song),t.video!==void 0&&e.uint32(16).bool(t.video),t.album!==void 0&&e.uint32(24).bool(t.album),t.artist!==void 0&&e.uint32(32).bool(t.artist),t.playlist!==void 0&&e.uint32(40).bool(t.playlist),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=IWe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;i.song=n.bool();continue;case 2:if(a!==16)break;i.video=n.bool();continue;case 3:if(a!==24)break;i.album=n.bool();continue;case 4:if(a!==32)break;i.artist=n.bool();continue;case 5:if(a!==40)break;i.playlist=n.bool();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function NWe(){return{channelId:"",prefId:void 0,number0:void 0,number1:void 0}}const OWe={encode(t,e=new Qt){return t.channelId!==""&&e.uint32(10).string(t.channelId),t.prefId!==void 0&&Qte.encode(t.prefId,e.uint32(18).fork()).join(),t.number0!==void 0&&e.uint32(24).int32(t.number0),t.number1!==void 0&&e.uint32(32).int32(t.number1),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=NWe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.channelId=n.string();continue;case 2:if(a!==18)break;i.prefId=Qte.decode(n,n.uint32());continue;case 3:if(a!==24)break;i.number0=n.int32();continue;case 4:if(a!==32)break;i.number1=n.int32();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function MWe(){return{index:0}}const Qte={encode(t,e=new Qt){return t.index!==0&&e.uint32(8).int32(t.index),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=MWe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;i.index=n.int32();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function PWe(){return{params:void 0,number0:void 0,number1:void 0}}const LWe={encode(t,e=new Qt){return t.params!==void 0&&Jte.encode(t.params,e.uint32(10).fork()).join(),t.number0!==void 0&&e.uint32(16).int32(t.number0),t.number1!==void 0&&e.uint32(24).int32(t.number1),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=PWe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.params=Jte.decode(n,n.uint32());continue;case 2:if(a!==16)break;i.number0=n.int32();continue;case 3:if(a!==24)break;i.number1=n.int32();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function DWe(){return{ids:void 0}}const Jte={encode(t,e=new Qt){return t.ids!==void 0&&ene.encode(t.ids,e.uint32(42).fork()).join(),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=DWe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 5:if(a!==42)break;i.ids=ene.decode(n,n.uint32());continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function FWe(){return{channelId:"",videoId:""}}const ene={encode(t,e=new Qt){return t.channelId!==""&&e.uint32(10).string(t.channelId),t.videoId!==""&&e.uint32(18).string(t.videoId),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=FWe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.channelId=n.string();continue;case 2:if(a!==18)break;i.videoId=n.string();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function BWe(){return{ctx:void 0,unkParam:0,params:void 0}}const UWe={encode(t,e=new Qt){return t.ctx!==void 0&&tne.encode(t.ctx,e.uint32(18).fork()).join(),t.unkParam!==0&&e.uint32(24).int32(t.unkParam),t.params!==void 0&&nne.encode(t.params,e.uint32(50).fork()).join(),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=BWe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 2:if(a!==18)break;i.ctx=tne.decode(n,n.uint32());continue;case 3:if(a!==24)break;i.unkParam=n.int32();continue;case 6:if(a!==50)break;i.params=nne.decode(n,n.uint32());continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function jWe(){return{videoId:""}}const tne={encode(t,e=new Qt){return t.videoId!==""&&e.uint32(18).string(t.videoId),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=jWe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 2:if(a!==18)break;i.videoId=n.string();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function zWe(){return{unkToken:void 0,opts:void 0,repliesOpts:void 0,page:void 0,target:""}}const nne={encode(t,e=new Qt){return t.unkToken!==void 0&&e.uint32(10).string(t.unkToken),t.opts!==void 0&&rne.encode(t.opts,e.uint32(34).fork()).join(),t.repliesOpts!==void 0&&ine.encode(t.repliesOpts,e.uint32(26).fork()).join(),t.page!==void 0&&e.uint32(40).int32(t.page),t.target!==""&&e.uint32(66).string(t.target),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=zWe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.unkToken=n.string();continue;case 4:if(a!==34)break;i.opts=rne.decode(n,n.uint32());continue;case 3:if(a!==26)break;i.repliesOpts=ine.decode(n,n.uint32());continue;case 5:if(a!==40)break;i.page=n.int32();continue;case 8:if(a!==66)break;i.target=n.string();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function $We(){return{videoId:"",sortBy:0,type:0,commentId:void 0}}const rne={encode(t,e=new Qt){return t.videoId!==""&&e.uint32(34).string(t.videoId),t.sortBy!==0&&e.uint32(48).int32(t.sortBy),t.type!==0&&e.uint32(120).int32(t.type),t.commentId!==void 0&&e.uint32(130).string(t.commentId),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=$We();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 4:if(a!==34)break;i.videoId=n.string();continue;case 6:if(a!==48)break;i.sortBy=n.int32();continue;case 15:if(a!==120)break;i.type=n.int32();continue;case 16:if(a!==130)break;i.commentId=n.string();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function qWe(){return{commentId:"",unkopts:void 0,channelId:void 0,videoId:"",unkParam1:0,unkParam2:0}}const ine={encode(t,e=new Qt){return t.commentId!==""&&e.uint32(18).string(t.commentId),t.unkopts!==void 0&&ane.encode(t.unkopts,e.uint32(34).fork()).join(),t.channelId!==void 0&&e.uint32(42).string(t.channelId),t.videoId!==""&&e.uint32(50).string(t.videoId),t.unkParam1!==0&&e.uint32(64).int32(t.unkParam1),t.unkParam2!==0&&e.uint32(72).int32(t.unkParam2),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=qWe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 2:if(a!==18)break;i.commentId=n.string();continue;case 4:if(a!==34)break;i.unkopts=ane.decode(n,n.uint32());continue;case 5:if(a!==42)break;i.channelId=n.string();continue;case 6:if(a!==50)break;i.videoId=n.string();continue;case 8:if(a!==64)break;i.unkParam1=n.int32();continue;case 9:if(a!==72)break;i.unkParam2=n.int32();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function HWe(){return{unkParam:0}}const ane={encode(t,e=new Qt){return t.unkParam!==0&&e.uint32(8).int32(t.unkParam),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=HWe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;i.unkParam=n.int32();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function VWe(){return{videoId:"",params:void 0,number:0}}const GWe={encode(t,e=new Qt){return t.videoId!==""&&e.uint32(18).string(t.videoId),t.params!==void 0&&sne.encode(t.params,e.uint32(42).fork()).join(),t.number!==0&&e.uint32(80).int32(t.number),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=VWe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 2:if(a!==18)break;i.videoId=n.string();continue;case 5:if(a!==42)break;i.params=sne.decode(n,n.uint32());continue;case 10:if(a!==80)break;i.number=n.int32();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function WWe(){return{index:0}}const sne={encode(t,e=new Qt){return t.index!==0&&e.uint32(8).int32(t.index),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=WWe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;i.index=n.int32();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function KWe(){return{type:0,commentId:"",videoId:"",unkNum:void 0,channelId:void 0,translateCommentParams:void 0}}const YWe={encode(t,e=new Qt){return t.type!==0&&e.uint32(8).int32(t.type),t.commentId!==""&&e.uint32(26).string(t.commentId),t.videoId!==""&&e.uint32(42).string(t.videoId),t.unkNum!==void 0&&e.uint32(16).int32(t.unkNum),t.channelId!==void 0&&e.uint32(186).string(t.channelId),t.translateCommentParams!==void 0&&one.encode(t.translateCommentParams,e.uint32(250).fork()).join(),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=KWe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;i.type=n.int32();continue;case 3:if(a!==26)break;i.commentId=n.string();continue;case 5:if(a!==42)break;i.videoId=n.string();continue;case 2:if(a!==16)break;i.unkNum=n.int32();continue;case 23:if(a!==186)break;i.channelId=n.string();continue;case 31:if(a!==250)break;i.translateCommentParams=one.decode(n,n.uint32());continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function XWe(){return{params:void 0,commentId:"",targetLanguage:""}}const one={encode(t,e=new Qt){return t.params!==void 0&&lne.encode(t.params,e.uint32(26).fork()).join(),t.commentId!==""&&e.uint32(18).string(t.commentId),t.targetLanguage!==""&&e.uint32(34).string(t.targetLanguage),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=XWe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 3:if(a!==26)break;i.params=lne.decode(n,n.uint32());continue;case 2:if(a!==18)break;i.commentId=n.string();continue;case 4:if(a!==34)break;i.targetLanguage=n.string();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function ZWe(){return{comment:void 0}}const lne={encode(t,e=new Qt){return t.comment!==void 0&&une.encode(t.comment,e.uint32(10).fork()).join(),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=ZWe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.comment=une.decode(n,n.uint32());continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function QWe(){return{text:""}}const une={encode(t,e=new Qt){return t.text!==""&&e.uint32(10).string(t.text),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=QWe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.text=n.string();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function JWe(){return{params:void 0}}const eKe={encode(t,e=new Qt){return t.params!==void 0&&cne.encode(t.params,e.uint32(746).fork()).join(),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=JWe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 93:if(a!==746)break;i.params=cne.decode(n,n.uint32());continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function tKe(){return{hashtag:"",type:0}}const cne={encode(t,e=new Qt){return t.hashtag!==""&&e.uint32(10).string(t.hashtag),t.type!==0&&e.uint32(24).int32(t.type),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=tKe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.hashtag=n.string();continue;case 3:if(a!==24)break;i.type=n.int32();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function nKe(){return{shortId:"",params:void 0,feature2:0,feature3:0}}const rKe={encode(t,e=new Qt){return t.shortId!==""&&e.uint32(10).string(t.shortId),t.params!==void 0&&dne.encode(t.params,e.uint32(42).fork()).join(),t.feature2!==0&&e.uint32(80).int32(t.feature2),t.feature3!==0&&e.uint32(104).int32(t.feature3),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=nKe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.shortId=n.string();continue;case 5:if(a!==42)break;i.params=dne.decode(n,n.uint32());continue;case 10:if(a!==80)break;i.feature2=n.int32();continue;case 13:if(a!==104)break;i.feature3=n.int32();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function iKe(){return{number:0}}const dne={encode(t,e=new Qt){return t.number!==0&&e.uint32(24).int32(t.number),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=iKe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 3:if(a!==24)break;i.number=n.int32();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function aKe(){return{f0:"",f1:void 0,f2:void 0}}const sKe={encode(t,e=new Qt){return t.f0!==""&&e.uint32(18).string(t.f0),t.f1!==void 0&&hne.encode(t.f1,e.uint32(202).fork()).join(),t.f2!==void 0&&fne.encode(t.f2,e.uint32(362).fork()).join(),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=aKe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 2:if(a!==18)break;i.f0=n.string();continue;case 25:if(a!==202)break;i.f1=hne.decode(n,n.uint32());continue;case 45:if(a!==362)break;i.f2=fne.decode(n,n.uint32());continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function oKe(){return{postId:""}}const hne={encode(t,e=new Qt){return t.postId!==""&&e.uint32(178).string(t.postId),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=oKe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 22:if(a!==178)break;i.postId=n.string();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function lKe(){return{p1:0,p2:0}}const fne={encode(t,e=new Qt){return t.p1!==0&&e.uint32(16).uint32(t.p1),t.p2!==0&&e.uint32(24).uint32(t.p2),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=lKe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 2:if(a!==16)break;i.p1=n.uint32();continue;case 3:if(a!==24)break;i.p2=n.uint32();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function uKe(){return{f0:void 0}}const cKe={encode(t,e=new Qt){return t.f0!==void 0&&pne.encode(t.f0,e.uint32(641815778).fork()).join(),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=uKe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 80226972:if(a!==641815778)break;i.f0=pne.decode(n,n.uint32());continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function dKe(){return{location:"",protoData:""}}const pne={encode(t,e=new Qt){return t.location!==""&&e.uint32(18).string(t.location),t.protoData!==""&&e.uint32(26).string(t.protoData),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=dKe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 2:if(a!==18)break;i.location=n.string();continue;case 3:if(a!==26)break;i.protoData=n.string();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function hKe(){return{title:"",postContainer:void 0,f0:void 0,commentDataContainer:void 0}}const fKe={encode(t,e=new Qt){return t.title!==""&&e.uint32(18).string(t.title),t.postContainer!==void 0&&mne.encode(t.postContainer,e.uint32(202).fork()).join(),t.f0!==void 0&&gne.encode(t.f0,e.uint32(362).fork()).join(),t.commentDataContainer!==void 0&&yne.encode(t.commentDataContainer,e.uint32(426).fork()).join(),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=hKe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 2:if(a!==18)break;i.title=n.string();continue;case 25:if(a!==202)break;i.postContainer=mne.decode(n,n.uint32());continue;case 45:if(a!==362)break;i.f0=gne.decode(n,n.uint32());continue;case 53:if(a!==426)break;i.commentDataContainer=yne.decode(n,n.uint32());continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function pKe(){return{postId:""}}const mne={encode(t,e=new Qt){return t.postId!==""&&e.uint32(178).string(t.postId),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=pKe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 22:if(a!==178)break;i.postId=n.string();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function mKe(){return{f0:0,f1:0}}const gne={encode(t,e=new Qt){return t.f0!==0&&e.uint32(16).int32(t.f0),t.f1!==0&&e.uint32(24).int32(t.f1),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=mKe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 2:if(a!==16)break;i.f0=n.int32();continue;case 3:if(a!==24)break;i.f1=n.int32();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function gKe(){return{commentData:void 0,title:""}}const yne={encode(t,e=new Qt){return t.commentData!==void 0&&bne.encode(t.commentData,e.uint32(34).fork()).join(),t.title!==""&&e.uint32(66).string(t.title),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=gKe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 4:if(a!==34)break;i.commentData=bne.decode(n,n.uint32());continue;case 8:if(a!==66)break;i.title=n.string();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function yKe(){return{sortBy:0,f0:0,postId:"",channelId:""}}const bne={encode(t,e=new Qt){return t.sortBy!==0&&e.uint32(48).int32(t.sortBy),t.f0!==0&&e.uint32(216).int32(t.f0),t.postId!==""&&e.uint32(234).string(t.postId),t.channelId!==""&&e.uint32(242).string(t.channelId),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=yKe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 6:if(a!==48)break;i.sortBy=n.int32();continue;case 27:if(a!==216)break;i.f0=n.int32();continue;case 29:if(a!==234)break;i.postId=n.string();continue;case 30:if(a!==242)break;i.channelId=n.string();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function bKe(t,e){const n=Ipe.encode({id:t,timestamp:e});return encodeURIComponent(Vl(n.finish()).replace(/\+/g,"-").replace(/\//g,"_"))}function vKe(t){return Ipe.decode(lZe(decodeURIComponent(t).replace(/-/g,"+").replace(/_/g,"/")))}function Ope(t,e={}){const n={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if(typeof e.target_language!="string")throw new Error("target_language must be a string");e.comment_id&&delete n.unkNum,n.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}const r=YWe.encode(n);return encodeURIComponent(Vl(r.finish()))}class IC extends Z{constructor(e){super(),this.popup=ge(e.popup),this.popup_type=e.popupType}}IC.type="OpenPopupAction";class jt extends Z{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new Y(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")?this.label=e.accessibility.label:Reflect.has(e,"accessibilityData")&&Reflect.has(e.accessibilityData,"accessibilityData")&&Reflect.has(e.accessibilityData.accessibilityData,"label")&&(this.label=e.accessibilityData.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"size")&&(this.size=e.size),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.endpoint=new Me(e.navigationEndpoint||e.serviceEndpoint||e.command)}}jt.type="Button";class x9 extends Z{constructor(e){super(),this.label=new Y(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new Me(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=e.icon?.iconType),Reflect.has(e,"descriptionText")&&(this.description=new Y(e.descriptionText))}}x9.type="DropdownItem";class RS extends Z{constructor(e){super(),this.label=e.label||"",this.entries=yt(e.entries,x9)}}RS.type="Dropdown";class E9 extends Z{constructor(e){super(),this.title=new Y(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=ge(e.privacyOption,RS),this.create_button=ge(e.cancelButton,jt),this.cancel_button=ge(e.cancelButton,jt)}}E9.type="CreatePlaylistDialog";class Me extends Z{constructor(e){if(super(),e){if(e.serialCommand||e.parallelCommand){const n=e.serialCommand||e.parallelCommand;this.commands=n.commands.map(r=>new Me(r))}(e.innertubeCommand||e.command||e.performOnceCommand)&&(e=e.innertubeCommand||e.command||e.performOnceCommand)}this.command=Wye(e),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new IC(e.openPopupAction)),this.name=Object.keys(e||{}).find(n=>n.endsWith("Endpoint")||n.endsWith("Command")),this.payload=this.name?Reflect.get(e,this.name):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=ge(this.payload.dialog||this.payload.content)),Reflect.has(this.payload,"modal")&&(this.modal=ge(this.payload.modal)),Reflect.has(this.payload,"nextEndpoint")&&(this.next_endpoint=new Me(this.payload.nextEndpoint)),e?.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},e?.commandMetadata?.webCommandMetadata?.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),e?.commandMetadata?.webCommandMetadata?.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),e?.commandMetadata?.webCommandMetadata?.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):this.name&&(this.metadata.api_url=this.getPath(this.name)),e?.commandMetadata?.webCommandMetadata?.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e?.createPlaylistEndpoint&&e?.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=ge(e?.createPlaylistEndpoint.createPlaylistDialog,E9))}getPath(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":case"reelWatchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"/live_chat/get_item_context_menu"}}call(e,n){if(!e)throw new Error("An API caller must be provided");if(this.command){const r=this.command;return e.execute(r.getApiPath(),{...r.buildRequest(),...n})}if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found.");return e.execute(this.metadata.api_url,{...this.payload,...n})}toURL(){if(this.metadata.url&&this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}}Me.type="NavigationEndpoint";class xt{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){if(!e)return[];let n;return e.thumbnails?n=e.thumbnails:e.sources&&(n=e.sources),n?n.map(r=>new xt(r)).sort((r,i)=>i.width-r.width):[]}}class wKe{constructor(e){this.text=e.emoji?.emojiId||e.emoji?.shortcuts?.[0]||e.text||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:e.emoji?.shortcuts||[],search_terms:e.emoji?.searchTerms||[],image:xt.fromResponse(e.emoji.image),is_custom:!!e.emoji?.isCustomEmoji}}toString(){return this.text}toHTML(){const e=Mpe(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}}class _Ke{constructor(e){this.text=e.text,this.bold=!!e.bold,this.italics=!!e.italics,this.strikethrough=!!e.strikethrough,this.deemphasize=!!e.deemphasize,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new Me(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){const e=[];if(this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s"),this.deemphasize&&e.push("small"),!this.text?.length)return"";const n=Mpe(this.text),i=`<span style="white-space: pre-wrap;">${e.map(a=>`<${a}>`).join("")+n+e.map(a=>`</${a}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length&&this.endpoint){const{url:a}=this.attachment.element.type.imageType.image.sources[0];let s="";a&&(s=`<img src="${a}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;" alt="">`);const o=this.endpoint.toURL();if(o)return`<a href="${o}" class="yt-ch-link">${s}${i}</a>`}if(this.endpoint){const a=this.endpoint.toURL();if(a)return`<a href="${a}">${i}</a>`}return i}}function Mpe(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}const Tw="Text";class Y{constructor(e){typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(n=>n.emoji?new wKe(n):new _Ke(n)),this.text=this.runs.map(n=>n.text).join("")):this.text=e?.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new Me(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new Me(e.titleNavigationEndpoint)),this.endpoint||this.runs?.[0]?.endpoint&&(this.endpoint=this.runs?.[0]?.endpoint)}static fromAttributed(e){const{content:n,commandRuns:r,attachmentRuns:i}=e,a=[{text:n,startIndex:0}],s=e.styleRuns?.map(o=>({...o,startIndex:o.startIndex??0,length:o.length??n.length}));if(s||r||i){if(s)for(const o of s)if(o.italic||o.strikethrough==="LINE_STYLE_SINGLE"||o.weightLabel==="FONT_WEIGHT_MEDIUM"||o.weightLabel==="FONT_WEIGHT_BOLD"){const l=CD(a,o);if(!l){Js(Tw,"Unable to find matching run for style run. Skipping...",{style_run:o,input_data:e,parsed_runs:JSON.parse(JSON.stringify(a))});continue}IE(a,l,o,{bold:o.weightLabel==="FONT_WEIGHT_MEDIUM"||o.weightLabel==="FONT_WEIGHT_BOLD",italics:o.italic,strikethrough:o.strikethrough==="LINE_STYLE_SINGLE"})}else O1(Tw,"Skipping style run as it is doesn't have any information that we parse.",{style_run:o,input_data:e});if(r)for(const o of r)if(o.onTap){const l=CD(a,o);if(!l){Js(Tw,"Unable to find matching run for command run. Skipping...",{command_run:o,input_data:e,parsed_runs:JSON.parse(JSON.stringify(a))});continue}IE(a,l,o,{navigationEndpoint:o.onTap})}else O1(Tw,'Skipping command run as it is missing the "doTap" property.',{command_run:o,input_data:e});if(i)for(const o of i){const l=CD(a,o);if(!l){Js(Tw,"Unable to find matching run for attachment run. Skipping...",{attachment_run:o,input_data:e,parsed_runs:JSON.parse(JSON.stringify(a))});continue}if(o.length===0)l.attachment=o;else{const u=o.startIndex-l.startIndex,d=l.text.substring(u,u+o.length),h=/^:[^:]+:$/.test(d);if(o.element?.type?.imageType?.image&&(h||/^(?:\p{Emoji}|\u200d)+$/u.test(d))){const p={image:o.element.type.imageType.image,isCustomEmoji:h,shortcuts:h?[d]:void 0};IE(a,l,o,{emoji:p})}else IE(a,l,o,{attachment:o})}}}return new Y({runs:a})}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}}function CD(t,e){return t.find(n=>n.startIndex<=e.startIndex&&e.startIndex+e.length<=n.startIndex+n.text.length)}function IE(t,e,n,r){const i=t.indexOf(e),a=[],s=n.startIndex-e.startIndex;n.startIndex>e.startIndex&&a.push({...e,text:e.text.substring(0,s)}),a.push({...e,text:e.text.substring(s,s+n.length),startIndex:n.startIndex,...r}),n.startIndex+n.length<e.startIndex+e.text.length&&a.push({...e,text:e.text.substring(s+n.length),startIndex:n.startIndex+n.length}),t.splice(i,1,...a)}class k9 extends Z{constructor(e){super(),this.title=Y.fromAttributed(e.title),this.link=Y.fromAttributed(e.link),this.favicon=xt.fromResponse(e.favicon)}}k9.type="ChannelExternalLinkView";class T9 extends Z{constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=Y.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=Y.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=Y.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=Y.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new Me(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=Y.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=yt(e.links,k9):this.links=[]}}T9.type="AboutChannelView";class A9 extends Z{constructor(e){super(),this.metadata=ge(e.metadata,T9),this.share_channel=ge(e.shareChannel,jt)}}A9.type="AboutChannel";class C9 extends Z{constructor(e){super(),this.title=new Y(e.title),this.endpoint=new Me(e.navigationEndpoint)}}C9.type="AccountChannel";class NC extends Z{constructor(e){super(),this.account_name=new Y(e.accountName),this.account_photo=xt.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new Me(e.serviceEndpoint),this.account_byline=new Y(e.accountByline),this.channel_handle=new Y(e.channelHandle)}}NC.type="AccountItem";class R9 extends Z{constructor(e){super(),this.title=new Y(e.title)}}R9.type="AccountItemSectionHeader";class IS extends Z{constructor(e){super(),this.title=new Y(e.title).toString(),"subtitle"in e&&(this.subtitle=new Y(e.subtitle)),"icon"in e&&"iconType"in e.icon&&(this.icon_type=e.icon.iconType),"secondaryIcon"in e&&"iconType"in e.secondaryIcon&&(this.secondary_icon_type=e.secondaryIcon.iconType),this.endpoint=new Me(e.navigationEndpoint||e.serviceEndpoint),this.style=e.style}}IS.type="CompactLink";class I9 extends Z{constructor(e){super(),this.contents=yt(e.contents,[NC,IS]),this.header=ge(e.header,R9)}}I9.type="AccountItemSection";class N9 extends Z{constructor(e){super(),this.contents=yt(e.contents,I9),this.footers=yt(e.footers,C9)}}N9.type="AccountSectionList";class Wd extends Z{constructor(e){super(),this.contents=yt(e.continuationItems),this.target=e.target}}Wd.type="AppendContinuationItemsAction";class Ppe extends Z{constructor(e){super(),this.target_id=e.targetId,this.visibility=e.visibility}}Ppe.type="ChangeEngagementPanelVisibilityAction";class O9 extends Z{constructor(e){super(),this.header=ge(e.header),this.sections=yt(e.sections),this.style=e.style}}O9.type="MultiPageMenu";class Lpe extends Z{constructor(e){super(),this.menu=ge(e.menu,O9)}}Lpe.type="GetMultiPageMenuAction";class Dpe extends Z{constructor(e){super(),this.bucket=e.bucket}}Dpe.type="SendFeedbackAction";class Fpe extends Z{constructor(e){super(),this.signal=e.signal}}Fpe.type="SignalAction";class M9 extends Z{constructor(e){super(),this.header=ge(e.header),this.contents=Bi(e.contents,!0)}}M9.type="ChannelSwitcherPage";class Bpe extends Z{constructor(e){super();const n=ge(e.page,M9);n&&(this.header=n.header,this.contents=n.contents)}}Bpe.type="UpdateChannelSwitcherPageAction";class Fm extends Z{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(n=>({title:n.title,selected:n.selected,continuation:n.continuation?.reloadContinuationData?.continuation,endpoint:new Me(n.serviceEndpoint||n.navigationEndpoint),subtitle:n.subtitle||null})))}}Fm.type="SortFilterSubMenu";class P9 extends Z{constructor(e){super(),this.language_menu=ge(e.languageMenu,Fm)}}P9.type="TranscriptFooter";class L9 extends Z{constructor(e){super(),this.formatted_placeholder=new Y(e.formattedPlaceholder),this.clear_button=ge(e.clearButton,jt),this.endpoint=new Me(e.onTextChangeCommand),this.search_button=ge(e.searchButton,jt)}}L9.type="TranscriptSearchBox";class D9 extends Z{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new Y(e.snippet)}}D9.type="TranscriptSectionHeader";class F9 extends Z{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new Y(e.snippet),this.start_time_text=new Y(e.startTimeText),this.target_id=e.targetId}}F9.type="TranscriptSegment";class B9 extends Z{constructor(e){super(),this.initial_segments=yt(e.initialSegments,[F9,D9]),this.no_result_label=new Y(e.noResultLabel),this.retry_label=new Y(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}}B9.type="TranscriptSegmentList";class U9 extends Z{constructor(e){super(),this.header=ge(e.header,L9),this.body=ge(e.body,B9),this.footer=ge(e.footer,P9),this.target_id=e.targetId}}U9.type="TranscriptSearchPanel";class OC extends Z{constructor(e){super(),this.content=ge(e.content,U9)}}OC.type="Transcript";class Upe extends Z{constructor(e){super(),this.target_id=e.targetId,this.content=ge(e.content,OC)}}Upe.type="UpdateEngagementPanelAction";class jpe extends Z{constructor(e){super(),this.channel_id=e.channelId,this.subscribed=e.subscribed}}jpe.type="UpdateSubscribeButtonAction";class zpe extends Z{constructor(e){super(),this.account_name=new Y(e.accountName),this.account_photo=xt.fromResponse(e.accountPhoto),this.endpoint=new Me(e.serviceEndpoint),this.manage_account_title=new Y(e.manageAccountTitle),this.channel_handle=new Y(e.channelHandle)}}zpe.type="ActiveAccountHeader";class j9 extends Z{constructor(e){super(),this.title=new Y(e.title)}}j9.type="MenuTitle";class z9 extends Z{constructor(e){super(),this.add_to_playlist_service_endpoint=new Me(e.addToPlaylistServiceEndpoint),this.contains_selected_videos=e.containsSelectedVideos,this.playlist_id=e.playlistId,this.privacy=e.privacy,this.privacy_icon={icon_type:e.privacyIcon?.iconType||null},this.remove_from_playlist_service_endpoint=new Me(e.removeFromPlaylistServiceEndpoint),this.title=new Y(e.title)}}z9.type="PlaylistAddToOption";class $pe extends Z{constructor(e){super(),this.actions=yt(e.actions,[j9,jt]),this.playlists=yt(e.playlists,z9)}}$pe.type="AddToPlaylist";class MC extends Z{constructor(e){super(),this.text=new Y(e.text),this.alert_type=e.type}}MC.type="Alert";class $9 extends Z{constructor(e){super(),this.text=new Y(e.text),this.alert_type=e.type,this.dismiss_button=ge(e.dismissButton,jt)}}$9.type="AlertWithButton";class q9 extends Z{constructor(e){super(),this.thumbnail=xt.fromResponse(e.thumbnail)}}q9.type="AnimatedThumbnailOverlayView";class H9 extends Z{constructor(e){super(),this.text=Y.fromAttributed(e.text),this.suffix=Y.fromAttributed(e.suffix)}}H9.type="AttributionView";class V9 extends Z{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}}V9.type="AudioOnlyPlayability";class NS extends Z{constructor(e){super(),e?.content?.automixPlaylistVideoRenderer?.navigationEndpoint&&(this.playlist_video={endpoint:new Me(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}}NS.type="AutomixPreviewVideo";class PC extends Z{constructor(e){super(),this.image=xt.fromResponse(e.image),this.avatar_image_size=e.avatarImageSize,e.image.processor&&(this.image_processor={border_image_processor:{circular:e.image.processor.borderImageProcessor.circular}})}}PC.type="AvatarView";class OS{constructor(e){this.command_context={},this.accessibility_context={},e&&(Reflect.has(e,"commandContext")&&Reflect.has(e.commandContext,"onTap")&&(this.command_context.on_tap=new Me(e.commandContext.onTap)),Reflect.has(e,"accessibilityContext")&&Reflect.has(e.accessibilityContext,"label")&&(this.accessibility_context.label=e.accessibilityContext.label))}}class G9 extends Z{constructor(e){super(),this.avatars=yt(e.avatars,PC),Reflect.has(e,"text")&&(this.text=Y.fromAttributed(e.text)),this.renderer_context=new OS(e.rendererContext)}}G9.type="AvatarStackView";class xs extends Z{constructor(e){super(),this.icon_name=e.iconName,this.title=e.title,this.accessibility_text=e.accessibilityText,this.style=e.style,this.is_full_width=e.isFullWidth,this.button_type=e.type,this.button_size=e.buttonSize,this.on_tap=new Me(e.onTap)}}xs.type="ButtonView";class qpe extends Z{constructor(e){super(),this.body_text=new Y(e.bodyText),this.cta_button=ge(e.ctaButton,[jt,xs]),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.title=new Y(e.title)}}qpe.type="BackgroundPromo";class W9 extends Z{constructor(e){super(),this.image=xt.fromResponse(e.image),this.endpoint=new Me(e.command)}}W9.type="BackstageImage";class to extends Z{constructor(e){super(),this.text=new Y(e.defaultText),this.toggled_text=new Y(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=e.defaultIcon?.iconType;const n=e?.defaultText?.accessibility?.accessibilityData?.label||e?.accessibilityData?.accessibilityData?.label||e?.accessibility?.label;this.icon_type=="LIKE"&&(this.like_count=parseInt(n.replace(/\D/g,"")),this.short_like_count=new Y(e.defaultText).toString()),this.endpoint=e.defaultServiceEndpoint?.commandExecutorCommand?.commands?new Me(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new Me(e.defaultServiceEndpoint),this.toggled_endpoint=new Me(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}}to.type="ToggleButton";class K9 extends Z{constructor(e){super(),this.creator_thumbnail=xt.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:e.heartColor?.basicColorPaletteData?.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}}K9.type="CreatorHeart";class Y9 extends Z{constructor(e){super(),this.like_button=ge(e.likeButton,to),this.dislike_button=ge(e.dislikeButton,to),this.reply_button=ge(e.replyButton,jt),this.creator_heart=ge(e.creatorHeart,K9)}}Y9.type="CommentActionButtons";class Bm extends Z{constructor(e){super(),this.default_button=ge(e.defaultButtonViewModel,xs),this.toggled_button=ge(e.toggledButtonViewModel,xs),this.is_toggling_disabled=e.isTogglingDisabled,this.identifier=e.identifier,Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled)}}Bm.type="ToggleButtonView";class X9 extends Z{constructor(e){super(),this.toggle_button=ge(e.toggleButtonViewModel,Bm),this.like_status_entity_key=e.likeStatusEntityKey,this.like_status_entity={key:e.likeStatusEntity.key,like_status:e.likeStatusEntity.likeStatus}}}X9.type="LikeButtonView";class Z9 extends Z{constructor(e){super(),this.toggle_button=ge(e.toggleButtonViewModel,Bm),this.dislike_entity_key=e.dislikeEntityKey}}Z9.type="DislikeButtonView";class t0 extends Z{constructor(e){if(super(),this.like_button=ge(e.likeButtonViewModel,X9),this.dislike_button=ge(e.dislikeButtonViewModel,Z9),this.icon_type=e.iconType,this.like_button&&this.like_button.toggle_button){const n=this.like_button.toggle_button;n.default_button?(this.short_like_count=n.default_button.title,this.like_count=parseInt(n.default_button.accessibility_text.replace(/\D/g,""))):n.toggled_button&&(this.short_like_count=n.toggled_button.title,this.like_count=parseInt(n.toggled_button.accessibility_text.replace(/\D/g,"")))}this.like_count_entity={key:e.likeCountEntity.key},this.dynamic_like_count_update_data={update_status_key:e.dynamicLikeCountUpdateData.updateStatusKey,placeholder_like_count_values_key:e.dynamicLikeCountUpdateData.placeholderLikeCountValuesKey,update_delay_loop_id:e.dynamicLikeCountUpdateData.updateDelayLoopId,update_delay_sec:e.dynamicLikeCountUpdateData.updateDelaySec}}}t0.type="SegmentedLikeDislikeButtonView";class l0 extends jt{constructor(e){super(e)}}l0.type="MenuServiceItem";class LC extends Z{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new Me(e.command),this.target_id=e.targetId}}LC.type="DownloadButton";class Q9 extends Z{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new Me(e.navigationEndpoint||e.serviceEndpoint)}}Q9.type="MenuServiceItemDownload";class J9 extends Z{constructor(e){super(),this.menu_item=ge(e.menuItem,[l0,Q9]),this.top_level_button=ge(e.topLevelButton,[LC,xs,jt])}}J9.type="MenuFlexibleItem";class DC extends Z{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(n=>new Me(n)))}}DC.type="LikeButton";class FC extends Z{constructor(e){super(),this.actions_rows=e.actionsRows.map(n=>({actions:yt(n.actions,[xs,Bm])})),this.style=e.style}}FC.type="FlexibleActionsView";class wi extends Z{constructor(e){super(),this.items=yt(e.items),this.flexible_items=yt(e.flexibleItems,J9),this.top_level_buttons=yt(e.topLevelButtons,[to,DC,jt,xs,t0,FC]),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}}wi.type="Menu";class MS extends Z{constructor(e){super(),this.id=e.postId,this.author=new oi({...e.authorText,navigationEndpoint:e.authorEndpoint},null,e.authorThumbnail),this.content=new Y(e.contentText),this.published=new Y(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new Y(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=ge(e.actionMenu,wi)),Reflect.has(e,"actionButtons")&&(this.action_buttons=ge(e.actionButtons,Y9)),Reflect.has(e,"voteButton")&&(this.vote_button=ge(e.voteButton,jt)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new Me(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=ge(e.backstageAttachment)),this.surface=e.surface}}MS.type="BackstagePost";class Hpe extends Z{constructor(e){super(),this.post=ge(e.post)}}Hpe.type="BackstagePostThread";class Vpe extends Z{constructor(e){super(),this.text=e.badgeText,this.style=e.badgeStyle,this.accessibility_label=e.accessibilityLabel}}class eB extends Z{constructor(e){super(),this.contents=yt(e.contents)}}eB.type="BrowseFeedActions";class Gpe extends Z{constructor(e){super(),this.album=new Y(e.album),this.thumbnails=xt.fromResponse(e.thumbnailDetails)}}Gpe.type="BrowserMediaSession";class Wpe extends Z{constructor(e){super(),this.title=e.title,this.icon_name=e.image.sources[0].clientResource.imageName,this.renderer_context=new OS(e.rendererContext)}}Wpe.type="ButtonCardView";class e8 extends Z{constructor(e){super(),this.endpoint=new Me(e.navigationEndpoint),this.icon=xt.fromResponse(e.icon),this.title=new Y(e.title)}}e8.type="HeaderLink";class tB extends Z{constructor(e){super(),this.primary=mi(e.primaryLinks?.map(n=>new e8(n))||[]),this.secondary=mi(e.secondaryLinks?.map(n=>new e8(n))||[])}}tB.type="ChannelHeaderLinks";class nB extends Z{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=Y.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=Y.fromAttributed(e.more))}}nB.type="ChannelHeaderLinksView";class rB extends Z{constructor(e){super(),this.placeholder_text=new Y(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}}rB.type="ClipCreationTextInput";class iB extends Z{constructor(e){super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=e.startAccessibility?.accessibilityData?.label,this.end_label=e.endAccessibility?.accessibilityData?.label,this.duration_label=e.durationAccessibility?.accessibilityData?.label}}iB.type="ClipCreationScrubber";class aB extends Z{constructor(e){super(),this.title=new Y(e.title),this.body=new Y(e.body)}}aB.type="ClipAdState";class sB extends Z{constructor(e){super(),this.user_avatar=xt.fromResponse(e.userAvatar),this.title_input=ge(e.titleInput,[rB]),this.scrubber=ge(e.scrubber,[iB]),this.save_button=ge(e.saveButton,[jt]),this.display_name=new Y(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=ge(e.cancelButton,[jt]),this.ad_state_overlay=ge(e.adStateOverlay,[aB]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}}sB.type="ClipCreation";class oB extends Z{constructor(e){super(),this.contents=Bi(e.contents,!0,[sB])}}oB.type="ClipSection";class Fi extends Z{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=ge(e.button,jt)),this.endpoint=new Me(e.continuationEndpoint)}}Fi.type="ContinuationItem";class lB extends Z{constructor(e){super(),this.title=new Y(e.title),this.contextual_info=e.contextualInfo?new Y(e.contextualInfo):void 0,this.visibility_button=ge(e.visibilityButton,jt),this.menu=ge(e.menu)}}lB.type="EngagementPanelTitleHeader";class uB extends Z{constructor(e){super(),this.info_text=new Y(e.infoText),this.menu=ge(e.menu,wi)}}uB.type="MacroMarkersInfoItem";class BC extends Z{constructor(e){super(),this.title=new Y(e.title),this.time_description=new Y(e.timeDescription),this.thumbnail=xt.fromResponse(e.thumbnail),this.on_tap_endpoint=new Me(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}}BC.type="MacroMarkersListItem";class cB extends Z{constructor(e){super(),this.contents=yt(e.contents,[uB,BC]),this.sync_button_label=new Y(e.syncButtonLabel)}}cB.type="MacroMarkersList";class dB extends Z{constructor(e){super(),this.contents=yt(e.contents)}}dB.type="ProductList";class ca extends Z{constructor(e){super(),this.contents=yt(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=ge(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=ge(e.subMenu))}}ca.type="SectionList";class hB extends Z{constructor(e){super(),this.show_more_text=new Y(e.showMoreText),this.show_less_text=new Y(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=Y.fromAttributed(e.attributedDescriptionBodyText))}}hB.type="ExpandableVideoDescriptionBody";class P1 extends Z{constructor(e){super(),this.thumbnails=xt.fromResponse(e.thumbnail),this.endpoint=new Me(e.searchEndpoint),this.query=new Y(e.query).toString()}}P1.type="SearchRefinementCard";class fB extends Z{constructor(e){super(),this.game=ge(e.game)}}fB.type="GameCard";class pB extends Z{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=yt(e.items)}get contents(){return this.items}}pB.type="HorizontalList";class mB extends Z{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new Y(e.header.collapsedTitle),collapsed_thumbnail:xt.fromResponse(e.header.collapsedThumbnail),collapsed_label:new Y(e.header.collapsedLabel),expanded_title:new Y(e.header.expandedTitle)}),this.expanded_content=ge(e.expandedContent,[LS,pB]),this.expand_button=ge(e.expandButton,jt),this.collapse_button=ge(e.collapseButton,jt)}}mB.type="ExpandableMetadata";class Xm extends Z{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}}Xm.type="MetadataBadge";class L1 extends Z{constructor(e){super(),this.text=new Y(e.text).toString(),this.style=e.style}}L1.type="ThumbnailOverlayTimeStatus";class UC extends Z{constructor(e){super();const n=e.thumbnailOverlays.find(r=>r.thumbnailOverlayTimeStatusRenderer)?.thumbnailOverlayTimeStatusRenderer.text||"N/A";this.id=e.videoId,this.title=new Y(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new Y(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(r=>({text:new Y(r.snippetText),hover_text:new Y(r.snippetHoverText)}))),this.expandable_metadata=ge(e.expandableMetadata,mB),this.thumbnails=xt.fromResponse(e.thumbnail),this.thumbnail_overlays=yt(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=ge(e.richThumbnail)),this.author=new oi(e.ownerText,e.ownerBadges,e.channelThumbnailSupportedRenderers?.channelThumbnailWithLinkRenderer?.thumbnail),this.badges=yt(e.badges,Xm),this.endpoint=new Me(e.navigationEndpoint),this.published=new Y(e.publishedTimeText),this.view_count=new Y(e.viewCountText),this.short_view_count=new Y(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(+`${e.upcomingEventData.startTime}000`)),this.duration={text:e.lengthText?new Y(e.lengthText).toString():new Y(n).toString(),seconds:Pf(e.lengthText?new Y(e.lengthText).toString():new Y(n).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=ge(e.menu,wi),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey),Reflect.has(e,"bylineText")&&(this.byline_text=new Y(e.bylineText))}get description(){return this.snippets?this.snippets.map(e=>e.text.toString()).join(""):this.description_snippet?.toString()||""}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})||this.thumbnail_overlays.firstOfType(L1)?.style==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}}UC.type="Video";class gB extends UC{constructor(e){super(e),Reflect.has(e,"metadataText")&&(this.metadata_text=new Y(e.metadataText),this.metadata_text.text&&(this.short_view_count=new Y({simpleText:this.metadata_text.text.split("·")[0]?.trim()}),this.published=new Y({simpleText:this.metadata_text.text.split("·")[1]?.trim()}))),Reflect.has(e,"bylineText")&&(this.author=new oi(e.bylineText,e.ownerBadges,e.channelThumbnailSupportedRenderers?.channelThumbnailWithLinkRenderer?.thumbnail))}}gB.type="VideoCard";class kb extends Z{constructor(e){super(),this.image=xt.fromResponse(e.image),this.style=e.style}}kb.type="ContentPreviewImageView";class PS extends Z{constructor(e){super(),e.image?.sources?this.image=xt.fromResponse(e.image):this.image=ge(e.image,kb),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,Reflect.has(e,"secondarySubtitle")&&(this.secondary_subtitle={content:e.secondarySubtitle.content}),this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap=new Me(e.overflowMenuOnTap),this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}}PS.type="VideoAttributeView";class LS extends Z{constructor(e){super(),this.cards=yt(e.cards,[PS,P1,BC,fB,gB]),this.header=ge(e.header),this.previous_button=ge(e.previousButton,jt),this.next_button=ge(e.nextButton,jt)}}LS.type="HorizontalCardList";class DS extends Z{constructor(e){super(),this.label=new Y(e.label),this.value=new Y(e.value),this.accessibility_text=e.accessibilityText}}DS.type="Factoid";class yB extends Z{constructor(e){super(),this.factoid=ge(e.factoid,DS)}}yB.type="UploadTimeFactoid";class bB extends Z{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=ge(e.factoid,[DS]),this.view_count_type=e.viewCountType}}bB.type="ViewCountFactoid";class vB extends Z{constructor(e){super(),this.title=new Y(e.title),this.channel=new Y(e.channel),this.channel_navigation_endpoint=new Me(e.channelNavigationEndpoint),this.channel_thumbnail=xt.fromResponse(e.channelThumbnail),this.publish_date=new Y(e.publishDate),this.views=new Y(e.views),this.factoids=yt(e.factoid,[DS,bB,yB])}}vB.type="VideoDescriptionHeader";class wB extends Z{constructor(e){super(),this.section_title=new Y(e.sectionTitle),this.creator_videos_button=ge(e.creatorVideosButton,jt),this.creator_about_button=ge(e.creatorAboutButton,jt),this.section_subtitle=new Y(e.sectionSubtitle),this.channel_avatar=xt.fromResponse(e.channelAvatar),this.channel_endpoint=new Me(e.channelEndpoint)}}wB.type="VideoDescriptionInfocardsSection";class _B extends Z{constructor(e){super(),this.title=new Y(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new Y(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new Y(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}}_B.type="InfoRow";class jC extends Z{constructor(e){super(),this.id=e.videoId,this.thumbnails=xt.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=ge(e.richThumbnail)),this.title=new Y(e.title),this.author=new oi(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new Y(e.viewCountText),this.short_view_count=new Y(e.shortViewCountText),this.published=new Y(e.publishedTimeText),this.badges=yt(e.badges,Xm),this.duration={text:new Y(e.lengthText).toString(),seconds:Pf(new Y(e.lengthText).toString())},this.thumbnail_overlays=yt(e.thumbnailOverlays),this.endpoint=new Me(e.navigationEndpoint),this.menu=ge(e.menu,wi)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}}jC.type="CompactVideo";class SB extends Z{constructor(e){super(),this.info_rows=yt(e.infoRows,_B),this.video_lockup=ge(e.videoLockup,jC)}}SB.type="CarouselLockup";class zC extends Z{constructor(e){super(),this.carousel_lockups=yt(e.carouselLockups,SB),this.section_title=new Y(e.sectionTitle)}}zC.type="VideoDescriptionMusicSection";class BT extends Z{constructor(e){super(),this.section_title=new Y(e.sectionTitle),this.sub_header_text=new Y(e.subHeaderText),this.primary_button=ge(e.primaryButton,jt)}}BT.type="VideoDescriptionTranscriptSection";class xB extends Z{constructor(e){super(),this.thumbnail=xt.fromResponse(e.thumbnail),this.title=new Y(e.title),this.short_byline_text=new Y(e.shortBylineText),this.video_count_short_text=new Y(e.videoCountShortText),this.endpoint=new Me(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}}xB.type="StructuredDescriptionPlaylistLockup";class EB extends Z{constructor(e){super(),this.section_title=new Y(e.sectionTitle),this.media_lockups=yt(e.mediaLockups,[xB])}}EB.type="VideoDescriptionCourseSection";class kB extends Z{constructor(e){super(),this.header_title=e.headerTitle,this.header_subtitle=e.headerSubtitle,this.video_attributes=yt(e.videoAttributeViewModels,PS),this.previous_button=ge(e.previousButton,xs),this.next_button=ge(e.nextButton,xs)}}kB.type="VideoAttributesSectionView";class TB extends Z{constructor(e){super(),Reflect.has(e,"sectionText")&&(this.section_title=Y.fromAttributed(e.sectionText)),Reflect.has(e,"bodyText")&&(this.body_text=Y.fromAttributed(e.bodyText)),Reflect.has(e,"bodyHeader")&&(this.body_header=Y.fromAttributed(e.bodyHeader))}}TB.type="HowThisWasMadeSectionView";class $C extends Z{constructor(e){super(),this.title=new Y(e.title),this.items=yt(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new Me(e.endpoint))}get contents(){return this.items}}$C.type="ReelShelf";class D1 extends Z{constructor(e){super(),this.items=yt(e.items,[vB,hB,zC,wB,EB,BT,BT,LS,$C,kB,TB])}}D1.type="StructuredDescriptionContent";class FS extends Z{constructor(e){super(),this.header=ge(e.header,lB),this.content=ge(e.content,[PS,ca,Fi,oB,D1,cB,dB]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}}FS.type="EngagementPanelSectionList";class AB extends Z{constructor(e){super(),this.content=e.content,this.max_lines=e.maxLines,this.more_endpoint=e.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:ge(e.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,FS),engagement_panel_popup_type:e.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:e.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new Me(e.moreEndpoint),this.more_icon_type=e.moreIcon.iconType,this.more_label=e.moreLabel,this.target_id=e.targetId}}AB.type="ChannelTagline";class CB extends Z{constructor(e){super(),this.states=e.states.map(n=>({id:n.stateId,next_id:n.nextStateId,state:Bi(n.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}}CB.type="SubscriptionNotificationToggleButton";class ah extends Z{constructor(e){super(),this.button_text=new Y(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,Reflect.has(e,"subscribedButtonText")&&(this.subscribed_text=new Y(e.subscribedButtonText)),Reflect.has(e,"unsubscribedButtonText")&&(this.unsubscribed_text=new Y(e.unsubscribedButtonText)),Reflect.has(e,"unsubscribeButtonText")&&(this.unsubscribe_text=new Y(e.unsubscribeButtonText)),this.notification_preference_button=ge(e.notificationPreferenceButton,CB),Reflect.has(e,"serviceEndpoints")&&(this.service_endpoints=e.serviceEndpoints.map(n=>new Me(n))),Reflect.has(e,"onSubscribeEndpoints")&&(this.on_subscribe_endpoints=e.onSubscribeEndpoints.map(n=>new Me(n))),Reflect.has(e,"onUnsubscribeEndpoints")&&(this.on_unsubscribe_endpoints=e.onUnsubscribeEndpoints.map(n=>new Me(n))),Reflect.has(e,"subscribedEntityKey")&&(this.subscribed_entity_key=e.subscribedEntityKey),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"subscribeAccessibility")&&(this.subscribe_accessibility_label=e.subscribeAccessibility.accessibilityData?.label),Reflect.has(e,"unsubscribeAccessibility")&&(this.unsubscribe_accessibility_label=e.unsubscribeAccessibility.accessibilityData?.label)}}ah.type="SubscribeButton";class Tb extends Z{constructor(e){super(),this.author=new oi({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=xt.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=xt.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=xt.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new Y(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new Y(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=ge(e.sponsorButton,jt)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=ge(e.subscribeButton,[ah,jt])),Reflect.has(e,"headerLinks")&&(this.header_links=ge(e.headerLinks,[tB,nB])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new Y(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"tagline")&&(this.tagline=ge(e.tagline,AB))}}Tb.type="C4TabbedHeader";class Kpe extends Z{constructor(e){super(),this.label=new Y(e.label),this.icon_type=e.icon.iconType,this.style=e.style}}Kpe.type="CallToActionButton";class Ype extends Z{constructor(e){super(),this.teaser=ge(e.teaser),this.content=ge(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(n=>({start_card_active_ms:n.startCardActiveMs,end_card_active_ms:n.endCardActiveMs,teaser_duration_ms:n.teaserDurationMs,icon_after_teaser_ms:n.iconAfterTeaserMs}))}}Ype.type="Card";class RB extends Z{constructor(e){super(),this.cards=yt(e.cards),this.header=new Y(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}}RB.type="CardCollection";class IB extends Z{constructor(e){super(),this.contents=yt(e.contents)}}IB.type="CarouselHeader";class Xpe extends Z{constructor(e){super(),this.items=yt(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=xt.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}}Xpe.type="CarouselItem";class NB extends Z{constructor(e){super(),this.icon_name=e.iconName,this.text=Y.fromAttributed(e.text),this.on_tap_endpoint=new Me(e.onTap),this.button=ge(e.button,xs)}}NB.type="TextCarouselItemView";class OB extends Z{constructor(e){super(),this.item_type=e.itemType,this.carousel_item=ge(e.carouselItem,NB)}}OB.type="CarouselItemView";class MB extends Z{constructor(e){super(),this.title=e.title,this.previous_button=ge(e.previousButton,xs),this.next_button=ge(e.nextButton,xs)}}MB.type="CarouselTitleView";let PB=class extends Z{constructor(e){super(),this.id=e.channelId,this.author=new oi({...e.title,navigationEndpoint:e.navigationEndpoint},e.ownerBadges,e.thumbnail),this.subscriber_count=new Y(e.subscriberCountText),this.video_count=new Y(e.videoCountText),this.long_byline=new Y(e.longBylineText),this.short_byline=new Y(e.shortBylineText),this.endpoint=new Me(e.navigationEndpoint),this.subscribe_button=ge(e.subscribeButton,[ah,jt]),this.description_snippet=new Y(e.descriptionSnippet)}};PB.type="Channel";class UT extends Z{constructor(e){super(),this.id=e.channelId,this.name=new Y(e.title),this.avatar=xt.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=e.primaryLinks?.map(n=>({endpoint:new Me(n.navigationEndpoint),icon:xt.fromResponse(n.icon),title:new Y(n.title)}))??[],this.view_count=new Y(e.viewCountText),this.joined_date=new Y(e.joinedDateText),this.description=new Y(e.description),this.email_reveal=new Me(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new Y(e.country),this.buttons=yt(e.actionButtons,jt)}}UT.type="ChannelAboutFullMetadata";class Zpe extends Z{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=xt.fromResponse(e.avatar),this.header=new Y(e.header),this.main_text=new Y(e.mainText),this.sign_in_button=ge(e.signInButton,jt),this.secondary_text=new Y(e.secondaryText)}}Zpe.type="ChannelAgeGate";class Qpe extends Z{constructor(e){super(),this.title=new Y(e.title),this.items=yt(e.items)}}Qpe.type="ChannelFeaturedContent";class LB extends Z{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=xt.fromResponse(e.avatar),this.music_artist_name=typeof e.musicArtistName=="string"&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}}LB.type="ChannelMetadata";class Jpe extends Z{constructor(e){super(),this.title=new Y(e.title)}}Jpe.type="ChannelMobileHeader";class DB extends Z{constructor(e){super(),this.avatar=xt.fromResponse(e.avatar),this.endpoint=new Me(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(n=>new Y(n))}}DB.type="ChannelOptions";class eme extends Z{constructor(e){super(),this.illustration=xt.fromResponse(e.illustration),this.description=new Y(e.description)}}eme.type="ChannelOwnerEmptyState";class jT extends Z{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(n=>({endpoint:new Me(n.navigationEndpoint||n.endpoint),selected:n.selected,title:n.title})),this.sort_setting=ge(e.sortSetting)}}jT.type="ChannelSubMenu";class tme extends Z{constructor(e){super(),this.title=new Y(e.title).toString(),Reflect.has(e,"button")&&(this.button=ge(e.button,jt))}}tme.type="ChannelSwitcherHeader";class nme extends Z{constructor(e){super(),this.thumbnails=xt.fromResponse(e.thumbnail),this.endpoint=new Me(e.navigationEndpoint),this.label=e.accessibility?.accessibilityData?.label}}nme.type="ChannelThumbnailWithLink";class rme extends Z{constructor(e){super(),this.id=e.videoId,this.title=new Y(e.title),this.description=new Y(e.description),this.view_count=new Y(e.viewCountText),this.published_time=new Y(e.publishedTimeText)}}rme.type="ChannelVideoPlayer";class FB extends Z{constructor(e){super(),this.title=new Y(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=xt.fromResponse(e.thumbnail)}}FB.type="Chapter";class ime extends Z{constructor(e){super(),this.id=e.videoId,this.title=new Y(e.title),this.duration={text:e.lengthText.simpleText,seconds:Pf(e.lengthText.simpleText)},this.endpoint=new Me(e.navigationEndpoint)}}ime.type="ChildVideo";class BB extends Z{constructor(e){super(),this.text=e.text,this.display_type=e.displayType,this.endpoint=new Me(e.tapCommand),this.chip_entity_key=e.chipEntityKey}}BB.type="ChipView";class ame extends Z{constructor(e){super(),this.chips=yt(e.chips,BB)}}ame.type="ChipBarView";class Do extends Z{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new Me(e.navigationEndpoint)),this.text=new Y(e.text).toString()}}Do.type="ChipCloudChip";class Um extends Z{constructor(e){super(),this.chips=yt(e.chips,Do),this.next_button=ge(e.nextButton,jt),this.previous_button=ge(e.previousButton,jt),this.horizontal_scrollable=e.horizontalScrollable}}Um.type="ChipCloud";class sme extends Z{constructor(e){super(),this.text=new Y(e.defaultText),this.icon_type=e.defaultIcon.iconType,this.toggled_text=new Y(e.toggledText),this.toggled_icon_type=e.toggledIcon.iconType,Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.menu_item_identifier=e.menuItemIdentifier,this.endpoint=new Me(e.command),Reflect.has(e,"loggingDirectives")&&(this.logging_directives={visibility:{types:e.loggingDirectives.visibility.types},enable_displaylogger_experiment:e.loggingDirectives.enableDisplayloggerExperiment})}}sme.type="ClientSideToggleMenuItem";class ome extends Z{constructor(e){super(),this.channel_avatar=xt.fromResponse(e.channelAvatar),this.custom_text=new Y(e.customText),this.channel_name=new Y(e.channelName),this.subscriber_count=new Y(e.subscriberCountText),this.endpoint=new Me(e.endpoint)}}ome.type="CollaboratorInfoCardContent";class lme extends Z{constructor(e){super(),this.left=xt.fromResponse(e.leftThumbnail),this.top_right=xt.fromResponse(e.topRightThumbnail),this.bottom_right=xt.fromResponse(e.bottomRightThumbnail),this.endpoint=new Me(e.navigationEndpoint)}}lme.type="CollageHeroImage";class UB extends Z{constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=Y.fromAttributed(e.text),this.style=e.style}}UB.type="ThumbnailHoverOverlayView";class qC extends Z{constructor(e){super(),this.text=e.text,this.badge_style=e.badgeStyle,e.backgroundColor&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme}),e.iconName&&(this.icon_name=e.icon.sources[0].clientResource.imageName)}}qC.type="ThumbnailBadgeView";class jB extends Z{constructor(e){super(),this.badges=yt(e.thumbnailBadges,qC),this.position=e.position}}jB.type="ThumbnailOverlayBadgeView";class zB extends Z{constructor(e){super(),this.buttons=yt(e.buttons,Bm)}}zB.type="ThumbnailHoverOverlayToggleActionsView";class $B extends Z{constructor(e){super(),this.start_percent=e.startPercent}}$B.type="ThumbnailOverlayProgressBarView";class qB extends Z{constructor(e){super(),this.progress_bar=ge(e.progressBar,$B),this.badges=yt(e.badges,qC)}}qB.type="ThumbnailBottomOverlayView";class HC extends Z{constructor(e){super(),this.image=xt.fromResponse(e.image),this.overlays=yt(e.overlays,[zB,qB,jB,UB,q9]),"backgroundColor"in e&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme})}}HC.type="ThumbnailView";class HB extends Z{constructor(e){super(),this.primary_thumbnail=ge(e.primaryThumbnail,HC),e.stackColor&&(this.stack_color={light_theme:e.stackColor.lightTheme,dark_theme:e.stackColor.darkTheme})}}HB.type="CollectionThumbnailView";class ume extends Z{constructor(e){super(),this.open_miniplayer=e.openMiniplayer,this.video_id=e.videoId,this.list_type=e.listType,this.endpoint=new Me(e.onCreateListCommand),this.video_ids=e.videoIds}}ume.type="AddToPlaylistCommand";class cme extends Z{constructor(e){super(),this.commands=uYe(e.commands)}}cme.type="CommandExecutorCommand";var gc;let dme=class extends Z{constructor(e){super(),gc.set(this,void 0),kt(this,gc,e,"f")}getApiPath(){switch(L(this,gc,"f").request){case"CONTINUATION_REQUEST_TYPE_WATCH_NEXT":return"next";case"CONTINUATION_REQUEST_TYPE_BROWSE":return"browse";case"CONTINUATION_REQUEST_TYPE_SEARCH":return"search";case"CONTINUATION_REQUEST_TYPE_ACCOUNTS_LIST":return"account/accounts_list";case"CONTINUATION_REQUEST_TYPE_COMMENTS_NOTIFICATION_MENU":return"notification/get_notification_menu";case"CONTINUATION_REQUEST_TYPE_COMMENT_REPLIES":return"comment/get_comment_replies";case"CONTINUATION_REQUEST_TYPE_REEL_WATCH_SEQUENCE":return"reel/reel_watch_sequence";case"CONTINUATION_REQUEST_TYPE_GET_PANEL":return"get_panel";default:return""}}buildRequest(){const e={};return L(this,gc,"f").formData&&(e.formData=L(this,gc,"f").formData),L(this,gc,"f").token&&(e.continuation=L(this,gc,"f").token),L(this,gc,"f").request==="CONTINUATION_REQUEST_TYPE_COMMENTS_NOTIFICATION_MENU"&&(e.notificationsMenuRequestType="NOTIFICATIONS_MENU_REQUEST_TYPE_COMMENTS",L(this,gc,"f").token&&(e.fetchCommentsParams={continuation:L(this,gc,"f").token},delete e.continuation)),e}};gc=new WeakMap;dme.type="ContinuationCommand";var Jw;const SKe="kids/get_kids_blocklist_picker";class hme extends Z{constructor(e){super(),Jw.set(this,void 0),kt(this,Jw,e,"f")}getApiPath(){return SKe}buildRequest(){const e={};return L(this,Jw,"f").blockedForKidsContent&&(e.blockedForKidsContent=L(this,Jw,"f").blockedForKidsContent),e}}Jw=new WeakMap;hme.type="GetKidsBlocklistPickerCommand";class VB extends Z{constructor(e){super(),this.engagement_type=e.engagementType,Reflect.has(e,"ids")&&(this.ids=e.ids.map(n=>({encrypted_video_id:n.encryptedVideoId,external_channel_id:n.externalChannelId,comment_id:n.commentId,external_owner_id:n.externalOwnerId,artist_id:n.artistId,playlist_id:n.playlistId,external_post_id:n.externalPostId,share_id:n.shareId})))}}VB.type="RunAttestationCommand";class fme extends Z{constructor(e){super(),this.inline_content=ge(e.panelLoadingStrategy?.inlineContent),this.remove_default_padding=!!e.removeDefaultPadding}}fme.type="ShowDialogCommand";class pme extends Z{constructor(e){super(),this.content_source_panel_identifier=e.contentSourcePanelIdentifier,this.target_panel_identifier=e.targetPanelIdentifier}}pme.type="UpdateEngagementPanelContentCommand";var xk;class mme extends Z{constructor(e){super(),xk.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED",e.style="BADGE_STYLE_TYPE_VERIFIED"),kt(this,xk,e,"f")}get orig_badge(){return L(this,xk,"f")}}xk=new WeakMap;mme.type="AuthorCommentBadge";class GB extends Z{constructor(e){super(),this.id=e.id,this.categories=yt(e.categories),this.category_buttons=yt(e.categoryButtons),this.search_placeholder=new Y(e.searchPlaceholderText),this.search_no_results=new Y(e.searchNoResultsText),this.pick_skin_tone=new Y(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}}GB.type="EmojiPicker";class gme extends Z{constructor(e){super(),this.editable_text=new Y(e.editableText),this.author_thumbnail=xt.fromResponse(e.authorThumbnail),this.submit_button=ge(e.submitButton,jt),this.cancel_button=ge(e.cancelButton,jt),this.placeholder=new Y(e.placeholderText),this.emoji_button=ge(e.emojiButton,jt),this.emoji_picker=ge(e.emojiPicker,GB)}}gme.type="CommentDialog";class WB extends Z{constructor(e){super(),this.contents=yt(e.contents),this.view_replies=ge(e.viewReplies,jt),this.hide_replies=ge(e.hideReplies,jt),this.view_replies_creator_thumbnail=xt.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}}WB.type="CommentReplies";class KB extends Z{constructor(e){super(),this.reply_button=ge(e.replyButton,jt),this.cancel_button=ge(e.cancelButton,jt),this.author_thumbnail=xt.fromResponse(e.authorThumbnail),this.placeholder=new Y(e.placeholderText),this.error_message=new Y(e.errorMessage)}}KB.type="CommentReplyDialog";class YB extends Z{constructor(e){super(),this.simplebox_avatar=xt.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new Y(e.simpleboxPlaceholder)}}YB.type="CommentsSimplebox";class XB extends Z{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=xt.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new Y(e.teaserContent))}}XB.type="CommentsEntryPointTeaser";class ZB extends Z{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new Y(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new Y(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=xt.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new Y(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=ge(e.contentRenderer,[XB,YB])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new Y(e.simpleboxPlaceholder))}}ZB.type="CommentsEntryPointHeader";class BS extends Z{constructor(e){super(),this.title=new Y(e.titleText),this.count=new Y(e.countText),this.comments_count=new Y(e.commentsCount),this.create_renderer=ge(e.createRenderer),this.sort_menu=ge(e.sortMenu,Fm),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(n=>({emoji_id:n.emojiId,shortcuts:n.shortcuts,search_terms:n.searchTerms,image:xt.fromResponse(n.image),is_custom_emoji:n.isCustomEmoji})))}}BS.type="CommentsHeader";class QB extends Z{constructor(e){super(),this.submit_button=ge(e.submitButton,jt),this.cancel_button=ge(e.cancelButton,jt),this.author_thumbnail=xt.fromResponse(e.authorThumbnail),this.placeholder=new Y(e.placeholderText),this.avatar_size=e.avatarSize}}QB.type="CommentSimplebox";var Eo;class US extends Z{constructor(e){super(),Eo.set(this,void 0),this.comment_id=e.commentId,this.is_pinned=!!e.pinnedText,this.keys={comment:e.commentKey,comment_surface:e.commentSurfaceKey,toolbar_state:e.toolbarStateKey,toolbar_surface:e.toolbarSurfaceKey,shared:e.sharedKey}}applyMutations(e,n,r){e&&(this.content=Y.fromAttributed(e.properties.content),this.published_time=e.properties.publishedTime,this.author_is_channel_owner=!!e.author.isCreator,this.creator_thumbnail_url=e.toolbar.creatorThumbnailUrl,this.like_count=e.toolbar.likeCountNotliked?e.toolbar.likeCountNotliked:"0",this.like_count_liked=e.toolbar.likeCountLiked?e.toolbar.likeCountLiked:"0",this.like_count_a11y=e.toolbar.likeCountA11y,this.like_active_tooltip=e.toolbar.likeActiveTooltip,this.like_inactive_tooltip=e.toolbar.likeInactiveTooltip,this.dislike_active_tooltip=e.toolbar.dislikeActiveTooltip,this.dislike_inactive_tooltip=e.toolbar.dislikeInactiveTooltip,this.like_button_a11y=e.toolbar.likeButtonA11y,this.heart_active_tooltip=e.toolbar.heartActiveTooltip,this.reply_count_a11y=e.toolbar.replyCountA11y,this.reply_count=e.toolbar.replyCount?e.toolbar.replyCount:"0",this.is_member=!!e.author.sponsorBadgeUrl,Reflect.has(e.author,"sponsorBadgeUrl")&&(this.member_badge={url:e.author.sponsorBadgeUrl,a11y:e.author.A11y}),this.author=new oi({simpleText:e.author.displayName,navigationEndpoint:e.avatar.endpoint},e.author,e.avatar.image,e.author.channelId)),n&&(this.is_hearted=n.heartState==="TOOLBAR_HEART_STATE_HEARTED",this.is_liked=n.likeState==="TOOLBAR_LIKE_STATE_LIKED",this.is_disliked=n.likeState==="TOOLBAR_LIKE_STATE_DISLIKED"),r&&("prepareAccountCommand"in r?this.prepare_account_command=new Me(r.prepareAccountCommand):(this.like_command=new Me(r.likeCommand),this.dislike_command=new Me(r.dislikeCommand),this.unlike_command=new Me(r.unlikeCommand),this.undislike_command=new Me(r.undislikeCommand),this.reply_command=new Me(r.replyCommand)))}async like(){if(!L(this,Eo,"f"))throw new Pe("Actions instance not set for this comment.");if(!this.like_command)throw new Pe("Like command not found.");if(this.is_liked)throw new Pe("This comment is already liked.",{comment_id:this.comment_id});return this.like_command.call(L(this,Eo,"f"))}async dislike(){if(!L(this,Eo,"f"))throw new Pe("Actions instance not set for this comment.");if(!this.dislike_command)throw new Pe("Dislike command not found.");if(this.is_disliked)throw new Pe("This comment is already disliked.",{comment_id:this.comment_id});return this.dislike_command.call(L(this,Eo,"f"))}async unlike(){if(!L(this,Eo,"f"))throw new Pe("Actions instance not set for this comment.");if(!this.unlike_command)throw new Pe("Unlike command not found.");if(!this.is_liked)throw new Pe("This comment is not liked.",{comment_id:this.comment_id});return this.unlike_command.call(L(this,Eo,"f"))}async undislike(){if(!L(this,Eo,"f"))throw new Pe("Actions instance not set for this comment.");if(!this.undislike_command)throw new Pe("Undislike command not found.");if(!this.is_disliked)throw new Pe("This comment is not disliked.",{comment_id:this.comment_id});return this.undislike_command.call(L(this,Eo,"f"))}async reply(e){if(!L(this,Eo,"f"))throw new Pe("Actions instance not set for this comment.");if(!this.reply_command)throw new Pe("Reply command not found.");const n=this.reply_command.dialog?.as(KB);if(!n)throw new Pe("Reply dialog not found.");const r=n.reply_button;if(!r)throw new Pe("Reply button not found in the dialog.");if(!r.endpoint)throw new Pe("Reply button endpoint not found.");return r.endpoint.call(L(this,Eo,"f"),{commentText:e})}async translate(e){if(!L(this,Eo,"f"))throw new Pe("Actions instance not set for this comment.");if(!this.content)throw new Pe("Comment content not found.",{comment_id:this.comment_id});const r={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e},i=Ope(22,r),a=await L(this,Eo,"f").execute("comment/perform_comment_action",{action:i}),o=a.data.frameworkUpdates?.entityBatchUpdate?.mutations?.[0]?.payload?.commentEntityPayload?.translatedContent?.content;return{...a,content:o}}setActions(e){kt(this,Eo,e,"f")}}Eo=new WeakMap;US.type="CommentView";var Ek,im,Dg,t8;class JB extends Z{constructor(e){super(),Ek.add(this),im.set(this,void 0),Dg.set(this,void 0),this.comment=ge(e.commentViewModel,US),this.comment_replies_data=ge(e.replies,WB),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}get has_continuation(){if(!this.replies)throw new Pe("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!L(this,Dg,"f")}async getReplies(){if(!L(this,im,"f"))throw new Pe("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new Pe("This comment has no replies.",this);const e=this.comment_replies_data.contents?.firstOfType(Fi);if(!e)throw new Pe("Replies continuation not found.");const n=await e.endpoint.call(L(this,im,"f"),{parse:!0});if(!n.on_response_received_endpoints_memo)throw new Pe("Unexpected response.",n);return this.replies=L(this,Ek,"m",t8).call(this,n.on_response_received_endpoints_memo),kt(this,Dg,n.on_response_received_endpoints_memo.getType(Fi)[0],"f"),this}async getContinuation(){if(!this.replies)throw new Pe("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!L(this,Dg,"f"))throw new Pe("Continuation not found.");if(!L(this,im,"f"))throw new Pe("Actions instance not set for this thread.");const e=L(this,Dg,"f").button?.as(jt);if(!e)throw new Pe('"Load more" button not found.');const n=await e.endpoint.call(L(this,im,"f"),{parse:!0});if(!n.on_response_received_endpoints_memo)throw new Pe("Unexpected response.",n);return this.replies=L(this,Ek,"m",t8).call(this,n.on_response_received_endpoints_memo),kt(this,Dg,n.on_response_received_endpoints_memo.getType(Fi)[0],"f"),this}setActions(e){kt(this,im,e,"f")}}im=new WeakMap,Dg=new WeakMap,Ek=new WeakSet,t8=function(e){return mi(e.getType(US).map(n=>(n.setActions(L(this,im,"f")),n)))};JB.type="CommentThread";class yme extends Z{constructor(e){super(),this.text=new Y(e.chipText),this.color_pallette={background_color:e.chipColorPalette?.backgroundColor,foreground_title_color:e.chipColorPalette?.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}}yme.type="PdgCommentChip";class bme extends Z{constructor(e){super(),this.custom_badge=xt.fromResponse(e.customBadge),this.tooltip=e.tooltip}}bme.type="SponsorCommentBadge";class vme extends Z{constructor(e){super(),this.title=new Y(e.title),this.channel_id=e.channelId,this.thumbnail=xt.fromResponse(e.thumbnail),this.display_name=new Y(e.displayName),this.video_count=new Y(e.videoCountText),this.subscriber_count=new Y(e.subscriberCountText),this.endpoint=new Me(e.navigationEndpoint),this.tv_banner=xt.fromResponse(e.tvBanner),this.menu=ge(e.menu,wi)}}vme.type="CompactChannel";class VC extends Z{constructor(e){super(),this.thumbnail=xt.fromResponse(e.thumbnail)}}VC.type="PlaylistCustomThumbnail";class GC extends Z{constructor(e){super(),this.thumbnail=xt.fromResponse(e.thumbnail)}}GC.type="PlaylistVideoThumbnail";let xv=class extends Z{constructor(e){super(),this.id=e.playlistId,this.title=new Y(e.title),this.author=e.shortBylineText?.simpleText?new Y(e.shortBylineText):new oi(e.longBylineText,e.ownerBadges,null),this.thumbnails=xt.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(n=>n.thumbnails).flat(1)}),this.video_count=new Y(e.thumbnailText),this.video_count_short=new Y(e.videoCountShortText),this.first_videos=yt(e.videos),this.share_url=e.shareUrl||null,this.menu=ge(e.menu),this.badges=yt(e.ownerBadges),this.endpoint=new Me(e.navigationEndpoint),this.thumbnail_overlays=yt(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=ge(e.thumbnailRenderer,[GC,VC])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new Y(e.viewPlaylistText))}};xv.type="Playlist";class wme extends xv{constructor(e){super(e)}}wme.type="CompactMix";class _me extends Z{constructor(e){super();const n=e.thumbnailOverlays.find(i=>i.thumbnailOverlayTimeStatusRenderer)?.thumbnailOverlayTimeStatusRenderer.text||"N/A";this.id=e.videoId,this.title=new Y(e.title),this.top_metadata_items=new Y(e.topMetadataItems),this.thumbnails=xt.fromResponse(e.thumbnail),this.thumbnail_overlays=yt(e.thumbnailOverlays),this.author=new oi(e.shortBylineText);const r=e.lengthText?new Y(e.lengthText).toString():new Y(n).toString();this.duration={text:r,seconds:Pf(r)},this.endpoint=new Me(e.navigationEndpoint),this.badges=yt(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=ge(e.menu,wi)}}_me.type="CompactMovie";class Sme extends xv{constructor(e){super(e)}}Sme.type="CompactPlaylist";class xme extends Z{constructor(e){super(),this.title=new Y(e.title),this.description=new Y(e.description),this.video_count=new Y(e.videoCountText),this.endpoint=new Me(e.navigationEndpoint),this.thumbnail=xt.fromResponse(e.thumbnail)}}xme.type="CompactStation";class Eme extends Z{constructor(e){super(),this.title=new Y(e.title),this.confirm_button=ge(e.confirmButton,jt),this.cancel_button=ge(e.cancelButton,jt),this.dialog_messages=e.dialogMessages.map(n=>new Y(n))}}Eme.type="ConfirmDialog";class WC extends Z{constructor(e){super(),this.metadata_rows=e.metadataRows.map(n=>({metadata_parts:n.metadataParts?.map(r=>({text:r.text?Y.fromAttributed(r.text):null,avatar_stack:ge(r.avatarStack,G9),enable_truncation:e.enableTruncation}))})),this.delimiter=e.delimiter}}WC.type="ContentMetadataView";class Kd extends Z{constructor(e){super(),this.text=new Y(e.text)}}Kd.type="Message";class kme extends Z{constructor(e){super(),this.availability_message=ge(e.availabilityMessage,Kd)}}kme.type="ConversationBar";class KC extends Z{constructor(e){super(),this.copy_button=ge(e.copyButton,jt),this.short_url=e.shortUrl,this.style=e.style}}KC.type="CopyLink";class eU extends Z{constructor(e){super(),this.label=new Y(e.label),this.placeholder_text=new Y(e.placeholderText),this.disabled=!!e.disabled,this.dropdown_type=e.type,this.id=e.id,Reflect.has(e,"options")&&(this.options=e.options.map(n=>({title:new Y(n.title),subtitle:new Y(n.subtitle),leading_image:xt.fromResponse(n.leadingImage),value:{privacy_status_value:n.value?.privacyStatusValue},on_tap:new Me(n.onTap),is_selected:!!n.isSelected})))}}eU.type="DropdownView";class tU extends Z{constructor(e){super(),Reflect.has(e,"displayProperties")&&(this.display_properties={isMultiline:!!e.displayProperties.isMultiline,disableNewLines:!!e.displayProperties.disableNewLines}),Reflect.has(e,"contentProperties")&&(this.content_properties={labelText:e.contentProperties.labelText,placeholderText:e.contentProperties.placeholderText,maxCharacterCount:e.contentProperties.maxCharacterCount}),Reflect.has(e,"initialState")&&(this.initial_state={isFocused:!!e.initialState.isFocused}),Reflect.has(e,"formFieldMetadata")&&(this.form_field_metadata={formId:e.formFieldMetadata.formId,fieldId:e.formFieldMetadata.fieldId})}}tU.type="TextFieldView";class nU extends Z{constructor(e){super(),this.playlist_title=ge(e.playlistTitle,tU),this.playlist_visibility=ge(e.playlistVisibility,eU),this.disable_playlist_collaborate=!!e.disablePlaylistCollaborate,this.create_playlist_params_collaboration_enabled=e.createPlaylistParamsCollaborationEnabled,this.create_playlist_params_collaboration_disabled=e.createPlaylistParamsCollaborationDisabled,this.video_ids=e.videoIds}}nU.type="CreatePlaylistDialogFormView";class YC extends Z{constructor(e){super(),this.avatar=ge(e.avatar,PC),this.a11y_label=e.a11yLabel,this.renderer_context=new OS(e.rendererContext)}}YC.type="DecoratedAvatarView";class rU extends Z{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}}rU.type="HeatMarker";class iU extends Z{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=yt(e.heatMarkers,rU),this.heat_markers_decorations=yt(e.heatMarkersDecorations)}}iU.type="Heatmap";class Tme extends Z{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=ge(e.value.heatmap,iU)),Reflect.has(e.value,"chapters")&&(this.value.chapters=yt(e.value.chapters,FB)))}}Tme.type="Marker";class aU extends Z{constructor(e){super(),this.markers_map=mi(e.markersMap?.map(n=>new Tme(n))||[])}}aU.type="MultiMarkersPlayerBar";class sU extends Z{constructor(e){super(),this.player_bar=ge(e.playerBar,aU),this.player_bar_action_button=ge(e.playerBarActionButton,jt)}}sU.type="DecoratedPlayerBar";class Ame extends Z{constructor(e){super(),this.title=new Y(e.title),this.description=new Y(e.description),this.endpoint=new Me(e.navigationEndpoint),this.large_form_factor_background_thumbnail=ge(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=ge(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}}Ame.type="DefaultPromoPanel";class oU extends Z{constructor(e){if(super(),Reflect.has(e,"description")&&(this.description=Y.fromAttributed(e.description)),Reflect.has(e,"maxLines")&&(this.max_lines=parseInt(e.maxLines)),Reflect.has(e,"truncationText")&&(this.truncation_text=Y.fromAttributed(e.truncationText)),this.always_show_truncation_text=!!e.alwaysShowTruncationText,e.rendererContext.commandContext?.onTap?.innertubeCommand?.showEngagementPanelEndpoint){const n=e.rendererContext.commandContext?.onTap?.innertubeCommand?.showEngagementPanelEndpoint;this.more_endpoint={show_engagement_panel_endpoint:{engagement_panel:ge(n.engagementPanel,FS),engagement_panel_popup_type:n.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:n.identifier.surface,tag:n.identifier.tag}}}}this.renderer_context=new OS(e.rendererContext)}}oU.type="DescriptionPreviewView";class lU extends Z{constructor(e){super(),this.headline=Y.fromAttributed(e.headline)}}lU.type="DialogHeaderView";class XC extends Z{constructor(e){super(),this.primary_button=ge(e.primaryButton,xs),this.secondary_button=ge(e.secondaryButton,xs),this.should_hide_divider=!!e.shouldHideDivider}}XC.type="PanelFooterView";class uU extends Z{constructor(e){super(),this.panel_footer=ge(e.panelFooter,XC),this.form_id=e.formId,this.container_type=e.containerType}}uU.type="FormFooterView";class Cme extends Z{constructor(e){super(),this.header=ge(e.header,lU),this.footer=ge(e.footer,[uU,XC]),this.custom_content=ge(e.customContent,nU)}}Cme.type="DialogView";class cU extends Z{constructor(e){super(),this.text=new Y(e.didYouMean).toString(),this.corrected_query=new Y(e.correctedQuery),this.endpoint=new Me(e.navigationEndpoint||e.correctedQueryEndpoint)}}cU.type="DidYouMean";class dU extends Z{constructor(e){super(),this.text=Y.fromAttributed(e.text),this.max_lines=parseInt(e.maxLines)}}dU.type="DynamicTextView";class ZC extends Z{constructor(e){super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=e.type.textType.text?.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(n=>new ZC(n)))}}ZC.type="ChildElement";let hU=class Rme extends Z{constructor(e){if(super(),Reflect.has(e,"elementRenderer"))return ge(e,Rme);const n=e.newElement.type.componentType;this.model=ge(n?.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=mi(e.newElement.childElements?.map(r=>new ZC(r))||[]))}};hU.type="Element";class Ime extends Z{constructor(e){super(),this.title=new Y(e.title),this.first_option=ge(e.firstOption),this.menu=ge(e.menu,wi)}}Ime.type="EmergencyOnebox";class Nme extends Z{constructor(e){super(),this.category_id=e.categoryId,this.title=new Y(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}}Nme.type="EmojiPickerCategory";class Ome extends Z{constructor(e){super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=e.icon?.iconType),this.tooltip=e.tooltip}}Ome.type="EmojiPickerCategoryButton";class Mme extends Z{constructor(e){super(),this.category_id=e.categoryId,this.title=new Y(e.title),this.upsell=new Y(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new Me(e.command),this.emoji_ids=e.emojiIds}}Mme.type="EmojiPickerUpsellCategory";var yc;const xKe="playlist/get_add_to_playlist";class fU extends Z{constructor(e){super(),yc.set(this,void 0),kt(this,yc,e,"f")}getApiPath(){return xKe}buildRequest(){const e={};return e.videoIds=L(this,yc,"f").videoIds?L(this,yc,"f").videoIds:[L(this,yc,"f").videoId],L(this,yc,"f").playlistId&&(e.playlistId=L(this,yc,"f").playlistId),L(this,yc,"f").params&&(e.params=L(this,yc,"f").params),e.excludeWatchLater=!!L(this,yc,"f").excludeWatchLater,e}}yc=new WeakMap;fU.type="AddToPlaylistServiceEndpoint";class Pme extends fU{constructor(e){super(e)}}Pme.type="AddToPlaylistEndpoint";var ms;const EKe="browse";class Lme extends Z{constructor(e){super(),ms.set(this,void 0),kt(this,ms,e,"f")}getApiPath(){return EKe}buildRequest(){const e={};return L(this,ms,"f").browseId&&(e.browseId=L(this,ms,"f").browseId),L(this,ms,"f").params&&(e.params=L(this,ms,"f").params),L(this,ms,"f").query&&(e.query=L(this,ms,"f").query),L(this,ms,"f").browseId==="FEsubscriptions"&&(e.subscriptionSettingsState=L(this,ms,"f").subscriptionSettingsState||"MY_SUBS_SETTINGS_STATE_LAYOUT_FORMAT_LIST"),L(this,ms,"f").browseId==="SPaccount_playback"&&(e.formData=L(this,ms,"f").formData||{accountSettingsFormData:{flagCaptionsDefaultOff:!1,flagAutoCaptionsDefaultOn:!1,flagDisableInlinePreview:!1,flagAudioDescriptionDefaultOn:!1}}),L(this,ms,"f").browseId==="FEwhat_to_watch"&&(L(this,ms,"f").browseRequestSupportedMetadata&&(e.browseRequestSupportedMetadata=L(this,ms,"f").browseRequestSupportedMetadata),L(this,ms,"f").inlineSettingStatus&&(e.inlineSettingStatus=L(this,ms,"f").inlineSettingStatus)),e}}ms=new WeakMap;Lme.type="BrowseEndpoint";var Ba;const kKe="comment/create_comment";class Dme extends Z{constructor(e){super(),Ba.set(this,void 0),kt(this,Ba,e,"f")}getApiPath(){return kKe}buildRequest(){const e={};if(L(this,Ba,"f").createCommentParams&&(e.createCommentParams=L(this,Ba,"f").createCommentParams),L(this,Ba,"f").commentText&&(e.commentText=L(this,Ba,"f").commentText),L(this,Ba,"f").attachedVideoId?e.videoAttachment={videoId:L(this,Ba,"f").attachedVideoId}:L(this,Ba,"f").pollOptions?e.pollAttachment={choices:L(this,Ba,"f").pollOptions}:L(this,Ba,"f").imageBlobId?e.imageAttachment={encryptedBlobId:L(this,Ba,"f").imageBlobId}:L(this,Ba,"f").sharedPostId&&(e.sharedPostAttachment={postId:L(this,Ba,"f").sharedPostId}),L(this,Ba,"f").accessRestrictions&&typeof L(this,Ba,"f").accessRestrictions=="number"){const n=L(this,Ba,"f").accessRestrictions===1?"RESTRICTION_TYPE_EVERYONE":"RESTRICTION_TYPE_SPONSORS_ONLY";e.accessRestrictions={restriction:n}}return L(this,Ba,"f").botguardResponse&&(e.botguardResponse=L(this,Ba,"f").botguardResponse),e}}Ba=new WeakMap;Dme.type="CreateCommentEndpoint";var ko;const TKe="playlist/create";class Fme extends Z{constructor(e){super(),ko.set(this,void 0),kt(this,ko,e,"f")}getApiPath(){return TKe}buildRequest(){const e={};return L(this,ko,"f").title&&(e.title=L(this,ko,"f").title),L(this,ko,"f").privacyStatus&&(e.privacyStatus=L(this,ko,"f").privacyStatus),L(this,ko,"f").description&&(e.description=L(this,ko,"f").description),L(this,ko,"f").videoIds&&(e.videoIds=L(this,ko,"f").videoIds),L(this,ko,"f").params&&(e.params=L(this,ko,"f").params),L(this,ko,"f").sourcePlaylistId&&(e.sourcePlaylistId=L(this,ko,"f").sourcePlaylistId),e}}ko=new WeakMap;Fme.type="CreatePlaylistServiceEndpoint";var e_;const AKe="playlist/delete";class Bme extends Z{constructor(e){super(),e_.set(this,void 0),kt(this,e_,e,"f")}getApiPath(){return AKe}buildRequest(){const e={};return L(this,e_,"f").playlistId&&(e.playlistId=L(this,e_,"f").sourcePlaylistId),e}}e_=new WeakMap;Bme.type="DeletePlaylistEndpoint";var ef;const CKe="feedback";class Ume extends Z{constructor(e){super(),ef.set(this,void 0),kt(this,ef,e,"f")}getApiPath(){return CKe}buildRequest(){const e={};return L(this,ef,"f").feedbackToken&&(e.feedbackTokens=[L(this,ef,"f").feedbackToken]),L(this,ef,"f").cpn&&(e.feedbackContext={cpn:L(this,ef,"f").cpn}),e.isFeedbackTokenUnencrypted=!!L(this,ef,"f").isFeedbackTokenUnencrypted,e.shouldMerge=!!L(this,ef,"f").shouldMerge,e}}ef=new WeakMap;Ume.type="FeedbackEndpoint";var va;const RKe="account/accounts_list";class jme extends Z{constructor(e){super(),va.set(this,void 0),kt(this,va,e,"f")}getApiPath(){return RKe}buildRequest(){const e={};return L(this,va,"f").requestType&&(e.requestType=L(this,va,"f").requestType,(L(this,va,"f").requestType==="ACCOUNTS_LIST_REQUEST_TYPE_CHANNEL_SWITCHER"||L(this,va,"f").requestType==="ACCOUNTS_LIST_REQUEST_TYPE_IDENTITY_PROMPT")&&L(this,va,"f").nextUrl&&(e.nextNavendpoint={urlEndpoint:{url:L(this,va,"f").nextUrl}})),L(this,va,"f").channelSwitcherQuery&&(e.channelSwitcherQuery=L(this,va,"f").channelSwitcherQuery),L(this,va,"f").triggerChannelCreation&&(e.triggerChannelCreation=L(this,va,"f").triggerChannelCreation),L(this,va,"f").contentOwnerConfig&&L(this,va,"f").contentOwnerConfig.externalContentOwnerId&&(e.contentOwnerConfig=L(this,va,"f").contentOwnerConfig),L(this,va,"f").obfuscatedSelectedGaiaId&&(e.obfuscatedSelectedGaiaId=L(this,va,"f").obfuscatedSelectedGaiaId),L(this,va,"f").selectedSerializedDelegationContext&&(e.selectedSerializedDelegationContext=L(this,va,"f").selectedSerializedDelegationContext),L(this,va,"f").callCircumstance&&(e.callCircumstance=L(this,va,"f").callCircumstance),e}}va=new WeakMap;jme.type="GetAccountsListInnertubeEndpoint";class zme extends Z{constructor(e){super(),this.panel_identifier=e.panelIdentifier}}zme.type="HideEngagementPanelEndpoint";var bc;const IKe="like/like",NKe="like/dislike",OKe="like/removelike";class $me extends Z{constructor(e){super(),bc.set(this,void 0),kt(this,bc,e,"f")}getApiPath(){return L(this,bc,"f").status==="DISLIKE"?NKe:L(this,bc,"f").status==="INDIFFERENT"?OKe:IKe}buildRequest(){const e={};L(this,bc,"f").target&&(e.target=L(this,bc,"f").target);const n=this.getParams();return n&&(e.params=n),e}getParams(){switch(L(this,bc,"f").status){case"LIKE":return L(this,bc,"f").likeParams;case"DISLIKE":return L(this,bc,"f").dislikeParams;case"INDIFFERENT":return L(this,bc,"f").removeLikeParams;default:return}}}bc=new WeakMap;$me.type="LikeEndpoint";var t_;const MKe="live_chat/get_item_context_menu";class qme extends Z{constructor(e){super(),t_.set(this,void 0),kt(this,t_,e,"f")}getApiPath(){return MKe}buildRequest(){const e={};return L(this,t_,"f").params&&(e.params=L(this,t_,"f").params),e}}t_=new WeakMap;qme.type="LiveChatItemContextMenuEndpoint";var Fg;const PKe="notification/modify_channel_preference";class Hme extends Z{constructor(e){super(),Fg.set(this,void 0),kt(this,Fg,e,"f")}getApiPath(){return PKe}buildRequest(){const e={};return L(this,Fg,"f").params&&(e.params=L(this,Fg,"f").params),L(this,Fg,"f").secondaryParams&&(e.secondaryParams=L(this,Fg,"f").secondaryParams),e}}Fg=new WeakMap;Hme.type="ModifyChannelNotificationPreferenceEndpoint";var Bg;const LKe="comment/perform_comment_action";class Vme extends Z{constructor(e){super(),Bg.set(this,void 0),kt(this,Bg,e,"f")}getApiPath(){return LKe}buildRequest(){const e={};return L(this,Bg,"f").actions&&(e.actions=L(this,Bg,"f").actions),L(this,Bg,"f").action&&(e.actions=[L(this,Bg,"f").action]),e}}Bg=new WeakMap;Vme.type="PerformCommentActionEndpoint";var tf;const DKe="browse/edit_playlist";class Gme extends Z{constructor(e){super(),tf.set(this,void 0),kt(this,tf,e,"f")}getApiPath(){return DKe}buildRequest(){const e={};return L(this,tf,"f").actions&&(e.actions=L(this,tf,"f").actions),L(this,tf,"f").playlistId&&(e.playlistId=L(this,tf,"f").playlistId),L(this,tf,"f").params&&(e.params=L(this,tf,"f").params),e}}tf=new WeakMap;Gme.type="PlaylistEditEndpoint";var xa;const FKe="player";class pU extends Z{constructor(e){super(),xa.set(this,void 0),kt(this,xa,e,"f")}getApiPath(){return FKe}buildRequest(){const e={};return L(this,xa,"f").videoId&&(e.videoId=L(this,xa,"f").videoId),L(this,xa,"f").playlistId&&(e.playlistId=L(this,xa,"f").playlistId),(L(this,xa,"f").index!==void 0||L(this,xa,"f").playlistIndex!==void 0)&&(e.playlistIndex=L(this,xa,"f").index||L(this,xa,"f").playlistIndex),(L(this,xa,"f").playerParams||L(this,xa,"f").params)&&(e.params=L(this,xa,"f").playerParams||L(this,xa,"f").params),L(this,xa,"f").startTimeSeconds&&(e.startTimeSecs=L(this,xa,"f").startTimeSeconds),L(this,xa,"f").overrideMutedAtStart&&(e.overrideMutedAtStart=L(this,xa,"f").overrideMutedAtStart),e.racyCheckOk=!!L(this,xa,"f").racyCheckOk,e.contentCheckOk=!!L(this,xa,"f").contentCheckOk,e}}xa=new WeakMap;pU.type="WatchEndpoint";class Wme extends pU{constructor(e){super(e)}}Wme.type="PrefetchWatchCommand";var Ks;const BKe="reel/reel_item_watch";class Kme extends Z{constructor(e){super(),Ks.set(this,void 0),kt(this,Ks,e,"f")}getApiPath(){return BKe}buildRequest(){const e={};return L(this,Ks,"f").videoId&&(e.playerRequest={videoId:L(this,Ks,"f").videoId}),e.playerRequest&&(L(this,Ks,"f").playerParams&&(e.playerRequest.params=L(this,Ks,"f").playerParams),L(this,Ks,"f").racyCheckOk&&(e.playerRequest.racyCheckOk=!!L(this,Ks,"f").racyCheckOk),L(this,Ks,"f").contentCheckOk&&(e.playerRequest.contentCheckOk=!!L(this,Ks,"f").contentCheckOk)),L(this,Ks,"f").params&&(e.params=L(this,Ks,"f").params),L(this,Ks,"f").inputType&&(e.inputType=L(this,Ks,"f").inputType),e.disablePlayerResponse=!!L(this,Ks,"f").disablePlayerResponse,e}}Ks=new WeakMap;Kme.type="ReelWatchEndpoint";var vc;const UKe="search";class Yme extends Z{constructor(e){super(),vc.set(this,void 0),kt(this,vc,e,"f")}getApiPath(){return UKe}buildRequest(){const e={};return L(this,vc,"f").query&&(e.query=L(this,vc,"f").query),L(this,vc,"f").params&&(e.params=L(this,vc,"f").params),L(this,vc,"f").webSearchboxStatsUrl&&(e.webSearchboxStatsUrl=L(this,vc,"f").webSearchboxStatsUrl),L(this,vc,"f").suggestStats&&(e.suggestStats=L(this,vc,"f").suggestStats),e}}vc=new WeakMap;Yme.type="SearchEndpoint";var Ug;const jKe="share/get_share_panel";class QC extends Z{constructor(e){super(),Ug.set(this,void 0),kt(this,Ug,e,"f")}getApiPath(){return jKe}buildRequest(){const e={};return L(this,Ug,"f").serializedShareEntity&&(e.serializedSharedEntity=L(this,Ug,"f").serializedShareEntity),L(this,Ug,"f").clientParams&&(e.clientParams=L(this,Ug,"f").clientParams),e}}Ug=new WeakMap;QC.type="ShareEntityServiceEndpoint";class Xme extends QC{constructor(e){super(e)}}Xme.type="ShareEndpoint";class Zme extends QC{constructor(e){super(e)}}Zme.type="ShareEntityEndpoint";class Qme extends Z{constructor(e){super(),this.panel_identifier=e.panelIdentifier,this.source_panel_identifier=e.sourcePanelIdentifier}}Qme.type="ShowEngagementPanelEndpoint";class Jme extends Z{constructor(e){super(),Array.isArray(e.actions)&&(this.actions=yt(e.actions.map(n=>(delete n.clickTrackingParams,n)))),this.signal=e.signal}}Jme.type="SignalServiceEndpoint";var Bl;const zKe="subscription/subscribe";class ege extends Z{constructor(e){super(),Bl.set(this,void 0),kt(this,Bl,e,"f")}getApiPath(){return zKe}buildRequest(){const e={};return L(this,Bl,"f").channelIds&&(e.channelIds=L(this,Bl,"f").channelIds),L(this,Bl,"f").siloName&&(e.siloName=L(this,Bl,"f").siloName),L(this,Bl,"f").params&&(e.params=L(this,Bl,"f").params),L(this,Bl,"f").botguardResponse&&(e.botguardResponse=L(this,Bl,"f").botguardResponse),L(this,Bl,"f").feature&&(e.clientFeature=L(this,Bl,"f").feature),e}}Bl=new WeakMap;ege.type="SubscribeEndpoint";var nf;const $Ke="subscription/unsubscribe";class tge extends Z{constructor(e){super(),nf.set(this,void 0),kt(this,nf,e,"f")}getApiPath(){return $Ke}buildRequest(){const e={};return L(this,nf,"f").channelIds&&(e.channelIds=L(this,nf,"f").channelIds),L(this,nf,"f").siloName&&(e.siloName=L(this,nf,"f").siloName),L(this,nf,"f").params&&(e.params=L(this,nf,"f").params),e}}nf=new WeakMap;tge.type="UnsubscribeEndpoint";var Os;const qKe="next";class nge extends Z{constructor(e){super(),Os.set(this,void 0),kt(this,Os,e,"f")}getApiPath(){return qKe}buildRequest(){const e={};return L(this,Os,"f").videoId&&(e.videoId=L(this,Os,"f").videoId),L(this,Os,"f").playlistId&&(e.playlistId=L(this,Os,"f").playlistId),(L(this,Os,"f").index!==void 0||L(this,Os,"f").playlistIndex!==void 0)&&(e.playlistIndex=L(this,Os,"f").index||L(this,Os,"f").playlistIndex),(L(this,Os,"f").playerParams||L(this,Os,"f").params)&&(e.params=L(this,Os,"f").playerParams||L(this,Os,"f").params),e.racyCheckOk=!!L(this,Os,"f").racyCheckOk,e.contentCheckOk=!!L(this,Os,"f").contentCheckOk,e}}Os=new WeakMap;nge.type="WatchNextEndpoint";class mU extends Z{constructor(e){super(),this.elements=yt(e.elements),this.start_ms=e.startMs}}mU.type="Endscreen";class rge extends Z{constructor(e){super(),this.style=e.style,this.title=new Y(e.title),this.endpoint=new Me(e.endpoint),Reflect.has(e,"image")&&(this.image=xt.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=xt.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new Y(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new Y(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=ge(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new Y(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=yt(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}}rge.type="EndscreenElement";class gU extends Z{constructor(e){super(),this.id=e.playlistId,this.title=new Y(e.title),this.author=new Y(e.longBylineText),this.endpoint=new Me(e.navigationEndpoint),this.thumbnails=xt.fromResponse(e.thumbnail),this.video_count=new Y(e.videoCountText)}}gU.type="EndScreenPlaylist";class yU extends Z{constructor(e){super(),this.id=e.videoId,this.title=new Y(e.title),this.thumbnails=xt.fromResponse(e.thumbnail),this.thumbnail_overlays=yt(e.thumbnailOverlays),this.author=new oi(e.shortBylineText,e.ownerBadges),this.endpoint=new Me(e.navigationEndpoint),this.short_view_count=new Y(e.shortViewCountText),this.badges=yt(e.badges),this.duration={text:new Y(e.lengthText).toString(),seconds:e.lengthInSeconds}}}yU.type="EndScreenVideo";class ige extends Z{constructor(e){super(),this.disclaimer=new Y(e.disclaimer),this.info_icon={icon_type:e.infoIcon.iconType},this.usage_scenario=e.usageScenario}}ige.type="EomSettingsDisclaimer";class j_ extends Z{constructor(e){super(),this.title=e.title,this.endpoint=new Me(e.endpoint),this.selected=e.selected,this.content=ge(e.content)}}j_.type="ExpandableTab";class age extends Z{constructor(e){super(),this.items=yt(e.items)}get contents(){return this.items}}age.type="ExpandedShelfContents";class sge extends Z{constructor(e){super(),this.dialog_message=new Y(e.dialogMessage),this.confirm_label=new Y(e.confirmLabel)}}sge.type="FancyDismissibleDialog";class jm extends Z{constructor(e){super(),this.contents=yt(e.contents,Do)}}jm.type="FeedFilterChipBar";class oge extends Z{constructor(e){super(),this.title=new Y(e.title),this.subtitle=new Y(e.subtitle),this.endpoint=new Me(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}}oge.type="FeedNudge";class bU extends Z{constructor(e){super(),this.title=new Y(e.title)}}bU.type="FeedTabbedHeader";class lge extends Z{constructor(e){super(),this.title=new Y(e.title),this.box_art=xt.fromResponse(e.boxArt),this.box_art_overlay_text=new Y(e.boxArtOverlayText),this.endpoint=new Me(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}}lge.type="GameDetails";class F1 extends Z{constructor(e){super(),this.items=yt(e.items),Reflect.has(e,"header")&&(this.header=ge(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=e.continuations?.[0]?.nextContinuationData?.continuation||null}get contents(){return this.items}}F1.type="Grid";class vU extends Z{constructor(e){super(),this.id=e.channelId,this.author=new oi({...e.title,navigationEndpoint:e.navigationEndpoint},e.ownerBadges,e.thumbnail),this.subscribers=new Y(e.subscriberCountText),this.video_count=new Y(e.videoCountText),this.endpoint=new Me(e.navigationEndpoint),this.subscribe_button=ge(e.subscribeButton)}}vU.type="GridChannel";class uge extends Z{constructor(e){super(),this.title=new Y(e.title)}}uge.type="GridHeader";class cge extends Z{constructor(e){super(),this.id=e.playlistId,this.title=new Y(e.title),this.author=e.shortBylineText?.simpleText?new Y(e.shortBylineText):e.longBylineText?.simpleText?new Y(e.longBylineText):null,this.thumbnails=xt.fromResponse(e.thumbnail),this.video_count=new Y(e.videoCountText),this.video_count_short=new Y(e.videoCountShortText),this.endpoint=new Me(e.navigationEndpoint),this.secondary_endpoint=new Me(e.secondaryNavigationEndpoint),this.thumbnail_overlays=yt(e.thumbnailOverlays)}}cge.type="GridMix";class dge extends Z{constructor(e){super();const n=e.thumbnailOverlays.find(r=>r.hasOwnProperty("thumbnailOverlayTimeStatusRenderer"))?.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new Y(e.title),this.thumbnails=xt.fromResponse(e.thumbnail),this.duration=e.lengthText?new Y(e.lengthText):n?.text?new Y(n.text):null,this.endpoint=new Me(e.navigationEndpoint),this.badges=yt(e.badges,Xm),this.metadata=new Y(e.metadata),this.thumbnail_overlays=yt(e.thumbnailOverlays)}}dge.type="GridMovie";class wU extends Z{constructor(e){super(),this.id=e.playlistId,this.title=new Y(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new oi(e.shortBylineText,e.ownerBadges)),this.badges=yt(e.ownerBadges),this.endpoint=new Me(e.navigationEndpoint),this.view_playlist=new Y(e.viewPlaylistText),this.thumbnails=xt.fromResponse(e.thumbnail),this.thumbnail_renderer=ge(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...e.sidebarThumbnails?.map(n=>xt.fromResponse(n))||[])||null,this.video_count=new Y(e.thumbnailText),this.video_count_short=new Y(e.videoCountShortText)}}wU.type="GridPlaylist";class _U extends Z{constructor(e){super(),this.thumbnail=xt.fromResponse(e.thumbnail)}}_U.type="ShowCustomThumbnail";class SU extends Z{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new Y(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}}SU.type="ThumbnailOverlayBottomPanel";class hge extends Z{constructor(e){super(),this.title=new Y(e.title),this.thumbnail_renderer=ge(e.thumbnailRenderer,_U),this.endpoint=new Me(e.navigationEndpoint),this.long_byline_text=new Y(e.longBylineText),this.thumbnail_overlays=yt(e.thumbnailOverlays,SU),this.author=new oi(e.shortBylineText,void 0)}}hge.type="GridShow";class xU extends Z{constructor(e){super();const n=e.thumbnailOverlays.find(r=>r.hasOwnProperty("thumbnailOverlayTimeStatusRenderer"))?.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new Y(e.title),this.thumbnails=xt.fromResponse(e.thumbnail),this.thumbnail_overlays=yt(e.thumbnailOverlays),this.rich_thumbnail=ge(e.richThumbnail),this.published=new Y(e.publishedTimeText),this.duration=e.lengthText?new Y(e.lengthText):n?.text?new Y(n.text):null,this.author=e.shortBylineText&&new oi(e.shortBylineText,e.ownerBadges),this.views=new Y(e.viewCountText),this.short_view_count=new Y(e.shortViewCountText),this.endpoint=new Me(e.navigationEndpoint),this.menu=ge(e.menu,wi),Reflect.has(e,"buttons")&&(this.buttons=yt(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(+`${e.upcomingEventData.startTime}000`),this.upcoming_text=new Y(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!e.upcomingEventData?.isReminderSet)}get is_upcoming(){return!!(this.upcoming&&this.upcoming>new Date)}}xU.type="GridVideo";class B1 extends Z{constructor(e){super(),this.title=new Y(e.formattedTitle),this.endpoint=new Me(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=xt.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}}B1.type="GuideEntry";class fge extends Z{constructor(e){super(),this.expander_item=ge(e.expanderItem,B1),this.collapser_item=ge(e.collapserItem,B1),this.expandable_items=yt(e.expandableItems)}}fge.type="GuideCollapsibleEntry";class pge extends Z{constructor(e){super(),this.header_entry=ge(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=yt(e.sectionItems)}}pge.type="GuideCollapsibleSectionEntry";class mge extends B1{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}}mge.type="GuideDownloadsEntry";class JC extends Z{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new Y(e.formattedTitle)),this.items=yt(e.items)}}JC.type="GuideSection";class EU extends JC{}EU.type="GuideSubscriptionsSection";class kU extends Z{constructor(e){super(),this.hashtag=new Y(e.hashtag),this.hashtag_info=new Y(e.hashtagInfoText)}}kU.type="HashtagHeader";class gge extends Z{constructor(e){super(),this.hashtag=new Y(e.hashtag),this.hashtag_info_text=new Y(e.hashtagInfoText),this.hashtag_thumbnail=xt.fromResponse(e.hashtagThumbnail),this.endpoint=new Me(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new Y(e.hashtagVideoCount),this.hashtag_channel_count=new Y(e.hashtagChannelCount)}}gge.type="HashtagTile";class yge extends Z{constructor(e){super(),this.thumbnails=xt.fromResponse(e.thumbnail),this.on_tap_endpoint=new Me(e.onTap)}}yge.type="HeroPlaylistThumbnail";let bge=class extends Z{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:xt.fromResponse(e.thumbnail.image),endpoint:new Me(e.thumbnail.onTap),on_long_press_endpoint:new Me(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:xt.fromResponse(e.backgroundImage.image),gradient_image:xt.fromResponse(e.backgroundImage.gradientImage)},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new Me(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new Me(e.textOnTap)}};bge.type="Panel";class zT extends Z{constructor(e){super(),this.panels=mi(e.highlightsCarousel.panels.map(n=>new bge(n)))}}zT.type="HighlightsCarousel";class TU extends Z{constructor(e){super(),this.suggestion=new Y(e.suggestion),this.endpoint=new Me(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new Me(e.serviceEndpoint))}}TU.type="SearchSuggestion";class vge extends TU{constructor(e){super(e)}}vge.type="HistorySuggestion";class wge extends Z{constructor(e){super(),this.items=yt(e.items),this.previous_button=ge(e.previousButton,jt),this.next_button=ge(e.nextButton,jt)}get contents(){return this.items}}wge.type="HorizontalMovieList";class AU extends Z{constructor(e){super(),this.icon_type=e.icon?.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new Y(e.tooltip).toString()),this.endpoint=new Me(e.navigationEndpoint)}}AU.type="IconLink";class CU extends Z{constructor(e){super(),this.image=xt.fromResponse(e.image),this.style=e.style}}CU.type="ImageBannerView";class _ge extends Z{constructor(e){super(),this.including_results_for=new Y(e.includingResultsFor),this.corrected_query=new Y(e.correctedQuery),this.corrected_query_endpoint=new Me(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new Y(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new Y(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new Me(e.originalQueryEndpoint):void 0}}_ge.type="IncludingResultsFor";class RU extends Z{constructor(e){super(),this.title=new Y(e.title),this.source=new Y(e.source),Reflect.has(e,"paragraphs")&&(this.paragraphs=e.paragraphs.map(n=>new Y(n))),Reflect.has(e,"attributedParagraphs")&&(this.attributed_paragraphs=e.attributedParagraphs.map(n=>Y.fromAttributed(n))),this.thumbnail=xt.fromResponse(e.thumbnail),this.source_endpoint=new Me(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}}RU.type="InfoPanelContent";class IU extends Z{constructor(e){super(),this.title=new Y(e.title),this.menu=ge(e.menu,wi),this.content=ge(e.content,RU),e.headerEndpoint&&(this.header_endpoint=new Me(e.headerEndpoint)),this.background=e.background,this.title_style=e.titleStyle,Reflect.has(e,"icon")&&(this.icon_type=e.icon?.iconType)}}IU.type="InfoPanelContainer";class NU extends Z{constructor(e){super(),this.header_type=e.type,this.title=new Y(e.title),this.description=new Y(e.description),this.metadata=new Y(e.metadata),this.badges=yt(e.badges,Xm),this.box_art=xt.fromResponse(e.boxArt),this.banner=xt.fromResponse(e.banner),this.buttons=yt(e.buttons,[ah,jt]),this.auto_generated=new Y(e.autoGenerated)}}NU.type="InteractiveTabbedHeader";class eR extends Z{constructor(e){super(),this.title=new Y(e.title)}}eR.type="ItemSectionHeader";class OU extends Z{constructor(e){super(),this.title=new Y(e.title),this.selected=!!e.selected,this.endpoint=new Me(e.endpoint)}}OU.type="Tab";class tR extends Z{constructor(e){super(),this.title=new Y(e.title),this.tabs=yt(e.tabs,OU),Reflect.has(e,"endItems")&&(this.end_items=yt(e.endItems))}}tR.type="ItemSectionTabbedHeader";class MU extends Z{constructor(e){super(),this.filter_menu=ge(e.filterMenu,Fm)}}MU.type="SortFilterHeader";class nu extends Z{constructor(e){super(),this.header=ge(e.header,[BS,eR,tR,MU,jm]),this.contents=yt(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.targetId||e.sectionIdentifier),e.continuations&&(this.continuation=e.continuations?.at(0)?.nextContinuationData?.continuation)}}nu.type="ItemSection";let PU=class extends Z{constructor(e){super(),this.header=ge(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=e.continuations[0]?.reloadContinuationData?.continuation,this.client_messages={reconnect_message:new Y(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new Y(e.clientMessages.unableToReconnectMessage),fatal_error:new Y(e.clientMessages.fatalError),reconnected_message:new Y(e.clientMessages.reconnectedMessage),generic_error:new Y(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};PU.type="LiveChat";class LU extends Z{constructor(e){super(),this.text=new Y(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=ge(e.contextMenuButton,jt)}}LU.type="LiveChatBannerHeader";class DU extends Z{constructor(e){super(),this.header=ge(e.header,LU),this.contents=ge(e.contents),this.action_id=e.actionId,Reflect.has(e,"viewerIsCreator")&&(this.viewer_is_creator=e.viewerIsCreator),this.target_id=e.targetId,this.is_stackable=e.isStackable,Reflect.has(e,"backgroundType")&&(this.background_type=e.backgroundType),this.banner_type=e.bannerType,Reflect.has(e,"bannerProperties")&&Reflect.has(e.bannerProperties,"isEphemeral")&&(this.banner_properties_is_ephemeral=!!e.bannerProperties.isEphemeral),Reflect.has(e,"bannerProperties")&&Reflect.has(e.bannerProperties,"autoCollapseDelay")&&Reflect.has(e.bannerProperties.autoCollapseDelay,"seconds")&&(this.banner_properties_auto_collapse_delay_seconds=e.bannerProperties.autoCollapseDelay.seconds)}}DU.type="LiveChatBanner";class Sge extends Z{constructor(e){super(),this.banner=ge(e.bannerRenderer,DU)}}Sge.type="AddBannerToLiveChatCommand";class FU extends Z{constructor(e){super(),this.item=ge(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}}FU.type="AddChatItemAction";class xge extends Z{constructor(e){super(),this.item=ge(e.item),this.duration_sec=e.durationSec}}xge.type="AddLiveChatTickerItemAction";class Ege extends Z{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}}Ege.type="DimChatItemAction";class BU extends Z{constructor(e){super(),this.text=Y.fromAttributed(e.text),this.image_name=e.image.sources[0].clientResource.imageName,this.image_color=e.image.sources[0].clientResource.imageColor}}BU.type="BumperUserEduContentView";class UU extends Z{constructor(e){super(),this.creator_thumbnail=xt.fromResponse(e.creatorThumbnail),this.hearted_icon_name=e.heartedIcon.sources[0].clientResource.imageName,this.unhearted_icon_name=e.unheartedIcon.sources[0].clientResource.imageName,this.unhearted_icon_processor={border_image_processor:{image_tint:{color:e.unheartedIcon.processor.borderImageProcessor.imageTint.color}}},this.hearted_hover_text=e.heartedHoverText,this.hearted_accessibility_label=e.heartedAccessibilityLabel,this.unhearted_accessibility_label=e.unheartedAccessibilityLabel,this.engagement_state_key=e.engagementStateKey}}UU.type="CreatorHeartView";class kge extends Z{constructor(e){super(),this.menu_endpoint=new Me(e.contextMenuEndpoint),this.moderation_buttons=yt(e.moderationButtons,jt),this.auto_moderated_item=ge(e.autoModeratedItem),this.header_text=new Y(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}}kge.type="LiveChatAutoModMessage";class Tge extends Z{constructor(e){super(),this.id=e.liveChatSummaryId,this.chat_summary=new Y(e.chatSummary),this.icon_type=e.icon.iconType,this.like_feedback_button=ge(e.likeFeedbackButton,Bm),this.dislike_feedback_button=ge(e.dislikeFeedbackButton,Bm)}}Tge.type="LiveChatBannerChatSummary";class Age extends Z{constructor(e){super(),this.poll_question=new Y(e.pollQuestion),this.author_photo=xt.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(n=>({option_id:n.pollOptionId,text:new Y(n.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=ge(e.contextMenuButton,jt)}}Age.type="LiveChatBannerPoll";class Cge extends Z{constructor(e){super(),this.banner_message=new Y(e.bannerMessage),this.author_photo=xt.fromResponse(e.authorPhoto),this.inline_action_button=ge(e.inlineActionButton,jt),this.context_menu_button=ge(e.contextMenuButton,jt)}}Cge.type="LiveChatBannerRedirect";class jU extends Z{constructor(e){super(),this.content=ge(e.content,BU)}}jU.type="LiveChatItemBumperView";class Rge extends Z{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,Reflect.has(e,"timestampText")&&(this.timestamp_text=new Y(e.timestampText)),Reflect.has(e,"headerPrimaryText")&&(this.header_primary_text=new Y(e.headerPrimaryText)),this.header_subtext=new Y(e.headerSubtext),Reflect.has(e,"message")&&(this.message=new Y(e.message)),this.author=new oi(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new Me(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label}}Rge.type="LiveChatMembershipItem";class Ige extends Z{constructor(e){super(),this.id=e.id,this.icon_type=e.icon.iconType,this.text=new Y(e.text),this.subtext=new Y(e.subtext),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,this.timestamp_text=new Y(e.timestampText)}}Ige.type="LiveChatModeChangeMessage";class zU extends Z{constructor(e){super(),this.reply_button=ge(e.replyButton,xs),this.reply_count_entity_key=e.replyCountEntityKey,this.reply_count_placeholder=Y.fromAttributed(e.replyCountPlaceholder)}}zU.type="PdgReplyButtonView";class Nge extends Z{constructor(e){super(),this.id=e.id,this.message=new Y(e.message),this.author=new oi(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.author_name_text_color=e.authorNameTextColor,this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new Y(e.purchaseAmountText).toString(),this.menu_endpoint=new Me(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,Reflect.has(e,"timestampText")&&(this.timestamp_text=new Y(e.timestampText).toString()),this.timestamp_color=e.timestampColor,Reflect.has(e,"headerOverlayImage")&&(this.header_overlay_image=xt.fromResponse(e.headerOverlayImage)),this.text_input_background_color=e.textInputBackgroundColor,this.lower_bumper=ge(e.lowerBumper,jU),this.creator_heart_button=ge(e.creatorHeartButton,UU),this.is_v2_style=e.isV2Style,this.reply_button=ge(e.replyButton,zU)}}Nge.type="LiveChatPaidMessage";class Oge extends Z{constructor(e){super(),this.id=e.id,this.author=new oi(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=xt.fromResponse(e.sticker),this.sticker_accessibility_label=e.sticker.accessibility.accessibilityData.label,this.sticker_display_width=e.stickerDisplayWidth,this.sticker_display_height=e.stickerDisplayHeight,this.purchase_amount=new Y(e.purchaseAmountText).toString(),this.menu_endpoint=new Me(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,this.is_v2_style=e.isV2Style}}Oge.type="LiveChatPaidSticker";class Mge extends Z{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}}Mge.type="LiveChatPlaceholderItem";class Pge extends Z{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=xt.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=ge(e.informationButton),this.endpoint=new Me(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=xt.fromResponse(e.authorPhoto),this.information_dialog=ge(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new Y(e.creatorCustomMessage)}}Pge.type="LiveChatProductItem";class Lge extends Z{constructor(e){super(),this.message=new Y(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}}Lge.type="LiveChatRestrictedParticipation";class $U extends Xm{constructor(e){super(e),this.custom_thumbnail=xt.fromResponse(e.customThumbnail)}}$U.type="LiveChatAuthorBadge";class qU extends Z{constructor(e){super(),this.author_name=new Y(e.authorName),this.author_photo=xt.fromResponse(e.authorPhoto),this.author_badges=yt(e.authorBadges,$U),this.primary_text=new Y(e.primaryText),this.menu_endpoint=new Me(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label,this.image=xt.fromResponse(e.image)}}qU.type="LiveChatSponsorshipsHeader";class Dge extends Z{constructor(e){super(),this.id=e.id,this.timestamp_usec=e.timestampUsec,this.author_external_channel_id=e.authorExternalChannelId,this.header=ge(e.header,qU)}}Dge.type="LiveChatSponsorshipsGiftPurchaseAnnouncement";class Fge extends Z{constructor(e){super(),this.id=e.id,this.timestamp_usec=e.timestampUsec,this.timestamp_text=new Y(e.timestampText),this.author=new oi(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.message=new Y(e.message),this.menu_endpoint=new Me(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label}}Fge.type="LiveChatSponsorshipsGiftRedemptionAnnouncement";class Bge extends Z{constructor(e){super(),this.id=e.id,this.message=new Y(e.message),this.inline_action_buttons=yt(e.inlineActionButtons,jt),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,Reflect.has(e,"timestampText")&&(this.timestamp_text=new Y(e.timestampText).toString()),this.author=new oi(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),Reflect.has(e,"contextMenuEndpoint")&&(this.menu_endpoint=new Me(e.contextMenuEndpoint)),Reflect.has(e,"contextMenuAccessibility")&&Reflect.has(e.contextMenuAccessibility,"accessibilityData")&&Reflect.has(e.contextMenuAccessibility.accessibilityData,"label")&&(this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label),this.before_content_buttons=yt(e.beforeContentButtons,xs)}}Bge.type="LiveChatTextMessage";class Uge extends Z{constructor(e){super(),this.id=e.id,this.author=new oi(e.authorName||e.authorUsername,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),Reflect.has(e,"amount")&&(this.amount=new Y(e.amount)),this.amount_text_color=e.amountTextColor,this.start_background_color=e.startBackgroundColor,this.end_background_color=e.endBackgroundColor,this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=ge(e.showItemEndpoint?.showLiveChatItemEndpoint?.renderer),this.show_item_endpoint=new Me(e.showItemEndpoint),this.animation_origin=e.animationOrigin,this.open_engagement_panel_command=new Me(e.openEngagementPanelCommand)}}Uge.type="LiveChatTickerPaidMessageItem";class jge extends Z{constructor(e){super(),this.id=e.id,this.author_external_channel_id=e.authorExternalChannelId,this.author_photo=xt.fromResponse(e.authorPhoto),this.start_background_color=e.startBackgroundColor,this.end_background_color=e.endBackgroundColor,this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=ge(e.showItemEndpoint?.showLiveChatItemEndpoint?.renderer),this.show_item_endpoint=new Me(e.showItemEndpoint),this.ticker_thumbnails=e.tickerThumbnails.map(n=>({thumbnails:xt.fromResponse(n),label:n?.accessibility?.accessibilityData?.label}))}}jge.type="LiveChatTickerPaidStickerItem";class zge extends Z{constructor(e){super(),this.id=e.id,this.detail=new Y(e.detailText),this.author=new oi(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}}zge.type="LiveChatTickerSponsorItem";class $ge extends Z{constructor(e){super(),this.id=e.id,Reflect.has(e,"timestampUsec")&&(this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.message=new Y(e.message),this.action_button=ge(e.actionButton),Reflect.has(e,"contextMenuEndpoint")&&(this.menu_endpoint=new Me(e.contextMenuEndpoint)),Reflect.has(e,"contextMenuAccessibility")&&Reflect.has(e.contextMenuAccessibility,"accessibilityData")&&Reflect.has(e.contextMenuAccessibility.accessibilityData,"label")&&(this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label)}}$ge.type="LiveChatViewerEngagementMessage";class qge extends Z{constructor(e){super(),this.poll_question=new Y(e.pollQuestion),this.thumbnails=xt.fromResponse(e.thumbnail),this.metadata=new Y(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=ge(e.contextMenuButton,jt)}}qge.type="PollHeader";class HU extends Z{constructor(e){super(),this.id=e.id,this.contents=Bi(e.contents),this.target_id=e.targetId}}HU.type="LiveChatActionPanel";class Hge extends Z{constructor(e){super(),this.deleted_state_message=new Y(e.deletedStateMessage),this.target_item_id=e.targetItemId}}Hge.type="MarkChatItemAsDeletedAction";class Vge extends Z{constructor(e){super(),this.deleted_state_message=new Y(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}}Vge.type="MarkChatItemsByAuthorAsDeletedAction";class Gge extends Z{constructor(e){super(),this.target_action_id=e.targetActionId}}Gge.type="RemoveBannerForLiveChatCommand";class Wge extends Z{constructor(e){super(),this.target_item_id=e.targetItemId}}Wge.type="RemoveChatItemAction";class Kge extends Z{constructor(e){super(),this.external_channel_id=e.externalChannelId}}Kge.type="RemoveChatItemByAuthorAction";class Yge extends Z{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=ge(e.replacementItem)}}Yge.type="ReplaceChatItemAction";class Xge extends Z{constructor(e){super(),this.to_replace=e.toReplace,this.replacement=ge(e.replacement)}}Xge.type="ReplaceLiveChatAction";class Zge extends Z{constructor(e){super(),this.actions=yt(e.actions?.map(n=>(delete n.clickTrackingParams,n))),this.video_offset_time_msec=e.videoOffsetTimeMsec}}Zge.type="ReplayChatItemAction";class Qge extends Z{constructor(e){super(),this.panel_to_show=ge(e.panelToShow,HU)}}Qge.type="ShowLiveChatActionPanelAction";class Jge extends Z{constructor(e){super(),this.dialog=ge(e.dialog)}}Jge.type="ShowLiveChatDialogAction";class e0e extends Z{constructor(e){super(),this.tooltip=ge(e.tooltip)}}e0e.type="ShowLiveChatTooltipCommand";class VU extends Z{constructor(e){super(),this.date_text=new Y(e.dateText).toString()}}VU.type="UpdateDateTextAction";class GU extends Z{constructor(e){super(),this.description=new Y(e.description)}}GU.type="UpdateDescriptionAction";class t0e extends Z{constructor(e){super(),this.poll_to_update=ge(e.pollToUpdate)}}t0e.type="UpdateLiveChatPollAction";class WU extends Z{constructor(e){super(),this.title=new Y(e.title)}}WU.type="UpdateTitleAction";class KU extends Z{constructor(e){super(),this.default_text=new Y(e.defaultText).toString(),this.toggled_text=new Y(e.toggledText).toString(),this.button_id=e.buttonId}}KU.type="UpdateToggleButtonTextAction";class YU extends Z{constructor(e){super();const n=e.viewCount.videoViewCountRenderer;this.view_count=new Y(n.viewCount),this.extra_short_view_count=new Y(n.extraShortViewCount),this.original_view_count=parseInt(n.originalViewCount),this.unlabeled_view_count_value=new Y(n.unlabeledViewCountValue),this.is_live=n.isLive}}YU.type="UpdateViewershipAction";class n0e extends Z{constructor(e){super(),this.confirm_button=ge(e.confirmButton,jt),this.dialog_messages=e.dialogMessages.map(n=>new Y(n))}}n0e.type="LiveChatDialog";class XU extends Z{constructor(e){super(),this.overflow_menu=ge(e.overflowMenu,wi),this.collapse_button=ge(e.collapseButton,jt),this.view_selector=ge(e.viewSelector,Fm)}}XU.type="LiveChatHeader";class ZU extends Z{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=ge(e.moreCommentsBelowButton,jt)}}ZU.type="LiveChatItemList";class r0e extends Z{constructor(e){super(),this.author_name=new Y(e.authorName),this.author_photo=xt.fromResponse(e.authorPhoto),this.send_button=ge(e.sendButton,jt),this.target_id=e.targetId}}r0e.type="LiveChatMessageInput";class QU extends Z{constructor(e){super(),this.name=new Y(e.authorName),this.photo=xt.fromResponse(e.authorPhoto),this.badges=yt(e.authorBadges)}}QU.type="LiveChatParticipant";class JU extends Z{constructor(e){super(),this.title=new Y(e.title),this.participants=yt(e.participants,QU)}}JU.type="LiveChatParticipantsList";class ej extends Z{constructor(e){super(),this.title=Y.fromAttributed(e.title),this.metadata=ge(e.metadata,WC),this.image=ge(e.image,YC),this.menu_button=ge(e.menuButton,xs)}}ej.type="LockupMetadataView";class tj extends Z{constructor(e){super(),this.content_image=ge(e.contentImage,[HB,HC]),this.metadata=ge(e.metadata,ej),this.content_id=e.contentId,this.content_type=e.contentType.replace("LOCKUP_CONTENT_TYPE_",""),this.renderer_context=new OS(e.rendererContext)}}tj.type="LockupView";class nj extends jt{constructor(e){super(e)}}nj.type="MenuNavigationItem";class i0e extends Z{constructor(e){super(),this.items=yt(e.items,[nj,l0])}}i0e.type="MenuPopup";class a0e extends Z{constructor(e){super(),this.items=yt(e.items)}get contents(){return this.items}}a0e.type="MultiPageMenuNotificationSection";class rj extends Z{constructor(e){super()}}rj.type="MusicMenuItemDivider";class u0 extends Z{constructor(e){super(),this.title=new Y(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new Me(e.selectedCommand)),this.selected=!!this.endpoint}}u0.type="MusicMultiSelectMenuItem";class ij extends Z{constructor(e){super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new Y(e.title.musicMenuTitleRenderer?.primaryText)),this.options=yt(e.options,[u0,rj])}}ij.type="MusicMultiSelectMenu";class aj extends Z{constructor(e){super(),this.title=new Y(e.title),this.buttons=yt(e.buttons,jt)}}aj.type="SimpleMenuHeader";class s0e extends Z{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=xt.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new Me(e.buttonCommand)}}s0e.type="MerchandiseItem";class sj extends Z{constructor(e){super(),this.title=e.title,this.menu=ge(e.actionButton),this.items=yt(e.items)}get contents(){return this.items}}sj.type="MerchandiseShelf";class o0e extends Z{constructor(e){super(),this.title=new Y(e.title),this.contents=e.contents.map(n=>new Y(n))}}o0e.type="MetadataRow";class oj extends Z{constructor(e){super(),this.rows=yt(e.rows),this.collapsed_item_count=e.collapsedItemCount}}oj.type="MetadataRowContainer";class l0e extends Z{constructor(e){super(),this.content=new Y(e.content),this.has_divider_line=e.hasDividerLine}}l0e.type="MetadataRowHeader";class u0e extends Z{constructor(e){super(),this.section_list=ge(e)}}u0e.type="MetadataScreen";class c0 extends Z{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=xt.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}}c0.type="MicroformatData";class c0e extends xv{constructor(e){super(e)}}c0e.type="Mix";class d0e extends Z{constructor(e){super(),this.title=new Y(e.title),this.content=new Y(e.content),this.button=ge(e.button,jt)}}d0e.type="ModalWithTitleAndButton";class h0e extends Z{constructor(e){super();const n=e.thumbnailOverlays.find(r=>r.thumbnailOverlayTimeStatusRenderer)?.thumbnailOverlayTimeStatusRenderer.text||"N/A";this.id=e.videoId,this.title=new Y(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new Y(e.descriptionSnippet)),this.top_metadata_items=new Y(e.topMetadataItems),this.thumbnails=xt.fromResponse(e.thumbnail),this.thumbnail_overlays=yt(e.thumbnailOverlays),this.author=new oi(e.longBylineText,e.ownerBadges,e.channelThumbnailSupportedRenderers?.channelThumbnailWithLinkRenderer?.thumbnail),this.duration={text:e.lengthText?new Y(e.lengthText).toString():new Y(n).toString(),seconds:Pf(e.lengthText?new Y(e.lengthText).toString():new Y(n).toString())},this.endpoint=new Me(e.navigationEndpoint),this.badges=yt(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=ge(e.menu,wi)}}h0e.type="Movie";class f0e extends Z{constructor(e){return super(),e.movingThumbnailDetails?.thumbnails.map(n=>new xt(n)).sort((n,r)=>r.width-n.width)}}f0e.type="MovingThumbnail";class lj extends Z{constructor(e){super(),this.title=new Y(e.title)}}lj.type="MusicCardShelfHeaderBasic";class nR extends Z{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}}nR.type="MusicInlineBadge";class rR extends Z{constructor(e){super(),this.endpoint=new Me(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=e.accessibilityPlayData.accessibilityData?.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=e.accessibilityPauseData.accessibilityData?.label),this.icon_color=e.iconColor}}rR.type="MusicPlayButton";class Ev extends Z{constructor(e){super(),this.content=ge(e.content,rR),this.content_position=e.contentPosition,this.display_style=e.displayStyle}}Ev.type="MusicItemThumbnailOverlay";class Yd extends Z{constructor(e){super(),this.contents=xt.fromResponse(e.thumbnail)}}Yd.type="MusicThumbnail";class uj extends Z{constructor(e){super(),this.thumbnail=ge(e.thumbnail,Yd),this.title=new Y(e.title),this.subtitle=new Y(e.subtitle),this.buttons=yt(e.buttons,jt),this.menu=ge(e.menu,wi),this.on_tap=new Me(e.onTap),this.header=ge(e.header,lj),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=yt(e.subtitleBadges,nR),this.thumbnail_overlay=ge(e.thumbnailOverlay,Ev),Reflect.has(e,"contents")&&(this.contents=yt(e.contents))}}uj.type="MusicCardShelf";class cj extends Z{constructor(e){super(),this.title=new Y(e.title),Reflect.has(e,"strapline")&&(this.strapline=new Y(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=ge(e.thumbnail,Yd)),Reflect.has(e,"moreContentButton")&&(this.more_content=ge(e.moreContentButton,jt)),Reflect.has(e,"endIcons")&&(this.end_icons=yt(e.endIcons,AU))}}cj.type="MusicCarouselShelfBasicHeader";class dj extends Z{constructor(e){super(),this.thumbnail=ge(e.thumbnail,Yd),this.overlay=ge(e.overlay,Ev),this.on_tap=new Me(e.onTap),this.menu=ge(e.menu,wi),this.subtitle=new Y(e.subtitle),this.title=new Y(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new Y(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new Y(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}}dj.type="MusicMultiRowListItem";class iR extends Z{constructor(e){super(),this.button_text=new Y(e.buttonText).toString(),this.endpoint=new Me(e.clickCommand)}}iR.type="MusicNavigationButton";class hj extends Z{constructor(e){super(),this.title=new Y(e.text),this.display_priority=e.displayPriority}}hj.type="musicResponsiveListItemFlexColumnRenderer";class fj extends Z{constructor(e){super(),this.title=new Y(e.text),this.display_priority=e.displayPriority}}fj.type="MusicResponsiveListItemFlexColumn";var ql,cb,n8,p0e,vne,wne,m0e,g0e,y0e,b0e,v0e,w0e;class _f extends Z{constructor(e){super(),ql.add(this),cb.set(this,void 0),this.flex_columns=yt(e.flexColumns,fj),this.fixed_columns=yt(e.fixedColumns,hj),kt(this,cb,{video_id:e?.playlistItemData?.videoId||null,playlist_set_video_id:e?.playlistItemData?.playlistSetVideoId||null},"f"),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new Me(e.navigationEndpoint));let n=this.endpoint?.payload?.browseEndpointContextSupportedConfigs?.browseEndpointContextMusicConfig?.pageType;switch(n||this.flex_columns.find(i=>i.title.endpoint?.payload?.browseEndpointContextSupportedConfigs?.browseEndpointContextMusicConfig?.pageType==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE")&&(n="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),n){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",L(this,ql,"m",v0e).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",L(this,ql,"m",w0e).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",L(this,ql,"m",m0e).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",L(this,ql,"m",g0e).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",L(this,ql,"m",y0e).call(this);break;case"MUSIC_PAGE_TYPE_PODCAST_SHOW_DETAIL_PAGE":this.item_type="podcast_show",L(this,ql,"m",b0e).call(this);break;default:this.flex_columns[1]?L(this,ql,"m",p0e).call(this):L(this,ql,"m",n8).call(this)}Reflect.has(e,"index")&&(this.index=new Y(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=ge(e.thumbnail,Yd)),Reflect.has(e,"badges")&&(this.badges=yt(e.badges)),Reflect.has(e,"menu")&&(this.menu=ge(e.menu,wi)),Reflect.has(e,"overlay")&&(this.overlay=ge(e.overlay,Ev))}get thumbnails(){return this.thumbnail?.contents||[]}}cb=new WeakMap,ql=new WeakSet,n8=function(){this.title=this.flex_columns[0].title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},p0e=function(){switch(this.flex_columns.at(0)?.title.runs?.at(0)?.endpoint?.payload?.watchEndpointMusicSupportedConfigs?.watchEndpointMusicConfig?.musicVideoType){case"MUSIC_VIDEO_TYPE_UGC":case"MUSIC_VIDEO_TYPE_OMV":this.item_type="video",L(this,ql,"m",wne).call(this);break;case"MUSIC_VIDEO_TYPE_ATV":this.item_type="song",L(this,ql,"m",vne).call(this);break;default:L(this,ql,"m",n8).call(this)}},vne=function(){this.id=L(this,cb,"f").video_id||this.endpoint?.payload?.videoId,this.title=this.flex_columns[0].title.toString();const e=this.flex_columns.at(1)?.title.runs?.find(i=>/^\d+$/.test(i.text.replace(/:/g,"")))?.text||this.fixed_columns[0]?.title?.toString();e&&(this.duration={text:e,seconds:Pf(e)});const n=this.flex_columns.at(1)?.title.runs?.find(i=>Pl(i)&&i.endpoint&&i.endpoint.payload.browseId.startsWith("MPR"))||this.flex_columns.at(2)?.title.runs?.find(i=>Pl(i)&&i.endpoint&&i.endpoint.payload.browseId.startsWith("MPR"));n&&Pl(n)&&(this.album={id:n.endpoint?.payload?.browseId,name:n.text,endpoint:n.endpoint});const r=this.flex_columns.at(1)?.title.runs?.filter(i=>Pl(i)&&i.endpoint&&i.endpoint.payload.browseId.startsWith("UC"));r&&(this.artists=r.map(i=>({name:i.text,channel_id:Pl(i)?i.endpoint?.payload?.browseId:void 0,endpoint:Pl(i)?i.endpoint:void 0})))},wne=function(){this.id=L(this,cb,"f").video_id,this.title=this.flex_columns[0].title.toString(),this.views=this.flex_columns.at(1)?.title.runs?.find(r=>r.text.match(/(.*?) views/))?.toString();const e=this.flex_columns.at(1)?.title.runs?.filter(r=>Pl(r)&&r.endpoint&&r.endpoint.payload.browseId.startsWith("UC"));e&&(this.authors=e.map(r=>({name:r.text,channel_id:Pl(r)?r.endpoint?.payload?.browseId:void 0,endpoint:Pl(r)?r.endpoint:void 0})));const n=this.flex_columns[1].title.runs?.find(r=>/^\d+$/.test(r.text.replace(/:/g,"")))?.text||this.fixed_columns[0]?.title.runs?.find(r=>/^\d+$/.test(r.text.replace(/:/g,"")))?.text;n&&(this.duration={text:n,seconds:Pf(n)})},m0e=function(){this.id=this.endpoint?.payload?.browseId,this.name=this.flex_columns[0].title.toString(),this.subtitle=this.flex_columns.at(1)?.title,this.subscribers=this.subtitle?.runs?.find(e=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(e.text))?.text||""},g0e=function(){this.name=this.flex_columns[0].title.toString(),this.subtitle=this.flex_columns.at(1)?.title,this.song_count=this.subtitle?.runs?.find(e=>/^\d+(,\d+)? songs?$/i.test(e.text))?.text||""},y0e=function(){this.id=L(this,cb,"f").video_id||this.endpoint?.payload?.videoId,this.title=this.flex_columns[0].title.toString()},b0e=function(){this.id=this.endpoint?.payload?.browseId,this.title=this.flex_columns[0].title.toString()},v0e=function(){this.id=this.endpoint?.payload?.browseId,this.title=this.flex_columns[0].title.toString();const e=this.flex_columns.at(1)?.title.runs?.find(n=>Pl(n)&&n.endpoint&&n.endpoint.payload.browseId.startsWith("UC"));e&&Pl(e)&&(this.author={name:e.text,channel_id:e.endpoint?.payload?.browseId,endpoint:e.endpoint}),this.year=this.flex_columns.at(1)?.title.runs?.find(n=>/^[12][0-9]{3}$/.test(n.text))?.text},w0e=function(){this.id=this.endpoint?.payload?.browseId,this.title=this.flex_columns[0].title.toString();const e=this.flex_columns.at(1)?.title.runs?.find(r=>r.text.match(/\d+ (song|songs)/));this.item_count=e?e.text:void 0;const n=this.flex_columns.at(1)?.title.runs?.find(r=>Pl(r)&&r.endpoint&&r.endpoint.payload.browseId.startsWith("UC"));n&&Pl(n)&&(this.author={name:n.text,channel_id:n.endpoint?.payload?.browseId,endpoint:n.endpoint})};_f.type="MusicResponsiveListItem";class aR extends Z{constructor(e){switch(super(),this.title=new Y(e.title),this.endpoint=new Me(e.navigationEndpoint),this.id=this.endpoint?.payload?.browseId||this.endpoint?.payload?.videoId,this.subtitle=new Y(e.subtitle),this.badges=Bi(e.subtitleBadges),this.endpoint?.payload?.browseEndpointContextSupportedConfigs?.browseEndpointContextMusicConfig?.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:this.endpoint?.metadata?.api_url==="/next"?this.item_type="endpoint":this.subtitle.runs?.[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=this.subtitle.runs?.find(r=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(r.text))?.text||"";else if(this.item_type=="playlist"){const r=this.subtitle.runs?.find(i=>i.text.match(/\d+ songs|song/));this.item_count=r?r.text:null}else if(this.item_type=="album"){const r=this.subtitle.runs?.filter(i=>i.endpoint?.payload?.browseId.startsWith("UC"));r&&(this.artists=r.map(i=>({name:i.text,channel_id:i.endpoint?.payload?.browseId,endpoint:i.endpoint}))),this.year=this.subtitle.runs?.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=this?.subtitle.runs?.find(i=>i?.text.match(/(.*?) views/))?.text||"N/A";const r=this.subtitle.runs?.find(i=>i.endpoint?.payload?.browseId?.startsWith("UC"));r&&(this.author={name:r?.text,channel_id:r?.endpoint?.payload?.browseId,endpoint:r?.endpoint})}else if(this.item_type=="song"){const r=this.subtitle.runs?.filter(i=>i.endpoint?.payload?.browseId.startsWith("UC"));r&&(this.artists=r.map(i=>({name:i?.text,channel_id:i?.endpoint?.payload?.browseId,endpoint:i?.endpoint})))}this.thumbnail=xt.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=ge(e.thumbnailOverlay,Ev),this.menu=ge(e.menu,wi)}}aR.type="MusicTwoRowItem";class ju extends Z{constructor(e){super(),this.header=ge(e.header,cj),this.contents=yt(e.contents,[aR,_f,dj,iR]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}}ju.type="MusicCarouselShelf";class jS extends Z{constructor(e){super(),this.description=new Y(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new Y(e.footer)}}jS.type="MusicDescriptionShelf";class sR extends Z{constructor(e){super(),this.title=new Y(e.title),this.description=new Y(e.description),this.subtitle=new Y(e.subtitle),this.second_subtitle=new Y(e.secondSubtitle),this.year=this.subtitle.runs?.find(r=>/^[12][0-9]{3}$/.test(r.text))?.text||"",this.song_count=this.second_subtitle.runs?.[0]?.text||"",this.total_duration=this.second_subtitle.runs?.[2]?.text||"",this.thumbnails=xt.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=yt(e.subtitleBadges);const n=this.subtitle.runs?.find(r=>r?.endpoint?.payload?.browseId.startsWith("UC"));n&&(this.author={name:n.text,channel_id:n.endpoint?.payload?.browseId,endpoint:n.endpoint}),this.menu=ge(e.menu)}}sR.type="MusicDetailHeader";class _0e extends Z{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}}_0e.type="MusicDownloadStateBadge";class pj extends Z{constructor(e){super(),this.header=ge(e.header),this.edit_header=ge(e.editHeader),this.playlist_id=e.playlistId}}pj.type="MusicEditablePlaylistDetailHeader";class $T extends Z{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?ge(e,hU):null}}$T.type="MusicElementHeader";class zS extends Z{constructor(e){super(),Reflect.has(e,"header")&&(this.header=ge(e.header)),Reflect.has(e,"title")&&(this.title=new Y(e.title))}}zS.type="MusicHeader";class mj extends Z{constructor(e){super(),this.title=new Y(e.title),this.description=new Y(e.description),this.thumbnail=ge(e.thumbnail,Yd)}}mj.type="MusicImmersiveHeader";class S0e{constructor(e){this.icon_name=e.iconName,this.endpoint=new Me(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}}S0e.type="ActionButton";class x0e{constructor(e){this.image=xt.fromResponse(e.image.image),this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(n=>new S0e(n))}}x0e.type="Panel";class E0e extends Z{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(n=>new x0e(n))}}E0e.type="MusicLargeCardItemCarousel";class k0e extends Z{constructor(e){super(),this.title=new Y(e.title),this.edit_title=new Y(e.editTitle),this.edit_description=new Y(e.editDescription),this.privacy=e.privacy,this.playlist_id=e.playlistId,this.endpoint=new Me(e.collaborationSettingsCommand),this.privacy_dropdown=ge(e.privacyDropdown,RS)}}k0e.type="MusicPlaylistEditHeader";class U1 extends Z{constructor(e){super(),this.playlist_id=e.playlistId,this.contents=yt(e.contents,[_f,Fi]),this.collapsed_item_count=e.collapsedItemCount,this.continuation=e.continuations?.[0]?.nextContinuationData?.continuation||null}}U1.type="MusicPlaylistShelf";class Wb extends Z{constructor(e){super(),this.title=new Y(e.title),this.thumbnail=xt.fromResponse(e.thumbnail),this.endpoint=new Me(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new Y(e.lengthText).toString(),seconds:Pf(new Y(e.lengthText).toString())};const n=new Y(e.longBylineText).runs?.find(i=>i.endpoint?.payload?.browseId?.startsWith("MPR")),r=new Y(e.longBylineText).runs?.filter(i=>i.endpoint?.payload?.browseId?.startsWith("UC"));this.author=new Y(e.shortBylineText).toString(),n&&(this.album={id:n.endpoint?.payload?.browseId,name:n.text,year:new Y(e.longBylineText).runs?.slice(-1)[0].text,endpoint:n.endpoint}),r&&(this.artists=r.map(i=>({name:i.text,channel_id:i.endpoint?.payload?.browseId,endpoint:i.endpoint}))),this.badges=yt(e.badges),this.menu=ge(e.menu),this.set_video_id=e.playlistSetVideoId}}Wb.type="PlaylistPanelVideo";class gj extends Z{constructor(e){super(),this.primary=ge(e.primaryRenderer,Wb),Reflect.has(e,"counterpart")&&(this.counterpart=mi(e.counterpart.map(n=>ge(n.counterpartRenderer,Wb))||[]))}}gj.type="PlaylistPanelVideoWrapper";class wm extends Z{constructor(e){super(),this.title=e.title,this.title_text=new Y(e.titleText),this.contents=yt(e.contents,[gj,Wb,NS]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=e.continuations?.[0]?.nextRadioContinuationData?.continuation||e.continuations?.[0]?.nextContinuationData?.continuation,this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}}wm.type="PlaylistPanel";class oR extends Z{constructor(e){super(),this.content=ge(e.content,wm)}}oR.type="MusicQueue";class lR extends Z{constructor(e){super(),this.thumbnail=ge(e.thumbnail,Yd),this.buttons=yt(e.buttons,[LC,to,rR,jt,wi]),this.title=new Y(e.title),this.subtitle=new Y(e.subtitle),this.strapline_text_one=new Y(e.straplineTextOne),this.strapline_thumbnail=ge(e.straplineThumbnail,Yd),this.second_subtitle=new Y(e.secondSubtitle),Reflect.has(e,"subtitleBadge")&&(this.subtitle_badge=yt(e.subtitleBadge,nR)),Reflect.has(e,"description")&&(this.description=ge(e.description,jS))}}lR.type="MusicResponsiveHeader";class Ls extends Z{constructor(e){super(),this.title=new Y(e.title),this.contents=yt(e.contents,_f),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new Me(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=e.continuations?.[0].nextContinuationData?.continuation||e.continuations?.[0].reloadContinuationData?.continuation),Reflect.has(e,"bottomText")&&(this.bottom_text=new Y(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=ge(e.bottomButton,jt)),Reflect.has(e,"subheaders")&&(this.subheaders=yt(e.subheaders))}}Ls.type="MusicShelf";class yj extends Z{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=yt(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=yt(e.endItems))}}yj.type="MusicSideAlignedItem";class qT extends Z{constructor(e){super(),this.title=new Y(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=ge(e.menu,ij)}}qT.type="MusicSortFilterButton";class bj extends Z{constructor(e){super(),this.thumbnail=xt.fromResponse(e.thumbnail)}}bj.type="MusicTastebuilderShelfThumbnail";class vj extends Z{constructor(e){super(),this.thumbnail=ge(e.thumbnail,bj),this.primary_text=new Y(e.primaryText),this.secondary_text=new Y(e.secondaryText),this.action_button=ge(e.actionButton,jt),this.is_visible=e.isVisible}}vj.type="MusicTasteBuilderShelf";class wj extends Z{constructor(e){super(),this.title=new Y(e.title),this.thumbnail=e.thumbnail?xt.fromResponse(e.thumbnail.musicThumbnailRenderer?.thumbnail):[],this.menu=ge(e.menu,wi),this.foreground_thumbnail=e.foregroundThumbnail?xt.fromResponse(e.foregroundThumbnail.musicThumbnailRenderer?.thumbnail):[]}}wj.type="MusicVisualHeader";class T0e extends Z{constructor(e){super(),this.placeholder_text=new Y(e.placeholderText),this.buttons=yt(e.buttons),Reflect.has(e,"logo")&&Reflect.has(e.logo,"iconType")&&(this.logo_type=e.logo.iconType)}}T0e.type="MobileTopbar";class A0e extends Z{constructor(e){super(),this.items=yt(e.items)}}A0e.type="MultiPageMenuSection";class C0e extends Z{constructor(e){super(),this.items=yt(e.items)}}C0e.type="PivotBar";class R0e extends Z{constructor(e){super(),this.pivot_identifier=e.pivotIdentifier,this.endpoint=new Me(e.navigationEndpoint),this.title=new Y(e.title),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.accessibility_label=e.accessibility.accessibilityData.label),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}}R0e.type="PivotBarItem";class I0e extends Z{constructor(e){super(),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.menu_renderer=ge(e.menuRenderer),this.target_id=e.targetId}}I0e.type="TopbarMenuButton";class _j extends Z{constructor(e){super(),this.thumbnails=xt.fromResponse(e.thumbnail),this.video_thumbnails=xt.fromResponse(e.videoThumbnail),this.short_message=new Y(e.shortMessage),this.sent_time=new Y(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new Me(e.navigationEndpoint),this.record_click_endpoint=new Me(e.recordClickEndpoint),this.menu=ge(e.contextualMenu),this.read=e.read}}_j.type="Notification";class N0e extends Z{constructor(e){super(),this.response_text=new Y(e.responseText)}}N0e.type="NotificationAction";class Sj extends Z{constructor(e){super(),this.title=ge(e.title,dU),this.image=ge(e.image,[kb,YC]),this.animated_image=ge(e.animatedImage,kb),this.hero_image=ge(e.heroImage,kb),this.metadata=ge(e.metadata,WC),this.actions=ge(e.actions,FC),this.description=ge(e.description,oU),this.attributation=ge(e.attributation,H9),this.banner=ge(e.banner,CU)}}Sj.type="PageHeaderView";class d0 extends Z{constructor(e){super(),this.page_title=e.pageTitle,this.content=ge(e.content,Sj)}}d0.type="PageHeader";class xj extends Z{constructor(e){super(),this.header_text=new Y(e.headerText).toString(),this.body_text=new Y(e.bodyText).toString(),this.page_title=new Y(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}}xj.type="PageIntroduction";class Ej extends Z{constructor(e){super(),this.thumbnail=xt.fromResponse(e.thumbnail),this.endpoint=new Me(e.onClickCommand),this.content_description=new Y(e.contentDescription),this.target_id=e.targetId,this.sound_attribution_title=new Y(e.soundAttributionTitle),this.waveform_animation_style=e.waveformAnimationStyle,this.background_animation_style=e.backgroundAnimationStyle}}Ej.type="PivotButton";class kj extends Z{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:xt.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new Me(e.featuredChannel.navigationEndpoint),subscribe_button:ge(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}}kj.type="PlayerAnnotationsExpanded";class Tj extends Z{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(n=>({base_url:n.baseUrl,name:new Y(n.name),vss_id:n.vssId,language_code:n.languageCode,kind:n.kind,is_translatable:n.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(n=>({audio_track_id:n.audioTrackId,captions_initial_state:n.captionsInitialState,default_caption_track_index:n.defaultCaptionTrackIndex,has_default_track:n.hasDefaultTrack,visibility:n.visibility,caption_track_indices:n.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(n=>({language_code:n.languageCode,language_name:new Y(n.languageName)})))}}Tj.type="PlayerCaptionsTracklist";class Aj extends Z{constructor(e){super(),this.endpoint=new Me(e.endpoint),this.enable_listen_first=e.enableListenFirst}}Aj.type="PlayerOverflow";class O0e extends Z{constructor(e){super(),this.overflow=ge(e.overflow,Aj)}}O0e.type="PlayerControlsOverlay";class M0e extends Z{constructor(e){super(),this.subreason=new Y(e.subreason),this.reason=new Y(e.reason),this.proceed_button=ge(e.proceedButton,jt),this.thumbnails=xt.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}}M0e.type="PlayerErrorMessage";class P0e extends Z{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}}P0e.type="PlayerLegacyDesktopYpcOffer";class j1 extends Z{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}}j1.type="YpcTrailer";class HT extends Z{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=ge(e.ypcTrailer,j1)}}HT.type="PlayerLegacyDesktopYpcTrailer";class Cj extends Z{constructor(e){super();const[n,r,i,a,s]=e.spec.split("#");this.board={type:"live",template_url:n,thumbnail_width:parseInt(r,10),thumbnail_height:parseInt(i,10),columns:parseInt(a,10),rows:parseInt(s,10)}}}Cj.type="PlayerLiveStoryboardSpec";class kc extends Z{constructor(e){super(),this.title=new Y(e.title),this.description=new Y(e.description),this.thumbnails=xt.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=e.liveBroadcastDetails?.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null,this.end_timestamp=e.liveBroadcastDetails?.endTimestamp?new Date(e.liveBroadcastDetails.endTimestamp):null}}kc.type="PlayerMicroformat";class Rj extends Z{constructor(e){super(),this.title=new Y(e.title),this.video_id=e.videoId,this.video_title=new Y(e.videoTitle),this.short_view_count=new Y(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new Y(e.publishedTimeText),this.background=xt.fromResponse(e.background),this.thumbnail_overlays=yt(e.thumbnailOverlays),this.author=new oi(e.byline),this.cancel_button=ge(e.cancelButton,jt),this.next_button=ge(e.nextButton,jt),this.close_button=ge(e.closeButton,jt)}}Rj.type="PlayerOverlayAutoplay";class Ij extends Z{constructor(e){super(),this.title=new Y(e.title),this.subtitle=new Y(e.subtitle)}}Ij.type="PlayerOverlayVideoDetails";class Nj extends Z{constructor(e){super(),this.results=yt(e.results,[yU,gU]),this.title=new Y(e.title).toString()}}Nj.type="WatchNextEndScreen";class $S extends Z{constructor(e){super(),this.end_screen=ge(e.endScreen,Nj),this.autoplay=ge(e.autoplay,Rj),this.share_button=ge(e.shareButton,jt),this.add_to_menu=ge(e.addToMenu,wi),this.fullscreen_engagement=ge(e.fullscreenEngagement),this.actions=yt(e.actions),this.browser_media_session=ge(e.browserMediaSession),this.decorated_player_bar=ge(e.decoratedPlayerBarRenderer,sU),this.video_details=ge(e.videoDetails,Ij)}}$S.type="PlayerOverlay";class Oj extends Z{constructor(e){super(),this.id=e.playlistId,this.title=new Y(e.title),this.subtitle=e.subtitle?new Y(e.subtitle):null,this.stats=e.stats.map(n=>new Y(n)),this.brief_stats=e.briefStats.map(n=>new Y(n)),this.author=e.ownerText||e.ownerEndpoint?new oi({...e.ownerText,navigationEndpoint:e.ownerEndpoint},e.ownerBadges,null):null,this.description=new Y(e.descriptionText),this.num_videos=new Y(e.numVideosText),this.view_count=new Y(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=ge(e.saveButton),this.shuffle_play_button=ge(e.shufflePlayButton),this.menu=ge(e.moreActionsMenu),this.banner=ge(e.playlistHeaderBanner)}}Oj.type="PlaylistHeader";class L0e extends Z{constructor(e){super(),this.title=new Y(e.playlistTitle),this.thumbnails=xt.fromResponse(e.thumbnail),this.video_count=new Y(e.playlistVideoCount),this.channel_name=new Y(e.channelName),this.endpoint=new Me(e.action)}}L0e.type="PlaylistInfoCardContent";class Mj extends Z{constructor(e){super(),this.title=e.title,this.description=e.description||null}}Mj.type="PlaylistMetadata";class D0e extends Z{constructor(e){super(),this.items=yt(e.items)}get contents(){return this.items}}D0e.type="PlaylistSidebar";class Pj extends Z{constructor(e){super(),this.stats=e.stats.map(n=>new Y(n)),this.thumbnail_renderer=ge(e.thumbnailRenderer),this.title=new Y(e.title),this.menu=ge(e.menu),this.endpoint=new Me(e.navigationEndpoint),this.description=new Y(e.description)}}Pj.type="PlaylistSidebarPrimaryInfo";class Lj extends Z{constructor(e){super(),this.owner=ge(e.videoOwner),this.button=ge(e.button)}}Lj.type="PlaylistSidebarSecondaryInfo";class F0e extends Z{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.text=new Y(e.text)}}F0e.type="PlaylistThumbnailOverlay";class uR extends Z{constructor(e){super(),this.id=e.videoId,this.index=new Y(e.index),this.title=new Y(e.title),this.author=new oi(e.shortBylineText),this.thumbnails=xt.fromResponse(e.thumbnail),this.thumbnail_overlays=yt(e.thumbnailOverlays),this.set_video_id=e?.setVideoId,this.endpoint=new Me(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=ge(e.menu,wi),this.video_info=new Y(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label,Reflect.has(e,"style")&&(this.style=e.style);const n=e.upcomingEventData&&+`${e.upcomingEventData.startTime}000`;n&&(this.upcoming=new Date(n)),this.duration={text:new Y(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){return this.thumbnail_overlays.firstOfType(L1)?.style==="LIVE"}get is_upcoming(){return this.thumbnail_overlays.firstOfType(L1)?.style==="UPCOMING"}}uR.type="PlaylistVideo";class Dj extends Z{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=yt(e.contents)}}Dj.type="PlaylistVideoList";class B0e extends Z{constructor(e){super(),this.choices=e.choices.map(n=>({text:new Y(n.text),select_endpoint:n.selectServiceEndpoint?new Me(n.selectServiceEndpoint):null,deselect_endpoint:n.deselectServiceEndpoint?new Me(n.deselectServiceEndpoint):null,vote_ratio_if_selected:n?.voteRatioIfSelected||null,vote_percentage_if_selected:new Y(n.votePercentageIfSelected),vote_ratio_if_not_selected:n?.voteRatioIfSelected||null,vote_percentage_if_not_selected:new Y(n.votePercentageIfSelected),image:n.image?xt.fromResponse(n.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new Y(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}}B0e.type="Poll";class cR extends MS{constructor(e){super(e)}}cR.type="Post";class U0e extends Z{constructor(e){super(),this.images=yt(e.images,W9)}}U0e.type="PostMultiImage";class j0e extends Z{constructor(e){super(),this.label=new Y(e.label)}}j0e.type="PremiereTrailerBadge";class z0e extends Z{constructor(e){super(),this.title=new Y(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}}z0e.type="ProductListHeader";class $0e extends Z{constructor(e){super(),this.title=new Y(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=xt.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new Me(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=ge(e.viewButton,jt)}}$0e.type="ProductListItem";class q0e extends Z{constructor(e){super(),this.items=yt(e.items)}get contents(){return this.items}}q0e.type="ProfileColumn";class H0e extends Z{constructor(e){super(),this.items=yt(e.items)}get contents(){return this.items}}H0e.type="ProfileColumnStats";class V0e extends Z{constructor(e){super(),this.label=new Y(e.label),this.value=new Y(e.value)}}V0e.type="ProfileColumnStatsEntry";class G0e extends Z{constructor(e){super(),this.title=new Y(e.title),this.thumbnails=xt.fromResponse(e.thumbnail)}}G0e.type="ProfileColumnUserInfo";class W0e extends Z{constructor(e){super(),this.choices=e.choices.map(n=>({text:new Y(n.text),is_correct:n.isCorrect})),this.total_votes=new Y(e.totalVotes)}}W0e.type="Quiz";class K0e extends Z{constructor(e){super(),this.title=new Y(e.title),this.subtitle=new Y(e.subtitle),this.avatars=e.avatars.map(n=>new xt(n)),this.button=ge(e.button,jt),this.surface=e.surface}}K0e.type="RecognitionShelf";class dR extends Z{constructor(e){super(),this.id=e.videoId,this.title=new Y(e.headline),this.thumbnails=xt.fromResponse(e.thumbnail),this.views=new Y(e.viewCountText),this.endpoint=new Me(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}}dR.type="ReelItem";class Fj extends Z{constructor(e){super(),this.reel_title_text=new Y(e.reelTitleText),this.timestamp_text=new Y(e.timestampText),this.channel_title_text=new Y(e.channelTitleText),this.channel_thumbnail=xt.fromResponse(e.channelThumbnail),this.author=new oi(e.channelNavigationEndpoint,void 0)}}Fj.type="ReelPlayerHeader";class Y0e extends Z{constructor(e){super(),this.like_button=ge(e.likeButton,DC),this.reel_player_header_supported_renderers=ge(e.reelPlayerHeaderSupportedRenderers,Fj),this.menu=ge(e.menu,wi),this.next_item_button=ge(e.nextItemButton,jt),this.prev_item_button=ge(e.prevItemButton,jt),this.subscribe_button_renderer=ge(e.subscribeButtonRenderer,[jt,ah]),this.style=e.style,this.view_comments_button=ge(e.viewCommentsButton,jt),this.share_button=ge(e.shareButton,jt),this.pivot_button=ge(e.pivotButton,Ej),this.info_panel=ge(e.infoPanel,IU)}}Y0e.type="ReelPlayerOverlay";class Bj extends Z{constructor(e){super(),this.content=ge(e.content)}}Bj.type="RelatedChipCloud";class qS extends Z{constructor(e){super(),this.header=ge(e.header),this.contents=yt(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}}qS.type="RichGrid";class X0e extends Z{constructor(e){super(),this.content=ge(e.content)}}X0e.type="RichItem";class Z0e extends Z{constructor(e){super(),this.title=new Y(e.title),this.subtitle=new Y(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}}Z0e.type="RichListHeader";class VT extends Z{constructor(e){super(),this.thumbnail=xt.fromResponse(e.thumbnail),this.title=new Y(e.title),this.subtitle=new Y(e.subtitle),this.call_to_action=new Y(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new Me(e.endpoint)}}VT.type="RichMetadata";class GT extends Z{constructor(e){super(),this.contents=yt(e.contents)}}GT.type="RichMetadataRow";class Q0e extends Z{constructor(e){super(),this.content=ge(e.content)}}Q0e.type="RichSection";class Uj extends Z{constructor(e){super(),this.title=new Y(e.title),this.contents=yt(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new Me(e.endpoint)),Reflect.has(e,"subtitle")&&(this.subtitle=new Y(e.subtitle))}}Uj.type="RichShelf";class J0e extends Z{constructor(e){super(),this.endpoint=new Me(e.endpoint),this.search_button=ge(e.searchButton,jt),this.clear_button=ge(e.clearButton,jt),this.placeholder_text=new Y(e.placeholderText)}}J0e.type="SearchBox";class jj extends Z{constructor(e){super(),this.label=new Y(e.label),this.endpoint=new Me(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}}jj.type="SearchFilter";class hR extends Z{constructor(e){super(),this.title=new Y(e.title),this.filters=yt(e.filters,jj)}}hR.type="SearchFilterGroup";class eye extends Z{constructor(e){super(),this.title=new Y(e.title),this.groups=yt(e.groups,hR)}}eye.type="SearchFilterOptionsDialog";class zj extends Z{constructor(e){super(),this.chip_bar=ge(e.chipBar,Um),this.search_filter_button=ge(e.searchFilterButton,jt)}}zj.type="SearchHeader";class $j extends Z{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new Y(e.title)),Reflect.has(e,"groups")&&(this.groups=yt(e.groups,hR)),Reflect.has(e,"button")&&(this.button=ge(e.button,to))}}$j.type="SearchSubMenu";class qj extends Z{constructor(e){super(),this.contents=yt(e.contents)}}qj.type="SearchSuggestionsSection";class tye extends Z{constructor(e){super(),this.contents=yt(e.contents)}}tye.type="SecondarySearchContainer";class db extends Z{constructor(e){super(),this.like_button=ge(e.likeButton,[to,jt]),this.dislike_button=ge(e.dislikeButton,[to,jt])}}db.type="SegmentedLikeDislikeButton";class nye extends Z{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new Y(e.title)),Reflect.has(e,"summary")&&(this.summary=new Y(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new Me(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new Me(e.disableServiceEndpoint)),this.item_id=e.itemId}}nye.type="SettingBoolean";class Hj extends Z{constructor(e){super(),this.title=new Y(e.title),this.help_text=new Y(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}}Hj.type="SettingsCheckbox";class fR extends Z{constructor(e){super(),this.title=new Y(e.title),this.subtitle=new Y(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new Me(e.enableServiceEndpoint),this.disable_endpoint=new Me(e.disableServiceEndpoint)}}fR.type="SettingsSwitch";class z_ extends Z{constructor(e){super(),this.title=new Y(e.title),Reflect.has(e,"text")&&(this.text=new Y(e.text).toString()),Reflect.has(e,"options")&&(this.options=yt(e.options,[fR,RS,KC,Hj,DB]))}}z_.type="SettingsOptions";class Vj extends Z{constructor(e){super(),this.title=new Y(e.title),this.items=yt(e.items,IS)}get contents(){return this.items}}Vj.type="SettingsSidebar";class Gj extends Z{constructor(e){super(),this.thumbnail=xt.fromResponse(e.thumbnail),this.content=new Y(e.content),this.published=new Y(e.publishedTimeText),this.menu=ge(e.actionMenu,wi),this.original_post=ge(e.originalPost,[MS,cR]),this.id=e.postId,this.endpoint=new Me(e.navigationEndpoint),this.expand_button=ge(e.expandButton,jt),this.author=new oi(e.displayName,void 0)}}Gj.type="SharedPost";class Wj extends Z{constructor(e){super(),this.title=ge(e.title)}}Wj.type="SharePanelHeader";class rye extends Z{constructor(e){super(),this.title=new Y(e.title)}}rye.type="SharePanelTitleV15";class Kj extends Z{constructor(e){super(),Reflect.has(e,"serviceEndpoint")?this.endpoint=new Me(e.serviceEndpoint):Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new Me(e.navigationEndpoint)),this.service_name=e.serviceName,this.target_id=e.targetId,this.title=new Y(e.title)}}Kj.type="ShareTarget";class pR extends Z{constructor(e){super(),this.title=new Y(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new Me(e.endpoint)),this.content=ge(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=ge(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=ge(e.playAllButton,jt)),Reflect.has(e,"subtitle")&&(this.subtitle=new Y(e.subtitle))}}pR.type="Shelf";class mR extends Z{constructor(e){super(),this.entity_id=e.entityId,this.accessibility_text=e.accessibilityText,this.thumbnail=xt.fromResponse(e.thumbnail),this.on_tap_endpoint=new Me(e.onTap),this.menu_on_tap=new Me(e.menuOnTap),this.index_in_collection=e.indexInCollection,this.menu_on_tap_a11y_label=e.menuOnTapA11yLabel,this.overlay_metadata={primary_text:e.overlayMetadata.primaryText?Y.fromAttributed(e.overlayMetadata.primaryText):void 0,secondary_text:e.overlayMetadata.secondaryText?Y.fromAttributed(e.overlayMetadata.secondaryText):void 0},e.inlinePlayerData?.onVisible&&(this.inline_player_data=new Me(e.inlinePlayerData.onVisible)),e.badge&&(this.badge=ge(e.badge,Vpe))}}mR.type="ShortsLockupView";class Yj extends Z{constructor(e){super(),this.corrected_query=new Y(e.correctedQuery),this.original_query=new Y(e.originalQuery),this.corrected_query_endpoint=new Me(e.correctedQueryEndpoint),this.original_query_endpoint=new Me(e.originalQueryEndpoint),this.search_instead_for=new Y(e.searchInsteadFor),this.showing_results_for=new Y(e.showingResultsFor)}}Yj.type="ShowingResultsFor";class iye extends Z{constructor(e){super(),this.image=xt.fromResponse(e.image),this.title=new Y(e.title),this.display_domain=new Y(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new Y(e.callToAction),this.endpoint=new Me(e.command)}}iye.type="SimpleCardContent";class aye extends Z{constructor(e){super(),this.message=new Y(e.message),this.prominent=e.prominent}}aye.type="SimpleCardTeaser";class sye extends Z{constructor(e){super(),this.lines=e.lines.map(n=>new Y(n)),this.style=e.layoutStyle}}sye.type="SimpleTextSection";class oye extends Z{constructor(e){super(),this.action_text=new Y(e.actionText),this.nav_text=new Y(e.navigationText),this.details=new Y(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new Me(e.navigationEndpoint)}}oye.type="SingleActionEmergencySupport";class Fo extends Z{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new Me(e.endpoint),this.content=ge(e.content,[ca,oR,qS])}}Fo.type="Tab";class HS extends Z{constructor(e){super(),this.tabs=yt(e.tabs,Fo)}}HS.type="SingleColumnBrowseResults";class lye extends Z{constructor(e){super(),this.contents=Bi(e)}}lye.type="SingleColumnMusicWatchNextResults";class uye extends Z{constructor(e){super(),this.thumbnails=xt.fromResponse(e.thumbnail),this.style=e.style}}uye.type="SingleHeroImage";class cye extends Z{constructor(e){super(),this.thumbnail=xt.fromResponse(e.thumbnail),this.title=new Y(e.title),this.endpoint=new Me(e.navigationEndpoint),this.subscribe_button=ge(e.subscribeButton,ah)}}cye.type="SlimOwner";class Xj extends Z{constructor(e){super(),this.title=new Y(e.title),this.collapsed_subtitle=new Y(e.collapsedSubtitle),this.expanded_subtitle=new Y(e.expandedSubtitle),this.owner=ge(e.owner),this.description=new Y(e.description),this.video_id=e.videoId,this.date=new Y(e.dateText)}}Xj.type="SlimVideoMetadata";class Zj extends Z{constructor(e){super(),this.start_at_option_label=new Y(e.startAtOptionLabel)}}Zj.type="StartAt";class Qj extends Z{constructor(e){super(),this.name=new Y(e.name),this.is_selected=e.isSelected,this.endpoint=new Me(e.navigationEndpoint)}}Qj.type="SubFeedOption";class dye extends Z{constructor(e){super(),this.title=new Y(e.title),this.options=yt(e.options,Qj)}}dye.type="SubFeedSelector";class hye extends Z{constructor(e){super(),this.contents=Bi(e)}}hye.type="Tabbed";class Jj extends Z{constructor(e){super(),this.tabs=yt(e.tabs,Fo)}}Jj.type="TabbedSearchResults";class fye extends Z{constructor(e){super(),this.title=new Y(e.title),this.style=e.style}}fye.type="TextHeader";class ez extends Z{constructor(e){super(),this.share_targets=yt(e.shareTargets,Kj)}}ez.type="ThirdPartyShareTargetSection";class pye extends Z{constructor(e){super(),this.landscape=xt.fromResponse(e.landscape),this.portrait=xt.fromResponse(e.portrait)}}pye.type="ThumbnailLandscapePortrait";class mye extends Z{constructor(e){super(),this.text=new Y(e.text).toString()}}mye.type="ThumbnailOverlayEndorsement";class gye extends Z{constructor(e){super(),this.text=new Y(e.text),this.icon_type=e.icon.iconType}}gye.type="ThumbnailOverlayHoverText";class yye extends Z{constructor(e){super(),this.text=new Y(e.text).toString(),this.icon_type=e.icon.iconType}}yye.type="ThumbnailOverlayInlineUnplayable";class bye extends Z{constructor(e){super(),this.text=new Y(e.text)}}bye.type="ThumbnailOverlayLoadingPreview";class vye extends Z{constructor(e){super(),this.text=new Y(e.text).toString()}}vye.type="ThumbnailOverlayNowPlaying";class wye extends Z{constructor(e){super(),this.hack=e.hack}}wye.type="ThumbnailOverlayPinking";class _ye extends Z{constructor(e){super(),this.texts=e.texts.map(n=>new Y(n))}}_ye.type="ThumbnailOverlayPlaybackStatus";class Sye extends Z{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}}Sye.type="ThumbnailOverlayResumePlayback";class xye extends Z{constructor(e){super(),this.text=new Y(e.text),this.icon_type=e.icon.iconType}}xye.type="ThumbnailOverlaySidePanel";class Eye extends Z{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},e.toggledServiceEndpoint&&(this.toggled_endpoint=new Me(e.toggledServiceEndpoint)),e.untoggledServiceEndpoint&&(this.untoggled_endpoint=new Me(e.untoggledServiceEndpoint))}}Eye.type="ThumbnailOverlayToggleButton";class kye extends Z{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new Y(e.label),this.icon=e.icon}}kye.type="TimedMarkerDecoration";class Tye extends Z{constructor(e){super(),this.title=new Y(e.title)}}Tye.type="TitleAndButtonListHeader";class Aye extends Z{constructor(e){super(),this.text=new Y(e.defaultText),this.toggled_text=new Y(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new Me(e.defaultServiceEndpoint),this.toggled_endpoint=new Me(e.toggledServiceEndpoint)}}Aye.type="ToggleMenuServiceItem";class Cye extends Z{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(n=>new Me(n)),accept:new Me(e.promoConfig.acceptCommand),dismiss:new Me(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new Y(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}}Cye.type="Tooltip";class Rye extends Z{constructor(e){super(),this.title=new Y(e.title),this.avatar=xt.fromResponse(e.thumbnail??e.avatar),this.subtitle=new Y(e.subtitle),this.subscribe_button=ge(e.subscribeButton,ah),this.endpoint=new Me(e.navigationEndpoint)}}Rye.type="TopicChannelDetails";class kv extends Z{constructor(e){super(),this.tabs=Bi(e.tabs),this.secondary_contents=Bi(e.secondaryContents)}}kv.type="TwoColumnBrowseResults";class tz extends Z{constructor(e){super(),this.primary_contents=Bi(e.primaryContents),this.secondary_contents=Bi(e.secondaryContents)}}tz.type="TwoColumnSearchResults";var kk,r8;class gR extends Z{constructor(e){super(),kk.add(this),this.results=yt(e.results?.results.contents),this.secondary_results=yt(e.secondaryResults?.secondaryResults.results),this.conversation_bar=ge(e?.conversationBar);const n=e.playlist?.playlist;n&&(this.playlist={id:n.playlistId,title:n.title,author:n.shortBylineText?.simpleText?new Y(n.shortBylineText):new oi(n.longBylineText),contents:yt(n.contents),current_index:n.currentIndex,is_infinite:!!n.isInfinite,menu:ge(n.menu,wi)});const r=e.autoplay?.autoplay;r&&(this.autoplay={sets:r.sets.map(i=>L(this,kk,"m",r8).call(this,i))},r.modifiedSets&&(this.autoplay.modified_sets=r.modifiedSets.map(i=>L(this,kk,"m",r8).call(this,i))),r.countDownSecs&&(this.autoplay.count_down_secs=r.countDownSecs))}}kk=new WeakSet,r8=function(e){const n={autoplay_video:new Me(e.autoplayVideo)};return e.nextButtonVideo&&(n.next_button_video=new Me(e.nextButtonVideo)),n};gR.type="TwoColumnWatchNextResults";class Iye extends Z{constructor(e){if(super(),e.contents){const n=e.contents.find(r=>r.thirdPartyNetworkSection);n&&(this.third_party_network_section={share_target_container:ge(n.thirdPartyNetworkSection.shareTargetContainer,ez),copy_link_container:ge(n.thirdPartyNetworkSection.copyLinkContainer,KC),start_at_container:ge(n.thirdPartyNetworkSection.startAtContainer,Zj)})}this.header=ge(e.header,Wj),this.share_panel_version=e.sharePanelVersion,Reflect.has(e,"showLoadingSpinner")&&(this.show_loading_spinner=e.showLoadingSpinner)}}Iye.type="UnifiedSharePanel";class nz extends Z{constructor(e){super(),this.header=ge(e.header),this.call_to_action=ge(e.callToAction),this.sections=yt(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new Y(e.collapsedLabel))}}nz.type="UniversalWatchCard";class Nye extends Z{constructor(e){super(),this.message_title=new Y(e.dialogMessageTitle),this.message_text=new Y(e.dialogMessageText),this.action_button=ge(e.actionButton,jt),this.dismiss_button=ge(e.dismissButton,jt),this.is_visible=e.isVisible}}Nye.type="UpsellDialog";class Oye extends Z{constructor(e){super(),this.items=yt(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new Y(e.collapsedStateButtonText)}get contents(){return this.items}}Oye.type="VerticalList";class Mye extends Z{constructor(e){super(),this.items=yt(e.items),this.view_all_text=new Y(e.viewAllText),this.view_all_endpoint=new Me(e.viewAllEndpoint)}get contents(){return this.items}}Mye.type="VerticalWatchCardList";class Pye extends Z{constructor(e){super(),this.title=new Y(e.videoTitle),this.channel_name=new Y(e.channelName),this.view_count=new Y(e.viewCountText),this.video_thumbnails=xt.fromResponse(e.videoThumbnail),this.duration=new Y(e.lengthString),this.endpoint=new Me(e.action)}}Pye.type="VideoInfoCardContent";class Lye extends Z{constructor(e){super(),this.carousel_titles=Bi(e.carouselTitles,!0,MB),this.carousel_items=Bi(e.carouselItems,!0,OB)}}Lye.type="VideoMetadataCarouselView";class yR extends Z{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new Y(e.subscriberCountText),this.author=new oi({...e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.thumbnail)}}yR.type="VideoOwner";class rz extends Z{constructor(e){super(),this.original_view_count=e.originalViewCount,this.short_view_count=new Y(e.shortViewCount),this.extra_short_view_count=new Y(e.extraShortViewCount),this.view_count=new Y(e.viewCount)}}rz.type="VideoViewCount";class iz extends Z{constructor(e){super(),this.title=new Y(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new Y(e.superTitleLink)),this.view_count=ge(e.viewCount,rz),this.badges=yt(e.badges,Xm),this.published=new Y(e.dateText),this.relative_date=new Y(e.relativeDateText),this.menu=ge(e.videoActions,wi)}}iz.type="VideoPrimaryInfo";class WT extends Z{constructor(e){super(),this.owner=ge(e.owner,yR),this.description=new Y(e.description),Reflect.has(e,"attributedDescription")&&(this.description=Y.fromAttributed(e.attributedDescription)),this.subscribe_button=ge(e.subscribeButton,[ah,jt]),this.metadata=ge(e.metadataRowContainer,oj),this.show_more_text=new Y(e.showMoreText),this.show_less_text=new Y(e.showLessText),this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}}WT.type="VideoSecondaryInfo";class az extends Z{constructor(e){super(),this.title=new Y(e.title),this.subtitle=new Y(e.subtitle),this.duration={text:new Y(e.lengthText).toString(),seconds:Pf(e.lengthText.simpleText)},this.style=e.style}}az.type="WatchCardCompactVideo";class Dye extends Z{constructor(e){super(),this.endpoint=new Me(e.navigationEndpoint),this.call_to_action_button=ge(e.callToActionButton),this.hero_image=ge(e.heroImage),this.label=e.lengthText?.accessibility.accessibilityData.label||""}}Dye.type="WatchCardHeroVideo";class Fye extends Z{constructor(e){super(),this.title=new Y(e.title),this.title_endpoint=new Me(e.titleNavigationEndpoint),this.subtitle=new Y(e.subtitle),this.author=new oi(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}}Fye.type="WatchCardRichHeader";class Bye extends Z{constructor(e){super(),this.lists=yt(e.lists)}}Bye.type="WatchCardSectionSequence";class sz extends kv{constructor(e){super(e)}}sz.type="WatchNextTabbedResults";class oz extends Z{constructor(e){super(),this.title=e.title,this.content=ge(e.content,ca),this.endpoint=new Me(e.navigationEndpoint),this.category_assets={asset_key:e.categoryAssets?.assetKey,background_color:e.categoryAssets?.backgroundColor},this.category_type=e.categoryType}}oz.type="AnchoredSection";var n_;class bR extends Z{constructor(e){super(),n_.set(this,void 0),this.child_display_name=new Y(e.childDisplayName),this.child_account_description=new Y(e.childAccountDescription),this.avatar=xt.fromResponse(e.avatar),this.block_button=ge(e.blockButton,[to]),this.blocked_entity_key=e.blockedEntityKey}async blockChannel(){if(!L(this,n_,"f"))throw new Pe("An active caller must be provide to perform this operation.");const e=this.block_button;if(!e)throw new Pe("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new Pe("This channel is already blocked.",{child_display_name:this.child_display_name});return await e.endpoint.call(L(this,n_,"f"),{parse:!1})}setActions(e){kt(this,n_,e,"f")}}n_=new WeakMap;bR.type="KidsBlocklistPickerItem";class Uye extends Z{constructor(e){super(),this.title=new Y(e.title),this.child_rows=Bi(e.childRows,!0,[bR]),this.done_button=ge(e.doneButton,[jt]),this.successful_toast_action_message=new Y(e.successfulToastActionMessage)}}Uye.type="KidsBlocklistPicker";class vR extends Z{constructor(e){super(),this.title=new Y(e.title),this.category_assets={asset_key:e.categoryAssets?.assetKey,background_color:e.categoryAssets?.backgroundColor},this.category_type=e.categoryType,this.endpoint=new Me(e.endpoint)}}vR.type="KidsCategoryTab";class lz extends Z{constructor(e){super(),this.category_tabs=yt(e.categoryTabs,vR),this.privacy_button=ge(e.privacyButtonRenderer,jt)}}lz.type="kidsCategoriesHeader";class uz extends Z{constructor(e){super(),this.anchors=yt(e.anchors,oz)}}uz.type="kidsHomeScreen";const HKe=Object.freeze(Object.defineProperty({__proto__:null,AboutChannel:A9,AboutChannelView:T9,AccountChannel:C9,AccountItem:NC,AccountItemSection:I9,AccountItemSectionHeader:R9,AccountSectionList:N9,ActiveAccountHeader:zpe,AddBannerToLiveChatCommand:Sge,AddChatItemAction:FU,AddLiveChatTickerItemAction:xge,AddToPlaylist:$pe,AddToPlaylistCommand:ume,AddToPlaylistEndpoint:Pme,AddToPlaylistServiceEndpoint:fU,Alert:MC,AlertWithButton:$9,AnchoredSection:oz,AnimatedThumbnailOverlayView:q9,AppendContinuationItemsAction:Wd,AttributionView:H9,AudioOnlyPlayability:V9,AuthorCommentBadge:mme,AutomixPreviewVideo:NS,AvatarStackView:G9,AvatarView:PC,BackgroundPromo:qpe,BackstageImage:W9,BackstagePost:MS,BackstagePostThread:Hpe,BadgeView:Vpe,BrowseEndpoint:Lme,BrowseFeedActions:eB,BrowserMediaSession:Gpe,BumperUserEduContentView:BU,Button:jt,ButtonCardView:Wpe,ButtonView:xs,C4TabbedHeader:Tb,CallToActionButton:Kpe,Card:Ype,CardCollection:RB,CarouselHeader:IB,CarouselItem:Xpe,CarouselItemView:OB,CarouselLockup:SB,CarouselTitleView:MB,ChangeEngagementPanelVisibilityAction:Ppe,Channel:PB,ChannelAboutFullMetadata:UT,ChannelAgeGate:Zpe,ChannelExternalLinkView:k9,ChannelFeaturedContent:Qpe,ChannelHeaderLinks:tB,ChannelHeaderLinksView:nB,ChannelMetadata:LB,ChannelMobileHeader:Jpe,ChannelOptions:DB,ChannelOwnerEmptyState:eme,ChannelSubMenu:jT,ChannelSwitcherHeader:tme,ChannelSwitcherPage:M9,ChannelTagline:AB,ChannelThumbnailWithLink:nme,ChannelVideoPlayer:rme,Chapter:FB,ChildVideo:ime,ChipBarView:ame,ChipCloud:Um,ChipCloudChip:Do,ChipView:BB,ClientSideToggleMenuItem:sme,ClipAdState:aB,ClipCreation:sB,ClipCreationScrubber:iB,ClipCreationTextInput:rB,ClipSection:oB,CollaboratorInfoCardContent:ome,CollageHeroImage:lme,CollectionThumbnailView:HB,CommandExecutorCommand:cme,CommentActionButtons:Y9,CommentDialog:gme,CommentReplies:WB,CommentReplyDialog:KB,CommentSimplebox:QB,CommentThread:JB,CommentView:US,CommentsEntryPointHeader:ZB,CommentsEntryPointTeaser:XB,CommentsHeader:BS,CommentsSimplebox:YB,CompactChannel:vme,CompactLink:IS,CompactMix:wme,CompactMovie:_me,CompactPlaylist:Sme,CompactStation:xme,CompactVideo:jC,ConfirmDialog:Eme,ContentMetadataView:WC,ContentPreviewImageView:kb,ContinuationCommand:dme,ContinuationItem:Fi,ConversationBar:kme,CopyLink:KC,CreateCommentEndpoint:Dme,CreatePlaylistDialog:E9,CreatePlaylistDialogFormView:nU,CreatePlaylistServiceEndpoint:Fme,CreatorHeart:K9,CreatorHeartView:UU,DecoratedAvatarView:YC,DecoratedPlayerBar:sU,DefaultPromoPanel:Ame,DeletePlaylistEndpoint:Bme,DescriptionPreviewView:oU,DialogHeaderView:lU,DialogView:Cme,DidYouMean:cU,DimChatItemAction:Ege,DislikeButtonView:Z9,DownloadButton:LC,Dropdown:RS,DropdownItem:x9,DropdownView:eU,DynamicTextView:dU,Element:hU,EmergencyOnebox:Ime,EmojiPicker:GB,EmojiPickerCategory:Nme,EmojiPickerCategoryButton:Ome,EmojiPickerUpsellCategory:Mme,EndScreenPlaylist:gU,EndScreenVideo:yU,Endscreen:mU,EndscreenElement:rge,EngagementPanelSectionList:FS,EngagementPanelTitleHeader:lB,EomSettingsDisclaimer:ige,ExpandableMetadata:mB,ExpandableTab:j_,ExpandableVideoDescriptionBody:hB,ExpandedShelfContents:age,Factoid:DS,FancyDismissibleDialog:sge,FeedFilterChipBar:jm,FeedNudge:oge,FeedTabbedHeader:bU,FeedbackEndpoint:Ume,FlexibleActionsView:FC,FormFooterView:uU,GameCard:fB,GameDetails:lge,GetAccountsListInnertubeEndpoint:jme,GetKidsBlocklistPickerCommand:hme,GetMultiPageMenuAction:Lpe,Grid:F1,GridChannel:vU,GridHeader:uge,GridMix:cge,GridMovie:dge,GridPlaylist:wU,GridShow:hge,GridVideo:xU,GuideCollapsibleEntry:fge,GuideCollapsibleSectionEntry:pge,GuideDownloadsEntry:mge,GuideEntry:B1,GuideSection:JC,GuideSubscriptionsSection:EU,HashtagHeader:kU,HashtagTile:gge,HeatMarker:rU,Heatmap:iU,HeroPlaylistThumbnail:yge,HideEngagementPanelEndpoint:zme,HighlightsCarousel:zT,HistorySuggestion:vge,HorizontalCardList:LS,HorizontalList:pB,HorizontalMovieList:wge,HowThisWasMadeSectionView:TB,IconLink:AU,ImageBannerView:CU,IncludingResultsFor:_ge,InfoPanelContainer:IU,InfoPanelContent:RU,InfoRow:_B,InteractiveTabbedHeader:NU,ItemSection:nu,ItemSectionHeader:eR,ItemSectionTab:OU,ItemSectionTabbedHeader:tR,KidsBlocklistPicker:Uye,KidsBlocklistPickerItem:bR,KidsCategoriesHeader:lz,KidsCategoryTab:vR,KidsHomeScreen:uz,LikeButton:DC,LikeButtonView:X9,LikeEndpoint:$me,LiveChat:PU,LiveChatActionPanel:HU,LiveChatAuthorBadge:$U,LiveChatAutoModMessage:kge,LiveChatBanner:DU,LiveChatBannerChatSummary:Tge,LiveChatBannerHeader:LU,LiveChatBannerPoll:Age,LiveChatBannerRedirect:Cge,LiveChatDialog:n0e,LiveChatHeader:XU,LiveChatItemBumperView:jU,LiveChatItemContextMenuEndpoint:qme,LiveChatItemList:ZU,LiveChatMembershipItem:Rge,LiveChatMessageInput:r0e,LiveChatModeChangeMessage:Ige,LiveChatPaidMessage:Nge,LiveChatPaidSticker:Oge,LiveChatParticipant:QU,LiveChatParticipantsList:JU,LiveChatPlaceholderItem:Mge,LiveChatProductItem:Pge,LiveChatRestrictedParticipation:Lge,LiveChatSponsorshipsGiftPurchaseAnnouncement:Dge,LiveChatSponsorshipsGiftRedemptionAnnouncement:Fge,LiveChatSponsorshipsHeader:qU,LiveChatTextMessage:Bge,LiveChatTickerPaidMessageItem:Uge,LiveChatTickerPaidStickerItem:jge,LiveChatTickerSponsorItem:zge,LiveChatViewerEngagementMessage:$ge,LockupMetadataView:ej,LockupView:tj,MacroMarkersInfoItem:uB,MacroMarkersList:cB,MacroMarkersListItem:BC,MarkChatItemAsDeletedAction:Hge,MarkChatItemsByAuthorAsDeletedAction:Vge,Menu:wi,MenuFlexibleItem:J9,MenuNavigationItem:nj,MenuPopup:i0e,MenuServiceItem:l0,MenuServiceItemDownload:Q9,MenuTitle:j9,MerchandiseItem:s0e,MerchandiseShelf:sj,Message:Kd,MetadataBadge:Xm,MetadataRow:o0e,MetadataRowContainer:oj,MetadataRowHeader:l0e,MetadataScreen:u0e,MicroformatData:c0,Mix:c0e,MobileTopbar:T0e,ModalWithTitleAndButton:d0e,ModifyChannelNotificationPreferenceEndpoint:Hme,Movie:h0e,MovingThumbnail:f0e,MultiMarkersPlayerBar:aU,MultiPageMenu:O9,MultiPageMenuNotificationSection:a0e,MultiPageMenuSection:A0e,MusicCardShelf:uj,MusicCardShelfHeaderBasic:lj,MusicCarouselShelf:ju,MusicCarouselShelfBasicHeader:cj,MusicDescriptionShelf:jS,MusicDetailHeader:sR,MusicDownloadStateBadge:_0e,MusicEditablePlaylistDetailHeader:pj,MusicElementHeader:$T,MusicHeader:zS,MusicImmersiveHeader:mj,MusicInlineBadge:nR,MusicItemThumbnailOverlay:Ev,MusicLargeCardItemCarousel:E0e,MusicMenuItemDivider:rj,MusicMultiRowListItem:dj,MusicMultiSelectMenu:ij,MusicMultiSelectMenuItem:u0,MusicNavigationButton:iR,MusicPlayButton:rR,MusicPlaylistEditHeader:k0e,MusicPlaylistShelf:U1,MusicQueue:oR,MusicResponsiveHeader:lR,MusicResponsiveListItem:_f,MusicResponsiveListItemFixedColumn:hj,MusicResponsiveListItemFlexColumn:fj,MusicShelf:Ls,MusicSideAlignedItem:yj,MusicSortFilterButton:qT,MusicTastebuilderShelf:vj,MusicTastebuilderShelfThumbnail:bj,MusicThumbnail:Yd,MusicTwoRowItem:aR,MusicVisualHeader:wj,NavigationEndpoint:Me,Notification:_j,NotificationAction:N0e,OpenPopupAction:IC,PageHeader:d0,PageHeaderView:Sj,PageIntroduction:xj,PanelFooterView:XC,PdgCommentChip:yme,PdgReplyButtonView:zU,PerformCommentActionEndpoint:Vme,PivotBar:C0e,PivotBarItem:R0e,PivotButton:Ej,PlayerAnnotationsExpanded:kj,PlayerCaptionsTracklist:Tj,PlayerControlsOverlay:O0e,PlayerErrorMessage:M0e,PlayerLegacyDesktopYpcOffer:P0e,PlayerLegacyDesktopYpcTrailer:HT,PlayerLiveStoryboardSpec:Cj,PlayerMicroformat:kc,PlayerOverflow:Aj,PlayerOverlay:$S,PlayerOverlayAutoplay:Rj,PlayerOverlayVideoDetails:Ij,PlayerStoryboardSpec:CS,Playlist:xv,PlaylistAddToOption:z9,PlaylistCustomThumbnail:VC,PlaylistEditEndpoint:Gme,PlaylistHeader:Oj,PlaylistInfoCardContent:L0e,PlaylistMetadata:Mj,PlaylistPanel:wm,PlaylistPanelVideo:Wb,PlaylistPanelVideoWrapper:gj,PlaylistSidebar:D0e,PlaylistSidebarPrimaryInfo:Pj,PlaylistSidebarSecondaryInfo:Lj,PlaylistThumbnailOverlay:F0e,PlaylistVideo:uR,PlaylistVideoList:Dj,PlaylistVideoThumbnail:GC,Poll:B0e,PollHeader:qge,Post:cR,PostMultiImage:U0e,PrefetchWatchCommand:Wme,PremiereTrailerBadge:j0e,ProductList:dB,ProductListHeader:z0e,ProductListItem:$0e,ProfileColumn:q0e,ProfileColumnStats:H0e,ProfileColumnStatsEntry:V0e,ProfileColumnUserInfo:G0e,Quiz:W0e,RecognitionShelf:K0e,ReelItem:dR,ReelPlayerHeader:Fj,ReelPlayerOverlay:Y0e,ReelShelf:$C,ReelWatchEndpoint:Kme,RelatedChipCloud:Bj,RemoveBannerForLiveChatCommand:Gge,RemoveChatItemAction:Wge,RemoveChatItemByAuthorAction:Kge,ReplaceChatItemAction:Yge,ReplaceLiveChatAction:Xge,ReplayChatItemAction:Zge,RichGrid:qS,RichItem:X0e,RichListHeader:Z0e,RichMetadata:VT,RichMetadataRow:GT,RichSection:Q0e,RichShelf:Uj,RunAttestationCommand:VB,SearchBox:J0e,SearchEndpoint:Yme,SearchFilter:jj,SearchFilterGroup:hR,SearchFilterOptionsDialog:eye,SearchHeader:zj,SearchRefinementCard:P1,SearchSubMenu:$j,SearchSuggestion:TU,SearchSuggestionsSection:qj,SecondarySearchContainer:tye,SectionList:ca,SegmentedLikeDislikeButton:db,SegmentedLikeDislikeButtonView:t0,SendFeedbackAction:Dpe,SettingBoolean:nye,SettingsCheckbox:Hj,SettingsOptions:z_,SettingsSidebar:Vj,SettingsSwitch:fR,ShareEndpoint:Xme,ShareEntityEndpoint:Zme,ShareEntityServiceEndpoint:QC,SharePanelHeader:Wj,SharePanelTitleV15:rye,ShareTarget:Kj,SharedPost:Gj,Shelf:pR,ShortsLockupView:mR,ShowCustomThumbnail:_U,ShowDialogCommand:fme,ShowEngagementPanelEndpoint:Qme,ShowLiveChatActionPanelAction:Qge,ShowLiveChatDialogAction:Jge,ShowLiveChatTooltipCommand:e0e,ShowingResultsFor:Yj,SignalAction:Fpe,SignalServiceEndpoint:Jme,SimpleCardContent:iye,SimpleCardTeaser:aye,SimpleMenuHeader:aj,SimpleTextSection:sye,SingleActionEmergencySupport:oye,SingleColumnBrowseResults:HS,SingleColumnMusicWatchNextResults:lye,SingleHeroImage:uye,SlimOwner:cye,SlimVideoMetadata:Xj,SortFilterHeader:MU,SortFilterSubMenu:Fm,SponsorCommentBadge:bme,StartAt:Zj,StructuredDescriptionContent:D1,StructuredDescriptionPlaylistLockup:xB,SubFeedOption:Qj,SubFeedSelector:dye,SubscribeButton:ah,SubscribeEndpoint:ege,SubscriptionNotificationToggleButton:CB,Tab:Fo,Tabbed:hye,TabbedSearchResults:Jj,TextCarouselItemView:NB,TextFieldView:tU,TextHeader:fye,ThirdPartyShareTargetSection:ez,ThumbnailBadgeView:qC,ThumbnailBottomOverlayView:qB,ThumbnailHoverOverlayToggleActionsView:zB,ThumbnailHoverOverlayView:UB,ThumbnailLandscapePortrait:pye,ThumbnailOverlayBadgeView:jB,ThumbnailOverlayBottomPanel:SU,ThumbnailOverlayEndorsement:mye,ThumbnailOverlayHoverText:gye,ThumbnailOverlayInlineUnplayable:yye,ThumbnailOverlayLoadingPreview:bye,ThumbnailOverlayNowPlaying:vye,ThumbnailOverlayPinking:wye,ThumbnailOverlayPlaybackStatus:_ye,ThumbnailOverlayProgressBarView:$B,ThumbnailOverlayResumePlayback:Sye,ThumbnailOverlaySidePanel:xye,ThumbnailOverlayTimeStatus:L1,ThumbnailOverlayToggleButton:Eye,ThumbnailView:HC,TimedMarkerDecoration:kye,TitleAndButtonListHeader:Tye,ToggleButton:to,ToggleButtonView:Bm,ToggleMenuServiceItem:Aye,Tooltip:Cye,TopbarMenuButton:I0e,TopicChannelDetails:Rye,Transcript:OC,TranscriptFooter:P9,TranscriptSearchBox:L9,TranscriptSearchPanel:U9,TranscriptSectionHeader:D9,TranscriptSegment:F9,TranscriptSegmentList:B9,TwoColumnBrowseResults:kv,TwoColumnSearchResults:tz,TwoColumnWatchNextResults:gR,UnifiedSharePanel:Iye,UniversalWatchCard:nz,UnsubscribeEndpoint:tge,UpdateChannelSwitcherPageAction:Bpe,UpdateDateTextAction:VU,UpdateDescriptionAction:GU,UpdateEngagementPanelAction:Upe,UpdateEngagementPanelContentCommand:pme,UpdateLiveChatPollAction:t0e,UpdateSubscribeButtonAction:jpe,UpdateTitleAction:WU,UpdateToggleButtonTextAction:KU,UpdateViewershipAction:YU,UploadTimeFactoid:yB,UpsellDialog:Nye,VerticalList:Oye,VerticalWatchCardList:Mye,Video:UC,VideoAttributeView:PS,VideoAttributesSectionView:kB,VideoCard:gB,VideoDescriptionCourseSection:EB,VideoDescriptionHeader:vB,VideoDescriptionInfocardsSection:wB,VideoDescriptionMusicSection:zC,VideoDescriptionTranscriptSection:BT,VideoInfoCardContent:Pye,VideoMetadataCarouselView:Lye,VideoOwner:yR,VideoPrimaryInfo:iz,VideoSecondaryInfo:WT,VideoViewCount:rz,ViewCountFactoid:bB,WatchCardCompactVideo:az,WatchCardHeroVideo:Dye,WatchCardRichHeader:Fye,WatchCardSectionSequence:Bye,WatchEndpoint:pU,WatchNextEndScreen:Nj,WatchNextEndpoint:nge,WatchNextTabbedResults:sz,YpcTrailer:j1},Symbol.toStringTag,{value:"Module"})),VKe=new Set(["trackingParams","accessibility","accessibilityData"]),i8={};function VS(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}function cz(t,e){let n=!1;if(typeof e=="object"&&e!=null){if(n=jye(e))return i8[n]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[n],optional:!1};if(n=GKe(e)){for(const[i,a]of Object.entries(n))i8[i]=a;return{type:"array",array_type:"renderer",renderers:Object.keys(n),optional:!1}}if((n=WKe(t,e))||(n=KKe(e)))return n}const r=typeof e;return r==="object"?{type:"object",keys:Object.entries(e).map(([i,a])=>[i,cz(i,a)]),optional:!1}:{type:"primitive",typeof:[r],optional:!1}}function GKe(t){const e=Array.isArray(t);return e&&t.length===0?!1:e&&t.every(r=>jye(r))?Object.fromEntries(t.map(r=>{const i=Reflect.ownKeys(r)[0].toString();return[_R(i),r[i]]})):!1}function WKe(t,e){if(typeof e=="object"&&e!==null){if(t.endsWith("Endpoint")||t.endsWith("Command")||t==="endpoint")return{type:"misc",endpoint:new Me(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){const n=new Y(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:n.endpoint,text:n.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}function jye(t){if(!(typeof t=="object"))return!1;const n=Reflect.ownKeys(t);if(n.length===1){const r=n[0].toString();if(r.endsWith("Renderer")||r.endsWith("Model"))return _R(r)}return!1}function KKe(t){if(!Array.isArray(t))return!1;if(t.length===0)return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["never"],optional:!1},optional:!1};const e=t.map(a=>typeof a);if(!e.every(a=>a===e[0]))return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!1},optional:!1};const r=e[0];if(r!=="object")return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:[r],optional:!1},optional:!1};let i=[];for(let a=0;a<t.length;a++){const s=Object.entries(t[a]).map(([o,l])=>[o,cz(o,l)]);if(a===0){i=s;continue}i=KT(i,s).resolved_key_info}return{type:"array",array_type:"object",items:{type:"object",keys:i,optional:!1},optional:!1}}function YKe(t){if(typeof t!="object"||t===null)throw new Pe("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(n=>!QKe(n)).filter(n=>typeof n=="string").map(n=>{const r=Reflect.get(t,n),i=cz(n,r);return[n,i]})}function XKe(t){const n=t.filter(([,s])=>s.type!=="misc"||!(s.misc_type==="NavigationEndpoint"||s.misc_type==="Text")?!1:s.endpoint?.metadata.page_type==="WEB_PAGE_TYPE_CHANNEL").sort(([,s],[,o])=>s.type!=="misc"||o.type!=="misc"||s.misc_type!=="Text"||o.misc_type!=="Text"?0:o.text.length-s.text.length),r=new Set,i=n[0];let a;if(i){r.add(i[0]);const o=t.map(([p])=>p).filter(p=>p.endsWith("Badges")||p==="badges"),u=o.filter(p=>p.startsWith("owner")||p.startsWith("author"))[0]??o[0],d=t.find(([p])=>p===u),h=d?d[1].type==="array"&&d[1].array_type==="renderer"&&Reflect.has(d[1].renderers,"MetadataBadge"):!1;h&&u&&r.add(u),a={type:"misc",misc_type:"Author",optional:!1,params:[i[0],h?u:void 0]}}return a&&t.push(["author",a]),t.filter(([s])=>!r.has(s))}function ZKe(t){const e=YKe(t);return XKe(e)}function zye(t){const e=ZKe(t),n=new Map;for(const[,i]of e)if(i.type==="renderer"||i.type==="array"&&i.array_type==="renderer")for(const a of i.renderers){const s=i8[a];s&&n.set(a,s)}const r=Array.from(n).filter(([i])=>!wz(i));return{key_info:e,unimplemented_dependencies:r}}function QKe(t){return typeof t=="string"&&VKe.has(t)}function JKe(t,e,n){var r,i;n({error_type:"class_not_found",classname:t,key_info:e});const a=(r=class extends Z{static set key_info(s){kt(this,r,new Map(s),"f",i)}static get key_info(){return[...L(this,r,"f",i).entries()]}constructor(s){super();const{key_info:o,unimplemented_dependencies:l}=zye(s),{resolved_key_info:u,changed_keys:d}=KT(a.key_info,o);d.length>0&&(a.key_info=u,n({error_type:"class_changed",classname:t,key_info:a.key_info,changed_keys:d}));for(const[p,m]of l)dz(p,m,n);for(const[p,m]of o){let v=VS(p);m.type==="misc"&&m.misc_type==="NavigationEndpoint"&&(v="endpoint"),Reflect.set(this,v,Hye(p,m,s))}}},BGe(r,"node"),r.type=t,i={value:new Map},r);return a.key_info=e,Object.defineProperty(a,"name",{value:t,writable:!1}),a}function dz(t,e,n){const{key_info:r,unimplemented_dependencies:i}=zye(e),a=JKe(t,r,n);aYe(t,a);for(const[s,o]of i)dz(s,o,n);return a}function _ne(t,e){const n=[],r=["super();"];for(const[i,a]of e){let s=VS(i);a.type==="misc"&&a.misc_type==="NavigationEndpoint"&&(s="endpoint"),n.push(`${s}${a.optional?"?":""}: ${$ye(a)};`),r.push(`this.${s} = ${qye(i,a)};`)}return`class ${t} extends YTNode {
  static type = '${t}';

  ${n.join(`
  `)}

  constructor(data: RawNode) {
    ${r.join(`
    `)}
  }
}
`}function Sne(t,e){return`{
${e.map(([n,r])=>`${" ".repeat((t+2)*2)}${VS(n)}${r.optional?"?":""}: ${$ye(r,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}function $ye(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(n=>`YTNodes.${n}`).join(" | ")} | null`;case"array":switch(t.array_type){case"renderer":return`ObservedArray<${t.renderers.map(n=>`YTNodes.${n}`).join(" | ")}> | null`;case"primitive":{const n=t.items.typeof;return t.items.optional&&!n.includes("undefined")&&n.push("undefined"),`${n.length===1?`${n[0]}`:`(${n.join(" | ")})`}[]`}case"object":return`${Sne(e,t.items.keys)}[]`;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return Sne(e,t.keys);case"misc":switch(t.misc_type){case"Thumbnail":return"Thumbnail[]";default:return t.misc_type}case"primitive":return t.typeof.join(" | ")}}function xne(t,e,n,r){const i=[...n,r];return`{
${e.map(([a,s])=>`${" ".repeat((t+2)*2)}${VS(a)}: ${qye(a,s,i,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}function qye(t,e,n=["data"],r=1){let i="undefined";switch(e.type){case"renderer":i=`Parser.parseItem(${n.join(".")}.${t}, ${Ene(e.renderers)})`;break;case"array":switch(e.array_type){case"renderer":i=`Parser.parse(${n.join(".")}.${t}, true, ${Ene(e.renderers)})`;break;case"object":i=`${n.join(".")}.${t}.map((item: any) => (${xne(r,e.items.keys,[],"item")}))`;break;case"primitive":i=`${n.join(".")}.${t}`;break;default:throw new Error("Unreachable code reached! Switch missing case!")}break;case"object":i=xne(r,e.keys,n,t);break;case"misc":switch(e.misc_type){case"Thumbnail":i=`Thumbnail.fromResponse(${n.join(".")}.${t})`;break;case"Author":{const a=`new Author(${n.join(".")}.${e.params[0]}, ${e.params[1]?`${n.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${n.join(".")}, '${e.params[0]}') ? ${a} : undefined`:a}default:i=`new ${e.misc_type}(${n.join(".")}.${t})`;break}if(i==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primitive":i=`${n.join(".")}.${t}`;break}return e.optional?`Reflect.has(${n.join(".")}, '${t}') ? ${i} : undefined`:i}function Ene(t){return t.length===1?`YTNodes.${t[0]}`:`[ ${t.map(e=>`YTNodes.${e}`).join(", ")} ]`}function pd(t,e){let n=t;for(const r of e)n=n[r];return n}function kne(t,e){let n=t;for(const r of e)if(Reflect.has(n,r))n=n[r];else return!1;return!0}function Tne(t,e,n,r,i){const a={},s=[...n,t];for(const[o,l]of r)a[o]=i?Hye(o,l,e,s):void 0;return a}function Hye(t,e,n,r=["data"]){const i=!e.optional||kne({data:n},[...r,t]);switch(e.type){case"renderer":return i?ge(pd({data:n},[...r,t]),e.renderers.map(a=>XT(a))):void 0;case"array":switch(e.array_type){case"renderer":return i?Bi(pd({data:n},[...r,t]),!0,e.renderers.map(a=>XT(a))):void 0;case"object":return i?pd({data:n},[...r,t]).map((a,s)=>Tne(`${s}`,n,[...r,t],e.items.keys,i)):void 0;case"primitive":return i?pd({data:n},[...r,t]):void 0;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return Tne(t,n,r,e.keys,i);case"misc":switch(e.misc_type){case"NavigationEndpoint":return i?new Me(pd({data:n},[...r,t])):void 0;case"Text":return i?new Y(pd({data:n},[...r,t])):void 0;case"Thumbnail":return i?xt.fromResponse(pd({data:n},[...r,t])):void 0;case"Author":return!e.optional||kne({data:n},[...r,e.params[0]])?new oi(pd({data:n},[...r,e.params[0]]),e.params[1]?pd({data:n},[...r,e.params[1]]):void 0):void 0;default:throw new Error("Unreachable code reached! Switch missing case!")}case"primitive":return pd({data:n},[...r,t])}}function KT(t,e){const n=new Map,r=new Set(t.map(([p])=>p)),i=new Set(e.map(([p])=>p)),a=e.filter(([p])=>!r.has(p)),s=t.filter(([p])=>!i.has(p)),o=t.filter(([p])=>i.has(p)),l=new Map(e);for(const[p,m]of o){const v=l.get(p);if(v){if(m.type!==v.type){n.set(p,{type:"primitive",typeof:["unknown"],optional:!0});continue}switch(m.type){case"object":{if(v.type!=="object")continue;const{resolved_key_info:w}=KT(m.keys,v.keys),k={type:"object",keys:w,optional:m.optional||v.optional};JSON.stringify(k)!==JSON.stringify(m)&&n.set(p,k)}break;case"renderer":{if(v.type!=="renderer")continue;const w={...m.renderers,...v.renderers},k=m.optional||v.optional,T={type:"renderer",renderers:w,optional:k};JSON.stringify({...T,renderers:Object.keys(T.renderers)})!==JSON.stringify({...m,renderers:Object.keys(m.renderers)})&&n.set(p,T)}break;case"array":{if(v.type!=="array")continue;switch(m.array_type){case"renderer":{if(v.array_type!=="renderer"){n.set(p,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}const w={...m.renderers,...v.renderers},k=m.optional||v.optional,T={type:"array",array_type:"renderer",renderers:w,optional:k};JSON.stringify({...T,renderers:Object.keys(T.renderers)})!==JSON.stringify({...m,renderers:Object.keys(m.renderers)})&&n.set(p,T)}break;case"object":{if(v.array_type==="primitive"&&v.items.typeof.length==1&&v.items.typeof[0]==="never")continue;if(v.array_type!=="object"){n.set(p,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}const{resolved_key_info:w}=KT(m.items.keys,v.items.keys),k={type:"array",array_type:"object",items:{type:"object",keys:w,optional:m.items.optional||v.items.optional},optional:m.optional||v.optional};JSON.stringify(k)!==JSON.stringify(m)&&n.set(p,k)}break;case"primitive":{if(m.items.typeof.includes("never")&&v.array_type==="object"){n.set(p,v);continue}if(v.array_type!=="primitive"){n.set(p,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}const w=new Set([...v.items.typeof,...m.items.typeof]);w.size>1&&w.has("never")&&w.delete("never");const k={type:"array",array_type:"primitive",items:{type:"primitive",typeof:Array.from(w),optional:m.items.optional||v.items.optional},optional:m.optional||v.optional};JSON.stringify(k)!==JSON.stringify(m)&&n.set(p,k)}break;default:throw new Error("Unreachable code reached! Switch missing case!")}break}case"misc":{if(v.type!=="misc")continue;switch(m.misc_type!==v.misc_type&&n.set(p,{type:"primitive",typeof:["unknown"],optional:!0}),m.misc_type){case"Author":{if(v.misc_type!=="Author")break;const w=m.params[1]||v.params[1],T={type:"misc",misc_type:"Author",optional:m.optional||v.optional,params:[v.params[0],w]};JSON.stringify(T)!==JSON.stringify(m)&&n.set(p,T)}break}}break;case"primitive":{if(v.type!=="primitive")continue;const w={type:"primitive",typeof:Array.from(new Set([...v.typeof,...m.typeof])),optional:m.optional||v.optional};JSON.stringify(w)!==JSON.stringify(m)&&n.set(p,w)}break}}}for(const[p,m]of a)n.set(p,{...m,optional:!0});for(const[p,m]of s)n.set(p,{...m,optional:!0});const u=t.filter(([p])=>!n.has(p));return{resolved_key_info:[...new Map([...u,...n]).entries()],changed_keys:[...n.entries()]}}class hz extends Z{constructor(e){super(),this.contents=yt(e.contents),Array.isArray(e.continuations)&&(this.continuation=e.continuations?.at(0)?.nextContinuationData?.continuation)}}hz.type="itemSectionContinuation";class fz extends Z{constructor(e){super(),this.endpoint=new Me(e.endpoint)}}fz.type="navigateAction";class Vye extends Z{constructor(e){super(),this.miniplayer_command=new Me(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}}Vye.type="showMiniplayerCommand";class zm extends Z{constructor(e){super(),this.target_id=e.targetId,this.contents=Bi(e.continuationItems,!0),this.slot=e?.slot}}zm.type="reloadContinuationItemsCommand";class S0 extends Z{constructor(e){super(),this.contents=Bi(e.contents,!0),this.continuation=e.continuations?.[0]?.nextContinuationData?.continuation||e.continuations?.[0]?.reloadContinuationData?.continuation||null}}S0.type="sectionListContinuation";class pz extends Z{constructor(e){super(),this.contents=Bi(e.contents,!0),this.continuation=e.continuations?.[0].nextContinuationData.continuation||null}}pz.type="musicPlaylistShelfContinuation";class wR extends Z{constructor(e){super(),this.contents=yt(e.contents),this.continuation=e.continuations?.[0].nextContinuationData?.continuation||e.continuations?.[0].reloadContinuationData?.continuation||null}}wR.type="musicShelfContinuation";class mz extends Z{constructor(e){super(),this.items=Bi(e.items,!0),this.continuation=e.continuations?.[0].nextContinuationData.continuation||null}get contents(){return this.items}}mz.type="gridContinuation";class gz extends Z{constructor(e){super(),this.contents=yt(e.contents),this.continuation=e.continuations?.[0]?.nextContinuationData?.continuation||e.continuations?.[0]?.nextRadioContinuationData?.continuation||null}}gz.type="playlistPanelContinuation";class yz extends Z{constructor(e){super(),this.continuation_type=e.type,this.timeout_ms=e.continuation?.timeoutMs,this.time_until_last_message_ms=e.continuation?.timeUntilLastMessageMsec,this.token=e.continuation?.continuation}}yz.type="continuation";class bz extends Z{constructor(e){super(),this.actions=Bi(e.actions?.map(i=>(delete i.clickTrackingParams,i)),!0)||mi([]),this.action_panel=ge(e.actionPanel),this.item_list=ge(e.itemList,ZU),this.header=ge(e.header,XU),this.participants_list=ge(e.participantsList,JU),this.popout_message=ge(e.popoutMessage,Kd),this.emojis=e.emojis?.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:xt.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji}))||[];let n,r;e.continuations?.[0].timedContinuationData?(r="timed",n=e.continuations?.[0].timedContinuationData):e.continuations?.[0].invalidationContinuationData?(r="invalidation",n=e.continuations?.[0].invalidationContinuationData):e.continuations?.[0].liveChatReplayContinuationData&&(r="replay",n=e.continuations?.[0].liveChatReplayContinuationData),this.continuation=new yz({continuation:n,type:r}),this.viewer_name=e.viewerName}}bz.type="liveChatContinuation";class YT extends Z{constructor(e){super(),this.request=e.request,this.token=e.token}}YT.type="ContinuationCommand";var Tk;class eYe{constructor(e,n){if(Tk.set(this,void 0),n&&kt(this,Tk,n,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,Reflect.has(e,"width")&&Reflect.has(e,"height")&&(this.width=parseInt(e.width),this.height=parseInt(e.height)),Reflect.has(e,"projectionType")&&(this.projection_type=e.projectionType),Reflect.has(e,"stereoLayout")&&(this.stereo_layout=e.stereoLayout?.replace("STEREO_LAYOUT_","")),Reflect.has(e,"initRange")&&(this.init_range={start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}),Reflect.has(e,"indexRange")&&(this.index_range={start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}),this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.last_modified_ms=e.lastModified,Reflect.has(e,"contentLength")&&(this.content_length=parseInt(e.contentLength)),Reflect.has(e,"quality")&&(this.quality=e.quality),Reflect.has(e,"qualityLabel")&&(this.quality_label=e.qualityLabel),Reflect.has(e,"fps")&&(this.fps=e.fps),Reflect.has(e,"url")&&(this.url=e.url),Reflect.has(e,"cipher")&&(this.cipher=e.cipher),Reflect.has(e,"signatureCipher")&&(this.signature_cipher=e.signatureCipher),Reflect.has(e,"audioQuality")&&(this.audio_quality=e.audioQuality),this.approx_duration_ms=parseInt(e.approxDurationMs),Reflect.has(e,"audioSampleRate")&&(this.audio_sample_rate=parseInt(e.audioSampleRate)),Reflect.has(e,"audioChannels")&&(this.audio_channels=e.audioChannels),Reflect.has(e,"loudnessDb")&&(this.loudness_db=e.loudnessDb),Reflect.has(e,"spatialAudioType")&&(this.spatial_audio_type=e.spatialAudioType?.replace("SPATIAL_AUDIO_TYPE_","")),Reflect.has(e,"maxDvrDurationSec")&&(this.max_dvr_duration_sec=e.maxDvrDurationSec),Reflect.has(e,"targetDurationSec")&&(this.target_duration_dec=e.targetDurationSec),this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.has_text=!!e.captionTrack,Reflect.has(e,"xtags")&&(this.xtags=e.xtags),Reflect.has(e,"fairPlayKeyUri")&&(this.fair_play_key_uri=e.fairPlayKeyUri),Reflect.has(e,"drmFamilies")&&(this.drm_families=e.drmFamilies),Reflect.has(e,"drmTrackType")&&(this.drm_track_type=e.drmTrackType),Reflect.has(e,"distinctParams")&&(this.distinct_params=e.distinctParams),Reflect.has(e,"trackAbsoluteLoudnessLkfs")&&(this.track_absolute_loudness_lkfs=e.trackAbsoluteLoudnessLkfs),Reflect.has(e,"highReplication")&&(this.high_replication=e.highReplication),Reflect.has(e,"colorInfo")&&(this.color_info={primaries:e.colorInfo.primaries?.replace("COLOR_PRIMARIES_",""),transfer_characteristics:e.colorInfo.transferCharacteristics?.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:e.colorInfo.matrixCoefficients?.replace("COLOR_MATRIX_COEFFICIENTS_","")}),Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id}),Reflect.has(e,"captionTrack")&&(this.caption_track={display_name:e.captionTrack.displayName,vss_id:e.captionTrack.vssId,language_code:e.captionTrack.languageCode,kind:e.captionTrack.kind,id:e.captionTrack.id}),this.has_audio||this.has_text){const r=new URLSearchParams(this.cipher||this.signature_cipher),a=new URLSearchParams(r.get("url")||this.url).get("xtags")?.split(":");if(this.language=a?.find(s=>s.startsWith("lang="))?.split("=")[1]||null,this.has_audio){this.is_drc=!!e.isDrc||!!a?.includes("drc=1");const s=a?.find(o=>o.startsWith("acont="))?.split("=")[1];this.is_dubbed=s==="dubbed",this.is_descriptive=s==="descriptive",this.is_secondary=s==="secondary",this.is_auto_dubbed=s==="dubbed-auto",this.is_original=s==="original"||!this.is_dubbed&&!this.is_descriptive&&!this.is_secondary&&!this.is_auto_dubbed&&!this.is_drc}this.has_text&&!this.language&&this.caption_track&&(this.language=this.caption_track.language_code)}}decipher(e){return e?e.decipher(this.url,this.signature_cipher,this.cipher,L(this,Tk,"f")):this.url||""}}Tk=new WeakMap;class tYe{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=xt.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_live_dvr_enabled=!!e.isLiveDvrEnabled,this.is_low_latency_live_stream=!!e.isLowLatencyLiveStream,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable,this.live_chunk_readahead=e.liveChunkReadahead}}const Og="Parser",nYe=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","PromotedSparklesWeb","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent","MiniGameCardView"]),vz=new Map(Object.entries(HKe)),rYe=new Map;let h0=null,gm=({classname:t,...e})=>{switch(e.error_type){case"parse":e.error instanceof Error&&Js(Og,new Pe(`Something went wrong at ${t}!
This is a bug, please report it at ${Hr.shim.info.bugs_url}`,{stack:e.error.stack,classdata:JSON.stringify(e.classdata,null,2)}));break;case"typecheck":Js(Og,new x0(`Type mismatch, got ${t} expected ${Array.isArray(e.expected)?e.expected.join(" | "):e.expected}.`,e.classdata));break;case"mutation_data_missing":Js(Og,new Pe(`Mutation data required for processing ${t}, but none found.
This is a bug, please report it at ${Hr.shim.info.bugs_url}`));break;case"mutation_data_invalid":Js(Og,new Pe(`Mutation data missing or invalid for ${e.failed} out of ${e.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${e.titles.join(", ")}.
This is a bug, please report it at ${Hr.shim.info.bugs_url}`));break;case"class_not_found":Js(Og,new Pe(`${t} not found!
This is a bug, want to help us fix it? Follow the instructions at ${Hr.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${Hr.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${_ne(t,e.key_info)}`));break;case"class_changed":Js(Og,`${t} changed!
The following keys where altered: ${e.changed_keys.map(([n])=>VS(n)).join(", ")}
The class has changed to:
${_ne(t,e.key_info)}`);break;default:Js(Og,"Unreachable code reached at ParserErrorHandler");break}};function md(){h0=null}function gd(){h0=new ype}function iYe(t,e){if(!h0)return;const n=h0.get(t);if(!n)return h0.set(t,[e]);n.push(e)}function yd(){if(!h0)throw new Error("Parser#getMemo() called before Parser#createMemo()");return h0}function Gye(t){return nYe.has(t)}function _R(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}function XT(t){const e=vz.get(t);if(!e){const n=new Error(`Module not found: ${t}`);throw n.code="MODULE_NOT_FOUND",n}return e}function wz(t){return vz.has(t)}function aYe(t,e){vz.set(t,e),rYe.set(t,e)}function Hi(t){const e={};gd();const n=Bi(t.contents),r=yd();n&&(e.contents=n,e.contents_memo=r),md(),gd();const i=t.onResponseReceivedActions?RD(t.onResponseReceivedActions):null,a=yd();i&&(e.on_response_received_actions=i,e.on_response_received_actions_memo=a),md(),gd();const s=t.onResponseReceivedEndpoints?RD(t.onResponseReceivedEndpoints):null,o=yd();s&&(e.on_response_received_endpoints=s,e.on_response_received_endpoints_memo=o),md(),gd();const l=t.onResponseReceivedCommands?RD(t.onResponseReceivedCommands):null,u=yd();l&&(e.on_response_received_commands=l,e.on_response_received_commands_memo=u),md(),gd();const d=t.continuationContents?Ane(t.continuationContents):null,h=yd();d&&(e.continuation_contents=d,e.continuation_contents_memo=h),md(),gd();const p=t.actions?dYe(t.actions):null,m=yd();p&&(e.actions=p,e.actions_memo=m),md(),gd();const v=t.liveChatItemContextMenuSupportedRenderers?ge(t.liveChatItemContextMenuSupportedRenderers):null,w=yd();v&&(e.live_chat_item_context_menu_supported_renderers=v,e.live_chat_item_context_menu_supported_renderers_memo=w),md(),gd();const k=t.header?Bi(t.header):null,T=yd();k&&(e.header=k,e.header_memo=T),md(),gd();const C=t.sidebar?ge(t.sidebar):null,N=yd();C&&(e.sidebar=C,e.sidebar_memo=N),md(),gd();const F=Bi(t.items);F&&(e.items=F,e.items_memo=yd()),md(),hYe(r,t.frameworkUpdates?.entityBatchUpdate?.mutations),o&&fYe(o,t.frameworkUpdates?.entityBatchUpdate?.mutations);const D=t.continuation?cYe(t.continuation):null;D&&(e.continuation=D);const U=t.continuationEndpoint?Ane(t.continuationEndpoint):null;U&&(e.continuation_endpoint=U);const G=Bi(t.metadata);G&&(e.metadata=G);const se=ge(t.microformat);se&&(e.microformat=se);const re=ge(t.overlay);re&&(e.overlay=re);const Q=yt(t.alerts,[MC,$9]);Q.length&&(e.alerts=Q);const ce=t.refinements;ce&&(e.refinements=ce);const Ie=t.estimatedResults?parseInt(t.estimatedResults):null;Ie&&(e.estimated_results=Ie);const qe=Bi(t.playerOverlays);qe&&(e.player_overlays=qe);const xe=ge(t.background,Yd);xe&&(e.background=xe);const Ce=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;Ce&&(e.playback_tracking=Ce);const ue=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playability:ge(t.playabilityStatus.audioOnlyPlayability,V9),error_screen:ge(t.playabilityStatus.errorScreen)}:null;if(ue&&(e.playability_status=ue),t.streamingData){const Xe=new Map;e.streaming_data={expires:new Date(Date.now()+parseInt(t.streamingData.expiresInSeconds)*1e3),formats:Cne(t.streamingData.formats,Xe),adaptive_formats:Cne(t.streamingData.adaptiveFormats,Xe),dash_manifest_url:t.streamingData.dashManifestUrl,hls_manifest_url:t.streamingData.hlsManifestUrl,server_abr_streaming_url:t.streamingData.serverAbrStreamingUrl}}t.playerConfig&&(e.player_config={audio_config:{loudness_db:t.playerConfig.audioConfig?.loudnessDb,perceptual_loudness_db:t.playerConfig.audioConfig?.perceptualLoudnessDb,enable_per_format_loudness:t.playerConfig.audioConfig?.enablePerFormatLoudness},stream_selection_config:{max_bitrate:t.playerConfig.streamSelectionConfig?.maxBitrate||"0"},media_common_config:{dynamic_readahead_config:{max_read_ahead_media_time_ms:t.playerConfig.mediaCommonConfig?.dynamicReadaheadConfig?.maxReadAheadMediaTimeMs||0,min_read_ahead_media_time_ms:t.playerConfig.mediaCommonConfig?.dynamicReadaheadConfig?.minReadAheadMediaTimeMs||0,read_ahead_growth_rate_ms:t.playerConfig.mediaCommonConfig?.dynamicReadaheadConfig?.readAheadGrowthRateMs||0},media_ustreamer_request_config:{video_playback_ustreamer_config:t.playerConfig.mediaCommonConfig?.mediaUstreamerRequestConfig?.videoPlaybackUstreamerConfig}}});const ke=t.currentVideoEndpoint?new Me(t.currentVideoEndpoint):null;ke&&(e.current_video_endpoint=ke);const Te=t.endpoint?new Me(t.endpoint):null;Te&&(e.endpoint=Te);const he=ge(t.captions,Tj);he&&(e.captions=he);const j=t.videoDetails?new tYe(t.videoDetails):null;j&&(e.video_details=j);const pe=yt(t.annotations,kj);pe.length&&(e.annotations=pe);const Ne=ge(t.storyboards,[CS,Cj]);Ne&&(e.storyboards=Ne);const ae=ge(t.endscreen,mU);ae&&(e.endscreen=ae);const He=ge(t.cards,RB);He&&(e.cards=He);const it=yt(t.engagementPanels,FS);if(it.length&&(e.engagement_panels=it),t.bgChallenge){const Xe={private_do_not_access_or_else_trusted_resource_url_wrapped_value:t.bgChallenge.interpreterUrl.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue,private_do_not_access_or_else_safe_script_wrapped_value:t.bgChallenge.interpreterUrl.privateDoNotAccessOrElseSafeScriptWrappedValue};e.bg_challenge={interpreter_url:Xe,interpreter_hash:t.bgChallenge.interpreterHash,program:t.bgChallenge.program,global_name:t.bgChallenge.globalName,client_experiments_state_blob:t.bgChallenge.clientExperimentsStateBlob}}return t.challenge&&(e.challenge=t.challenge),t.playerResponse&&(e.player_response=Hi(t.playerResponse)),t.watchNextResponse&&(e.watch_next_response=Hi(t.watchNextResponse)),t.cpnInfo&&(e.cpn_info={cpn:t.cpnInfo.cpn,cpn_source:t.cpnInfo.cpnSource}),t.entries&&(e.entries=t.entries.map(Xe=>new Me(Xe))),e}function ge(t,e){if(!t)return null;const n=Object.keys(t);if(!n.length)return null;const r=_R(n[0]);if(!Gye(r))try{const a=wz(r)?XT(r):dz(r,t[n[0]],gm);if(e){if(Array.isArray(e)){if(!e.some(o=>o.type===a.type))return gm({classdata:t[n[0]],classname:r,error_type:"typecheck",expected:e.map(o=>o.type)}),null}else if(a.type!==e.type)return gm({classdata:t[n[0]],classname:r,error_type:"typecheck",expected:e.type}),null}const s=new a(t[n[0]]);return iYe(r,s),s}catch(i){return gm({classname:r,classdata:t[n[0]],error:i,error_type:"parse"}),null}return null}function yt(t,e){if(Array.isArray(t)){const n=[];for(const r of t){const i=ge(r,e);i&&n.push(i)}return mi(n)}else if(!t)return mi([]);throw new x0("Expected array but got a single item")}function Bi(t,e,n){if(!t)return null;if(Array.isArray(t)){const r=[];for(const a of t){const s=ge(a,n);s&&r.push(s)}const i=mi(r);return e?i:new M1(i)}else if(e)throw new x0("Expected array but got a single item");return new M1(ge(t,n))}const sYe=/Command$/,oYe=/Endpoint$/,lYe=/Action$/;function Wye(t){let e=[];try{e=Object.keys(t)}catch{}for(const n of e){const r=t[n];if(sYe.test(n)||oYe.test(n)||lYe.test(n)){const i=_R(n);if(Gye(i))return;try{if(wz(i))return new(XT(i))(r)}catch(a){gm({error:a,classname:i,classdata:r,error_type:"parse"})}}}}function uYe(t){if(Array.isArray(t)){const e=[];for(const n of t){const r=Wye(n);r&&e.push(r)}return mi(e)}else if(!t)return mi([]);throw new x0("Expected array but got a single item")}function cYe(t){return t.timedContinuationData?new yz({continuation:t.timedContinuationData,type:"timed"}):null}function Ane(t){return t.itemSectionContinuation?new hz(t.itemSectionContinuation):t.sectionListContinuation?new S0(t.sectionListContinuation):t.liveChatContinuation?new bz(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new pz(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new wR(t.musicShelfContinuation):t.gridContinuation?new mz(t.gridContinuation):t.playlistPanelContinuation?new gz(t.playlistPanelContinuation):t.continuationCommand?new YT(t.continuationCommand):null}function RD(t){return mi(t.map(e=>{if(e.navigateAction)return new fz(e.navigateAction);if(e.showMiniplayerCommand)return new Vye(e.showMiniplayerCommand);if(e.reloadContinuationItemsCommand)return new zm(e.reloadContinuationItemsCommand);if(e.appendContinuationItemsAction)return new Wd(e.appendContinuationItemsAction);if(e.openPopupAction)return new IC(e.openPopupAction)}).filter(e=>e))}function dYe(t){return Array.isArray(t)?Bi(t.map(e=>(delete e.clickTrackingParams,e))):new M1(ge(t))}function Cne(t,e){return t?.map(n=>new eYe(n,e))||[]}function hYe(t,e){const n=t.getType(u0);if(n.length>0&&!e)gm({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{const r=[];for(const i of n){const s=e.find(o=>o.payload?.musicFormBooleanChoice?.id===i.form_item_entity_key)?.payload.musicFormBooleanChoice;s?.selected!==void 0&&s?.opaqueToken?i.selected=s.selected:r.push(`'${i.title}'`)}r.length>0&&gm({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:n.length,failed:r.length,titles:r})}}function fYe(t,e){const n=t.getType(US);if(n.length>0){e||gm({error_type:"mutation_data_missing",classname:"CommentView"});for(const r of n){const i=e.find(o=>o.payload?.commentEntityPayload?.key===r.keys.comment)?.payload?.commentEntityPayload,a=e.find(o=>o.payload?.engagementToolbarStateEntityPayload?.key===r.keys.toolbar_state)?.payload?.engagementToolbarStateEntityPayload,s=e.find(o=>o.entityKey===r.keys.toolbar_surface)?.payload?.engagementToolbarSurfaceEntityPayload;r.applyMutations(i,a,s)}}}var Fy;class pYe{constructor(e){if(Fy.set(this,void 0),kt(this,Fy,Hi(e.data),"f"),!L(this,Fy,"f").contents)throw new Pe("Page contents not found");const n=L(this,Fy,"f").contents.array().as(N9)[0];if(!n)throw new Pe("Account section list not found");this.contents=n.contents[0]}get page(){return L(this,Fy,"f")}}Fy=new WeakMap;var r_,Zs,i_,cl,jg,Kye,a8;class ka{constructor(e,n,r=!1){r_.add(this),Zs.set(this,void 0),i_.set(this,void 0),cl.set(this,void 0),jg.set(this,void 0),L(this,r_,"m",Kye).call(this,n)||r?kt(this,Zs,n,"f"):kt(this,Zs,Hi(n.data),"f");const i=sZe(L(this,Zs,"f").contents_memo,L(this,Zs,"f").continuation_contents_memo,L(this,Zs,"f").on_response_received_commands_memo,L(this,Zs,"f").on_response_received_endpoints_memo,L(this,Zs,"f").on_response_received_actions_memo,L(this,Zs,"f").sidebar_memo,L(this,Zs,"f").header_memo);if(!i)throw new Pe("No memo found in feed");kt(this,cl,i,"f"),kt(this,i_,e,"f")}static getVideosFromMemo(e){return e.getType(UC,xU,dR,mR,jC,uR,Wb,az)}static getPlaylistsFromMemo(e){const n=e.getType(xv,wU),r=e.getType(tj).filter(i=>["PLAYLIST","ALBUM","PODCAST"].includes(i.content_type));return r.length>0&&n.push(...r),n}get videos(){return ka.getVideosFromMemo(L(this,cl,"f"))}get posts(){return L(this,cl,"f").getType(MS,cR,Gj)}get channels(){return L(this,cl,"f").getType(PB,vU)}get playlists(){return ka.getPlaylistsFromMemo(L(this,cl,"f"))}get memo(){return L(this,cl,"f")}get page_contents(){const e=L(this,cl,"f").getType(Fo)?.[0].content,n=L(this,cl,"f").getType(zm)[0],r=L(this,cl,"f").getType(Wd)[0];return e||n||r}get shelves(){return L(this,cl,"f").getType(pR,Uj,$C)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){if(!L(this,Zs,"f").contents?.is_node)return;const e=L(this,Zs,"f").contents?.item();if(e.is(kv,tz))return e.secondary_contents}get actions(){return L(this,i_,"f")}get page(){return L(this,Zs,"f")}get has_continuation(){return L(this,r_,"m",a8).call(this).length>0}async getContinuationData(){if(L(this,jg,"f")){if(L(this,jg,"f").length===0)throw new Pe("There are no continuations.");return await L(this,jg,"f")[0].endpoint.call(L(this,i_,"f"),{parse:!0})}if(kt(this,jg,L(this,r_,"m",a8).call(this),"f"),L(this,jg,"f"))return this.getContinuationData()}async getContinuation(){const e=await this.getContinuationData();if(!e)throw new Pe("Could not get continuation data");return new ka(this.actions,e,!0)}}Zs=new WeakMap,i_=new WeakMap,cl=new WeakMap,jg=new WeakMap,r_=new WeakSet,Kye=function(e){return!("data"in e)},a8=function(){if(L(this,Zs,"f").header_memo){const e=L(this,Zs,"f").header_memo.getType(Fi);return L(this,cl,"f").getType(Fi).filter(n=>!e.includes(n))}return L(this,cl,"f").getType(Fi)};var By;class _z extends ka{constructor(e,n,r=!1){super(e,n,r),By.set(this,void 0)}get filter_chips(){if(L(this,By,"f"))return L(this,By,"f")||[];if(this.memo.getType(jm)?.length>1)throw new Pe("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(this.memo.getType(jm)?.length===0)throw new Pe("There are no feed filter chipbars");return kt(this,By,this.memo.getType(Do),"f"),L(this,By,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}async getFilteredFeed(e){let n;if(typeof e=="string"){if(!this.filters.includes(e))throw new Pe("Filter not found",{available_filters:this.filters});n=this.filter_chips.find(i=>i.text.toString()===e)}else if(e.type==="ChipCloudChip")n=e;else throw new Pe("Invalid filter");if(!n)throw new Pe("Filter not found");if(n.is_selected)return this;const r=await n.endpoint?.call(this.actions,{parse:!0});if(!r)throw new Pe("Failed to get filtered feed");return new ka(this.actions,r,!0)}}By=new WeakMap;var Kp,wc,Uy,a_;class SR{constructor(e,n,r){Kp.set(this,void 0),wc.set(this,void 0),Uy.set(this,void 0),a_.set(this,void 0),kt(this,wc,n,"f");const i=Hi(e[0].data.playerResponse?e[0].data.playerResponse:e[0].data),a=e[1]?.data?Hi(e[1].data):void 0;if(kt(this,Kp,[i,a],"f"),kt(this,Uy,r,"f"),i.playability_status?.status==="ERROR")throw new Pe("This video is unavailable",i.playability_status);if(i.microformat&&!i.microformat?.is(kc,c0))throw new Pe("Unsupported microformat",i.microformat);this.basic_info={...i.video_details,embed:i.microformat?.is(kc)?i.microformat?.embed:null,channel:i.microformat?.is(kc)?i.microformat?.channel:null,is_unlisted:i.microformat?.is_unlisted,is_family_safe:i.microformat?.is_family_safe,category:i.microformat?.is(kc)?i.microformat?.category:null,has_ypc_metadata:i.microformat?.is(kc)?i.microformat?.has_ypc_metadata:null,start_timestamp:i.microformat?.is(kc)?i.microformat.start_timestamp:null,end_timestamp:i.microformat?.is(kc)?i.microformat.end_timestamp:null,view_count:i.microformat?.is(kc)&&isNaN(i.video_details?.view_count)?i.microformat.view_count:i.video_details?.view_count,url_canonical:i.microformat?.is(c0)?i.microformat?.url_canonical:null,tags:i.microformat?.is(c0)?i.microformat?.tags:null,like_count:void 0,is_liked:void 0,is_disliked:void 0},this.annotations=i.annotations,this.storyboards=i.storyboards,this.endscreen=i.endscreen,this.captions=i.captions,this.cards=i.cards,this.streaming_data=i.streaming_data,this.playability_status=i.playability_status,this.player_config=i.player_config,kt(this,a_,i.playback_tracking,"f")}async toDash(e,n,r={include_thumbnails:!1}){const i=L(this,Kp,"f")[0];if(i.video_details&&i.video_details.is_live)throw new Pe("Generating DASH manifests for live videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let a,s;return r.include_thumbnails&&i.storyboards&&(a=i.storyboards),typeof r.captions_format=="string"&&i.captions?.caption_tracks&&(s=i.captions.caption_tracks),fWe(this.streaming_data,this.page[0].video_details?.is_post_live_dvr,e,n,L(this,Uy,"f"),L(this,wc,"f").session.player,L(this,wc,"f"),a,s,r)}getStreamingInfo(e,n){return Epe(this.streaming_data,this.page[0].video_details?.is_post_live_dvr,e,n,this.cpn,L(this,wc,"f").session.player,L(this,wc,"f"),L(this,Kp,"f")[0].storyboards?L(this,Kp,"f")[0].storyboards:void 0)}chooseFormat(e){return kpe(e,this.streaming_data)}async download(e={}){const n=L(this,Kp,"f")[0];if(n.video_details&&(n.video_details.is_live||n.video_details.is_post_live_dvr))throw new Pe("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return pWe(e,L(this,wc,"f"),this.playability_status,this.streaming_data,L(this,wc,"f").session.player,this.cpn)}async getTranscript(){const e=this.page[1];if(!e)throw new Pe("Cannot get transcript from basic video info.");if(!e.engagement_panels)throw new Pe("Engagement panels not found. Video likely has no transcript.");const n=e.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!n)throw new Pe("Transcript panel not found. Video likely has no transcript.");const r=n.content?.as(Fi);if(!r)throw new Pe("Transcript continuation not found.");const i=await r.endpoint.call(this.actions);return new Az(this.actions,i)}async addToWatchHistory(e=Zn.WEB.NAME,n=Zn.WEB.VERSION,r="https://www."){if(!L(this,a_,"f"))throw new Pe("Playback tracking not available");const i={cpn:L(this,Uy,"f"),fmt:251,rtn:0,rt:0},a=L(this,a_,"f").videostats_playback_url.replace("https://s.",r);return await L(this,wc,"f").stats(a,{client_name:e,client_version:n},i)}get actions(){return L(this,wc,"f")}get cpn(){return L(this,Uy,"f")}get page(){return L(this,Kp,"f")}}Kp=new WeakMap,wc=new WeakMap,Uy=new WeakMap,a_=new WeakMap;var zg,$g;class Kb extends ka{constructor(e,n,r=!1){super(e,n,r),zg.set(this,void 0),$g.set(this,void 0),kt(this,zg,e,"f"),kt(this,$g,this.page.contents_memo?.getType(Fo),"f")}get tabs(){return L(this,$g,"f")?.map(e=>e.title.toString())??[]}async getTabByName(e){const n=L(this,$g,"f")?.find(i=>i.title.toLowerCase()===e.toLowerCase());if(!n)throw new Pe(`Tab "${e}" not found`);if(n.selected)return this;const r=await n.endpoint.call(L(this,zg,"f"));return new Kb(L(this,zg,"f"),r,!1)}async getTabByURL(e){const n=L(this,$g,"f")?.find(i=>i.endpoint.metadata.url?.split("/").pop()===e);if(!n)throw new Pe(`Tab "${e}" not found`);if(n.selected)return this;const r=await n.endpoint.call(L(this,zg,"f"));return new Kb(L(this,zg,"f"),r,!1)}hasTabWithURL(e){return L(this,$g,"f")?.some(n=>n.endpoint.metadata.url?.split("/").pop()===e)??!1}get title(){return this.page.contents_memo?.getType(Fo)?.find(e=>e.selected)?.title.toString()}}zg=new WeakMap,$g=new WeakMap;let mYe=class Ul extends Kb{constructor(e,n,r=!1){super(e,n,r),this.header=this.page.header?.item()?.as(Tb,IB,NU,d0);const i=this.page.metadata?.item().as(LB),a=this.page.microformat?.as(c0);if(this.page.alerts){const s=this.page.alerts[0];if(s?.alert_type==="ERROR")throw new iZe(s.text.toString())}if(!i&&!this.page.contents)throw new Pe("Invalid channel",this);this.metadata={...i,...a||{}},this.subscribe_button=this.page.header_memo?.getType(ah)[0],this.page.contents&&(this.current_tab=this.page.contents.item().as(kv).tabs.array().filterType(Fo,j_).get({selected:!0}))}async applyFilter(e){let n;const r=this.memo.getType(jm)[0];if(typeof e=="string"){if(n=r?.contents.get({text:e}),!n)throw new Pe(`Filter ${e} not found`,{available_filters:this.filters})}else n=e;if(!n.endpoint)throw new Pe("Invalid filter",e);const i=await n.endpoint.call(this.actions,{parse:!0});if(!i)throw new Pe("No page returned",{filter:n});return new ZT(this.actions,i,!0)}async applySort(e){const n=this.memo.getType(Fm)[0];if(!n||!n.sub_menu_items)throw new Pe("No sort filter sub menu found");const r=n.sub_menu_items.find(a=>a.title===e);if(!r)throw new Pe(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(r.selected)return this;const i=await r.endpoint.call(this.actions,{parse:!0});return new Ul(this.actions,i,!0)}async applyContentTypeFilter(e){const n=this.current_tab?.content?.as(ca).sub_menu?.as(jT);if(!n)throw new Pe("Sub menu not found");const r=n.content_type_sub_menu_items.find(a=>a.title===e);if(!r)throw new Pe(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(r.selected)return this;const i=await r.endpoint.call(this.actions,{parse:!0});return new Ul(this.actions,i,!0)}get filters(){return this.memo.getType(jm)?.[0]?.contents.filterType(Do).map(e=>e.text)||[]}get sort_filters(){return this.memo.getType(Fm)[0]?.sub_menu_items?.map(n=>n.title)||[]}get content_type_filters(){return this.current_tab?.content?.as(ca).sub_menu?.as(jT)?.content_type_sub_menu_items.map(n=>n.title)||[]}async getHome(){const e=await this.getTabByURL("featured");return new Ul(this.actions,e.page,!0)}async getVideos(){const e=await this.getTabByURL("videos");return new Ul(this.actions,e.page,!0)}async getShorts(){const e=await this.getTabByURL("shorts");return new Ul(this.actions,e.page,!0)}async getLiveStreams(){const e=await this.getTabByURL("streams");return new Ul(this.actions,e.page,!0)}async getReleases(){const e=await this.getTabByURL("releases");return new Ul(this.actions,e.page,!0)}async getPodcasts(){const e=await this.getTabByURL("podcasts");return new Ul(this.actions,e.page,!0)}async getCourses(){const e=await this.getTabByURL("courses");return new Ul(this.actions,e.page,!0)}async getPlaylists(){const e=await this.getTabByURL("playlists");return new Ul(this.actions,e.page,!0)}async getCommunity(){const e=await this.getTabByURL("community");return new Ul(this.actions,e.page,!0)}async getAbout(){if(this.hasTabWithURL("about"))return(await this.getTabByURL("about")).memo.getType(UT)[0];const e=this.header?.is(Tb)&&this.header.tagline;if(e||this.header?.is(d0)&&this.header.content?.description){if(e&&e.more_endpoint instanceof Me){const i=await e.more_endpoint.call(this.actions);return new Kb(this.actions,i,!1).memo.getType(UT)[0]}const n=this.page.header_memo?.getType(Fi)[0]?.endpoint;if(!n)throw new Pe("Failed to extract continuation to get channel about");const r=await n.call(this.actions,{parse:!0});if(!r.on_response_received_endpoints_memo)throw new Pe("Unexpected response while fetching channel about",{response:r});return r.on_response_received_endpoints_memo.getType(A9)[0]}throw new Pe("About not found")}async search(e){const n=this.memo.getType(j_)?.[0];if(!n)throw new Pe("Search tab not found",this);const r=await n.endpoint.call(this.actions,{query:e,parse:!0});return new Ul(this.actions,r,!0)}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_courses(){return this.hasTabWithURL("courses")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_about(){return this.hasTabWithURL("about")||!!(this.header?.is(Tb)&&this.header.tagline?.more_endpoint)||!!(this.header?.is(d0)&&this.header.content?.description?.more_endpoint)}get has_search(){return this.memo.getType(j_)?.length>0}async getContinuation(){const e=await super.getContinuationData();if(!e)throw new Pe("Could not get continuation data");return new Sz(this.actions,e,!0)}};class Sz extends ka{constructor(e,n,r=!1){super(e,n,r),this.contents=this.page.on_response_received_actions?.[0]||this.page.on_response_received_endpoints?.[0]}async getContinuation(){const e=await super.getContinuationData();if(!e)throw new Pe("Could not get continuation data");return new Sz(this.actions,e,!0)}}class ZT extends _z{constructor(e,n,r=!1){super(e,n,r),this.applied_filter=this.memo.getType(Do).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=this.page.on_response_received_actions?.[0]}async applyFilter(e){const n=await super.getFilteredFeed(e);return new ZT(this.actions,n.page,!0)}async getContinuation(){const e=await super.getContinuationData();if(!e?.on_response_received_actions_memo)throw new Pe("Unexpected continuation data",e);return e.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(jm)),e.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(Do)),new ZT(this.actions,e,!0)}}var jy,Sd,zy;class z1{constructor(e,n,r=!1){jy.set(this,void 0),Sd.set(this,void 0),zy.set(this,void 0),kt(this,jy,r?n:Hi(n),"f"),kt(this,Sd,e,"f");const i=L(this,jy,"f").on_response_received_endpoints;if(!i)throw new Pe("Comments page did not have any content.");const a=i.at(0)?.as(Wd,zm),s=i.at(1)?.as(Wd,zm);this.header=a?.contents?.firstOfType(BS);const o=s?.contents?.filterType(JB)||[];this.contents=mi(o.map(l=>(l.comment&&l.comment.setActions(L(this,Sd,"f")),l.setActions(L(this,Sd,"f")),l))),kt(this,zy,s?.contents?.firstOfType(Fi),"f")}async applySort(e){if(!this.header)throw new Pe("Page header is missing. Cannot apply sort option.");let n;if(e==="TOP_COMMENTS"?n=this.header.sort_menu?.sub_menu_items?.at(0):e==="NEWEST_FIRST"&&(n=this.header.sort_menu?.sub_menu_items?.at(1)),!n)throw new Pe("Could not find target button.");if(n.selected)return this;const r=await n.endpoint.call(L(this,Sd,"f"),{parse:!0});return new z1(L(this,Sd,"f"),r,!0)}async createComment(e){if(!this.header)throw new Pe("Page header is missing. Cannot create comment.");const n=this.header.create_renderer?.as(QB).submit_button;if(!n)throw new Pe("Could not find target button. You are probably not logged in.");if(!n.endpoint)throw new Pe("Button does not have an endpoint.");return await n.endpoint.call(L(this,Sd,"f"),{commentText:e})}async getContinuation(){if(!L(this,zy,"f"))throw new Pe("Continuation not found");const e=await L(this,zy,"f").endpoint.call(L(this,Sd,"f"),{parse:!0}),n=Object.assign({},L(this,jy,"f"));if(!n.on_response_received_endpoints||!e.on_response_received_endpoints)throw new Pe("Invalid reponse format, missing on_response_received_endpoints.");return n.on_response_received_endpoints.pop(),n.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new z1(L(this,Sd,"f"),n,!0)}get has_continuation(){return!!L(this,zy,"f")}get page(){return L(this,jy,"f")}}jy=new WeakMap,Sd=new WeakMap,zy=new WeakMap;var $y;class gYe{constructor(e){$y.set(this,void 0),kt(this,$y,Hi(e),"f"),L(this,$y,"f").items&&(this.contents=L(this,$y,"f").items.array().as(JC,EU))}get page(){return L(this,$y,"f")}}$y=new WeakMap;class xR extends ka{constructor(e,n,r=!1){super(e,n,r),this.sections=this.memo.getType(nu),this.feed_actions=this.memo.getType(eB)[0]}async getContinuation(){const e=await this.getContinuationData();if(!e)throw new Error("No continuation data found");return new xR(this.actions,e,!0)}async removeVideo(e){let n;for(const s of this.sections)for(const o of s.contents){const l=o;if(l.id===e&&l.menu){n=l.menu.top_level_buttons[0].as(jt).endpoint.payload.feedbackToken;break}}if(!n)throw new Error("Failed to get feedback token");const r={feedbackTokens:[n]};if(!(await this.actions.execute("/feedback",r)).data.feedbackResponses[0].isProcessed)throw new Error("Failed to remove video from watch history");return!0}}let yYe=class s8 extends _z{constructor(e,n,r=!1){super(e,n,r),this.header=this.memo.getType(bU)[0],this.contents=this.memo.getType(qS)[0]||this.page.on_response_received_actions?.[0]}async applyFilter(e){const n=await super.getFilteredFeed(e);return new s8(this.actions,n.page,!0)}async getContinuation(){const e=await super.getContinuation();return e.page.header=this.page.header,this.header&&e.page.header_memo?.set(this.header.type,[this.header]),new s8(this.actions,e.page,!0)}};class xz extends _z{constructor(e,n){if(super(e,n),!this.page.contents_memo)throw new Pe("Unexpected response",this.page);const r=this.page.contents_memo.getType(Fo)[0];if(!r.content)throw new Pe("Content tab has no content",r);this.page.header&&(this.header=this.page.header.item().as(kU,d0)),this.contents=r.content.as(qS)}async applyFilter(e){const n=await super.getFilteredFeed(e);return new xz(this.actions,n.page)}}var Ak,Ck,s_;class bYe{constructor(e,n){Ak.set(this,void 0),Ck.set(this,void 0),s_.set(this,void 0),kt(this,Ak,e,"f"),kt(this,Ck,n,"f");const r=e?.live_chat_item_context_menu_supported_renderers;if(!r||!r.is(wi))throw new Pe('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');kt(this,s_,r.as(wi).items,"f")}async selectItem(e){let n;if(e instanceof jt){if(!e.endpoint)throw new Pe("Item does not have an endpoint.");n=e.endpoint}else{const r=L(this,s_,"f").find(i=>i.is(l0)?i.as(l0).icon_type===e:!1);if(!r||!r.is(l0))throw new Pe(`Button "${e}" not found.`);n=r.endpoint}if(!n)throw new Pe("Target button does not have an endpoint.");return await n.call(L(this,Ck,"f"),{parse:!0})}items(){return L(this,s_,"f")}page(){return L(this,Ak,"f")}}Ak=new WeakMap,Ck=new WeakMap,s_=new WeakMap;var o_,Rk;let Ez=class Yye extends ka{constructor(e,n,r=!1){super(e,n,r),o_.add(this);const i=this.memo.getType(Oj)[0],a=this.memo.getType(Pj)[0],s=this.memo.getType(Lj)[0],o=this.memo.getType(Dj)[0],l=this.page.alerts?.firstOfType(MC);if(l&&l.alert_type==="ERROR")throw new Pe(l.text.toString(),l);if(!a&&!s&&Object.keys(this.page).length===0)throw new Pe("Got empty continuation response. This is likely the end of the playlist.");this.info={...this.page.metadata?.item().as(Mj),subtitle:i?i.subtitle:null,author:s?.owner?.as(yR).author??i?.author,thumbnails:a?.thumbnail_renderer?.as(GC,VC).thumbnail,total_items:L(this,o_,"m",Rk).call(this,0,a),views:L(this,o_,"m",Rk).call(this,1,a),last_updated:L(this,o_,"m",Rk).call(this,2,a),can_share:i?.can_share,can_delete:i?.can_delete,can_reorder:o?.can_reorder,is_editable:o?.is_editable,privacy:i?.privacy},this.menu=a?.menu,this.endpoint=a?.endpoint,this.messages=this.memo.getType(Kd)}get items(){return mi(this.videos.as(uR,dR,mR).filter(e=>e.style!=="PLAYLIST_VIDEO_RENDERER_STYLE_RECOMMENDED_VIDEO"))}get has_continuation(){const e=this.memo.getType(ca)[0];return e?!!this.memo.getType(Fi).find(n=>!e.contents.includes(n)):super.has_continuation}async getContinuationData(){const e=this.memo.getType(ca)[0];if(!e)return await super.getContinuationData();const n=this.memo.getType(Fi).find(r=>!e.contents.includes(r));if(!n)throw new Pe("There are no continuations.");return await n.endpoint.call(this.actions,{parse:!0})}async getContinuation(){const e=await this.getContinuationData();if(!e)throw new Pe("Could not get continuation data");return new Yye(this.actions,e,!0)}};o_=new WeakSet,Rk=function(e,n){return!n||!n.stats?"N/A":n.stats[e]?.toString()||"N/A"};var o8,Xye;let vYe=class extends ka{constructor(e,n){if(super(e,n),o8.add(this),!this.page.contents_memo)throw new Pe("Page contents not found");this.header=this.memo.getType(d0)[0];const r=this.page.contents_memo.getType(pR);this.sections=r.map(i=>({type:i.icon_type,title:i.title,contents:i.content?.key("items").array()||[],getAll:()=>L(this,o8,"m",Xye).call(this,i)}))}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};o8=new WeakSet,Xye=async function(e){if(!e.menu?.as(wi).top_level_buttons)throw new Pe(`The ${e.title.text} shelf doesn't have more items`);const n=e.menu.as(wi).top_level_buttons.firstOfType(jt);if(!n)throw new Pe("Did not find target button.");const r=await n.as(jt).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new Ez(this.actions,r,!0);case"WATCH_HISTORY":return new xR(this.actions,r,!0);case"CONTENT_CUT":return new ka(this.actions,r,!0);default:throw new Pe("Target shelf not implemented.")}};var rf,Yp,qg,Cu,_c,ol;function wYe(t){const e=[];for(const n of t)if(Array.isArray(n))for(const r of n)e.push(r);else e.push(n);return e}class _Ye{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}}class SYe{constructor(){rf.set(this,void 0),Yp.set(this,void 0),qg.set(this,void 0),Cu.set(this,void 0),_c.set(this,void 0),ol.set(this,void 0),kt(this,rf,null,"f"),kt(this,Yp,null,"f"),kt(this,qg,null,"f"),kt(this,Cu,[],"f"),kt(this,_c,null,"f"),kt(this,ol,new _Ye,"f")}enqueueActionGroup(e){if(L(this,rf,"f")!==null){const n=Date.now()-L(this,rf,"f");L(this,ol,"f").back.push(n),5<L(this,ol,"f").front.length+L(this,ol,"f").back.length&&(L(this,ol,"f").front.length||(L(this,ol,"f").front=L(this,ol,"f").back,L(this,ol,"f").front.reverse(),L(this,ol,"f").back=[]),L(this,ol,"f").front.pop()),kt(this,Yp,Math.max(...L(this,ol,"f").getValues()),"f")}kt(this,rf,Date.now(),"f"),L(this,Cu,"f").push(e),L(this,_c,"f")===null&&kt(this,_c,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(kt(this,_c,null,"f"),L(this,Cu,"f").length){let e=1e4;L(this,Yp,"f")!==null&&L(this,rf,"f")!==null&&(e=L(this,Yp,"f")-Date.now()+L(this,rf,"f")),e=L(this,Cu,"f").length<e/80?1:Math.ceil(L(this,Cu,"f").length/(e/80));const n=wYe(L(this,Cu,"f").splice(0,e));L(this,qg,"f")&&L(this,qg,"f").call(this,n),L(this,Cu,"f")!==null&&(e==1?(e=L(this,Yp,"f")/L(this,Cu,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,kt(this,_c,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){L(this,_c,"f")!==null&&(clearTimeout(L(this,_c,"f")),kt(this,_c,null,"f")),kt(this,Cu,[],"f")}set callback(e){kt(this,qg,e,"f")}get callback(){return L(this,qg,"f")}get action_queue(){return L(this,Cu,"f")}get estimated_update_interval(){return L(this,Yp,"f")}get last_update_time(){return L(this,rf,"f")}get next_update_id(){return L(this,_c,"f")}get poll_response_delay_queue(){return L(this,ol,"f")}}rf=new WeakMap,Yp=new WeakMap,qg=new WeakMap,Cu=new WeakMap,_c=new WeakMap,ol=new WeakMap;var ws,ff,$_,Ik,n0,l_,u_,l8,Nk,Zye,Yg;class xYe extends bpe{constructor(e){super(),ws.add(this),ff.set(this,void 0),$_.set(this,void 0),Ik.set(this,void 0),n0.set(this,void 0),l_.set(this,void 0),u_.set(this,0),this.running=!1,this.is_replay=!1,kt(this,$_,e.basic_info.id,"f"),kt(this,Ik,e.basic_info.channel_id,"f"),kt(this,ff,e.actions,"f"),kt(this,n0,e.livechat?.continuation,"f"),this.is_replay=e.livechat?.is_replay||!1,this.smoothed_queue=new SYe,this.smoothed_queue.callback=async n=>{n.length?n.length<10?await L(this,ws,"m",Nk).call(this,n):this.is_replay?(L(this,ws,"m",Nk).call(this,n),await L(this,ws,"m",Yg).call(this,2e3)):L(this,ws,"m",Nk).call(this,n):await L(this,ws,"m",Yg).call(this,2e3),this.running&&L(this,ws,"m",l8).call(this)}}on(e,n){super.on(e,n)}once(e,n){super.once(e,n)}start(){this.running||(this.running=!0,L(this,ws,"m",l8).call(this),L(this,ws,"m",Zye).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}async sendMessage(e){const n=LWe.encode({params:{ids:{videoId:L(this,$_,"f"),channelId:L(this,Ik,"f")}},number0:1,number1:4}),r=btoa(encodeURIComponent(Vl(n.finish()))),i=await L(this,ff,"f").execute("/live_chat/send_message",{richMessage:{textSegments:[{text:e}]},clientMessageId:Hr.shim.uuidv4(),client:"WEB",parse:!0,params:r});if(!i.actions)throw new Pe("Unexpected response from send_message",i);return i.actions.array().as(FU,VB)}applyFilter(e){if(!this.initial_info)throw new Pe("Cannot apply filter before initial info is retrieved.");const n=this.initial_info?.header?.view_selector?.sub_menu_items;if(e==="TOP_CHAT"){if(n?.at(0)?.selected)return;kt(this,n0,n?.at(0)?.continuation,"f")}else{if(n?.at(1)?.selected)return;kt(this,n0,n?.at(1)?.continuation,"f")}}async getItemMenu(e){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(Me))throw new Pe("This item does not have a menu.",e);const n=await e.key("menu_endpoint").instanceof(Me).call(L(this,ff,"f"),{parse:!0});if(!n)throw new Pe("Could not retrieve item menu.",e);return new bYe(n,L(this,ff,"f"))}async selectButton(e){return await e.endpoint.call(L(this,ff,"f"),{parse:!0})}}ff=new WeakMap,$_=new WeakMap,Ik=new WeakMap,n0=new WeakMap,l_=new WeakMap,u_=new WeakMap,ws=new WeakSet,l8=function t(){(async()=>{var e,n;try{const r=await L(this,ff,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:L(this,n0,"f"),parse:!0}),i=r.continuation_contents;if(i||(this.emit("error",new Pe("Unexpected live chat incremental continuation response",r)),this.emit("end"),this.stop()),!(i instanceof bz)){this.stop(),this.emit("end");return}kt(this,n0,i.continuation.token,"f"),i.header?(this.initial_info=i,this.emit("start",i),this.running&&L(this,ws,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(i.actions),kt(this,u_,0,"f")}catch(r){this.emit("error",r),kt(this,u_,(n=L(this,u_,"f"),e=n++,n),"f"),e<10?(await L(this,ws,"m",Yg).call(this,2e3),L(this,ws,"m",t).call(this)):(this.emit("error",new Pe("Reached retry limit for incremental continuation requests",r)),this.emit("end"),this.stop())}})()},Nk=async function(e){let r=e.length<125?1:Math.ceil(e.length/125);const i=r==1?(r=1e4/e.length,r*=Math.random()+.5,r=Math.min(1e3,r),r=Math.max(80,r)):r=80;for(const a of e)await L(this,ws,"m",Yg).call(this,i),this.emit("chat-update",a)},Zye=function t(){(async()=>{try{const e={videoId:L(this,$_,"f")};L(this,l_,"f")&&(e.continuation=L(this,l_,"f"));const n=await L(this,ff,"f").execute("/updated_metadata",e),r=Hi(n.data);kt(this,l_,r.continuation?.token,"f"),this.metadata={title:r.actions?.array().firstOfType(WU)||this.metadata?.title,description:r.actions?.array().firstOfType(GU)||this.metadata?.description,views:r.actions?.array().firstOfType(YU)||this.metadata?.views,likes:r.actions?.array().firstOfType(KU)||this.metadata?.likes,date:r.actions?.array().firstOfType(VU)||this.metadata?.date},this.emit("metadata-update",this.metadata),await L(this,ws,"m",Yg).call(this,5e3),this.running&&L(this,ws,"m",t).call(this)}catch{await L(this,ws,"m",Yg).call(this,2e3),this.running&&L(this,ws,"m",t).call(this)}})()},Yg=async function(e){return new Promise(n=>setTimeout(()=>n(),e))};var Xp,c_;class kz{constructor(e,n){if(Xp.set(this,void 0),c_.set(this,void 0),kt(this,c_,e,"f"),kt(this,Xp,Hi(n.data),"f"),!L(this,Xp,"f").actions_memo)throw new Pe("Page actions not found");this.header=L(this,Xp,"f").actions_memo.getType(aj)[0],this.contents=L(this,Xp,"f").actions_memo.getType(_j)}async getContinuation(){const e=L(this,Xp,"f").actions_memo?.getType(Fi)[0];if(!e)throw new Pe("Continuation not found");const n=await e.endpoint.call(L(this,c_,"f"),{parse:!1});return new kz(L(this,c_,"f"),n)}get page(){return L(this,Xp,"f")}}Xp=new WeakMap,c_=new WeakMap;let EYe=class u8 extends ka{constructor(e,n,r=!1){super(e,n,r);const i=this.page.contents_memo?.getType(ca)[0].contents||this.page.on_response_received_commands?.[0].as(Wd,zm).contents;if(!i)throw new Pe("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(zj)),this.results=mi(i.filterType(nu).flatMap(a=>a.contents)),this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results||0,this.page.contents_memo&&(this.sub_menu=this.page.contents_memo.getType($j)[0],this.watch_card=this.page.contents_memo.getType(nz)[0]),this.refinement_cards=this.results?.firstOfType(LS)}async selectRefinementCard(e){let n;if(typeof e=="string"){if(!this.refinement_cards)throw new Pe("No refinement cards found.");if(n=this.refinement_cards?.cards.get({query:e})?.as(P1),!n)throw new Pe(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")n=e;else throw new Pe("Invalid refinement card!");const r=await n.endpoint.call(this.actions,{parse:!0});return new u8(this.actions,r,!0)}get refinement_card_queries(){return this.refinement_cards?.cards.as(P1).map(e=>e.query)||[]}async getContinuation(){const e=await this.getContinuationData();if(!e)throw new Pe("Could not get continuation data");return new u8(this.actions,e,!0)}};var Hg,d_;class Tz{constructor(e,n){if(Hg.set(this,void 0),d_.set(this,void 0),kt(this,d_,e,"f"),kt(this,Hg,Hi(n.data),"f"),this.sidebar=L(this,Hg,"f").sidebar?.as(Vj),!L(this,Hg,"f").contents)throw new Pe("Page contents not found");const r=L(this,Hg,"f").contents.item().as(kv).tabs.array().as(Fo).get({selected:!0});if(!r)throw new Pe("Target tab not found");const i=r.content?.as(ca).contents.as(nu);this.introduction=i?.shift()?.contents?.firstOfType(xj),this.sections=i?.map(a=>({title:a.header?.is(BS,eR,tR)?a.header.title.toString():null,contents:a.contents}))}async selectSidebarItem(e){if(!this.sidebar)throw new Pe("Sidebar not available");let n;if(typeof e=="string"){if(n=this.sidebar.items.get({title:e}),!n)throw new Pe(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e?.is(IS))n=e;else throw new Pe("Invalid item",{target_item:e});const r=await n.endpoint.call(L(this,d_,"f"),{parse:!1});return new Tz(L(this,d_,"f"),r)}getSettingOption(e){if(!this.sections)throw new Pe("Sections not available");for(const n of this.sections)if(n.contents)for(const r of n.contents){const i=r.as(z_).options;if(i){for(const a of i)if(a.is(fR)&&a.title?.toString()===e)return a}}throw new Pe(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new Pe("Sections not available");let e=[];for(const n of this.sections)if(n.contents)for(const r of n.contents)r.as(z_).options&&(e=e.concat(r.as(z_).options));return e.map(n=>n.title?.toString()).filter(n=>n)}get sidebar_items(){if(!this.sidebar)throw new Pe("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return L(this,Hg,"f")}}Hg=new WeakMap,d_=new WeakMap;var Zp;let Rne=class Qye extends SR{constructor(e,n,r){super(e,n,r),Zp.set(this,void 0);const[i,a]=this.page;if(this.streaming_data){const u=this.streaming_data.adaptive_formats.find(d=>d.audio_track?.audio_is_default);if(u)this.streaming_data.formats.forEach(d=>d.language=u.language);else if(this.captions?.caption_tracks&&this.captions?.caption_tracks.length>0){const h=this.captions.caption_tracks.find(p=>p.kind==="asr")?.language_code;this.streaming_data.adaptive_formats.forEach(p=>{p.has_audio&&(p.language=h)}),this.streaming_data.formats.forEach(p=>p.language=h)}}const s=a?.contents?.item().as(gR),o=s?.results,l=s?.secondary_results;if(o&&l){if(i.microformat?.is(kc)&&i.microformat?.category==="Gaming"){const p=o.firstOfType(WT)?.metadata?.rows?.firstOfType(GT);p?.is(GT)&&(this.game_info={title:p?.contents?.firstOfType(VT)?.title,release_year:p?.contents?.firstOfType(VT)?.subtitle})}this.primary_info=o.firstOfType(iz),this.secondary_info=o.firstOfType(WT),this.merchandise=o.firstOfType(sj),this.related_chip_cloud=l.firstOfType(Bj)?.content.as(Um),s?.playlist&&(this.playlist=s.playlist),this.watch_next_feed=l.firstOfType(nu)?.contents||l,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&this.watch_next_feed.at(-1)?.is(Fi)&&kt(this,Zp,this.watch_next_feed.pop()?.as(Fi),"f"),this.player_overlays=a?.player_overlays?.item().as($S),s?.autoplay&&(this.autoplay=s.autoplay);const u=this.primary_info?.menu?.top_level_buttons.firstOfType(db);u?.like_button?.is(to)&&u?.dislike_button?.is(to)&&(this.basic_info.like_count=u?.like_button?.like_count,this.basic_info.is_liked=u?.like_button?.is_toggled,this.basic_info.is_disliked=u?.dislike_button?.is_toggled);const d=this.primary_info?.menu?.top_level_buttons.firstOfType(t0);if(d&&(this.basic_info.like_count=d.like_count,d.like_button)){const p=d.like_button.like_status_entity.like_status;this.basic_info.is_liked=p==="LIKE",this.basic_info.is_disliked=p==="DISLIKE"}const h=o.get({target_id:"comments-entry-point"})?.as(nu);this.comments_entry_point_header=h?.contents?.firstOfType(ZB),this.livechat=a?.contents_memo?.getType(PU)[0]}}async selectFilter(e){if(!this.related_chip_cloud)throw new Pe("Chip cloud not found, cannot apply filter");let n;if(typeof e=="string"){const a=this.related_chip_cloud?.chips?.get({text:e});if(!a)throw new Pe("Invalid filter",{available_filters:this.filters});n=a}else if(e?.is(Do))n=e;else throw new Pe("Invalid cloud chip",e);if(n.is_selected)return this;const i=(await n.endpoint?.call(this.actions,{parse:!0}))?.on_response_received_endpoints?.get({target_id:"watch-next-feed"});return this.watch_next_feed=i?.as(Wd,zm).contents,this}async addToWatchHistory(){return super.addToWatchHistory()}async getWatchNextContinuation(){if(!L(this,Zp,"f"))throw new Pe("Watch next feed continuation not found");const n=(await L(this,Zp,"f")?.endpoint.call(this.actions,{parse:!0}))?.on_response_received_endpoints?.get({type:"AppendContinuationItemsAction"});if(!n)throw new Pe("AppendContinuationItemsAction not found");return this.watch_next_feed=n?.as(Wd,zm).contents,this.watch_next_feed?.at(-1)?.is(Fi)?kt(this,Zp,this.watch_next_feed.pop()?.as(Fi),"f"):kt(this,Zp,void 0,"f"),this}async like(){const e=this.primary_info?.menu?.top_level_buttons.firstOfType(t0);if(e){const i=e?.like_button?.toggle_button;if(!i||!i.default_button||!e.like_button)throw new Pe("Like button not found",{video_id:this.basic_info.id});if(e.like_button.like_status_entity.like_status==="LIKE")throw new Pe("This video is already liked",{video_id:this.basic_info.id});return await new Me(i.default_button.on_tap.payload.commands.find(o=>o.innertubeCommand)).call(this.actions)}const r=this.primary_info?.menu?.top_level_buttons.firstOfType(db)?.like_button;if(!r)throw new Pe("Like button not found",{video_id:this.basic_info.id});if(!r.is(to))throw new Pe("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(r.is_toggled)throw new Pe("This video is already liked",{video_id:this.basic_info.id});return await r.endpoint.call(this.actions)}async dislike(){const e=this.primary_info?.menu?.top_level_buttons.firstOfType(t0);if(e){const i=e?.dislike_button?.toggle_button;if(!i||!i.default_button||!e.dislike_button||!e.like_button)throw new Pe("Dislike button not found",{video_id:this.basic_info.id});if(e.like_button.like_status_entity.like_status==="DISLIKE")throw new Pe("This video is already disliked",{video_id:this.basic_info.id});return await new Me(i.default_button.on_tap.payload.commands.find(o=>o.innertubeCommand)).call(this.actions)}const r=this.primary_info?.menu?.top_level_buttons.firstOfType(db)?.dislike_button;if(!r)throw new Pe("Dislike button not found",{video_id:this.basic_info.id});if(!r.is(to))throw new Pe("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(r.is_toggled)throw new Pe("This video is already disliked",{video_id:this.basic_info.id});return await r.endpoint.call(this.actions)}async removeRating(){let e;const n=this.primary_info?.menu?.top_level_buttons.firstOfType(t0);if(n){const s=n?.like_button?.toggle_button;if(!s||!s.default_button||!n.like_button)throw new Pe("Like button not found",{video_id:this.basic_info.id});const o=n.like_button.like_status_entity.like_status;if(o==="LIKE")e=n?.like_button?.toggle_button;else if(o==="DISLIKE")e=n?.dislike_button?.toggle_button;else throw new Pe("This video is not liked/disliked",{video_id:this.basic_info.id});if(!e||!e.toggled_button)throw new Pe("Like/Dislike button not found",{video_id:this.basic_info.id});return await new Me(e.toggled_button.on_tap.payload.commands.find(u=>u.innertubeCommand)).call(this.actions)}const r=this.primary_info?.menu?.top_level_buttons.firstOfType(db),i=r?.like_button,a=r?.dislike_button;if(!i?.is(to)||!a?.is(to))throw new Pe("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(i?.is_toggled?e=i:a?.is_toggled&&(e=a),!e)throw new Pe("This video is not liked/disliked",{video_id:this.basic_info.id});return await e.toggled_endpoint.call(this.actions)}getLiveChat(){if(!this.livechat)throw new Pe("Live Chat is not available",{video_id:this.basic_info.id});return new xYe(this)}getTrailerInfo(){if(this.has_trailer&&this.playability_status?.error_screen){let e;if(this.playability_status.error_screen.is(HT)?e=this.playability_status.error_screen.trailer?.player_response:this.playability_status.error_screen.is(j1)&&(e=this.playability_status.error_screen.player_response),e)return new Qye([{data:e}],this.actions,this.cpn)}return null}get filters(){return this.related_chip_cloud?.chips?.map(e=>e.text?.toString())||[]}get wn_has_continuation(){return!!L(this,Zp,"f")}get autoplay_video_endpoint(){return this.autoplay?.sets?.[0]?.autoplay_video||null}get has_trailer(){return!!this.playability_status?.error_screen?.is(HT,j1)}get music_tracks(){const e=this.page[1]?.engagement_panels?.filter(n=>n.content?.is(D1));if(e!==void 0&&e.length>0){const n=e[0].content?.as(D1)?.items?.filterType(zC);if(n!==void 0&&n.length>0)return n[0].carousel_lockups?.map(r=>{let i,a,s,o,l,u;i=r.video_lockup?.title?.toString(),l=r.video_lockup?.endpoint.payload.videoId;for(let d=0;d<r.info_rows.length;d++){const h=r.info_rows[d];h.info_row_expand_status_key===void 0?i===void 0?(i=h.default_metadata?.toString()||h.expanded_metadata?.toString(),l===void 0&&(l=(h.default_metadata?.endpoint||h.expanded_metadata?.endpoint)?.payload?.videoId)):s=h.default_metadata?.toString()||h.expanded_metadata?.toString():(h.info_row_expand_status_key?.indexOf("structured-description-music-section-artists-row-state-id")!==-1&&(a=h.default_metadata?.toString()||h.expanded_metadata?.toString(),u===void 0&&(u=(h.default_metadata?.endpoint||h.expanded_metadata?.endpoint)?.payload?.browseId)),h.info_row_expand_status_key?.indexOf("structured-description-music-section-licenses-row-state-id")!==-1&&(o=h.default_metadata?.toString()||h.expanded_metadata?.toString()))}return{song:i,artist:a,album:s,license:o,videoId:l,channelId:u}})}return[]}};Zp=new WeakMap;var qy,h_;class Az{constructor(e,n){if(qy.set(this,void 0),h_.set(this,void 0),kt(this,qy,Hi(n.data),"f"),kt(this,h_,e,"f"),!L(this,qy,"f").actions_memo)throw new Error("Page actions not found");this.transcript=L(this,qy,"f").actions_memo.getType(OC)[0]}async selectLanguage(e){const n=this.transcript.content?.footer?.language_menu?.sub_menu_items?.find(i=>i.title.toString()===e);if(!n)throw new Error(`Language not found: ${e}`);if(n.selected)return this;const r=await L(this,h_,"f").execute("/get_transcript",{params:n.continuation});return new Az(L(this,h_,"f"),r)}get languages(){return this.transcript.content?.footer?.language_menu?.sub_menu_items?.map(e=>e.title.toString())||[]}get selectedLanguage(){return this.transcript.content?.footer?.language_menu?.sub_menu_items?.find(e=>e.selected)?.title.toString()||""}get page(){return L(this,qy,"f")}}qy=new WeakMap,h_=new WeakMap;var xd;class kYe{constructor(e){if(xd.set(this,void 0),kt(this,xd,Hi(e.data),"f"),!L(this,xd,"f").contents_memo)throw new Error("No contents found in the response");this.header=L(this,xd,"f").contents_memo.getType(sR,lR)?.[0],this.contents=L(this,xd,"f").contents_memo.getType(Ls)?.[0].contents||mi([]),this.sections=L(this,xd,"f").contents_memo.getType(ju)||mi([]),this.background=L(this,xd,"f").background,this.url=L(this,xd,"f").microformat?.as(c0).url_canonical}get page(){return L(this,xd,"f")}}xd=new WeakMap;var Hy,Ok;class TYe{constructor(e,n){Hy.set(this,void 0),Ok.set(this,void 0),kt(this,Hy,Hi(e.data),"f"),kt(this,Ok,n,"f"),this.header=this.page.header?.item().as(mj,wj,zS);const r=L(this,Hy,"f").contents_memo?.getType(Ls)||[],i=L(this,Hy,"f").contents_memo?.getType(ju)||[];this.sections=mi([...r,...i])}async getAllSongs(){const e=this.sections.filter(i=>i.type==="MusicShelf");if(!e.length)throw new Pe("Could not find any node of type MusicShelf.");const n=e.find(i=>i.title.toString()==="Songs");if(!n)throw new Pe("Could not find target shelf (Songs).");if(!n.endpoint)throw new Pe("Target shelf (Songs) did not have an endpoint.");return(await n.endpoint.call(L(this,Ok,"f"),{client:"YTMUSIC",parse:!0})).contents_memo?.getType(U1)?.[0]}get page(){return L(this,Hy,"f")}}Hy=new WeakMap,Ok=new WeakMap;var f_;class AYe{constructor(e){f_.set(this,void 0),kt(this,f_,Hi(e.data),"f");const n=L(this,f_,"f").contents?.item().as(HS).tabs.get({selected:!0});if(!n)throw new Pe("Could not find target tab.");const r=n.content?.as(ca);if(!r)throw new Pe("Target tab did not have any content.");this.top_buttons=r.contents.firstOfType(F1)?.items.as(iR)||[],this.sections=r.contents.filterType(ju)}get page(){return L(this,f_,"f")}}f_=new WeakMap;var Qp,Vg,Gg;let CYe=class c8{constructor(e,n){Qp.set(this,void 0),Vg.set(this,void 0),Gg.set(this,void 0),kt(this,Vg,n,"f"),kt(this,Qp,Hi(e.data),"f");const r=L(this,Qp,"f").contents?.item().as(HS).tabs.get({selected:!0});if(!r)throw new Pe("Could not find Home tab.");if(r.content===null){if(!L(this,Qp,"f").continuation_contents)throw new Pe("Continuation did not have any content.");kt(this,Gg,L(this,Qp,"f").continuation_contents.as(S0).continuation,"f"),this.sections=L(this,Qp,"f").continuation_contents.as(S0).contents?.as(ju);return}this.header=r.content?.as(ca).header?.as(Um),kt(this,Gg,r.content?.as(ca).continuation,"f"),this.sections=r.content?.as(ca).contents.as(ju,vj)}async getContinuation(){if(!L(this,Gg,"f"))throw new Pe("Continuation not found.");const e=await L(this,Vg,"f").execute("/browse",{client:"YTMUSIC",continuation:L(this,Gg,"f")});return new c8(e,L(this,Vg,"f"))}async applyFilter(e){let n;if(typeof e=="string"){if(n=this.header?.chips?.as(Do).get({text:e}),!n)throw new Pe("Could not find filter with given name.",{available_filters:this.filters})}else e?.is(Do)&&(n=e);if(!n)throw new Pe("Invalid filter",{available_filters:this.filters});if(n?.is_selected)return this;if(!n.endpoint)throw new Pe("Selected filter does not have an endpoint.");const r=await n.endpoint.call(L(this,Vg,"f"),{client:"YTMUSIC"});return new c8(r,L(this,Vg,"f"))}get filters(){return this.header?.chips?.as(Do).map(e=>e.text)||[]}get has_continuation(){return!!L(this,Gg,"f")}get page(){return L(this,Qp,"f")}};Qp=new WeakMap,Vg=new WeakMap,Gg=new WeakMap;var Ed,Jp,Vy,Gy,p_,Wy;class Cz{constructor(e,n){Ed.set(this,void 0),Jp.set(this,void 0),Vy.set(this,void 0),kt(this,Ed,Hi(e.data),"f"),kt(this,Jp,n,"f");const r=L(this,Ed,"f").contents_memo?.getType(ca)[0];this.header=r?.header?.as(yj),this.contents=r?.contents?.as(F1,Ls),kt(this,Vy,this.contents?.find(i=>i.continuation)?.continuation,"f")}async applySort(e){let n;if(typeof e=="string"){const o=L(this,Ed,"f").contents_memo?.getType(qT)[0]?.menu?.options.filter(l=>l instanceof u0);if(n=o?.find(l=>l.title===e),!n)throw new Pe(`Sort option "${e}" not found`,{available_filters:o.map(l=>l.title)})}else n=e;if(!n.endpoint)throw new Pe("Invalid sort option");if(n.selected)return this;const r=n.endpoint.payload?.commands?.find(s=>s.browseSectionListReloadEndpoint)?.browseSectionListReloadEndpoint;if(!r)throw new Pe("Failed to find sort option command");const i=await L(this,Jp,"f").execute("/browse",{client:"YTMUSIC",continuation:r.continuation.reloadContinuationData.continuation,parse:!0}),a=L(this,Ed,"f").contents_memo?.getType(u0)?.find(s=>s.selected);return a&&(a.selected=!1),n.selected=!0,this.contents=i.continuation_contents?.as(S0).contents?.as(F1,Ls),this}async applyFilter(e){let n;const r=L(this,Ed,"f").contents_memo?.getType(Um)[0];if(typeof e=="string"){if(n=r?.chips.get({text:e}),!n)throw new Pe(`Filter "${e}" not found`,{available_filters:this.filters})}else n=e;if(!n.endpoint)throw new Pe("Invalid filter",e);const a=await new Me(n.endpoint.payload?.commands?.[0]).call(L(this,Jp,"f"),{client:"YTMUSIC"});return new Cz(a,L(this,Jp,"f"))}async getContinuation(){if(!L(this,Vy,"f"))throw new Pe("No continuation available");const e=await L(this,Jp,"f").execute("/browse",{client:"YTMUSIC",continuation:L(this,Vy,"f")});return new Rz(e,L(this,Jp,"f"))}get has_continuation(){return!!L(this,Vy,"f")}get sort_options(){return(L(this,Ed,"f").contents_memo?.getType(qT)[0]?.menu?.options.filter(r=>r instanceof u0)).map(r=>r.title)}get filters(){return L(this,Ed,"f").contents_memo?.getType(Um)?.[0].chips.map(e=>e.text)||[]}get page(){return L(this,Ed,"f")}}Ed=new WeakMap,Jp=new WeakMap,Vy=new WeakMap;class Rz{constructor(e,n){if(Gy.set(this,void 0),p_.set(this,void 0),Wy.set(this,void 0),kt(this,Gy,Hi(e.data),"f"),kt(this,p_,n,"f"),!L(this,Gy,"f").continuation_contents)throw new Pe("No continuation contents found");this.contents=L(this,Gy,"f").continuation_contents.as(wR,mz),kt(this,Wy,this.contents.continuation||null,"f")}async getContinuation(){if(!L(this,Wy,"f"))throw new Pe("No continuation available");const e=await L(this,p_,"f").execute("/browse",{client:"YTMUSIC",continuation:L(this,Wy,"f")});return new Rz(e,L(this,p_,"f"))}get has_continuation(){return!!L(this,Wy,"f")}get page(){return L(this,Gy,"f")}}Gy=new WeakMap,p_=new WeakMap,Wy=new WeakMap;var d8,To,am,kd,Ky,q_,Jye;class ER{constructor(e,n){if(d8.add(this),To.set(this,void 0),am.set(this,void 0),kd.set(this,void 0),Ky.set(this,void 0),q_.set(this,void 0),kt(this,am,n,"f"),kt(this,To,Hi(e.data),"f"),kt(this,Ky,null,"f"),kt(this,q_,null,"f"),L(this,To,"f").continuation_contents){const r=L(this,To,"f").continuation_contents?.as(pz);if(!r.contents)throw new Pe("No contents found in the response");this.contents=r.contents.as(_f,Fi);const i=this.contents.firstOfType(Fi);kt(this,kd,r.continuation||i,"f")}else if(L(this,To,"f").contents_memo){this.header=L(this,To,"f").contents_memo.getType(lR,pj,sR)?.[0],this.contents=L(this,To,"f").contents_memo.getType(U1)?.[0]?.contents.as(_f,Fi)||mi([]),this.background=L(this,To,"f").background;const r=this.contents.firstOfType(Fi);kt(this,kd,L(this,To,"f").contents_memo.getType(U1)?.[0]?.continuation||r,"f")}else if(L(this,To,"f").on_response_received_actions){const r=L(this,To,"f").on_response_received_actions.firstOfType(Wd);this.contents=r?.contents?.as(_f,Fi),kt(this,kd,this.contents?.firstOfType(Fi),"f")}}async getContinuation(){if(!L(this,kd,"f"))throw new Pe("Continuation not found.");let e;return typeof L(this,kd,"f")=="string"?e=await L(this,am,"f").execute("/browse",{client:"YTMUSIC",continuation:L(this,kd,"f")}):e=await L(this,kd,"f").endpoint.call(L(this,am,"f"),{client:"YTMUSIC"}),new ER(e,L(this,am,"f"))}async getRelated(){const e=L(this,To,"f").contents_memo?.getType(ca).find(r=>r.continuation);if(!e)throw new Pe('Could not find "Related" section.');let n=e.continuation;for(;n;){const i=(await L(this,am,"f").execute("/browse",{client:"YTMUSIC",continuation:n,parse:!0})).continuation_contents?.as(S0),s=i?.contents?.as(ju,Ls)?.find(o=>o.is(ju))?.as(ju);if(s)return s;n=i?.continuation}throw new Pe("Could not fetch related playlists.")}async getSuggestions(e=!0){const i=await(e||!L(this,Ky,"f")?L(this,d8,"m",Jye).call(this):Promise.resolve(null));return i&&(kt(this,Ky,i.items,"f"),kt(this,q_,i.continuation,"f")),i?.items||L(this,Ky,"f")||mi([])}get page(){return L(this,To,"f")}get items(){return this.contents||mi([])}get has_continuation(){return!!L(this,kd,"f")}}To=new WeakMap,am=new WeakMap,kd=new WeakMap,Ky=new WeakMap,q_=new WeakMap,d8=new WeakSet,Jye=async function(){const e=L(this,To,"f").contents_memo?.getType(ca).find(r=>r.continuation),n=L(this,q_,"f")||e?.continuation;if(n){const s=(await L(this,am,"f").execute("/browse",{client:"YTMUSIC",continuation:n,parse:!0})).continuation_contents?.as(S0)?.contents?.as(ju,Ls)?.find(o=>o.is(Ls))?.as(Ls);return{items:s?.contents||mi([]),continuation:s?.continuation||null}}return{items:mi([]),continuation:null}};var em,m_;class RYe{constructor(e,n){em.set(this,void 0),m_.set(this,void 0),kt(this,em,Hi(e.data),"f"),kt(this,m_,n,"f");const r=L(this,em,"f").header?.item();this.header=r?.is($T)?L(this,em,"f").header?.item().as($T).element?.model?.as(zT):L(this,em,"f").header?.item().as(zS);const i=L(this,em,"f").contents?.item().as(HS).tabs.firstOfType(Fo);if(!i)throw new Pe("Target tab not found");this.sections=i.content?.as(ca).contents.as(nu,ju,Kd)}async getPlaylist(){if(!this.header)throw new Pe("Header not found");if(!this.header.is(zT))throw new Pe("Recap playlist not available, check back later.");const n=await this.header.panels[0].text_on_tap_endpoint.call(L(this,m_,"f"),{client:"YTMUSIC"});return new ER(n,L(this,m_,"f"))}get page(){return L(this,em,"f")}}em=new WeakMap,m_=new WeakMap;var Td,af,Yy,g_,Xy;let IYe=class h8{constructor(e,n,r){if(Td.set(this,void 0),af.set(this,void 0),Yy.set(this,void 0),kt(this,af,n,"f"),kt(this,Td,Hi(e.data),"f"),!L(this,Td,"f").contents||!L(this,Td,"f").contents_memo)throw new Pe("Response did not contain any contents.");const i=L(this,Td,"f").contents.item().as(Jj).tabs.get({selected:!0});if(!i)throw new Pe("Could not find target tab.");const a=i.content?.as(ca);if(!a)throw new Pe("Target tab did not have any content.");this.header=a.header?.as(Um),this.contents=a.contents.as(Ls,uj,nu),r&&kt(this,Yy,this.contents.firstOfType(Ls)?.continuation,"f")}async getMore(e){if(!e||!e.endpoint)throw new Pe("Cannot retrieve more items for this shelf because it does not have an endpoint.");const n=await e.endpoint.call(L(this,af,"f"),{client:"YTMUSIC"});if(!n)throw new Pe("Endpoint did not return any data");return new h8(n,L(this,af,"f"),!0)}async getContinuation(){if(!L(this,Yy,"f"))throw new Pe("Continuation not found.");const e=await L(this,af,"f").execute("/search",{continuation:L(this,Yy,"f"),client:"YTMUSIC"});return new Iz(L(this,af,"f"),e)}async applyFilter(e){let n;if(typeof e=="string"){if(n=this.header?.chips?.as(Do).get({text:e}),!n)throw new Pe("Could not find filter with given name.",{available_filters:this.filters})}else e?.is(Do)&&(n=e);if(!n)throw new Pe("Invalid filter",{available_filters:this.filters});if(n?.is_selected)return this;if(!n.endpoint)throw new Pe("Selected filter does not have an endpoint.");const r=await n.endpoint.call(L(this,af,"f"),{client:"YTMUSIC"});return new h8(r,L(this,af,"f"),!0)}get filters(){return this.header?.chips?.as(Do).map(e=>e.text)||[]}get has_continuation(){return!!L(this,Yy,"f")}get did_you_mean(){return L(this,Td,"f").contents_memo?.getType(cU)[0]}get showing_results_for(){return L(this,Td,"f").contents_memo?.getType(Yj)[0]}get message(){return L(this,Td,"f").contents_memo?.getType(Kd)[0]}get songs(){return this.contents?.filterType(Ls).find(e=>e.title.toString()==="Songs")}get videos(){return this.contents?.filterType(Ls).find(e=>e.title.toString()==="Videos")}get albums(){return this.contents?.filterType(Ls).find(e=>e.title.toString()==="Albums")}get artists(){return this.contents?.filterType(Ls).find(e=>e.title.toString()==="Artists")}get playlists(){return this.contents?.filterType(Ls).find(e=>e.title.toString()==="Community playlists")}get page(){return L(this,Td,"f")}};Td=new WeakMap,af=new WeakMap,Yy=new WeakMap;class Iz{constructor(e,n){g_.set(this,void 0),Xy.set(this,void 0),kt(this,g_,e,"f"),kt(this,Xy,Hi(n.data),"f"),this.header=L(this,Xy,"f").header?.item().as(zS),this.contents=L(this,Xy,"f").continuation_contents?.as(wR)}async getContinuation(){if(!this.contents?.continuation)throw new Pe("Continuation not found.");const e=await L(this,g_,"f").execute("/search",{continuation:this.contents.continuation,client:"YTMUSIC"});return new Iz(L(this,g_,"f"),e)}get has_continuation(){return!!this.contents?.continuation}get page(){return L(this,Xy,"f")}}g_=new WeakMap,Xy=new WeakMap;class Ine extends SR{constructor(e,n,r){super(e,n,r);const i=this.page[1];if(i){const a=i.contents_memo?.getType(sz)?.[0];this.tabs=a?.tabs.array().as(Fo),this.current_video_endpoint=i.current_video_endpoint,this.player_overlays=i.player_overlays?.item().as($S)}}async getTab(e){if(!this.tabs)throw new Pe("Could not find any tab");const n=this.tabs.get({title:e})||this.tabs.find(i=>i.endpoint.payload.browseEndpointContextSupportedConfigs?.browseEndpointContextMusicConfig?.pageType===e)||this.tabs?.[0];if(!n)throw new Pe(`Tab "${e}" not found`,{available_tabs:this.available_tabs});if(n.content)return n.content;const r=await n.endpoint.call(this.actions,{client:"YTMUSIC",parse:!0});if(r.contents?.item().type==="Message")return r.contents.item().as(Kd);if(!r.contents)throw new Pe("Page contents was empty",r);return r.contents.item().as(ca).contents}async getUpNext(e=!0){const n=await this.getTab("Up next");if(!n||!n.content)throw new Pe("Music queue was empty, the video id is probably invalid.",n);const r=n.content.as(wm);if(!r.playlist_id&&e){const i=r.contents.firstOfType(NS);if(!i)throw new Pe("Automix item not found");const a=await i.playlist_video?.endpoint.call(this.actions,{videoId:this.basic_info.id,client:"YTMUSIC",parse:!0});if(!a||!a.contents_memo)throw new Pe("Could not fetch automix");return a.contents_memo.getType(wm)?.[0]}return r}async getUpNextContinuation(e){if(!this.current_video_endpoint)throw new Pe("Current Video Endpoint was not defined.",this.current_video_endpoint);if(e instanceof wm&&e.playlist_id!==this.current_video_endpoint.payload.playlistId)throw new Pe("PlaylistId from TrackInfo does not match with PlaylistPanel");const r=await new Me({watchNextEndpoint:{...this.current_video_endpoint.payload,continuation:e.continuation}}).call(this.actions,{...this.current_video_endpoint.payload,continuation:e.continuation,client:"YTMUSIC",parse:!0}),i=r.continuation_contents?.as(gz);if(!i)throw new Pe("No PlaylistPanel Continuation available.",r);return i}async getRelated(){return await this.getTab("MUSIC_PAGE_TYPE_TRACK_RELATED")}async getLyrics(){return(await this.getTab("MUSIC_PAGE_TYPE_TRACK_LYRICS")).firstOfType(jS)}async addToWatchHistory(){return super.addToWatchHistory(Zn.YTMUSIC.NAME,Zn.YTMUSIC.VERSION,"https://music.")}get available_tabs(){return this.tabs?this.tabs.map(e=>e.title):[]}}class Nz extends ka{constructor(e,n,r=!1){super(e,n,r),this.header=this.page.header?.item().as(Tb),this.contents=this.memo.getType(nu)[0]||this.page.continuation_contents?.as(hz)}async getContinuation(){if(!this.contents)throw new Error("No continuation available.");const n=await new Me({continuationCommand:{token:this.contents.continuation,request:"CONTINUATION_REQUEST_TYPE_BROWSE"}}).call(this.actions,{client:"YTKIDS"});return new Nz(this.actions,n)}get has_continuation(){return!!this.contents?.continuation}}class Oz extends ka{constructor(e,n,r=!1){super(e,n,r),this.header=this.page.header?.item().as(lz),this.contents=this.page.contents?.item().as(uz)}async selectCategoryTab(e){let n;if(typeof e=="string"?n=this.header?.category_tabs.find(i=>i.title.toString()===e):e?.is(vR)&&(n=e),!n)throw new Pe(`Tab "${e}" not found`);const r=await n.endpoint.call(this.actions,{client:"YTKIDS",parse:!0});return r.header=this.page.header,r.header_memo=this.page.header_memo,new Oz(this.actions,r,!0)}get categories(){return this.header?.category_tabs.map(e=>e.title.toString())||[]}}class NYe extends ka{constructor(e,n){super(e,n),this.estimated_results=this.page.estimated_results;const r=this.memo.getType(nu)[0];if(!r)throw new Pe("No item section found in search response.");this.contents=r.contents}}class OYe extends SR{constructor(e,n,r){super(e,n,r);const i=this.page[1],a=i?.contents?.item().as(gR),s=a?.results,o=a?.secondary_results;s&&o&&(this.slim_video_metadata=s.firstOfType(nu)?.contents?.firstOfType(Xj),this.watch_next_feed=o.firstOfType(nu)?.contents||o,this.current_video_endpoint=i?.current_video_endpoint,this.player_overlays=i?.player_overlays?.item().as($S))}}var Wg;class MYe extends SR{constructor(e,n,r,i){if(super(e,n,r),Wg.set(this,void 0),i){const a=Hi(i.data);a.entries&&(this.watch_next_feed=a.entries),a.continuation_endpoint&&kt(this,Wg,a.continuation_endpoint?.as(YT),"f")}}async getWatchNextContinuation(){if(!L(this,Wg,"f"))throw new Pe("Continuation not found");const e=await this.actions.execute("/reel/reel_watch_sequence",{sequenceParams:L(this,Wg,"f").token,parse:!0});return e.entries&&(this.watch_next_feed=e.entries),kt(this,Wg,e.continuation_endpoint?.as(YT),"f"),this}get wn_has_continuation(){return!!L(this,Wg,"f")}}Wg=new WeakMap;class oi{constructor(e,n,r,i){const a=new Y(e);this.id=i||a?.runs?.[0]?.endpoint?.payload?.browseId||a?.endpoint?.payload?.browseId||"N/A",this.name=a?.text||"N/A",this.thumbnails=r?xt.fromResponse(r):[],this.endpoint=a?.runs?.[0]?.endpoint||a?.endpoint,n?Array.isArray(n)?(this.badges=yt(n),this.is_moderator=this.badges?.some(s=>s.icon_type=="MODERATOR"),this.is_verified=this.badges?.some(s=>s.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=this.badges?.some(s=>s.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST")):(this.badges=mi([]),this.is_verified=!!n.isVerified,this.is_verified_artist=!!n.isArtist):this.badges=mi([]),this.url=a?.runs?.[0]?.endpoint?.metadata?.api_url==="/browse"&&`${za.YT_BASE}${a?.runs?.[0]?.endpoint?.payload?.canonicalBaseUrl||`/u/${a?.runs?.[0]?.endpoint?.payload?.browseId}`}`||`${za.YT_BASE}${a?.endpoint?.payload?.canonicalBaseUrl||`/u/${a?.endpoint?.payload?.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}}const PYe={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};class zr{constructor(e,n){this.node=e,this.visitor=n}run(){}}class LYe extends zr{run(){return this.node.elements.map(e=>this.visitor.visitNode(e))}}const Mz=(t,e)=>Object.defineProperty(e,"name",{value:t});class QT extends Error{constructor(e,n){super(e),n&&(this.info=n)}}class DYe extends zr{run(){const{params:e,body:n}=this.node;return Mz("anonymous function",i=>{let a=0;for(const s of e)this.visitor.visitNode(s),s.type==="Identifier"?this.visitor.scope.set(s.name,i[a]):console.warn("Unhandled param type",s.type),a++;return this.visitor.visitNode(n)})}}class kR extends zr{handleMemberExpression(e,n,r){const i=this.visitor.visitNode(e.object),a=this.visitor.visitNode(e.property),s=i[a],o=r(s,n);return i[a]=o}handleIdentifier(e,n,r){const i=this.visitor.visitNode(e),a=r(i,n);return this.visitor.scope.set(e.name,a),this.visitor.scope.get(e.name)}run(){const{operator:e,left:n,right:r}=this.node,i=this.visitor.visitNode(r),a=kR.operatorMap[e];if(!a){console.warn("Unhandled operator:",e);return}if(n.type==="MemberExpression")return this.handleMemberExpression(n,i,a);if(n.type==="Identifier")return this.handleIdentifier(n,i,a);console.warn("Unhandled left node type:",n.type)}}kR.operatorMap={"=":(t,e)=>e,"+=":(t,e)=>t+e,"-=":(t,e)=>t-e,"*=":(t,e)=>t*e,"/=":(t,e)=>t/e,"%=":(t,e)=>t%e,"**=":(t,e)=>t**e,"<<=":(t,e)=>t<<e,">>=":(t,e)=>t>>e,">>>=":(t,e)=>t>>>e,"&=":(t,e)=>t&e,"^=":(t,e)=>t^e,"|=":(t,e)=>t|e};class TR extends zr{run(){const{operator:e,left:n,right:r}=this.node,i=this.visitor.visitNode(n),a=this.visitor.visitNode(r),s=TR.operatorMap[e];if(!s){console.warn("Unhandled binary operator:",e);return}return s(i,a)}}TR.operatorMap={"!=":(t,e)=>t!=e,"!==":(t,e)=>t!==e,"==":(t,e)=>t==e,"===":(t,e)=>t===e,"<":(t,e)=>t<e,"<=":(t,e)=>t<=e,">":(t,e)=>t>e,">=":(t,e)=>t>=e,"+":(t,e)=>t+e,"-":(t,e)=>t-e,"*":(t,e)=>t*e,"/":(t,e)=>t/e,"%":(t,e)=>t%e,"**":(t,e)=>t**e,"&":(t,e)=>t&e,"|":(t,e)=>t|e,"^":(t,e)=>t^e,"<<":(t,e)=>t<<e,">>":(t,e)=>t>>e,">>>":(t,e)=>t>>>e,in:(t,e)=>t in e,instanceof:(t,e)=>t instanceof e};class FYe extends zr{run(){for(const e of this.node.body){const n=this.visitor.visitNode(e);if(e.type==="ReturnStatement"||n==="$jintr_break_"||n==="$jintr_continue_"||(e.type==="WhileStatement"||e.type==="IfStatement"||e.type==="ForStatement"||e.type==="TryStatement")&&n)return n}}}class BYe extends zr{run(){return"$jintr_break_"}}var H_=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},r0,Mk,Nne;class UYe extends zr{constructor(){super(...arguments),r0.add(this)}run(){let e,n;if(this.node.callee.type==="MemberExpression"?(e=this.visitor.getName(this.node.callee.object),n=this.visitor.getName(this.node.callee.property)):this.node.callee.type==="Identifier"&&(n=this.node.callee.name),e&&this.visitor.listeners[e]){const a=this.visitor.listeners[e](this.node,this.visitor);if(a!=="__continue_exec")return a}if(n&&n!=="toString"&&this.visitor.listeners[n]){const a=this.visitor.listeners[n](this.node,this.visitor);if(a!=="__continue_exec")return a}if(this.node.callee.type==="MemberExpression"){if(f8.has(this.node,this.visitor))return f8.execute(this.node,this.visitor);const a=this.visitor.visitNode(this.node.callee.object),s=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),o=this.node.arguments.map(l=>this.visitor.visitNode(l));return a||H_(this,r0,"m",Mk).call(this),typeof a[s]!="function"&&H_(this,r0,"m",Mk).call(this),a[s].toString().includes("[native code]")?a[s](...o):a[s](o)}const r=this.visitor.visitNode(this.node.callee),i=this.node.arguments.map(a=>this.visitor.visitNode(a));return typeof r!="function"&&H_(this,r0,"m",Mk).call(this),r(i)}}r0=new WeakSet,Mk=function(){if(this.node.callee.type==="MemberExpression"||this.node.callee.type==="Identifier"){const e=H_(this,r0,"m",Nne).call(this,this.node.callee);throw new QT(`${e} is not a function`)}else if(this.node.callee.type==="SequenceExpression"){const e=[],n=[];throw e.push("("),this.node.callee.expressions.forEach(r=>{r.type==="Literal"?n.push(r.raw||""):r.type==="Identifier"?n.push(r.name):r.type==="MemberExpression"&&(r.computed?n.push(`${this.visitor.getName(r.object)}[${this.visitor.getName(r.property)||"..."}]`):n.push(`${this.visitor.getName(r.object)}.${this.visitor.getName(r.property)}`))}),e.push(n.join(", ")),e.push(")"),new QT(`${e.join("")} is not a function`)}},Nne=function t(e){if(e.type==="Identifier")return e.name;if(e.type==="MemberExpression"){const n=H_(this,r0,"m",t).call(this,e.object),r=e.computed?`[${this.visitor.getName(e.property)||"..."}]`:`.${this.visitor.getName(e.property)}`;return`${n}${r}`}return"<unknown>"};class f8{static has(e,n){return e.callee.type==="MemberExpression"?!!this.builtins?.[n.getName(e.callee.property)||""]:!1}static execute(e,n){if(e.callee.type==="MemberExpression")return this.builtins[n.getName(e.callee.property)||""](e,n)}}f8.builtins={forEach:(t,e)=>{const n=t.arguments.map(r=>e.visitNode(r));if(t.callee.type==="MemberExpression"){const r=e.visitNode(t.callee.object);n.length>1&&e.scope.set("_this",n.slice(-1)[0]);let i=0;for(const a of r)n[0]([a,i++,r])}else console.warn("Unhandled callee type:",t.callee.type)},toString:(t,e)=>{if(t.callee.type==="MemberExpression")return e.visitNode(t.callee.object).toString()}};class jYe extends zr{run(){const{test:e,consequent:n,alternate:r}=this.node;return this.visitor.visitNode(e)?this.visitor.visitNode(n):this.visitor.visitNode(r)}}class zYe extends zr{run(){return"$jintr_continue_"}}class $Ye extends zr{run(){}}class qYe extends zr{run(){return this.visitor.visitNode(this.node.expression)}}class HYe extends zr{run(){this.visitor.visitNode(this.node.left);const e=this.visitor.visitNode(this.node.right);for(const n of e){if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="Identifier")this.visitor.scope.set(this.node.left.declarations[0].id.name,n);else if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="ObjectPattern")for(const i of this.node.left.declarations[0].id.properties)i.type==="Property"&&i.value.type==="Identifier"&&i.key.type==="Identifier"&&this.visitor.scope.set(i.value.name,n[i.key.name]);const r=this.visitor.visitNode(this.node.body);if(r==="$jintr_break_")break;if(r!=="$jintr_continue_"&&r&&this.node.body.type!=="ExpressionStatement")return r}}}class VYe extends zr{run(){this.node.init&&this.visitor.visitNode(this.node.init);const e=()=>this.node.test?this.visitor.visitNode(this.node.test):!0;for(;e();){const r=this.visitor.visitNode(this.node.body);if(r!=="$jintr_continue_"){if(r==="$jintr_break_")break;if(this.node.update&&this.visitor.visitNode(this.node.update),r&&this.node.body.type!=="ExpressionStatement")return r}}}}class GYe extends zr{run(){const{params:e,body:n}=this.node,r=this.visitor.visitNode(this.node.id),i=Mz(r,a=>{let s=0;for(const o of e)this.visitor.visitNode(o),o.type==="Identifier"?this.visitor.scope.set(o.name,a[s]):console.warn("Unhandled param type",o.type),s++;return this.visitor.visitNode(n)});this.visitor.scope.set(r,i)}}class WYe extends zr{run(){const{params:e,body:n}=this.node;return Mz("anonymous function",i=>{let a=0;for(const s of e)this.visitor.visitNode(s),s.type==="Identifier"?this.visitor.scope.set(s.name,i[a]):console.warn("Unhandled param type",s.type),a++;return this.visitor.visitNode(n)})}}class KYe extends zr{run(){if(this.visitor.listeners[this.node.name]){const e=this.visitor.listeners[this.node.name](this.node,this.visitor);if(e!=="__continue_exec")return e}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}}class YYe extends zr{run(){if(this.visitor.visitNode(this.node.test))return this.visitor.visitNode(this.node.consequent);if(this.node.alternate)return this.visitor.visitNode(this.node.alternate)}}class XYe extends zr{run(){return this.node.value}}class AR extends zr{run(){const{operator:e,left:n,right:r}=this.node,i=AR.operatorMap[e];if(!i){console.warn("Unhandled logical operator:",e);return}return i(this.visitor,n,r)}}AR.operatorMap={"&&":(t,e,n)=>{const r=t.visitNode(e);return r===!0?t.visitNode(n):r},"||":(t,e,n)=>t.visitNode(e)||t.visitNode(n),"??":(t,e,n)=>{const r=(s,o)=>o&&s==="undefined"?void 0:s,i=r(t.visitNode(e),e.type==="Identifier"),a=r(t.visitNode(n),n.type==="Identifier");return i??a}};class ZYe extends zr{run(){const{object:e,property:n,computed:r}=this.node,i=this.visitor.visitNode(e),a=r?this.visitor.visitNode(n):this.visitor.getName(n);if(a!==void 0||a!==null){if(this.visitor.listeners[a]){const s=this.visitor.listeners[a](this.node,this.visitor);if(s!=="__continue_exec")return s}return i?.[a]}}}class QYe extends zr{run(){const e=this.visitor.visitNode(this.node.callee),n=this.node.arguments.map(r=>this.visitor.visitNode(r));return n.length?new e(n):new e}}class JYe extends zr{run(){let e={};for(const n of this.node.properties)if(n.type==="Property")e={...e,...this.visitor.visitNode(n)};else throw new Error(`Unhandled property type: ${n.type}`);return e}}var ID=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},y_,ebe,tbe,nbe;class eXe extends zr{constructor(){super(...arguments),y_.add(this)}run(){switch(this.node.kind){case"init":return ID(this,y_,"m",ebe).call(this);case"get":return ID(this,y_,"m",tbe).call(this);case"set":return ID(this,y_,"m",nbe).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}}y_=new WeakSet,ebe=function(){const e=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),n=this.visitor.visitNode(this.node.value);if(e)return{[e]:n}},tbe=function(){throw new TypeError("Not implemented: Property.get")},nbe=function(){throw new TypeError("Not implemented: Property.set")};class tXe extends zr{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}}class nXe extends zr{run(){let e;for(const n of this.node.expressions)e=this.visitor.visitNode(n);return e}}class rXe extends zr{run(){for(const e of this.node.consequent){const n=this.visitor.visitNode(e);if(e.type==="ContinueStatement"||e.type==="BreakStatement")return n}}}class iXe extends zr{run(){const e=this.visitor.visitNode(this.node.discriminant);let n=!1,r=-1,i=0;for(;;){const a=this.node.cases[i];if(n){const s=this.visitor.visitNode(a);if(s==="$jintr_break_")break;if(s==="$jintr_continue_")return s;if(++i,i>=this.node.cases.length){i=0;break}else continue}if(n=a&&e===this.visitor.visitNode(a.test),n===void 0&&i>this.node.cases.length)break;if(a&&!n&&!a.test){r=i,i+=1;continue}if(!a&&!n&&r!==-1){n=!0,i=r;continue}n||++i}}}class aXe extends zr{run(){let e="";for(let n=0;n<this.node.quasis.length;++n){const r=this.node.quasis[n];if(r.type==="TemplateElement"){if(r.value.cooked===null)throw new Error(`Invalid template literal: ${r.value.raw}`);if(r.value.cooked!==void 0&&(e+=r.value.cooked),!r.tail){const i=this.node.expressions[n];if(i!==void 0)e+=this.visitor.visitNode(i);else throw new Error(`Expected expression after: ${r.value}`)}}else throw new Error(`Unhandled quasi type: ${r.type}`)}return e}}class sXe extends zr{run(){return this.visitor.scope.get("_this")}}class oXe extends zr{run(){throw this.visitor.visitNode(this.node.argument)}}class lXe extends zr{run(){try{return this.visitor.visitNode(this.node.block)}catch(e){if(this.node.handler)return this.node.handler.param&&this.node.handler.param.type==="Identifier"&&this.visitor.scope.set(this.node.handler.param.name,e),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}}class Ab extends zr{static isValidOperator(e){return e in Ab.operatorMap}run(){const{operator:e,argument:n}=this.node;if(!Ab.isValidOperator(e)){console.warn("Unhandled unary operator:",e);return}return Ab.operatorMap[e](this.visitor,n)}}Ab.operatorMap={"-":(t,e)=>-t.visitNode(e),"+":(t,e)=>+t.visitNode(e),"!":(t,e)=>!t.visitNode(e),"~":(t,e)=>~t.visitNode(e),void:(t,e)=>{t.visitNode(e)},typeof:(t,e)=>{const n=t.visitNode(e);return e.type==="Identifier"&&n==="undefined"?"undefined":typeof t.visitNode(e)},delete:(t,e)=>{if(e.type==="MemberExpression"){const n=t.visitNode(e.object),r=e.computed?t.visitNode(e.property):t.getName(e.property);return delete n[r]}return e.type==="Identifier"&&t.scope.has(e.name)?t.scope.delete(e.name):!0}};class uXe extends zr{run(){switch(this.node.operator){case"++":if(this.node.argument.type==="MemberExpression"){const n=this.visitor.visitNode(this.node.argument.object);return n[this.visitor.visitNode(this.node.argument.property)]++}else if(this.node.argument.type==="Identifier"){let n=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,n+1),this.node.prefix?++n:n}break;case"--":if(this.node.argument.type==="MemberExpression"){const n=this.visitor.visitNode(this.node.argument.object);return n[this.visitor.visitNode(this.node.argument.property)]--}else if(this.node.argument.type==="Identifier"){let n=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,n-1),this.node.prefix?--n:n}break}}}class cXe extends zr{run(){this.node.declarations.forEach(e=>{const{id:n,init:r}=e,i=this.visitor.getName(n),a=r?this.visitor.visitNode(r):void 0;i&&this.visitor.scope.set(i,a),typeof a=="object"&&a!==null&&this.visitor.scope.set("_this",a)})}}class dXe extends zr{run(){for(;this.visitor.visitNode(this.node.test);){const e=this.visitor.visitNode(this.node.body);if(e==="$jintr_break_")break;if(e!=="$jintr_continue_"&&e)return e}}}const hXe=Object.freeze(Object.defineProperty({__proto__:null,ArrayExpression:LYe,ArrowFunctionExpression:DYe,AssignmentExpression:kR,BinaryExpression:TR,BlockStatement:FYe,BreakStatement:BYe,CallExpression:UYe,ConditionalExpression:jYe,ContinueStatement:zYe,EmptyStatement:$Ye,ExpressionStatement:qYe,ForOfStatement:HYe,ForStatement:VYe,FunctionDeclaration:GYe,FunctionExpression:WYe,Identifier:KYe,IfStatement:YYe,Literal:XYe,LogicalExpression:AR,MemberExpression:ZYe,NewExpression:QYe,ObjectExpression:JYe,Property:eXe,ReturnStatement:tXe,SequenceExpression:nXe,SwitchCase:rXe,SwitchStatement:iXe,TemplateLiteral:aXe,ThisExpression:sXe,ThrowStatement:oXe,TryStatement:lXe,UnaryExpression:Ab,UpdateExpression:uXe,VariableDeclaration:cXe,WhileStatement:dXe},Symbol.toStringTag,{value:"Module"}));var fXe=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},p8,rbe;class pXe{constructor(){p8.add(this),this.scope=new Map,this.listeners={},this.ast=[]}setAST(e){this.ast=e}run(){let e;for(const n of this.ast)e=this.visitNode(n);return e}visitNode(e){if(!e)return null;const n=fXe(this,p8,"m",rbe).call(this,e.type);return n?new n(e,this).run():null}getName(e){if(e.type==="Identifier")return e.name;if(e.type==="Literal")return e.value}on(e,n){this.listeners[e]=n}}p8=new WeakSet,rbe=function(e){const n=hXe[e];return n||console.warn("[JINTER]:",`JavaScript node "${e}" not implemented!
If this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),n};var mXe=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],ibe=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],gXe="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࢗ-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･",abe="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲊᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟍꟐꟑꟓꟕ-Ƛꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",ND={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},OD="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",yXe={5:OD,"5module":OD+" export import",6:OD+" const class extends export import super"},bXe=/^in(stanceof)?$/,vXe=new RegExp("["+abe+"]"),wXe=new RegExp("["+abe+gXe+"]");function m8(t,e){for(var n=65536,r=0;r<e.length;r+=2){if(n+=e[r],n>t)return!1;if(n+=e[r+1],n>=t)return!0}return!1}function Nf(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&vXe.test(String.fromCharCode(t)):e===!1?!1:m8(t,ibe)}function Yb(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&wXe.test(String.fromCharCode(t)):e===!1?!1:m8(t,ibe)||m8(t,mXe)}var Wr=function(e,n){n===void 0&&(n={}),this.label=e,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null};function _u(t,e){return new Wr(t,{beforeExpr:!0,binop:e})}var Su={beforeExpr:!0},rl={startsExpr:!0},Pz={};function Ur(t,e){return e===void 0&&(e={}),e.keyword=t,Pz[t]=new Wr(t,e)}var ye={num:new Wr("num",rl),regexp:new Wr("regexp",rl),string:new Wr("string",rl),name:new Wr("name",rl),privateId:new Wr("privateId",rl),eof:new Wr("eof"),bracketL:new Wr("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new Wr("]"),braceL:new Wr("{",{beforeExpr:!0,startsExpr:!0}),braceR:new Wr("}"),parenL:new Wr("(",{beforeExpr:!0,startsExpr:!0}),parenR:new Wr(")"),comma:new Wr(",",Su),semi:new Wr(";",Su),colon:new Wr(":",Su),dot:new Wr("."),question:new Wr("?",Su),questionDot:new Wr("?."),arrow:new Wr("=>",Su),template:new Wr("template"),invalidTemplate:new Wr("invalidTemplate"),ellipsis:new Wr("...",Su),backQuote:new Wr("`",rl),dollarBraceL:new Wr("${",{beforeExpr:!0,startsExpr:!0}),eq:new Wr("=",{beforeExpr:!0,isAssign:!0}),assign:new Wr("_=",{beforeExpr:!0,isAssign:!0}),incDec:new Wr("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Wr("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:_u("||",1),logicalAND:_u("&&",2),bitwiseOR:_u("|",3),bitwiseXOR:_u("^",4),bitwiseAND:_u("&",5),equality:_u("==/!=/===/!==",6),relational:_u("</>/<=/>=",7),bitShift:_u("<</>>/>>>",8),plusMin:new Wr("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:_u("%",10),star:_u("*",10),slash:_u("/",10),starstar:new Wr("**",{beforeExpr:!0}),coalesce:_u("??",1),_break:Ur("break"),_case:Ur("case",Su),_catch:Ur("catch"),_continue:Ur("continue"),_debugger:Ur("debugger"),_default:Ur("default",Su),_do:Ur("do",{isLoop:!0,beforeExpr:!0}),_else:Ur("else",Su),_finally:Ur("finally"),_for:Ur("for",{isLoop:!0}),_function:Ur("function",rl),_if:Ur("if"),_return:Ur("return",Su),_switch:Ur("switch"),_throw:Ur("throw",Su),_try:Ur("try"),_var:Ur("var"),_const:Ur("const"),_while:Ur("while",{isLoop:!0}),_with:Ur("with"),_new:Ur("new",{beforeExpr:!0,startsExpr:!0}),_this:Ur("this",rl),_super:Ur("super",rl),_class:Ur("class",rl),_extends:Ur("extends",Su),_export:Ur("export"),_import:Ur("import",rl),_null:Ur("null",rl),_true:Ur("true",rl),_false:Ur("false",rl),_in:Ur("in",{beforeExpr:!0,binop:7}),_instanceof:Ur("instanceof",{beforeExpr:!0,binop:7}),_typeof:Ur("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Ur("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Ur("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Gu=/\r\n?|\n|\u2028|\u2029/,_Xe=new RegExp(Gu.source,"g");function Tv(t){return t===10||t===13||t===8232||t===8233}function sbe(t,e,n){n===void 0&&(n=t.length);for(var r=e;r<n;r++){var i=t.charCodeAt(r);if(Tv(i))return r<n-1&&i===13&&t.charCodeAt(r+1)===10?r+2:r+1}return-1}var obe=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Mu=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,lbe=Object.prototype,SXe=lbe.hasOwnProperty,xXe=lbe.toString,Av=Object.hasOwn||function(t,e){return SXe.call(t,e)},One=Array.isArray||function(t){return xXe.call(t)==="[object Array]"},Mne=Object.create(null);function ym(t){return Mne[t]||(Mne[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}function Of(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}var EXe=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,$1=function(e,n){this.line=e,this.column=n};$1.prototype.offset=function(e){return new $1(this.line,this.column+e)};var CR=function(e,n,r){this.start=n,this.end=r,e.sourceFile!==null&&(this.source=e.sourceFile)};function ube(t,e){for(var n=1,r=0;;){var i=sbe(t,r,e);if(i<0)return new $1(n,e-r);++n,r=i}}var g8={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Pne=!1;function kXe(t){var e={};for(var n in g8)e[n]=t&&Av(t,n)?t[n]:g8[n];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!Pne&&typeof console=="object"&&console.warn&&(Pne=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),One(e.onToken)){var r=e.onToken;e.onToken=function(i){return r.push(i)}}return One(e.onComment)&&(e.onComment=TXe(e,e.onComment)),e}function TXe(t,e){return function(n,r,i,a,s,o){var l={type:n?"Block":"Line",value:r,start:i,end:a};t.locations&&(l.loc=new CR(this,s,o)),t.ranges&&(l.range=[i,a]),e.push(l)}}var q1=1,Cv=2,Lz=4,cbe=8,dbe=16,hbe=32,Dz=64,fbe=128,GS=256,Fz=q1|Cv|GS;function Bz(t,e){return Cv|(t?Lz:0)|(e?cbe:0)}var JT=0,Uz=1,zf=2,pbe=3,mbe=4,gbe=5,is=function(e,n,r){this.options=e=kXe(e),this.sourceFile=e.sourceFile,this.keywords=ym(yXe[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var i="";e.allowReserved!==!0&&(i=ND[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(i+=" await")),this.reservedWords=ym(i);var a=(i?i+" ":"")+ND.strict;this.reservedWordsStrict=ym(a),this.reservedWordsStrictBind=ym(a+" "+ND.strictBind),this.input=String(n),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Gu).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=ye.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(q1),this.regexpState=null,this.privateNameStack=[]},sh={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};is.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)};sh.inFunction.get=function(){return(this.currentVarScope().flags&Cv)>0};sh.inGenerator.get=function(){return(this.currentVarScope().flags&cbe)>0&&!this.currentVarScope().inClassFieldInit};sh.inAsync.get=function(){return(this.currentVarScope().flags&Lz)>0&&!this.currentVarScope().inClassFieldInit};sh.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&GS)return!1;if(e.flags&Cv)return(e.flags&Lz)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};sh.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,n=t.inClassFieldInit;return(e&Dz)>0||n||this.options.allowSuperOutsideMethod};sh.allowDirectSuper.get=function(){return(this.currentThisScope().flags&fbe)>0};sh.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};sh.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,n=t.inClassFieldInit;return(e&(Cv|GS))>0||n};sh.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&GS)>0};is.extend=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];for(var r=this,i=0;i<e.length;i++)r=e[i](r);return r};is.parse=function(e,n){return new this(n,e).parse()};is.parseExpressionAt=function(e,n,r){var i=new this(r,e,n);return i.nextToken(),i.parseExpression()};is.tokenizer=function(e,n){return new this(n,e)};Object.defineProperties(is.prototype,sh);var Vo=is.prototype,AXe=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;Vo.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){Mu.lastIndex=t,t+=Mu.exec(this.input)[0].length;var e=AXe.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){Mu.lastIndex=t+e[0].length;var n=Mu.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return i===";"||i==="}"||Gu.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(r+1)==="=")}t+=e[0].length,Mu.lastIndex=t,t+=Mu.exec(this.input)[0].length,this.input[t]===";"&&t++}};Vo.eat=function(t){return this.type===t?(this.next(),!0):!1};Vo.isContextual=function(t){return this.type===ye.name&&this.value===t&&!this.containsEsc};Vo.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};Vo.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};Vo.canInsertSemicolon=function(){return this.type===ye.eof||this.type===ye.braceR||Gu.test(this.input.slice(this.lastTokEnd,this.start))};Vo.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Vo.semicolon=function(){!this.eat(ye.semi)&&!this.insertSemicolon()&&this.unexpected()};Vo.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};Vo.expect=function(t){this.eat(t)||this.unexpected()};Vo.unexpected=function(t){this.raise(t??this.start,"Unexpected token")};var RR=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Vo.checkPatternErrors=function(t,e){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var n=e?t.parenthesizedAssign:t.parenthesizedBind;n>-1&&this.raiseRecoverable(n,e?"Assigning to rvalue":"Parenthesized pattern")}};Vo.checkExpressionErrors=function(t,e){if(!t)return!1;var n=t.shorthandAssign,r=t.doubleProto;if(!e)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};Vo.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Vo.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var Rn=is.prototype;Rn.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==ye.eof;){var n=this.parseStatement(null,!0,e);t.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var a=i[r];this.raiseRecoverable(this.undefinedExports[a].start,"Export '"+a+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var jz={kind:"loop"},CXe={kind:"switch"};Rn.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Mu.lastIndex=this.pos;var e=Mu.exec(this.input),n=this.pos+e[0].length,r=this.input.charCodeAt(n);if(r===91||r===92)return!0;if(t)return!1;if(r===123||r>55295&&r<56320)return!0;if(Nf(r,!0)){for(var i=n+1;Yb(r=this.input.charCodeAt(i),!0);)++i;if(r===92||r>55295&&r<56320)return!0;var a=this.input.slice(n,i);if(!bXe.test(a))return!0}return!1};Rn.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Mu.lastIndex=this.pos;var t=Mu.exec(this.input),e=this.pos+t[0].length,n;return!Gu.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(Yb(n=this.input.charCodeAt(e+8))||n>55295&&n<56320))};Rn.parseStatement=function(t,e,n){var r=this.type,i=this.startNode(),a;switch(this.isLet(t)&&(r=ye._var,a="let"),r){case ye._break:case ye._continue:return this.parseBreakContinueStatement(i,r.keyword);case ye._debugger:return this.parseDebuggerStatement(i);case ye._do:return this.parseDoStatement(i);case ye._for:return this.parseForStatement(i);case ye._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!t);case ye._class:return t&&this.unexpected(),this.parseClass(i,!0);case ye._if:return this.parseIfStatement(i);case ye._return:return this.parseReturnStatement(i);case ye._switch:return this.parseSwitchStatement(i);case ye._throw:return this.parseThrowStatement(i);case ye._try:return this.parseTryStatement(i);case ye._const:case ye._var:return a=a||this.value,t&&a!=="var"&&this.unexpected(),this.parseVarStatement(i,a);case ye._while:return this.parseWhileStatement(i);case ye._with:return this.parseWithStatement(i);case ye.braceL:return this.parseBlock(!0,i);case ye.semi:return this.parseEmptyStatement(i);case ye._export:case ye._import:if(this.options.ecmaVersion>10&&r===ye._import){Mu.lastIndex=this.pos;var s=Mu.exec(this.input),o=this.pos+s[0].length,l=this.input.charCodeAt(o);if(l===40||l===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===ye._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!t);var u=this.value,d=this.parseExpression();return r===ye.name&&d.type==="Identifier"&&this.eat(ye.colon)?this.parseLabeledStatement(i,u,d,t):this.parseExpressionStatement(i,d)}};Rn.parseBreakContinueStatement=function(t,e){var n=e==="break";this.next(),this.eat(ye.semi)||this.insertSemicolon()?t.label=null:this.type!==ye.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if((t.label==null||i.name===t.label.name)&&(i.kind!=null&&(n||i.kind==="loop")||t.label&&n))break}return r===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,n?"BreakStatement":"ContinueStatement")};Rn.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};Rn.parseDoStatement=function(t){return this.next(),this.labels.push(jz),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(ye._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(ye.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};Rn.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(jz),this.enterScope(0),this.expect(ye.parenL),this.type===ye.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var n=this.isLet();if(this.type===ye._var||this.type===ye._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===ye._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===ye._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,r)):(e>-1&&this.unexpected(e),this.parseFor(t,r))}var a=this.isContextual("let"),s=!1,o=this.containsEsc,l=new RR,u=this.start,d=e>-1?this.parseExprSubscripts(l,"await"):this.parseExpression(!0,l);return this.type===ye._in||(s=this.options.ecmaVersion>=6&&this.isContextual("of"))?(e>-1?(this.type===ye._in&&this.unexpected(e),t.await=!0):s&&this.options.ecmaVersion>=8&&(d.start===u&&!o&&d.type==="Identifier"&&d.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(t.await=!1)),a&&s&&this.raise(d.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(d,!1,l),this.checkLValPattern(d),this.parseForIn(t,d)):(this.checkExpressionErrors(l,!0),e>-1&&this.unexpected(e),this.parseFor(t,d))};Rn.parseFunctionStatement=function(t,e,n){return this.next(),this.parseFunction(t,V_|(n?0:y8),!1,e)};Rn.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(ye._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};Rn.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(ye.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};Rn.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(ye.braceL),this.labels.push(CXe),this.enterScope(0);for(var e,n=!1;this.type!==ye.braceR;)if(this.type===ye._case||this.type===ye._default){var r=this.type===ye._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),r?e.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,e.test=null),this.expect(ye.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};Rn.parseThrowStatement=function(t){return this.next(),Gu.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var RXe=[];Rn.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?hbe:0),this.checkLValPattern(t,e?mbe:zf),this.expect(ye.parenR),t};Rn.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===ye._catch){var e=this.startNode();this.next(),this.eat(ye.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(ye._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};Rn.parseVarStatement=function(t,e,n){return this.next(),this.parseVar(t,!1,e,n),this.semicolon(),this.finishNode(t,"VariableDeclaration")};Rn.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(jz),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};Rn.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};Rn.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};Rn.parseLabeledStatement=function(t,e,n,r){for(var i=0,a=this.labels;i<a.length;i+=1){var s=a[i];s.name===e&&this.raise(n.start,"Label '"+e+"' is already declared")}for(var o=this.type.isLoop?"loop":this.type===ye._switch?"switch":null,l=this.labels.length-1;l>=0;l--){var u=this.labels[l];if(u.statementStart===t.start)u.statementStart=this.start,u.kind=o;else break}return this.labels.push({name:e,kind:o,statementStart:this.start}),t.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),t.label=n,this.finishNode(t,"LabeledStatement")};Rn.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};Rn.parseBlock=function(t,e,n){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(ye.braceL),t&&this.enterScope(0);this.type!==ye.braceR;){var r=this.parseStatement(null);e.body.push(r)}return n&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};Rn.parseFor=function(t,e){return t.init=e,this.expect(ye.semi),t.test=this.type===ye.semi?null:this.parseExpression(),this.expect(ye.semi),t.update=this.type===ye.parenR?null:this.parseExpression(),this.expect(ye.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};Rn.parseForIn=function(t,e){var n=this.type===ye._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(ye.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,n?"ForInStatement":"ForOfStatement")};Rn.parseVar=function(t,e,n,r){for(t.declarations=[],t.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(ye.eq)?i.init=this.parseMaybeAssign(e):!r&&n==="const"&&!(this.type===ye._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&i.id.type!=="Identifier"&&!(e&&(this.type===ye._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,t.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(ye.comma))break}return t};Rn.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?Uz:zf,!1)};var V_=1,y8=2,ybe=4;Rn.parseFunction=function(t,e,n,r,i){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===ye.star&&e&y8&&this.unexpected(),t.generator=this.eat(ye.star)),this.options.ecmaVersion>=8&&(t.async=!!r),e&V_&&(t.id=e&ybe&&this.type!==ye.name?null:this.parseIdent(),t.id&&!(e&y8)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?Uz:zf:pbe));var a=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Bz(t.async,t.generator)),e&V_||(t.id=this.type===ye.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,n,!1,i),this.yieldPos=a,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(t,e&V_?"FunctionDeclaration":"FunctionExpression")};Rn.parseFunctionParams=function(t){this.expect(ye.parenL),t.params=this.parseBindingList(ye.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};Rn.parseClass=function(t,e){this.next();var n=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var r=this.enterClassBody(),i=this.startNode(),a=!1;for(i.body=[],this.expect(ye.braceL);this.type!==ye.braceR;){var s=this.parseClassElement(t.superClass!==null);s&&(i.body.push(s),s.type==="MethodDefinition"&&s.kind==="constructor"?(a&&this.raiseRecoverable(s.start,"Duplicate constructor in the same class"),a=!0):s.key&&s.key.type==="PrivateIdentifier"&&IXe(r,s)&&this.raiseRecoverable(s.key.start,"Identifier '#"+s.key.name+"' has already been declared"))}return this.strict=n,this.next(),t.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};Rn.parseClassElement=function(t){if(this.eat(ye.semi))return null;var e=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,a=!1,s="method",o=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(ye.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===ye.star?o=!0:r="static"}if(n.static=o,!r&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===ye.star)&&!this.canInsertSemicolon()?a=!0:r="async"),!r&&(e>=9||!a)&&this.eat(ye.star)&&(i=!0),!r&&!a&&!i){var l=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?s=l:r=l)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),e<13||this.type===ye.parenL||s!=="method"||i||a){var u=!n.static&&eA(n,"constructor"),d=u&&t;u&&s!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=u?"constructor":s,this.parseClassMethod(n,i,a,d)}else this.parseClassField(n);return n};Rn.isClassElementNameStart=function(){return this.type===ye.name||this.type===ye.privateId||this.type===ye.num||this.type===ye.string||this.type===ye.bracketL||this.type.keyword};Rn.parseClassElementName=function(t){this.type===ye.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};Rn.parseClassMethod=function(t,e,n,r){var i=t.key;t.kind==="constructor"?(e&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):t.static&&eA(t,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var a=t.value=this.parseMethod(e,n,r);return t.kind==="get"&&a.params.length!==0&&this.raiseRecoverable(a.start,"getter should have no params"),t.kind==="set"&&a.params.length!==1&&this.raiseRecoverable(a.start,"setter should have exactly one param"),t.kind==="set"&&a.params[0].type==="RestElement"&&this.raiseRecoverable(a.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};Rn.parseClassField=function(t){if(eA(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&eA(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(ye.eq)){var e=this.currentThisScope(),n=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=n}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};Rn.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(GS|Dz);this.type!==ye.braceR;){var n=this.parseStatement(null);t.body.push(n)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};Rn.parseClassId=function(t,e){this.type===ye.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,zf,!1)):(e===!0&&this.unexpected(),t.id=null)};Rn.parseClassSuper=function(t){t.superClass=this.eat(ye._extends)?this.parseExprSubscripts(null,!1):null};Rn.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};Rn.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,n=t.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=r===0?null:this.privateNameStack[r-1],a=0;a<n.length;++a){var s=n[a];Av(e,s.name)||(i?i.used.push(s):this.raiseRecoverable(s.start,"Private field '#"+s.name+"' must be declared in an enclosing class"))}};function IXe(t,e){var n=e.key.name,r=t[n],i="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(i=(e.static?"s":"i")+e.kind),r==="iget"&&i==="iset"||r==="iset"&&i==="iget"||r==="sget"&&i==="sset"||r==="sset"&&i==="sget"?(t[n]="true",!1):r?!0:(t[n]=i,!1)}function eA(t,e){var n=t.computed,r=t.key;return!n&&(r.type==="Identifier"&&r.name===e||r.type==="Literal"&&r.value===e)}Rn.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==ye.string&&this.unexpected(),t.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(t.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};Rn.parseExport=function(t,e){if(this.next(),this.eat(ye.star))return this.parseExportAllDeclaration(t,e);if(this.eat(ye._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==ye.string&&this.unexpected(),t.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(t.attributes=this.parseWithClause());else{for(var n=0,r=t.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),i.local.type==="Literal"&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};Rn.parseExportDeclaration=function(t){return this.parseStatement(null)};Rn.parseExportDefaultDeclaration=function(){var t;if(this.type===ye._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,V_|ybe,!1,t)}else if(this.type===ye._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};Rn.checkExport=function(t,e,n){t&&(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),Av(t,e)&&this.raiseRecoverable(n,"Duplicate export '"+e+"'"),t[e]=!0)};Rn.checkPatternExport=function(t,e){var n=e.type;if(n==="Identifier")this.checkExport(t,e,e.start);else if(n==="ObjectPattern")for(var r=0,i=e.properties;r<i.length;r+=1){var a=i[r];this.checkPatternExport(t,a)}else if(n==="ArrayPattern")for(var s=0,o=e.elements;s<o.length;s+=1){var l=o[s];l&&this.checkPatternExport(t,l)}else n==="Property"?this.checkPatternExport(t,e.value):n==="AssignmentPattern"?this.checkPatternExport(t,e.left):n==="RestElement"&&this.checkPatternExport(t,e.argument)};Rn.checkVariableExport=function(t,e){if(t)for(var n=0,r=e;n<r.length;n+=1){var i=r[n];this.checkPatternExport(t,i.id)}};Rn.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};Rn.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};Rn.parseExportSpecifiers=function(t){var e=[],n=!0;for(this.expect(ye.braceL);!this.eat(ye.braceR);){if(n)n=!1;else if(this.expect(ye.comma),this.afterTrailingComma(ye.braceR))break;e.push(this.parseExportSpecifier(t))}return e};Rn.parseImport=function(t){return this.next(),this.type===ye.string?(t.specifiers=RXe,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===ye.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(t.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};Rn.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,zf),this.finishNode(t,"ImportSpecifier")};Rn.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,zf),this.finishNode(t,"ImportDefaultSpecifier")};Rn.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,zf),this.finishNode(t,"ImportNamespaceSpecifier")};Rn.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===ye.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(ye.comma)))return t;if(this.type===ye.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(ye.braceL);!this.eat(ye.braceR);){if(e)e=!1;else if(this.expect(ye.comma),this.afterTrailingComma(ye.braceR))break;t.push(this.parseImportSpecifier())}return t};Rn.parseWithClause=function(){var t=[];if(!this.eat(ye._with))return t;this.expect(ye.braceL);for(var e={},n=!0;!this.eat(ye.braceR);){if(n)n=!1;else if(this.expect(ye.comma),this.afterTrailingComma(ye.braceR))break;var r=this.parseImportAttribute(),i=r.key.type==="Identifier"?r.key.name:r.key.value;Av(e,i)&&this.raiseRecoverable(r.key.start,"Duplicate attribute key '"+i+"'"),e[i]=!0,t.push(r)}return t};Rn.parseImportAttribute=function(){var t=this.startNode();return t.key=this.type===ye.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(ye.colon),this.type!==ye.string&&this.unexpected(),t.value=this.parseExprAtom(),this.finishNode(t,"ImportAttribute")};Rn.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===ye.string){var t=this.parseLiteral(this.value);return EXe.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};Rn.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};Rn.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var Wu=is.prototype;Wu.toAssignable=function(t,e,n){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=t.properties;r<i.length;r+=1){var a=i[r];this.toAssignable(a,e),a.type==="RestElement"&&(a.argument.type==="ArrayPattern"||a.argument.type==="ObjectPattern")&&this.raise(a.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,n);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return t};Wu.toAssignableList=function(t,e){for(var n=t.length,r=0;r<n;r++){var i=t[r];i&&this.toAssignable(i,e)}if(n){var a=t[n-1];this.options.ecmaVersion===6&&e&&a&&a.type==="RestElement"&&a.argument.type!=="Identifier"&&this.unexpected(a.argument.start)}return t};Wu.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};Wu.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==ye.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};Wu.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case ye.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(ye.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case ye.braceL:return this.parseObj(!0)}return this.parseIdent()};Wu.parseBindingList=function(t,e,n,r){for(var i=[],a=!0;!this.eat(t);)if(a?a=!1:this.expect(ye.comma),e&&this.type===ye.comma)i.push(null);else{if(n&&this.afterTrailingComma(t))break;if(this.type===ye.ellipsis){var s=this.parseRestBinding();this.parseBindingListItem(s),i.push(s),this.type===ye.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else i.push(this.parseAssignableListItem(r))}return i};Wu.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};Wu.parseBindingListItem=function(t){return t};Wu.parseMaybeDefault=function(t,e,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(ye.eq))return n;var r=this.startNodeAt(t,e);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};Wu.checkLValSimple=function(t,e,n){e===void 0&&(e=JT);var r=e!==JT;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(r?"Binding ":"Assigning to ")+t.name+" in strict mode"),r&&(e===zf&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),n&&(Av(n,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),n[t.name]=!0),e!==gbe&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,n);default:this.raise(t.start,(r?"Binding":"Assigning to")+" rvalue")}};Wu.checkLValPattern=function(t,e,n){switch(e===void 0&&(e=JT),t.type){case"ObjectPattern":for(var r=0,i=t.properties;r<i.length;r+=1){var a=i[r];this.checkLValInnerPattern(a,e,n)}break;case"ArrayPattern":for(var s=0,o=t.elements;s<o.length;s+=1){var l=o[s];l&&this.checkLValInnerPattern(l,e,n)}break;default:this.checkLValSimple(t,e,n)}};Wu.checkLValInnerPattern=function(t,e,n){switch(e===void 0&&(e=JT),t.type){case"Property":this.checkLValInnerPattern(t.value,e,n);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,n);break;case"RestElement":this.checkLValPattern(t.argument,e,n);break;default:this.checkLValPattern(t,e,n)}};var Sc=function(e,n,r,i,a){this.token=e,this.isExpr=!!n,this.preserveSpace=!!r,this.override=i,this.generator=!!a},Wi={b_stat:new Sc("{",!1),b_expr:new Sc("{",!0),b_tmpl:new Sc("${",!1),p_stat:new Sc("(",!1),p_expr:new Sc("(",!0),q_tmpl:new Sc("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new Sc("function",!1),f_expr:new Sc("function",!0),f_expr_gen:new Sc("function",!0,!1,null,!0),f_gen:new Sc("function",!1,!1,null,!0)},Rv=is.prototype;Rv.initialContext=function(){return[Wi.b_stat]};Rv.curContext=function(){return this.context[this.context.length-1]};Rv.braceIsBlock=function(t){var e=this.curContext();return e===Wi.f_expr||e===Wi.f_stat?!0:t===ye.colon&&(e===Wi.b_stat||e===Wi.b_expr)?!e.isExpr:t===ye._return||t===ye.name&&this.exprAllowed?Gu.test(this.input.slice(this.lastTokEnd,this.start)):t===ye._else||t===ye.semi||t===ye.eof||t===ye.parenR||t===ye.arrow?!0:t===ye.braceL?e===Wi.b_stat:t===ye._var||t===ye._const||t===ye.name?!1:!this.exprAllowed};Rv.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};Rv.updateContext=function(t){var e,n=this.type;n.keyword&&t===ye.dot?this.exprAllowed=!1:(e=n.updateContext)?e.call(this,t):this.exprAllowed=n.beforeExpr};Rv.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};ye.parenR.updateContext=ye.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===Wi.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};ye.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?Wi.b_stat:Wi.b_expr),this.exprAllowed=!0};ye.dollarBraceL.updateContext=function(){this.context.push(Wi.b_tmpl),this.exprAllowed=!0};ye.parenL.updateContext=function(t){var e=t===ye._if||t===ye._for||t===ye._with||t===ye._while;this.context.push(e?Wi.p_stat:Wi.p_expr),this.exprAllowed=!0};ye.incDec.updateContext=function(){};ye._function.updateContext=ye._class.updateContext=function(t){t.beforeExpr&&t!==ye._else&&!(t===ye.semi&&this.curContext()!==Wi.p_stat)&&!(t===ye._return&&Gu.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===ye.colon||t===ye.braceL)&&this.curContext()===Wi.b_stat)?this.context.push(Wi.f_expr):this.context.push(Wi.f_stat),this.exprAllowed=!1};ye.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};ye.backQuote.updateContext=function(){this.curContext()===Wi.q_tmpl?this.context.pop():this.context.push(Wi.q_tmpl),this.exprAllowed=!1};ye.star.updateContext=function(t){if(t===ye._function){var e=this.context.length-1;this.context[e]===Wi.f_expr?this.context[e]=Wi.f_expr_gen:this.context[e]=Wi.f_gen}this.exprAllowed=!0};ye.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==ye.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var Jn=is.prototype;Jn.checkPropClash=function(t,e,n){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var r=t.key,i;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var a=t.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&a==="init"&&(e.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),e.proto=!0);return}i="$"+i;var s=e[i];if(s){var o;a==="init"?o=this.strict&&s.init||s.get||s.set:o=s.init||s[a],o&&this.raiseRecoverable(r.start,"Redefinition of property")}else s=e[i]={init:!1,get:!1,set:!1};s[a]=!0}};Jn.parseExpression=function(t,e){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(t,e);if(this.type===ye.comma){var a=this.startNodeAt(n,r);for(a.expressions=[i];this.eat(ye.comma);)a.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(a,"SequenceExpression")}return i};Jn.parseMaybeAssign=function(t,e,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var r=!1,i=-1,a=-1,s=-1;e?(i=e.parenthesizedAssign,a=e.trailingComma,s=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new RR,r=!0);var o=this.start,l=this.startLoc;(this.type===ye.parenL||this.type===ye.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var u=this.parseMaybeConditional(t,e);if(n&&(u=n.call(this,u,o,l)),this.type.isAssign){var d=this.startNodeAt(o,l);return d.operator=this.value,this.type===ye.eq&&(u=this.toAssignable(u,!1,e)),r||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=u.start&&(e.shorthandAssign=-1),this.type===ye.eq?this.checkLValPattern(u):this.checkLValSimple(u),d.left=u,this.next(),d.right=this.parseMaybeAssign(t),s>-1&&(e.doubleProto=s),this.finishNode(d,"AssignmentExpression")}else r&&this.checkExpressionErrors(e,!0);return i>-1&&(e.parenthesizedAssign=i),a>-1&&(e.trailingComma=a),u};Jn.parseMaybeConditional=function(t,e){var n=this.start,r=this.startLoc,i=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return i;if(this.eat(ye.question)){var a=this.startNodeAt(n,r);return a.test=i,a.consequent=this.parseMaybeAssign(),this.expect(ye.colon),a.alternate=this.parseMaybeAssign(t),this.finishNode(a,"ConditionalExpression")}return i};Jn.parseExprOps=function(t,e){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||i.start===n&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,n,r,-1,t)};Jn.parseExprOp=function(t,e,n,r,i){var a=this.type.binop;if(a!=null&&(!i||this.type!==ye._in)&&a>r){var s=this.type===ye.logicalOR||this.type===ye.logicalAND,o=this.type===ye.coalesce;o&&(a=ye.logicalAND.binop);var l=this.value;this.next();var u=this.start,d=this.startLoc,h=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),u,d,a,i),p=this.buildBinary(e,n,t,h,l,s||o);return(s&&this.type===ye.coalesce||o&&(this.type===ye.logicalOR||this.type===ye.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(p,e,n,r,i)}return t};Jn.buildBinary=function(t,e,n,r,i,a){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var s=this.startNodeAt(t,e);return s.left=n,s.operator=i,s.right=r,this.finishNode(s,a?"LogicalExpression":"BinaryExpression")};Jn.parseMaybeUnary=function(t,e,n,r){var i=this.start,a=this.startLoc,s;if(this.isContextual("await")&&this.canAwait)s=this.parseAwait(r),e=!0;else if(this.type.prefix){var o=this.startNode(),l=this.type===ye.incDec;o.operator=this.value,o.prefix=!0,this.next(),o.argument=this.parseMaybeUnary(null,!0,l,r),this.checkExpressionErrors(t,!0),l?this.checkLValSimple(o.argument):this.strict&&o.operator==="delete"&&bbe(o.argument)?this.raiseRecoverable(o.start,"Deleting local variable in strict mode"):o.operator==="delete"&&b8(o.argument)?this.raiseRecoverable(o.start,"Private fields can not be deleted"):e=!0,s=this.finishNode(o,l?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===ye.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),s=this.parsePrivateIdent(),this.type!==ye._in&&this.unexpected();else{if(s=this.parseExprSubscripts(t,r),this.checkExpressionErrors(t))return s;for(;this.type.postfix&&!this.canInsertSemicolon();){var u=this.startNodeAt(i,a);u.operator=this.value,u.prefix=!1,u.argument=s,this.checkLValSimple(s),this.next(),s=this.finishNode(u,"UpdateExpression")}}if(!n&&this.eat(ye.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(i,a,s,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return s};function bbe(t){return t.type==="Identifier"||t.type==="ParenthesizedExpression"&&bbe(t.expression)}function b8(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&b8(t.expression)||t.type==="ParenthesizedExpression"&&b8(t.expression)}Jn.parseExprSubscripts=function(t,e){var n=this.start,r=this.startLoc,i=this.parseExprAtom(t,e);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var a=this.parseSubscripts(i,n,r,!1,e);return t&&a.type==="MemberExpression"&&(t.parenthesizedAssign>=a.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=a.start&&(t.parenthesizedBind=-1),t.trailingComma>=a.start&&(t.trailingComma=-1)),a};Jn.parseSubscripts=function(t,e,n,r,i){for(var a=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,s=!1;;){var o=this.parseSubscript(t,e,n,r,a,s,i);if(o.optional&&(s=!0),o===t||o.type==="ArrowFunctionExpression"){if(s){var l=this.startNodeAt(e,n);l.expression=o,o=this.finishNode(l,"ChainExpression")}return o}t=o}};Jn.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(ye.arrow)};Jn.parseSubscriptAsyncArrow=function(t,e,n,r){return this.parseArrowExpression(this.startNodeAt(t,e),n,!0,r)};Jn.parseSubscript=function(t,e,n,r,i,a,s){var o=this.options.ecmaVersion>=11,l=o&&this.eat(ye.questionDot);r&&l&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var u=this.eat(ye.bracketL);if(u||l&&this.type!==ye.parenL&&this.type!==ye.backQuote||this.eat(ye.dot)){var d=this.startNodeAt(e,n);d.object=t,u?(d.property=this.parseExpression(),this.expect(ye.bracketR)):this.type===ye.privateId&&t.type!=="Super"?d.property=this.parsePrivateIdent():d.property=this.parseIdent(this.options.allowReserved!=="never"),d.computed=!!u,o&&(d.optional=l),t=this.finishNode(d,"MemberExpression")}else if(!r&&this.eat(ye.parenL)){var h=new RR,p=this.yieldPos,m=this.awaitPos,v=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var w=this.parseExprList(ye.parenR,this.options.ecmaVersion>=8,!1,h);if(i&&!l&&this.shouldParseAsyncArrow())return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=p,this.awaitPos=m,this.awaitIdentPos=v,this.parseSubscriptAsyncArrow(e,n,w,s);this.checkExpressionErrors(h,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=m||this.awaitPos,this.awaitIdentPos=v||this.awaitIdentPos;var k=this.startNodeAt(e,n);k.callee=t,k.arguments=w,o&&(k.optional=l),t=this.finishNode(k,"CallExpression")}else if(this.type===ye.backQuote){(l||a)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var T=this.startNodeAt(e,n);T.tag=t,T.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(T,"TaggedTemplateExpression")}return t};Jn.parseExprAtom=function(t,e,n){this.type===ye.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case ye._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===ye.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==ye.dot&&this.type!==ye.bracketL&&this.type!==ye.parenL&&this.unexpected(),this.finishNode(r,"Super");case ye._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case ye.name:var a=this.start,s=this.startLoc,o=this.containsEsc,l=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!o&&l.name==="async"&&!this.canInsertSemicolon()&&this.eat(ye._function))return this.overrideContext(Wi.f_expr),this.parseFunction(this.startNodeAt(a,s),0,!1,!0,e);if(i&&!this.canInsertSemicolon()){if(this.eat(ye.arrow))return this.parseArrowExpression(this.startNodeAt(a,s),[l],!1,e);if(this.options.ecmaVersion>=8&&l.name==="async"&&this.type===ye.name&&!o&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return l=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(ye.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(a,s),[l],!0,e)}return l;case ye.regexp:var u=this.value;return r=this.parseLiteral(u.value),r.regex={pattern:u.pattern,flags:u.flags},r;case ye.num:case ye.string:return this.parseLiteral(this.value);case ye._null:case ye._true:case ye._false:return r=this.startNode(),r.value=this.type===ye._null?null:this.type===ye._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case ye.parenL:var d=this.start,h=this.parseParenAndDistinguishExpression(i,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(h)&&(t.parenthesizedAssign=d),t.parenthesizedBind<0&&(t.parenthesizedBind=d)),h;case ye.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(ye.bracketR,!0,!0,t),this.finishNode(r,"ArrayExpression");case ye.braceL:return this.overrideContext(Wi.b_expr),this.parseObj(!1,t);case ye._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case ye._class:return this.parseClass(this.startNode(),!1);case ye._new:return this.parseNew();case ye.backQuote:return this.parseTemplate();case ye._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}};Jn.parseExprAtomDefault=function(){this.unexpected()};Jn.parseExprImport=function(t){var e=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===ye.parenL&&!t)return this.parseDynamicImport(e);if(this.type===ye.dot){var n=this.startNodeAt(e.start,e.loc&&e.loc.start);return n.name="import",e.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(e)}else this.unexpected()};Jn.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(ye.parenR)?t.options=null:(this.expect(ye.comma),this.afterTrailingComma(ye.parenR)?t.options=null:(t.options=this.parseMaybeAssign(),this.eat(ye.parenR)||(this.expect(ye.comma),this.afterTrailingComma(ye.parenR)||this.unexpected())));else if(!this.eat(ye.parenR)){var e=this.start;this.eat(ye.comma)&&this.eat(ye.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};Jn.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};Jn.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};Jn.parseParenExpression=function(){this.expect(ye.parenL);var t=this.parseExpression();return this.expect(ye.parenR),t};Jn.shouldParseArrow=function(t){return!this.canInsertSemicolon()};Jn.parseParenAndDistinguishExpression=function(t,e){var n=this.start,r=this.startLoc,i,a=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var s=this.start,o=this.startLoc,l=[],u=!0,d=!1,h=new RR,p=this.yieldPos,m=this.awaitPos,v;for(this.yieldPos=0,this.awaitPos=0;this.type!==ye.parenR;)if(u?u=!1:this.expect(ye.comma),a&&this.afterTrailingComma(ye.parenR,!0)){d=!0;break}else if(this.type===ye.ellipsis){v=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===ye.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else l.push(this.parseMaybeAssign(!1,h,this.parseParenItem));var w=this.lastTokEnd,k=this.lastTokEndLoc;if(this.expect(ye.parenR),t&&this.shouldParseArrow(l)&&this.eat(ye.arrow))return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=p,this.awaitPos=m,this.parseParenArrowList(n,r,l,e);(!l.length||d)&&this.unexpected(this.lastTokStart),v&&this.unexpected(v),this.checkExpressionErrors(h,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=m||this.awaitPos,l.length>1?(i=this.startNodeAt(s,o),i.expressions=l,this.finishNodeAt(i,"SequenceExpression",w,k)):i=l[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var T=this.startNodeAt(n,r);return T.expression=i,this.finishNode(T,"ParenthesizedExpression")}else return i};Jn.parseParenItem=function(t){return t};Jn.parseParenArrowList=function(t,e,n,r){return this.parseArrowExpression(this.startNodeAt(t,e),n,!1,r)};var NXe=[];Jn.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===ye.dot){var e=this.startNodeAt(t.start,t.loc&&t.loc.start);e.name="new",t.meta=this.finishNode(e,"Identifier"),this.next();var n=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var r=this.start,i=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),this.eat(ye.parenL)?t.arguments=this.parseExprList(ye.parenR,this.options.ecmaVersion>=8,!1):t.arguments=NXe,this.finishNode(t,"NewExpression")};Jn.parseTemplateElement=function(t){var e=t.isTagged,n=this.startNode();return this.type===ye.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===ye.backQuote,this.finishNode(n,"TemplateElement")};Jn.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:e});for(n.quasis=[r];!r.tail;)this.type===ye.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(ye.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(ye.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(n,"TemplateLiteral")};Jn.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===ye.name||this.type===ye.num||this.type===ye.string||this.type===ye.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===ye.star)&&!Gu.test(this.input.slice(this.lastTokEnd,this.start))};Jn.parseObj=function(t,e){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(ye.braceR);){if(r)r=!1;else if(this.expect(ye.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(ye.braceR))break;var a=this.parseProperty(t,e);t||this.checkPropClash(a,i,e),n.properties.push(a)}return this.finishNode(n,t?"ObjectPattern":"ObjectExpression")};Jn.parseProperty=function(t,e){var n=this.startNode(),r,i,a,s;if(this.options.ecmaVersion>=9&&this.eat(ye.ellipsis))return t?(n.argument=this.parseIdent(!1),this.type===ye.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,e),this.type===ye.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(t||e)&&(a=this.start,s=this.startLoc),t||(r=this.eat(ye.star)));var o=this.containsEsc;return this.parsePropertyName(n),!t&&!o&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(n)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(ye.star),this.parsePropertyName(n)):i=!1,this.parsePropertyValue(n,t,r,i,a,s,e,o),this.finishNode(n,"Property")};Jn.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var n=t.value.start;t.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};Jn.parsePropertyValue=function(t,e,n,r,i,a,s,o){(n||r)&&this.type===ye.colon&&this.unexpected(),this.eat(ye.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,s),t.kind="init"):this.options.ecmaVersion>=6&&this.type===ye.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(n,r)):!e&&!o&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==ye.comma&&this.type!==ye.braceR&&this.type!==ye.eq?((n||r)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((n||r)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),t.kind="init",e?t.value=this.parseMaybeDefault(i,a,this.copyNode(t.key)):this.type===ye.eq&&s?(s.shorthandAssign<0&&(s.shorthandAssign=this.start),t.value=this.parseMaybeDefault(i,a,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};Jn.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(ye.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(ye.bracketR),t.key;t.computed=!1}return t.key=this.type===ye.num||this.type===ye.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};Jn.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};Jn.parseMethod=function(t,e,n){var r=this.startNode(),i=this.yieldPos,a=this.awaitPos,s=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=t),this.options.ecmaVersion>=8&&(r.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Bz(e,r.generator)|Dz|(n?fbe:0)),this.expect(ye.parenL),r.params=this.parseBindingList(ye.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=a,this.awaitIdentPos=s,this.finishNode(r,"FunctionExpression")};Jn.parseArrowExpression=function(t,e,n,r){var i=this.yieldPos,a=this.awaitPos,s=this.awaitIdentPos;return this.enterScope(Bz(n,!1)|dbe),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,r),this.yieldPos=i,this.awaitPos=a,this.awaitIdentPos=s,this.finishNode(t,"ArrowFunctionExpression")};Jn.parseFunctionBody=function(t,e,n,r){var i=e&&this.type!==ye.braceL,a=this.strict,s=!1;if(i)t.body=this.parseMaybeAssign(r),t.expression=!0,this.checkParams(t,!1);else{var o=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!a||o)&&(s=this.strictDirective(this.end),s&&o&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var l=this.labels;this.labels=[],s&&(this.strict=!0),this.checkParams(t,!a&&!s&&!e&&!n&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,gbe),t.body=this.parseBlock(!1,void 0,s&&!a),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=l}this.exitScope()};Jn.isSimpleParamList=function(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(r.type!=="Identifier")return!1}return!0};Jn.checkParams=function(t,e){for(var n=Object.create(null),r=0,i=t.params;r<i.length;r+=1){var a=i[r];this.checkLValInnerPattern(a,Uz,e?null:n)}};Jn.parseExprList=function(t,e,n,r){for(var i=[],a=!0;!this.eat(t);){if(a)a=!1;else if(this.expect(ye.comma),e&&this.afterTrailingComma(t))break;var s=void 0;n&&this.type===ye.comma?s=null:this.type===ye.ellipsis?(s=this.parseSpread(r),r&&this.type===ye.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):s=this.parseMaybeAssign(!1,r),i.push(s)}return i};Jn.checkUnreserved=function(t){var e=t.start,n=t.end,r=t.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(e,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(e,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,n).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+r+"' is reserved"))}};Jn.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};Jn.parseIdentNode=function(){var t=this.startNode();return this.type===ye.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=ye.name):this.unexpected(),t};Jn.parsePrivateIdent=function(){var t=this.startNode();return this.type===ye.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};Jn.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===ye.semi||this.canInsertSemicolon()||this.type!==ye.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(ye.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};Jn.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var tA=is.prototype;tA.raise=function(t,e){var n=ube(this.input,t);e+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(e);throw r.pos=t,r.loc=n,r.raisedAt=this.pos,r};tA.raiseRecoverable=tA.raise;tA.curPosition=function(){if(this.options.locations)return new $1(this.curLine,this.pos-this.lineStart)};var Zm=is.prototype,OXe=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Zm.enterScope=function(t){this.scopeStack.push(new OXe(t))};Zm.exitScope=function(){this.scopeStack.pop()};Zm.treatFunctionsAsVarInScope=function(t){return t.flags&Cv||!this.inModule&&t.flags&q1};Zm.declareName=function(t,e,n){var r=!1;if(e===zf){var i=this.currentScope();r=i.lexical.indexOf(t)>-1||i.functions.indexOf(t)>-1||i.var.indexOf(t)>-1,i.lexical.push(t),this.inModule&&i.flags&q1&&delete this.undefinedExports[t]}else if(e===mbe){var a=this.currentScope();a.lexical.push(t)}else if(e===pbe){var s=this.currentScope();this.treatFunctionsAsVar?r=s.lexical.indexOf(t)>-1:r=s.lexical.indexOf(t)>-1||s.var.indexOf(t)>-1,s.functions.push(t)}else for(var o=this.scopeStack.length-1;o>=0;--o){var l=this.scopeStack[o];if(l.lexical.indexOf(t)>-1&&!(l.flags&hbe&&l.lexical[0]===t)||!this.treatFunctionsAsVarInScope(l)&&l.functions.indexOf(t)>-1){r=!0;break}if(l.var.push(t),this.inModule&&l.flags&q1&&delete this.undefinedExports[t],l.flags&Fz)break}r&&this.raiseRecoverable(n,"Identifier '"+t+"' has already been declared")};Zm.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};Zm.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Zm.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Fz)return e}};Zm.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Fz&&!(e.flags&dbe))return e}};var IR=function(e,n,r){this.type="",this.start=n,this.end=0,e.options.locations&&(this.loc=new CR(e,r)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[n,0])},WS=is.prototype;WS.startNode=function(){return new IR(this,this.start,this.startLoc)};WS.startNodeAt=function(t,e){return new IR(this,t,e)};function vbe(t,e,n,r){return t.type=e,t.end=n,this.options.locations&&(t.loc.end=r),this.options.ranges&&(t.range[1]=n),t}WS.finishNode=function(t,e){return vbe.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};WS.finishNodeAt=function(t,e,n,r){return vbe.call(this,t,e,n,r)};WS.copyNode=function(t){var e=new IR(this,t.start,this.startLoc);for(var n in t)e[n]=t[n];return e};var MXe="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",wbe="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",_be=wbe+" Extended_Pictographic",Sbe=_be,xbe=Sbe+" EBase EComp EMod EPres ExtPict",Ebe=xbe,PXe=Ebe,LXe={9:wbe,10:_be,11:Sbe,12:xbe,13:Ebe,14:PXe},DXe="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",FXe={9:"",10:"",11:"",12:"",13:"",14:DXe},Lne="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",kbe="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Tbe=kbe+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Abe=Tbe+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Cbe=Abe+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Rbe=Cbe+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",BXe=Rbe+" "+MXe,UXe={9:kbe,10:Tbe,11:Abe,12:Cbe,13:Rbe,14:BXe},Ibe={};function jXe(t){var e=Ibe[t]={binary:ym(LXe[t]+" "+Lne),binaryOfStrings:ym(FXe[t]),nonBinary:{General_Category:ym(Lne),Script:ym(UXe[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}for(var MD=0,Dne=[9,10,11,12,13,14];MD<Dne.length;MD+=1){var zXe=Dne[MD];jXe(zXe)}var vn=is.prototype,nA=function(e,n){this.parent=e,this.base=n||this};nA.prototype.separatedFrom=function(e){for(var n=this;n;n=n.parent)for(var r=e;r;r=r.parent)if(n.base===r.base&&n!==r)return!0;return!1};nA.prototype.sibling=function(){return new nA(this.parent,this.base)};var oh=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Ibe[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};oh.prototype.reset=function(e,n,r){var i=r.indexOf("v")!==-1,a=r.indexOf("u")!==-1;this.start=e|0,this.source=n+"",this.flags=r,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=a&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=a&&this.parser.options.ecmaVersion>=9)};oh.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)};oh.prototype.at=function(e,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(e>=i)return-1;var a=r.charCodeAt(e);if(!(n||this.switchU)||a<=55295||a>=57344||e+1>=i)return a;var s=r.charCodeAt(e+1);return s>=56320&&s<=57343?(a<<10)+s-56613888:a};oh.prototype.nextIndex=function(e,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(e>=i)return i;var a=r.charCodeAt(e),s;return!(n||this.switchU)||a<=55295||a>=57344||e+1>=i||(s=r.charCodeAt(e+1))<56320||s>57343?e+1:e+2};oh.prototype.current=function(e){return e===void 0&&(e=!1),this.at(this.pos,e)};oh.prototype.lookahead=function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)};oh.prototype.advance=function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)};oh.prototype.eat=function(e,n){return n===void 0&&(n=!1),this.current(n)===e?(this.advance(n),!0):!1};oh.prototype.eatChars=function(e,n){n===void 0&&(n=!1);for(var r=this.pos,i=0,a=e;i<a.length;i+=1){var s=a[i],o=this.at(r,n);if(o===-1||o!==s)return!1;r=this.nextIndex(r,n)}return this.pos=r,!0};vn.validateRegExpFlags=function(t){for(var e=t.validFlags,n=t.flags,r=!1,i=!1,a=0;a<n.length;a++){var s=n.charAt(a);e.indexOf(s)===-1&&this.raise(t.start,"Invalid regular expression flag"),n.indexOf(s,a+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),s==="u"&&(r=!0),s==="v"&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(t.start,"Invalid regular expression flag")};function $Xe(t){for(var e in t)return!0;return!1}vn.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&$Xe(t.groupNames)&&(t.switchN=!0,this.regexp_pattern(t))};vn.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames=Object.create(null),t.backReferenceNames.length=0,t.branchID=null,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,n=t.backReferenceNames;e<n.length;e+=1){var r=n[e];t.groupNames[r]||t.raise("Invalid named capture referenced")}};vn.regexp_disjunction=function(t){var e=this.options.ecmaVersion>=16;for(e&&(t.branchID=new nA(t.branchID,null)),this.regexp_alternative(t);t.eat(124);)e&&(t.branchID=t.branchID.sibling()),this.regexp_alternative(t);e&&(t.branchID=t.branchID.parent),this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};vn.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};vn.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};vn.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!n,!0}return t.pos=e,!1};vn.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};vn.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};vn.regexp_eatBracedQuantifier=function(t,e){var n=t.pos;if(t.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(i=t.lastIntValue),t.eat(125)))return i!==-1&&i<r&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=n}return!1};vn.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};vn.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};vn.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)){if(this.options.ecmaVersion>=16){var n=this.regexp_eatModifiers(t),r=t.eat(45);if(n||r){for(var i=0;i<n.length;i++){var a=n.charAt(i);n.indexOf(a,i+1)>-1&&t.raise("Duplicate regular expression modifiers")}if(r){var s=this.regexp_eatModifiers(t);!n&&!s&&t.current()===58&&t.raise("Invalid regular expression modifiers");for(var o=0;o<s.length;o++){var l=s.charAt(o);(s.indexOf(l,o+1)>-1||n.indexOf(l)>-1)&&t.raise("Duplicate regular expression modifiers")}}}}if(t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}}t.pos=e}return!1};vn.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};vn.regexp_eatModifiers=function(t){for(var e="",n=0;(n=t.current())!==-1&&qXe(n);)e+=Of(n),t.advance();return e};function qXe(t){return t===105||t===109||t===115}vn.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};vn.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};vn.regexp_eatSyntaxCharacter=function(t){var e=t.current();return Nbe(e)?(t.lastIntValue=e,t.advance(),!0):!1};function Nbe(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}vn.regexp_eatPatternCharacters=function(t){for(var e=t.pos,n=0;(n=t.current())!==-1&&!Nbe(n);)t.advance();return t.pos!==e};vn.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};vn.regexp_groupSpecifier=function(t){if(t.eat(63)){this.regexp_eatGroupName(t)||t.raise("Invalid group");var e=this.options.ecmaVersion>=16,n=t.groupNames[t.lastStringValue];if(n)if(e)for(var r=0,i=n;r<i.length;r+=1){var a=i[r];a.separatedFrom(t.branchID)||t.raise("Duplicate capture group name")}else t.raise("Duplicate capture group name");e?(n||(t.groupNames[t.lastStringValue]=[])).push(t.branchID):t.groupNames[t.lastStringValue]=!0}};vn.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};vn.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=Of(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=Of(t.lastIntValue);return!0}return!1};vn.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,n=this.options.ecmaVersion>=11,r=t.current(n);return t.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,n)&&(r=t.lastIntValue),HXe(r)?(t.lastIntValue=r,!0):(t.pos=e,!1)};function HXe(t){return Nf(t,!0)||t===36||t===95}vn.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,n=this.options.ecmaVersion>=11,r=t.current(n);return t.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,n)&&(r=t.lastIntValue),VXe(r)?(t.lastIntValue=r,!0):(t.pos=e,!1)};function VXe(t){return Yb(t,!0)||t===36||t===95||t===8204||t===8205}vn.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};vn.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var n=t.lastIntValue;if(t.switchU)return n>t.maxBackReference&&(t.maxBackReference=n),!0;if(n<=t.numCapturingParens)return!0;t.pos=e}return!1};vn.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};vn.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};vn.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};vn.regexp_eatZero=function(t){return t.current()===48&&!NR(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};vn.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};vn.regexp_eatControlLetter=function(t){var e=t.current();return Obe(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function Obe(t){return t>=65&&t<=90||t>=97&&t<=122}vn.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var n=t.pos,r=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var i=t.lastIntValue;if(r&&i>=55296&&i<=56319){var a=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var s=t.lastIntValue;if(s>=56320&&s<=57343)return t.lastIntValue=(i-55296)*1024+(s-56320)+65536,!0}t.pos=a,t.lastIntValue=i}return!0}if(r&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&GXe(t.lastIntValue))return!0;r&&t.raise("Invalid unicode escape"),t.pos=n}return!1};function GXe(t){return t>=0&&t<=1114111}vn.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};vn.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var Mbe=0,Mf=1,Pu=2;vn.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(WXe(e))return t.lastIntValue=-1,t.advance(),Mf;var n=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((n=e===80)||e===112)){t.lastIntValue=-1,t.advance();var r;if(t.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return n&&r===Pu&&t.raise("Invalid property name"),r;t.raise("Invalid property name")}return Mbe};function WXe(t){return t===100||t===68||t===115||t===83||t===119||t===87}vn.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var n=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var r=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,n,r),Mf}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var i=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,i)}return Mbe};vn.regexp_validateUnicodePropertyNameAndValue=function(t,e,n){Av(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(n)||t.raise("Invalid property value")};vn.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return Mf;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return Pu;t.raise("Invalid property name")};vn.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";Pbe(e=t.current());)t.lastStringValue+=Of(e),t.advance();return t.lastStringValue!==""};function Pbe(t){return Obe(t)||t===95}vn.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";KXe(e=t.current());)t.lastStringValue+=Of(e),t.advance();return t.lastStringValue!==""};function KXe(t){return Pbe(t)||NR(t)}vn.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};vn.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),n=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&n===Pu&&t.raise("Negated character class may contain strings"),!0}return!1};vn.regexp_classContents=function(t){return t.current()===93?Mf:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),Mf)};vn.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var n=t.lastIntValue;t.switchU&&(e===-1||n===-1)&&t.raise("Invalid character class"),e!==-1&&n!==-1&&e>n&&t.raise("Range out of order in character class")}}};vn.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var n=t.current();(n===99||Fbe(n))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var r=t.current();return r!==93?(t.lastIntValue=r,t.advance(),!0):!1};vn.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};vn.regexp_classSetExpression=function(t){var e=Mf,n;if(!this.regexp_eatClassSetRange(t))if(n=this.regexp_eatClassSetOperand(t)){n===Pu&&(e=Pu);for(var r=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(n=this.regexp_eatClassSetOperand(t))){n!==Pu&&(e=Mf);continue}t.raise("Invalid character in character class")}if(r!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(r!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(n=this.regexp_eatClassSetOperand(t),!n)return e;n===Pu&&(e=Pu)}};vn.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var n=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var r=t.lastIntValue;return n!==-1&&r!==-1&&n>r&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};vn.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?Mf:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};vn.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var n=t.eat(94),r=this.regexp_classContents(t);if(t.eat(93))return n&&r===Pu&&t.raise("Negated character class may contain strings"),r;t.pos=e}if(t.eat(92)){var i=this.regexp_eatCharacterClassEscape(t);if(i)return i;t.pos=e}return null};vn.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var n=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return n}else t.raise("Invalid escape");t.pos=e}return null};vn.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===Pu&&(e=Pu);return e};vn.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?Mf:Pu};vn.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var n=t.current();return n<0||n===t.lookahead()&&YXe(n)||XXe(n)?!1:(t.advance(),t.lastIntValue=n,!0)};function YXe(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}function XXe(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}vn.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return ZXe(e)?(t.lastIntValue=e,t.advance(),!0):!1};function ZXe(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}vn.regexp_eatClassControlLetter=function(t){var e=t.current();return NR(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};vn.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};vn.regexp_eatDecimalDigits=function(t){var e=t.pos,n=0;for(t.lastIntValue=0;NR(n=t.current());)t.lastIntValue=10*t.lastIntValue+(n-48),t.advance();return t.pos!==e};function NR(t){return t>=48&&t<=57}vn.regexp_eatHexDigits=function(t){var e=t.pos,n=0;for(t.lastIntValue=0;Lbe(n=t.current());)t.lastIntValue=16*t.lastIntValue+Dbe(n),t.advance();return t.pos!==e};function Lbe(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function Dbe(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}vn.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var n=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+n*8+t.lastIntValue:t.lastIntValue=e*8+n}else t.lastIntValue=e;return!0}return!1};vn.regexp_eatOctalDigit=function(t){var e=t.current();return Fbe(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function Fbe(t){return t>=48&&t<=55}vn.regexp_eatFixedHexDigits=function(t,e){var n=t.pos;t.lastIntValue=0;for(var r=0;r<e;++r){var i=t.current();if(!Lbe(i))return t.pos=n,!1;t.lastIntValue=16*t.lastIntValue+Dbe(i),t.advance()}return!0};var zz=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new CR(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},Pr=is.prototype;Pr.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new zz(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};Pr.getToken=function(){return this.next(),new zz(this)};typeof Symbol<"u"&&(Pr[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===ye.eof,value:e}}}});Pr.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(ye.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};Pr.readToken=function(t){return Nf(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};Pr.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};Pr.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=e;(r=sbe(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,n),e,this.pos,t,this.curPosition())};Pr.skipLineComment=function(t){for(var e=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!Tv(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,n,this.curPosition())};Pr.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&obe.test(String.fromCharCode(t)))++this.pos;else break e}}};Pr.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=t,this.value=e,this.updateContext(n)};Pr.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(ye.ellipsis)):(++this.pos,this.finishToken(ye.dot))};Pr.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(ye.assign,2):this.finishOp(ye.slash,1)};Pr.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),n=1,r=t===42?ye.star:ye.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++n,r=ye.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(ye.assign,n+1):this.finishOp(r,n)};Pr.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(ye.assign,3)}return this.finishOp(t===124?ye.logicalOR:ye.logicalAND,2)}return e===61?this.finishOp(ye.assign,2):this.finishOp(t===124?ye.bitwiseOR:ye.bitwiseAND,1)};Pr.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(ye.assign,2):this.finishOp(ye.bitwiseXOR,1)};Pr.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Gu.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(ye.incDec,2):e===61?this.finishOp(ye.assign,2):this.finishOp(ye.plusMin,1)};Pr.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),n=1;return e===t?(n=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(ye.assign,n+1):this.finishOp(ye.bitShift,n)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(n=2),this.finishOp(ye.relational,n))};Pr.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(ye.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(ye.arrow)):this.finishOp(t===61?ye.eq:ye.prefix,1)};Pr.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(ye.questionDot,2)}if(e===63){if(t>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(ye.assign,3)}return this.finishOp(ye.coalesce,2)}}return this.finishOp(ye.question,1)};Pr.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),Nf(e,!0)||e===92))return this.finishToken(ye.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Of(e)+"'")};Pr.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(ye.parenL);case 41:return++this.pos,this.finishToken(ye.parenR);case 59:return++this.pos,this.finishToken(ye.semi);case 44:return++this.pos,this.finishToken(ye.comma);case 91:return++this.pos,this.finishToken(ye.bracketL);case 93:return++this.pos,this.finishToken(ye.bracketR);case 123:return++this.pos,this.finishToken(ye.braceL);case 125:return++this.pos,this.finishToken(ye.braceR);case 58:return++this.pos,this.finishToken(ye.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(ye.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(ye.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Of(t)+"'")};Pr.finishOp=function(t,e){var n=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,n)};Pr.readRegexp=function(){for(var t,e,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(Gu.test(r)&&this.raise(n,"Unterminated regular expression"),t)t=!1;else{if(r==="[")e=!0;else if(r==="]"&&e)e=!1;else if(r==="/"&&!e)break;t=r==="\\"}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var a=this.pos,s=this.readWord1();this.containsEsc&&this.unexpected(a);var o=this.regexpState||(this.regexpState=new oh(this));o.reset(n,i,s),this.validateRegExpFlags(o),this.validateRegExpPattern(o);var l=null;try{l=new RegExp(i,s)}catch{}return this.finishToken(ye.regexp,{pattern:i,flags:s,value:l})};Pr.readInt=function(t,e,n){for(var r=this.options.ecmaVersion>=12&&e===void 0,i=n&&this.input.charCodeAt(this.pos)===48,a=this.pos,s=0,o=0,l=0,u=e??1/0;l<u;++l,++this.pos){var d=this.input.charCodeAt(this.pos),h=void 0;if(r&&d===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),o===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),l===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),o=d;continue}if(d>=97?h=d-97+10:d>=65?h=d-65+10:d>=48&&d<=57?h=d-48:h=1/0,h>=t)break;o=d,s=s*t+h}return r&&o===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===a||e!=null&&this.pos-a!==e?null:s};function QXe(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}function Bbe(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}Pr.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var n=this.readInt(t);return n==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=Bbe(this.input.slice(e,this.pos)),++this.pos):Nf(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(ye.num,n)};Pr.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var n=this.pos-e>=2&&this.input.charCodeAt(e)===48;n&&this.strict&&this.raise(e,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!t&&this.options.ecmaVersion>=11&&r===110){var i=Bbe(this.input.slice(e,this.pos));return++this.pos,Nf(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(ye.num,i)}n&&/[89]/.test(this.input.slice(e,this.pos))&&(n=!1),r===46&&!n&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!n&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),Nf(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=QXe(this.input.slice(e,this.pos),n);return this.finishToken(ye.num,a)};Pr.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else e=this.readHexChar(4);return e};Pr.readString=function(t){for(var e="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===t)break;r===92?(e+=this.input.slice(n,this.pos),e+=this.readEscapedChar(!1),n=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Tv(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(n,this.pos++),this.finishToken(ye.string,e)};var Ube={};Pr.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===Ube)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};Pr.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Ube;this.raise(t,e)};Pr.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===ye.template||this.type===ye.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(ye.dollarBraceL)):(++this.pos,this.finishToken(ye.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(ye.template,t));if(n===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(Tv(n)){switch(t+=this.input.slice(e,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};Pr.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(ye.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};Pr.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Of(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,e=this.input.charCodeAt(this.pos),(r!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-r.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return Tv(e)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(e)}};Pr.readHexChar=function(t){var e=this.pos,n=this.readInt(16,t);return n===null&&this.invalidStringToken(e,"Bad character escape sequence"),n};Pr.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(Yb(i,r))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,t+=this.input.slice(n,this.pos);var a=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var s=this.readCodePoint();(e?Nf:Yb)(s,r)||this.invalidStringToken(a,"Invalid Unicode escape"),t+=Of(s),n=this.pos}else break;e=!1}return t+this.input.slice(n,this.pos)};Pr.readWord=function(){var t=this.readWord1(),e=ye.name;return this.keywords.test(t)&&(e=Pz[t]),this.finishToken(e,t)};var JXe="8.14.0";is.acorn={Parser:is,version:JXe,defaultOptions:g8,Position:$1,SourceLocation:CR,getLineInfo:ube,Node:IR,TokenType:Wr,tokTypes:ye,keywordTypes:Pz,TokContext:Sc,tokContexts:Wi,isIdentifierChar:Yb,isIdentifierStart:Nf,Token:zz,isNewLine:Tv,lineBreak:Gu,lineBreakG:_Xe,nonASCIIwhitespace:obe};function eZe(t,e){return is.parse(t,e)}var tZe=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},nZe=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Pk;class OR{constructor(){Pk.set(this,[]),this.visitor=new pXe,this.scope=this.visitor.scope,this.scope.set("print",e=>console.log(...e)),this.defineObject("console",console),this.defineObject("Math",Math),this.defineObject("String",String),this.defineObject("Number",Number),this.defineObject("Array",Array),this.defineObject("Date",Date)}defineObject(e,n){this.visitor.on(e,(r,i)=>{if(r.type==="Identifier")return n;if(r.type==="CallExpression"&&r.callee.type==="MemberExpression"){const a=i.visitNode(r.callee.property),s=r.arguments.map(l=>i.visitNode(l)),o=n[a];return o?o.apply(n,s):"__continue_exec"}return"__continue_exec"})}evaluate(e){const n=OR.parseScript(e);return tZe(this,Pk,n.body,"f"),this.visitor.setAST(nZe(this,Pk,"f")),this.visitor.run()}static parseScript(e){try{return eZe(e,{ecmaVersion:2020})}catch(n){const r=n.message.match(/\((\d+):(\d+)\)/);if(r){const i=parseInt(r[1],10),a=parseInt(r[2],10),o=e.split(`
`)[i-1],l=o?o.substring(Math.max(0,a-10),a+10):"";throw new QT(`${n.message.replace(/\(.*\)/,"").trim()} at line ${i}, column ${a}: ${l}`,{errorLine:o})}else throw new QT(n.message)}}}Pk=new WeakMap;let PD;class Hr{static load(e){PD=e}static get shim(){if(!PD)throw new Error("Platform is not loaded");return PD}}class Pe extends Error{constructor(e,n){super(e),n&&(this.info=n),this.date=new Date,this.version=Hr.shim.info.version}}class x0 extends Pe{}class rZe extends Pe{}class Vs extends Pe{}class Ty extends Error{}class Fne extends Error{}class iZe extends Error{}function Bne(t,e){return Reflect.ownKeys(t).some(r=>{const i=e[r]instanceof Y;return!i&&typeof e[r]=="object"?JSON.stringify(t[r])===JSON.stringify(e[r]):t[r]===(i?e[r].toString():e[r])})}function $c(t,e,n){const r=new RegExp(`${Une(e)}(.*?)${Une(n)}`,"s"),i=t.match(r);return i?i[1]:void 0}function Une(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function jbe(t){const e=PYe[t],n=Math.floor(Math.random()*e.length);return e[n]}async function aZe(t){const e="https://www.youtube.com",n=Math.floor(new Date().getTime()/1e3),r=[n,t,e].join(" "),i=await Hr.shim.sha1Hash(r);return["SAPISIDHASH",[n,i].join("_")].join(" ")}function _m(t){const e=[],n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}function Pf(t){const e=t.split(":").map(n=>parseInt(n.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}function sZe(...t){const e=new ype;for(const n of t)if(n)for(const r of n){const i=e.get(r[0]);if(i){e.set(r[0],[...i,...r[1]]);continue}e.set(...r)}return e}function ai(t){for(const[e,n]of Object.entries(t))if(!n)throw new rZe(`${e} is missing`)}async function*oZe(t){const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)return;yield r}}finally{e.releaseLock()}}function Vl(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}function lZe(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=e.padEnd(e.length+(4-e.length%4)%4,"=");return new Uint8Array(atob(n).split("").map(r=>r.charCodeAt(0)))}function Pl(t){return!("emoji"in t)}function uZe(t,e,n=!1){const r=n?`(^|\\s?)\\b${e}\\b=([^;]+)`:`(^|s?)${e}=([^;]+)`,i=t.match(new RegExp(r));return i?i[2]:void 0}function LD(t,e){const{name:n,includes:r,regexp:i}=e,s=[OR.parseScript(t)];for(let o=0;o<s.length;o++){const l=s[o];if(l.type==="ExpressionStatement"&&l.expression.type==="AssignmentExpression"&&l.expression.left.type==="Identifier"&&l.expression.right.type==="FunctionExpression"){const u=t.substring(l.start,l.end);if(n&&l.expression.left.name===n||r&&u.indexOf(r)>-1||i&&i.test(u))return{start:l.start,end:l.end,name:l.expression.left.name,node:l,result:u}}for(const u in l){const d=l[u];Array.isArray(d)?s.push(...d):typeof d=="object"&&d!==null&&s.push(d)}}}async function cZe(t){const e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function n(r){const i=new Uint8Array(r),a=[];for(let s=0;s<i.length;++s)a.push(e[i[s]]);return a.join("")}return n(await crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))}const dZe="13.1.0",hZe={url:"https://github.com/LuanRT/YouTube.js/issues"},fZe="https://github.com/LuanRT/YouTube.js#readme",DD={version:dZe,bugs:hZe,homepage:fZe};var tm,Qs,zbe,Zy;const Aw="OAuth2";class pZe{constructor(e){tm.add(this),Qs.set(this,void 0),kt(this,Qs,e,"f"),this.YTTV_URL=new URL("/tv",za.YT_BASE),this.AUTH_SERVER_CODE_URL=new URL("/o/oauth2/device/code",za.YT_BASE),this.AUTH_SERVER_TOKEN_URL=new URL("/o/oauth2/token",za.YT_BASE),this.AUTH_SERVER_REVOKE_TOKEN_URL=new URL("/o/oauth2/revoke",za.YT_BASE)}async init(e){if(e){this.setTokens(e),this.shouldRefreshToken()&&await this.refreshAccessToken(),L(this,Qs,"f").emit("auth",{credentials:this.oauth2_tokens});return}if(await L(this,tm,"m",zbe).call(this)){Io(Aw,"Loaded OAuth2 tokens from cache.",this.oauth2_tokens);return}this.client_id||(this.client_id=await this.getClientID());const r=await this.getDeviceAndUserCode();L(this,Qs,"f").emit("auth-pending",r),this.pollForAccessToken(r)}setTokens(e){const n=e;if(n.expires_in&&(n.expiry_date=new Date(Date.now()+n.expires_in*1e3).toISOString(),delete n.expires_in),!this.validateTokens(n))throw new Vs("Invalid tokens provided.");this.oauth2_tokens=n,n.client&&(Io(Aw,"Using provided client id and secret."),this.client_id=n.client)}async cacheCredentials(){const n=new TextEncoder().encode(JSON.stringify(this.oauth2_tokens));await L(this,Qs,"f").cache?.set("youtubei_oauth_credentials",n.buffer)}async removeCache(){await L(this,Qs,"f").cache?.remove("youtubei_oauth_credentials")}pollForAccessToken(e){if(!this.client_id)throw new Vs("Client ID is missing.");const{device_code:n,interval:r}=e,{client_id:i,client_secret:a}=this.client_id,s={client_id:i,client_secret:a,code:n,grant_type:"http://oauth.net/grant_type/device/1.0"},o=setInterval(async()=>{const u=await(await L(this,tm,"a",Zy).fetch_function(this.AUTH_SERVER_TOKEN_URL,{body:JSON.stringify(s),method:"POST",headers:{"Content-Type":"application/json"}})).json();if(u.error){switch(u.error){case"access_denied":L(this,Qs,"f").emit("auth-error",new Vs("Access was denied.",u)),clearInterval(o);break;case"expired_token":L(this,Qs,"f").emit("auth-error",new Vs("The device code has expired.",u)),clearInterval(o);break;case"authorization_pending":case"slow_down":Io(Aw,"Polling for access token...");break;default:L(this,Qs,"f").emit("auth-error",new Vs("Server returned an unexpected error.",u)),clearInterval(o);break}return}this.setTokens(u),L(this,Qs,"f").emit("auth",{credentials:this.oauth2_tokens}),clearInterval(o)},r*1e3)}async revokeCredentials(){if(!this.oauth2_tokens)throw new Vs("Access token not found");await this.removeCache();const e=this.AUTH_SERVER_REVOKE_TOKEN_URL;return e.searchParams.set("token",this.oauth2_tokens.access_token),L(this,Qs,"f").http.fetch_function(e,{method:"POST"})}async refreshAccessToken(){if(this.client_id||(this.client_id=await this.getClientID()),!this.oauth2_tokens)throw new Vs("No tokens available to refresh.");const{client_id:e,client_secret:n}=this.client_id,{refresh_token:r}=this.oauth2_tokens,i={client_id:e,client_secret:n,refresh_token:r,grant_type:"refresh_token"},a=await L(this,tm,"a",Zy).fetch_function(this.AUTH_SERVER_TOKEN_URL,{body:JSON.stringify(i),method:"POST",headers:{"Content-Type":"application/json"}});if(!a.ok)throw new Vs(`Failed to refresh access token: ${a.status}`);const s=await a.json();if(s.error_code)throw new Vs("Authorization server returned an error",s);this.oauth2_tokens.access_token=s.access_token,this.oauth2_tokens.expiry_date=new Date(Date.now()+s.expires_in*1e3).toISOString(),L(this,Qs,"f").emit("update-credentials",{credentials:this.oauth2_tokens})}async getDeviceAndUserCode(){if(!this.client_id)throw new Vs("Client ID is missing.");const{client_id:e}=this.client_id,n={client_id:e,scope:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",device_id:Hr.shim.uuidv4(),device_model:"ytlr::"},r=await L(this,tm,"a",Zy).fetch_function(this.AUTH_SERVER_CODE_URL,{body:JSON.stringify(n),method:"POST",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Vs(`Failed to get device/user code: ${r.status}`);const i=await r.json();if(i.error_code)throw new Vs("Authorization server returned an error",i);return i}async getClientID(){const e=await L(this,tm,"a",Zy).fetch_function(this.YTTV_URL,{headers:{"User-Agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version",Referer:"https://www.youtube.com/tv","Accept-Language":"en-US"}});if(!e.ok)throw new Vs(`Failed to get client ID: ${e.status}`);const n=await e.text();let r;if((r=Bte.REGEX.TV_SCRIPT.exec(n))!==null){Io(Aw,`Got YouTubeTV script URL (${r[1]})`);const i=await L(this,tm,"a",Zy).fetch(r[1],{baseURL:za.YT_BASE});if(!i.ok)throw new Vs(`TV script request failed with status code ${i.status}`);const s=(await i.text()).match(Bte.REGEX.CLIENT_IDENTITY);if(!s||!s.groups)throw new Vs("Could not obtain client ID.");const{client_id:o,client_secret:l}=s.groups;return Io(Aw,`Client identity retrieved (clientId=${o}, clientSecret=${l}).`),{client_id:o,client_secret:l}}throw new Vs("Could not obtain script URL.")}shouldRefreshToken(){return this.oauth2_tokens?Date.now()>new Date(this.oauth2_tokens.expiry_date).getTime():!1}validateTokens(e){return!(!e.access_token||!e.refresh_token||!e.expiry_date)}}Qs=new WeakMap,tm=new WeakSet,zbe=async function(){const e=await L(this,Qs,"f").cache?.get("youtubei_oauth_credentials");if(!e)return!1;const n=new TextDecoder,r=JSON.parse(n.decode(e));return this.setTokens(r),L(this,Qs,"f").emit("auth",{credentials:r}),!0},Zy=function(){return L(this,Qs,"f").http};var b_,$be,qbe,Hbe;class mZe{constructor(e){b_.add(this),this.session=e}async stats(e,n,r){const i=new URL(e);i.searchParams.set("ver","2"),i.searchParams.set("c",n.client_name.toLowerCase()),i.searchParams.set("cbrver",n.client_version),i.searchParams.set("cver",n.client_version);for(const a of Object.keys(r))i.searchParams.set(a,r[a]);return await this.session.http.fetch(i)}async execute(e,n){let r;if(n&&!n.protobuf){if(r={...n},Reflect.has(r,"browseId")&&!n.skip_auth_check&&L(this,b_,"m",Hbe).call(this,r.browseId)&&!this.session.logged_in)throw new Pe("You must be signed in to perform this operation.");Reflect.has(r,"skip_auth_check")&&delete r.skip_auth_check,Reflect.has(r,"override_endpoint")&&delete r.override_endpoint,Reflect.has(r,"parse")&&delete r.parse,Reflect.has(r,"request")&&delete r.request,Reflect.has(r,"clientActions")&&delete r.clientActions,Reflect.has(r,"settingItemIdForClient")&&delete r.settingItemIdForClient,Reflect.has(r,"action")&&(r.actions=[r.action],delete r.action),Reflect.has(r,"boolValue")&&(r.newValue={boolValue:r.boolValue},delete r.boolValue),Reflect.has(r,"token")&&(r.continuation=r.token,delete r.token),r?.client==="YTMUSIC"&&(r.isAudioOnly=!0)}else n&&(r=n.serialized_data);const i=Reflect.has(n||{},"override_endpoint")?n?.override_endpoint:e,a=await this.session.http.fetch(i,{method:"POST",body:n?.protobuf?r:JSON.stringify(r||{}),headers:{"Content-Type":n?.protobuf?"application/x-protobuf":"application/json"}});if(n?.parse){let s=Hi(await a.json());if(L(this,b_,"m",qbe).call(this,s)&&s.on_response_received_actions?.[0]?.type==="navigateAction"){const o=s.on_response_received_actions.firstOfType(fz);o&&(s=await o.endpoint.call(this,{parse:!0}))}return s}return L(this,b_,"m",$be).call(this,a)}}b_=new WeakSet,$be=async function(e){return{success:e.ok,status_code:e.status,data:JSON.parse(await e.text())}},qbe=function(e){return"on_response_received_actions"in e},Hbe=function(e){return["FElibrary","FEhistory","FEsubscriptions","FEchannels","FEplaylist_aggregation","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)};const bd="Player";class sm{constructor(e,n,r,i){this.player_id=e,this.sts=n,this.nsig_sc=i,this.sig_sc=r}static async create(e,n=Hr.shim.fetch,r){const i=new URL("/iframe_api",za.YT_BASE),a=await n(i);if(!a.ok)throw new Ty(`Failed to get player id: ${a.status} (${a.statusText})`);const s=await a.text(),o=$c(s,"player\\/","\\/");if(Io(bd,`Got player id (${o}). Checking for cached players..`),!o)throw new Ty("Failed to get player id");if(e){const w=await sm.fromCache(e,o);if(w)return Io(bd,"Found up-to-date player data in cache."),w.po_token=r,w}const l=new URL(`/s/player/${o}/player_ias.vflset/en_US/base.js`,za.YT_BASE);Io(bd,`Could not find any cached player. Will download a new player from ${l}.`);const u=await n(l,{headers:{"user-agent":jbe("desktop")}});if(!u.ok)throw new Ty(`Failed to get player data: ${u.status}`);const d=await u.text(),h=this.extractSigTimestamp(d),p=this.extractSigSourceCode(d),m=this.extractNSigSourceCode(d);Io(bd,`Got signature timestamp (${h}) and algorithms needed to decipher signatures.`);const v=await sm.fromSource(o,h,e,p,m);return v.po_token=r,v}decipher(e,n,r,i){if(e=e||n||r,!e)throw new Ty("No valid URL to decipher");const a=new URLSearchParams(e),s=new URL(a.get("url")||e);if(this.sig_sc&&(n||r)){const d=Hr.shim.eval(this.sig_sc,{sig:a.get("s")});if(Io(bd,`Transformed signature from ${a.get("s")} to ${d}.`),typeof d!="string")throw new Ty("Failed to decipher signature");const h=a.get("sp");h?s.searchParams.set(h,d):s.searchParams.set("signature",d)}const o=s.searchParams.get("n");if(this.nsig_sc&&o){let d;if(i&&i.has(o))d=i.get(o);else{if(d=Hr.shim.eval(this.nsig_sc,{nsig:o}),Io(bd,`Transformed n signature from ${o} to ${d}.`),typeof d!="string")throw new Ty("Failed to decipher nsig");d.startsWith("enhanced_except_")?Js(bd,"Something went wrong while deciphering nsig."):i&&i.set(o,d)}s.searchParams.set("n",d)}switch(s.searchParams.get("sabr")!=="1"&&this.po_token&&s.searchParams.set("pot",this.po_token),s.searchParams.get("c")){case"WEB":s.searchParams.set("cver",Zn.WEB.VERSION);break;case"MWEB":s.searchParams.set("cver",Zn.MWEB.VERSION);break;case"WEB_REMIX":s.searchParams.set("cver",Zn.YTMUSIC.VERSION);break;case"WEB_KIDS":s.searchParams.set("cver",Zn.WEB_KIDS.VERSION);break;case"TVHTML5":s.searchParams.set("cver",Zn.TV.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":s.searchParams.set("cver",Zn.TV_EMBEDDED.VERSION);break;case"WEB_EMBEDDED_PLAYER":s.searchParams.set("cver",Zn.WEB_EMBEDDED.VERSION);break}const u=s.toString();return Io(bd,`Deciphered URL: ${u}`),s.toString()}static async fromCache(e,n){const r=await e.get(n);if(!r)return null;const i=new DataView(r);if(i.getUint32(0,!0)!==sm.LIBRARY_VERSION)return null;const s=i.getUint32(4,!0),o=i.getUint32(8,!0),l=r.slice(12,12+o),u=r.slice(12+o),d=Y5(new TextDecoder().decode(l)),h=Y5(new TextDecoder().decode(u));return new sm(n,s,d,h)}static async fromSource(e,n,r,i,a){const s=new sm(e,n,i,a);return await s.cache(r),s}async cache(e){if(!e||!this.sig_sc||!this.nsig_sc)return;const n=new TextEncoder,r=n.encode(K5(this.sig_sc)),i=n.encode(K5(this.nsig_sc)),a=new ArrayBuffer(12+r.byteLength+i.byteLength),s=new DataView(a);s.setUint32(0,sm.LIBRARY_VERSION,!0),s.setUint32(4,this.sts,!0),s.setUint32(8,r.byteLength,!0),new Uint8Array(a).set(r,12),new Uint8Array(a).set(i,12+r.byteLength),await e.set(this.player_id,new Uint8Array(a))}static extractSigTimestamp(e){return parseInt($c(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){const n=e.match(/function\(([A-Za-z_0-9]+)\)\{([A-Za-z_0-9]+=[A-Za-z_0-9]+\.split\(""\)(.+?)\.join\(""\))\}/);if(!n){Js(bd,"Failed to extract signature decipher algorithm.");return}const r=n[1],i=n[3].split(/\.|\[/)[0]?.replace(";","").trim(),a=$c(e,`var ${i}={`,"};");return(!a||!r)&&Js(bd,"Failed to extract signature decipher algorithm."),`function descramble_sig(${r}) { let ${i}={${a}}; ${n[2]} } descramble_sig(sig);`}static extractNSigSourceCode(e){let n=LD(e,{includes:"enhanced_except"});if(n||(n=LD(e,{includes:"-_w8_"})),n||(n=LD(e,{includes:"1969"})),n)return`${n.result} ${n.name}(nsig);`}get url(){return new URL(`/s/player/${this.player_id}/player_ias.vflset/en_US/base.js`,za.YT_BASE).toString()}static get LIBRARY_VERSION(){return 13}}var Xg,Vbe,Gbe,Wbe,jne,v8;(function(t){t.WEB="WEB",t.MWEB="MWEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.IOS="iOS",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV="TVHTML5",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER",t.WEB_EMBEDDED="WEB_EMBEDDED_PLAYER",t.WEB_CREATOR="WEB_CREATOR"})(v8||(v8={}));const Qy="Session";class Kbe extends bpe{constructor(e,n,r,i,a,s,o,l,u){super(),this.http=new mWe(this,s,o),this.actions=new mZe(this),this.oauth=new pZe(this),this.logged_in=!!s,this.cache=l,this.account_index=i,this.key=n,this.api_version=r,this.context=e,this.player=a,this.po_token=u,this.cookie=s,this.user_agent=e.client.userAgent}on(e,n){super.on(e,n)}once(e,n){super.once(e,n)}static async create(e={}){const{context:n,api_key:r,api_version:i,account_index:a}=await Xg.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.user_agent,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user,e.cache,e.enable_session_cache,e.po_token);return new Xg(n,r,i,a,e.retrieve_player===!1?void 0:await sm.create(e.cache,e.fetch,e.po_token),e.cookie,e.fetch,e.cache,e.po_token)}static async fromCache(e,n){const r=await e.get("innertube_session_data");if(!r)return null;const i=new TextDecoder().decode(r.slice(4));try{const a=JSON.parse(Y5(i));return n.visitor_data&&(a.context.client.visitorData=n.visitor_data),n.lang&&(a.context.client.hl=n.lang),n.location&&(a.context.client.gl=n.location),n.on_behalf_of_user&&(a.context.user.onBehalfOfUser=n.on_behalf_of_user),n.user_agent&&(a.context.client.userAgent=n.user_agent),a.context.client.timeZone=n.time_zone,a.context.client.platform=n.device_category.toUpperCase(),a.context.client.clientName=n.client_name,a.context.user.enableSafetyMode=n.enable_safety_mode,a}catch(a){return Fte(Qy,"Failed to parse session data from cache.",a),null}}static async getSessionData(e="",n="",r=0,i="",a=jbe("desktop"),s=!1,o=!1,l="desktop",u=v8.WEB,d=Intl.DateTimeFormat().resolvedOptions().timeZone,h=Hr.shim.fetch,p,m,v=!0,w){const k={lang:e,location:n,time_zone:d,user_agent:a,device_category:l,client_name:u,enable_safety_mode:s,visitor_data:i,on_behalf_of_user:p,po_token:w};let T;if(m&&v){const C=await this.fromCache(m,k);C&&(Io(Qy,"Found session data in cache."),T=C)}if(!T){Io(Qy,"Generating session data.");let C=Zn.WEB.API_KEY,N=Zn.WEB.API_VERSION,F={hl:e||"en",gl:n||"US",remote_host:"",user_agent:a,visitor_data:i||bKe(_m(11),Math.floor(Date.now()/1e3)),client_name:u,client_version:Zn.WEB.VERSION,device_category:l.toUpperCase(),os_name:"Windows",os_version:"10.0",time_zone:d,browser_name:"Chrome",browser_version:"125.0.0.0",device_make:"",device_model:"",enable_safety_mode:s};if(!o)try{const D=await L(this,Xg,"m",Gbe).call(this,k,h);C=D.api_key,N=D.api_version,F=D.context_data}catch(D){Fte(Qy,"Failed to retrieve session data from server. Session data generated locally will be used instead.",D)}p&&(F.on_behalf_of_user=p),T={api_key:C,api_version:N,context:L(this,Xg,"m",Wbe).call(this,F)},v&&await L(this,Xg,"m",Vbe).call(this,T,m)}return O1(Qy,"Session data:",T),{...T,account_index:r}}async signIn(e){return new Promise(async(n,r)=>{const i=a=>r(a);this.once("auth-error",i),this.once("auth",()=>{this.off("auth-error",i),this.logged_in=!0,n()});try{await this.oauth.init(e)}catch(a){r(a)}})}async signOut(){if(!this.logged_in)throw new Pe("You must be signed in to perform this operation.");const e=await this.oauth.revokeCredentials();return this.logged_in=!1,e}get client_version(){return this.context.client.clientVersion}get client_name(){return this.context.client.clientName}get lang(){return this.context.client.hl}}Xg=Kbe,Vbe=async function(e,n){if(!n)return;Io(Qy,"Compressing and caching session data.");const r=new TextEncoder().encode(K5(JSON.stringify(e))),i=new ArrayBuffer(4+r.byteLength);new DataView(i).setUint32(0,r.byteLength,!0),new Uint8Array(i).set(r,4),await n.set("innertube_session_data",new Uint8Array(i))},Gbe=async function(e,n=Hr.shim.fetch){let r=_m(11);e.visitor_data&&(r=L(this,Xg,"m",jne).call(this,e.visitor_data));const i=new URL("/sw.js_data",za.YT_BASE),a=await n(i,{headers:{"Accept-Language":e.lang||"en-US","User-Agent":e.user_agent,Accept:"*/*",Referer:`${za.YT_BASE}/sw.js`,Cookie:`PREF=tz=${e.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${r};`}});if(!a.ok)throw new Fne(`Failed to retrieve session data: ${a.status}`);const s=await a.text();if(!s.startsWith(")]}'"))throw new Fne("Invalid JSPB response");const l=JSON.parse(s.replace(/^\)\]\}'/,""))[0][2],u=Zn.WEB.API_VERSION,[[d],h]=l,p=d[61],m=p[p.length-1];return{context_data:{hl:e.lang||d[0],gl:e.location||d[2],remote_host:d[3],visitor_data:e.visitor_data||d[13],user_agent:e.user_agent,client_name:e.client_name,client_version:d[16],os_name:d[17],os_version:d[18],time_zone:d[79]||e.time_zone,device_category:e.device_category,browser_name:d[86],browser_version:d[87],device_make:d[11],device_model:d[12],app_install_data:m,enable_safety_mode:e.enable_safety_mode},api_key:h,api_version:u}},Wbe=function(e){const n={client:{hl:e.hl||"en",gl:e.gl||"US",remoteHost:e.remote_host,screenDensityFloat:1,screenHeightPoints:1440,screenPixelDensity:1,screenWidthPoints:2560,visitorData:e.visitor_data,clientName:e.client_name,clientVersion:e.client_version,osName:e.os_name,osVersion:e.os_version,userAgent:e.user_agent,platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:za.YT_BASE,deviceMake:e.device_make,deviceModel:e.device_model,browserName:e.browser_name,browserVersion:e.browser_version,utcOffsetMinutes:-Math.floor(new Date().getTimezoneOffset()),memoryTotalKbytes:"8000000",mainAppWebInfo:{graftUrl:za.YT_BASE,pwaInstallabilityStatus:"PWA_INSTALLABILITY_STATUS_UNKNOWN",webDisplayMode:"WEB_DISPLAY_MODE_BROWSER",isWebNativeShareAvailable:!0}},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1},request:{useSsl:!0,internalExperimentFlags:[]}};return e.app_install_data&&(n.client.configInfo={appInstallData:e.app_install_data}),e.on_behalf_of_user&&(n.user.onBehalfOfUser=e.on_behalf_of_user),n},jne=function(e){return vKe(e).id};var gs;class gZe{constructor(e){gs.set(this,void 0),kt(this,gs,e,"f")}async search(e){const r=await new Me({searchEndpoint:{query:e}}).call(L(this,gs,"f").actions,{client:"YTKIDS"});return new NYe(L(this,gs,"f").actions,r)}async getInfo(e){const n={videoId:e},r=new Me({watchEndpoint:n}),i=new Me({watchNextEndpoint:n}),a={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:L(this,gs,"f").player?.sts}},client:"YTKIDS"};L(this,gs,"f").po_token&&(a.serviceIntegrityDimensions={poToken:L(this,gs,"f").po_token});const s=r.call(L(this,gs,"f").actions,a),o=i.call(L(this,gs,"f").actions,{client:"YTKIDS"}),l=await Promise.all([s,o]),u=_m(16);return new OYe(l,L(this,gs,"f").actions,u)}async getChannel(e){const r=await new Me({browseEndpoint:{browseId:e}}).call(L(this,gs,"f").actions,{client:"YTKIDS"});return new Nz(L(this,gs,"f").actions,r)}async getHomeFeed(){const n=await new Me({browseEndpoint:{browseId:"FEkids_home"}}).call(L(this,gs,"f").actions,{client:"YTKIDS"});return new Oz(L(this,gs,"f").actions,n)}async blockChannel(e){if(!L(this,gs,"f").logged_in)throw new Pe("You must be signed in to perform this operation.");const a={contents:(await new Me({getKidsBlocklistPickerCommand:{blockedForKidsContent:{external_channel_id:e}}}).call(L(this,gs,"f").actions,{client:"YTKIDS"})).data.command.confirmDialogEndpoint.content,engagementPanels:[]},o=Hi(a).contents_memo?.getType(bR);if(!o)throw new Pe("Could not find any kids profiles or supervised accounts.");const l=[];for(const u of o)u.block_button?.is_toggled||(u.setActions(L(this,gs,"f").actions),l.push(await u.blockChannel()));return l}}gs=new WeakMap;var Jy,uf,pi,Ybe,Lk;class yZe{constructor(e){Jy.add(this),uf.set(this,void 0),pi.set(this,void 0),kt(this,uf,e,"f"),kt(this,pi,e.actions,"f")}getInfo(e){return e instanceof aR?L(this,Jy,"m",Lk).call(this,e.endpoint):e instanceof _f?L(this,Jy,"m",Lk).call(this,e.overlay?.content?.endpoint??e.endpoint):e instanceof Me?L(this,Jy,"m",Lk).call(this,e):L(this,Jy,"m",Ybe).call(this,e)}async search(e,n={}){ai({query:e});let r;if(n.type&&n.type!=="all"){const s=Npe.encode({filters:{musicSearchType:{[n.type]:!0}}});r=encodeURIComponent(Vl(s.finish()))}const a=await new Me({searchEndpoint:{query:e,params:r}}).call(L(this,pi,"f"),{client:"YTMUSIC"});return new IYe(a,L(this,pi,"f"),Reflect.has(n,"type")&&n.type!=="all")}async getHomeFeed(){const n=await new Me({browseEndpoint:{browseId:"FEmusic_home"}}).call(L(this,pi,"f"),{client:"YTMUSIC"});return new CYe(n,L(this,pi,"f"))}async getExplore(){const n=await new Me({browseEndpoint:{browseId:"FEmusic_explore"}}).call(L(this,pi,"f"),{client:"YTMUSIC"});return new AYe(n)}async getLibrary(){const n=await new Me({browseEndpoint:{browseId:"FEmusic_library_landing"}}).call(L(this,pi,"f"),{client:"YTMUSIC"});return new Cz(n,L(this,pi,"f"))}async getArtist(e){if(!e||!e.startsWith("UC")&&!e.startsWith("FEmusic_library_privately_owned_artist"))throw new Pe("Invalid artist id",e);const r=await new Me({browseEndpoint:{browseId:e}}).call(L(this,pi,"f"),{client:"YTMUSIC"});return new TYe(r,L(this,pi,"f"))}async getAlbum(e){if(!e||!e.startsWith("MPR")&&!e.startsWith("FEmusic_library_privately_owned_release"))throw new Pe("Invalid album id",e);const r=await new Me({browseEndpoint:{browseId:e}}).call(L(this,pi,"f"),{client:"YTMUSIC"});return new kYe(r)}async getPlaylist(e){e.startsWith("VL")||(e=`VL${e}`);const r=await new Me({browseEndpoint:{browseId:e}}).call(L(this,pi,"f"),{client:"YTMUSIC"});return new ER(r,L(this,pi,"f"))}async getUpNext(e,n=!0){ai({video_id:e});const s=(await new Me({watchNextEndpoint:{videoId:e}}).call(L(this,pi,"f"),{client:"YTMUSIC",parse:!0})).contents_memo?.getType(Fo)?.[0];if(!s)throw new Pe("Could not find target tab.");const o=s.content?.as(oR);if(!o||!o.content)throw new Pe("Music queue was empty, the given id is probably invalid.",o);const l=o.content.as(wm);if(!l.playlist_id&&n){const u=l.contents.firstOfType(NS);if(!u)throw new Pe("Automix item not found");const d=await u.playlist_video?.endpoint.call(L(this,pi,"f"),{videoId:e,client:"YTMUSIC",parse:!0});if(!d||!d.contents_memo)throw new Pe("Could not fetch automix");return d.contents_memo.getType(wm)[0]}return l}async getRelated(e){ai({video_id:e});const a=(await new Me({watchNextEndpoint:{videoId:e}}).call(L(this,pi,"f"),{client:"YTMUSIC",parse:!0})).contents_memo?.getType(Fo)?.find(o=>o.endpoint.payload.browseEndpointContextSupportedConfigs?.browseEndpointContextMusicConfig?.pageType==="MUSIC_PAGE_TYPE_TRACK_RELATED");if(!a)throw new Pe("Could not find target tab.");const s=await a.endpoint.call(L(this,pi,"f"),{client:"YTMUSIC",parse:!0});if(!s.contents)throw new Pe("Unexpected response",s);return s.contents.item().as(ca,Kd)}async getLyrics(e){ai({video_id:e});const a=(await new Me({watchNextEndpoint:{videoId:e}}).call(L(this,pi,"f"),{client:"YTMUSIC",parse:!0})).contents_memo?.getType(Fo)?.find(l=>l.endpoint.payload.browseEndpointContextSupportedConfigs?.browseEndpointContextMusicConfig?.pageType==="MUSIC_PAGE_TYPE_TRACK_LYRICS");if(!a)throw new Pe("Could not find target tab.");const s=await a.endpoint.call(L(this,pi,"f"),{client:"YTMUSIC",parse:!0});if(!s.contents)throw new Pe("Unexpected response",s);if(s.contents.item().type==="Message")throw new Pe(s.contents.item().as(Kd).text.toString(),e);return s.contents.item().as(ca).contents.firstOfType(jS)}async getRecap(){const n=await new Me({browseEndpoint:{browseId:"FEmusic_listening_review"}}).call(L(this,pi,"f"),{client:"YTMUSIC"});return new RYe(n,L(this,pi,"f"))}async getSearchSuggestions(e){const n=await L(this,pi,"f").execute("/music/get_search_suggestions",{input:e,client:"YTMUSIC",parse:!0});return n.contents_memo?n.contents_memo.getType(qj):[]}}uf=new WeakMap,pi=new WeakMap,Jy=new WeakSet,Ybe=async function(e){const n={videoId:e,racyCheckOk:!0,contentCheckOk:!0},r=new Me({watchEndpoint:n}),i=new Me({watchNextEndpoint:n}),a={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:L(this,uf,"f").player?.sts}},client:"YTMUSIC"};L(this,uf,"f").po_token&&(a.serviceIntegrityDimensions={poToken:L(this,uf,"f").po_token});const s=r.call(L(this,pi,"f"),a),o=i.call(L(this,pi,"f"),{client:"YTMUSIC"}),l=await Promise.all([s,o]),u=_m(16);return new Ine(l,L(this,pi,"f"),u)},Lk=async function(e){if(!e)throw new Error("This item does not have an endpoint.");const n={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:L(this,uf,"f").player?.sts}},client:"YTMUSIC"};L(this,uf,"f").po_token&&(n.serviceIntegrityDimensions={poToken:L(this,uf,"f").po_token});const r=e.call(L(this,pi,"f"),n),i=e.call(L(this,pi,"f"),{client:"YTMUSIC",enablePersistentPlaylistPanel:!0,override_endpoint:"/next"}),a=_m(16),s=await Promise.all([r,i]);return new Ine(s,L(this,pi,"f"),a)};function bZe(){return{key:void 0,value:void 0}}const Xb={encode(t,e=new Qt){return t.key!==void 0&&e.uint32(10).string(t.key),t.value!==void 0&&e.uint32(18).string(t.value),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=bZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.key=n.string();continue;case 2:if(a!==18)break;i.value=n.string();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function vZe(){return{profile:void 0,supportedCapabilities:[],disabledCapabilities:[],snapshot:void 0}}const zne={encode(t,e=new Qt){t.profile!==void 0&&e.uint32(10).string(t.profile);for(const n of t.supportedCapabilities)NE.encode(n,e.uint32(18).fork()).join();for(const n of t.disabledCapabilities)NE.encode(n,e.uint32(26).fork()).join();return t.snapshot!==void 0&&e.uint32(42).string(t.snapshot),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=vZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.profile=n.string();continue;case 2:if(a!==18)break;i.supportedCapabilities.push(NE.decode(n,n.uint32()));continue;case 3:if(a!==26)break;i.disabledCapabilities.push(NE.decode(n,n.uint32()));continue;case 5:if(a!==42)break;i.snapshot=n.string();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function wZe(){return{capability:void 0,features:void 0,experimentFlags:void 0}}const NE={encode(t,e=new Qt){return t.capability!==void 0&&e.uint32(8).uint32(t.capability),t.features!==void 0&&e.uint32(16).uint32(t.features),t.experimentFlags!==void 0&&e.uint32(50).string(t.experimentFlags),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=wZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;i.capability=n.uint32();continue;case 2:if(a!==16)break;i.features=n.uint32();continue;case 6:if(a!==50)break;i.experimentFlags=n.string();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};var $ne;(function(t){t[t.UNKNOWN_FORM_FACTOR=0]="UNKNOWN_FORM_FACTOR",t[t.FORM_FACTOR_VAL1=1]="FORM_FACTOR_VAL1",t[t.FORM_FACTOR_VAL2=2]="FORM_FACTOR_VAL2",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})($ne||($ne={}));var qne;(function(t){t[t.UNKNOWN_CAMERA_TYPE=0]="UNKNOWN_CAMERA_TYPE",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(qne||(qne={}));var Hne;(function(t){t[t.USER_INTERFACE_THEME_DARK=0]="USER_INTERFACE_THEME_DARK",t[t.USER_INTERFACE_THEME_LIGHT=1]="USER_INTERFACE_THEME_LIGHT",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Hne||(Hne={}));var Vne;(function(t){t[t.STORE_DIGITAL_GOODS_API_SUPPORT_STATUS_VAL0=0]="STORE_DIGITAL_GOODS_API_SUPPORT_STATUS_VAL0",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Vne||(Vne={}));var Gne;(function(t){t[t.PWA_INSTALLABILITY_STATUS_UNKNOWN=0]="PWA_INSTALLABILITY_STATUS_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Gne||(Gne={}));var Wne;(function(t){t[t.WEB_DISPLAY_MODE_UNKNOWN=0]="WEB_DISPLAY_MODE_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Wne||(Wne={}));var Kne;(function(t){t[t.NOTIFICATIONS_SETTING_UNKNOWN=0]="NOTIFICATIONS_SETTING_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Kne||(Kne={}));var Yne;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Yne||(Yne={}));var Xne;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Xne||(Xne={}));var Zne;(function(t){t[t.KPCM_UNKNOWN=0]="KPCM_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Zne||(Zne={}));var Qne;(function(t){t[t.YT_KIDS_NO_SEARCH_MODE_OFF=0]="YT_KIDS_NO_SEARCH_MODE_OFF",t[t.YT_KIDS_NO_SEARCH_MODE_ON=1]="YT_KIDS_NO_SEARCH_MODE_ON",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Qne||(Qne={}));var Jne;(function(t){t[t.YT_KIDS_AGE_UP_MODE_OFF=0]="YT_KIDS_AGE_UP_MODE_OFF",t[t.YT_KIDS_AGE_UP_MODE_ON=1]="YT_KIDS_AGE_UP_MODE_ON",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Jne||(Jne={}));var ere;(function(t){t[t.YT_KIDS_CONTENT_DENSITY_VAL1=0]="YT_KIDS_CONTENT_DENSITY_VAL1",t[t.YT_KIDS_CONTENT_DENSITY_VAL2=1]="YT_KIDS_CONTENT_DENSITY_VAL2",t[t.YT_KIDS_CONTENT_DENSITY_VAL3=2]="YT_KIDS_CONTENT_DENSITY_VAL3",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ere||(ere={}));var tre;(function(t){t[t.MPBM_UNKNOWN=0]="MPBM_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(tre||(tre={}));var nre;(function(t){t[t.MLMS_UNKNOWN=0]="MLMS_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(nre||(nre={}));var rre;(function(t){t[t.MAMS_UNKNOWN=0]="MAMS_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(rre||(rre={}));var ire;(function(t){t[t.UNKNOWN_STATUS=0]="UNKNOWN_STATUS",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ire||(ire={}));var are;(function(t){t[t.PIS_UNKNOWN=0]="PIS_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(are||(are={}));var sre;(function(t){t[t.WDM_UNKNOWN=0]="WDM_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(sre||(sre={}));var ore;(function(t){t[t.UNKNOWN_TIER=0]="UNKNOWN_TIER",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ore||(ore={}));var lre;(function(t){t[t.SDGAS_UNKNOWN=0]="SDGAS_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(lre||(lre={}));function _Ze(){return{hl:void 0,gl:void 0,remoteHost:void 0,deviceId:void 0,debugDeviceIdOverride:void 0,carrierGeo:void 0,crackedHl:void 0,deviceMake:void 0,deviceModel:void 0,visitorData:void 0,userAgent:void 0,clientName:void 0,clientVersion:void 0,osName:void 0,osVersion:void 0,projectId:void 0,acceptLanguage:void 0,acceptRegion:void 0,originalUrl:void 0,rawDeviceId:void 0,configData:void 0,spacecastToken:void 0,internalGeo:void 0,screenWidthPoints:void 0,screenHeightPoints:void 0,screenWidthInches:void 0,screenHeightInches:void 0,screenPixelDensity:void 0,platform:void 0,spacecastClientInfo:void 0,clientFormFactor:void 0,forwardedFor:void 0,mobileDataPlanInfo:void 0,gmscoreVersionCode:void 0,webpSupport:void 0,cameraType:void 0,experimentsToken:void 0,windowWidthPoints:void 0,windowHeightPoints:void 0,configInfo:void 0,unpluggedLocationInfo:void 0,androidSdkVersion:void 0,screenDensityFloat:void 0,firstTimeSignInExperimentIds:void 0,utcOffsetMinutes:void 0,animatedWebpSupport:void 0,kidsAppInfo:void 0,musicAppInfo:void 0,tvAppInfo:void 0,internalGeoIp:void 0,unpluggedAppInfo:void 0,locationInfo:void 0,contentSizeCategory:void 0,fontScale:void 0,userInterfaceTheme:void 0,timeZone:void 0,homeGroupInfo:void 0,emlTemplateContext:void 0,coldAppBundleConfigData:void 0,browserName:void 0,browserVersion:void 0,locationPlayabilityToken:void 0,chipset:void 0,firmwareVersion:void 0,memoryTotalKbytes:void 0,mainAppWebInfo:void 0,notificationPermissionInfo:void 0,deviceBrand:void 0,glDeviceInfo:void 0}}const OE={encode(t,e=new Qt){return t.hl!==void 0&&e.uint32(10).string(t.hl),t.gl!==void 0&&e.uint32(18).string(t.gl),t.remoteHost!==void 0&&e.uint32(34).string(t.remoteHost),t.deviceId!==void 0&&e.uint32(50).string(t.deviceId),t.debugDeviceIdOverride!==void 0&&e.uint32(66).string(t.debugDeviceIdOverride),t.carrierGeo!==void 0&&e.uint32(82).string(t.carrierGeo),t.crackedHl!==void 0&&e.uint32(88).bool(t.crackedHl),t.deviceMake!==void 0&&e.uint32(98).string(t.deviceMake),t.deviceModel!==void 0&&e.uint32(106).string(t.deviceModel),t.visitorData!==void 0&&e.uint32(114).string(t.visitorData),t.userAgent!==void 0&&e.uint32(122).string(t.userAgent),t.clientName!==void 0&&e.uint32(128).int32(t.clientName),t.clientVersion!==void 0&&e.uint32(138).string(t.clientVersion),t.osName!==void 0&&e.uint32(146).string(t.osName),t.osVersion!==void 0&&e.uint32(154).string(t.osVersion),t.projectId!==void 0&&e.uint32(162).string(t.projectId),t.acceptLanguage!==void 0&&e.uint32(170).string(t.acceptLanguage),t.acceptRegion!==void 0&&e.uint32(178).string(t.acceptRegion),t.originalUrl!==void 0&&e.uint32(186).string(t.originalUrl),t.rawDeviceId!==void 0&&e.uint32(202).string(t.rawDeviceId),t.configData!==void 0&&e.uint32(218).string(t.configData),t.spacecastToken!==void 0&&e.uint32(250).string(t.spacecastToken),t.internalGeo!==void 0&&e.uint32(274).string(t.internalGeo),t.screenWidthPoints!==void 0&&e.uint32(296).int32(t.screenWidthPoints),t.screenHeightPoints!==void 0&&e.uint32(304).int32(t.screenHeightPoints),t.screenWidthInches!==void 0&&e.uint32(317).float(t.screenWidthInches),t.screenHeightInches!==void 0&&e.uint32(325).float(t.screenHeightInches),t.screenPixelDensity!==void 0&&e.uint32(328).int32(t.screenPixelDensity),t.platform!==void 0&&e.uint32(336).int32(t.platform),t.spacecastClientInfo!==void 0&&hre.encode(t.spacecastClientInfo,e.uint32(362).fork()).join(),t.clientFormFactor!==void 0&&e.uint32(368).int32(t.clientFormFactor),t.forwardedFor!==void 0&&e.uint32(386).string(t.forwardedFor),t.mobileDataPlanInfo!==void 0&&pre.encode(t.mobileDataPlanInfo,e.uint32(394).fork()).join(),t.gmscoreVersionCode!==void 0&&e.uint32(400).int32(t.gmscoreVersionCode),t.webpSupport!==void 0&&e.uint32(408).bool(t.webpSupport),t.cameraType!==void 0&&e.uint32(416).int32(t.cameraType),t.experimentsToken!==void 0&&e.uint32(434).string(t.experimentsToken),t.windowWidthPoints!==void 0&&e.uint32(440).int32(t.windowWidthPoints),t.windowHeightPoints!==void 0&&e.uint32(448).int32(t.windowHeightPoints),t.configInfo!==void 0&&mre.encode(t.configInfo,e.uint32(498).fork()).join(),t.unpluggedLocationInfo!==void 0&&gre.encode(t.unpluggedLocationInfo,e.uint32(506).fork()).join(),t.androidSdkVersion!==void 0&&e.uint32(512).int32(t.androidSdkVersion),t.screenDensityFloat!==void 0&&e.uint32(525).float(t.screenDensityFloat),t.firstTimeSignInExperimentIds!==void 0&&e.uint32(528).int32(t.firstTimeSignInExperimentIds),t.utcOffsetMinutes!==void 0&&e.uint32(536).int32(t.utcOffsetMinutes),t.animatedWebpSupport!==void 0&&e.uint32(544).bool(t.animatedWebpSupport),t.kidsAppInfo!==void 0&&yre.encode(t.kidsAppInfo,e.uint32(554).fork()).join(),t.musicAppInfo!==void 0&&_re.encode(t.musicAppInfo,e.uint32(562).fork()).join(),t.tvAppInfo!==void 0&&Sre.encode(t.tvAppInfo,e.uint32(570).fork()).join(),t.internalGeoIp!==void 0&&e.uint32(578).string(t.internalGeoIp),t.unpluggedAppInfo!==void 0&&Ere.encode(t.unpluggedAppInfo,e.uint32(586).fork()).join(),t.locationInfo!==void 0&&kre.encode(t.locationInfo,e.uint32(594).fork()).join(),t.contentSizeCategory!==void 0&&e.uint32(610).string(t.contentSizeCategory),t.fontScale!==void 0&&e.uint32(621).float(t.fontScale),t.userInterfaceTheme!==void 0&&e.uint32(624).int32(t.userInterfaceTheme),t.timeZone!==void 0&&e.uint32(642).string(t.timeZone),t.homeGroupInfo!==void 0&&Are.encode(t.homeGroupInfo,e.uint32(650).fork()).join(),t.emlTemplateContext!==void 0&&e.uint32(674).bytes(t.emlTemplateContext),t.coldAppBundleConfigData!==void 0&&e.uint32(682).bytes(t.coldAppBundleConfigData),t.browserName!==void 0&&e.uint32(698).string(t.browserName),t.browserVersion!==void 0&&e.uint32(706).string(t.browserVersion),t.locationPlayabilityToken!==void 0&&e.uint32(714).string(t.locationPlayabilityToken),t.chipset!==void 0&&e.uint32(738).string(t.chipset),t.firmwareVersion!==void 0&&e.uint32(746).string(t.firmwareVersion),t.memoryTotalKbytes!==void 0&&e.uint32(760).int64(t.memoryTotalKbytes),t.mainAppWebInfo!==void 0&&ure.encode(t.mainAppWebInfo,e.uint32(770).fork()).join(),t.notificationPermissionInfo!==void 0&&cre.encode(t.notificationPermissionInfo,e.uint32(778).fork()).join(),t.deviceBrand!==void 0&&e.uint32(786).string(t.deviceBrand),t.glDeviceInfo!==void 0&&dre.encode(t.glDeviceInfo,e.uint32(818).fork()).join(),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=_Ze();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.hl=n.string();continue;case 2:if(a!==18)break;i.gl=n.string();continue;case 4:if(a!==34)break;i.remoteHost=n.string();continue;case 6:if(a!==50)break;i.deviceId=n.string();continue;case 8:if(a!==66)break;i.debugDeviceIdOverride=n.string();continue;case 10:if(a!==82)break;i.carrierGeo=n.string();continue;case 11:if(a!==88)break;i.crackedHl=n.bool();continue;case 12:if(a!==98)break;i.deviceMake=n.string();continue;case 13:if(a!==106)break;i.deviceModel=n.string();continue;case 14:if(a!==114)break;i.visitorData=n.string();continue;case 15:if(a!==122)break;i.userAgent=n.string();continue;case 16:if(a!==128)break;i.clientName=n.int32();continue;case 17:if(a!==138)break;i.clientVersion=n.string();continue;case 18:if(a!==146)break;i.osName=n.string();continue;case 19:if(a!==154)break;i.osVersion=n.string();continue;case 20:if(a!==162)break;i.projectId=n.string();continue;case 21:if(a!==170)break;i.acceptLanguage=n.string();continue;case 22:if(a!==178)break;i.acceptRegion=n.string();continue;case 23:if(a!==186)break;i.originalUrl=n.string();continue;case 25:if(a!==202)break;i.rawDeviceId=n.string();continue;case 27:if(a!==218)break;i.configData=n.string();continue;case 31:if(a!==250)break;i.spacecastToken=n.string();continue;case 34:if(a!==274)break;i.internalGeo=n.string();continue;case 37:if(a!==296)break;i.screenWidthPoints=n.int32();continue;case 38:if(a!==304)break;i.screenHeightPoints=n.int32();continue;case 39:if(a!==317)break;i.screenWidthInches=n.float();continue;case 40:if(a!==325)break;i.screenHeightInches=n.float();continue;case 41:if(a!==328)break;i.screenPixelDensity=n.int32();continue;case 42:if(a!==336)break;i.platform=n.int32();continue;case 45:if(a!==362)break;i.spacecastClientInfo=hre.decode(n,n.uint32());continue;case 46:if(a!==368)break;i.clientFormFactor=n.int32();continue;case 48:if(a!==386)break;i.forwardedFor=n.string();continue;case 49:if(a!==394)break;i.mobileDataPlanInfo=pre.decode(n,n.uint32());continue;case 50:if(a!==400)break;i.gmscoreVersionCode=n.int32();continue;case 51:if(a!==408)break;i.webpSupport=n.bool();continue;case 52:if(a!==416)break;i.cameraType=n.int32();continue;case 54:if(a!==434)break;i.experimentsToken=n.string();continue;case 55:if(a!==440)break;i.windowWidthPoints=n.int32();continue;case 56:if(a!==448)break;i.windowHeightPoints=n.int32();continue;case 62:if(a!==498)break;i.configInfo=mre.decode(n,n.uint32());continue;case 63:if(a!==506)break;i.unpluggedLocationInfo=gre.decode(n,n.uint32());continue;case 64:if(a!==512)break;i.androidSdkVersion=n.int32();continue;case 65:if(a!==525)break;i.screenDensityFloat=n.float();continue;case 66:if(a!==528)break;i.firstTimeSignInExperimentIds=n.int32();continue;case 67:if(a!==536)break;i.utcOffsetMinutes=n.int32();continue;case 68:if(a!==544)break;i.animatedWebpSupport=n.bool();continue;case 69:if(a!==554)break;i.kidsAppInfo=yre.decode(n,n.uint32());continue;case 70:if(a!==562)break;i.musicAppInfo=_re.decode(n,n.uint32());continue;case 71:if(a!==570)break;i.tvAppInfo=Sre.decode(n,n.uint32());continue;case 72:if(a!==578)break;i.internalGeoIp=n.string();continue;case 73:if(a!==586)break;i.unpluggedAppInfo=Ere.decode(n,n.uint32());continue;case 74:if(a!==594)break;i.locationInfo=kre.decode(n,n.uint32());continue;case 76:if(a!==610)break;i.contentSizeCategory=n.string();continue;case 77:if(a!==621)break;i.fontScale=n.float();continue;case 78:if(a!==624)break;i.userInterfaceTheme=n.int32();continue;case 80:if(a!==642)break;i.timeZone=n.string();continue;case 81:if(a!==650)break;i.homeGroupInfo=Are.decode(n,n.uint32());continue;case 84:if(a!==674)break;i.emlTemplateContext=n.bytes();continue;case 85:if(a!==682)break;i.coldAppBundleConfigData=n.bytes();continue;case 87:if(a!==698)break;i.browserName=n.string();continue;case 88:if(a!==706)break;i.browserVersion=n.string();continue;case 89:if(a!==714)break;i.locationPlayabilityToken=n.string();continue;case 92:if(a!==738)break;i.chipset=n.string();continue;case 93:if(a!==746)break;i.firmwareVersion=n.string();continue;case 95:if(a!==760)break;i.memoryTotalKbytes=MR(n.int64());continue;case 96:if(a!==770)break;i.mainAppWebInfo=ure.decode(n,n.uint32());continue;case 97:if(a!==778)break;i.notificationPermissionInfo=cre.decode(n,n.uint32());continue;case 98:if(a!==786)break;i.deviceBrand=n.string();continue;case 102:if(a!==818)break;i.glDeviceInfo=dre.decode(n,n.uint32());continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function SZe(){return{graftUrl:void 0,pwaInstallabilityStatus:void 0,webDisplayMode:void 0,isWebNativeShareAvailable:void 0,storeDigitalGoodsApiSupportStatus:void 0}}const ure={encode(t,e=new Qt){return t.graftUrl!==void 0&&e.uint32(10).string(t.graftUrl),t.pwaInstallabilityStatus!==void 0&&e.uint32(16).int32(t.pwaInstallabilityStatus),t.webDisplayMode!==void 0&&e.uint32(24).int32(t.webDisplayMode),t.isWebNativeShareAvailable!==void 0&&e.uint32(32).bool(t.isWebNativeShareAvailable),t.storeDigitalGoodsApiSupportStatus!==void 0&&e.uint32(40).int32(t.storeDigitalGoodsApiSupportStatus),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=SZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.graftUrl=n.string();continue;case 2:if(a!==16)break;i.pwaInstallabilityStatus=n.int32();continue;case 3:if(a!==24)break;i.webDisplayMode=n.int32();continue;case 4:if(a!==32)break;i.isWebNativeShareAvailable=n.bool();continue;case 5:if(a!==40)break;i.storeDigitalGoodsApiSupportStatus=n.int32();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function xZe(){return{notificationsSetting:void 0,lastDeviceOptInChangeTimeAgoSec:void 0}}const cre={encode(t,e=new Qt){return t.notificationsSetting!==void 0&&e.uint32(8).int32(t.notificationsSetting),t.lastDeviceOptInChangeTimeAgoSec!==void 0&&e.uint32(16).int64(t.lastDeviceOptInChangeTimeAgoSec),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=xZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;i.notificationsSetting=n.int32();continue;case 2:if(a!==16)break;i.lastDeviceOptInChangeTimeAgoSec=MR(n.int64());continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function EZe(){return{glRenderer:void 0,glEsVersionMajor:void 0,glEsVersionMinor:void 0}}const dre={encode(t,e=new Qt){return t.glRenderer!==void 0&&e.uint32(10).string(t.glRenderer),t.glEsVersionMajor!==void 0&&e.uint32(16).int32(t.glEsVersionMajor),t.glEsVersionMinor!==void 0&&e.uint32(24).int32(t.glEsVersionMinor),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=EZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.glRenderer=n.string();continue;case 2:if(a!==16)break;i.glEsVersionMajor=n.int32();continue;case 3:if(a!==24)break;i.glEsVersionMinor=n.int32();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function kZe(){return{appliances:void 0,interactionLevel:void 0}}const hre={encode(t,e=new Qt){return t.appliances!==void 0&&fre.encode(t.appliances,e.uint32(10).fork()).join(),t.interactionLevel!==void 0&&e.uint32(16).int32(t.interactionLevel),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=kZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.appliances=fre.decode(n,n.uint32());continue;case 2:if(a!==16)break;i.interactionLevel=n.int32();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function TZe(){return{contentProfileToken:void 0,status:void 0,hostname:void 0,active:void 0,deviceId:void 0}}const fre={encode(t,e=new Qt){return t.contentProfileToken!==void 0&&e.uint32(10).bytes(t.contentProfileToken),t.status!==void 0&&e.uint32(16).int32(t.status),t.hostname!==void 0&&e.uint32(26).string(t.hostname),t.active!==void 0&&e.uint32(32).bool(t.active),t.deviceId!==void 0&&e.uint32(42).string(t.deviceId),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=TZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.contentProfileToken=n.bytes();continue;case 2:if(a!==16)break;i.status=n.int32();continue;case 3:if(a!==26)break;i.hostname=n.string();continue;case 4:if(a!==32)break;i.active=n.bool();continue;case 5:if(a!==42)break;i.deviceId=n.string();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function AZe(){return{cpid:void 0,serializedDataPlanStatus:void 0,dataSavingQualityPickerEnabled:void 0,mccmnc:void 0}}const pre={encode(t,e=new Qt){return t.cpid!==void 0&&e.uint32(394).string(t.cpid),t.serializedDataPlanStatus!==void 0&&e.uint32(402).string(t.serializedDataPlanStatus),t.dataSavingQualityPickerEnabled!==void 0&&e.uint32(416).bool(t.dataSavingQualityPickerEnabled),t.mccmnc!==void 0&&e.uint32(426).string(t.mccmnc),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=AZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 49:if(a!==394)break;i.cpid=n.string();continue;case 50:if(a!==402)break;i.serializedDataPlanStatus=n.string();continue;case 52:if(a!==416)break;i.dataSavingQualityPickerEnabled=n.bool();continue;case 53:if(a!==426)break;i.mccmnc=n.string();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function CZe(){return{coldConfigData:void 0,coldHashData:void 0,hotHashData:void 0,appInstallData:void 0}}const mre={encode(t,e=new Qt){return t.coldConfigData!==void 0&&e.uint32(10).string(t.coldConfigData),t.coldHashData!==void 0&&e.uint32(26).string(t.coldHashData),t.hotHashData!==void 0&&e.uint32(42).string(t.hotHashData),t.appInstallData!==void 0&&e.uint32(50).string(t.appInstallData),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=CZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.coldConfigData=n.string();continue;case 3:if(a!==26)break;i.coldHashData=n.string();continue;case 5:if(a!==42)break;i.hotHashData=n.string();continue;case 6:if(a!==50)break;i.appInstallData=n.string();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function RZe(){return{latitudeE7:void 0,longitudeE7:void 0,localTimestampMs:void 0,ipAddress:void 0,timezone:void 0,prefer24HourTime:void 0,locationRadiusMeters:void 0,isInitialLoad:void 0,browserPermissionGranted:void 0,clientPermissionState:void 0,locationOverrideToken:void 0}}const gre={encode(t,e=new Qt){return t.latitudeE7!==void 0&&e.uint32(8).int32(t.latitudeE7),t.longitudeE7!==void 0&&e.uint32(16).int32(t.longitudeE7),t.localTimestampMs!==void 0&&e.uint32(24).int64(t.localTimestampMs),t.ipAddress!==void 0&&e.uint32(34).string(t.ipAddress),t.timezone!==void 0&&e.uint32(42).string(t.timezone),t.prefer24HourTime!==void 0&&e.uint32(48).bool(t.prefer24HourTime),t.locationRadiusMeters!==void 0&&e.uint32(56).int32(t.locationRadiusMeters),t.isInitialLoad!==void 0&&e.uint32(64).bool(t.isInitialLoad),t.browserPermissionGranted!==void 0&&e.uint32(72).bool(t.browserPermissionGranted),t.clientPermissionState!==void 0&&e.uint32(80).int32(t.clientPermissionState),t.locationOverrideToken!==void 0&&e.uint32(90).string(t.locationOverrideToken),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=RZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;i.latitudeE7=n.int32();continue;case 2:if(a!==16)break;i.longitudeE7=n.int32();continue;case 3:if(a!==24)break;i.localTimestampMs=MR(n.int64());continue;case 4:if(a!==34)break;i.ipAddress=n.string();continue;case 5:if(a!==42)break;i.timezone=n.string();continue;case 6:if(a!==48)break;i.prefer24HourTime=n.bool();continue;case 7:if(a!==56)break;i.locationRadiusMeters=n.int32();continue;case 8:if(a!==64)break;i.isInitialLoad=n.bool();continue;case 9:if(a!==72)break;i.browserPermissionGranted=n.bool();continue;case 10:if(a!==80)break;i.clientPermissionState=n.int32();continue;case 11:if(a!==90)break;i.locationOverrideToken=n.string();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function IZe(){return{contentSettings:void 0,parentCurationMode:void 0,categorySettings:void 0,userEducationSettings:void 0}}const yre={encode(t,e=new Qt){return t.contentSettings!==void 0&&bre.encode(t.contentSettings,e.uint32(10).fork()).join(),t.parentCurationMode!==void 0&&e.uint32(16).int32(t.parentCurationMode),t.categorySettings!==void 0&&vre.encode(t.categorySettings,e.uint32(26).fork()).join(),t.userEducationSettings!==void 0&&wre.encode(t.userEducationSettings,e.uint32(34).fork()).join(),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=IZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.contentSettings=bre.decode(n,n.uint32());continue;case 2:if(a!==16)break;i.parentCurationMode=n.int32();continue;case 3:if(a!==26)break;i.categorySettings=vre.decode(n,n.uint32());continue;case 4:if(a!==34)break;i.userEducationSettings=wre.decode(n,n.uint32());continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function NZe(){return{kidsNoSearchMode:void 0,ageUpMode:void 0,contentDensity:void 0}}const bre={encode(t,e=new Qt){return t.kidsNoSearchMode!==void 0&&e.uint32(8).int32(t.kidsNoSearchMode),t.ageUpMode!==void 0&&e.uint32(16).int32(t.ageUpMode),t.contentDensity!==void 0&&e.uint32(24).int32(t.contentDensity),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=NZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;i.kidsNoSearchMode=n.int32();continue;case 2:if(a!==16)break;i.ageUpMode=n.int32();continue;case 3:if(a!==24)break;i.contentDensity=n.int32();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function OZe(){return{enabledCategories:void 0}}const vre={encode(t,e=new Qt){return t.enabledCategories!==void 0&&e.uint32(10).string(t.enabledCategories),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=OZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.enabledCategories=n.string();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function MZe(){return{hasSeenHomeChipBarUserEducation:void 0,hasSeenHomePivotBarUserEducation:void 0,hasSeenParentMuirUserEducation:void 0}}const wre={encode(t,e=new Qt){return t.hasSeenHomeChipBarUserEducation!==void 0&&e.uint32(8).bool(t.hasSeenHomeChipBarUserEducation),t.hasSeenHomePivotBarUserEducation!==void 0&&e.uint32(16).bool(t.hasSeenHomePivotBarUserEducation),t.hasSeenParentMuirUserEducation!==void 0&&e.uint32(24).bool(t.hasSeenParentMuirUserEducation),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=MZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;i.hasSeenHomeChipBarUserEducation=n.bool();continue;case 2:if(a!==16)break;i.hasSeenHomePivotBarUserEducation=n.bool();continue;case 3:if(a!==24)break;i.hasSeenParentMuirUserEducation=n.bool();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function PZe(){return{playBackMode:void 0,musicLocationMasterSwitch:void 0,musicActivityMasterSwitch:void 0,offlineMixtapeEnabled:void 0,autoOfflineEnabled:void 0,iosBackgroundRefreshStatus:void 0,smartDownloadsSongLimit:void 0,transitionedFromMixtapeToSmartDownloads:void 0,pwaInstallabilityStatus:void 0,webDisplayMode:void 0,musicTier:void 0,storeDigitalGoodsApiSupportStatus:void 0,smartDownloadsTimeSinceLastOptOutSec:void 0}}const _re={encode(t,e=new Qt){return t.playBackMode!==void 0&&e.uint32(8).int32(t.playBackMode),t.musicLocationMasterSwitch!==void 0&&e.uint32(16).int32(t.musicLocationMasterSwitch),t.musicActivityMasterSwitch!==void 0&&e.uint32(24).int32(t.musicActivityMasterSwitch),t.offlineMixtapeEnabled!==void 0&&e.uint32(32).bool(t.offlineMixtapeEnabled),t.autoOfflineEnabled!==void 0&&e.uint32(40).bool(t.autoOfflineEnabled),t.iosBackgroundRefreshStatus!==void 0&&e.uint32(48).int32(t.iosBackgroundRefreshStatus),t.smartDownloadsSongLimit!==void 0&&e.uint32(56).int32(t.smartDownloadsSongLimit),t.transitionedFromMixtapeToSmartDownloads!==void 0&&e.uint32(64).bool(t.transitionedFromMixtapeToSmartDownloads),t.pwaInstallabilityStatus!==void 0&&e.uint32(72).int32(t.pwaInstallabilityStatus),t.webDisplayMode!==void 0&&e.uint32(80).int32(t.webDisplayMode),t.musicTier!==void 0&&e.uint32(88).int32(t.musicTier),t.storeDigitalGoodsApiSupportStatus!==void 0&&e.uint32(96).int32(t.storeDigitalGoodsApiSupportStatus),t.smartDownloadsTimeSinceLastOptOutSec!==void 0&&e.uint32(104).int64(t.smartDownloadsTimeSinceLastOptOutSec),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=PZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;i.playBackMode=n.int32();continue;case 2:if(a!==16)break;i.musicLocationMasterSwitch=n.int32();continue;case 3:if(a!==24)break;i.musicActivityMasterSwitch=n.int32();continue;case 4:if(a!==32)break;i.offlineMixtapeEnabled=n.bool();continue;case 5:if(a!==40)break;i.autoOfflineEnabled=n.bool();continue;case 6:if(a!==48)break;i.iosBackgroundRefreshStatus=n.int32();continue;case 7:if(a!==56)break;i.smartDownloadsSongLimit=n.int32();continue;case 8:if(a!==64)break;i.transitionedFromMixtapeToSmartDownloads=n.bool();continue;case 9:if(a!==72)break;i.pwaInstallabilityStatus=n.int32();continue;case 10:if(a!==80)break;i.webDisplayMode=n.int32();continue;case 11:if(a!==88)break;i.musicTier=n.int32();continue;case 12:if(a!==96)break;i.storeDigitalGoodsApiSupportStatus=n.int32();continue;case 13:if(a!==104)break;i.smartDownloadsTimeSinceLastOptOutSec=MR(n.int64());continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function LZe(){return{mdxImpactedSessionsServerEvents:void 0,enablePrivacyFilter:void 0,zylonLeftNav:void 0,certificationScope:void 0,livingRoomPoTokenId:void 0,jsEngineString:void 0,voiceCapability:void 0,systemIntegrator:void 0,androidBuildFingerprint:void 0,cobaltAppVersion:void 0,cobaltStarboardVersion:void 0,useStartPlaybackPreviewCommand:void 0,shouldShowPersistentSigninOnHome:void 0,androidPlayServicesVersion:void 0}}const Sre={encode(t,e=new Qt){return t.mdxImpactedSessionsServerEvents!==void 0&&e.uint32(26).string(t.mdxImpactedSessionsServerEvents),t.enablePrivacyFilter!==void 0&&e.uint32(48).bool(t.enablePrivacyFilter),t.zylonLeftNav!==void 0&&e.uint32(56).bool(t.zylonLeftNav),t.certificationScope!==void 0&&e.uint32(74).string(t.certificationScope),t.livingRoomPoTokenId!==void 0&&e.uint32(82).string(t.livingRoomPoTokenId),t.jsEngineString!==void 0&&e.uint32(98).string(t.jsEngineString),t.voiceCapability!==void 0&&xre.encode(t.voiceCapability,e.uint32(106).fork()).join(),t.systemIntegrator!==void 0&&e.uint32(114).string(t.systemIntegrator),t.androidBuildFingerprint!==void 0&&e.uint32(146).string(t.androidBuildFingerprint),t.cobaltAppVersion!==void 0&&e.uint32(154).string(t.cobaltAppVersion),t.cobaltStarboardVersion!==void 0&&e.uint32(162).string(t.cobaltStarboardVersion),t.useStartPlaybackPreviewCommand!==void 0&&e.uint32(176).bool(t.useStartPlaybackPreviewCommand),t.shouldShowPersistentSigninOnHome!==void 0&&e.uint32(184).bool(t.shouldShowPersistentSigninOnHome),t.androidPlayServicesVersion!==void 0&&e.uint32(194).string(t.androidPlayServicesVersion),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=LZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 3:if(a!==26)break;i.mdxImpactedSessionsServerEvents=n.string();continue;case 6:if(a!==48)break;i.enablePrivacyFilter=n.bool();continue;case 7:if(a!==56)break;i.zylonLeftNav=n.bool();continue;case 9:if(a!==74)break;i.certificationScope=n.string();continue;case 10:if(a!==82)break;i.livingRoomPoTokenId=n.string();continue;case 12:if(a!==98)break;i.jsEngineString=n.string();continue;case 13:if(a!==106)break;i.voiceCapability=xre.decode(n,n.uint32());continue;case 14:if(a!==114)break;i.systemIntegrator=n.string();continue;case 18:if(a!==146)break;i.androidBuildFingerprint=n.string();continue;case 19:if(a!==154)break;i.cobaltAppVersion=n.string();continue;case 20:if(a!==162)break;i.cobaltStarboardVersion=n.string();continue;case 22:if(a!==176)break;i.useStartPlaybackPreviewCommand=n.bool();continue;case 23:if(a!==184)break;i.shouldShowPersistentSigninOnHome=n.bool();continue;case 24:if(a!==194)break;i.androidPlayServicesVersion=n.string();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function DZe(){return{hasSoftMicSupport:void 0,hasHardMicSupport:void 0}}const xre={encode(t,e=new Qt){return t.hasSoftMicSupport!==void 0&&e.uint32(8).bool(t.hasSoftMicSupport),t.hasHardMicSupport!==void 0&&e.uint32(16).bool(t.hasHardMicSupport),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=DZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;i.hasSoftMicSupport=n.bool();continue;case 2:if(a!==16)break;i.hasHardMicSupport=n.bool();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function FZe(){return{enableFilterMode:void 0,iosNotificationPermission:void 0,forceEnableEpg3:void 0}}const Ere={encode(t,e=new Qt){return t.enableFilterMode!==void 0&&e.uint32(16).bool(t.enableFilterMode),t.iosNotificationPermission!==void 0&&e.uint32(24).bool(t.iosNotificationPermission),t.forceEnableEpg3!==void 0&&e.uint32(56).bool(t.forceEnableEpg3),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=FZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 2:if(a!==16)break;i.enableFilterMode=n.bool();continue;case 3:if(a!==24)break;i.iosNotificationPermission=n.bool();continue;case 7:if(a!==56)break;i.forceEnableEpg3=n.bool();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function BZe(){return{locationInfoStatus:void 0,ulrStatus:void 0,latitudeE7:void 0,longitudeE7:void 0,horizontalAccuracyMeters:void 0,locationFreshnessMs:void 0,locationPermissionAuthorizationStatus:void 0,locationOverrideToken:void 0,forceLocationPlayabilityTokenRefresh:void 0}}const kre={encode(t,e=new Qt){return t.locationInfoStatus!==void 0&&e.uint32(8).int32(t.locationInfoStatus),t.ulrStatus!==void 0&&Tre.encode(t.ulrStatus,e.uint32(18).fork()).join(),t.latitudeE7!==void 0&&e.uint32(26).string(t.latitudeE7),t.longitudeE7!==void 0&&e.uint32(34).string(t.longitudeE7),t.horizontalAccuracyMeters!==void 0&&e.uint32(42).string(t.horizontalAccuracyMeters),t.locationFreshnessMs!==void 0&&e.uint32(50).string(t.locationFreshnessMs),t.locationPermissionAuthorizationStatus!==void 0&&e.uint32(56).int32(t.locationPermissionAuthorizationStatus),t.locationOverrideToken!==void 0&&e.uint32(66).string(t.locationOverrideToken),t.forceLocationPlayabilityTokenRefresh!==void 0&&e.uint32(72).bool(t.forceLocationPlayabilityTokenRefresh),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=BZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;i.locationInfoStatus=n.int32();continue;case 2:if(a!==18)break;i.ulrStatus=Tre.decode(n,n.uint32());continue;case 3:if(a!==26)break;i.latitudeE7=n.string();continue;case 4:if(a!==34)break;i.longitudeE7=n.string();continue;case 5:if(a!==42)break;i.horizontalAccuracyMeters=n.string();continue;case 6:if(a!==50)break;i.locationFreshnessMs=n.string();continue;case 7:if(a!==56)break;i.locationPermissionAuthorizationStatus=n.int32();continue;case 8:if(a!==66)break;i.locationOverrideToken=n.string();continue;case 9:if(a!==72)break;i.forceLocationPlayabilityTokenRefresh=n.bool();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function UZe(){return{reportingEnabledSetting:void 0,historyEnabledSetting:void 0,isAllowed:void 0,isActive:void 0}}const Tre={encode(t,e=new Qt){return t.reportingEnabledSetting!==void 0&&e.uint32(8).int32(t.reportingEnabledSetting),t.historyEnabledSetting!==void 0&&e.uint32(16).int32(t.historyEnabledSetting),t.isAllowed!==void 0&&e.uint32(24).bool(t.isAllowed),t.isActive!==void 0&&e.uint32(32).bool(t.isActive),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=UZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;i.reportingEnabledSetting=n.int32();continue;case 2:if(a!==16)break;i.historyEnabledSetting=n.int32();continue;case 3:if(a!==24)break;i.isAllowed=n.bool();continue;case 4:if(a!==32)break;i.isActive=n.bool();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function jZe(){return{isPartOfGroup:void 0,isGroup:void 0}}const Are={encode(t,e=new Qt){return t.isPartOfGroup!==void 0&&e.uint32(8).bool(t.isPartOfGroup),t.isGroup!==void 0&&e.uint32(24).bool(t.isGroup),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=jZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;i.isPartOfGroup=n.bool();continue;case 3:if(a!==24)break;i.isGroup=n.bool();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function MR(t){const e=globalThis.Number(t.toString());if(e>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(e<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return e}function zZe(){return{challenge:void 0,webResponse:void 0,androidResponse:void 0,iosResponse:void 0,error:void 0,adblockReporting:void 0}}const Cre={encode(t,e=new Qt){return t.challenge!==void 0&&e.uint32(10).string(t.challenge),t.webResponse!==void 0&&e.uint32(18).string(t.webResponse),t.androidResponse!==void 0&&e.uint32(26).string(t.androidResponse),t.iosResponse!==void 0&&e.uint32(34).bytes(t.iosResponse),t.error!==void 0&&e.uint32(40).int32(t.error),t.adblockReporting!==void 0&&Rre.encode(t.adblockReporting,e.uint32(50).fork()).join(),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=zZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.challenge=n.string();continue;case 2:if(a!==18)break;i.webResponse=n.string();continue;case 3:if(a!==26)break;i.androidResponse=n.string();continue;case 4:if(a!==34)break;i.iosResponse=n.bytes();continue;case 5:if(a!==40)break;i.error=n.int32();continue;case 6:if(a!==50)break;i.adblockReporting=Rre.decode(n,n.uint32());continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function $Ze(){return{reportingStatus:void 0,broadSpectrumDetectionResult:void 0}}const Rre={encode(t,e=new Qt){return t.reportingStatus!==void 0&&e.uint32(8).uint64(t.reportingStatus),t.broadSpectrumDetectionResult!==void 0&&e.uint32(16).uint64(t.broadSpectrumDetectionResult),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=$Ze();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;i.reportingStatus=Ire(n.uint64());continue;case 2:if(a!==16)break;i.broadSpectrumDetectionResult=Ire(n.uint64());continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function Ire(t){const e=globalThis.Number(t.toString());if(e>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(e<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return e}var Nre;(function(t){t[t.CRITICALITY_UNSPECIFIED=0]="CRITICALITY_UNSPECIFIED",t[t.CRITICALITY_CRITICAL=1]="CRITICALITY_CRITICAL",t[t.CRITICALITY_NON_CRITICAL=2]="CRITICALITY_NON_CRITICAL",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Nre||(Nre={}));function qZe(){return{thirdPartyDigest:void 0,useSsl:void 0,returnErrorDetail:void 0,ifNoneMatch:void 0,returnLogEntry:void 0,isPrefetch:void 0,internalExperimentFlags:[],returnDebugData:void 0,innertubez:void 0,traceProto:void 0,returnLogEntryJson:void 0,sherlogUsername:void 0,reauthRequestInfo:void 0,sessionInfo:void 0,returnLogEntryProto:void 0,externalPrequestContext:void 0,attestationResponseData:void 0,eats:void 0,requestQos:void 0}}const Ore={encode(t,e=new Qt){t.thirdPartyDigest!==void 0&&e.uint32(50).string(t.thirdPartyDigest),t.useSsl!==void 0&&e.uint32(56).bool(t.useSsl),t.returnErrorDetail!==void 0&&e.uint32(72).bool(t.returnErrorDetail),t.ifNoneMatch!==void 0&&e.uint32(98).string(t.ifNoneMatch),t.returnLogEntry!==void 0&&e.uint32(104).bool(t.returnLogEntry),t.isPrefetch!==void 0&&e.uint32(112).bool(t.isPrefetch);for(const n of t.internalExperimentFlags)Xb.encode(n,e.uint32(122).fork()).join();return t.returnDebugData!==void 0&&e.uint32(128).bool(t.returnDebugData),t.innertubez!==void 0&&e.uint32(146).string(t.innertubez),t.traceProto!==void 0&&e.uint32(184).bool(t.traceProto),t.returnLogEntryJson!==void 0&&e.uint32(192).bool(t.returnLogEntryJson),t.sherlogUsername!==void 0&&e.uint32(202).string(t.sherlogUsername),t.reauthRequestInfo!==void 0&&Lre.encode(t.reauthRequestInfo,e.uint32(234).fork()).join(),t.sessionInfo!==void 0&&Pre.encode(t.sessionInfo,e.uint32(242).fork()).join(),t.returnLogEntryProto!==void 0&&e.uint32(248).bool(t.returnLogEntryProto),t.externalPrequestContext!==void 0&&e.uint32(258).string(t.externalPrequestContext),t.attestationResponseData!==void 0&&Cre.encode(t.attestationResponseData,e.uint32(274).fork()).join(),t.eats!==void 0&&e.uint32(282).bytes(t.eats),t.requestQos!==void 0&&Mre.encode(t.requestQos,e.uint32(290).fork()).join(),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=qZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 6:if(a!==50)break;i.thirdPartyDigest=n.string();continue;case 7:if(a!==56)break;i.useSsl=n.bool();continue;case 9:if(a!==72)break;i.returnErrorDetail=n.bool();continue;case 12:if(a!==98)break;i.ifNoneMatch=n.string();continue;case 13:if(a!==104)break;i.returnLogEntry=n.bool();continue;case 14:if(a!==112)break;i.isPrefetch=n.bool();continue;case 15:if(a!==122)break;i.internalExperimentFlags.push(Xb.decode(n,n.uint32()));continue;case 16:if(a!==128)break;i.returnDebugData=n.bool();continue;case 18:if(a!==146)break;i.innertubez=n.string();continue;case 23:if(a!==184)break;i.traceProto=n.bool();continue;case 24:if(a!==192)break;i.returnLogEntryJson=n.bool();continue;case 25:if(a!==202)break;i.sherlogUsername=n.string();continue;case 29:if(a!==234)break;i.reauthRequestInfo=Lre.decode(n,n.uint32());continue;case 30:if(a!==242)break;i.sessionInfo=Pre.decode(n,n.uint32());continue;case 31:if(a!==248)break;i.returnLogEntryProto=n.bool();continue;case 32:if(a!==258)break;i.externalPrequestContext=n.string();continue;case 34:if(a!==274)break;i.attestationResponseData=Cre.decode(n,n.uint32());continue;case 35:if(a!==282)break;i.eats=n.bytes();continue;case 36:if(a!==290)break;i.requestQos=Mre.decode(n,n.uint32());continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function HZe(){return{criticality:void 0}}const Mre={encode(t,e=new Qt){return t.criticality!==void 0&&e.uint32(8).int32(t.criticality),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=HZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;i.criticality=n.int32();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function VZe(){return{token:void 0}}const Pre={encode(t,e=new Qt){return t.token!==void 0&&e.uint32(10).string(t.token),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=VZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.token=n.string();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function GZe(){return{encodedReauthProofToken:void 0}}const Lre={encode(t,e=new Qt){return t.encodedReauthProofToken!==void 0&&e.uint32(10).string(t.encodedReauthProofToken),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=GZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.encodedReauthProofToken=n.string();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function WZe(){return{developerKey:void 0,appName:void 0,appPublisher:void 0,embedUrl:void 0,appVersion:void 0,embeddedPlayerContext:void 0}}const Dre={encode(t,e=new Qt){return t.developerKey!==void 0&&e.uint32(10).string(t.developerKey),t.appName!==void 0&&e.uint32(18).string(t.appName),t.appPublisher!==void 0&&e.uint32(26).string(t.appPublisher),t.embedUrl!==void 0&&e.uint32(34).string(t.embedUrl),t.appVersion!==void 0&&e.uint32(50).string(t.appVersion),t.embeddedPlayerContext!==void 0&&Fre.encode(t.embeddedPlayerContext,e.uint32(58).fork()).join(),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=WZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.developerKey=n.string();continue;case 2:if(a!==18)break;i.appName=n.string();continue;case 3:if(a!==26)break;i.appPublisher=n.string();continue;case 4:if(a!==34)break;i.embedUrl=n.string();continue;case 6:if(a!==50)break;i.appVersion=n.string();continue;case 7:if(a!==58)break;i.embeddedPlayerContext=Fre.decode(n,n.uint32());continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function KZe(){return{ancestorOrigins:void 0,embeddedPlayerEncryptedContext:void 0,ancestorOriginsSupported:void 0}}const Fre={encode(t,e=new Qt){return t.ancestorOrigins!==void 0&&e.uint32(10).string(t.ancestorOrigins),t.embeddedPlayerEncryptedContext!==void 0&&e.uint32(18).string(t.embeddedPlayerEncryptedContext),t.ancestorOriginsSupported!==void 0&&e.uint32(24).bool(t.ancestorOriginsSupported),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=KZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.ancestorOrigins=n.string();continue;case 2:if(a!==18)break;i.embeddedPlayerEncryptedContext=n.string();continue;case 3:if(a!==24)break;i.ancestorOriginsSupported=n.bool();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function YZe(){return{onBehalfOfUser:void 0,enableSafetyMode:void 0,credentialTransferTokens:[],delegatePurchases:void 0,kidsParent:void 0,isIncognito:void 0,lockedSafetyMode:void 0,delegationContext:void 0,serializedDelegationContext:void 0}}const Bre={encode(t,e=new Qt){t.onBehalfOfUser!==void 0&&e.uint32(26).string(t.onBehalfOfUser),t.enableSafetyMode!==void 0&&e.uint32(56).bool(t.enableSafetyMode);for(const n of t.credentialTransferTokens)$re.encode(n,e.uint32(98).fork()).join();return t.delegatePurchases!==void 0&&jre.encode(t.delegatePurchases,e.uint32(106).fork()).join(),t.kidsParent!==void 0&&Ure.encode(t.kidsParent,e.uint32(114).fork()).join(),t.isIncognito!==void 0&&e.uint32(120).bool(t.isIncognito),t.lockedSafetyMode!==void 0&&e.uint32(128).bool(t.lockedSafetyMode),t.delegationContext!==void 0&&zre.encode(t.delegationContext,e.uint32(138).fork()).join(),t.serializedDelegationContext!==void 0&&e.uint32(146).string(t.serializedDelegationContext),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=YZe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 3:if(a!==26)break;i.onBehalfOfUser=n.string();continue;case 7:if(a!==56)break;i.enableSafetyMode=n.bool();continue;case 12:if(a!==98)break;i.credentialTransferTokens.push($re.decode(n,n.uint32()));continue;case 13:if(a!==106)break;i.delegatePurchases=jre.decode(n,n.uint32());continue;case 14:if(a!==114)break;i.kidsParent=Ure.decode(n,n.uint32());continue;case 15:if(a!==120)break;i.isIncognito=n.bool();continue;case 16:if(a!==128)break;i.lockedSafetyMode=n.bool();continue;case 17:if(a!==138)break;i.delegationContext=zre.decode(n,n.uint32());continue;case 18:if(a!==146)break;i.serializedDelegationContext=n.string();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function XZe(){return{}}const Ure={encode(t,e=new Qt){return e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=XZe();for(;n.pos<r;){const a=n.uint32();if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function ZZe(){return{}}const jre={encode(t,e=new Qt){return e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=ZZe();for(;n.pos<r;){const a=n.uint32();if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function QZe(){return{}}const zre={encode(t,e=new Qt){return e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=QZe();for(;n.pos<r;){const a=n.uint32();if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function JZe(){return{}}const $re={encode(t,e=new Qt){return e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=JZe();for(;n.pos<r;){const a=n.uint32();if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function eQe(){return{client:void 0,user:void 0,capabilities:void 0,request:void 0,clickTracking:void 0,thirdParty:void 0,remoteClient:void 0,adSignalsInfo:void 0,experimentalData:void 0,clientScreenNonce:void 0,activePlayers:[]}}const qre={encode(t,e=new Qt){t.client!==void 0&&OE.encode(t.client,e.uint32(10).fork()).join(),t.user!==void 0&&Bre.encode(t.user,e.uint32(26).fork()).join(),t.capabilities!==void 0&&zne.encode(t.capabilities,e.uint32(34).fork()).join(),t.request!==void 0&&Ore.encode(t.request,e.uint32(42).fork()).join(),t.clickTracking!==void 0&&Gre.encode(t.clickTracking,e.uint32(50).fork()).join(),t.thirdParty!==void 0&&Dre.encode(t.thirdParty,e.uint32(58).fork()).join(),t.remoteClient!==void 0&&OE.encode(t.remoteClient,e.uint32(66).fork()).join(),t.adSignalsInfo!==void 0&&Wre.encode(t.adSignalsInfo,e.uint32(74).fork()).join(),t.experimentalData!==void 0&&Hre.encode(t.experimentalData,e.uint32(82).fork()).join(),t.clientScreenNonce!==void 0&&e.uint32(90).string(t.clientScreenNonce);for(const n of t.activePlayers)Vre.encode(n,e.uint32(98).fork()).join();return e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=eQe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.client=OE.decode(n,n.uint32());continue;case 3:if(a!==26)break;i.user=Bre.decode(n,n.uint32());continue;case 4:if(a!==34)break;i.capabilities=zne.decode(n,n.uint32());continue;case 5:if(a!==42)break;i.request=Ore.decode(n,n.uint32());continue;case 6:if(a!==50)break;i.clickTracking=Gre.decode(n,n.uint32());continue;case 7:if(a!==58)break;i.thirdParty=Dre.decode(n,n.uint32());continue;case 8:if(a!==66)break;i.remoteClient=OE.decode(n,n.uint32());continue;case 9:if(a!==74)break;i.adSignalsInfo=Wre.decode(n,n.uint32());continue;case 10:if(a!==82)break;i.experimentalData=Hre.decode(n,n.uint32());continue;case 11:if(a!==90)break;i.clientScreenNonce=n.string();continue;case 12:if(a!==98)break;i.activePlayers.push(Vre.decode(n,n.uint32()));continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function tQe(){return{params:[]}}const Hre={encode(t,e=new Qt){for(const n of t.params)Xb.encode(n,e.uint32(10).fork()).join();return e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=tQe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.params.push(Xb.decode(n,n.uint32()));continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function nQe(){return{playerContextParams:void 0}}const Vre={encode(t,e=new Qt){return t.playerContextParams!==void 0&&e.uint32(10).bytes(t.playerContextParams),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=nQe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.playerContextParams=n.bytes();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function rQe(){return{clickTrackingParams:void 0}}const Gre={encode(t,e=new Qt){return t.clickTrackingParams!==void 0&&e.uint32(18).bytes(t.clickTrackingParams),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=rQe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 2:if(a!==18)break;i.clickTrackingParams=n.bytes();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function iQe(){return{params:[],bid:void 0,mutsuId:void 0,consentBumpState:void 0,advertisingId:void 0,limitAdTracking:void 0,attributionOsSupportedVersion:void 0}}const Wre={encode(t,e=new Qt){for(const n of t.params)Xb.encode(n,e.uint32(10).fork()).join();return t.bid!==void 0&&e.uint32(18).string(t.bid),t.mutsuId!==void 0&&e.uint32(26).string(t.mutsuId),t.consentBumpState!==void 0&&e.uint32(34).string(t.consentBumpState),t.advertisingId!==void 0&&e.uint32(58).string(t.advertisingId),t.limitAdTracking!==void 0&&e.uint32(72).bool(t.limitAdTracking),t.attributionOsSupportedVersion!==void 0&&e.uint32(82).string(t.attributionOsSupportedVersion),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=iQe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.params.push(Xb.decode(n,n.uint32()));continue;case 2:if(a!==18)break;i.bid=n.string();continue;case 3:if(a!==26)break;i.mutsuId=n.string();continue;case 4:if(a!==34)break;i.consentBumpState=n.string();continue;case 7:if(a!==58)break;i.advertisingId=n.string();continue;case 9:if(a!==72)break;i.limitAdTracking=n.bool();continue;case 10:if(a!==82)break;i.attributionOsSupportedVersion=n.string();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function aQe(){return{context:void 0,encryptedVideoId:void 0,title:void 0,description:void 0,privacy:void 0,tags:void 0,category:void 0,license:void 0,ageRestriction:void 0,videoStill:void 0,madeForKids:void 0,racy:void 0}}const sQe={encode(t,e=new Qt){return t.context!==void 0&&qre.encode(t.context,e.uint32(10).fork()).join(),t.encryptedVideoId!==void 0&&e.uint32(18).string(t.encryptedVideoId),t.title!==void 0&&Kre.encode(t.title,e.uint32(26).fork()).join(),t.description!==void 0&&Yre.encode(t.description,e.uint32(34).fork()).join(),t.privacy!==void 0&&Xre.encode(t.privacy,e.uint32(42).fork()).join(),t.tags!==void 0&&Zre.encode(t.tags,e.uint32(50).fork()).join(),t.category!==void 0&&Qre.encode(t.category,e.uint32(58).fork()).join(),t.license!==void 0&&Jre.encode(t.license,e.uint32(66).fork()).join(),t.ageRestriction!==void 0&&nie.encode(t.ageRestriction,e.uint32(90).fork()).join(),t.videoStill!==void 0&&rie.encode(t.videoStill,e.uint32(162).fork()).join(),t.madeForKids!==void 0&&eie.encode(t.madeForKids,e.uint32(546).fork()).join(),t.racy!==void 0&&tie.encode(t.racy,e.uint32(554).fork()).join(),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=aQe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.context=qre.decode(n,n.uint32());continue;case 2:if(a!==18)break;i.encryptedVideoId=n.string();continue;case 3:if(a!==26)break;i.title=Kre.decode(n,n.uint32());continue;case 4:if(a!==34)break;i.description=Yre.decode(n,n.uint32());continue;case 5:if(a!==42)break;i.privacy=Xre.decode(n,n.uint32());continue;case 6:if(a!==50)break;i.tags=Zre.decode(n,n.uint32());continue;case 7:if(a!==58)break;i.category=Qre.decode(n,n.uint32());continue;case 8:if(a!==66)break;i.license=Jre.decode(n,n.uint32());continue;case 11:if(a!==90)break;i.ageRestriction=nie.decode(n,n.uint32());continue;case 20:if(a!==162)break;i.videoStill=rie.decode(n,n.uint32());continue;case 68:if(a!==546)break;i.madeForKids=eie.decode(n,n.uint32());continue;case 69:if(a!==554)break;i.racy=tie.decode(n,n.uint32());continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function oQe(){return{newTitle:void 0}}const Kre={encode(t,e=new Qt){return t.newTitle!==void 0&&e.uint32(10).string(t.newTitle),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=oQe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.newTitle=n.string();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function lQe(){return{newDescription:void 0}}const Yre={encode(t,e=new Qt){return t.newDescription!==void 0&&e.uint32(10).string(t.newDescription),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=lQe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.newDescription=n.string();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function uQe(){return{newPrivacy:void 0,clearPrivacyDraft:void 0}}const Xre={encode(t,e=new Qt){return t.newPrivacy!==void 0&&e.uint32(8).int32(t.newPrivacy),t.clearPrivacyDraft!==void 0&&e.uint32(16).bool(t.clearPrivacyDraft),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=uQe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;i.newPrivacy=n.int32();continue;case 2:if(a!==16)break;i.clearPrivacyDraft=n.bool();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function cQe(){return{newTags:[]}}const Zre={encode(t,e=new Qt){for(const n of t.newTags)e.uint32(10).string(n);return e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=cQe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.newTags.push(n.string());continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function dQe(){return{newCategoryId:void 0}}const Qre={encode(t,e=new Qt){return t.newCategoryId!==void 0&&e.uint32(8).int32(t.newCategoryId),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=dQe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;i.newCategoryId=n.int32();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function hQe(){return{newLicenseId:void 0}}const Jre={encode(t,e=new Qt){return t.newLicenseId!==void 0&&e.uint32(10).string(t.newLicenseId),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=hQe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.newLicenseId=n.string();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function fQe(){return{operation:void 0,newMfk:void 0}}const eie={encode(t,e=new Qt){return t.operation!==void 0&&e.uint32(8).int32(t.operation),t.newMfk!==void 0&&e.uint32(16).int32(t.newMfk),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=fQe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;i.operation=n.int32();continue;case 2:if(a!==16)break;i.newMfk=n.int32();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function pQe(){return{operation:void 0,newRacy:void 0}}const tie={encode(t,e=new Qt){return t.operation!==void 0&&e.uint32(8).int32(t.operation),t.newRacy!==void 0&&e.uint32(16).int32(t.newRacy),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=pQe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;i.operation=n.int32();continue;case 2:if(a!==16)break;i.newRacy=n.int32();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function mQe(){return{newIsAgeRestricted:void 0}}const nie={encode(t,e=new Qt){return t.newIsAgeRestricted!==void 0&&e.uint32(8).bool(t.newIsAgeRestricted),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=mQe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;i.newIsAgeRestricted=n.bool();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function gQe(){return{operation:void 0,newStillId:void 0,image:void 0,testImage:void 0,experimentImage:[]}}const rie={encode(t,e=new Qt){t.operation!==void 0&&e.uint32(8).int32(t.operation),t.newStillId!==void 0&&e.uint32(16).int32(t.newStillId),t.image!==void 0&&hb.encode(t.image,e.uint32(26).fork()).join(),t.testImage!==void 0&&hb.encode(t.testImage,e.uint32(34).fork()).join();for(const n of t.experimentImage)iie.encode(n,e.uint32(50).fork()).join();return e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=gQe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;i.operation=n.int32();continue;case 2:if(a!==16)break;i.newStillId=n.int32();continue;case 3:if(a!==26)break;i.image=hb.decode(n,n.uint32());continue;case 4:if(a!==34)break;i.testImage=hb.decode(n,n.uint32());continue;case 6:if(a!==50)break;i.experimentImage.push(iie.decode(n,n.uint32()));continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function yQe(){return{image:void 0}}const iie={encode(t,e=new Qt){return t.image!==void 0&&hb.encode(t.image,e.uint32(10).fork()).join(),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=yQe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.image=hb.decode(n,n.uint32());continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function bQe(){return{rawBytes:void 0,dataUri:void 0,frameTimestampUs:void 0,isVertical:void 0}}const hb={encode(t,e=new Qt){return t.rawBytes!==void 0&&e.uint32(10).bytes(t.rawBytes),t.dataUri!==void 0&&e.uint32(18).string(t.dataUri),t.frameTimestampUs!==void 0&&e.uint32(32).int64(t.frameTimestampUs),t.isVertical!==void 0&&e.uint32(40).bool(t.isVertical),e},decode(t,e){const n=t instanceof st?t:new st(t);let r=e===void 0?n.len:n.pos+e;const i=bQe();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;i.rawBytes=n.bytes();continue;case 2:if(a!==18)break;i.dataUri=n.string();continue;case 4:if(a!==32)break;i.frameTimestampUs=vQe(n.int64());continue;case 5:if(a!==40)break;i.isVertical=n.bool();continue}if((a&7)===4||a===0)break;n.skip(a&7)}return i}};function vQe(t){const e=globalThis.Number(t.toString());if(e>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(e<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return e}var v_,hl,Xbe,Zbe,Qbe;class wQe{constructor(e){v_.add(this),hl.set(this,void 0),kt(this,hl,e,"f")}async updateVideoMetadata(e,n){if(!L(this,hl,"f").logged_in)throw new Pe("You must be signed in to perform this operation.");const r={context:{client:{osName:"Android",clientName:parseInt(G5.ANDROID),clientVersion:Zn.ANDROID.VERSION,androidSdkVersion:Zn.ANDROID.SDK_VERSION,visitorData:L(this,hl,"f").context.client.visitorData,osVersion:"13",acceptLanguage:L(this,hl,"f").context.client.hl,acceptRegion:L(this,hl,"f").context.client.gl,deviceMake:"Google",deviceModel:"sdk_gphone64_x86_64",screenHeightPoints:840,screenWidthPoints:432,configInfo:{appInstallData:L(this,hl,"f").context.client.configInfo?.appInstallData},timeZone:L(this,hl,"f").context.client.timeZone,chipset:"qcom;taro"},activePlayers:[]},encryptedVideoId:e};if(n.title&&(r.title={newTitle:n.title}),n.description&&(r.description={newDescription:n.description}),n.license&&(r.license={newLicenseId:n.license}),n.tags&&(r.tags={newTags:n.tags}),n.thumbnail&&(r.videoStill={operation:3,image:{rawBytes:n.thumbnail},experimentImage:[]}),Reflect.has(n,"category")&&(r.category={newCategoryId:n.category}),Reflect.has(n,"privacy"))switch(n.privacy){case"PUBLIC":r.privacy={newPrivacy:1};break;case"UNLISTED":r.privacy={newPrivacy:2};break;case"PRIVATE":r.privacy={newPrivacy:3};break;default:throw new Error("Invalid privacy setting")}Reflect.has(n,"made_for_kids")&&(r.madeForKids={operation:1,newMfk:n.made_for_kids?1:2}),Reflect.has(n,"age_restricted")&&(r.racy={operation:1,newRacy:n.age_restricted?1:2});const i=sQe.encode(r);return await L(this,hl,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:i.finish()})}async upload(e,n={}){if(!L(this,hl,"f").logged_in)throw new Pe("You must be signed in to perform this operation.");const r=await L(this,v_,"m",Xbe).call(this),i=await L(this,v_,"m",Zbe).call(this,r.upload_url,e);if(i.status!=="STATUS_SUCCESS")throw new Pe("Could not process video.");return await L(this,v_,"m",Qbe).call(this,r,i,n)}}hl=new WeakMap,v_=new WeakSet,Xbe=async function(){const e=`innertube_android:${Hr.shim.uuidv4()}:0:v=3,api=1,cf=3`,n={frontendUploadId:e,deviceDisplayName:"Pixel 6 Pro",fileId:`goog-edited-video://generated?videoFileUri=content://media/external/video/media/${Hr.shim.uuidv4()}`,mp4MoovAtomRelocationStatus:"UNSUPPORTED",transcodeResult:"DISABLED",connectionType:"WIFI"},r=await L(this,hl,"f").http.fetch("/upload/youtubei",{baseURL:za.YT_UPLOAD,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"start","x-goog-upload-protocol":"resumable"},body:JSON.stringify(n)});if(!r.ok)throw new Pe("Could not get initial upload data");return{frontend_upload_id:e,upload_id:r.headers.get("x-guploader-uploadid"),upload_url:r.headers.get("x-goog-upload-url"),scotty_resource_id:r.headers.get("x-goog-upload-header-scotty-resource-id"),chunk_granularity:r.headers.get("x-goog-upload-chunk-granularity")}},Zbe=async function(e,n){const r=await L(this,hl,"f").http.fetch_function(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"upload, finalize","x-goog-upload-file-name":`file-${Date.now()}`,"x-goog-upload-offset":"0"},body:n});if(!r.ok)throw new Pe("Could not upload video");return await r.json()},Qbe=async function(e,n,r){return await L(this,hl,"f").actions.execute("/upload/createvideo",{resourceId:{scottyResourceId:{id:n.scottyResourceId}},frontendUploadId:e.frontend_upload_id,initialMetadata:{title:{newTitle:r.title},description:{newDescription:r.description,shouldSegment:!0},privacy:{newPrivacy:r.privacy||"PRIVATE"},draftState:{isDraft:!!r.is_draft}}})};var sf;class _Qe{constructor(e){sf.set(this,void 0),kt(this,sf,e,"f")}async getInfo(e=!1){if(!L(this,sf,"f").session.logged_in)throw new Pe("You must be signed in to perform this operation.");if(!e&&L(this,sf,"f").session.context.user.onBehalfOfUser)throw new Pe('Boolean argument must be true when "on_behalf_of_user" is specified.');if(e)return(await new Me({getAccountsListInnertubeEndpoint:{requestType:"ACCOUNTS_LIST_REQUEST_TYPE_CHANNEL_SWITCHER",callCircumstance:"SWITCHING_USERS_FULL"}}).call(L(this,sf,"f"),{client:"WEB",parse:!0})).actions_memo?.getType(NC)||[];const r=await new Me({getAccountsListInnertubeEndpoint:{}}).call(L(this,sf,"f"),{client:"TV"});return new pYe(r)}async getSettings(){const n=await new Me({browseEndpoint:{browseId:"SPaccount_overview"}}).call(L(this,sf,"f"));return new Tz(L(this,sf,"f"),n)}}sf=new WeakMap;var Dk,ia,w8;class SQe{constructor(e){Dk.add(this),ia.set(this,void 0),kt(this,ia,e,"f")}async create(e,n){if(ai({title:e,video_ids:n}),!L(this,ia,"f").session.logged_in)throw new Pe("You must be signed in to perform this operation.");const i=await new Me({createPlaylistServiceEndpoint:{title:e,videoIds:n}}).call(L(this,ia,"f"));return{success:i.success,status_code:i.status_code,playlist_id:i.data.playlistId,data:i.data}}async delete(e){if(ai({playlist_id:e}),!L(this,ia,"f").session.logged_in)throw new Pe("You must be signed in to perform this operation.");const r=await new Me({deletePlaylistServiceEndpoint:{sourcePlaylistId:e}}).call(L(this,ia,"f"));return{playlist_id:e,success:r.success,status_code:r.status_code,data:r.data}}async addToLibrary(e){if(ai({playlist_id:e}),!L(this,ia,"f").session.logged_in)throw new Pe("You must be signed in to perform this operation.");return await new Me({likeEndpoint:{status:"LIKE",target:e}}).call(L(this,ia,"f"))}async removeFromLibrary(e){if(ai({playlist_id:e}),!L(this,ia,"f").session.logged_in)throw new Pe("You must be signed in to perform this operation.");return await new Me({likeEndpoint:{status:"INDIFFERENT",target:e}}).call(L(this,ia,"f"))}async addVideos(e,n){if(ai({playlist_id:e,video_ids:n}),!L(this,ia,"f").session.logged_in)throw new Pe("You must be signed in to perform this operation.");const i=await new Me({playlistEditEndpoint:{playlistId:e,actions:n.map(a=>({action:"ACTION_ADD_VIDEO",addedVideoId:a}))}}).call(L(this,ia,"f"));return{playlist_id:e,action_result:i.data.actions}}async removeVideos(e,n,r=!1){if(ai({playlist_id:e,video_ids:n}),!L(this,ia,"f").session.logged_in)throw new Pe("You must be signed in to perform this operation.");const i=await L(this,Dk,"m",w8).call(this,e);if(!i.info.is_editable)throw new Pe("This playlist cannot be edited.",e);const a={playlistId:e,actions:[]},s=async u=>{const d=r?"set_video_id":"id";if(u.videos.filter(p=>n.includes(p.key(d).string())).forEach(p=>a.actions.push({action:"ACTION_REMOVE_VIDEO",setVideoId:p.key("set_video_id").string()})),a.actions.length<n.length){const p=await u.getContinuation();return s(p)}};if(await s(i),!a.actions.length)throw new Pe("Given video ids were not found in this playlist.",n);const l=await new Me({playlistEditEndpoint:a}).call(L(this,ia,"f"));return{playlist_id:e,action_result:l.data.actions}}async moveVideo(e,n,r){if(ai({playlist_id:e,moved_video_id:n,predecessor_video_id:r}),!L(this,ia,"f").session.logged_in)throw new Pe("You must be signed in to perform this operation.");const i=await L(this,Dk,"m",w8).call(this,e);if(!i.info.is_editable)throw new Pe("This playlist cannot be edited.",e);const a={playlistId:e,actions:[]};let s,o;const l=async h=>{const p=h.videos.find(v=>n===v.key("id").string()),m=h.videos.find(v=>r===v.key("id").string());if(s=s||p?.key("set_video_id").string(),o=o||m?.key("set_video_id").string(),!s||!o){const v=await h.getContinuation();return l(v)}};await l(i),a.actions.push({action:"ACTION_MOVE_VIDEO_AFTER",setVideoId:s,movedSetVideoIdPredecessor:o});const d=await new Me({playlistEditEndpoint:a}).call(L(this,ia,"f"));return{playlist_id:e,action_result:d.data.actions}}async setName(e,n){if(ai({playlist_id:e,name:n}),!L(this,ia,"f").session.logged_in)throw new Pe("You must be signed in to perform this operation.");const r={playlist_id:e,actions:[]};r.actions.push({action:"ACTION_SET_PLAYLIST_NAME",playlistName:n});const a=await new Me({playlistEditEndpoint:r}).call(L(this,ia,"f"));return{playlist_id:e,action_result:a.data.actions}}async setDescription(e,n){if(ai({playlist_id:e,description:n}),!L(this,ia,"f").session.logged_in)throw new Pe("You must be signed in to perform this operation.");const r={playlistId:e,actions:[]};r.actions.push({action:"ACTION_SET_PLAYLIST_DESCRIPTION",playlistDescription:n});const a=await new Me({playlistEditEndpoint:r}).call(L(this,ia,"f"));return{playlist_id:e,action_result:a.data.actions}}}ia=new WeakMap,Dk=new WeakSet,w8=async function(e){e.startsWith("VL")||(e=`VL${e}`);const r=await new Me({browseEndpoint:{browseId:e}}).call(L(this,ia,"f"),{parse:!0});return new Ez(L(this,ia,"f"),r,!0)};var ys;class xQe{constructor(e){ys.set(this,void 0),kt(this,ys,e,"f")}async like(e){if(ai({video_id:e}),!L(this,ys,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return new Me({likeEndpoint:{status:"LIKE",target:e}}).call(L(this,ys,"f"),{client:"TV"})}async dislike(e){if(ai({video_id:e}),!L(this,ys,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return new Me({likeEndpoint:{status:"DISLIKE",target:e}}).call(L(this,ys,"f"),{client:"TV"})}async removeRating(e){if(ai({video_id:e}),!L(this,ys,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return new Me({likeEndpoint:{status:"INDIFFERENT",target:e}}).call(L(this,ys,"f"),{client:"TV"})}async subscribe(e){if(ai({channel_id:e}),!L(this,ys,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return new Me({subscribeEndpoint:{channelIds:[e],params:"EgIIAhgA"}}).call(L(this,ys,"f"))}async unsubscribe(e){if(ai({channel_id:e}),!L(this,ys,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return new Me({unsubscribeEndpoint:{channelIds:[e],params:"CgIIAhgA"}}).call(L(this,ys,"f"))}async comment(e,n){if(ai({video_id:e,text:n}),!L(this,ys,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");const r=GWe.encode({videoId:e,params:{index:0},number:7}),i=encodeURIComponent(Vl(r.finish()));return new Me({createCommentEndpoint:{commentText:n,createCommentParams:i}}).call(L(this,ys,"f"))}async translate(e,n,r={}){ai({text:e,target_language:n});const i=Ope(22,{text:e,target_language:n,...r}),s=await new Me({performCommentActionEndpoint:{action:i}}).call(L(this,ys,"f")),o=s.data.frameworkUpdates.entityBatchUpdate.mutations[0].payload.commentEntityPayload;return{success:s.success,status_code:s.status_code,translated_content:o.translatedContent.content,data:s.data}}async setNotificationPreferences(e,n){if(ai({channel_id:e,type:n}),!L(this,ys,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");const r={PERSONALIZED:1,ALL:2,NONE:3};if(!Object.keys(r).includes(n.toUpperCase()))throw new Error(`Invalid notification preference type: ${n}`);const i=OWe.encode({channelId:e,prefId:{index:r[n.toUpperCase()]},number0:0,number1:4}),a=encodeURIComponent(Vl(i.finish()));return new Me({modifyChannelNotificationPreferenceEndpoint:{params:a}}).call(L(this,ys,"f"))}}ys=new WeakMap;var fr;class $z{constructor(e){fr.set(this,void 0),kt(this,fr,e,"f")}static async create(e={}){return new $z(await Kbe.create(e))}async getInfo(e,n){ai({target:e});const r={videoId:e instanceof Me?e.payload?.videoId:e,playlistId:e instanceof Me?e.payload?.playlistId:void 0,playlistIndex:e instanceof Me?e.payload?.playlistIndex:void 0,params:e instanceof Me?e.payload?.params:void 0,racyCheckOk:!0,contentCheckOk:!0},i=new Me({watchEndpoint:r}),a=new Me({watchNextEndpoint:r}),s={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:L(this,fr,"f").player?.sts}},client:n};L(this,fr,"f").po_token&&(s.serviceIntegrityDimensions={poToken:L(this,fr,"f").po_token});const o=i.call(L(this,fr,"f").actions,s),l=a.call(L(this,fr,"f").actions),u=await Promise.all([o,l]),d=_m(16);return new Rne(u,this.actions,d)}async getBasicInfo(e,n){ai({video_id:e});const r=new Me({watchEndpoint:{videoId:e}}),i={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:L(this,fr,"f").player?.sts}},client:n};L(this,fr,"f").po_token&&(i.serviceIntegrityDimensions={poToken:L(this,fr,"f").po_token});const a=await r.call(L(this,fr,"f").actions,i),s=_m(16);return new Rne([a],this.actions,s)}async getShortsVideoInfo(e,n){ai({video_id:e});const i=new Me({reelWatchEndpoint:{disablePlayerResponse:!1,params:"CAUwAg%3D%3D",videoId:e}}).call(L(this,fr,"f").actions,{client:n}),a=rKe.encode({shortId:e,params:{number:5},feature2:25,feature3:0}),s=encodeURIComponent(Vl(a.finish())),o=this.actions.execute("/reel/reel_watch_sequence",{sequenceParams:s}),l=await Promise.all([i,o]),u=_m(16);return new MYe([l[0]],this.actions,u,l[1])}async search(e,n={}){ai({query:e});const r={};if(r.filters={},n.sort_by&&(r.sortBy=X5[n.sort_by.toUpperCase()]),n.upload_date&&(r.filters.uploadDate=Z5[n.upload_date.toUpperCase()]),n.type&&(r.filters.type=Q5[n.type.toUpperCase()]),n.duration&&(r.filters.duration=J5[n.duration.toUpperCase()]),n.features)for(const s of n.features)switch(s){case"360":r.filters.features360=!0;break;case"3d":r.filters.features3d=!0;break;case"4k":r.filters.features4k=!0;break;case"creative_commons":r.filters.featuresCreativeCommons=!0;break;case"hd":r.filters.featuresHd=!0;break;case"hdr":r.filters.featuresHdr=!0;break;case"live":r.filters.featuresLive=!0;break;case"location":r.filters.featuresLocation=!0;break;case"purchased":r.filters.featuresPurchased=!0;break;case"subtitles":r.filters.featuresSubtitles=!0;break;case"vr180":r.filters.featuresVr180=!0;break}const a=await new Me({searchEndpoint:{query:e,params:n?encodeURIComponent(Vl(Npe.encode(r).finish())):void 0}}).call(L(this,fr,"f").actions);return new EYe(this.actions,a)}async getSearchSuggestions(e,n){const r=new URL(`${za.YT_SUGGESTIONS}/complete/search`);r.searchParams.set("client","youtube"),r.searchParams.set("gs_ri","youtube"),r.searchParams.set("gs_id","0"),r.searchParams.set("cp","0"),r.searchParams.set("ds","yt"),r.searchParams.set("sugexp",Zn.WEB.SUGG_EXP_ID),r.searchParams.set("hl",L(this,fr,"f").context.client.hl),r.searchParams.set("gl",L(this,fr,"f").context.client.gl),r.searchParams.set("q",e),n&&r.searchParams.set("pq",n);const a=await(await L(this,fr,"f").http.fetch_function(r,{headers:{Cookie:L(this,fr,"f").cookie||""}})).text();return JSON.parse(a.replace("window.google.ac.h(","").slice(0,-1))[1].map(o=>o[0])}async getComments(e,n,r){ai({video_id:e});const i={TOP_COMMENTS:0,NEWEST_FIRST:1},a=UWe.encode({ctx:{videoId:e},unkParam:6,params:{opts:{videoId:e,sortBy:i[n||"TOP_COMMENTS"],type:2,commentId:r||""},target:"comments-section"}}),s=encodeURIComponent(Vl(a.finish())),l=await new Me({continuationCommand:{request:"CONTINUATION_REQUEST_TYPE_WATCH_NEXT",token:s}}).call(L(this,fr,"f").actions);return new z1(this.actions,l.data)}async getHomeFeed(){const n=await new Me({browseEndpoint:{browseId:"FEwhat_to_watch"}}).call(L(this,fr,"f").actions);return new yYe(this.actions,n)}async getGuide(){const e=await this.actions.execute("/guide");return new gYe(e.data)}async getLibrary(){const n=await new Me({browseEndpoint:{browseId:"FElibrary"}}).call(L(this,fr,"f").actions);return new vYe(this.actions,n)}async getHistory(){const n=await new Me({browseEndpoint:{browseId:"FEhistory"}}).call(L(this,fr,"f").actions);return new xR(this.actions,n)}async getTrending(){const n=await new Me({browseEndpoint:{browseId:"FEtrending"}}).call(L(this,fr,"f").actions);return new Kb(this.actions,n)}async getCourses(){const n=await new Me({browseEndpoint:{browseId:"FEcourses_destination"}}).call(L(this,fr,"f").actions,{parse:!0});return new ka(this.actions,n)}async getSubscriptionsFeed(){const n=await new Me({browseEndpoint:{browseId:"FEsubscriptions"}}).call(L(this,fr,"f").actions,{parse:!0});return new ka(this.actions,n)}async getChannelsFeed(){const n=await new Me({browseEndpoint:{browseId:"FEchannels"}}).call(L(this,fr,"f").actions,{parse:!0});return new ka(this.actions,n)}async getChannel(e){ai({id:e});const r=await new Me({browseEndpoint:{browseId:e}}).call(L(this,fr,"f").actions);return new mYe(this.actions,r)}async getNotifications(){const e=await this.actions.execute("/notification/get_notification_menu",{notificationsMenuRequestType:"NOTIFICATIONS_MENU_REQUEST_TYPE_INBOX"});return new kz(this.actions,e)}async getUnseenNotificationsCount(){const e=await this.actions.execute("/notification/get_unseen_count");return e.data?.unseenCount||e.data?.actions?.[0].updateNotificationsUnseenCountAction?.unseenCount||0}async getPlaylists(){const n=await new Me({browseEndpoint:{browseId:"FEplaylist_aggregation"}}).call(L(this,fr,"f").actions,{parse:!0});return new ka(this.actions,n)}async getPlaylist(e){ai({id:e}),e.startsWith("VL")||(e=`VL${e}`);const r=await new Me({browseEndpoint:{browseId:e}}).call(L(this,fr,"f").actions);return new Ez(this.actions,r)}async getHashtag(e){ai({hashtag:e});const n=eKe.encode({params:{hashtag:e,type:1}}),r=encodeURIComponent(Vl(n.finish())),a=await new Me({browseEndpoint:{browseId:"FEhashtag",params:r}}).call(L(this,fr,"f").actions);return new xz(this.actions,a)}async getStreamingData(e,n={}){const i=(await this.getBasicInfo(e,n?.client)).chooseFormat(n);return i.url=i.decipher(L(this,fr,"f").player),i}async download(e,n){return(await this.getBasicInfo(e,n?.client)).download(n)}async resolveURL(e){const n=await this.actions.execute("/navigation/resolve_url",{url:e,parse:!0});if(!n.endpoint)throw new Pe("Failed to resolve URL. Expected a NavigationEndpoint but got undefined",n);return n.endpoint}async getPost(e,n){ai({post_id:e,channel_id:n});const r=sKe.encode({f0:"community",f1:{postId:e},f2:{p1:1,p2:1}}),i=encodeURIComponent(Vl(r.finish()).replace(/\+/g,"-").replace(/\//g,"_")),s=await new Me({browseEndpoint:{browseId:n,params:i}}).call(L(this,fr,"f").actions,{parse:!0});return new ka(this.actions,s)}async getPostComments(e,n,r){ai({post_id:e,channel_id:n});const i={TOP_COMMENTS:0,NEWEST_FIRST:1},a=fKe.encode({title:"community",postContainer:{postId:e},f0:{f0:1,f1:1},commentDataContainer:{title:"comments-section",commentData:{sortBy:i[r||"TOP_COMMENTS"],f0:1,channelId:n,postId:e}}}),s=cKe.encode({f0:{location:"FEcomment_post_detail_page_web_top_level",protoData:encodeURIComponent(Vl(a.finish()))}}),o=encodeURIComponent(Vl(s.finish())),u=await new Me({continuationCommand:{request:"CONTINUATION_REQUEST_TYPE_BROWSE",token:o}}).call(L(this,fr,"f").actions);return new z1(this.actions,u.data)}async getAttestationChallenge(e,n){const r={engagementType:e};return n&&(r.ids=n),this.actions.execute("/att/get",{parse:!0,...r})}call(e,n){return e.call(this.actions,n)}get music(){return new yZe(L(this,fr,"f"))}get studio(){return new wQe(L(this,fr,"f"))}get kids(){return new gZe(L(this,fr,"f"))}get account(){return new _Qe(L(this,fr,"f").actions)}get playlist(){return new SQe(L(this,fr,"f").actions)}get interact(){return new xQe(L(this,fr,"f").actions)}get actions(){return L(this,fr,"f").actions}get session(){return L(this,fr,"f")}}fr=new WeakMap;const aie="JsRuntime";function EQe(t,e){O1(aie,`Evaluating JavaScript:
`,t);const n=new OR;for(const[i,a]of Object.entries(e))n.scope.set(i,a);const r=n.evaluate(t);return O1(aie,"Done. Result:",r),r}var w_,Fk,Bk,Uk;const kQe="Cache";class TQe{constructor(e=!1,n){w_.add(this),Fk.set(this,void 0),Bk.set(this,void 0),kt(this,Fk,n||"","f"),kt(this,Bk,e,"f")}get cache_dir(){return L(this,Bk,"f")?L(this,Fk,"f"):""}async get(e){const n=await L(this,w_,"m",Uk).call(this);if(n)return new Promise((r,i)=>{const a=n.transaction("kv-store","readonly").objectStore("kv-store").get(e);a.onerror=i,a.onsuccess=function(){const s=this.result?.v;s instanceof ArrayBuffer?r(s):ArrayBuffer.isView(s)?r(s.buffer):r(void 0)}})}async set(e,n){const r=await L(this,w_,"m",Uk).call(this);if(r)return new Promise((i,a)=>{const s=r.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:n});s.onerror=a,s.onsuccess=()=>i()})}async remove(e){const n=await L(this,w_,"m",Uk).call(this);if(n)return new Promise((r,i)=>{const a=n.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);a.onerror=i,a.onsuccess=()=>r()})}}Fk=new WeakMap,Bk=new WeakMap,w_=new WeakSet,Uk=function(){const e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((n,r)=>{const i=e.open("youtubei.js",1);i.onsuccess=function(){n(this.result)},i.onerror=function(a){r("indexedDB request error"),console.error(a)},i.onupgradeneeded=function(){const a=this.result.createObjectStore("kv-store",{keyPath:"k"});a.transaction.oncomplete=function(){n(this.db)}}}):Js(kQe,"IndexedDB is not supported. No cache will be used.")};Hr.load({runtime:"browser",server:!1,info:{version:DD.version,bugs_url:DD.bugs.url,repo_url:DD.homepage.split("#")[0]},Cache:TQe,sha1Hash:cZe,uuidv4(){return globalThis.crypto?.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,t=>{const e=parseInt(t);return(e^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})},eval:EQe,fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});class rA extends CC{constructor(e){super(),Object.defineProperty(this,"videoId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"language",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"addVideoInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.videoId=e.videoId,this.language=e?.language,this.addVideoInfo=e?.addVideoInfo??!1}static getVideoID(e){const n=e.match(/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#&?]*).*/);if(n!==null&&n[1].length===11)return n[1];throw new Error("Failed to get youtube video id from the url")}static createFromUrl(e,n){const r=rA.getVideoID(e);return new rA({...n,videoId:r})}async load(){let e;const n={source:this.videoId};try{const a=await(await $z.create({lang:this.language,retrieve_player:!1})).getInfo(this.videoId);if(e=(await a.getTranscript()).transcript.content?.body?.initial_segments.map(o=>o.snippet.text).join(" ")??"",e===void 0)throw new Error("Transcription not found");if(this.addVideoInfo){const o=a.basic_info;n.description=o.short_description,n.title=o.title,n.view_count=o.view_count,n.author=o.author}}catch(i){throw new Error(`Failed to get YouTube video transcription: ${i.message}`)}return[new Vb({pageContent:e,metadata:n})]}}class iA extends CC{constructor(e){super(),Object.defineProperty(this,"filePathOrBlob",{enumerable:!0,configurable:!0,writable:!0,value:e})}async parse(e){return[e]}async load(){let e,n;if(typeof this.filePathOrBlob=="string"){const{readFile:i}=await iA.imports();e=await i(this.filePathOrBlob,"utf8"),n={source:this.filePathOrBlob}}else e=await this.filePathOrBlob.text(),n={source:"blob",blobType:this.filePathOrBlob.type};const r=await this.parse(e);return r.forEach((i,a)=>{if(typeof i!="string")throw new Error(`Expected string, at position ${a} got ${typeof i}`)}),r.map((i,a)=>new Vb({pageContent:i,metadata:r.length===1?n:{...n,line:a+1}}))}static async imports(){try{const{readFile:e}=await Ps(async()=>{const{readFile:n}=await import("./__vite-browser-external-D7Ct-6yo.js").then(r=>r._);return{readFile:n}},[]);return{readFile:e}}catch(e){throw console.error(e),new Error(`Failed to load fs/promises. TextLoader available only on environment 'node'. It appears you are running environment '${hF()}'. See https://<link to docs> for alternatives.`)}}}class qz extends CC{constructor(e){super(),Object.defineProperty(this,"filePathOrBlob",{enumerable:!0,configurable:!0,writable:!0,value:e})}async load(){let e,n;if(typeof this.filePathOrBlob=="string"){const{readFile:r}=await qz.imports();e=await r(this.filePathOrBlob),n={source:this.filePathOrBlob}}else e=await this.filePathOrBlob.arrayBuffer().then(r=>Buffer.from(r)),n={source:"blob",blobType:this.filePathOrBlob.type};return this.parse(e,n)}static async imports(){try{const{readFile:e}=await Ps(async()=>{const{readFile:n}=await import("./__vite-browser-external-D7Ct-6yo.js").then(r=>r._);return{readFile:n}},[]);return{readFile:e}}catch(e){throw console.error(e),new Error(`Failed to load fs/promises. TextLoader available only on environment 'node'. It appears you are running environment '${hF()}'. See https://<link to docs> for alternatives.`)}}}class sie extends qz{constructor(e,n){super(e),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:{type:"docx"}}),n&&(this.options={...n})}async parse(e,n){return this.options.type==="doc"?this.parseDoc(e,n):this.parseDocx(e,n)}async parseDocx(e,n){if(this.options.type==="doc")return this.parseDoc(e,n);const{extractRawText:r}=await AQe(),i=await r({buffer:e});return i.value?[new Vb({pageContent:i.value,metadata:n})]:[]}async parseDoc(e,n){const r=await CQe(),a=await new r().extract(e);return[new Vb({pageContent:a.getBody(),metadata:n})]}}async function AQe(){try{const{extractRawText:t}=await Ps(async()=>{const{extractRawText:e}=await import("./index-CtQ01uV4.js").then(n=>n.i);return{extractRawText:e}},__vite__mapDeps([4,1]));return{extractRawText:t}}catch(t){throw console.error(t),new Error("Failed to load mammoth. Please install it with eg. `npm install mammoth`.")}}async function CQe(){try{return(await Ps(()=>import("./word-t0xV30rm.js").then(e=>e.w),__vite__mapDeps([5,2,3]))).default}catch(t){throw console.error(t),new Error("Failed to load word-extractor. Please install it with eg. `npm install word-extractor`.")}}var G_={};G_.d=(t,e)=>{for(var n in e)G_.o(e,n)&&!G_.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})};G_.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var er=globalThis.pdfjsLib={};G_.d(er,{AbortException:()=>$m,AnnotationEditorLayer:()=>cf,AnnotationEditorParamsType:()=>jr,AnnotationEditorType:()=>pr,AnnotationEditorUIManager:()=>qm,AnnotationLayer:()=>ket,AnnotationMode:()=>dm,ColorPicker:()=>Ru,DOMSVGFactory:()=>t$,DrawLayer:()=>Ao,FeatureTest:()=>Bo,GlobalWorkerOptions:()=>K_,ImageKind:()=>jk,InvalidPDFException:()=>S8,MissingPDFException:()=>H1,OPS:()=>Tc,OutputScale:()=>x8,PDFDataRangeTransport:()=>yve,PDFDateString:()=>tve,PDFWorker:()=>vs,PasswordResponses:()=>OQe,PermissionFlag:()=>NQe,PixelsPerInch:()=>Zb,RenderingCancelledException:()=>Gz,TextLayer:()=>Co,TouchManager:()=>jR,UnexpectedResponseException:()=>aA,Util:()=>Nn,VerbosityLevel:()=>PR,XfaLayer:()=>vve,build:()=>ret,createValidAbsoluteUrl:()=>DQe,fetchData:()=>BR,getDocument:()=>KJe,getFilenameFromUrl:()=>VQe,getPdfFilenameFromUrl:()=>GQe,getXfaPageViewport:()=>WQe,isDataScheme:()=>UR,isPdfFile:()=>Wz,noContextMenu:()=>Wc,normalizeUnicode:()=>$Qe,setLayerDimensions:()=>E0,shadow:()=>Er,stopEvent:()=>Kl,version:()=>net});const no=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Jbe=[1,0,0,1,0,0],_8=[.001,0,0,.001,0,0],RQe=1e7,FD=1.35,Hl={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},dm={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},IQe="pdfjs_internal_editor_",pr={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},jr={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},NQe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ys={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},jk={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ya={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Cw={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},PR={ERRORS:0,WARNINGS:1,INFOS:5},Tc={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},OQe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let LR=PR.WARNINGS;function MQe(t){Number.isInteger(t)&&(LR=t)}function PQe(){return LR}function DR(t){LR>=PR.INFOS&&console.log(`Info: ${t}`)}function mr(t){LR>=PR.WARNINGS&&console.log(`Warning: ${t}`)}function Ai(t){throw new Error(t)}function $a(t,e){t||Ai(e)}function LQe(t){switch(t?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function DQe(t,e=null,n=null){if(!t)return null;try{if(n&&typeof t=="string"&&(n.addDefaultProtocol&&t.startsWith("www.")&&t.match(/\./g)?.length>=2&&(t=`http://${t}`),n.tryConvertEncoding))try{t=zQe(t)}catch{}const r=e?new URL(t,e):new URL(t);if(LQe(r))return r}catch{}return null}function Er(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const Qm=function(){function e(n,r){this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class oie extends Qm{constructor(e,n){super(e,"PasswordException"),this.code=n}}class BD extends Qm{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class S8 extends Qm{constructor(e){super(e,"InvalidPDFException")}}class H1 extends Qm{constructor(e){super(e,"MissingPDFException")}}class aA extends Qm{constructor(e,n){super(e,"UnexpectedResponseException"),this.status=n}}class FQe extends Qm{constructor(e){super(e,"FormatError")}}class $m extends Qm{constructor(e){super(e,"AbortException")}}function eve(t){(typeof t!="object"||t?.length===void 0)&&Ai("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const a=Math.min(i+n,e),s=t.subarray(i,a);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function FR(t){typeof t!="string"&&Ai("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function BQe(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function Hz(t){const e=Object.create(null);for(const[n,r]of t)e[n]=r;return e}function UQe(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function jQe(){try{return new Function(""),!0}catch{return!1}}class Bo{static get isLittleEndian(){return Er(this,"isLittleEndian",UQe())}static get isEvalSupported(){return Er(this,"isEvalSupported",jQe())}static get isOffscreenCanvasSupported(){return Er(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Er(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){return typeof navigator<"u"&&typeof navigator?.platform=="string"?Er(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof navigator?.userAgent=="string"&&navigator.userAgent.includes("Firefox")}):Er(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){return Er(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const UD=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));class Nn{static makeHexColor(e,n,r){return`#${UD[e]}${UD[n]}${UD[r]}`}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static applyTransform(e,n){const r=e[0]*n[0]+e[1]*n[2]+n[4],i=e[0]*n[1]+e[1]*n[3]+n[5];return[r,i]}static applyInverseTransform(e,n){const r=n[0]*n[3]-n[1]*n[2],i=(e[0]*n[3]-e[1]*n[2]+n[2]*n[5]-n[4]*n[3])/r,a=(-e[0]*n[1]+e[1]*n[0]+n[4]*n[1]-n[5]*n[0])/r;return[i,a]}static getAxialAlignedBoundingBox(e,n){const r=this.applyTransform(e,n),i=this.applyTransform(e.slice(2,4),n),a=this.applyTransform([e[0],e[3]],n),s=this.applyTransform([e[2],e[1]],n);return[Math.min(r[0],i[0],a[0],s[0]),Math.min(r[1],i[1],a[1],s[1]),Math.max(r[0],i[0],a[0],s[0]),Math.max(r[1],i[1],a[1],s[1])]}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e){const n=[e[0],e[2],e[1],e[3]],r=e[0]*n[0]+e[1]*n[2],i=e[0]*n[1]+e[1]*n[3],a=e[2]*n[0]+e[3]*n[2],s=e[2]*n[1]+e[3]*n[3],o=(r+s)/2,l=Math.sqrt((r+s)**2-4*(r*s-a*i))/2,u=o+l||1,d=o-l||1;return[Math.sqrt(u),Math.sqrt(d)]}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return a>s?null:[r,a,i,s]}static#e(e,n,r,i,a,s,o,l,u,d){if(u<=0||u>=1)return;const h=1-u,p=u*u,m=p*u,v=h*(h*(h*e+3*u*n)+3*p*r)+m*i,w=h*(h*(h*a+3*u*s)+3*p*o)+m*l;d[0]=Math.min(d[0],v),d[1]=Math.min(d[1],w),d[2]=Math.max(d[2],v),d[3]=Math.max(d[3],w)}static#t(e,n,r,i,a,s,o,l,u,d,h,p){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&this.#e(e,n,r,i,a,s,o,l,-h/d,p);return}const m=d**2-4*h*u;if(m<0)return;const v=Math.sqrt(m),w=2*u;this.#e(e,n,r,i,a,s,o,l,(-d+v)/w,p),this.#e(e,n,r,i,a,s,o,l,(-d-v)/w,p)}static bezierBoundingBox(e,n,r,i,a,s,o,l,u){return u?(u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],n,l),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],n,l)):u=[Math.min(e,o),Math.min(n,l),Math.max(e,o),Math.max(n,l)],this.#t(e,r,a,o,n,i,s,l,3*(-e+3*(r-a)+o),6*(e-2*r+a),3*(r-e),u),this.#t(e,r,a,o,n,i,s,l,3*(-n+3*(i-s)+l),6*(n-2*i+s),3*(i-n),u),u}}function zQe(t){return decodeURIComponent(escape(t))}let jD=null,lie=null;function $Qe(t){return jD||(jD=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,lie=new Map([["ﬅ","ſt"]])),t.replaceAll(jD,(e,n,r)=>n?n.normalize("NFKC"):lie.get(r))}function qQe(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),eve(t)}const Vz="pdfjs_internal_id_";function HQe(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(eve(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});const of="http://www.w3.org/2000/svg";class Zb{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function BR(t,e="text"){if(__(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class KS{constructor({viewBox:e,userUnit:n,scale:r,rotation:i,offsetX:a=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=n,this.scale=r,this.rotation=i,this.offsetX=a,this.offsetY=s,r*=n;const l=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,h,p,m;switch(i%=360,i<0&&(i+=360),i){case 180:d=-1,h=0,p=0,m=1;break;case 90:d=0,h=1,p=1,m=0;break;case 270:d=0,h=-1,p=-1,m=0;break;case 0:d=1,h=0,p=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(p=-p,m=-m);let v,w,k,T;d===0?(v=Math.abs(u-e[1])*r+a,w=Math.abs(l-e[0])*r+s,k=(e[3]-e[1])*r,T=(e[2]-e[0])*r):(v=Math.abs(l-e[0])*r+a,w=Math.abs(u-e[1])*r+s,k=(e[2]-e[0])*r,T=(e[3]-e[1])*r),this.transform=[d*r,h*r,p*r,m*r,v-d*r*l-p*r*u,w-h*r*l-m*r*u],this.width=k,this.height=T}get rawDims(){const{userUnit:e,viewBox:n}=this,r=n.map(i=>i*e);return Er(this,"rawDims",{pageWidth:r[2]-r[0],pageHeight:r[3]-r[1],pageX:r[0],pageY:r[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:a=!1}={}){return new KS({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:a})}convertToViewportPoint(e,n){return Nn.applyTransform([e,n],this.transform)}convertToViewportRectangle(e){const n=Nn.applyTransform([e[0],e[1]],this.transform),r=Nn.applyTransform([e[2],e[3]],this.transform);return[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){return Nn.applyInverseTransform([e,n],this.transform)}}class Gz extends Qm{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function UR(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function Wz(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function VQe(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function GQe(t,e="document.pdf"){if(typeof t!="string")return e;if(UR(t))return mr('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=n.exec(t);let a=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(a&&(a=a[0],a.includes("%")))try{a=r.exec(decodeURIComponent(a))[0]}catch{}return a||e}class uie{started=Object.create(null);times=[];time(e){e in this.started&&mr(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||mr(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:a}of this.times)e.push(`${r.padEnd(n)} ${a-i}ms
`);return e.join("")}}function __(t,e){try{const{protocol:n}=e?new URL(t,e):new URL(t);return n==="http:"||n==="https:"}catch{return!1}}function Wc(t){t.preventDefault()}function Kl(t){t.preventDefault(),t.stopPropagation()}class tve{static#e;static toDateObject(e){if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const n=this.#e.exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let a=parseInt(n[3],10);a=a>=1&&a<=31?a:1;let s=parseInt(n[4],10);s=s>=0&&s<=23?s:0;let o=parseInt(n[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(n[6],10);l=l>=0&&l<=59?l:0;const u=n[7]||"Z";let d=parseInt(n[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(n[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(s+=d,o+=h):u==="+"&&(s-=d,o-=h),new Date(Date.UTC(r,i,a,s,o,l))}}function WQe(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,a=[0,0,parseInt(r),parseInt(i)];return new KS({viewBox:a,userUnit:1,scale:e,rotation:n})}function Kz(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(mr(`Not a valid color format: "${t}"`),[0,0,0])}function KQe(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,Kz(r))}e.remove()}function Gi(t){const{a:e,b:n,c:r,d:i,e:a,f:s}=t.getTransform();return[e,n,r,i,a,s]}function vd(t){const{a:e,b:n,c:r,d:i,e:a,f:s}=t.getTransform().invertSelf();return[e,n,r,i,a,s]}function E0(t,e,n=!1,r=!0){if(e instanceof KS){const{pageWidth:i,pageHeight:a}=e.rawDims,{style:s}=t,o=Bo.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,u=`var(--scale-factor) * ${a}px`,d=o?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,h=o?`round(down, ${u}, var(--scale-round-y, 1px))`:`calc(${u})`;!n||e.rotation%180===0?(s.width=d,s.height=h):(s.width=h,s.height=d)}r&&t.setAttribute("data-main-rotation",e.rotation)}class x8{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}class W_{#e=null;#t=null;#n;#r=null;#a=null;static#i=null;constructor(e){this.#n=e,W_.#i||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=this.#n._uiManager._signal;e.addEventListener("contextmenu",Wc,{signal:n}),e.addEventListener("pointerdown",W_.#l,{signal:n});const r=this.#r=document.createElement("div");r.className="buttons",e.append(r);const i=this.#n.toolbarPosition;if(i){const{style:a}=e,s=this.#n._uiManager.direction==="ltr"?1-i[0]:i[0];a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return this.#h(),e}get div(){return this.#e}static#l(e){e.stopPropagation()}#s(e){this.#n._focusEventsAllowed=!1,Kl(e)}#c(e){this.#n._focusEventsAllowed=!0,Kl(e)}#u(e){const n=this.#n._uiManager._signal;e.addEventListener("focusin",this.#s.bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",this.#c.bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",Wc,{signal:n})}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#a?.shown()}#h(){const{editorType:e,_uiManager:n}=this.#n,r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",W_.#i[e]),this.#u(r),r.addEventListener("click",i=>{n.delete()},{signal:n._signal}),this.#r.append(r)}get#d(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const n=await e.render();this.#u(n),this.#r.prepend(n,this.#d),this.#a=e}addColorPicker(e){this.#t=e;const n=e.renderButton();this.#u(n),this.#r.prepend(n,this.#d)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class YQe{#e=null;#t=null;#n;constructor(e){this.#n=e}#r(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Wc,{signal:this.#n._signal});const n=this.#e=document.createElement("div");return n.className="buttons",e.append(n),this.#i(),e}#a(e,n){let r=0,i=0;for(const a of e){const s=a.y+a.height;if(s<r)continue;const o=a.x+(n?a.width:0);if(s>r){i=o,r=s;continue}n?o>i&&(i=o):o<i&&(i=o)}return[n?1-i:i,r]}show(e,n,r){const[i,a]=this.#a(n,r),{style:s}=this.#t||=this.#r();e.append(this.#t),s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#i(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const n=document.createElement("span");e.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=this.#n._signal;e.addEventListener("contextmenu",Wc,{signal:r}),e.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:r}),this.#e.append(e)}}function sA(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}class XQe{#e=0;get id(){return`${IQe}${this.#e++}`}}class Yz{#e=qQe();#t=0;#n=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const a=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Er(this,"_isSVGFittingCanvas",a)}async#r(e,n){this.#n||=new Map;let r=this.#n.get(e);if(r===null)return null;if(r?.bitmap)return r.refCounter+=1,r;try{r||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let i;if(typeof n=="string"?(r.url=n,i=await BR(n,"blob")):n instanceof File?i=r.file=n:n instanceof Blob&&(i=n),i.type==="image/svg+xml"){const a=Yz._isSVGFittingCanvas,s=new FileReader,o=new Image,l=new Promise((u,d)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,u()},s.onload=async()=>{const h=r.svgUrl=s.result;o.src=await a?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=s.onerror=d});s.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){mr(i),r=null}return this.#n.set(e,r),r&&this.#n.set(r.id,r),r}async getFromFile(e){const{lastModified:n,name:r,size:i,type:a}=e;return this.#r(`${n}_${r}_${i}_${a}`,e)}async getFromUrl(e){return this.#r(e,e)}async getFromBlob(e,n){const r=await n;return this.#r(e,r)}async getFromId(e){this.#n||=new Map;const n=this.#n.get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:r}=n;return delete n.blobPromise,this.getFromBlob(n.id,r)}return this.getFromUrl(n.url)}getFromCanvas(e,n){this.#n||=new Map;let r=this.#n.get(e);if(r?.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(n.width,n.height);return i.getContext("2d").drawImage(n,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#n.set(e,r),this.#n.set(r.id,r),r}getSvgUrl(e){const n=this.#n.get(e);return n?.isSvg?n.svgUrl:null}deleteId(e){this.#n||=new Map;const n=this.#n.get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:r}=n;if(!n.url&&!n.file){const i=new OffscreenCanvas(r.width,r.height);i.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=i.convertToBlob()}r.close?.(),n.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class ZQe{#e=[];#t=!1;#n;#r=-1;constructor(e=128){this.#n=e}add({cmd:e,undo:n,post:r,mustExec:i,type:a=NaN,overwriteIfSameType:s=!1,keepUndo:o=!1}){if(i&&e(),this.#t)return;const l={cmd:e,undo:n,post:r,type:a};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(l);return}if(s&&this.#e[this.#r].type===a){o&&(l.undo=this.#e[this.#r].undo),this.#e[this.#r]=l;return}const u=this.#r+1;u===this.#n?this.#e.splice(0,1):(this.#r=u,u<this.#e.length&&this.#e.splice(u)),this.#e.push(l)}undo(){if(this.#r===-1)return;this.#t=!0;const{undo:e,post:n}=this.#e[this.#r];e(),n?.(),this.#t=!1,this.#r-=1}redo(){if(this.#r<this.#e.length-1){this.#r+=1,this.#t=!0;const{cmd:e,post:n}=this.#e[this.#r];e(),n?.(),this.#t=!1}}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}cleanType(e){if(this.#r!==-1){for(let n=this.#r;n>=0;n--)if(this.#e[n].type!==e){this.#e.splice(n+1,this.#r-n),this.#r=n;return}this.#e.length=0,this.#r=-1}}destroy(){this.#e=null}}class YS{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=Bo.platform;for(const[r,i,a={}]of e)for(const s of r){const o=s.startsWith("mac+");n&&o?(this.callbacks.set(s.slice(4),{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1))):!n&&!o&&(this.callbacks.set(s,{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(this.#e(n));if(!r)return;const{callback:i,options:{bubbles:a=!1,args:s=[],checker:o=null}}=r;o&&!o(e,n)||(i.bind(e,...s,n)(),a||Kl(n))}}class Xz{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return KQe(e),Er(this,"_colors",e)}convert(e){const n=Kz(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((a,s)=>a===n[s]))return Xz._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?Nn.makeHexColor(...n):e}}class qm{#e=new AbortController;#t=null;#n=new Map;#r=new Map;#a=null;#i=null;#l=null;#s=new ZQe;#c=null;#u=null;#h=0;#d=new Set;#f=null;#o=null;#p=new Set;_editorUndoBar=null;#g=!1;#m=!1;#y=!1;#v=null;#b=null;#_=null;#S=null;#x=!1;#T=null;#R=new XQe;#E=!1;#C=!1;#A=null;#N=null;#P=null;#D=null;#k=pr.NONE;#w=new Set;#M=null;#z=null;#$=null;#q={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#F=[0,0];#L=null;#B=null;#H=null;#O=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=qm.prototype,n=s=>s.#B.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),r=(s,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Er(this,"_keyboardManager",new YS([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&s.#B.contains(o)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&s.#B.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:n}]]))}constructor(e,n,r,i,a,s,o,l,u,d,h,p,m){const v=this._signal=this.#e.signal;this.#B=e,this.#H=n,this.#a=r,this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:v}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),i._on("setpreference",this.onSetPreference.bind(this),{signal:v}),i._on("switchannotationeditorparams",w=>this.updateParams(w.type,w.value),{signal:v}),this.#te(),this.#ae(),this.#K(),this.#i=a.annotationStorage,this.#v=a.filterFactory,this.#z=s,this.#S=o||null,this.#g=l,this.#m=u,this.#y=d,this.#D=h||null,this.viewParameters={realScale:Zb.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=p||null,this._supportsPinchToZoom=m!==!1}destroy(){this.#O?.resolve(),this.#O=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#r.values())e.destroy();this.#r.clear(),this.#n.clear(),this.#p.clear(),this.#t=null,this.#w.clear(),this.#s.destroy(),this.#a?.destroy(),this.#T?.hide(),this.#T=null,this.#b&&(clearTimeout(this.#b),this.#b=null),this.#L&&(clearTimeout(this.#L),this.#L=null),this._editorUndoBar?.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#D}get useNewAltTextFlow(){return this.#m}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return Er(this,"hcmFilter",this.#z?this.#v.addHCMFilter(this.#z.foreground,this.#z.background):"none")}get direction(){return Er(this,"direction",getComputedStyle(this.#B).direction)}get highlightColors(){return Er(this,"highlightColors",this.#S?new Map(this.#S.split(",").map(e=>e.split("=").map(n=>n.trim()))):null)}get highlightColorNames(){return Er(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#u=e}setMainHighlightColorPicker(e){this.#P=e}editAltText(e,n=!1){this.#a?.editAltText(this,e,n)}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){switch(e){case"enableNewAltTextWhenAddingImage":this.#y=n;break}}onPageChanging({pageNumber:e}){this.#h=e-1}focusMainContainer(){this.#B.focus()}findParent(e,n){for(const r of this.#r.values()){const{x:i,y:a,width:s,height:o}=r.div.getBoundingClientRect();if(e>=i&&e<=i+s&&n>=a&&n<=a+o)return r}return null}disableUserSelect(e=!1){this.#H.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#p.add(e)}removeShouldRescale(e){this.#p.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Zb.PDF_TO_CSS_UNITS;for(const n of this.#p)n.onScaleChanging();this.#u?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#U({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#W(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const r of this.#r.values())if(r.hasTextLayer(e))return r;return null}highlightSelection(e=""){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:a,focusOffset:s}=n,o=n.toString(),u=this.#U(n).closest(".textLayer"),d=this.getSelectionBoxes(u);if(!d)return;n.empty();const h=this.#W(u),p=this.#k===pr.NONE,m=()=>{h?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:r,anchorOffset:i,focusNode:a,focusOffset:s,text:o}),p&&this.showAllEditors("highlight",!0,!0)};if(p){this.switchToMode(pr.HIGHLIGHT,m);return}m()}#J(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=this.#U(e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(this.#T||=new YQe(this),this.#T.show(r,i,this.direction==="ltr"))}addToAnnotationStorage(e){!e.isEmpty()&&this.#i&&!this.#i.has(e.id)&&this.#i.setValue(e.id,e)}#ee(){const e=document.getSelection();if(!e||e.isCollapsed){this.#M&&(this.#T?.hide(),this.#M=null,this.#I({hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===this.#M)return;const i=this.#U(e).closest(".textLayer");if(!i){this.#M&&(this.#T?.hide(),this.#M=null,this.#I({hasSelectedText:!1}));return}if(this.#T?.hide(),this.#M=n,this.#I({hasSelectedText:!0}),!(this.#k!==pr.HIGHLIGHT&&this.#k!==pr.NONE)&&(this.#k===pr.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#x=this.isShiftKeyDown,!this.isShiftKeyDown)){const a=this.#k===pr.HIGHLIGHT?this.#W(i):null;a?.toggleDrawing();const s=new AbortController,o=this.combinedSignal(s),l=u=>{u.type==="pointerup"&&u.button!==0||(s.abort(),a?.toggleDrawing(!0),u.type==="pointerup"&&this.#G("main_toolbar"))};window.addEventListener("pointerup",l,{signal:o}),window.addEventListener("blur",l,{signal:o})}}#G(e=""){this.#k===pr.HIGHLIGHT?this.highlightSelection(e):this.#g&&this.#J()}#te(){document.addEventListener("selectionchange",this.#ee.bind(this),{signal:this._signal})}#ne(){if(this.#_)return;this.#_=new AbortController;const e=this.combinedSignal(this.#_);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#re(){this.#_?.abort(),this.#_=null}blur(){if(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#G("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of this.#w)if(n.div.contains(e)){this.#N=[n,e],n._focusEventsAllowed=!1;break}}focus(){if(!this.#N)return;const[e,n]=this.#N;this.#N=null,n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}#K(){if(this.#A)return;this.#A=new AbortController;const e=this.combinedSignal(this.#A);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ie(){this.#A?.abort(),this.#A=null}#Y(){if(this.#c)return;this.#c=new AbortController;const e=this.combinedSignal(this.#c);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#X(){this.#c?.abort(),this.#c=null}#ae(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#K(),this.#Y()}removeEditListeners(){this.#ie(),this.#X()}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of this.#o)if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of this.#o)if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const n=[];for(const r of this.#w){const i=r.serialize(!0);i&&n.push(i)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const a of n.items)for(const s of this.#o)if(s.isHandlingMimeForPasting(a.type)){s.paste(a,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(a){mr(`paste: "${a.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const a=[];for(const l of r){const u=await i.deserialize(l);if(!u)return;a.push(u)}const s=()=>{for(const l of a)this.#Z(l);this.#Q(a)},o=()=>{for(const l of a)l.remove()};this.addCommands({cmd:s,undo:o,mustExec:!0})}catch(a){mr(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#k!==pr.NONE&&!this.isEditorHandlingKeyboard&&qm._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#G("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#I(e){Object.entries(e).some(([r,i])=>this.#q[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#q,e)}),this.#k===pr.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#j([[jr.HIGHLIGHT_FREE,!0]]))}#j(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#ne(),this.#Y(),this.#I({isEditing:this.#k!==pr.NONE,isEmpty:this.#V(),hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:this.#s.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#re(),this.#X(),this.#I({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#o){this.#o=e;for(const n of this.#o)this.#j(n.defaultPropertiesToUpdate)}}getId(){return this.#R.id}get currentLayer(){return this.#r.get(this.#h)}getLayer(e){return this.#r.get(e)}get currentPageIndex(){return this.#h}addLayer(e){this.#r.set(e.pageIndex,e),this.#E?e.enable():e.disable()}removeLayer(e){this.#r.delete(e.pageIndex)}async updateMode(e,n=null,r=!1){if(this.#k!==e&&!(this.#O&&(await this.#O.promise,!this.#O))){if(this.#O=Promise.withResolvers(),this.#k=e,e===pr.NONE){this.setEditingState(!1),this.#oe(),this._editorUndoBar?.hide(),this.#O.resolve();return}this.setEditingState(!0),await this.#se(),this.unselectAll();for(const i of this.#r.values())i.updateMode(e);if(!n){r&&this.addNewEditorFromKeyboard(),this.#O.resolve();return}for(const i of this.#n.values())i.annotationElementId===n?(this.setSelected(i),i.enterInEditMode()):i.unselect();this.#O.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==this.#k&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,n){if(this.#o){switch(e){case jr.CREATE:this.currentLayer.addNewEditor();return;case jr.HIGHLIGHT_DEFAULT_COLOR:this.#P?.updateColor(n);break;case jr.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#$||=new Map).set(e,n),this.showAllEditors("highlight",n);break}for(const r of this.#w)r.updateParams(e,n);for(const r of this.#o)r.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){for(const a of this.#n.values())a.editorType===e&&a.show(n);(this.#$?.get(jr.HIGHLIGHT_SHOW_ALL)??!0)!==n&&this.#j([[jr.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(this.#C!==e){this.#C=e;for(const n of this.#r.values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}async#se(){if(!this.#E){this.#E=!0;const e=[];for(const n of this.#r.values())e.push(n.enable());await Promise.all(e);for(const n of this.#n.values())n.enable()}}#oe(){if(this.unselectAll(),this.#E){this.#E=!1;for(const e of this.#r.values())e.disable();for(const e of this.#n.values())e.disable()}}getEditors(e){const n=[];for(const r of this.#n.values())r.pageIndex===e&&n.push(r);return n}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.focusMainContainer(),this.#b=null},0)),this.#n.delete(e.id),this.unselect(e),(!e.annotationElementId||!this.#d.has(e.annotationElementId))&&this.#i?.remove(e.id)}addDeletedAnnotationElement(e){this.#d.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#d.has(e)}removeDeletedAnnotationElement(e){this.#d.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#Z(e){const n=this.#r.get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#j(e.propertiesToUpdate))}get#le(){let e=null;for(e of this.#w);return e}updateUI(e){this.#le===e&&this.#j(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#j(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#w.has(e)){this.#w.delete(e),e.unselect(),this.#I({hasSelectedEditor:this.hasSelection});return}this.#w.add(e),e.select(),this.#j(e.propertiesToUpdate),this.#I({hasSelectedEditor:!0})}setSelected(e){this.#u?.commitOrRemove();for(const n of this.#w)n!==e&&n.unselect();this.#w.clear(),this.#w.add(e),e.select(),this.#j(e.propertiesToUpdate),this.#I({hasSelectedEditor:!0})}isSelected(e){return this.#w.has(e)}get firstSelectedEditor(){return this.#w.values().next().value}unselect(e){e.unselect(),this.#w.delete(e),this.#I({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#w.size!==0}get isEnterHandled(){return this.#w.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#s.undo(),this.#I({hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#V()}),this._editorUndoBar?.hide()}redo(){this.#s.redo(),this.#I({hasSomethingToUndo:!0,hasSomethingToRedo:this.#s.hasSomethingToRedo(),isEmpty:this.#V()})}addCommands(e){this.#s.add(e),this.#I({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#V()})}cleanUndoStack(e){this.#s.cleanType(e)}#V(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...this.#w],r=()=>{this._editorUndoBar?.show(i,n.length===1?n[0].editorType:n.length);for(const a of n)a.remove()},i=()=>{for(const a of n)this.#Z(a)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#Q(e){for(const n of this.#w)n.unselect();this.#w.clear();for(const n of e)n.isEmpty()||(this.#w.add(n),n.select());this.#I({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#w)e.commit();this.#Q(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#k!==pr.NONE))&&!this.#u?.commitOrRemove()&&this.hasSelection){for(const e of this.#w)e.unselect();this.#w.clear(),this.#I({hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;this.#F[0]+=e,this.#F[1]+=n;const[i,a]=this.#F,s=[...this.#w],o=1e3;this.#L&&clearTimeout(this.#L),this.#L=setTimeout(()=>{this.#L=null,this.#F[0]=this.#F[1]=0,this.addCommands({cmd:()=>{for(const l of s)this.#n.has(l.id)&&l.translateInPage(i,a)},undo:()=>{for(const l of s)this.#n.has(l.id)&&l.translateInPage(-i,-a)},mustExec:!1})},o);for(const l of s)l.translateInPage(e,n)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const e of this.#w)this.#f.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const e=this.#f;this.#f=null;let n=!1;for(const[{x:i,y:a,pageIndex:s},o]of e)o.newX=i,o.newY=a,o.newPageIndex=s,n||=i!==o.savedX||a!==o.savedY||s!==o.savedPageIndex;if(!n)return!1;const r=(i,a,s,o)=>{if(this.#n.has(i.id)){const l=this.#r.get(o);l?i._setParentAndPosition(l,a,s):(i.pageIndex=o,i.x=a,i.y=s)}};return this.addCommands({cmd:()=>{for(const[i,{newX:a,newY:s,newPageIndex:o}]of e)r(i,a,s,o)},undo:()=>{for(const[i,{savedX:a,savedY:s,savedPageIndex:o}]of e)r(i,a,s,o)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(this.#f)for(const r of this.#f.keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#w.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#k}get imageManager(){return Er(this,"imageManager",new Yz)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let u=0,d=n.rangeCount;u<d;u++)if(!e.contains(n.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:i,width:a,height:s}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,d,h,p)=>({x:(d-i)/s,y:1-(u+h-r)/a,width:p/s,height:h/a});break;case"180":o=(u,d,h,p)=>({x:1-(u+h-r)/a,y:1-(d+p-i)/s,width:h/a,height:p/s});break;case"270":o=(u,d,h,p)=>({x:1-(d+p-i)/s,y:(u-r)/a,width:p/s,height:h/a});break;default:o=(u,d,h,p)=>({x:(u-r)/a,y:(d-i)/s,width:h/a,height:p/s});break}const l=[];for(let u=0,d=n.rangeCount;u<d;u++){const h=n.getRangeAt(u);if(!h.collapsed)for(const{x:p,y:m,width:v,height:w}of h.getClientRects())v===0||w===0||l.push(o(p,m,v,w))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:n}){(this.#l||=new Map).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){this.#l?.delete(e)}renderAnnotationElement(e){const n=this.#l?.get(e.data.id);if(!n)return;const r=this.#i.getRawValue(n);r&&(this.#k===pr.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}}class Rd{#e=null;#t=!1;#n=null;#r=null;#a=null;#i=null;#l=!1;#s=null;#c=null;#u=null;#h=null;#d=!1;static#f=null;static _l10n=null;constructor(e){this.#c=e,this.#d=e._uiManager.useNewAltTextFlow,Rd.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){Rd._l10n??=e}async render(){const e=this.#n=document.createElement("button");e.className="altText",e.tabIndex="0";const n=this.#r=document.createElement("span");e.append(n),this.#d?(e.classList.add("new"),e.setAttribute("data-l10n-id",Rd.#f.missing),n.setAttribute("data-l10n-id",Rd.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=this.#c._uiManager._signal;e.addEventListener("contextmenu",Wc,{signal:r}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:r});const i=a=>{a.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#d&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#o}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(this.#l=!0,i(a))},{signal:r}),await this.#p(),e}get#o(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#l}),this.#l=!1)}isEmpty(){return this.#d?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#d?this.#e!==null||!!this.#u:this.isEmpty()}get guessedText(){return this.#u}async setGuessedText(e){this.#e===null&&(this.#u=e,this.#h=await Rd._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#p())}toggleAltTextBadge(e=!1){if(!this.#d||this.#e){this.#s?.remove(),this.#s=null;return}if(!this.#s){const n=this.#s=document.createElement("div");n.className="noAltTextBadge",this.#c.div.append(n)}this.#s.classList.toggle("hidden",!e)}serialize(e){let n=this.#e;return!e&&this.#u===n&&(n=this.#h),{altText:n,decorative:this.#t,guessedText:this.#u,textWithDisclaimer:this.#h}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:a=!1}){r&&(this.#u=r,this.#h=i),!(this.#e===e&&this.#t===n)&&(a||(this.#e=e,this.#t=n),this.#p())}toggle(e=!1){this.#n&&(!e&&this.#i&&(clearTimeout(this.#i),this.#i=null),this.#n.disabled=!e)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#o}})}destroy(){this.#n?.remove(),this.#n=null,this.#r=null,this.#a=null,this.#s?.remove(),this.#s=null}async#p(){const e=this.#n;if(!e)return;if(this.#d){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",Rd.#f[this.#o]),this.#r?.setAttribute("data-l10n-id",Rd.#f[`${this.#o}-label`]),!this.#e){this.#a?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#a?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=this.#a;if(!n){this.#a=n=document.createElement("span"),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${this.#c.id}`;const i=100,a=this.#c._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(this.#i),this.#i=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#i=setTimeout(()=>{this.#i=null,this.#a.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},i)},{signal:a}),e.addEventListener("mouseleave",()=>{this.#i&&(clearTimeout(this.#i),this.#i=null),this.#a?.classList.remove("show")},{signal:a})}this.#t?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=this.#e),n.parentNode||e.append(n),this.#c.getImageForAltText()?.setAttribute("aria-describedby",n.id)}}class jR{#e;#t=!1;#n=null;#r;#a;#i;#l;#s;#c=null;#u;#h=null;constructor({container:e,isPinchingDisabled:n=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:a=null,onPinchEnd:s=null,signal:o}){this.#e=e,this.#n=r,this.#r=n,this.#a=i,this.#i=a,this.#l=s,this.#u=new AbortController,this.#s=AbortSignal.any([o,this.#u.signal]),e.addEventListener("touchstart",this.#d.bind(this),{passive:!1,signal:this.#s})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return Er(this,"MIN_TOUCH_DISTANCE_TO_PINCH",35/(window.devicePixelRatio||1))}#d(e){if(this.#r?.()||e.touches.length<2)return;if(!this.#h){this.#h=new AbortController;const i=AbortSignal.any([this.#s,this.#h.signal]),a=this.#e,s={signal:i,passive:!1};a.addEventListener("touchmove",this.#f.bind(this),s),a.addEventListener("touchend",this.#o.bind(this),s),a.addEventListener("touchcancel",this.#o.bind(this),s),this.#a?.()}if(Kl(e),e.touches.length!==2||this.#n?.()){this.#c=null;return}let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]),this.#c={touch0X:n.screenX,touch0Y:n.screenY,touch1X:r.screenX,touch1Y:r.screenY}}#f(e){if(!this.#c||e.touches.length!==2)return;let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]);const{screenX:i,screenY:a}=n,{screenX:s,screenY:o}=r,l=this.#c,{touch0X:u,touch0Y:d,touch1X:h,touch1Y:p}=l,m=h-u,v=p-d,w=s-i,k=o-a,T=Math.hypot(w,k)||1,C=Math.hypot(m,v)||1;if(!this.#t&&Math.abs(C-T)<=jR.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=a,l.touch1X=s,l.touch1Y=o,e.preventDefault(),!this.#t){this.#t=!0;return}const N=[(i+s)/2,(a+o)/2];this.#i?.(N,C,T)}#o(e){this.#h.abort(),this.#h=null,this.#l?.(),this.#c&&(e.preventDefault(),this.#c=null,this.#t=!1)}destroy(){this.#u?.abort(),this.#u=null}}class Vn{#e=null;#t=null;#n=null;#r=!1;#a=null;#i="";#l=!1;#s=null;#c=null;#u=null;#h=null;#d="";#f=!1;#o=null;#p=!1;#g=!1;#m=!1;#y=null;#v=0;#b=0;#_=null;#S=null;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#x=!1;#T=Vn._zIndex++;static _borderLineWidth=-1;static _colorManager=new Xz;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=Vn.prototype._resizeWithKeyboard,n=qm.TRANSLATE_SMALL,r=qm.TRANSLATE_BIG;return Er(this,"_resizerKeyboardManager",new YS([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],Vn.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:a,pageY:s}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[a,s];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return Er(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new QQe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(Vn._l10n??=e,Vn._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Vn._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);Vn._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){Ai("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#x}set _isDraggable(e){this.#x=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#T}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#U(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[a,s]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/a,this.y=(n+i)/s,this.fixAndSetPosition()}#R([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,n){this.#R(this.parentDimensions,e,n)}translateInPage(e,n){this.#o||=[this.x,this.y,this.width,this.height],this.#R(this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}drag(e,n){this.#o||=[this.x,this.y,this.width,this.height];const{div:r,parentDimensions:[i,a]}=this;if(this.x+=e/i,this.y+=n/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:p}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,p)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[l,u]=this.getBaseTranslation();s+=l,o+=u;const{style:d}=r;d.left=`${(100*s).toFixed(2)}%`,d.top=`${(100*o).toFixed(2)}%`,this._onTranslating(s,o),r.scrollIntoView({block:"nearest"})}_onTranslating(e,n){}_onTranslated(e,n){}get _hasBeenMoved(){return!!this.#o&&(this.#o[0]!==this.x||this.#o[1]!==this.y)}get _hasBeenResized(){return!!this.#o&&(this.#o[2]!==this.width||this.#o[3]!==this.height)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=Vn,i=r/e,a=r/n;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:n},pageDimensions:[r,i]}=this;let{x:a,y:s,width:o,height:l}=this;if(o*=r,l*=i,a*=r,s*=i,this._mustFixPosition)switch(e){case 0:a=Math.max(0,Math.min(r-o,a)),s=Math.max(0,Math.min(i-l,s));break;case 90:a=Math.max(0,Math.min(r-l,a)),s=Math.min(i,Math.max(o,s));break;case 180:a=Math.min(r,Math.max(o,a)),s=Math.min(i,Math.max(l,s));break;case 270:a=Math.min(r,Math.max(l,a)),s=Math.max(0,Math.min(i-o,s));break}this.x=a/=r,this.y=s/=i;const[u,d]=this.getBaseTranslation();a+=u,s+=d,n.left=`${(100*a).toFixed(2)}%`,n.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}static#E(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}}screenToPageTranslation(e,n){return Vn.#E(e,n,this.parentRotation)}pageTranslationToScreen(e,n){return Vn.#E(e,n,360-this.parentRotation)}#C(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this;return[n*e,r*e]}setDims(e,n){const[r,i]=this.parentDimensions,{style:a}=this.div;a.width=`${(100*e/r).toFixed(2)}%`,this.#l||(a.height=`${(100*n/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:n,width:r}=e,i=r.endsWith("%"),a=!this.#l&&n.endsWith("%");if(i&&a)return;const[s,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/s).toFixed(2)}%`),!this.#l&&!a&&(e.height=`${(100*parseFloat(n)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#A(){if(this.#s)return;this.#s=document.createElement("div"),this.#s.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");this.#s.append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",this.#N.bind(this,r),{signal:n}),i.addEventListener("contextmenu",Wc,{signal:n}),i.tabIndex=-1}this.div.prepend(this.#s)}#N(e,n){n.preventDefault();const{isMac:r}=Bo.platform;if(n.button!==0||n.ctrlKey&&r)return;this.#n?.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,this.#c=[n.screenX,n.screenY];const a=new AbortController,s=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#k.bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",Kl,{passive:!1,signal:s}),window.addEventListener("contextmenu",Wc,{signal:s}),this.#u={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const u=()=>{a.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,this.#D()};window.addEventListener("pointerup",u,{signal:s}),window.addEventListener("blur",u,{signal:s})}#P(e,n,r,i){this.width=r,this.height=i,this.x=e,this.y=n;const[a,s]=this.parentDimensions;this.setDims(a*r,s*i),this.fixAndSetPosition(),this._onResized()}_onResized(){}#D(){if(!this.#u)return;const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=this.#u;this.#u=null;const a=this.x,s=this.y,o=this.width,l=this.height;a===e&&s===n&&o===r&&l===i||this.addCommands({cmd:this.#P.bind(this,a,s,o,l),undo:this.#P.bind(this,e,n,r,i),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#k(e,n){const[r,i]=this.parentDimensions,a=this.x,s=this.y,o=this.width,l=this.height,u=Vn.MIN_SIZE/r,d=Vn.MIN_SIZE/i,h=this.#C(this.rotation),p=(ue,ke)=>[h[0]*ue+h[2]*ke,h[1]*ue+h[3]*ke],m=this.#C(360-this.rotation),v=(ue,ke)=>[m[0]*ue+m[2]*ke,m[1]*ue+m[3]*ke];let w,k,T=!1,C=!1;switch(e){case"topLeft":T=!0,w=(ue,ke)=>[0,0],k=(ue,ke)=>[ue,ke];break;case"topMiddle":w=(ue,ke)=>[ue/2,0],k=(ue,ke)=>[ue/2,ke];break;case"topRight":T=!0,w=(ue,ke)=>[ue,0],k=(ue,ke)=>[0,ke];break;case"middleRight":C=!0,w=(ue,ke)=>[ue,ke/2],k=(ue,ke)=>[0,ke/2];break;case"bottomRight":T=!0,w=(ue,ke)=>[ue,ke],k=(ue,ke)=>[0,0];break;case"bottomMiddle":w=(ue,ke)=>[ue/2,ke],k=(ue,ke)=>[ue/2,0];break;case"bottomLeft":T=!0,w=(ue,ke)=>[0,ke],k=(ue,ke)=>[ue,0];break;case"middleLeft":C=!0,w=(ue,ke)=>[0,ke/2],k=(ue,ke)=>[ue,ke/2];break}const N=w(o,l),F=k(o,l);let D=p(...F);const U=Vn._round(a+D[0]),G=Vn._round(s+D[1]);let se=1,re=1,Q,ce;if(n.fromKeyboard)({deltaX:Q,deltaY:ce}=n);else{const{screenX:ue,screenY:ke}=n,[Te,he]=this.#c;[Q,ce]=this.screenToPageTranslation(ue-Te,ke-he),this.#c[0]=ue,this.#c[1]=ke}if([Q,ce]=v(Q/r,ce/i),T){const ue=Math.hypot(o,l);se=re=Math.max(Math.min(Math.hypot(F[0]-N[0]-Q,F[1]-N[1]-ce)/ue,1/o,1/l),u/o,d/l)}else C?se=Math.max(u,Math.min(1,Math.abs(F[0]-N[0]-Q)))/o:re=Math.max(d,Math.min(1,Math.abs(F[1]-N[1]-ce)))/l;const Ie=Vn._round(o*se),qe=Vn._round(l*re);D=p(...k(Ie,qe));const xe=U-D[0],Ce=G-D[1];this.#o||=[this.x,this.y,this.width,this.height],this.width=Ie,this.height=qe,this.x=xe,this.y=Ce,this.setDims(r*Ie,i*qe),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}async addEditToolbar(){return this._editToolbar||this.#g?this._editToolbar:(this._editToolbar=new W_(this),this.div.append(this._editToolbar.render()),this.#n&&await this._editToolbar.addAltText(this.#n),this._editToolbar)}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(e){const n=this._editToolbar?.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#n||(Rd.initialize(Vn._l10n),this.#n=new Rd(this),this.#e&&(this.#n.data=this.#e,this.#e=null),await this.addEditToolbar())}get altTextData(){return this.#n?.data}set altTextData(e){this.#n&&(this.#n.data=e)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(e){await this.#n?.setGuessedText(e)}serializeAltText(e){return this.#n?.serialize(e)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#r?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.#F();const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[r,i]=this.getInitialTranslation();return this.translate(r,i),sA(this,this.div,["pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#S||=new jR({container:this.div,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#w.bind(this),onPinching:this.#M.bind(this),onPinchEnd:this.#z.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),this.div}#w(){this.#u={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#M(e,n,r){let a=.7*(r/n)+1-.7;if(a===1)return;const s=this.#C(this.rotation),o=(U,G)=>[s[0]*U+s[2]*G,s[1]*U+s[3]*G],[l,u]=this.parentDimensions,d=this.x,h=this.y,p=this.width,m=this.height,v=Vn.MIN_SIZE/l,w=Vn.MIN_SIZE/u;a=Math.max(Math.min(a,1/p,1/m),v/p,w/m);const k=Vn._round(p*a),T=Vn._round(m*a);if(k===p&&T===m)return;this.#o||=[d,h,p,m];const C=o(p/2,m/2),N=Vn._round(d+C[0]),F=Vn._round(h+C[1]),D=o(k/2,T/2);this.x=N-D[0],this.y=F-D[1],this.width=k,this.height=T,this.setDims(l*k,u*T),this.fixAndSetPosition(),this._onResizing()}#z(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#D()}pointerdown(e){const{isMac:n}=Bo.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#q(e);return}this.#$(e)}get isSelected(){return this._uiManager.isSelected(this)}#$(e){const{isMac:n}=Bo.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)}#q(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,a=this._uiManager.combinedSignal(i),s={capture:!0,passive:!1,signal:a},o=u=>{i.abort(),this.#a=null,this.#f=!1,this._uiManager.endDragSession()||this.#$(u),r&&this._onStopDragging()};n&&(this.#v=e.clientX,this.#b=e.clientY,this.#a=e.pointerId,this.#i=e.pointerType,window.addEventListener("pointermove",u=>{r||(r=!0,this._onStartDragging());const{clientX:d,clientY:h,pointerId:p}=u;if(p!==this.#a){Kl(u);return}const[m,v]=this.screenToPageTranslation(d-this.#v,h-this.#b);this.#v=d,this.#b=h,this._uiManager.dragSelectedEditors(m,v)},s),window.addEventListener("touchmove",Kl,s),window.addEventListener("pointerdown",u=>{u.pointerType===this.#i&&(this.#S||u.isPrimary)&&o(u),Kl(u)},s));const l=u=>{if(!this.#a||this.#a===u.pointerId){o(u);return}Kl(u)};window.addEventListener("pointerup",l,{signal:a}),window.addEventListener("blur",l,{signal:a})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,n,r=this.rotation){const i=this.parentScale,[a,s]=this.pageDimensions,[o,l]=this.pageTranslation,u=e/i,d=n/i,h=this.x*a,p=this.y*s,m=this.width*a,v=this.height*s;switch(r){case 0:return[h+u+o,s-p-d-v+l,h+u+m+o,s-p-d+l];case 90:return[h+d+o,s-p+u+l,h+d+v+o,s-p+u+m+l];case 180:return[h-u-m+o,s-p+d+l,h-u+o,s-p+d+v+l];case 270:return[h-d-v+o,s-p-u-m+l,h-d+o,s-p-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,a,s]=e,o=a-r,l=s-i;switch(this.rotation){case 0:return[r,n-s,o,l];case 90:return[r,n-i,l,o];case 180:return[a,n-i,o,l];case 270:return[a,n-s,l,o];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){this.#g=!0}disableEditMode(){this.#g=!1}isInEditMode(){return this.#g}shouldGetKeyboardEvents(){return this.#m}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:n,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:a,innerWidth:s}=window;return n<s&&i>0&&e<a&&r>0}#F(){if(this.#h||!this.div)return;this.#h=new AbortController;const e=this._uiManager.combinedSignal(this.#h);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#F()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,n=null){Ai("An editor must be serializable")}static async deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r});i.rotation=e.rotation,i.#e=e.accessibilityData;const[a,s]=i.pageDimensions,[o,l,u,d]=i.getRectInCurrentCoords(e.rect,s);return i.x=o/a,i.y=l/s,i.width=u/a,i.height=d/s,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#h?.abort(),this.#h=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#U(),this.removeEditToolbar(),this.#_){for(const e of this.#_.values())clearTimeout(e);this.#_=null}this.parent=null,this.#S?.destroy(),this.#S=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#A(),this.#s.classList.remove("hidden"),sA(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#u={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const n=this.#s.children;if(!this.#t){this.#t=Array.from(n);const s=this.#L.bind(this),o=this.#B.bind(this),l=this._uiManager._signal;for(const u of this.#t){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",s,{signal:l}),u.addEventListener("blur",o,{signal:l}),u.addEventListener("focus",this.#H.bind(this,d),{signal:l}),u.setAttribute("data-l10n-id",Vn._l10nResizer[d])}}const r=this.#t[0];let i=0;for(const s of n){if(s===r)break;i++}const a=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(a!==i){if(a<i)for(let o=0;o<i-a;o++)this.#s.append(this.#s.firstChild);else if(a>i)for(let o=0;o<a-i;o++)this.#s.firstChild.before(this.#s.lastChild);let s=0;for(const o of n){const u=this.#t[s++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",Vn._l10nResizer[u])}}this.#O(0),this.#m=!0,this.#s.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#L(e){Vn._resizerKeyboardManager.exec(this,e)}#B(e){this.#m&&e.relatedTarget?.parentNode!==this.#s&&this.#U()}#H(e){this.#d=this.#m?e:""}#O(e){if(this.#t)for(const n of this.#t)n.tabIndex=e}_resizeWithKeyboard(e,n){this.#m&&this.#k(this.#d,{deltaX:e,deltaY:n,fromKeyboard:!0})}#U(){this.#m=!1,this.#O(-1),this.#D()}_stopResizingWithKeyboard(){this.#U(),this.div.focus()}select(){if(this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}unselect(){this.#s?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0)}updateParams(e,n){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(e){this.#p=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,n){this.#l=!0;const r=e/n,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){this.#_||=new Map;const{action:r}=e;let i=this.#_.get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),this.#_.delete(r),this.#_.size===0&&(this.#_=null)},Vn._telemetryTimeout),this.#_.set(r,i);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#r=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#r=!0}renderAnnotationElement(e){let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;n?.nodeName==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}}class QQe extends Vn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const cie=3285377520,xu=4294901760,wd=65535;class nve{constructor(e){this.h1=e?e&4294967295:cie,this.h2=e?e&4294967295:cie}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let w=0,k=e.length;w<k;w++){const T=e.charCodeAt(w);T<=255?n[r++]=T:(n[r++]=T>>>8,n[r++]=T&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,a=r-i*4,s=new Uint32Array(n.buffer,0,i);let o=0,l=0,u=this.h1,d=this.h2;const h=3432918353,p=461845907,m=h&wd,v=p&wd;for(let w=0;w<i;w++)w&1?(o=s[w],o=o*h&xu|o*m&wd,o=o<<15|o>>>17,o=o*p&xu|o*v&wd,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(l=s[w],l=l*h&xu|l*m&wd,l=l<<15|l>>>17,l=l*p&xu|l*v&wd,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,a){case 3:o^=n[i*4+2]<<16;case 2:o^=n[i*4+1]<<8;case 1:o^=n[i*4],o=o*h&xu|o*m&wd,o=o<<15|o>>>17,o=o*p&xu|o*v&wd,i&1?u^=o:d^=o}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&xu|e*36045&wd,n=n*4283543511&xu|((n<<16|e>>>16)*2950163797&xu)>>>16,e^=n>>>1,e=e*444984403&xu|e*60499&wd,n=n*3301882366&xu|((n<<16|e>>>16)*3120437893&xu)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const E8=Object.freeze({map:null,hash:"",transfer:void 0});class Zz{#e=!1;#t=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=this.#n.get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return this.#n.get(e)}remove(e){if(this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const n of this.#n.values())if(n instanceof Vn)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=this.#n.get(e);let i=!1;if(r!==void 0)for(const[a,s]of Object.entries(n))r[a]!==s&&(i=!0,r[a]=s);else i=!0,this.#n.set(e,n);i&&this.#r(),n instanceof Vn&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type)}has(e){return this.#n.has(e)}getAll(){return this.#n.size>0?Hz(this.#n):null}setAll(e){for(const[n,r]of Object.entries(e))this.setValue(n,r)}get size(){return this.#n.size}#r(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new rve(this)}get serializable(){if(this.#n.size===0)return E8;const e=new Map,n=new nve,r=[],i=Object.create(null);let a=!1;for(const[s,o]of this.#n){const l=o instanceof Vn?o.serialize(!1,i):o;l&&(e.set(s,l),n.update(`${s}:${JSON.stringify(l)}`),a||=!!l.bitmap)}if(a)for(const s of e.values())s.bitmap&&r.push(s.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:E8}get editorStats(){let e=null;const n=new Map;for(const r of this.#n.values()){if(!(r instanceof Vn))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:a}=i;n.has(a)||n.set(a,Object.getPrototypeOf(r).constructor),e||=Object.create(null);const s=e[a]||=new Map;for(const[o,l]of Object.entries(i)){if(o==="type")continue;let u=s.get(o);u||(u=new Map,s.set(o,u));const d=u.get(l)??0;u.set(l,d+1)}}for(const[r,i]of n)e[r]=i.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){this.#t=null}get modifiedIds(){if(this.#t)return this.#t;const e=[];for(const n of this.#n.values())!(n instanceof Vn)||!n.annotationElementId||!n.serialize()||e.push(n.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}}class rve extends Zz{#e;constructor(e){super();const{map:n,hash:r,transfer:i}=e.serializable,a=structuredClone(n,i?{transfer:i}:null);this.#e={map:a,hash:r,transfer:i}}get print(){Ai("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return Er(this,"modifiedIds",{ids:new Set,hash:""})}}class JQe{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:n}){if(!(!e||this.#e.has(e.loadedName))){if($a(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:a}=e,s=new FontFace(r,i,a);this.addNativeFontFace(s);try{await s.load(),this.#e.add(r),n?.(e)}catch{mr(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(s)}return}Ai("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw mr(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return Er(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(no||typeof navigator<"u"&&typeof navigator?.userAgent=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Er(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function n(){for($a(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const a=r.shift();setTimeout(a.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Er(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(F,D){return F.charCodeAt(D)<<24|F.charCodeAt(D+1)<<16|F.charCodeAt(D+2)<<8|F.charCodeAt(D+3)&255}function i(F,D,U,G){const se=F.substring(0,D),re=F.substring(D+U);return se+G+re}let a,s;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let u=0;function d(F,D){if(++u>30){mr("Load test font never loaded."),D();return}if(l.font="30px "+F,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){D();return}setTimeout(d.bind(null,F,D))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=i(p,976,h.length,h);const v=16,w=1482184792;let k=r(p,v);for(a=0,s=h.length-3;a<s;a+=4)k=k-w+r(h,a)|0;a<h.length&&(k=k-w+r(h+"XXX",a)|0),p=i(p,v,4,BQe(k));const T=`url(data:font/opentype;base64,${btoa(p)});`,C=`@font-face {font-family:"${h}";src:${T}}`;this.insertRule(C);const N=this._document.createElement("div");N.style.visibility="hidden",N.style.width=N.style.height="10px",N.style.position="absolute",N.style.top=N.style.left="0px";for(const F of[e.loadedName,h]){const D=this._document.createElement("span");D.textContent="Hi",D.style.fontFamily=F,N.append(D)}this._document.body.append(N),d(h,()=>{N.remove(),n.complete()})}}class eJe{constructor(e,{disableFontFace:n=!1,fontExtraProperties:r=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const a in e)this[a]=e[a];this.disableFontFace=n===!0,this.fontExtraProperties=r===!0,this._inspectFont=i}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${HQe(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return this._inspectFont?.(this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const r=this.loadedName+"_path_"+n;let i;try{i=e.get(r)}catch(s){mr(`getPathGenerator - ignoring character: "${s}".`)}const a=new Path2D(i||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[n]=a}}const ME={DATA:1,ERROR:2},Fa={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function die(){}function ul(t){if(t instanceof $m||t instanceof S8||t instanceof H1||t instanceof oie||t instanceof aA||t instanceof BD)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||Ai('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new $m(t.message);case"InvalidPDFException":return new S8(t.message);case"MissingPDFException":return new H1(t.message);case"PasswordException":return new oie(t.message,t.code);case"UnexpectedResponseException":return new aA(t.message,t.status);case"UnknownErrorException":return new BD(t.message,t.details)}return new BD(t.message,t.toString())}class S_{#e=new AbortController;constructor(e,n,r){this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#r(e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===ME.DATA)i.resolve(e.data);else if(e.callback===ME.ERROR)i.reject(ul(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,a=this.comObj;Promise.try(n,e.data).then(function(s){a.postMessage({sourceName:r,targetName:i,callback:ME.DATA,callbackId:e.callbackId,data:s})},function(s){a.postMessage({sourceName:r,targetName:i,callback:ME.ERROR,callbackId:e.callbackId,reason:ul(s)})});return}if(e.streamId){this.#n(e);return}n(e.data)}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(s){a.reject(s)}return a.promise}sendWithStream(e,n,r,i){const a=this.streamId++,s=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[a]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:s,targetName:o,action:e,streamId:a,data:n,desiredSize:u.desiredSize},i),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[a].pullCall=d,l.postMessage({sourceName:s,targetName:o,stream:Fa.PULL,streamId:a,desiredSize:u.desiredSize}),d.promise},cancel:u=>{$a(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[a].cancelCall=d,this.streamControllers[a].isClosed=!0,l.postMessage({sourceName:s,targetName:o,stream:Fa.CANCEL,streamId:a,reason:ul(u)}),d.promise}},r)}#n(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,s=this,o=this.actionHandler[e.action],l={enqueue(u,d=1,h){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=d,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:r,targetName:i,stream:Fa.ENQUEUE,streamId:n,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:Fa.CLOSE,streamId:n}),delete s.streamSinks[n])},error(u){$a(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:Fa.ERROR,streamId:n,reason:ul(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,Promise.try(o,e.data,l).then(function(){a.postMessage({sourceName:r,targetName:i,stream:Fa.START_COMPLETE,streamId:n,success:!0})},function(u){a.postMessage({sourceName:r,targetName:i,stream:Fa.START_COMPLETE,streamId:n,reason:ul(u)})})}#r(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,s=this.streamControllers[n],o=this.streamSinks[n];switch(e.stream){case Fa.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(ul(e.reason));break;case Fa.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(ul(e.reason));break;case Fa.PULL:if(!o){a.postMessage({sourceName:r,targetName:i,stream:Fa.PULL_COMPLETE,streamId:n,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||die).then(function(){a.postMessage({sourceName:r,targetName:i,stream:Fa.PULL_COMPLETE,streamId:n,success:!0})},function(u){a.postMessage({sourceName:r,targetName:i,stream:Fa.PULL_COMPLETE,streamId:n,reason:ul(u)})});break;case Fa.ENQUEUE:if($a(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case Fa.CLOSE:if($a(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),this.#a(s,n);break;case Fa.ERROR:$a(s,"error should have stream controller"),s.controller.error(ul(e.reason)),this.#a(s,n);break;case Fa.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(ul(e.reason)),this.#a(s,n);break;case Fa.CANCEL:if(!o)break;const l=ul(e.reason);Promise.try(o.onCancel||die,l).then(function(){a.postMessage({sourceName:r,targetName:i,stream:Fa.CANCEL_COMPLETE,streamId:n,success:!0})},function(u){a.postMessage({sourceName:r,targetName:i,stream:Fa.CANCEL_COMPLETE,streamId:n,reason:ul(u)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}}async#a(e,n){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[n]}destroy(){this.#e?.abort(),this.#e=null}}class ive{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){Ai("Abstract method `_createCanvas` called.")}}class tJe extends ive{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}class ave{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){Ai("Abstract method `_fetch` called.")}}class sve extends ave{async _fetch(e){const n=await BR(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):FR(n)}}class ove{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,a){return"none"}destroy(e=!1){}}class nJe extends ove{#e;#t;#n;#r;#a;#i;#l=0;constructor({docId:e,ownerDocument:n=globalThis.document}){super(),this.#r=e,this.#a=n}get#s(){return this.#t||=new Map}get#c(){return this.#i||=new Map}get#u(){if(!this.#n){const e=this.#a.createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=this.#a.createElementNS(of,"svg");r.setAttribute("width",0),r.setAttribute("height",0),this.#n=this.#a.createElementNS(of,"defs"),e.append(r),r.append(this.#n),this.#a.body.append(e)}return this.#n}#h(e){if(e.length===1){const l=e[0],u=new Array(256);for(let h=0;h<256;h++)u[h]=l[h]/255;const d=u.join(",");return[d,d,d]}const[n,r,i]=e,a=new Array(256),s=new Array(256),o=new Array(256);for(let l=0;l<256;l++)a[l]=n[l]/255,s[l]=r[l]/255,o[l]=i[l]/255;return[a.join(","),s.join(","),o.join(",")]}#d(e){if(this.#e===void 0){this.#e="";const n=this.#a.URL;n!==this.#a.baseURI&&(UR(n)?mr('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=n.split("#",1)[0])}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let n=this.#s.get(e);if(n)return n;const[r,i,a]=this.#h(e),s=e.length===1?r:`${r}${i}${a}`;if(n=this.#s.get(s),n)return this.#s.set(e,n),n;const o=`g_${this.#r}_transfer_map_${this.#l++}`,l=this.#d(o);this.#s.set(e,l),this.#s.set(s,l);const u=this.#p(o);return this.#m(r,i,a,u),l}addHCMFilter(e,n){const r=`${e}-${n}`,i="base";let a=this.#c.get(i);if(a?.key===r||(a?(a.filter?.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},this.#c.set(i,a)),!e||!n))return a.url;const s=this.#v(e);e=Nn.makeHexColor(...s);const o=this.#v(n);if(n=Nn.makeHexColor(...o),this.#u.style.color="",e==="#000000"&&n==="#ffffff"||e===n)return a.url;const l=new Array(256);for(let m=0;m<=255;m++){const v=m/255;l[m]=v<=.03928?v/12.92:((v+.055)/1.055)**2.4}const u=l.join(","),d=`g_${this.#r}_hcm_filter`,h=a.filter=this.#p(d);this.#m(u,u,u,h),this.#o(h);const p=(m,v)=>{const w=s[m]/255,k=o[m]/255,T=new Array(v+1);for(let C=0;C<=v;C++)T[C]=w+C/v*(k-w);return T.join(",")};return this.#m(p(0,5),p(1,5),p(2,5),h),a.url=this.#d(d),a.url}addAlphaFilter(e){let n=this.#s.get(e);if(n)return n;const[r]=this.#h([e]),i=`alpha_${r}`;if(n=this.#s.get(i),n)return this.#s.set(e,n),n;const a=`g_${this.#r}_alpha_map_${this.#l++}`,s=this.#d(a);this.#s.set(e,s),this.#s.set(i,s);const o=this.#p(a);return this.#y(r,o),s}addLuminosityFilter(e){let n=this.#s.get(e||"luminosity");if(n)return n;let r,i;if(e?([r]=this.#h([e]),i=`luminosity_${r}`):i="luminosity",n=this.#s.get(i),n)return this.#s.set(e,n),n;const a=`g_${this.#r}_luminosity_map_${this.#l++}`,s=this.#d(a);this.#s.set(e,s),this.#s.set(i,s);const o=this.#p(a);return this.#f(o),e&&this.#y(r,o),s}addHighlightHCMFilter(e,n,r,i,a){const s=`${n}-${r}-${i}-${a}`;let o=this.#c.get(e);if(o?.key===s||(o?(o.filter?.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},this.#c.set(e,o)),!n||!r))return o.url;const[l,u]=[n,r].map(this.#v.bind(this));let d=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[p,m]=[i,a].map(this.#v.bind(this));h<d&&([d,h,p,m]=[h,d,m,p]),this.#u.style.color="";const v=(T,C,N)=>{const F=new Array(256),D=(h-d)/N,U=T/255,G=(C-T)/(255*N);let se=0;for(let re=0;re<=N;re++){const Q=Math.round(d+re*D),ce=U+re*G;for(let Ie=se;Ie<=Q;Ie++)F[Ie]=ce;se=Q+1}for(let re=se;re<256;re++)F[re]=F[se-1];return F.join(",")},w=`g_${this.#r}_hcm_${e}_filter`,k=o.filter=this.#p(w);return this.#o(k),this.#m(v(p[0],m[0],5),v(p[1],m[1],5),v(p[2],m[2],5),k),o.url=this.#d(w),o.url}destroy(e=!1){e&&this.#i?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#t?.clear(),this.#t=null,this.#i?.clear(),this.#i=null,this.#l=0)}#f(e){const n=this.#a.createElementNS(of,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)}#o(e){const n=this.#a.createElementNS(of,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)}#p(e){const n=this.#a.createElementNS(of,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),this.#u.append(n),n}#g(e,n,r){const i=this.#a.createElementNS(of,n);i.setAttribute("type","discrete"),i.setAttribute("tableValues",r),e.append(i)}#m(e,n,r,i){const a=this.#a.createElementNS(of,"feComponentTransfer");i.append(a),this.#g(a,"feFuncR",e),this.#g(a,"feFuncG",n),this.#g(a,"feFuncB",r)}#y(e,n){const r=this.#a.createElementNS(of,"feComponentTransfer");n.append(r),this.#g(r,"feFuncA",e)}#v(e){return this.#u.style.color=e,Kz(getComputedStyle(this.#u).getPropertyValue("color"))}}class lve{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){Ai("Abstract method `_fetch` called.")}}class uve extends lve{async _fetch(e){const n=await BR(e,"arraybuffer");return new Uint8Array(n)}}no&&mr("Please use the `legacy` build in Node.js environments.");async function cve(t){const n=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(n)}class rJe extends ove{}class iJe extends ive{_createCanvas(e,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,n)}}class aJe extends ave{async _fetch(e){return cve(e)}}class sJe extends lve{async _fetch(e){return cve(e)}}const eo={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function k8(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class Qz{getPattern(){Ai("Abstract method `getPattern` called.")}}class oJe extends Qz{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)n.addColorStop(r[0],r[1]);return n}getPattern(e,n,r,i){let a;if(i===eo.STROKE||i===eo.FILL){const s=n.current.getClippedPathBoundingBox(i,Gi(e))||[0,0,0,0],o=Math.ceil(s[2]-s[0])||1,l=Math.ceil(s[3]-s[1])||1,u=n.cachedCanvases.getCanvas("pattern",o,l),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-s[0],-s[1]),r=Nn.transform(r,[1,0,0,1,s[0],s[1]]),d.transform(...n.baseTransform),this.matrix&&d.transform(...this.matrix),k8(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),a=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(r);a.setTransform(h)}else k8(e,this._bbox),a=this._createGradient(e);return a}}function zD(t,e,n,r,i,a,s,o){const l=e.coords,u=e.colors,d=t.data,h=t.width*4;let p;l[n+1]>l[r+1]&&(p=n,n=r,r=p,p=a,a=s,s=p),l[r+1]>l[i+1]&&(p=r,r=i,i=p,p=s,s=o,o=p),l[n+1]>l[r+1]&&(p=n,n=r,r=p,p=a,a=s,s=p);const m=(l[n]+e.offsetX)*e.scaleX,v=(l[n+1]+e.offsetY)*e.scaleY,w=(l[r]+e.offsetX)*e.scaleX,k=(l[r+1]+e.offsetY)*e.scaleY,T=(l[i]+e.offsetX)*e.scaleX,C=(l[i+1]+e.offsetY)*e.scaleY;if(v>=C)return;const N=u[a],F=u[a+1],D=u[a+2],U=u[s],G=u[s+1],se=u[s+2],re=u[o],Q=u[o+1],ce=u[o+2],Ie=Math.round(v),qe=Math.round(C);let xe,Ce,ue,ke,Te,he,j,pe;for(let Ne=Ie;Ne<=qe;Ne++){if(Ne<k){const Ke=Ne<v?0:(v-Ne)/(v-k);xe=m-(m-w)*Ke,Ce=N-(N-U)*Ke,ue=F-(F-G)*Ke,ke=D-(D-se)*Ke}else{let Ke;Ne>C?Ke=1:k===C?Ke=0:Ke=(k-Ne)/(k-C),xe=w-(w-T)*Ke,Ce=U-(U-re)*Ke,ue=G-(G-Q)*Ke,ke=se-(se-ce)*Ke}let ae;Ne<v?ae=0:Ne>C?ae=1:ae=(v-Ne)/(v-C),Te=m-(m-T)*ae,he=N-(N-re)*ae,j=F-(F-Q)*ae,pe=D-(D-ce)*ae;const He=Math.round(Math.min(xe,Te)),it=Math.round(Math.max(xe,Te));let Xe=h*Ne+He*4;for(let Ke=He;Ke<=it;Ke++)ae=(xe-Ke)/(xe-Te),ae<0?ae=0:ae>1&&(ae=1),d[Xe++]=Ce-(Ce-he)*ae|0,d[Xe++]=ue-(ue-j)*ae|0,d[Xe++]=ke-(ke-pe)*ae|0,d[Xe++]=255}}function lJe(t,e,n){const r=e.coords,i=e.colors;let a,s;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(r.length/o)-1,u=o-1;for(a=0;a<l;a++){let d=a*o;for(let h=0;h<u;h++,d++)zD(t,n,r[d],r[d+1],r[d+o],i[d],i[d+1],i[d+o]),zD(t,n,r[d+o+1],r[d+1],r[d+o],i[d+o+1],i[d+1],i[d+o])}break;case"triangles":for(a=0,s=r.length;a<s;a+=3)zD(t,n,r[a],r[a+1],r[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class uJe extends Qz{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,n,r){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),p=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),m=u/h,v=d/p,w={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/m,scaleY:1/v},k=h+2*2,T=p+2*2,C=r.getCanvas("mesh",k,T),N=C.context,F=N.createImageData(h,p);if(n){const U=F.data;for(let G=0,se=U.length;G<se;G+=4)U[G]=n[0],U[G+1]=n[1],U[G+2]=n[2],U[G+3]=255}for(const U of this._figures)lJe(F,U,w);return N.putImageData(F,2,2),{canvas:C.canvas,offsetX:o-2*m,offsetY:l-2*v,scaleX:m,scaleY:v}}getPattern(e,n,r,i){k8(e,this._bbox);let a;if(i===eo.SHADING)a=Nn.singularValueDecompose2dScale(Gi(e));else if(a=Nn.singularValueDecompose2dScale(n.baseTransform),this.matrix){const o=Nn.singularValueDecompose2dScale(this.matrix);a=[a[0]*o[0],a[1]*o[1]]}const s=this._createMeshCanvas(a,i===eo.SHADING?null:this._background,n.cachedCanvases);return i!==eo.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class cJe extends Qz{getPattern(){return"hotpink"}}function dJe(t){switch(t[0]){case"RadialAxial":return new oJe(t);case"Mesh":return new uJe(t);case"Dummy":return new cJe}throw new Error(`Unknown IR type: ${t[0]}`)}const hie={COLORED:1,UNCOLORED:2};class Jz{static MAX_PATTERN_SIZE=3e3;constructor(e,n,r,i,a){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=n,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=a}createPatternCanvas(e){const{bbox:n,operatorList:r,paintType:i,tilingType:a,color:s,canvasGraphicsFactory:o}=this;let{xstep:l,ystep:u}=this;l=Math.abs(l),u=Math.abs(u),DR("TilingType: "+a);const d=n[0],h=n[1],p=n[2],m=n[3],v=p-d,w=m-h,k=Nn.singularValueDecompose2dScale(this.matrix),T=Nn.singularValueDecompose2dScale(this.baseTransform),C=k[0]*T[0],N=k[1]*T[1];let F=v,D=w,U=!1,G=!1;const se=Math.ceil(l*C),re=Math.ceil(u*N),Q=Math.ceil(v*C),ce=Math.ceil(w*N);se>=Q?F=l:U=!0,re>=ce?D=u:G=!0;const Ie=this.getSizeAndScale(F,this.ctx.canvas.width,C),qe=this.getSizeAndScale(D,this.ctx.canvas.height,N),xe=e.cachedCanvases.getCanvas("pattern",Ie.size,qe.size),Ce=xe.context,ue=o.createCanvasGraphics(Ce);if(ue.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(ue,i,s),Ce.translate(-Ie.scale*d,-qe.scale*h),ue.transform(Ie.scale,0,0,qe.scale,0,0),Ce.save(),this.clipBbox(ue,d,h,p,m),ue.baseTransform=Gi(ue.ctx),ue.executeOperatorList(r),ue.endDrawing(),Ce.restore(),U||G){const ke=xe.canvas;U&&(F=l),G&&(D=u);const Te=this.getSizeAndScale(F,this.ctx.canvas.width,C),he=this.getSizeAndScale(D,this.ctx.canvas.height,N),j=Te.size,pe=he.size,Ne=e.cachedCanvases.getCanvas("pattern-workaround",j,pe),ae=Ne.context,He=U?Math.floor(v/l):0,it=G?Math.floor(w/u):0;for(let Xe=0;Xe<=He;Xe++)for(let Ke=0;Ke<=it;Ke++)ae.drawImage(ke,j*Xe,pe*Ke,j,pe,0,0,j,pe);return{canvas:Ne.canvas,scaleX:Te.scale,scaleY:he.scale,offsetX:d,offsetY:h}}return{canvas:xe.canvas,scaleX:Ie.scale,scaleY:qe.scale,offsetX:d,offsetY:h}}getSizeAndScale(e,n,r){const i=Math.max(Jz.MAX_PATTERN_SIZE,n);let a=Math.ceil(e*r);return a>=i?a=i:r=a/e,{scale:r,size:a}}clipBbox(e,n,r,i,a){const s=i-n,o=a-r;e.ctx.rect(n,r,s,o),e.current.updateRectMinMax(Gi(e.ctx),[n,r,i,a]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,a=e.current;switch(n){case hie.COLORED:const s=this.ctx;i.fillStyle=s.fillStyle,i.strokeStyle=s.strokeStyle,a.fillColor=s.fillStyle,a.strokeColor=s.strokeStyle;break;case hie.UNCOLORED:const o=Nn.makeHexColor(r[0],r[1],r[2]);i.fillStyle=o,i.strokeStyle=o,a.fillColor=o,a.strokeColor=o;break;default:throw new FQe(`Unsupported paint type: ${n}`)}}getPattern(e,n,r,i){let a=r;i!==eo.SHADING&&(a=Nn.transform(a,n.baseTransform),this.matrix&&(a=Nn.transform(a,this.matrix)));const s=this.createPatternCanvas(n);let o=new DOMMatrix(a);o=o.translate(s.offsetX,s.offsetY),o=o.scale(1/s.scaleX,1/s.scaleY);const l=e.createPattern(s.canvas,"repeat");return l.setTransform(o),l}}function hJe({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:a=4294967295,inverseDecode:s=!1}){const o=Bo.isLittleEndian?4278190080:255,[l,u]=s?[a,o]:[o,a],d=r>>3,h=r&7,p=t.length;n=new Uint32Array(n.buffer);let m=0;for(let v=0;v<i;v++){for(const k=e+d;e<k;e++){const T=e<p?t[e]:255;n[m++]=T&128?u:l,n[m++]=T&64?u:l,n[m++]=T&32?u:l,n[m++]=T&16?u:l,n[m++]=T&8?u:l,n[m++]=T&4?u:l,n[m++]=T&2?u:l,n[m++]=T&1?u:l}if(h===0)continue;const w=e<p?t[e++]:255;for(let k=0;k<h;k++)n[m++]=w&1<<7-k?u:l}return{srcPos:e,destPos:m}}const fie=16,pie=100,fJe=15,mie=10,gie=1e3,pl=16;function pJe(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},t.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},t.transform=function(r,i,a,s,o,l){e.transform(r,i,a,s,o,l),this.__originalTransform(r,i,a,s,o,l)},t.setTransform=function(r,i,a,s,o,l){e.setTransform(r,i,a,s,o,l),this.__originalSetTransform(r,i,a,s,o,l)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(r){e.rotate(r),this.__originalRotate(r)},t.clip=function(r){e.clip(r),this.__originalClip(r)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,a,s,o){e.bezierCurveTo(n,r,i,a,s,o),this.__originalBezierCurveTo(n,r,i,a,s,o)},t.rect=function(n,r,i,a){e.rect(n,r,i,a),this.__originalRect(n,r,i,a)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class mJe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function PE(t,e,n,r,i,a,s,o,l,u){const[d,h,p,m,v,w]=Gi(t);if(h===0&&p===0){const C=s*d+v,N=Math.round(C),F=o*m+w,D=Math.round(F),U=(s+l)*d+v,G=Math.abs(Math.round(U)-N)||1,se=(o+u)*m+w,re=Math.abs(Math.round(se)-D)||1;return t.setTransform(Math.sign(d),0,0,Math.sign(m),N,D),t.drawImage(e,n,r,i,a,0,0,G,re),t.setTransform(d,h,p,m,v,w),[G,re]}if(d===0&&m===0){const C=o*p+v,N=Math.round(C),F=s*h+w,D=Math.round(F),U=(o+u)*p+v,G=Math.abs(Math.round(U)-N)||1,se=(s+l)*h+w,re=Math.abs(Math.round(se)-D)||1;return t.setTransform(0,Math.sign(h),Math.sign(p),0,N,D),t.drawImage(e,n,r,i,a,0,0,re,G),t.setTransform(d,h,p,m,v,w),[re,G]}t.drawImage(e,n,r,i,a,s,o,l,u);const k=Math.hypot(d,h),T=Math.hypot(p,m);return[k*l,T*u]}function gJe(t){const{width:e,height:n}=t;if(e>gie||n>gie)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),a=e+1;let s=new Uint8Array(a*(n+1)),o,l,u;const d=e+7&-8;let h=new Uint8Array(d*n),p=0;for(const T of t.data){let C=128;for(;C>0;)h[p++]=T&C?0:255,C>>=1}let m=0;for(p=0,h[p]!==0&&(s[0]=1,++m),l=1;l<e;l++)h[p]!==h[p+1]&&(s[l]=h[p]?2:1,++m),p++;for(h[p]!==0&&(s[l]=2,++m),o=1;o<n;o++){p=o*d,u=o*a,h[p-d]!==h[p]&&(s[u]=h[p]?1:8,++m);let T=(h[p]?4:0)+(h[p-d]?8:0);for(l=1;l<e;l++)T=(T>>2)+(h[p+1]?4:0)+(h[p-d+1]?8:0),i[T]&&(s[u+l]=i[T],++m),p++;if(h[p-d]!==h[p]&&(s[u+l]=h[p]?2:4,++m),m>r)return null}for(p=d*(n-1),u=o*a,h[p]!==0&&(s[u]=8,++m),l=1;l<e;l++)h[p]!==h[p+1]&&(s[u+l]=h[p]?4:8,++m),p++;if(h[p]!==0&&(s[u+l]=4,++m),m>r)return null;const v=new Int32Array([0,a,-1,0,-a,0,0,0,1]),w=new Path2D;for(o=0;m&&o<=n;o++){let T=o*a;const C=T+e;for(;T<C&&!s[T];)T++;if(T===C)continue;w.moveTo(T%a,o);const N=T;let F=s[T];do{const D=v[F];do T+=D;while(!s[T]);const U=s[T];U!==5&&U!==10?(F=U,s[T]=0):(F=U&51*F>>4,s[T]&=F>>2|F<<2),w.lineTo(T%a,T/a|0),s[T]||--m}while(N!==T);--o}return h=null,s=null,function(T){T.save(),T.scale(1/e,-1/n),T.translate(0,-n),T.fill(w),T.beginPath(),T.restore()}}class yie{constructor(e,n){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Jbe,this.textMatrixScale=1,this.fontMatrix=_8,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Ys.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.patternStroke=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,n])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,n){this.x=e,this.y=n}updatePathMinMax(e,n,r){[n,r]=Nn.applyTransform([n,r],e),this.minX=Math.min(this.minX,n),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,n),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,n){const r=Nn.applyTransform(n,e),i=Nn.applyTransform(n.slice(2),e),a=Nn.applyTransform([n[0],n[3]],e),s=Nn.applyTransform([n[2],n[1]],e);this.minX=Math.min(this.minX,r[0],i[0],a[0],s[0]),this.minY=Math.min(this.minY,r[1],i[1],a[1],s[1]),this.maxX=Math.max(this.maxX,r[0],i[0],a[0],s[0]),this.maxY=Math.max(this.maxY,r[1],i[1],a[1],s[1])}updateScalingPathMinMax(e,n){Nn.scaleMinMax(e,n),this.minX=Math.min(this.minX,n[0]),this.minY=Math.min(this.minY,n[1]),this.maxX=Math.max(this.maxX,n[2]),this.maxY=Math.max(this.maxY,n[3])}updateCurvePathMinMax(e,n,r,i,a,s,o,l,u,d){const h=Nn.bezierBoundingBox(n,r,i,a,s,o,l,u,d);d||this.updateRectMinMax(e,h)}getPathBoundingBox(e=eo.FILL,n=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===eo.STROKE){n||Ai("Stroke bounding box must include transform.");const i=Nn.singularValueDecompose2dScale(n),a=i[0]*this.lineWidth/2,s=i[1]*this.lineWidth/2;r[0]-=a,r[1]-=s,r[2]+=a,r[3]+=s}return r}updateClipFromPath(){const e=Nn.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=eo.FILL,n=null){return Nn.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function bie(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%pl,a=(n-i)/pl,s=i===0?a:a+1,o=t.createImageData(r,pl);let l=0,u;const d=e.data,h=o.data;let p,m,v,w;if(e.kind===jk.GRAYSCALE_1BPP){const k=d.byteLength,T=new Uint32Array(h.buffer,0,h.byteLength>>2),C=T.length,N=r+7>>3,F=4294967295,D=Bo.isLittleEndian?4278190080:255;for(p=0;p<s;p++){for(v=p<a?pl:i,u=0,m=0;m<v;m++){const U=k-l;let G=0;const se=U>N?r:U*8-7,re=se&-8;let Q=0,ce=0;for(;G<re;G+=8)ce=d[l++],T[u++]=ce&128?F:D,T[u++]=ce&64?F:D,T[u++]=ce&32?F:D,T[u++]=ce&16?F:D,T[u++]=ce&8?F:D,T[u++]=ce&4?F:D,T[u++]=ce&2?F:D,T[u++]=ce&1?F:D;for(;G<se;G++)Q===0&&(ce=d[l++],Q=128),T[u++]=ce&Q?F:D,Q>>=1}for(;u<C;)T[u++]=0;t.putImageData(o,0,p*pl)}}else if(e.kind===jk.RGBA_32BPP){for(m=0,w=r*pl*4,p=0;p<a;p++)h.set(d.subarray(l,l+w)),l+=w,t.putImageData(o,0,m),m+=pl;p<s&&(w=r*i*4,h.set(d.subarray(l,l+w)),t.putImageData(o,0,m))}else if(e.kind===jk.RGB_24BPP)for(v=pl,w=r*v,p=0;p<s;p++){for(p>=a&&(v=i,w=r*v),u=0,m=w;m--;)h[u++]=d[l++],h[u++]=d[l++],h[u++]=d[l++],h[u++]=255;t.putImageData(o,0,p*pl)}else throw new Error(`bad image kind: ${e.kind}`)}function vie(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%pl,a=(n-i)/pl,s=i===0?a:a+1,o=t.createImageData(r,pl);let l=0;const u=e.data,d=o.data;for(let h=0;h<s;h++){const p=h<a?pl:i;({srcPos:l}=hJe({src:u,srcPos:l,dest:d,width:r,height:p,nonBlackColor:0})),t.putImageData(o,0,h*pl)}}function Rw(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function LE(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0),!no){const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}}function wie(t,e){if(e)return!0;const n=Nn.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*Zb.PDF_TO_CSS_UNITS);return n[0]<=r&&n[1]<=r}const yJe=["butt","round","square"],bJe=["miter","round","bevel"],vJe={},_ie={};class Cb{constructor(e,n,r,i,a,{optionalContentConfig:s,markedContentStack:o=null},l,u){this.ctx=e,this.current=new yie(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=s,this.cachedCanvases=new mJe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,n=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):n}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const a=this.ctx.canvas.width,s=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,s),this.ctx.fillStyle=o,r){const l=this.cachedCanvases.getCanvas("transparent",a,s);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Gi(this.compositeCtx))}this.ctx.save(),LE(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Gi(this.ctx)}executeOperatorList(e,n,r,i){const a=e.argsArray,s=e.fnArray;let o=n||0;const l=a.length;if(l===o)return o;const u=l-o>mie&&typeof r=="function",d=u?Date.now()+fJe:0;let h=0;const p=this.commonObjs,m=this.objs;let v;for(;;){if(i!==void 0&&o===i.nextBreakPoint)return i.breakIt(o,r),o;if(v=s[o],v!==Tc.dependency)this[v].apply(this,a[o]);else for(const w of a[o]){const k=w.startsWith("g_")?p:m;if(!k.has(w))return k.get(w,r),o}if(o++,o===l)return o;if(u&&++h>mie){if(Date.now()>d)return r(),o;h=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}}_scaleImage(e,n){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let a=Math.max(Math.hypot(n[0],n[1]),1),s=Math.max(Math.hypot(n[2],n[3]),1),o=r,l=i,u="prescale1",d,h;for(;a>2&&o>1||s>2&&l>1;){let p=o,m=l;a>2&&o>1&&(p=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),a/=o/p),s>2&&l>1&&(m=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,s/=l/m),d=this.cachedCanvases.getCanvas(u,p,m),h=d.context,h.clearRect(0,0,p,m),h.drawImage(e,0,0,o,l,0,0,p,m),e=d.canvas,o=p,l=m,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e){const n=this.ctx,{width:r,height:i}=e,a=this.current.fillColor,s=this.current.patternFill,o=Gi(n);let l,u,d,h;if((e.bitmap||e.data)&&e.count>1){const se=e.bitmap||e.data.buffer;u=JSON.stringify(s?o:[o.slice(0,4),a]),l=this._cachedBitmapsMap.get(se),l||(l=new Map,this._cachedBitmapsMap.set(se,l));const re=l.get(u);if(re&&!s){const Q=Math.round(Math.min(o[0],o[2])+o[4]),ce=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:re,offsetX:Q,offsetY:ce}}d=re}d||(h=this.cachedCanvases.getCanvas("maskCanvas",r,i),vie(h.context,e));let p=Nn.transform(o,[1/r,0,0,-1/i,0,0]);p=Nn.transform(p,[1,0,0,1,0,-i]);const[m,v,w,k]=Nn.getAxialAlignedBoundingBox([0,0,r,i],p),T=Math.round(w-m)||1,C=Math.round(k-v)||1,N=this.cachedCanvases.getCanvas("fillCanvas",T,C),F=N.context,D=m,U=v;F.translate(-D,-U),F.transform(...p),d||(d=this._scaleImage(h.canvas,vd(F)),d=d.img,l&&s&&l.set(u,d)),F.imageSmoothingEnabled=wie(Gi(F),e.interpolate),PE(F,d,0,0,d.width,d.height,0,0,r,i),F.globalCompositeOperation="source-in";const G=Nn.transform(vd(F),[1,0,0,1,-D,-U]);return F.fillStyle=s?a.getPattern(n,this,G,eo.FILL):a,F.fillRect(0,0,r,i),l&&!s&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,N.canvas)),{canvas:N.canvas,offsetX:Math.round(D),offsetY:Math.round(U)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=yJe[e]}setLineJoin(e){this.ctx.lineJoin=bJe[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,n){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=n)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[n,r]of e)switch(n){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,n);this.suspendedCtx=this.ctx,this.ctx=i.context;const a=this.ctx;a.setTransform(...Gi(this.suspendedCtx)),Rw(this.suspendedCtx,a),pJe(a,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Rw(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const a=i[0],s=i[1],o=i[2]-a,l=i[3]-s;o===0||l===0||(this.genericComposeSMask(n.context,r,o,l,n.subtype,n.backdrop,n.transferMap,a,s,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,a,s,o,l,u,d,h){let p=e.canvas,m=l-d,v=u-h;if(s){const k=Nn.makeHexColor(...s);if(m<0||v<0||m+r>p.width||v+i>p.height){const T=this.cachedCanvases.getCanvas("maskExtension",r,i),C=T.context;C.drawImage(p,-m,-v),C.globalCompositeOperation="destination-atop",C.fillStyle=k,C.fillRect(0,0,r,i),C.globalCompositeOperation="source-over",p=T.canvas,m=v=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const T=new Path2D;T.rect(m,v,r,i),e.clip(T),e.globalCompositeOperation="destination-atop",e.fillStyle=k,e.fillRect(m,v,r,i),e.restore()}}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),a==="Alpha"&&o?n.filter=this.filterFactory.addAlphaFilter(o):a==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(o));const w=new Path2D;w.rect(l,u,r,i),n.clip(w),n.globalCompositeOperation="destination-in",n.drawImage(p,m,v,r,i,l,u,r,i),n.restore()}save(){this.inSMaskMode?(Rw(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Rw(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,n,r,i,a,s){this.ctx.transform(e,n,r,i,a,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r){const i=this.ctx,a=this.current;let s=a.x,o=a.y,l,u;const d=Gi(i),h=d[0]===0&&d[3]===0||d[1]===0&&d[2]===0,p=h?r.slice(0):null;for(let m=0,v=0,w=e.length;m<w;m++)switch(e[m]|0){case Tc.rectangle:s=n[v++],o=n[v++];const k=n[v++],T=n[v++],C=s+k,N=o+T;i.moveTo(s,o),k===0||T===0?i.lineTo(C,N):(i.lineTo(C,o),i.lineTo(C,N),i.lineTo(s,N)),h||a.updateRectMinMax(d,[s,o,C,N]),i.closePath();break;case Tc.moveTo:s=n[v++],o=n[v++],i.moveTo(s,o),h||a.updatePathMinMax(d,s,o);break;case Tc.lineTo:s=n[v++],o=n[v++],i.lineTo(s,o),h||a.updatePathMinMax(d,s,o);break;case Tc.curveTo:l=s,u=o,s=n[v+4],o=n[v+5],i.bezierCurveTo(n[v],n[v+1],n[v+2],n[v+3],s,o),a.updateCurvePathMinMax(d,l,u,n[v],n[v+1],n[v+2],n[v+3],s,o,p),v+=6;break;case Tc.curveTo2:l=s,u=o,i.bezierCurveTo(s,o,n[v],n[v+1],n[v+2],n[v+3]),a.updateCurvePathMinMax(d,l,u,s,o,n[v],n[v+1],n[v+2],n[v+3],p),s=n[v+2],o=n[v+3],v+=4;break;case Tc.curveTo3:l=s,u=o,s=n[v+2],o=n[v+3],i.bezierCurveTo(n[v],n[v+1],s,o,s,o),a.updateCurvePathMinMax(d,l,u,n[v],n[v+1],s,o,s,o,p),v+=4;break;case Tc.closePath:i.closePath();break}h&&a.updateScalingPathMinMax(d,p),a.setCurrentPoint(s,o)}closePath(){this.ctx.closePath()}stroke(e=!0){const n=this.ctx,r=this.current.strokeColor;n.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&r?.getPattern?(n.save(),n.strokeStyle=r.getPattern(n,this,vd(n),eo.STROKE),this.rescaleAndStroke(!1),n.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),n.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const n=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let a=!1;i&&(n.save(),n.fillStyle=r.getPattern(n,this,vd(n),eo.FILL),a=!0);const s=this.current.getClippedPathBoundingBox();this.contentVisible&&s!==null&&(this.pendingEOFill?(n.fill("evenodd"),this.pendingEOFill=!1):n.fill()),a&&n.restore(),e&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=vJe}eoClip(){this.pendingClip=_ie}beginText(){this.current.textMatrix=Jbe,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,n=this.ctx;if(e===void 0){n.beginPath();return}const r=new Path2D,i=n.getTransform().invertSelf();for(const{transform:a,x:s,y:o,fontSize:l,path:u}of e)r.addPath(u,new DOMMatrix(a).preMultiplySelf(i).translate(s,o).scale(l,-l));n.clip(r),n.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,n){const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||_8,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&mr("Invalid font matrix for font "+e),n<0?(n=-n,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const a=r.loadedName||"sans-serif",s=r.systemFontInfo?.css||`"${a}", ${r.fallbackName}`;let o="normal";r.black?o="900":r.bold&&(o="bold");const l=r.italic?"italic":"normal";let u=n;n<fie?u=fie:n>pie&&(u=pie),this.current.fontSizeScale=n/u,this.ctx.font=`${l} ${o} ${u}px ${s}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,n){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,n){this.setLeading(-n),this.moveText(e,n)}setTextMatrix(e,n,r,i,a,s){this.current.textMatrix=[e,n,r,i,a,s],this.current.textMatrixScale=Math.hypot(e,n),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#n(e,n,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(n)),i}paintChar(e,n,r,i,a){const s=this.ctx,o=this.current,l=o.font,u=o.textRenderingMode,d=o.fontSize/o.fontSizeScale,h=u&Ys.FILL_STROKE_MASK,p=!!(u&Ys.ADD_TO_PATH_FLAG),m=o.patternFill&&!l.missingFile,v=o.patternStroke&&!l.missingFile;let w;if((l.disableFontFace||p||m||v)&&(w=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||m||v){if(s.save(),s.translate(n,r),s.scale(d,-d),h===Ys.FILL||h===Ys.FILL_STROKE)if(i){const k=s.getTransform();s.setTransform(...i),s.fill(this.#n(w,k,i))}else s.fill(w);if(h===Ys.STROKE||h===Ys.FILL_STROKE)if(a){const k=s.getTransform();s.setTransform(...a),s.stroke(this.#n(w,k,a))}else s.lineWidth/=d,s.stroke(w);s.restore()}else(h===Ys.FILL||h===Ys.FILL_STROKE)&&s.fillText(e,n,r),(h===Ys.STROKE||h===Ys.FILL_STROKE)&&s.strokeText(e,n,r);p&&(this.pendingTextPaths||=[]).push({transform:Gi(s),x:n,y:r,fontSize:d,path:w})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return Er(this,"isFontSubpixelAAEnabled",r)}showText(e){const n=this.current,r=n.font;if(r.isType3Font)return this.showType3Text(e);const i=n.fontSize;if(i===0)return;const a=this.ctx,s=n.fontSizeScale,o=n.charSpacing,l=n.wordSpacing,u=n.fontDirection,d=n.textHScale*u,h=e.length,p=r.vertical,m=p?1:-1,v=r.defaultVMetrics,w=i*n.fontMatrix[0],k=n.textRenderingMode===Ys.FILL&&!r.disableFontFace&&!n.patternFill;a.save(),a.transform(...n.textMatrix),a.translate(n.x,n.y+n.textRise),u>0?a.scale(d,-1):a.scale(d,1);let T,C;if(n.patternFill){a.save();const G=n.fillColor.getPattern(a,this,vd(a),eo.FILL);T=Gi(a),a.restore(),a.fillStyle=G}if(n.patternStroke){a.save();const G=n.strokeColor.getPattern(a,this,vd(a),eo.STROKE);C=Gi(a),a.restore(),a.strokeStyle=G}let N=n.lineWidth;const F=n.textMatrixScale;if(F===0||N===0){const G=n.textRenderingMode&Ys.FILL_STROKE_MASK;(G===Ys.STROKE||G===Ys.FILL_STROKE)&&(N=this.getSinglePixelWidth())}else N/=F;if(s!==1&&(a.scale(s,s),N/=s),a.lineWidth=N,r.isInvalidPDFjsFont){const G=[];let se=0;for(const re of e)G.push(re.unicode),se+=re.width;a.fillText(G.join(""),0,0),n.x+=se*w*d,a.restore(),this.compose();return}let D=0,U;for(U=0;U<h;++U){const G=e[U];if(typeof G=="number"){D+=m*G*i/1e3;continue}let se=!1;const re=(G.isSpace?l:0)+o,Q=G.fontChar,ce=G.accent;let Ie,qe,xe=G.width;if(p){const ue=G.vmetric||v,ke=-(G.vmetric?ue[1]:xe*.5)*w,Te=ue[2]*w;xe=ue?-ue[0]:xe,Ie=ke/s,qe=(D+Te)/s}else Ie=D/s,qe=0;if(r.remeasure&&xe>0){const ue=a.measureText(Q).width*1e3/i*s;if(xe<ue&&this.isFontSubpixelAAEnabled){const ke=xe/ue;se=!0,a.save(),a.scale(ke,1),Ie/=ke}else xe!==ue&&(Ie+=(xe-ue)/2e3*i/s)}if(this.contentVisible&&(G.isInFont||r.missingFile)){if(k&&!ce)a.fillText(Q,Ie,qe);else if(this.paintChar(Q,Ie,qe,T,C),ce){const ue=Ie+i*ce.offset.x/s,ke=qe-i*ce.offset.y/s;this.paintChar(ce.fontChar,ue,ke,T,C)}}const Ce=p?xe*w-re*u:xe*w+re*u;D+=Ce,se&&a.restore()}p?n.y-=D:n.x+=D*d,a.restore(),this.compose()}showType3Text(e){const n=this.ctx,r=this.current,i=r.font,a=r.fontSize,s=r.fontDirection,o=i.vertical?1:-1,l=r.charSpacing,u=r.wordSpacing,d=r.textHScale*s,h=r.fontMatrix||_8,p=e.length,m=r.textRenderingMode===Ys.INVISIBLE;let v,w,k,T;if(!(m||a===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),n.transform(...r.textMatrix),n.translate(r.x,r.y),n.scale(d,s),v=0;v<p;++v){if(w=e[v],typeof w=="number"){T=o*w*a/1e3,this.ctx.translate(T,0),r.x+=T*d;continue}const C=(w.isSpace?u:0)+l,N=i.charProcOperatorList[w.operatorListId];if(!N){mr(`Type3 character "${w.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=w,this.save(),n.scale(a,a),n.transform(...h),this.executeOperatorList(N),this.restore()),k=Nn.applyTransform([w.width,0],h)[0]*a+C,n.translate(k,0),r.x+=k*d}n.restore(),this.processingType3=null}}setCharWidth(e,n){}setCharWidthAndBounds(e,n,r,i,a,s){this.ctx.rect(r,i,a-r,s-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let n;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||Gi(this.ctx),a={createCanvasGraphics:s=>new Cb(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};n=new Jz(e,r,this.ctx,a,i)}else n=this._getPattern(e[1],e[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,n,r){this.ctx.strokeStyle=this.current.strokeColor=Nn.makeHexColor(e,n,r),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,n,r){this.ctx.fillStyle=this.current.fillColor=Nn.makeHexColor(e,n,r),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=dJe(this.getObject(e)),this.cachedPatterns.set(e,r)),n&&(r.matrix=n),r}shadingFill(e){if(!this.contentVisible)return;const n=this.ctx;this.save();const r=this._getPattern(e);n.fillStyle=r.getPattern(n,this,vd(n),eo.SHADING);const i=vd(n);if(i){const{width:a,height:s}=n.canvas,[o,l,u,d]=Nn.getAxialAlignedBoundingBox([0,0,a,s],i);this.ctx.fillRect(o,l,u-o,d-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Ai("Should not call beginInlineImage")}beginImageData(){Ai("Should not call beginImageData")}paintFormXObjectBegin(e,n){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Gi(this.ctx),n)){const r=n[2]-n[0],i=n[3]-n[1];this.ctx.rect(n[0],n[1],r,i),this.current.updateRectMinMax(Gi(this.ctx),n),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||DR("TODO: Support non-isolated groups."),e.knockout&&mr("Knockout groups not supported.");const r=Gi(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Nn.getAxialAlignedBoundingBox(e.bbox,Gi(n));const a=[0,0,n.canvas.width,n.canvas.height];i=Nn.intersect(i,a)||[0,0,0,0];const s=Math.floor(i[0]),o=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-s,1),u=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,u]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,l,u),p=h.context;p.translate(-s,-o),p.transform(...r),e.smask?this.smaskStack.push({canvas:h.canvas,context:p,offsetX:s,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(s,o),n.save()),Rw(n,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Gi(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const a=Nn.getAxialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],i);this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,n,r,i,a){if(this.#e(),LE(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const s=n[2]-n[0],o=n[3]-n[1];if(a&&this.annotationCanvasMap){r=r.slice(),r[4]-=n[0],r[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=s,n[3]=o;const[l,u]=Nn.singularValueDecompose2dScale(Gi(this.ctx)),{viewportScale:d}=this,h=Math.ceil(s*this.outputScaleX*d),p=Math.ceil(o*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(h,p);const{canvas:m,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(e,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,o*u),LE(this.ctx)}else LE(this.ctx),this.endPath(),this.ctx.rect(n[0],n[1],s,o),this.ctx.clip(),this.ctx.beginPath()}this.current=new yie(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(e.data,e),e.count=n;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=gJe(e)),i.compiled)){i.compiled(r);return}const a=this._createMaskCanvas(e),s=a.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(s,a.offsetX,a.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r=0,i=0,a,s){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const l=Gi(o);o.transform(n,r,i,a,0,0);const u=this._createMaskCanvas(e);o.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let d=0,h=s.length;d<h;d+=2){const p=Nn.transform(l,[n,r,i,a,s[d],s[d+1]]),[m,v]=Nn.applyTransform([0,0],p);o.drawImage(u.canvas,m,v)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const n=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const a of e){const{data:s,width:o,height:l,transform:u}=a,d=this.cachedCanvases.getCanvas("maskCanvas",o,l),h=d.context;h.save();const p=this.getObject(s,a);vie(h,p),h.globalCompositeOperation="source-in",h.fillStyle=i?r.getPattern(h,this,vd(n),eo.FILL):r,h.fillRect(0,0,o,l),h.restore(),n.save(),n.transform(...u),n.scale(1,-1),PE(n,d.canvas,0,0,o,l,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const n=this.getObject(e);if(!n){mr("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(e,n,r,i){if(!this.contentVisible)return;const a=this.getObject(e);if(!a){mr("Dependent image isn't ready yet");return}const s=a.width,o=a.height,l=[];for(let u=0,d=i.length;u<d;u+=2)l.push({transform:[n,0,0,r,i[u],i[u+1]],x:0,y:0,w:s,h:o});this.paintInlineImageXObjectGroup(a,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,a=this.cachedCanvases.getCanvas("inlineImage",r,i),s=a.context;return s.filter=this.current.transferMaps,s.drawImage(n,0,0),s.filter="none",a.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const n=e.width,r=e.height,i=this.ctx;if(this.save(),!no){const{filter:o}=i;o!=="none"&&o!==""&&(i.filter="none")}i.scale(1/n,-1/r);let a;if(e.bitmap)a=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)a=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",n,r).context;bie(l,e),a=this.applyTransferMapsToCanvas(l)}const s=this._scaleImage(a,vd(i));i.imageSmoothingEnabled=wie(Gi(i),e.interpolate),PE(i,s.img,0,0,s.paintWidth,s.paintHeight,0,-r,n,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,n){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const a=e.width,s=e.height,l=this.cachedCanvases.getCanvas("inlineImage",a,s).context;bie(l,e),i=this.applyTransferMapsToCanvas(l)}for(const a of n)r.save(),r.transform(...a.transform),r.scale(1,-1),PE(r,i,a.x,a.y,a.w,a.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,n){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(n||(this.pendingClip===_ie?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Gi(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:a}=this.ctx.getTransform();let s,o;if(r===0&&i===0){const l=Math.abs(n),u=Math.abs(a);if(l===u)if(e===0)s=o=1/l;else{const d=l*e;s=o=d<1?1/d:1}else if(e===0)s=1/l,o=1/u;else{const d=l*e,h=u*e;s=d<1?1/d:1,o=h<1?1/h:1}}else{const l=Math.abs(n*a-r*i),u=Math.hypot(n,r),d=Math.hypot(i,a);if(e===0)s=d/l,o=u/l;else{const h=e*l;s=d>h?d/h:1,o=u>h?u/h:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:n}=this,{lineWidth:r}=this.current,[i,a]=this.getScaleForStroking();if(n.lineWidth=r||1,i===1&&a===1){n.stroke();return}const s=n.getLineDash();if(e&&n.save(),n.scale(i,a),s.length>0){const o=Math.max(i,a);n.setLineDash(s.map(l=>l/o)),n.lineDashOffset/=o}n.stroke(),e&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const t in Tc)Cb.prototype[t]!==void 0&&(Cb.prototype[Tc[t]]=Cb.prototype[t]);class K_{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class wJe{#e;#t;constructor({parsedData:e,rawData:n}){this.#e=e,this.#t=n}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}getAll(){return Hz(this.#e)}has(e){return this.#e.has(e)}}const eb=Symbol("INTERNAL");class _Je{#e=!1;#t=!1;#n=!1;#r=!0;constructor(e,{name:n,intent:r,usage:i,rbGroups:a}){this.#e=!!(e&Hl.DISPLAY),this.#t=!!(e&Hl.PRINT),this.name=n,this.intent=r,this.usage=i,this.rbGroups=a}get visible(){if(this.#n)return this.#r;if(!this.#r)return!1;const{print:e,view:n}=this.usage;return this.#e?n?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,n,r=!1){e!==eb&&Ai("Internal method `_setVisible` called."),this.#n=r,this.#r=n}}class SJe{#e=null;#t=new Map;#n=null;#r=null;constructor(e,n=Hl.DISPLAY){if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#r=e.order;for(const r of e.groups)this.#t.set(r.id,new _Je(n,r));if(e.baseState==="OFF")for(const r of this.#t.values())r._setVisible(eb,!1);for(const r of e.on)this.#t.get(r)._setVisible(eb,!0);for(const r of e.off)this.#t.get(r)._setVisible(eb,!1);this.#n=this.getHash()}}#a(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const a=e[i];let s;if(Array.isArray(a))s=this.#a(a);else if(this.#t.has(a))s=this.#t.get(a).visible;else return mr(`Optional content group not found: ${a}`),!0;switch(r){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return r==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return DR("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(mr(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#a(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!this.#t.has(n))return mr(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!this.#t.has(n))return mr(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!this.#t.has(n))return mr(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!this.#t.has(n))return mr(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!1}return!0}return mr(`Unknown optional content policy ${e.policy}.`),!0}return mr(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,r=!0){const i=this.#t.get(e);if(!i){mr(`Optional content group not found: ${e}`);return}if(r&&n&&i.rbGroups.length)for(const a of i.rbGroups)for(const s of a)s!==e&&this.#t.get(s)?._setVisible(eb,!1,!0);i._setVisible(eb,!!n,!0),this.#e=null}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const a=this.#t.get(i);if(a)switch(r){case"ON":this.setVisibility(i,!0,n);break;case"OFF":this.setVisibility(i,!1,n);break;case"Toggle":this.setVisibility(i,!a.visible,n);break}}this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?Hz(this.#t):null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new nve;for(const[n,r]of this.#t)e.update(`${n}:${r.visible}`);return this.#e=e.hexdigest()}}class xJe{constructor(e,{disableRange:n=!1,disableStream:r=!1}){$a(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:a,progressiveDone:s,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=o,a?.length>0){const l=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(r),!0)});$a(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){$a(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new EJe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new kJe(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class EJe{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=Wz(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class kJe{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function TJe(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let d=o(n);return d=unescape(d),d=l(d),d=u(d),a(d)}if(n=s(t),n){const d=u(n);return a(d)}if(n=r("filename","i").exec(t),n){n=n[1];let d=o(n);return d=u(d),a(d)}function r(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const p=new TextDecoder(d,{fatal:!0}),m=FR(h);h=p.decode(m),e=!1}catch{}}return h}function a(d){return e&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),e&&(d=i("iso-8859-1",d))),d}function s(d){const h=[];let p;const m=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=m.exec(d))!==null;){let[,w,k,T]=p;if(w=parseInt(w,10),w in h){if(w===0)break;continue}h[w]=[k,T]}const v=[];for(let w=0;w<h.length&&w in h;++w){let[k,T]=h[w];T=o(T),k&&(T=unescape(T),w===0&&(T=l(T))),v.push(T)}return v.join("")}function o(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let p=0;p<h.length;++p){const m=h[p].indexOf('"');m!==-1&&(h[p]=h[p].slice(0,m),h.length=p+1),h[p]=h[p].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const p=d.slice(0,h),v=d.slice(h+1).replace(/^[^']*'/,"");return i(p,v)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,p,m,v){if(m==="q"||m==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,k){return String.fromCharCode(parseInt(k,16))}),i(p,v);try{v=atob(v)}catch{}return i(p,v)})}return""}function dve(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const r in e){const i=e[r];i!==void 0&&n.append(r,i)}return n}function zR(t){try{return new URL(t).origin}catch{}return null}function hve({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t.get("Content-Length"),10);return!Number.isInteger(a)||(i.suggestedLength=a,a<=2*n)||r||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function fve(t){const e=t.get("Content-Disposition");if(e){let n=TJe(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(Wz(n))return n}return null}function $R(t,e){return t===404||t===0&&e.startsWith("file:")?new H1('Missing PDF "'+e+'".'):new aA(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t)}function pve(t){return t===200||t===206}function mve(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function gve(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(mr(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class Sie{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=dve(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return $a(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new AJe(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new CJe(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class AJe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const r=new Headers(e.headers),i=n.url;fetch(i,mve(r,this._withCredentials,this._abortController)).then(a=>{if(e._responseOrigin=zR(a.url),!pve(a.status))throw $R(a.status,i);this._reader=a.body.getReader(),this._headersCapability.resolve();const s=a.headers,{allowRangeRequests:o,suggestedLength:l}=hve({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=fve(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new $m("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:gve(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class CJe{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${n}-${r-1}`);const s=i.url;fetch(s,mve(a,this._withCredentials,this._abortController)).then(o=>{const l=zR(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!pve(o.status))throw $R(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:gve(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const $D=200,qD=206;function RJe(t){const e=t.response;return typeof e!="string"?e:FR(e).buffer}class IJe{_responseOrigin=null;constructor({url:e,httpHeaders:n,withCredentials:r}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=dve(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[a,s]of this.headers)n.setRequestHeader(a,s);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=qD):i.expectedStatus=$D,n.responseType="arraybuffer",$a(e.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{e.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){const r=this.pendingRequests[e];r&&r.onProgress?.(n)}onStateChange(e,n){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const a=i.status||$D;if(!(a===$D&&r.expectedStatus===qD)&&a!==r.expectedStatus){r.onError(i.status);return}const o=RJe(i);if(a===qD){const l=i.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);u?r.onDone({begin:parseInt(u[1],10),chunk:o}):(mr('Missing or invalid "Content-Range" header.'),r.onError(0))}else o?r.onDone({begin:0,chunk:o}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class NJe{constructor(e){this._source=e,this._manager=new IJe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return $a(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new OJe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new MJe(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class OJe{constructor(e,n){this._manager=e,this._url=n.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e);this._manager._responseOrigin=zR(n.responseURL);const r=n.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...u]=o.split(": ");return[l,u.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:s}=hve({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=fve(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=$R(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class MJe{constructor(e,n,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:n,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=zR(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=$R(e,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const PJe=/^[a-z][a-z0-9\-+.]+:/i;function LJe(t){if(PJe.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class DJe{constructor(e){this.source=e,this.url=LJe(e.url),$a(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return $a(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new FJe(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new BJe(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class FJe{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new H1(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new $m("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class BJe{constructor(e,n,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:n,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const UJe=1e5,il=30,jJe=.8;class Co{#e=Promise.withResolvers();#t=null;#n=!1;#r=!!globalThis.FontInspector?.enabled;#a=null;#i=null;#l=0;#s=0;#c=null;#u=null;#h=0;#d=0;#f=Object.create(null);#o=[];#p=null;#g=[];#m=new WeakMap;#y=null;static#v=new Map;static#b=new Map;static#_=new WeakMap;static#S=null;static#x=new Set;constructor({textContentSource:e,container:n,viewport:r}){if(e instanceof ReadableStream)this.#p=e;else if(typeof e=="object")this.#p=new ReadableStream({start(l){l.enqueue(e),l.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#u=n,this.#d=r.scale*(globalThis.devicePixelRatio||1),this.#h=r.rotation,this.#i={div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:a,pageX:s,pageY:o}=r.rawDims;this.#y=[1,0,0,-1,-s,o+a],this.#s=i,this.#l=a,Co.#N(),E0(n,r),this.#e.promise.finally(()=>{Co.#x.delete(this),this.#i=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=Bo.platform;return Er(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#c.read().then(({value:n,done:r})=>{if(r){this.#e.resolve();return}this.#a??=n.lang,Object.assign(this.#f,n.styles),this.#T(n.items),e()},this.#e.reject)};return this.#c=this.#p.getReader(),Co.#x.add(this),e(),this.#e.promise}update({viewport:e,onBefore:n=null}){const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==this.#h&&(n?.(),this.#h=i,E0(this.#u,{rotation:i})),r!==this.#d){n?.(),this.#d=r;const a={div:null,properties:null,ctx:Co.#C(this.#a)};for(const s of this.#g)a.properties=this.#m.get(s),a.div=s,this.#E(a)}}cancel(){const e=new $m("TextLayer task cancelled.");this.#c?.cancel(e).catch(()=>{}),this.#c=null,this.#e.reject(e)}get textDivs(){return this.#g}get textContentItemsStr(){return this.#o}#T(e){if(this.#n)return;this.#i.ctx??=Co.#C(this.#a);const n=this.#g,r=this.#o;for(const i of e){if(n.length>UJe){mr("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){const a=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),i.id!==null&&this.#t.setAttribute("id",`${i.id}`),a.append(this.#t)}else i.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}r.push(i.str),this.#R(i)}}#R(e){const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#g.push(n);const i=Nn.transform(this.#y,e.transform);let a=Math.atan2(i[1],i[0]);const s=this.#f[e.fontName];s.vertical&&(a+=Math.PI/2);let o=this.#r&&s.fontSubstitution||s.fontFamily;o=Co.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),u=l*Co.#P(o,this.#a);let d,h;a===0?(d=i[4],h=i[5]-u):(d=i[4]+u*Math.sin(a),h=i[5]-u*Math.cos(a));const p="calc(var(--scale-factor)*",m=n.style;this.#t===this.#u?(m.left=`${(100*d/this.#s).toFixed(2)}%`,m.top=`${(100*h/this.#l).toFixed(2)}%`):(m.left=`${p}${d.toFixed(2)}px)`,m.top=`${p}${h.toFixed(2)}px)`),m.fontSize=`${p}${(Co.#S*l).toFixed(2)}px)`,m.fontFamily=o,r.fontSize=l,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,this.#r&&(n.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),a!==0&&(r.angle=a*(180/Math.PI));let v=!1;if(e.str.length>1)v=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const w=Math.abs(e.transform[0]),k=Math.abs(e.transform[3]);w!==k&&Math.max(w,k)/Math.min(w,k)>1.5&&(v=!0)}if(v&&(r.canvasWidth=s.vertical?e.height:e.width),this.#m.set(n,r),this.#i.div=n,this.#i.properties=r,this.#E(this.#i),r.hasText&&this.#t.append(n),r.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),this.#t.append(w)}}#E(e){const{div:n,properties:r,ctx:i}=e,{style:a}=n;let s="";if(Co.#S>1&&(s=`scale(${1/Co.#S})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:o}=a,{canvasWidth:l,fontSize:u}=r;Co.#A(i,u*this.#d,o);const{width:d}=i.measureText(n.textContent);d>0&&(s=`scaleX(${l*this.#d/d}) ${s}`)}r.angle!==0&&(s=`rotate(${r.angle}deg) ${s}`),s.length>0&&(a.transform=s)}static cleanup(){if(!(this.#x.size>0)){this.#v.clear();for(const{canvas:e}of this.#b.values())e.remove();this.#b.clear()}}static#C(e=null){let n=this.#b.get(e||="");if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#b.set(e,n),this.#_.set(n,{size:0,family:""})}return n}static#A(e,n,r){const i=this.#_.get(e);n===i.size&&r===i.family||(e.font=`${n}px ${r}`,i.size=n,i.family=r)}static#N(){if(this.#S!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#S=e.getBoundingClientRect().height,e.remove()}static#P(e,n){const r=this.#v.get(e);if(r)return r;const i=this.#C(n);i.canvas.width=i.canvas.height=il,this.#A(i,il,e);const a=i.measureText("");let s=a.fontBoundingBoxAscent,o=Math.abs(a.fontBoundingBoxDescent);if(s){const d=s/(s+o);return this.#v.set(e,d),i.canvas.width=i.canvas.height=0,d}i.strokeStyle="red",i.clearRect(0,0,il,il),i.strokeText("g",0,0);let l=i.getImageData(0,0,il,il).data;o=0;for(let d=l.length-1-3;d>=0;d-=4)if(l[d]>0){o=Math.ceil(d/4/il);break}i.clearRect(0,0,il,il),i.strokeText("A",0,il),l=i.getImageData(0,0,il,il).data,s=0;for(let d=0,h=l.length;d<h;d+=4)if(l[d]>0){s=il-Math.floor(d/4/il);break}i.canvas.width=i.canvas.height=0;const u=s?s/(s+o):jJe;return this.#v.set(e,u),u}}class V1{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(a){if(!a)return;let s=null;const o=a.name;if(o==="#text")s=a.value;else if(V1.shouldBuildText(o))a?.attributes?.textContent?s=a.attributes.textContent:a.value&&(s=a.value);else return;if(s!==null&&n.push({str:s}),!!a.children)for(const l of a.children)i(l)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const zJe=65536,$Je=100,qJe=5e3,HJe=no?iJe:tJe,VJe=no?aJe:sve,GJe=no?rJe:nJe,WJe=no?sJe:uve;function KJe(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new e$,{docId:n}=e,r=t.url?YJe(t.url):null,i=t.data?XJe(t.data):null,a=t.httpHeaders||null,s=t.withCredentials===!0,o=t.password??null,l=t.range instanceof yve?t.range:null,u=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:zJe;let d=t.worker instanceof vs?t.worker:null;const h=t.verbosity,p=typeof t.docBaseUrl=="string"&&!UR(t.docBaseUrl)?t.docBaseUrl:null,m=typeof t.cMapUrl=="string"?t.cMapUrl:null,v=t.cMapPacked!==!1,w=t.CMapReaderFactory||VJe,k=typeof t.standardFontDataUrl=="string"?t.standardFontDataUrl:null,T=t.StandardFontDataFactory||WJe,C=t.stopAtErrors!==!0,N=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,F=t.isEvalSupported!==!1,D=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!no,U=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!no&&(Bo.platform.isFirefox||!globalThis.chrome),G=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,se=typeof t.disableFontFace=="boolean"?t.disableFontFace:no,re=t.fontExtraProperties===!0,Q=t.enableXfa===!0,ce=t.ownerDocument||globalThis.document,Ie=t.disableRange===!0,qe=t.disableStream===!0,xe=t.disableAutoFetch===!0,Ce=t.pdfBug===!0,ue=t.CanvasFactory||HJe,ke=t.FilterFactory||GJe,Te=t.enableHWA===!0,he=l?l.length:t.length??NaN,j=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!no&&!se,pe=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:w===sve&&T===uve&&m&&k&&__(m,document.baseURI)&&__(k,document.baseURI),Ne=null;MQe(h);const ae={canvasFactory:new ue({ownerDocument:ce,enableHWA:Te}),filterFactory:new ke({docId:n,ownerDocument:ce}),cMapReaderFactory:pe?null:new w({baseUrl:m,isCompressed:v}),standardFontDataFactory:pe?null:new T({baseUrl:k})};if(!d){const Xe={verbosity:h,port:K_.workerPort};d=Xe.port?vs.fromPort(Xe):new vs(Xe),e._worker=d}const He={docId:n,apiVersion:"4.10.38",data:i,password:o,disableAutoFetch:xe,rangeChunkSize:u,length:he,docBaseUrl:p,enableXfa:Q,evaluatorOptions:{maxImageSize:N,disableFontFace:se,ignoreErrors:C,isEvalSupported:F,isOffscreenCanvasSupported:D,isImageDecoderSupported:U,canvasMaxAreaInBytes:G,fontExtraProperties:re,useSystemFonts:j,cMapUrl:pe?m:null,standardFontDataUrl:pe?k:null}},it={disableFontFace:se,fontExtraProperties:re,ownerDocument:ce,pdfBug:Ce,styleElement:Ne,loadingParams:{disableAutoFetch:xe,enableXfa:Q}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Xe=d.messageHandler.sendWithPromise("GetDocRequest",He,i?[i.buffer]:null);let Ke;if(l)Ke=new xJe(l,{disableRange:Ie,disableStream:qe});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");let ct;if(no)if(__(r)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");ct=Sie}else ct=DJe;else ct=__(r)?Sie:NJe;Ke=new ct({url:r,length:he,httpHeaders:a,withCredentials:s,rangeChunkSize:u,disableRange:Ie,disableStream:qe})}return Xe.then(ct=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const de=new S_(n,ct,d.port),Se=new eet(de,e,Ke,it,ae);e._transport=Se,de.send("Ready",null)})}).catch(e._capability.reject),e}function YJe(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(no&&typeof t=="string")return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function XJe(t){if(no&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return FR(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t?.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function xie(t){return typeof t=="object"&&Number.isInteger(t?.num)&&t.num>=0&&Number.isInteger(t?.gen)&&t.gen>=0}class e${static#e=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${e$.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}}class yve{constructor(e,n,r=!1,i=null){this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,n){for(const r of this._rangeListeners)r(e,n)}onDataProgress(e,n){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,n)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const n of this._progressiveReadListeners)n(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,n){Ai("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class ZJe{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Er(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class QJe{#e=null;#t=!1;constructor(e,n,r,i=!1){this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new uie:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new bve,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:a=!1}={}){return new KS({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Er(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,viewport:n,intent:r="display",annotationMode:i=dm.ENABLE,transform:a=null,background:s=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:d=null,isEditing:h=!1}){this._stats?.time("Overall");const p=this._transport.getRenderingIntent(r,i,d,h),{renderingIntent:m,cacheKey:v}=p;this.#t=!1,this.#r(),o||=this._transport.getOptionalContentConfig(m);let w=this._intentStates.get(v);w||(w=Object.create(null),this._intentStates.set(v,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const k=!!(m&Hl.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(p));const T=F=>{w.renderTasks.delete(C),(this._maybeCleanupAfterRender||k)&&(this.#t=!0),this.#n(!k),F?(C.capability.reject(F),this._abortOperatorList({intentState:w,reason:F instanceof Error?F:new Error(F)})):C.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},C=new fb({callback:T,params:{canvasContext:e,viewport:n,transform:a,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!k,pdfBug:this._pdfBug,pageColors:u});(w.renderTasks||=new Set).add(C);const N=C.task;return Promise.all([w.displayReadyCapability.promise,o]).then(([F,D])=>{if(this.destroyed){T();return}if(this._stats?.time("Rendering"),!(D.renderingIntent&m))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");C.initializeGraphics({transparency:F,optionalContentConfig:D}),C.operatorListChanged()}).catch(T),N}getOperatorList({intent:e="display",annotationMode:n=dm.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){function a(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const s=this._transport.getRenderingIntent(e,n,r,i,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=a,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||=new Set).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>V1.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function a(){s.read().then(function({value:l,done:u}){if(u){r(o);return}o.lang??=l.lang,Object.assign(o.styles,l.styles),o.items.push(...l.items),a()},i)}const s=n.getReader(),o={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),this.#t=!1,this.#r(),Promise.all(e)}cleanup(e=!1){this.#t=!0;const n=this.#n(!1);return e&&n&&(this._stats&&=new uie),n}#n(e=!1){if(this.#r(),!this.#t||this.destroyed)return!1;if(e)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},qJe),!1;for(const{renderTasks:n,operatorList:r}of this._intentStates.values())if(n.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#r(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(e,n){const r=this._intentStates.get(n);r&&(this._stats?.timeEnd("Page Request"),r.displayReadyCapability?.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}){const{map:a,transfer:s}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:a,modifiedIds:i},s).getReader(),u=this._intentStates.get(n);u.streamReader=l;const d=()=>{l.read().then(({value:h,done:p})=>{if(p){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const p of u.renderTasks)p.operatorListChanged();this.#n(!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof Gz){let i=$Je;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new $m(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,a]of this._intentStates)if(a===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}class JJe{#e=new Map;#t=Promise.resolve();postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};this.#t.then(()=>{for(const[i]of this.#e)i.call(this,r)})}addEventListener(e,n,r=null){let i=null;if(r?.signal instanceof AbortSignal){const{signal:a}=r;if(a.aborted){mr("LoopbackPort - cannot use an `aborted` signal.");return}const s=()=>this.removeEventListener(e,n);i=()=>a.removeEventListener("abort",s),a.addEventListener("abort",s)}this.#e.set(n,i)}removeEventListener(e,n){this.#e.get(n)?.(),this.#e.delete(n)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}class vs{static#e=0;static#t=!1;static#n;static{no&&(this.#t=!0,K_.workerSrc||="./pdf.worker.mjs"),this._isSameOrigin=(e,n)=>{let r;try{if(r=new URL(e),!r.origin||r.origin==="null")return!1}catch{return!1}const i=new URL(n,r);return r.origin===i.origin},this._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))}}constructor({name:e=null,port:n=null,verbosity:r=PQe()}={}){if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,n){if(vs.#n?.has(n))throw new Error("Cannot use more than one PDFWorker per port.");(vs.#n||=new WeakMap).set(n,this),this._initializeFromPort(n);return}this._initialize()}get promise(){return this._readyCapability.promise}#r(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new S_("main","worker",e),this._messageHandler.on("ready",function(){}),this.#r()}_initialize(){if(vs.#t||vs.#a){this._setupFakeWorker();return}let{workerSrc:e}=vs;try{vs._isSameOrigin(window.location.href,e)||(e=vs._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new S_("main","worker",n),i=()=>{a.abort(),r.destroy(),n.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},a=new AbortController;n.addEventListener("error",()=>{this._webWorker||i()},{signal:a.signal}),r.on("test",o=>{if(a.abort(),this.destroyed||!o){i();return}this._messageHandler=r,this._port=n,this._webWorker=n,this.#r()}),r.on("ready",o=>{if(a.abort(),this.destroyed){i();return}try{s()}catch{this._setupFakeWorker()}});const s=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};s();return}catch{DR("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){vs.#t||(mr("Setting up fake worker."),vs.#t=!0),vs._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const n=new JJe;this._port=n;const r=`fake${vs.#e++}`,i=new S_(r+"_worker",r,n);e.setup(i,n),this._messageHandler=new S_(r,r+"_worker",n),this.#r()}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){this.destroyed=!0,this._webWorker?.terminate(),this._webWorker=null,vs.#n?.delete(this._port),this._port=null,this._messageHandler?.destroy(),this._messageHandler=null}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const n=this.#n?.get(e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new vs(e)}static get workerSrc(){if(K_.workerSrc)return K_.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#a(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return Er(this,"_setupFakeWorkerGlobal",(async()=>this.#a?this.#a:(await import(this.workerSrc)).WorkerMessageHandler)())}}class eet{#e=new Map;#t=new Map;#n=new Map;#r=new Map;#a=null;constructor(e,n,r,i,a){this.messageHandler=e,this.loadingTask=n,this.commonObjs=new bve,this.fontLoader=new JQe({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#i(e,n=null){const r=this.#e.get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return this.#e.set(e,i),i}get annotationStorage(){return Er(this,"annotationStorage",new Zz)}getRenderingIntent(e,n=dm.ENABLE,r=null,i=!1,a=!1){let s=Hl.DISPLAY,o=E8;switch(e){case"any":s=Hl.ANY;break;case"display":break;case"print":s=Hl.PRINT;break;default:mr(`getRenderingIntent - invalid intent: ${e}`)}const l=s&Hl.PRINT&&r instanceof rve?r:this.annotationStorage;switch(n){case dm.DISABLE:s+=Hl.ANNOTATIONS_DISABLE;break;case dm.ENABLE:break;case dm.ENABLE_FORMS:s+=Hl.ANNOTATIONS_FORMS;break;case dm.ENABLE_STORAGE:s+=Hl.ANNOTATIONS_STORAGE,o=l.serializable;break;default:mr(`getRenderingIntent - invalid annotationMode: ${n}`)}i&&(s+=Hl.IS_EDITING),a&&(s+=Hl.OPLIST);const{ids:u,hash:d}=l.modifiedIds,h=[s,o.hash,d];return{renderingIntent:s,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:u}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of this.#t.values())e.push(r._destroy());this.#t.clear(),this.#n.clear(),this.#r.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),Co.cleanup(),this._networkStream?.cancelAllRequests(new $m("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{$a(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},i.onPull=()=>{this._fullReader.read().then(function({value:a,done:s}){if(s){i.close();return}$a(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{this._fullReader.cancel(a),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",async r=>{await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:a,contentLength:s}=this._fullReader;return(!i||!a)&&(this._lastProgress&&n.onProgress?.(this._lastProgress),this._fullReader.onProgress=o=>{n.onProgress?.({loaded:o.loaded,total:o.total})}),{isStreamingSupported:i,isRangeSupported:a,contentLength:s}}),e.on("GetRangeReader",(r,i)=>{$a(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(r.begin,r.end);if(!a){i.close();return}i.onPull=()=>{a.read().then(function({value:s,done:o}){if(o){i.close();return}$a(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{a.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new ZJe(r,this))}),e.on("DocException",r=>{n._capability.reject(ul(r))}),e.on("PasswordRequest",r=>{this.#a=Promise.withResolvers();try{if(!n.onPassword)throw ul(r);const i=a=>{a instanceof Error?this.#a.reject(a):this.#a.resolve({password:a})};n.onPassword(i,r.code)}catch(i){this.#a.reject(i)}return this.#a.promise}),e.on("DataLoaded",r=>{n.onProgress?.({loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;this.#t.get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,a])=>{if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:s,fontExtraProperties:o,pdfBug:l}=this._params;if("error"in a){const p=a.error;mr(`Error during font loading: ${p}`),this.commonObjs.resolve(r,p);break}const u=l&&globalThis.FontInspector?.enabled?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,d=new eJe(a,{disableFontFace:s,fontExtraProperties:o,inspectFont:u});this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!o&&d.data&&(d.data=null),this.commonObjs.resolve(r,d)});break;case"CopyLocalImage":const{imageRef:h}=a;$a(h,"The imageRef must be defined.");for(const p of this.#t.values())for(const[,m]of p.objs)if(m?.ref===h)return m.dataLen?(this.commonObjs.resolve(r,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,a);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,a,s])=>{if(this.destroyed)return;const o=this.#t.get(i);if(!o.objs.has(r)){if(o._intentStates.size===0){s?.bitmap?.close();return}switch(a){case"Image":o.objs.resolve(r,s),s?.dataLen>RQe&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(r,s);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",r=>{this.destroyed||n.onProgress?.({loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(r)}),e.on("FetchStandardFontData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&mr("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=this.#n.get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&this.#r.set(a.refStr,e);const s=new QJe(n,a,this,this._params.pdfBug);return this.#t.set(n,s),s});return this.#n.set(n,i),i}getPageIndex(e){return xie(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return this.#i("GetFieldObjects")}hasJSActions(){return this.#i("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#i("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#i("GetOptionalContentConfig").then(n=>new SJe(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=this.#e.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>({info:i[0],metadata:i[1]?new wJe(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of this.#t.values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),Co.cleanup()}}cachedPageNumber(e){if(!xie(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#r.get(n)??null}}const Iw=Symbol("INITIAL_DATA");class bve{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:Iw}}get(e,n=null){if(n){const i=this.#t(e);return i.promise.then(()=>n(i.data)),null}const r=this.#e[e];if(!r||r.data===Iw)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=this.#e[e];return!!n&&n.data!==Iw}delete(e){const n=this.#e[e];return!n||n.data===Iw?!1:(delete this.#e[e],!0)}resolve(e,n=null){const r=this.#t(e);r.data=n,r.resolve()}clear(){for(const e in this.#e){const{data:n}=this.#e[e];n?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:n}=this.#e[e];n!==Iw&&(yield[e,n])}}}class tet{#e=null;constructor(e){this.#e=e,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:n}=this.#e;return e.form||e.canvas&&n?.size>0}}class fb{#e=null;static#t=new WeakSet;constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:a,operatorList:s,pageIndex:o,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:p=null}){this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=h,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new tet(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){if(this.cancelled)return;if(this._canvas){if(fb.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");fb.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:a,background:s}=this.params;this.gfx=new Cb(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,n=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),fb.#t.delete(this._canvas),this.callback(e||new Gz(`Rendering cancelled, page ${this._pageIndex+1}`,n))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),fb.#t.delete(this._canvas),this.callback())))}}const net="4.10.38",ret="f9bea397f";function Eie(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function Nw(t){return Math.max(0,Math.min(255,255*t))}class kie{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Nw(e),[e,e,e]}static G_HTML([e]){const n=Eie(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(Nw)}static RGB_HTML(e){return`#${e.map(Eie).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[Nw(1-Math.min(1,e+i)),Nw(1-Math.min(1,r+i)),Nw(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,a=1-n,s=1-r,o=Math.min(i,a,s);return["CMYK",i,a,s,o]}}class iet{create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Ai("Abstract method `_createSVG` called.")}}class t$ extends iet{_createSVG(e){return document.createElementNS(of,e)}}class vve{static setupStorage(e,n,r,i,a){const s=i.getValue(n,{value:null});switch(r.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),a==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(s.value===r.attributes.xfaOn?e.setAttribute("checked",!0):s.value===r.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",o=>{i.setValue(n,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),a==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(const o of r.children)o.attributes.value===s.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(n,{value:u})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:a}){const{attributes:s}=n,o=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${i}`);for(const[l,u]of Object.entries(s))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}o&&a.addLinkAttributes(e,s.href,s.newWindow),r&&s.dataId&&this.setupStorage(e,s.dataId,n,r)}static render(e){const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,a=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:a,linkService:r});const o=a!=="richText",l=e.div;if(l.append(s),e.viewport){const h=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=h}o&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const h=document.createTextNode(i.value);s.append(h),o&&V1.shouldBuildText(i.name)&&u.push(h)}return{textDivs:u}}const d=[[i,-1,s]];for(;d.length>0;){const[h,p,m]=d.at(-1);if(p+1===h.children.length){d.pop();continue}const v=h.children[++d.at(-1)[1]];if(v===null)continue;const{name:w}=v;if(w==="#text"){const T=document.createTextNode(v.value);u.push(T),m.append(T);continue}const k=v?.attributes?.xmlns?document.createElementNS(v.attributes.xmlns,w):document.createElement(w);if(m.append(k),v.attributes&&this.setAttributes({html:k,element:v,storage:n,intent:a,linkService:r}),v.children?.length>0)d.push([v,-1,k]);else if(v.value){const T=document.createTextNode(v.value);o&&V1.shouldBuildText(w)&&u.push(T),k.append(T)}}for(const h of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const XS=1e3,aet=9,k0=new WeakSet;function Sm(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class set{static create(e){switch(e.data.annotationType){case Ya.LINK:return new wve(e);case Ya.TEXT:return new oet(e);case Ya.WIDGET:switch(e.data.fieldType){case"Tx":return new uet(e);case"Btn":return e.data.radioButton?new _ve(e):e.data.checkBox?new det(e):new het(e);case"Ch":return new fet(e);case"Sig":return new cet(e)}return new L0(e);case Ya.POPUP:return new T8(e);case Ya.FREETEXT:return new Sve(e);case Ya.LINE:return new met(e);case Ya.SQUARE:return new get(e);case Ya.CIRCLE:return new yet(e);case Ya.POLYLINE:return new xve(e);case Ya.CARET:return new vet(e);case Ya.INK:return new n$(e);case Ya.POLYGON:return new bet(e);case Ya.HIGHLIGHT:return new Eve(e);case Ya.UNDERLINE:return new wet(e);case Ya.SQUIGGLY:return new _et(e);case Ya.STRIKEOUT:return new xet(e);case Ya.STAMP:return new kve(e);case Ya.FILEATTACHMENT:return new Eet(e);default:return new Ca(e)}}}class Ca{#e=null;#t=!1;#n=null;constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,n&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:n,richText:r}){return!!(e?.str||n?.str||r?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Ca._hasPopupData(this.data)}updateEdited(e){if(!this.container)return;this.#e||={rect:this.data.rect.slice(0)};const{rect:n}=e;n&&this.#r(n),this.#n?.popup.updateEdited(e)}resetEdited(){this.#e&&(this.#r(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#r(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:s,pageX:o,pageY:l}}}}=this;r?.splice(0,4,...e);const{width:u,height:d}=Sm(e);n.left=`${100*(e[0]-o)/a}%`,n.top=`${100*(s-e[3]+l)/s}%`,i===0?(n.width=`${100*u/a}%`,n.height=`${100*d/s}%`):this.setRotation(i)}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",n.id),this instanceof L0||(a.tabIndex=XS);const{style:s}=a;if(s.zIndex=this.parent.zIndex++,n.alternativeText&&(a.title=n.alternativeText),n.noRotate&&a.classList.add("norotate"),!n.rect||this instanceof T8){const{rotation:w}=n;return!n.hasOwnCanvas&&w!==0&&this.setRotation(w,a),a}const{width:o,height:l}=Sm(n.rect);if(!e&&n.borderStyle.width>0){s.borderWidth=`${n.borderStyle.width}px`;const w=n.borderStyle.horizontalCornerRadius,k=n.borderStyle.verticalCornerRadius;if(w>0||k>0){const C=`calc(${w}px * var(--scale-factor)) / calc(${k}px * var(--scale-factor))`;s.borderRadius=C}else if(this instanceof _ve){const C=`calc(${o}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;s.borderRadius=C}switch(n.borderStyle.style){case Cw.SOLID:s.borderStyle="solid";break;case Cw.DASHED:s.borderStyle="dashed";break;case Cw.BEVELED:mr("Unimplemented border style: beveled");break;case Cw.INSET:mr("Unimplemented border style: inset");break;case Cw.UNDERLINE:s.borderBottomStyle="solid";break}const T=n.borderColor||null;T?(this.#t=!0,s.borderColor=Nn.makeHexColor(T[0]|0,T[1]|0,T[2]|0)):s.borderWidth=0}const u=Nn.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:d,pageHeight:h,pageX:p,pageY:m}=i.rawDims;s.left=`${100*(u[0]-p)/d}%`,s.top=`${100*(u[1]-m)/h}%`;const{rotation:v}=n;return n.hasOwnCanvas||v===0?(s.width=`${100*o/d}%`,s.height=`${100*l/h}%`):this.setRotation(v,a),a}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:a,height:s}=Sm(this.data.rect);let o,l;e%180===0?(o=100*a/r,l=100*s/i):(o=100*s/r,l=100*a/i),n.style.width=`${o}%`,n.style.height=`${l}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const a=i.detail[n],s=a[0],o=a.slice(1);i.target.style[r]=kie[`${s}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:kie[`${s}_rgb`](o)})};return Er(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail))(e[i]||r[i])?.(n)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,a]of Object.entries(n)){const s=r[i];if(s){const o={detail:{[i]:a},target:e};s(o),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,a]=this.data.rect.map(w=>Math.fround(w));if(e.length===8){const[w,k,T,C]=e.subarray(2,6);if(i===w&&a===k&&n===T&&r===C)return}const{style:s}=this.container;let o;if(this.#t){const{borderColor:w,borderWidth:k}=s;s.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${k}">`],this.container.classList.add("hasBorder")}const l=i-n,u=a-r,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);const p=d.createElement("defs");h.append(p);const m=d.createElement("clipPath"),v=`clippath_${this.data.id}`;m.setAttribute("id",v),m.setAttribute("clipPathUnits","objectBoundingBox"),p.append(m);for(let w=2,k=e.length;w<k;w+=8){const T=e[w],C=e[w+1],N=e[w+2],F=e[w+3],D=d.createElement("rect"),U=(N-n)/l,G=(a-C)/u,se=(T-N)/l,re=(C-F)/u;D.setAttribute("x",U),D.setAttribute("y",G),D.setAttribute("width",se),D.setAttribute("height",re),m.append(D),o?.push(`<rect vector-effect="non-scaling-stroke" x="${U}" y="${G}" width="${se}" height="${re}"/>`)}this.#t&&(o.push("</g></svg>')"),s.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${v})`}_createPopup(){const{data:e}=this,n=this.#n=new T8({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]});this.parent.div.append(n.render())}render(){Ai("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:a,id:s,exportValues:o}of i){if(a===-1||s===n)continue;const l=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${s}"]`);if(u&&!k0.has(u)){mr(`_getElementsByName - element not allowed: ${s}`);continue}r.push({id:s,exportValue:l,domElement:u})}return r}for(const i of document.getElementsByName(e)){const{exportValue:a}=i,s=i.getAttribute("data-element-id");s!==n&&k0.has(i)&&r.push({id:s,exportValue:a,domElement:i})}return r}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n})})}}class wve extends Ca{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!n?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let i=!1;return e.url?(n.addLinkAttributes(r,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(r,e.action),i=!0):e.attachment?(this.#t(r,e.attachment,e.attachmentDest),i=!0):e.setOCGState?(this.#n(r,e.setOCGState),i=!0):e.dest?(this._bindLink(r,e.dest),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),i=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(r,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(r),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,n){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&this.#e()}_bindNamedAction(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),this.#e()}#t(e,n,r=null){e.href=this.linkService.getAnchorUrl(""),n.description&&(e.title=n.description),e.onclick=()=>(this.downloadManager?.openOrDownloadData(n.content,n.filename,r),!1),this.#e()}#n(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),this.#e()}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(n.actions)){const a=r.get(i);a&&(e[a]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:i}}),!1))}e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,n){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){mr('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{r?.();const{fields:i,refs:a,include:s}=n,o=[];if(i.length!==0||a.length!==0){const d=new Set(a);for(const h of i){const p=this._fieldObjects[h]||[];for(const{id:m}of p)d.add(m)}for(const h of Object.values(this._fieldObjects))for(const p of h)d.has(p.id)===s&&o.push(p)}else for(const d of Object.values(this._fieldObjects))o.push(...d);const l=this.annotationStorage,u=[];for(const d of o){const{id:h}=d;switch(u.push(h),d.type){case"text":{const m=d.defaultValue||"";l.setValue(h,{value:m});break}case"checkbox":case"radiobutton":{const m=d.defaultValue===d.exportValues;l.setValue(h,{value:m});break}case"combobox":case"listbox":{const m=d.defaultValue||"";l.setValue(h,{value:m});break}default:continue}const p=document.querySelector(`[data-element-id="${h}"]`);if(p){if(!k0.has(p)){mr(`_bindResetFormAction - element not allowed: ${h}`);continue}}else continue;p.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}}),!1}}}class oet extends Ca{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class L0 extends Ca{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Bo.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,a){r.includes("mouse")?e.addEventListener(r,s=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(r,s=>{if(r==="blur"){if(!n.focused||!s.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}a&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s)}})})}_setEventListeners(e,n,r,i){for(const[a,s]of r)(s==="Action"||this.data.actions?.[s])&&((s==="Focus"||s==="Blur")&&(n||={focused:!1}),this._setEventListener(e,n,a,s,i),s==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,n,"blur","Blur",null):s==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":Nn.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||aet,a=e.style;let s;const o=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(u/(FD*i))||1,h=u/d;s=Math.min(i,l(h/FD))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);s=Math.min(i,l(u/FD))}a.fontSize=`calc(${s}px * var(--scale-factor))`,a.color=Nn.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(a.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class uet extends L0{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const a=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[n]=r),a.setValue(s.id,{[i]:r})}render(){const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const i=e.getValue(n,{value:this.data.fieldValue});let a=i.value||"";const s=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;s&&a.length>s&&(a=a.slice(0,s));let o=i.formattedValue||this.data.textContent?.join(`
`)||null;o&&this.data.comb&&(o=o.replaceAll(/\s+/g,""));const l={userValue:a,formattedValue:o,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=o??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",o??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),k0.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=XS,this._setRequired(r,this.data.required),s&&(r.maxLength=s),r.addEventListener("input",d=>{e.setValue(n,{value:d.target.value}),this.setPropertyOnSiblings(r,"value",d.target.value,"value"),l.formattedValue=null}),r.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue??"";r.value=l.userValue=h,l.formattedValue=null});let u=d=>{const{formattedValue:h}=l;h!=null&&(d.target.value=h),d.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",h=>{if(l.focused)return;const{target:p}=h;l.userValue&&(p.value=l.userValue),l.lastCommittedValue=p.value,l.commitKey=1,this.data.actions?.Focus||(l.focused=!0)}),r.addEventListener("updatefromsandbox",h=>{this.showElementAndHideCanvas(h.target);const p={value(m){l.userValue=m.detail.value??"",e.setValue(n,{value:l.userValue.toString()}),m.target.value=l.userValue},formattedValue(m){const{formattedValue:v}=m.detail;l.formattedValue=v,v!=null&&m.target!==document.activeElement&&(m.target.value=v),e.setValue(n,{formattedValue:v})},selRange(m){m.target.setSelectionRange(...m.detail.selRange)},charLimit:m=>{const{charLimit:v}=m.detail,{target:w}=m;if(v===0){w.removeAttribute("maxLength");return}w.setAttribute("maxLength",v);let k=l.userValue;!k||k.length<=v||(k=k.slice(0,v),w.value=l.userValue=k,e.setValue(n,{value:k}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:k,willCommit:!0,commitKey:1,selStart:w.selectionStart,selEnd:w.selectionEnd}}))}};this._dispatchEventFromSandbox(p,h)}),r.addEventListener("keydown",h=>{l.commitKey=1;let p=-1;if(h.key==="Escape"?p=0:h.key==="Enter"&&!this.data.multiLine?p=2:h.key==="Tab"&&(l.commitKey=3),p===-1)return;const{value:m}=h.target;l.lastCommittedValue!==m&&(l.lastCommittedValue=m,l.userValue=m,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:m,willCommit:!0,commitKey:p,selStart:h.target.selectionStart,selEnd:h.target.selectionEnd}}))});const d=u;u=null,r.addEventListener("blur",h=>{if(!l.focused||!h.relatedTarget)return;this.data.actions?.Blur||(l.focused=!1);const{value:p}=h.target;l.userValue=p,l.lastCommittedValue!==p&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:p,willCommit:!0,commitKey:l.commitKey,selStart:h.target.selectionStart,selEnd:h.target.selectionEnd}}),d(h)}),this.data.actions?.Keystroke&&r.addEventListener("beforeinput",h=>{l.lastCommittedValue=null;const{data:p,target:m}=h,{value:v,selectionStart:w,selectionEnd:k}=m;let T=w,C=k;switch(h.inputType){case"deleteWordBackward":{const N=v.substring(0,w).match(/\w*[^\w]*$/);N&&(T-=N[0].length);break}case"deleteWordForward":{const N=v.substring(w).match(/^[^\w]*\w*/);N&&(C+=N[0].length);break}case"deleteContentBackward":w===k&&(T-=1);break;case"deleteContentForward":w===k&&(C+=1);break}h.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:v,change:p||"",willCommit:!1,selStart:T,selEnd:C}})}),this._setEventListeners(r,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.value)}if(u&&r.addEventListener("blur",u),this.data.comb){const h=(this.data.rect[2]-this.data.rect[0])/s;r.classList.add("comb"),r.style.letterSpacing=`calc(${h}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class cet extends L0{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class det extends L0{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return k0.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",n.exportValue),a.tabIndex=XS,a.addEventListener("change",s=>{const{name:o,checked:l}=s.target;for(const u of this._getElementsByName(o,r)){const d=l&&u.exportValue===n.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(r,{value:l})}),a.addEventListener("resetform",s=>{const o=n.defaultFieldValue||"Off";s.target.checked=o===n.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",s=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,s)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class _ve extends L0{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const s of this._getElementsByName(n.fieldName,r))e.setValue(s.id,{value:!1});const a=document.createElement("input");if(k0.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=XS,a.addEventListener("change",s=>{const{name:o,checked:l}=s.target;for(const u of this._getElementsByName(o,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:l})}),a.addEventListener("resetform",s=>{const o=n.defaultFieldValue;s.target.checked=o!=null&&o===n.buttonValue}),this.enableScripting&&this.hasJSActions){const s=n.buttonValue;a.addEventListener("updatefromsandbox",o=>{const l={value:u=>{const d=s===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const p=d&&h.id===r;h.domElement&&(h.domElement.checked=p),e.setValue(h.id,{value:p})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class het extends wve{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class fet extends L0{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");k0.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=XS;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const p of i.options)p.selected=p.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,r.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),a=!1),i.append(h)}let s=null;if(a){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),s=()=>{d.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}const o=d=>{const h=d?"value":"textContent",{options:p,multiple:m}=i;return m?Array.prototype.filter.call(p,v=>v.selected).map(v=>v[h]):p.selectedIndex===-1?null:p[p.selectedIndex][h]};let l=o(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,p=>({displayValue:p.textContent,exportValue:p.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const h={value(p){s?.();const m=p.detail.value,v=new Set(Array.isArray(m)?m:[m]);for(const w of i.options)w.selected=v.has(w.value);e.setValue(n,{value:o(!0)}),l=o(!1)},multipleSelection(p){i.multiple=!0},remove(p){const m=i.options,v=p.detail.remove;m[v].selected=!1,i.remove(v),m.length>0&&Array.prototype.findIndex.call(m,k=>k.selected)===-1&&(m[0].selected=!0),e.setValue(n,{value:o(!0),items:u(p)}),l=o(!1)},clear(p){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),l=o(!1)},insert(p){const{index:m,displayValue:v,exportValue:w}=p.detail.insert,k=i.children[m],T=document.createElement("option");T.textContent=v,T.value=w,k?k.before(T):i.append(T),e.setValue(n,{value:o(!0),items:u(p)}),l=o(!1)},items(p){const{items:m}=p.detail;for(;i.length!==0;)i.remove(0);for(const v of m){const{displayValue:w,exportValue:k}=v,T=document.createElement("option");T.textContent=w,T.value=k,i.append(T)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:o(!0),items:u(p)}),l=o(!1)},indices(p){const m=new Set(p.detail.indices);for(const v of p.target.options)v.selected=m.has(v.index);e.setValue(n,{value:o(!0)}),l=o(!1)},editable(p){p.target.disabled=!p.detail.editable}};this._dispatchEventFromSandbox(h,d)}),i.addEventListener("input",d=>{const h=o(!0),p=o(!1);e.setValue(n,{value:h}),d.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:l,change:p,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){e.setValue(n,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class T8 extends Ca{constructor(e){const{data:n,elements:r}=e;super(e,{isRenderable:Ca._hasPopupData(n)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new pet({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${Vz}${r}`).join(",")),this.container}}class pet{#e=this.#T.bind(this);#t=this.#A.bind(this);#n=this.#C.bind(this);#r=this.#E.bind(this);#a=null;#i=null;#l=null;#s=null;#c=null;#u=null;#h=null;#d=!1;#f=null;#o=null;#p=null;#g=null;#m=null;#y=null;#v=!1;constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:a,contentsObj:s,richText:o,parent:l,rect:u,parentRect:d,open:h}){this.#i=e,this.#m=i,this.#l=s,this.#g=o,this.#u=l,this.#a=n,this.#p=u,this.#h=d,this.#c=r,this.#s=tve.toDateObject(a),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",this.#r),p.addEventListener("mouseenter",this.#n),p.addEventListener("mouseleave",this.#t),p.classList.add("popupTriggerArea");for(const p of r)p.container?.addEventListener("keydown",this.#e);this.#i.hidden=!0,h&&this.#E()}render(){if(this.#f)return;const e=this.#f=document.createElement("div");if(e.className="popup",this.#a){const a=e.style.outlineColor=Nn.makeHexColor(...this.#a);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`:e.style.backgroundColor=Nn.makeHexColor(...this.#a.map(o=>Math.floor(.7*(255-o)+o)))}const n=document.createElement("span");n.className="header";const r=document.createElement("h1");if(n.append(r),{dir:r.dir,str:r.textContent}=this.#m,e.append(n),this.#s){const a=document.createElement("span");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#s.valueOf()})),n.append(a)}const i=this.#b;if(i)vve.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(this.#l);e.append(a)}this.#i.append(e)}get#b(){const e=this.#g,n=this.#l;return e?.str&&(!n?.str||n.str===e.str)&&this.#g.html||null}get#_(){return this.#b?.attributes?.style?.fontSize||0}get#S(){return this.#b?.attributes?.style?.color||null}#x(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:this.#S,fontSize:this.#_?`calc(${this.#_}px * var(--scale-factor))`:""}};for(const a of e.split(`
`))n.push({name:"span",value:a,attributes:i});return r}_formatContents({str:e,dir:n}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;const i=e.split(/(?:\r\n?|\n)/);for(let a=0,s=i.length;a<s;++a){const o=i[a];r.append(document.createTextNode(o)),a<s-1&&r.append(document.createElement("br"))}return r}#T(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#d)&&this.#E()}updateEdited({rect:e,popupContent:n}){this.#y||={contentsObj:this.#l,richText:this.#g},e&&(this.#o=null),n&&(this.#g=this.#x(n),this.#l=null),this.#f?.remove(),this.#f=null}resetEdited(){this.#y&&({contentsObj:this.#l,richText:this.#g}=this.#y,this.#y=null,this.#f?.remove(),this.#f=null,this.#o=null)}#R(){if(this.#o!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:a}}}=this.#u;let s=!!this.#h,o=s?this.#h:this.#p;for(const v of this.#c)if(!o||Nn.intersect(v.data.rect,o)!==null){o=v.data.rect,s=!0;break}const l=Nn.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=s?o[2]-o[0]+5:0,h=l[0]+d,p=l[1];this.#o=[100*(h-i)/n,100*(p-a)/r];const{style:m}=this.#i;m.left=`${this.#o[0]}%`,m.top=`${this.#o[1]}%`}#E(){this.#d=!this.#d,this.#d?(this.#C(),this.#i.addEventListener("click",this.#r),this.#i.addEventListener("keydown",this.#e)):(this.#A(),this.#i.removeEventListener("click",this.#r),this.#i.removeEventListener("keydown",this.#e))}#C(){this.#f||this.render(),this.isVisible?this.#d&&this.#i.classList.add("focused"):(this.#R(),this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#A(){this.#i.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#v=this.isVisible,this.#v&&(this.#i.hidden=!0)}maybeShow(){this.#v&&(this.#f||this.#C(),this.#v=!1,this.#i.hidden=!1)}get isVisible(){return this.#i.hidden===!1}}class Sve extends Ca{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=pr.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class met extends Ca{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:n,height:r}=Sm(e.rect),i=this.svgFactory.create(n,r,!0),a=this.#e=this.svgFactory.createElement("svg:line");return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class get extends Ca{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:n,height:r}=Sm(e.rect),i=this.svgFactory.create(n,r,!0),a=e.borderStyle.width,s=this.#e=this.svgFactory.createElement("svg:rect");return s.setAttribute("x",a/2),s.setAttribute("y",a/2),s.setAttribute("width",n-a),s.setAttribute("height",r-a),s.setAttribute("stroke-width",a||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class yet extends Ca{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:n,height:r}=Sm(e.rect),i=this.svgFactory.create(n,r,!0),a=e.borderStyle.width,s=this.#e=this.svgFactory.createElement("svg:ellipse");return s.setAttribute("cx",n/2),s.setAttribute("cy",r/2),s.setAttribute("rx",n/2-a/2),s.setAttribute("ry",r/2-a/2),s.setAttribute("stroke-width",a||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class xve extends Ca{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:r,popupRef:i}}=this;if(!n)return this.container;const{width:a,height:s}=Sm(e),o=this.svgFactory.create(a,s,!0);let l=[];for(let d=0,h=n.length;d<h;d+=2){const p=n[d]-e[0],m=e[3]-n[d+1];l.push(`${p},${m}`)}l=l.join(" ");const u=this.#e=this.svgFactory.createElement(this.svgElementName);return u.setAttribute("points",l),u.setAttribute("stroke-width",r.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),o.append(u),this.container.append(o),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class bet extends xve{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class vet extends Ca{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class n$ extends Ca{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?pr.HIGHLIGHT:pr.INK}#n(e,n){switch(e){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:n,inkLists:r,borderStyle:i,popupRef:a}}=this,{transform:s,width:o,height:l}=this.#n(n,e),u=this.svgFactory.create(o,l,!0),d=this.#e=this.svgFactory.createElement("svg:g");u.append(d),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",s);for(let h=0,p=r.length;h<p;h++){const m=this.svgFactory.createElement(this.svgElementName);this.#t.push(m),m.setAttribute("points",r[h].join(",")),d.append(m)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(u),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:n,points:r,rect:i}=e,a=this.#e;if(n>=0&&a.setAttribute("stroke-width",n||1),r)for(let s=0,o=this.#t.length;s<o;s++)this.#t[s].setAttribute("points",r[s].join(","));if(i){const{transform:s,width:o,height:l}=this.#n(this.data.rotation,i);a.parentElement.setAttribute("viewBox",`0 0 ${o} ${l}`),a.setAttribute("transform",s)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Eve extends Ca{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=pr.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class wet extends Ca{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class _et extends Ca{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class xet extends Ca{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class kve extends Ca{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=pr.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class Eet extends Ca{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:n}=this.data;this.filename=n.filename,this.content=n.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",this.#t.bind(this)),this.#e=r;const{isMac:i}=Bo.platform;return e.addEventListener("keydown",a=>{a.key==="Enter"&&(i?a.metaKey:a.ctrlKey)&&this.#t()}),!n.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class ket{#e=null;#t=null;#n=new Map;#r=null;constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:a,viewport:s,structTreeLayer:o}){this.div=e,this.#e=n,this.#t=r,this.#r=o||null,this.page=a,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return this.#n.size>0}async#a(e,n){const r=e.firstChild||e,i=r.id=`${Vz}${n}`,a=await this.#r?.getAriaAttributes(i);if(a)for(const[s,o]of a)r.setAttribute(s,o);this.div.append(e),this.#e?.moveElementInDOM(this.div,e,r,!1)}async render(e){const{annotations:n}=e,r=this.div;E0(r,this.viewport);const i=new Map,a={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new t$,annotationStorage:e.annotationStorage||new Zz,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const s of n){if(s.noHTML)continue;const o=s.annotationType===Ya.POPUP;if(o){const d=i.get(s.id);if(!d)continue;a.elements=d}else{const{width:d,height:h}=Sm(s.rect);if(d<=0||h<=0)continue}a.data=s;const l=set.create(a);if(!l.isRenderable)continue;if(!o&&s.popupRef){const d=i.get(s.popupRef);d?d.push(l):i.set(s.popupRef,[l])}const u=l.render();s.hidden&&(u.style.visibility="hidden"),await this.#a(u,s.id),l._isEditable&&(this.#n.set(l.data.id,l),this._annotationEditorUIManager?.renderAnnotationElement(l))}this.#i()}update({viewport:e}){const n=this.div;this.viewport=e,E0(n,{rotation:e.rotation}),this.#i(),n.hidden=!1}#i(){if(!this.#t)return;const e=this.div;for(const[n,r]of this.#t){const i=e.querySelector(`[data-annotation-id="${n}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:a}=i;a?a.nodeName==="CANVAS"?a.replaceWith(r):a.classList.contains("annotationContent")?a.after(r):a.before(r):i.append(r)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}}const DE=/\r\n?|\n/g;class Za extends Vn{#e;#t="";#n=`${this.id}-editor`;#r=null;#a;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=Za.prototype,n=a=>a.isEmpty(),r=qm.TRANSLATE_SMALL,i=qm.TRANSLATE_BIG;return Er(this,"_keyboardManager",new YS([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:n}]]))}static _type="freetext";static _editorType=pr.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.#e=e.color||Za._defaultColor||Vn._defaultLineColor,this.#a=e.fontSize||Za._defaultFontSize}static initialize(e,n){Vn.initialize(e,n);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case jr.FREETEXT_SIZE:Za._defaultFontSize=n;break;case jr.FREETEXT_COLOR:Za._defaultColor=n;break}}updateParams(e,n){switch(e){case jr.FREETEXT_SIZE:this.#i(n);break;case jr.FREETEXT_COLOR:this.#l(n);break}}static get defaultPropertiesToUpdate(){return[[jr.FREETEXT_SIZE,Za._defaultFontSize],[jr.FREETEXT_COLOR,Za._defaultColor||Vn._defaultLineColor]]}get propertiesToUpdate(){return[[jr.FREETEXT_SIZE,this.#a],[jr.FREETEXT_COLOR,this.#e]]}#i(e){const n=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--scale-factor))`,this.translate(0,-(i-this.#a)*this.parentScale),this.#a=i,this.#c()},r=this.#a;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:jr.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#l(e){const n=i=>{this.#e=this.editorDiv.style.color=i},r=this.#e;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:jr.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-Za._internalPadding*e,-(Za._internalPadding+this.#a)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(pr.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#r=new AbortController;const e=this._uiManager.combinedSignal(this.#r);this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#r?.abort(),this.#r=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#s(){const e=[];this.editorDiv.normalize();let n=null;for(const r of this.editorDiv.childNodes)n?.nodeType===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push(Za.#u(r)),n=r);return e.join(`
`)}#c(){const[e,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:i,div:a}=this,s=a.style.display,o=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",i.div.append(this.div),r=a.getBoundingClientRect(),a.remove(),a.style.display=s,a.classList.toggle("hidden",o)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/n):(this.width=r.height/e,this.height=r.width/n),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#t,n=this.#t=this.#s().trimEnd();if(e===n)return;const r=i=>{if(this.#t=i,!i){this.remove();return}this.#h(),this._uiManager.rebuild(this),this.#c()};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(e)},mustExec:!1}),this.#c()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Za._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${this.#a}px * var(--scale-factor))`,r.color=this.#e,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),sA(this,this.div,["dblclick","keydown"]),this.width){const[i,a]=this.parentDimensions;if(this.annotationElementId){const{position:s}=this._initialData;let[o,l]=this.getInitialTranslation();[o,l]=this.pageTranslationToScreen(o,l);const[u,d]=this.pageDimensions,[h,p]=this.pageTranslation;let m,v;switch(this.rotation){case 0:m=e+(s[0]-h)/u,v=n+this.height-(s[1]-p)/d;break;case 90:m=e+(s[0]-h)/u,v=n-(s[1]-p)/d,[o,l]=[l,-o];break;case 180:m=e-this.width+(s[0]-h)/u,v=n-(s[1]-p)/d,[o,l]=[-o,-l];break;case 270:m=e+(s[0]-h-this.height*d)/u,v=n+(s[1]-p-this.width*u)/d,[o,l]=[-l,o];break}this.setAt(m*i,v*a,o,l)}else this.setAt(e*i,n*a,this.width*i,this.height*a);this.#h(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#u(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(DE,"")}editorDivPaste(e){const n=e.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const i=Za.#f(n.getData("text")||"").replaceAll(DE,`
`);if(!i)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const s=a.getRangeAt(0);if(!i.includes(`
`)){s.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:o,startOffset:l}=s,u=[],d=[];if(o.nodeType===Node.TEXT_NODE){const m=o.parentElement;if(d.push(o.nodeValue.slice(l).replaceAll(DE,"")),m!==this.editorDiv){let v=u;for(const w of this.editorDiv.childNodes){if(w===m){v=d;continue}v.push(Za.#u(w))}}u.push(o.nodeValue.slice(0,l).replaceAll(DE,""))}else if(o===this.editorDiv){let m=u,v=0;for(const w of this.editorDiv.childNodes)v++===l&&(m=d),m.push(Za.#u(w))}this.#t=`${u.join(`
`)}${i}${d.join(`
`)}`,this.#h();const h=new Range;let p=u.reduce((m,v)=>m+v.length,0);for(const{firstChild:m}of this.editorDiv.childNodes)if(m.nodeType===Node.TEXT_NODE){const v=m.nodeValue.length;if(p<=v){h.setStart(m,p),h.setEnd(m,p);break}p-=v}a.removeAllRanges(),a.addRange(h)}#h(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const e of this.#t.split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}}#d(){return this.#t.replaceAll(" "," ")}static#f(e){return e.replaceAll(" "," ")}get contentDiv(){return this.editorDiv}static async deserialize(e,n,r){let i=null;if(e instanceof Sve){const{data:{defaultAppearanceData:{fontSize:s,fontColor:o},rect:l,rotation:u,id:d,popupRef:h},textContent:p,textPosition:m,parent:{page:{pageNumber:v}}}=e;if(!p||p.length===0)return null;i=e={annotationType:pr.FREETEXT,color:Array.from(o),fontSize:s,value:p.join(`
`),position:m,pageIndex:v-1,rect:l.slice(0),rotation:u,id:d,deleted:!1,popupRef:h}}const a=await super.deserialize(e,n,r);return a.#a=e.fontSize,a.#e=Nn.makeHexColor(...e.color),a.#t=Za.#f(e.value),a.annotationElementId=e.id||null,a._initialData=i,a}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Za._internalPadding*this.parentScale,r=this.getRect(n,n),i=Vn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#e),a={annotationType:pr.FREETEXT,color:i,fontSize:this.#a,value:this.#d(),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?a:this.annotationElementId&&!this.#o(a)?null:(a.id=this.annotationElementId,a)}#o(e){const{value:n,fontSize:r,color:i,pageIndex:a}=this._initialData;return this._hasBeenMoved||e.value!==n||e.fontSize!==r||e.color.some((s,o)=>s!==i[o])||e.pageIndex!==a}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(this.deleted)return n;const{style:r}=n;r.fontSize=`calc(${this.#a}px * var(--scale-factor))`,r.color=this.#e,n.replaceChildren();for(const a of this.#t.split(`
`)){const s=document.createElement("div");s.append(a?document.createTextNode(a):document.createElement("br")),n.append(s)}const i=Za._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(i,i),popupContent:this.#t}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class yn{static PRECISION=1e-4;toSVGPath(){Ai("Abstract method `toSVGPath` must be implemented.")}get box(){Ai("Abstract getter `box` must be implemented.")}serialize(e,n){Ai("Abstract method `serialize` must be implemented.")}static _rescale(e,n,r,i,a,s){s||=new Float32Array(e.length);for(let o=0,l=e.length;o<l;o+=2)s[o]=n+e[o]*i,s[o+1]=r+e[o+1]*a;return s}static _rescaleAndSwap(e,n,r,i,a,s){s||=new Float32Array(e.length);for(let o=0,l=e.length;o<l;o+=2)s[o]=n+e[o+1]*i,s[o+1]=r+e[o]*a;return s}static _translate(e,n,r,i){i||=new Float32Array(e.length);for(let a=0,s=e.length;a<s;a+=2)i[a]=n+e[a],i[a+1]=r+e[a+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,r,i,a){switch(a){case 90:return[1-n/r,e/i];case 180:return[1-e/r,1-n/i];case 270:return[n/r,1-e/i];default:return[e/r,n/i]}}static _normalizePagePoint(e,n,r){switch(r){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,r,i,a,s){return[(e+5*r)/6,(n+5*i)/6,(5*r+a)/6,(5*i+s)/6,(r+a)/2,(i+s)/2]}}class i0{#e;#t=[];#n;#r;#a=[];#i=new Float32Array(18);#l;#s;#c;#u;#h;#d;#f=[];static#o=8;static#p=2;static#g=i0.#o+i0.#p;constructor({x:e,y:n},r,i,a,s,o=0){this.#e=r,this.#d=a*i,this.#r=s,this.#i.set([NaN,NaN,NaN,NaN,e,n],6),this.#n=o,this.#u=i0.#o*i,this.#c=i0.#g*i,this.#h=i,this.#f.push(e,n)}isEmpty(){return isNaN(this.#i[8])}#m(){const e=this.#i.subarray(4,6),n=this.#i.subarray(16,18),[r,i,a,s]=this.#e;return[(this.#l+(e[0]-n[0])/2-r)/a,(this.#s+(e[1]-n[1])/2-i)/s,(this.#l+(n[0]-e[0])/2-r)/a,(this.#s+(n[1]-e[1])/2-i)/s]}add({x:e,y:n}){this.#l=e,this.#s=n;const[r,i,a,s]=this.#e;let[o,l,u,d]=this.#i.subarray(8,12);const h=e-u,p=n-d,m=Math.hypot(h,p);if(m<this.#c)return!1;const v=m-this.#u,w=v/m,k=w*h,T=w*p;let C=o,N=l;o=u,l=d,u+=k,d+=T,this.#f?.push(e,n);const F=-T/v,D=k/v,U=F*this.#d,G=D*this.#d;return this.#i.set(this.#i.subarray(2,8),0),this.#i.set([u+U,d+G],4),this.#i.set(this.#i.subarray(14,18),12),this.#i.set([u-U,d-G],16),isNaN(this.#i[6])?(this.#a.length===0&&(this.#i.set([o+U,l+G],2),this.#a.push(NaN,NaN,NaN,NaN,(o+U-r)/a,(l+G-i)/s),this.#i.set([o-U,l-G],14),this.#t.push(NaN,NaN,NaN,NaN,(o-U-r)/a,(l-G-i)/s)),this.#i.set([C,N,o,l,u,d],6),!this.isEmpty()):(this.#i.set([C,N,o,l,u,d],6),Math.abs(Math.atan2(N-l,C-o)-Math.atan2(T,k))<Math.PI/2?([o,l,u,d]=this.#i.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((o+u)/2-r)/a,((l+d)/2-i)/s),[o,l,C,N]=this.#i.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((C+o)/2-r)/a,((N+l)/2-i)/s),!0):([C,N,o,l,u,d]=this.#i.subarray(0,6),this.#a.push(((C+5*o)/6-r)/a,((N+5*l)/6-i)/s,((5*o+u)/6-r)/a,((5*l+d)/6-i)/s,((o+u)/2-r)/a,((l+d)/2-i)/s),[u,d,o,l,C,N]=this.#i.subarray(12,18),this.#t.push(((C+5*o)/6-r)/a,((N+5*l)/6-i)/s,((5*o+u)/6-r)/a,((5*l+d)/6-i)/s,((o+u)/2-r)/a,((l+d)/2-i)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#a,n=this.#t;if(isNaN(this.#i[6])&&!this.isEmpty())return this.#y();const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);this.#b(r);for(let i=n.length-6;i>=6;i-=6)isNaN(n[i])?r.push(`L${n[i+4]} ${n[i+5]}`):r.push(`C${n[i]} ${n[i+1]} ${n[i+2]} ${n[i+3]} ${n[i+4]} ${n[i+5]}`);return this.#v(r),r.join(" ")}#y(){const[e,n,r,i]=this.#e,[a,s,o,l]=this.#m();return`M${(this.#i[2]-e)/r} ${(this.#i[3]-n)/i} L${(this.#i[4]-e)/r} ${(this.#i[5]-n)/i} L${a} ${s} L${o} ${l} L${(this.#i[16]-e)/r} ${(this.#i[17]-n)/i} L${(this.#i[14]-e)/r} ${(this.#i[15]-n)/i} Z`}#v(e){const n=this.#t;e.push(`L${n[4]} ${n[5]} Z`)}#b(e){const[n,r,i,a]=this.#e,s=this.#i.subarray(4,6),o=this.#i.subarray(16,18),[l,u,d,h]=this.#m();e.push(`L${(s[0]-n)/i} ${(s[1]-r)/a} L${l} ${u} L${d} ${h} L${(o[0]-n)/i} ${(o[1]-r)/a}`)}newFreeDrawOutline(e,n,r,i,a,s){return new Tve(e,n,r,i,a,s)}getOutlines(){const e=this.#a,n=this.#t,r=this.#i,[i,a,s,o]=this.#e,l=new Float32Array((this.#f?.length??0)+2);for(let h=0,p=l.length-2;h<p;h+=2)l[h]=(this.#f[h]-i)/s,l[h+1]=(this.#f[h+1]-a)/o;if(l[l.length-2]=(this.#l-i)/s,l[l.length-1]=(this.#s-a)/o,isNaN(r[6])&&!this.isEmpty())return this.#_(l);const u=new Float32Array(this.#a.length+24+this.#t.length);let d=e.length;for(let h=0;h<d;h+=2){if(isNaN(e[h])){u[h]=u[h+1]=NaN;continue}u[h]=e[h],u[h+1]=e[h+1]}d=this.#x(u,d);for(let h=n.length-6;h>=6;h-=6)for(let p=0;p<6;p+=2){if(isNaN(n[h+p])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=n[h+p],u[d+1]=n[h+p+1],d+=2}return this.#S(u,d),this.newFreeDrawOutline(u,l,this.#e,this.#h,this.#n,this.#r)}#_(e){const n=this.#i,[r,i,a,s]=this.#e,[o,l,u,d]=this.#m(),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(n[2]-r)/a,(n[3]-i)/s,NaN,NaN,NaN,NaN,(n[4]-r)/a,(n[5]-i)/s,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(n[16]-r)/a,(n[17]-i)/s,NaN,NaN,NaN,NaN,(n[14]-r)/a,(n[15]-i)/s],0),this.newFreeDrawOutline(h,e,this.#e,this.#h,this.#n,this.#r)}#S(e,n){const r=this.#t;return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],n),n+=6}#x(e,n){const r=this.#i.subarray(4,6),i=this.#i.subarray(16,18),[a,s,o,l]=this.#e,[u,d,h,p]=this.#m();return e.set([NaN,NaN,NaN,NaN,(r[0]-a)/o,(r[1]-s)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,(i[0]-a)/o,(i[1]-s)/l],n),n+=24}}class Tve extends yn{#e;#t=new Float32Array(4);#n;#r;#a;#i;#l;constructor(e,n,r,i,a,s){super(),this.#l=e,this.#a=n,this.#e=r,this.#i=i,this.#n=a,this.#r=s,this.lastPoint=[NaN,NaN],this.#s(s);const[o,l,u,d]=this.#t;for(let h=0,p=e.length;h<p;h+=2)e[h]=(e[h]-o)/u,e[h+1]=(e[h+1]-l)/d;for(let h=0,p=n.length;h<p;h+=2)n[h]=(n[h]-o)/u,n[h+1]=(n[h+1]-l)/d}toSVGPath(){const e=[`M${this.#l[4]} ${this.#l[5]}`];for(let n=6,r=this.#l.length;n<r;n+=6){if(isNaN(this.#l[n])){e.push(`L${this.#l[n+4]} ${this.#l[n+5]}`);continue}e.push(`C${this.#l[n]} ${this.#l[n+1]} ${this.#l[n+2]} ${this.#l[n+3]} ${this.#l[n+4]} ${this.#l[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,r,i],a){const s=r-e,o=i-n;let l,u;switch(a){case 0:l=yn._rescale(this.#l,e,i,s,-o),u=yn._rescale(this.#a,e,i,s,-o);break;case 90:l=yn._rescaleAndSwap(this.#l,e,n,s,o),u=yn._rescaleAndSwap(this.#a,e,n,s,o);break;case 180:l=yn._rescale(this.#l,r,n,-s,o),u=yn._rescale(this.#a,r,n,-s,o);break;case 270:l=yn._rescaleAndSwap(this.#l,r,i,-s,-o),u=yn._rescaleAndSwap(this.#a,r,i,-s,-o);break}return{outline:Array.from(l),points:[Array.from(u)]}}#s(e){const n=this.#l;let r=n[4],i=n[5],a=r,s=i,o=r,l=i,u=r,d=i;const h=e?Math.max:Math.min;for(let m=6,v=n.length;m<v;m+=6){if(isNaN(n[m]))a=Math.min(a,n[m+4]),s=Math.min(s,n[m+5]),o=Math.max(o,n[m+4]),l=Math.max(l,n[m+5]),d<n[m+5]?(u=n[m+4],d=n[m+5]):d===n[m+5]&&(u=h(u,n[m+4]));else{const w=Nn.bezierBoundingBox(r,i,...n.slice(m,m+6));a=Math.min(a,w[0]),s=Math.min(s,w[1]),o=Math.max(o,w[2]),l=Math.max(l,w[3]),d<w[3]?(u=w[2],d=w[3]):d===w[3]&&(u=h(u,w[2]))}r=n[m+4],i=n[m+5]}const p=this.#t;p[0]=a-this.#n,p[1]=s-this.#n,p[2]=o-a+2*this.#n,p[3]=l-s+2*this.#n,this.lastPoint=[u,d]}get box(){return this.#t}newOutliner(e,n,r,i,a,s=0){return new i0(e,n,r,i,a,s)}getNewOutline(e,n){const[r,i,a,s]=this.#t,[o,l,u,d]=this.#e,h=a*u,p=s*d,m=r*u+o,v=i*d+l,w=this.newOutliner({x:this.#a[0]*h+m,y:this.#a[1]*p+v},this.#e,this.#i,e,this.#r,n??this.#n);for(let k=2;k<this.#a.length;k+=2)w.add({x:this.#a[k]*h+m,y:this.#a[k+1]*p+v});return w.getOutlines()}}class A8{#e;#t;#n=[];#r=[];constructor(e,n=0,r=0,i=!0){let a=1/0,s=-1/0,o=1/0,l=-1/0;const u=10**-4;for(const{x:k,y:T,width:C,height:N}of e){const F=Math.floor((k-n)/u)*u,D=Math.ceil((k+C+n)/u)*u,U=Math.floor((T-n)/u)*u,G=Math.ceil((T+N+n)/u)*u,se=[F,U,G,!0],re=[D,U,G,!1];this.#n.push(se,re),a=Math.min(a,F),s=Math.max(s,D),o=Math.min(o,U),l=Math.max(l,G)}const d=s-a+2*r,h=l-o+2*r,p=a-r,m=o-r,v=this.#n.at(i?-1:-2),w=[v[0],v[2]];for(const k of this.#n){const[T,C,N]=k;k[0]=(T-p)/d,k[1]=(C-m)/h,k[2]=(N-m)/h}this.#e=new Float32Array([p,m,d,h]),this.#t=w}getOutlines(){this.#n.sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of this.#n)n[3]?(e.push(...this.#c(n)),this.#l(n)):(this.#s(n),e.push(...this.#c(n)));return this.#a(e)}#a(e){const n=[],r=new Set;for(const s of e){const[o,l,u]=s;n.push([o,l,s],[o,u,s])}n.sort((s,o)=>s[1]-o[1]||s[0]-o[0]);for(let s=0,o=n.length;s<o;s+=2){const l=n[s][2],u=n[s+1][2];l.push(u),u.push(l),r.add(l),r.add(u)}const i=[];let a;for(;r.size>0;){const s=r.values().next().value;let[o,l,u,d,h]=s;r.delete(s);let p=o,m=l;for(a=[o,u],i.push(a);;){let v;if(r.has(d))v=d;else if(r.has(h))v=h;else break;r.delete(v),[o,l,u,d,h]=v,p!==o&&(a.push(p,m,o,m===l?l:u),p=o),m=m===l?u:l}a.push(p,m)}return new Tet(i,this.#e,this.#t)}#i(e){const n=this.#r;let r=0,i=n.length-1;for(;r<=i;){const a=r+i>>1,s=n[a][0];if(s===e)return a;s<e?r=a+1:i=a-1}return i+1}#l([,e,n]){const r=this.#i(e);this.#r.splice(r,0,[e,n])}#s([,e,n]){const r=this.#i(e);for(let i=r;i<this.#r.length;i++){const[a,s]=this.#r[i];if(a!==e)break;if(a===e&&s===n){this.#r.splice(i,1);return}}for(let i=r-1;i>=0;i--){const[a,s]=this.#r[i];if(a!==e)break;if(a===e&&s===n){this.#r.splice(i,1);return}}}#c(e){const[n,r,i]=e,a=[[n,r,i]],s=this.#i(i);for(let o=0;o<s;o++){const[l,u]=this.#r[o];for(let d=0,h=a.length;d<h;d++){const[,p,m]=a[d];if(!(u<=p||m<=l)){if(p>=l){if(m>u)a[d][1]=u;else{if(h===1)return[];a.splice(d,1),d--,h--}continue}a[d][2]=l,m>u&&a.push([n,u,m])}}}return a}}class Tet extends yn{#e;#t;constructor(e,n,r){super(),this.#t=e,this.#e=n,this.lastPoint=r}toSVGPath(){const e=[];for(const n of this.#t){let[r,i]=n;e.push(`M${r} ${i}`);for(let a=2;a<n.length;a+=2){const s=n[a],o=n[a+1];s===r?(e.push(`V${o}`),i=o):o===i&&(e.push(`H${s}`),r=s)}e.push("Z")}return e.join(" ")}serialize([e,n,r,i],a){const s=[],o=r-e,l=i-n;for(const u of this.#t){const d=new Array(u.length);for(let h=0;h<u.length;h+=2)d[h]=e+u[h]*o,d[h+1]=i-u[h+1]*l;s.push(d)}return s}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class C8 extends i0{newFreeDrawOutline(e,n,r,i,a,s){return new Aet(e,n,r,i,a,s)}}class Aet extends Tve{newOutliner(e,n,r,i,a,s=0){return new C8(e,n,r,i,a,s)}}class Ru{#e=null;#t=null;#n;#r=null;#a=!1;#i=!1;#l=null;#s;#c=null;#u=null;#h;static#d=null;static get _keyboardManager(){return Er(this,"_keyboardManager",new YS([[["Escape","mac+Escape"],Ru.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ru.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ru.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ru.prototype._moveToPrevious],[["Home","mac+Home"],Ru.prototype._moveToBeginning],[["End","mac+End"],Ru.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:n=null}){e?(this.#i=!1,this.#h=jr.HIGHLIGHT_COLOR,this.#l=e):(this.#i=!0,this.#h=jr.HIGHLIGHT_DEFAULT_COLOR),this.#u=e?._uiManager||n,this.#s=this.#u._eventBus,this.#n=e?.color||this.#u?.highlightColors.values().next().value||"#FFFF98",Ru.#d||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const n=this.#u._signal;e.addEventListener("click",this.#g.bind(this),{signal:n}),e.addEventListener("keydown",this.#p.bind(this),{signal:n});const r=this.#t=document.createElement("span");return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=this.#n,e.append(r),e}renderMainDropdown(){const e=this.#r=this.#f();return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}#f(){const e=document.createElement("div"),n=this.#u._signal;e.addEventListener("contextmenu",Wc,{signal:n}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of this.#u.highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",i),a.title=r,a.setAttribute("data-l10n-id",Ru.#d[r]);const s=document.createElement("span");a.append(s),s.className="swatch",s.style.backgroundColor=i,a.setAttribute("aria-selected",i===this.#n),a.addEventListener("click",this.#o.bind(this,i),{signal:n}),e.append(a)}return e.addEventListener("keydown",this.#p.bind(this),{signal:n}),e}#o(e,n){n.stopPropagation(),this.#s.dispatch("switchannotationeditorparams",{source:this,type:this.#h,value:e})}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#g(e);return}const n=e.target.getAttribute("data-color");n&&this.#o(n,e)}_moveToNext(e){if(!this.#y){this.#g(e);return}if(e.target===this.#e){this.#r.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#r?.firstChild||e.target===this.#e){this.#y&&this._hideDropdownFromKeyboard();return}this.#y||this.#g(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#y){this.#g(e);return}this.#r.firstChild?.focus()}_moveToEnd(e){if(!this.#y){this.#g(e);return}this.#r.lastChild?.focus()}#p(e){Ru._keyboardManager.exec(this,e)}#g(e){if(this.#y){this.hideDropdown();return}if(this.#a=e.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#m.bind(this),{signal:this.#u.combinedSignal(this.#c)})),this.#r){this.#r.classList.remove("hidden");return}const n=this.#r=this.#f();this.#e.append(n)}#m(e){this.#r?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#r?.classList.add("hidden"),this.#c?.abort(),this.#c=null}get#y(){return this.#r&&!this.#r.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#i){if(!this.#y){this.#l?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#r)return;const n=this.#u.highlightColors.values();for(const r of this.#r.children)r.setAttribute("aria-selected",n.next().value===e)}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#r?.remove(),this.#r=null}}class Ea extends Vn{#e=null;#t=0;#n;#r=null;#a=null;#i=null;#l=null;#s=0;#c=null;#u=null;#h=null;#d=!1;#f=null;#o;#p=null;#g="";#m;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=pr.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=Ea.prototype;return Er(this,"_keyboardManager",new YS([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||Ea._defaultColor,this.#m=e.thickness||Ea._defaultThickness,this.#o=e.opacity||Ea._defaultOpacity,this.#n=e.boxes||null,this.#y=e.methodOfCreation||"",this.#g=e.text||"",this._isDraggable=!1,e.highlightId>-1?(this.#d=!0,this.#b(e),this.#R()):this.#n&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#l=e.focusNode,this.#s=e.focusOffset,this.#v(),this.#R(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#m,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#v(){const e=new A8(this.#n,.001);this.#u=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#u.box;const n=new A8(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#i=n.getOutlines();const{lastPoint:r}=this.#i;this.#f=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]}#b({highlightOutlines:e,highlightId:n,clipPathId:r}){this.#u=e;const i=1.5;if(this.#i=e.getNewOutline(this.#m/2+i,.0025),n>=0)this.#h=n,this.#r=r,this.parent.drawLayer.finalizeDraw(n,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#i.box,path:{d:this.#i.toSVGPath()}},!0);else if(this.parent){const d=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:Ea.#E(this.#u.box,(d-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:Ea.#E(this.#i.box,d),path:{d:this.#i.toSVGPath()}})}const[a,s,o,l]=e.box;switch(this.rotation){case 0:this.x=a,this.y=s,this.width=o,this.height=l;break;case 90:{const[d,h]=this.parentDimensions;this.x=s,this.y=1-a,this.width=o*h/d,this.height=l*d/h;break}case 180:this.x=1-a,this.y=1-s,this.width=o,this.height=l;break;case 270:{const[d,h]=this.parentDimensions;this.x=1-s,this.y=a,this.width=o*h/d,this.height=l*d/h;break}}const{lastPoint:u}=this.#i;this.#f=[(u[0]-a)/o,(u[1]-s)/l]}static initialize(e,n){Vn.initialize(e,n),Ea._defaultColor||=n.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,n){switch(e){case jr.HIGHLIGHT_DEFAULT_COLOR:Ea._defaultColor=n;break;case jr.HIGHLIGHT_THICKNESS:Ea._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return this.#f}updateParams(e,n){switch(e){case jr.HIGHLIGHT_COLOR:this.#_(n);break;case jr.HIGHLIGHT_THICKNESS:this.#S(n);break}}static get defaultPropertiesToUpdate(){return[[jr.HIGHLIGHT_DEFAULT_COLOR,Ea._defaultColor],[jr.HIGHLIGHT_THICKNESS,Ea._defaultThickness]]}get propertiesToUpdate(){return[[jr.HIGHLIGHT_COLOR,this.color||Ea._defaultColor],[jr.HIGHLIGHT_THICKNESS,this.#m||Ea._defaultThickness],[jr.HIGHLIGHT_FREE,this.#d]]}#_(e){const n=(a,s)=>{this.color=a,this.#o=s,this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:a,"fill-opacity":s}}),this.#a?.updateColor(a)},r=this.color,i=this.#o;this.addCommands({cmd:n.bind(this,e,Ea._defaultOpacity),undo:n.bind(this,r,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:jr.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}#S(e){const n=this.#m,r=i=>{this.#m=i,this.#x(i)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:jr.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(this.#a=new Ru({editor:this}),e.addColorPicker(this.#a)),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#N())}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,this.#N())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#T(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#R(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let n=!1;this.parent&&!e?this.#T():e&&(this.#R(e),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),n&&this.select()}#x(e){if(!this.#d)return;this.#b({highlightOutlines:this.#u.getNewOutline(e/2)}),this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)}#T(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#R(e=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#r}=e.drawLayer.draw({bbox:this.#u.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#o},rootClass:{highlight:!0,free:this.#d},path:{d:this.#u.toSVGPath()}},!1,!0),this.#p=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#i.box,path:{d:this.#i.toSVGPath()}},this.#d),this.#c&&(this.#c.style.clipPath=this.#r))}static#E([e,n,r,i],a){switch(a){case 90:return[1-n-i,e,i,r];case 180:return[1-e-r,1-n-i,r,i];case 270:return[n,1-e-r,i,r]}return[e,n,r,i]}rotate(e){const{drawLayer:n}=this.parent;let r;this.#d?(e=(e-this.rotation+360)%360,r=Ea.#E(this.#u.box,e)):r=Ea.#E([this.x,this.y,this.width,this.height],e),n.updateProperties(this.#h,{bbox:r,root:{"data-main-rotation":e}}),n.updateProperties(this.#p,{bbox:Ea.#E(this.#i.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#g&&(e.setAttribute("aria-label",this.#g),e.setAttribute("role","mark")),this.#d?e.classList.add("free"):this.div.addEventListener("keydown",this.#C.bind(this),{signal:this._uiManager._signal});const n=this.#c=document.createElement("div");e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=this.#r;const[r,i]=this.parentDimensions;return this.setDims(this.width*r,this.height*i),sA(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#C(e){Ea._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#A(!0);break;case 1:case 3:this.#A(!1);break}}#A(e){if(!this.#e)return;const n=window.getSelection();e?n.setPosition(this.#e,this.#t):n.setPosition(this.#l,this.#s)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#d||this.#A(!1))}get _mustFixPosition(){return!this.#d}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!e}}))}#N(){return this.#d?this.rotation:0}#P(){if(this.#d)return null;const[e,n]=this.pageDimensions,[r,i]=this.pageTranslation,a=this.#n,s=new Float32Array(a.length*8);let o=0;for(const{x:l,y:u,width:d,height:h}of a){const p=l*e+r,m=(1-u)*n+i;s[o]=s[o+4]=p,s[o+1]=s[o+3]=m,s[o+2]=s[o+6]=p+d*e,s[o+5]=s[o+7]=m-h*n,o+=8}return s}#D(e){return this.#u.serialize(e,this.#N())}static startHighlighting(e,n,{target:r,x:i,y:a}){const{x:s,y:o,width:l,height:u}=r.getBoundingClientRect(),d=new AbortController,h=e.combinedSignal(d),p=m=>{d.abort(),this.#w(e,m)};window.addEventListener("blur",p,{signal:h}),window.addEventListener("pointerup",p,{signal:h}),window.addEventListener("pointerdown",Kl,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",Wc,{signal:h}),r.addEventListener("pointermove",this.#k.bind(this,e),{signal:h}),this._freeHighlight=new C8({x:i,y:a},[s,o,l,u],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#k(e,n){this._freeHighlight.add(n)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#w(e,n){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,n,r){let i=null;if(e instanceof Eve){const{data:{quadPoints:v,rect:w,rotation:k,id:T,color:C,opacity:N,popupRef:F},parent:{page:{pageNumber:D}}}=e;i=e={annotationType:pr.HIGHLIGHT,color:Array.from(C),opacity:N,quadPoints:v,boxes:null,pageIndex:D-1,rect:w.slice(0),rotation:k,id:T,deleted:!1,popupRef:F}}else if(e instanceof n$){const{data:{inkLists:v,rect:w,rotation:k,id:T,color:C,borderStyle:{rawWidth:N},popupRef:F},parent:{page:{pageNumber:D}}}=e;i=e={annotationType:pr.HIGHLIGHT,color:Array.from(C),thickness:N,inkLists:v,boxes:null,pageIndex:D-1,rect:w.slice(0),rotation:k,id:T,deleted:!1,popupRef:F}}const{color:a,quadPoints:s,inkLists:o,opacity:l}=e,u=await super.deserialize(e,n,r);u.color=Nn.makeHexColor(...a),u.#o=l||1,o&&(u.#m=e.thickness),u.annotationElementId=e.id||null,u._initialData=i;const[d,h]=u.pageDimensions,[p,m]=u.pageTranslation;if(s){const v=u.#n=[];for(let w=0;w<s.length;w+=8)v.push({x:(s[w]-p)/d,y:1-(s[w+1]-m)/h,width:(s[w+2]-s[w])/d,height:(s[w+1]-s[w+5])/h});u.#v(),u.#R(),u.rotate(u.rotation)}else if(o){u.#d=!0;const v=o[0],w={x:v[0]-p,y:h-(v[1]-m)},k=new C8(w,[0,0,d,h],1,u.#m/2,!0,.001);for(let N=0,F=v.length;N<F;N+=2)w.x=v[N]-p,w.y=h-(v[N+1]-m),k.add(w);const{id:T,clipPathId:C}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:u.color,"fill-opacity":u._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:k.toSVGPath()}},!0,!0);u.#b({highlightOutlines:k.getOutlines(),highlightId:T,clipPathId:C}),u.#R()}return u}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),r=Vn._colorManager.convert(this.color),i={annotationType:pr.HIGHLIGHT,color:r,opacity:this.#o,thickness:this.#m,quadPoints:this.#P(),outlines:this.#D(n),pageIndex:this.pageIndex,rect:n,rotation:this.#N(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#M(i)?null:(i.id=this.annotationElementId,i)}#M(e){const{color:n}=this._initialData;return e.color.some((r,i)=>r!==n[i])}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class Cet{#e=Object.create(null);updateProperty(e,n){this[e]=n,this.updateSVGProperty(e,n)}updateProperties(e){if(e)for(const[n,r]of Object.entries(e))this.updateProperty(n,r)}updateSVGProperty(e,n){this.#e[e]=n}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){Ai("Not implemented")}}class Hn extends Vn{#e=null;#t;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#r=null;static#a=null;static#i=NaN;static#l=null;static#s=null;static#c=NaN;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,e.drawOutlines&&(this.#u(e),this.#f())}#u({drawOutlines:e,drawId:n,drawingOptions:r}){this.#e=e,this._drawingOptions||=r,n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,e.defaultProperties)):this._drawId=this.#h(e,this.parent),this.#g(e.box)}#h(e,n){const{id:r}=n.drawLayer.draw(Hn._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return r}static _mergeSVGProperties(e,n){const r=new Set(Object.keys(e));for(const[i,a]of Object.entries(n))r.has(i)?Object.assign(e[i],a):e[i]=a;return e}static getDefaultDrawingOptions(e){Ai("Not implemented")}static get typesMap(){Ai("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,n){const r=this.typesMap.get(e);r&&this._defaultDrawingOptions.updateProperty(r,n),this._currentParent&&(Hn.#n.updateProperty(r,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,n){const r=this.constructor.typesMap.get(e);r&&this._updateProperty(e,r,n)}static get defaultPropertiesToUpdate(){const e=[],n=this._defaultDrawingOptions;for(const[r,i]of this.typesMap)e.push([r,n[i]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:n}=this;for(const[r,i]of this.constructor.typesMap)e.push([r,n[i]]);return e}_updateProperty(e,n,r){const i=this._drawingOptions,a=i[n],s=o=>{i.updateProperty(n,o);const l=this.#e.updateProperty(n,o);l&&this.#g(l),this.parent?.drawLayer.updateProperties(this._drawId,i.toSVGProperties())};this.addCommands({cmd:s.bind(this,r),undo:s.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Hn._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#p()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Hn._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#p()),{bbox:this.#m()}))}_onTranslating(e,n){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m(e,n)})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Hn._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#d(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#g(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let n=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#d()):e&&(this._uiManager.addShouldRescale(this),this.#f(e),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),n&&this.select()}#d(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#h(this.#e,e)}}#o([e,n,r,i]){const{parentDimensions:[a,s],rotation:o}=this;switch(o){case 90:return[n,1-e,r*(s/a),i*(a/s)];case 180:return[1-e,1-n,r,i];case 270:return[1-n,e,r*(s/a),i*(a/s)];default:return[e,n,r,i]}}#p(){const{x:e,y:n,width:r,height:i,parentDimensions:[a,s],rotation:o}=this;switch(o){case 90:return[1-n,e,r*(a/s),i*(s/a)];case 180:return[1-e,1-n,r,i];case 270:return[n,1-e,r*(a/s),i*(s/a)];default:return[e,n,r,i]}}#g(e){if([this.x,this.y,this.width,this.height]=this.#o(e),this.div){this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)}this._onResized()}#m(){const{x:e,y:n,width:r,height:i,rotation:a,parentRotation:s,parentDimensions:[o,l]}=this;switch((a*4+s)/90){case 1:return[1-n-i,e,i,r];case 2:return[1-e-r,1-n-i,r,i];case 3:return[n,1-e-r,i,r];case 4:return[e,n-r*(o/l),i*(l/o),r*(o/l)];case 5:return[1-n,e,r*(o/l),i*(l/o)];case 6:return[1-e-i*(l/o),1-n,i*(l/o),r*(o/l)];case 7:return[n-r*(o/l),1-e-i*(l/o),r*(o/l),i*(l/o)];case 8:return[e-r,n-i,r,i];case 9:return[1-n,e-r,i,r];case 10:return[1-e,1-n,r,i];case 11:return[n-i,1-e,i,r];case 12:return[e-i*(l/o),n,i*(l/o),r*(o/l)];case 13:return[1-n-r*(o/l),e-i*(l/o),r*(o/l),i*(l/o)];case 14:return[1-e,1-n-r*(o/l),i*(l/o),r*(o/l)];case 15:return[n,1-e,r*(o/l),i*(l/o)];default:return[e,n,r,i]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Hn._mergeSVGProperties({bbox:this.#m()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#g(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;const e=super.render();e.classList.add("draw");const n=document.createElement("div");e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal";const[r,i]=this.parentDimensions;return this.setDims(this.width*r,this.height*i),this._uiManager.addShouldRescale(this),this.disableEditing(),e}static createDrawerInstance(e,n,r,i,a){Ai("Not implemented")}static startDrawing(e,n,r,i){const{target:a,offsetX:s,offsetY:o,pointerId:l,pointerType:u}=i;if(Hn.#l&&Hn.#l!==u)return;const{viewport:{rotation:d}}=e,{width:h,height:p}=a.getBoundingClientRect(),m=Hn.#r=new AbortController,v=e.combinedSignal(m);if(Hn.#i||=l,Hn.#l??=u,window.addEventListener("pointerup",w=>{Hn.#i===w.pointerId?this._endDraw(w):Hn.#s?.delete(w.pointerId)},{signal:v}),window.addEventListener("pointercancel",w=>{Hn.#i===w.pointerId?this._currentParent.endDrawingSession():Hn.#s?.delete(w.pointerId)},{signal:v}),window.addEventListener("pointerdown",w=>{Hn.#l===w.pointerType&&((Hn.#s||=new Set).add(w.pointerId),Hn.#n.isCancellable()&&(Hn.#n.removeLastElement(),Hn.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",Wc,{signal:v}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:v}),a.addEventListener("touchmove",w=>{w.timeStamp===Hn.#c&&Kl(w)},{signal:v}),e.toggleDrawing(),n._editorUndoBar?.hide(),Hn.#n){e.drawLayer.updateProperties(this._currentDrawId,Hn.#n.startNew(s,o,h,p,d));return}n.updateUIForDefaultProperties(this),Hn.#n=this.createDrawerInstance(s,o,h,p,d),Hn.#a=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(Hn.#a.toSVGProperties(),Hn.#n.defaultSVGProperties),!0,!1)}static _drawMove(e){if(Hn.#c=-1,!Hn.#n)return;const{offsetX:n,offsetY:r,pointerId:i}=e;if(Hn.#i===i){if(Hn.#s?.size>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Hn.#n.add(n,r)),Hn.#c=e.timeStamp,Kl(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,Hn.#n=null,Hn.#a=null,Hn.#l=null,Hn.#c=NaN),Hn.#r&&(Hn.#r.abort(),Hn.#r=null,Hn.#i=NaN,Hn.#s=null)}static _endDraw(e){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),e&&n.drawLayer.updateProperties(this._currentDrawId,Hn.#n.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const r=Hn.#n,i=this._currentDrawId,a=r.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(i,r.setLastElement(a))},undo:()=>{n.drawLayer.updateProperties(i,r.removeLastElement())},mustExec:!1,type:jr.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(jr.DRAW_STEP),!Hn.#n.isEmpty()){const{pageDimensions:[r,i],scale:a}=n,s=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Hn.#n.getOutlines(r*a,i*a,a,this._INNER_MARGIN),drawingOptions:Hn.#a,mustBeCommitted:!e});return this._cleanup(!0),s}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,n,r,i,a,s){Ai("Not implemented")}static async deserialize(e,n,r){const{rawDims:{pageWidth:i,pageHeight:a,pageX:s,pageY:o}}=n.viewport,l=this.deserializeDraw(s,o,i,a,this._INNER_MARGIN,e),u=await super.deserialize(e,n,r);return u.createDrawingOptions(e),u.#u({drawOutlines:l}),u.#f(),u.onScaleChanging(),u.rotate(),u}serializeDraw(e){const[n,r]=this.pageTranslation,[i,a]=this.pageDimensions;return this.#e.serialize([n,r,i,a],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class Ret{#e=new Float64Array(6);#t;#n;#r;#a;#i;#l="";#s=0;#c=new qR;#u;#h;constructor(e,n,r,i,a,s){this.#u=r,this.#h=i,this.#r=a,this.#a=s,[e,n]=this.#d(e,n);const o=this.#t=[NaN,NaN,NaN,NaN,e,n];this.#i=[e,n],this.#n=[{line:o,points:this.#i}],this.#e.set(o,0)}updateProperty(e,n){e==="stroke-width"&&(this.#a=n)}#d(e,n){return yn._normalizePoint(e,n,this.#u,this.#h,this.#r)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#i.length<=10}add(e,n){[e,n]=this.#d(e,n);const[r,i,a,s]=this.#e.subarray(2,6),o=e-a,l=n-s;return Math.hypot(this.#u*o,this.#h*l)<=2?null:(this.#i.push(e,n),isNaN(r)?(this.#e.set([a,s,e,n],2),this.#t.push(NaN,NaN,NaN,NaN,e,n),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([r,i,a,s,e,n],0),this.#t.push(...yn.createBezierPoints(r,i,a,s,e,n)),{path:{d:this.toSVGPath()}}))}end(e,n){const r=this.add(e,n);return r||(this.#i.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,n,r,i,a){this.#u=r,this.#h=i,this.#r=a,[e,n]=this.#d(e,n);const s=this.#t=[NaN,NaN,NaN,NaN,e,n];this.#i=[e,n];const o=this.#n.at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),this.#n.push({line:s,points:this.#i}),this.#e.set(s,0),this.#s=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(e){return this.#n?(this.#n.push(e),this.#t=e.line,this.#i=e.points,this.#s=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(e)}removeLastElement(){if(!this.#n)return this.#c.removeLastElement();this.#n.pop(),this.#l="";for(let e=0,n=this.#n.length;e<n;e++){const{line:r,points:i}=this.#n[e];this.#t=r,this.#i=i,this.#s=0,this.toSVGPath()}return{path:{d:this.#l}}}toSVGPath(){const e=yn.svgRound(this.#t[4]),n=yn.svgRound(this.#t[5]);if(this.#i.length===2)return this.#l=`${this.#l} M ${e} ${n} Z`,this.#l;if(this.#i.length<=6){const i=this.#l.lastIndexOf("M");this.#l=`${this.#l.slice(0,i)} M ${e} ${n}`,this.#s=6}if(this.#i.length===4){const i=yn.svgRound(this.#t[10]),a=yn.svgRound(this.#t[11]);return this.#l=`${this.#l} L ${i} ${a}`,this.#s=12,this.#l}const r=[];this.#s===0&&(r.push(`M ${e} ${n}`),this.#s=6);for(let i=this.#s,a=this.#t.length;i<a;i+=6){const[s,o,l,u,d,h]=this.#t.slice(i,i+6).map(yn.svgRound);r.push(`C${s} ${o} ${l} ${u} ${d} ${h}`)}return this.#l+=r.join(" "),this.#s=this.#t.length,this.#l}getOutlines(e,n,r,i){const a=this.#n.at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),this.#c.build(this.#n,e,n,r,this.#r,this.#a,i),this.#e=null,this.#t=null,this.#n=null,this.#l=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class qR extends yn{#e;#t=0;#n;#r;#a;#i;#l;#s;#c;build(e,n,r,i,a,s,o){this.#a=n,this.#i=r,this.#l=i,this.#s=a,this.#c=s,this.#n=o??0,this.#r=e,this.#d()}setLastElement(e){return this.#r.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#r.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:n}of this.#r){if(e.push(`M${yn.svgRound(n[4])} ${yn.svgRound(n[5])}`),n.length===6){e.push("Z");continue}if(n.length===12){e.push(`L${yn.svgRound(n[10])} ${yn.svgRound(n[11])}`);continue}for(let r=6,i=n.length;r<i;r+=6){const[a,s,o,l,u,d]=n.subarray(r,r+6).map(yn.svgRound);e.push(`C${a} ${s} ${o} ${l} ${u} ${d}`)}}return e.join("")}serialize([e,n,r,i],a){const s=[],o=[],[l,u,d,h]=this.#h();let p,m,v,w,k,T,C,N,F;switch(this.#s){case 0:F=yn._rescale,p=e,m=n+i,v=r,w=-i,k=e+l*r,T=n+(1-u-h)*i,C=e+(l+d)*r,N=n+(1-u)*i;break;case 90:F=yn._rescaleAndSwap,p=e,m=n,v=r,w=i,k=e+u*r,T=n+l*i,C=e+(u+h)*r,N=n+(l+d)*i;break;case 180:F=yn._rescale,p=e+r,m=n,v=-r,w=i,k=e+(1-l-d)*r,T=n+u*i,C=e+(1-l)*r,N=n+(u+h)*i;break;case 270:F=yn._rescaleAndSwap,p=e+r,m=n+i,v=-r,w=-i,k=e+(1-u-h)*r,T=n+(1-l-d)*i,C=e+(1-u)*r,N=n+(1-l)*i;break}for(const{line:D,points:U}of this.#r)s.push(F(D,p,m,v,w,a?new Array(D.length):null)),o.push(F(U,p,m,v,w,a?new Array(U.length):null));return{lines:s,points:o,rect:[k,T,C,N]}}static deserialize(e,n,r,i,a,{paths:{lines:s,points:o},rotation:l,thickness:u}){const d=[];let h,p,m,v,w;switch(l){case 0:w=yn._rescale,h=-e/r,p=n/i+1,m=1/r,v=-1/i;break;case 90:w=yn._rescaleAndSwap,h=-n/i,p=-e/r,m=1/i,v=1/r;break;case 180:w=yn._rescale,h=e/r+1,p=-n/i,m=-1/r,v=1/i;break;case 270:w=yn._rescaleAndSwap,h=n/i+1,p=e/r+1,m=-1/i,v=-1/r;break}if(!s){s=[];for(const T of o){const C=T.length;if(C===2){s.push(new Float32Array([NaN,NaN,NaN,NaN,T[0],T[1]]));continue}if(C===4){s.push(new Float32Array([NaN,NaN,NaN,NaN,T[0],T[1],NaN,NaN,NaN,NaN,T[2],T[3]]));continue}const N=new Float32Array(3*(C-2));s.push(N);let[F,D,U,G]=T.subarray(0,4);N.set([NaN,NaN,NaN,NaN,F,D],0);for(let se=4;se<C;se+=2){const re=T[se],Q=T[se+1];N.set(yn.createBezierPoints(F,D,U,G,re,Q),(se-2)*3),[F,D,U,G]=[U,G,re,Q]}}}for(let T=0,C=s.length;T<C;T++)d.push({line:w(s[T].map(N=>N??NaN),h,p,m,v),points:w(o[T].map(N=>N??NaN),h,p,m,v)});const k=new qR;return k.build(d,r,i,1,l,u,a),k}#u(e=this.#c){const n=this.#n+e/2*this.#l;return this.#s%180===0?[n/this.#a,n/this.#i]:[n/this.#i,n/this.#a]}#h(){const[e,n,r,i]=this.#e,[a,s]=this.#u(0);return[e+a,n+s,r-2*a,i-2*s]}#d(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:i}of this.#r){if(i.length<=12){for(let o=4,l=i.length;o<l;o+=6){const[u,d]=i.subarray(o,o+2);e[0]=Math.min(e[0],u),e[1]=Math.min(e[1],d),e[2]=Math.max(e[2],u),e[3]=Math.max(e[3],d)}continue}let a=i[4],s=i[5];for(let o=6,l=i.length;o<l;o+=6){const[u,d,h,p,m,v]=i.subarray(o,o+6);Nn.bezierBoundingBox(a,s,u,d,h,p,m,v,e),a=m,s=v}}const[n,r]=this.#u();e[0]=Math.min(1,Math.max(0,e[0]-n)),e[1]=Math.min(1,Math.max(0,e[1]-r)),e[2]=Math.min(1,Math.max(0,e[2]+n)),e[3]=Math.min(1,Math.max(0,e[3]+r)),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,n){return e==="stroke-width"?this.#f(n):null}#f(e){const[n,r]=this.#u();this.#c=e;const[i,a]=this.#u(),[s,o]=[i-n,a-r],l=this.#e;return l[0]-=s,l[1]-=o,l[2]+=2*s,l[3]+=2*o,l}updateParentDimensions([e,n],r){const[i,a]=this.#u();this.#a=e,this.#i=n,this.#l=r;const[s,o]=this.#u(),l=s-i,u=o-a,d=this.#e;return d[0]-=l,d[1]-=u,d[2]+=2*l,d[3]+=2*u,d}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(yn.svgRound).join(" ")}get defaultProperties(){const[e,n]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${yn.svgRound(e)} ${yn.svgRound(n)}`}}}get rotationTransform(){const[,,e,n]=this.#e;let r=0,i=0,a=0,s=0,o=0,l=0;switch(this.#t){case 90:i=n/e,a=-e/n,o=e;break;case 180:r=-1,s=-1,o=e,l=n;break;case 270:i=-n/e,a=e/n,l=n;break;default:return""}return`matrix(${r} ${i} ${a} ${s} ${yn.svgRound(o)} ${yn.svgRound(l)})`}getPathResizingSVGProperties([e,n,r,i]){const[a,s]=this.#u(),[o,l,u,d]=this.#e;if(Math.abs(u-a)<=yn.PRECISION||Math.abs(d-s)<=yn.PRECISION){const w=e+r/2-(o+u/2),k=n+i/2-(l+d/2);return{path:{"transform-origin":`${yn.svgRound(e)} ${yn.svgRound(n)}`,transform:`${this.rotationTransform} translate(${w} ${k})`}}}const h=(r-2*a)/(u-2*a),p=(i-2*s)/(d-2*s),m=u/r,v=d/i;return{path:{"transform-origin":`${yn.svgRound(o)} ${yn.svgRound(l)}`,transform:`${this.rotationTransform} scale(${m} ${v}) translate(${yn.svgRound(a)} ${yn.svgRound(s)}) scale(${h} ${p}) translate(${yn.svgRound(-a)} ${yn.svgRound(-s)})`}}}getPathResizedSVGProperties([e,n,r,i]){const[a,s]=this.#u(),o=this.#e,[l,u,d,h]=o;if(o[0]=e,o[1]=n,o[2]=r,o[3]=i,Math.abs(d-a)<=yn.PRECISION||Math.abs(h-s)<=yn.PRECISION){const k=e+r/2-(l+d/2),T=n+i/2-(u+h/2);for(const{line:C,points:N}of this.#r)yn._translate(C,k,T,C),yn._translate(N,k,T,N);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${yn.svgRound(e)} ${yn.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(r-2*a)/(d-2*a),m=(i-2*s)/(h-2*s),v=-p*(l+a)+e+a,w=-m*(u+s)+n+s;if(p!==1||m!==1||v!==0||w!==0)for(const{line:k,points:T}of this.#r)yn._rescale(k,v,w,p,m,k),yn._rescale(T,v,w,p,m,T);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${yn.svgRound(e)} ${yn.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,n],r){const[i,a]=r,s=this.#e,o=e-s[0],l=n-s[1];if(this.#a===i&&this.#i===a)for(const{line:u,points:d}of this.#r)yn._translate(u,o,l,u),yn._translate(d,o,l,d);else{const u=this.#a/i,d=this.#i/a;this.#a=i,this.#i=a;for(const{line:h,points:p}of this.#r)yn._rescale(h,o,l,u,d,h),yn._rescale(p,o,l,u,d,p);s[2]*=u,s[3]*=d}return s[0]=e,s[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${yn.svgRound(e)} ${yn.svgRound(n)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${yn.svgRound(e[0])} ${yn.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class r$ extends Cet{#e;constructor(e){super(),this.#e=e,super.updateProperties({fill:"none",stroke:Vn._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,n){e==="stroke-width"&&(n??=this["stroke-width"],n*=this.#e.realScale),super.updateSVGProperty(e,n)}clone(){const e=new r$(this.#e);return e.updateAll(this),e}}class i$ extends Hn{static _type="ink";static _editorType=pr.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0}static initialize(e,n){Vn.initialize(e,n),this._defaultDrawingOptions=new r$(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return Er(this,"typesMap",new Map([[jr.INK_THICKNESS,"stroke-width"],[jr.INK_COLOR,"stroke"],[jr.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,n,r,i,a){return new Ret(e,n,r,i,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,n,r,i,a,s){return qR.deserialize(e,n,r,i,a,s)}static async deserialize(e,n,r){let i=null;if(e instanceof n$){const{data:{inkLists:s,rect:o,rotation:l,id:u,color:d,opacity:h,borderStyle:{rawWidth:p},popupRef:m},parent:{page:{pageNumber:v}}}=e;i=e={annotationType:pr.INK,color:Array.from(d),thickness:p,opacity:h,paths:{points:s},boxes:null,pageIndex:v-1,rect:o.slice(0),rotation:l,id:u,deleted:!1,popupRef:m}}const a=await super.deserialize(e,n,r);return a.annotationElementId=e.id||null,a._initialData=i,a}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:n,parent:r}=this;n.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(e,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:n,opacity:r}){this._drawingOptions=i$.getDefaultDrawingOptions({stroke:Nn.makeHexColor(...e),"stroke-width":n,"stroke-opacity":r})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:r,rect:i}=this.serializeDraw(e),{_drawingOptions:{stroke:a,"stroke-opacity":s,"stroke-width":o}}=this,l={annotationType:pr.INK,color:Vn._colorManager.convert(a),opacity:s,thickness:o,paths:{lines:n,points:r},pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?l:this.annotationElementId&&!this.#e(l)?null:(l.id=this.annotationElementId,l)}#e(e){const{color:n,thickness:r,opacity:i,pageIndex:a}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||e.color.some((s,o)=>s!==n[o])||e.thickness!==r||e.opacity!==i||e.pageIndex!==a}renderAnnotationElement(e){const{points:n,rect:r}=this.serializeDraw(!1);return e.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:n}),null}}class a$ extends Vn{#e=null;#t=null;#n=null;#r=null;#a=null;#i="";#l=null;#s=null;#c=!1;#u=!1;static _type="stamp";static _editorType=pr.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#r=e.bitmapUrl,this.#a=e.bitmapFile}static initialize(e,n){Vn.initialize(e,n)}static get supportedTypes(){return Er(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Er(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,n){n.pasteEditor(pr.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const n=e.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}#h(e,n=!1){if(!e){this.remove();return}this.#e=e.bitmap,n||(this.#t=e.id,this.#c=e.isSvg),e.file&&(this.#i=e.file.name),this.#o()}#d(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#l){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:a,height:s}=e||this.copyCanvas(null,null,!0).imageData,o=await r.guess({name:"altText",request:{data:i,width:a,height:s,channels:i.length/(a*s)}});if(!o)throw new Error("No response from the AI service.");if(o.error)throw new Error("Error from the AI service.");if(o.cancel)return null;if(!o.output)throw new Error("No valid response from the AI service.");const l=o.output;return await this.setGuessedAltText(l),n&&!this.hasAltTextData()&&(this.altTextData={alt:l,decorative:!1}),l}#f(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(r=>this.#h(r,!0)).finally(()=>this.#d());return}if(this.#r){const r=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(r).then(i=>this.#h(i)).finally(()=>this.#d());return}if(this.#a){const r=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(r).then(i=>this.#h(i)).finally(()=>this.#d());return}const e=document.createElement("input");e.type="file",e.accept=a$.supportedTypesStr;const n=this._uiManager._signal;this.#n=new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#h(i)}r()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>this.#d()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#l?.remove(),this.#l=null,this.#s&&(clearTimeout(this.#s),this.#s=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#f();return}super.rebuild(),this.div!==null&&(this.#t&&this.#l===null&&this.#f(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#a||this.#t)}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;if(this.width&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),this.#e?this.#o():this.#f(),this.width&&!this.annotationElementId){const[r,i]=this.parentDimensions;this.setAt(e*r,n*i,this.width*r,this.height*i)}return this._uiManager.addShouldRescale(this),this.div}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#s!==null&&clearTimeout(this.#s);const e=200;this.#s=setTimeout(()=>{this.#s=null,this.#g()},e)}#o(){const{div:e}=this;let{width:n,height:r}=this.#e;const[i,a]=this.pageDimensions,s=.75;if(this.width)n=this.width*i,r=this.height*a;else if(n>s*i||r>s*a){const d=Math.min(s*i/n,s*a/r);n*=d,r*=d}const[o,l]=this.parentDimensions;this.setDims(n*o/i,r*l/a),this._uiManager.enableWaiting(!1);const u=this.#l=document.createElement("canvas");u.setAttribute("role","img"),this.addContainer(u),this.width=n/i,this.height=r/a,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#g(),this.#u||(this.parent.addUndoableEditor(this),this.#u=!0),this._reportTelemetry({action:"inserted_image"}),this.#i&&u.setAttribute("aria-label",this.#i)}copyCanvas(e,n,r=!1){e||(e=224);const{width:i,height:a}=this.#e,s=new x8;let o=this.#e,l=i,u=a,d=null;if(n){if(i>n||a>n){const U=Math.min(n/i,n/a);l=Math.floor(i*U),u=Math.floor(a*U)}d=document.createElement("canvas");const p=d.width=Math.ceil(l*s.sx),m=d.height=Math.ceil(u*s.sy);this.#c||(o=this.#p(p,m));const v=d.getContext("2d");v.filter=this._uiManager.hcmFilter;let w="white",k="#cfcfd8";this._uiManager.hcmFilter!=="none"?k="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(w="#8f8f9d",k="#42414d");const T=15,C=T*s.sx,N=T*s.sy,F=new OffscreenCanvas(C*2,N*2),D=F.getContext("2d");D.fillStyle=w,D.fillRect(0,0,C*2,N*2),D.fillStyle=k,D.fillRect(0,0,C,N),D.fillRect(C,N,C,N),v.fillStyle=v.createPattern(F,"repeat"),v.fillRect(0,0,p,m),v.drawImage(o,0,0,o.width,o.height,0,0,p,m)}let h=null;if(r){let p,m;if(s.symmetric&&o.width<e&&o.height<e)p=o.width,m=o.height;else if(o=this.#e,i>e||a>e){const k=Math.min(e/i,e/a);p=Math.floor(i*k),m=Math.floor(a*k),this.#c||(o=this.#p(p,m))}const w=new OffscreenCanvas(p,m).getContext("2d",{willReadFrequently:!0});w.drawImage(o,0,0,o.width,o.height,0,0,p,m),h={width:p,height:m,data:w.getImageData(0,0,p,m).data}}return{canvas:d,width:l,height:u,imageData:h}}#p(e,n){const{width:r,height:i}=this.#e;let a=r,s=i,o=this.#e;for(;a>2*e||s>2*n;){const l=a,u=s;a>2*e&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),s>2*n&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2));const d=new OffscreenCanvas(a,s);d.getContext("2d").drawImage(o,0,0,l,u,0,0,a,s),o=d.transferToImageBitmap()}return o}#g(){const[e,n]=this.parentDimensions,{width:r,height:i}=this,a=new x8,s=Math.ceil(r*e*a.sx),o=Math.ceil(i*n*a.sy),l=this.#l;if(!l||l.width===s&&l.height===o)return;l.width=s,l.height=o;const u=this.#c?this.#e:this.#p(s,o),d=l.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(u,0,0,u.width,u.height,0,0,s,o)}getImageForAltText(){return this.#l}#m(e){if(e){if(this.#c){const i=this._uiManager.imageManager.getSvgUrl(this.#t);if(i)return i}const n=document.createElement("canvas");return{width:n.width,height:n.height}=this.#e,n.getContext("2d").drawImage(this.#e,0,0),n.toDataURL()}if(this.#c){const[n,r]=this.pageDimensions,i=Math.round(this.width*n*Zb.PDF_TO_CSS_UNITS),a=Math.round(this.height*r*Zb.PDF_TO_CSS_UNITS),s=new OffscreenCanvas(i,a);return s.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,i,a),s.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,n,r){let i=null;if(e instanceof kve){const{data:{rect:v,rotation:w,id:k,structParent:T,popupRef:C},container:N,parent:{page:{pageNumber:F}}}=e,D=N.querySelector("canvas"),U=r.imageManager.getFromCanvas(N.id,D);D.remove();const G=(await n._structTree.getAriaAttributes(`${Vz}${k}`))?.get("aria-label")||"";i=e={annotationType:pr.STAMP,bitmapId:U.id,bitmap:U.bitmap,pageIndex:F-1,rect:v.slice(0),rotation:w,id:k,deleted:!1,accessibilityData:{decorative:!1,altText:G},isSvg:!1,structParent:T,popupRef:C}}const a=await super.deserialize(e,n,r),{rect:s,bitmap:o,bitmapUrl:l,bitmapId:u,isSvg:d,accessibilityData:h}=e;u&&r.imageManager.isValidId(u)?(a.#t=u,o&&(a.#e=o)):a.#r=l,a.#c=d;const[p,m]=a.pageDimensions;return a.width=(s[2]-s[0])/p,a.height=(s[3]-s[1])/m,a.annotationElementId=e.id||null,h&&(a.altTextData=h),a._initialData=i,a.#u=!!i,a}serialize(e=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:pr.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=this.#m(!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:i,altText:a}=this.serializeAltText(!1);if(!i&&a&&(r.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const o=this.#y(r);if(o.isSame)return null;o.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,n===null)return r;n.stamps||=new Map;const s=this.#c?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(this.#t))n.stamps.set(this.#t,{area:s,serialized:r}),r.bitmap=this.#m(!1);else if(this.#c){const o=n.stamps.get(this.#t);s>o.area&&(o.area=s,o.serialized.bitmap.close(),o.serialized.bitmap=this.#m(!1))}return r}#y(e){const{pageIndex:n,accessibilityData:{altText:r}}=this._initialData,i=e.pageIndex===n,a=(e.accessibilityData?.alt||"")===r;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&i&&a,isSameAltText:a}}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}}class cf{#e;#t=!1;#n=null;#r=null;#a=null;#i=new Map;#l=!1;#s=!1;#c=!1;#u=null;#h=null;#d=null;#f=null;#o;static _initialized=!1;static#p=new Map([Za,i$,a$,Ea].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:a,annotationLayer:s,drawLayer:o,textLayer:l,viewport:u,l10n:d}){const h=[...cf.#p.values()];if(!cf._initialized){cf._initialized=!0;for(const p of h)p.initialize(d,e)}e.registerEditorTypes(h),this.#o=e,this.pageIndex=n,this.div=r,this.#e=a,this.#n=s,this.viewport=u,this.#d=l,this.drawLayer=o,this._structTree=i,this.#o.addLayer(this)}get isEmpty(){return this.#i.size===0}get isInvisible(){return this.isEmpty&&this.#o.getMode()===pr.NONE}updateToolbar(e){this.#o.updateToolbar(e)}updateMode(e=this.#o.getMode()){switch(this.#b(),e){case pr.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case pr.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case pr.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;for(const r of cf.#p.values())n.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){return e===this.#d?.div}setEditingState(e){this.#o.setEditingState(e)}addCommands(e){this.#o.addCommands(e)}cleanUndoStack(e){this.#o.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#n?.div.classList.toggle("disabled",!e)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of this.#i.values())r.enableEditing(),r.show(!0),r.annotationElementId&&(this.#o.removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!this.#n){this.#c=!1;return}const n=this.#n.getEditableAnnotations();for(const r of n){if(r.hide(),this.#o.isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}this.#c=!1}disable(){this.#s=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,n=new Map;for(const i of this.#i.values())if(i.disableEditing(),!!i.annotationElementId){if(i.serialize()!==null){e.set(i.annotationElementId,i);continue}else n.set(i.annotationElementId,i);this.getEditableAnnotation(i.annotationElementId)?.show(),i.remove()}if(this.#n){const i=this.#n.getEditableAnnotations();for(const a of i){const{id:s}=a.data;if(this.#o.isDeletedAnnotationElement(s))continue;let o=n.get(s);if(o){o.resetAnnotationElement(a),o.show(!1),a.show();continue}o=e.get(s),o&&(this.#o.addChangedExistingAnnotation(o),o.renderAnnotationElement(a)&&o.show(!1)),a.show()}}this.#b(),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const i of cf.#p.values())r.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#s=!1}getEditableAnnotation(e){return this.#n?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#o.getActive()!==e&&this.#o.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#f){this.#f=new AbortController;const e=this.#o.combinedSignal(this.#f);this.#d.div.addEventListener("pointerdown",this.#g.bind(this),{signal:e}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#d.div.classList.remove("highlighting"))}#g(e){this.#o.unselectAll();const{target:n}=e;if(n===this.#d.div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&this.#d.div.contains(n)){const{isMac:r}=Bo.platform;if(e.button!==0||e.ctrlKey&&r)return;this.#o.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),Ea.startHighlighting(this,this.#o.direction==="ltr",{target:this.#d.div,x:e.x,y:e.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#o._signal}),e.preventDefault()}}enableClick(){if(this.#r)return;this.#r=new AbortController;const e=this.#o.combinedSignal(this.#r);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){this.#r?.abort(),this.#r=null}attach(e){this.#i.set(e.id,e);const{annotationElementId:n}=e;n&&this.#o.isDeletedAnnotationElement(n)&&this.#o.removeDeletedAnnotationElement(e)}detach(e){this.#i.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#s&&e.annotationElementId&&this.#o.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#o.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#o.addDeletedAnnotationElement(e.annotationElementId),Vn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#o.addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#c),this.#o.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!this.#a&&(e._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#o._signal}),n.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getNextId(){return this.#o.getId()}get#m(){return cf.#p.get(this.#o.getMode())}combinedSignal(e){return this.#o.combinedSignal(e)}#y(e){const n=this.#m;return n?new n.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#m?.canCreateNewEmptyEditor()}pasteEditor(e,n){this.#o.updateToolbar(e),this.#o.updateMode(e);const{offsetX:r,offsetY:i}=this.#v(),a=this.getNextId(),s=this.#y({parent:this,id:a,x:r,y:i,uiManager:this.#o,isCentered:!0,...n});s&&this.add(s)}async deserialize(e){return await cf.#p.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#o)||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),a=this.#y({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:this.#o,isCentered:n,...r});return a&&this.add(a),a}#v(){const{x:e,y:n,width:r,height:i}=this.div.getBoundingClientRect(),a=Math.max(0,e),s=Math.max(0,n),o=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,n+i),u=(a+o)/2-e,d=(s+l)/2-n,[h,p]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:p}}addNewEditor(){this.createAndAddNewEditor(this.#v(),!0)}setSelected(e){this.#o.setSelected(e)}toggleSelected(e){this.#o.toggleSelected(e)}unselect(e){this.#o.unselect(e)}pointerup(e){const{isMac:n}=Bo.platform;if(!(e.button!==0||e.ctrlKey&&n)&&e.target===this.div&&this.#l&&(this.#l=!1,!(this.#m?.isDrawer&&this.#m.supportMultipleDrawings))){if(!this.#t){this.#t=!0;return}if(this.#o.getMode()===pr.STAMP){this.#o.unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(this.#o.getMode()===pr.HIGHLIGHT&&this.enableTextSelection(),this.#l){this.#l=!1;return}const{isMac:n}=Bo.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(this.#l=!0,this.#m?.isDrawer){this.startDrawingSession(e);return}const r=this.#o.getActive();this.#t=!r||r.isEmpty()}startDrawingSession(e){if(this.div.focus(),this.#u){this.#m.startDrawing(this,this.#o,!1,e);return}this.#o.setCurrentDrawingSession(this),this.#u=new AbortController;const n=this.#o.combinedSignal(this.#u);this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(this.#h=null,this.commitOrRemove())},{signal:n}),this.#m.startDrawing(this,this.#o,!1,e)}pause(e){if(e){const{activeElement:n}=document;this.div.contains(n)&&(this.#h=n);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(e=!1){return this.#u?(this.#o.setCurrentDrawingSession(null),this.#u.abort(),this.#u=null,this.#h=null,this.#m.endDrawing(e)):null}findNewParent(e,n,r){const i=this.#o.findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return this.#u?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#u&&this.#m.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#o.getActive()?.parent===this&&(this.#o.commitOrRemove(),this.#o.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const e of this.#i.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#i.clear(),this.#o.removeLayer(this)}#b(){for(const e of this.#i.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,E0(this.div,e);for(const n of this.#o.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){this.#o.commitOrRemove(),this.#b();const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,E0(this.div,{rotation:r}),n!==r)for(const i of this.#i.values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return this.#o.viewParameters.realScale}}class Ao{#e=null;#t=0;#n=new Map;#r=new Map;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#n.size>0)for(const n of this.#n.values())n.remove(),e.append(n);this.#e=e}}static get _svgFactory(){return Er(this,"_svgFactory",new t$)}static#a(e,[n,r,i,a]){const{style:s}=e;s.top=`${100*r}%`,s.left=`${100*n}%`,s.width=`${100*i}%`,s.height=`${100*a}%`}#i(){const e=Ao._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#l(e,n){const r=Ao._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const a=Ao._svgFactory.createElement("use");return r.append(a),a.setAttribute("href",`#${n}`),a.classList.add("clip"),i}#s(e,n){for(const[r,i]of Object.entries(n))i===null?e.removeAttribute(r):e.setAttribute(r,i)}draw(e,n=!1,r=!1){const i=this.#t++,a=this.#i(),s=Ao._svgFactory.createElement("defs");a.append(s);const o=Ao._svgFactory.createElement("path");s.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),n&&this.#r.set(i,o);const u=r?this.#l(s,l):null,d=Ao._svgFactory.createElement("use");return a.append(d),d.setAttribute("href",`#${l}`),this.updateProperties(a,e),this.#n.set(i,a),{id:i,clipPathId:`url(#${u})`}}drawOutline(e,n){const r=this.#t++,i=this.#i(),a=Ao._svgFactory.createElement("defs");i.append(a);const s=Ao._svgFactory.createElement("path");a.append(s);const o=`path_p${this.pageIndex}_${r}`;s.setAttribute("id",o),s.setAttribute("vector-effect","non-scaling-stroke");let l;if(n){const h=Ao._svgFactory.createElement("mask");a.append(h),l=`mask_p${this.pageIndex}_${r}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const p=Ao._svgFactory.createElement("rect");h.append(p),p.setAttribute("width","1"),p.setAttribute("height","1"),p.setAttribute("fill","white");const m=Ao._svgFactory.createElement("use");h.append(m),m.setAttribute("href",`#${o}`),m.setAttribute("stroke","none"),m.setAttribute("fill","black"),m.setAttribute("fill-rule","nonzero"),m.classList.add("mask")}const u=Ao._svgFactory.createElement("use");i.append(u),u.setAttribute("href",`#${o}`),l&&u.setAttribute("mask",`url(#${l})`);const d=u.cloneNode();return i.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(i,e),this.#n.set(r,i),r}finalizeDraw(e,n){this.#r.delete(e),this.updateProperties(e,n)}updateProperties(e,n){if(!n)return;const{root:r,bbox:i,rootClass:a,path:s}=n,o=typeof e=="number"?this.#n.get(e):e;if(o){if(r&&this.#s(o,r),i&&Ao.#a(o,i),a){const{classList:l}=o;for(const[u,d]of Object.entries(a))l.toggle(u,d)}if(s){const u=o.firstChild.firstChild;this.#s(u,s)}}}updateParent(e,n){if(n===this)return;const r=this.#n.get(e);r&&(n.#e.append(r),this.#n.delete(e),n.#n.set(e,r))}remove(e){this.#r.delete(e),this.#e!==null&&(this.#n.get(e).remove(),this.#n.delete(e))}destroy(){this.#e=null;for(const e of this.#n.values())e.remove();this.#n.clear(),this.#r.clear()}}globalThis.pdfjsTestingUtils={HighlightOutliner:A8};var Iet=er.AbortException,Net=er.AnnotationEditorLayer,Oet=er.AnnotationEditorParamsType,Met=er.AnnotationEditorType,Pet=er.AnnotationEditorUIManager,Let=er.AnnotationLayer,Det=er.AnnotationMode,Fet=er.ColorPicker,Bet=er.DOMSVGFactory,Uet=er.DrawLayer,jet=er.FeatureTest,Ave=er.GlobalWorkerOptions,zet=er.ImageKind,$et=er.InvalidPDFException,qet=er.MissingPDFException,Het=er.OPS,Vet=er.OutputScale,Get=er.PDFDataRangeTransport,Wet=er.PDFDateString,Ket=er.PDFWorker,Yet=er.PasswordResponses,Xet=er.PermissionFlag,Zet=er.PixelsPerInch,Qet=er.RenderingCancelledException,Jet=er.TextLayer,ett=er.TouchManager,ttt=er.UnexpectedResponseException,ntt=er.Util,rtt=er.VerbosityLevel,itt=er.XfaLayer,att=er.build,stt=er.createValidAbsoluteUrl,ott=er.fetchData,ltt=er.getDocument,utt=er.getFilenameFromUrl,ctt=er.getPdfFilenameFromUrl,dtt=er.getXfaPageViewport,htt=er.isDataScheme,ftt=er.isPdfFile,ptt=er.noContextMenu,mtt=er.normalizeUnicode,gtt=er.setLayerDimensions,ytt=er.shadow,btt=er.stopEvent,vtt=er.version;const wtt=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Iet,AnnotationEditorLayer:Net,AnnotationEditorParamsType:Oet,AnnotationEditorType:Met,AnnotationEditorUIManager:Pet,AnnotationLayer:Let,AnnotationMode:Det,ColorPicker:Fet,DOMSVGFactory:Bet,DrawLayer:Uet,FeatureTest:jet,GlobalWorkerOptions:Ave,ImageKind:zet,InvalidPDFException:$et,MissingPDFException:qet,OPS:Het,OutputScale:Vet,PDFDataRangeTransport:Get,PDFDateString:Wet,PDFWorker:Ket,PasswordResponses:Yet,PermissionFlag:Xet,PixelsPerInch:Zet,RenderingCancelledException:Qet,TextLayer:Jet,TouchManager:ett,UnexpectedResponseException:ttt,Util:ntt,VerbosityLevel:rtt,XfaLayer:itt,build:att,createValidAbsoluteUrl:stt,fetchData:ott,getDocument:ltt,getFilenameFromUrl:utt,getPdfFilenameFromUrl:ctt,getXfaPageViewport:dtt,isDataScheme:htt,isPdfFile:ftt,noContextMenu:ptt,normalizeUnicode:mtt,setLayerDimensions:gtt,shadow:ytt,stopEvent:btt,version:vtt},Symbol.toStringTag,{value:"Module"})),Cve={"application/prs.cww":["cww"],"application/prs.xsf+xml":["xsf"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["*xfdf"],"application/vnd.age":["age"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["*fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.slides":["ggs"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.gov.sk.xmldatacontainer+xml":["xdcf"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["*mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.nato.bindingdataobject+xml":["bdo"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.pwg-xhtml-print+xml":["xhtm"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml","uo"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["*prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["*sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["*aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif","btf"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.bary":["bary"],"model/vnd.cld":["cld"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["*mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.pytha.pyox":["pyo","pyox"],"model/vnd.sap.vds":["vds"],"model/vnd.usda":["usda"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.familysearch.gedcom":["ged"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]};Object.freeze(Cve);const Rve={"application/andrew-inset":["ez"],"application/appinstaller":["appinstaller"],"application/applixware":["aw"],"application/appx":["appx"],"application/appxbundle":["appxbundle"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/automationml-aml+xml":["aml"],"application/automationml-amlx+zip":["amlx"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cpl+xml":["cpl"],"application/cu-seeme":["cu"],"application/cwl":["cwl"],"application/dash+xml":["mpd"],"application/dash-patch+xml":["mpp"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdf":["fdf"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["*js"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/media-policy-dataset+xml":["mpf"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["*mp4","*mpg4","mp4s","m4p"],"application/msix":["msix"],"application/msixbundle":["msixbundle"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-keys":["asc"],"application/pgp-signature":["sig","*asc"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/sql":["sql"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/watcherinfo+xml":["wif"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xfdf":["xfdf"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/aac":["adts","aac"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avci":["avci"],"image/avcs":["avcs"],"image/avif":["avif"],"image/bmp":["bmp","dib"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/dpx":["dpx"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm","jpgm"],"image/jpx":["jpx","jpf"],"image/jxl":["jxl"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/jt":["jt"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/prc":["prc"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/u3d":["u3d"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/javascript":["js","mjs"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["md","markdown"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/wgsl":["wgsl"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","*jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts","m2t","m2ts","mts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};Object.freeze(Rve);var Eu=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},tb,x_,Kg;class _tt{constructor(...e){tb.set(this,new Map),x_.set(this,new Map),Kg.set(this,new Map);for(const n of e)this.define(n)}define(e,n=!1){for(let[r,i]of Object.entries(e)){r=r.toLowerCase(),i=i.map(o=>o.toLowerCase()),Eu(this,Kg,"f").has(r)||Eu(this,Kg,"f").set(r,new Set);const a=Eu(this,Kg,"f").get(r);let s=!0;for(let o of i){const l=o.startsWith("*");if(o=l?o.slice(1):o,a?.add(o),s&&Eu(this,x_,"f").set(r,o),s=!1,l)continue;const u=Eu(this,tb,"f").get(o);if(u&&u!=r&&!n)throw new Error(`"${r} -> ${o}" conflicts with "${u} -> ${o}". Pass \`force=true\` to override this definition.`);Eu(this,tb,"f").set(o,r)}}return this}getType(e){if(typeof e!="string")return null;const n=e.replace(/^.*[/\\]/,"").toLowerCase(),r=n.replace(/^.*\./,"").toLowerCase(),i=n.length<e.length;return!(r.length<n.length-1)&&i?null:Eu(this,tb,"f").get(r)??null}getExtension(e){return typeof e!="string"?null:(e=e?.split?.(";")[0],(e&&Eu(this,x_,"f").get(e.trim().toLowerCase()))??null)}getAllExtensions(e){return typeof e!="string"?null:Eu(this,Kg,"f").get(e.toLowerCase())??null}_freeze(){this.define=()=>{throw new Error("define() not allowed for built-in Mime objects. See https://github.com/broofa/mime/blob/main/README.md#custom-mime-instances")},Object.freeze(this);for(const e of Eu(this,Kg,"f").values())Object.freeze(e);return this}_getTestState(){return{types:Eu(this,tb,"f"),extensions:Eu(this,x_,"f")}}}tb=new WeakMap,x_=new WeakMap,Kg=new WeakMap;const Stt=new _tt(Rve,Cve)._freeze();Ave.workerSrc=new URL("/assets/pdf.worker.min-yatZIOMy.mjs",import.meta.url).toString();class bm extends Mb{static instance;fs;documents;initialized=!1;initPromise=null;static getInstance(){return bm.instance||(bm.instance=new bm),bm.instance}constructor(){super("documents"),this.version(1).stores({documents:"id, name, path, type, createdAt"}),this.initPromise=this.initialize()}async initialize(){this.initialized||(await new Promise(e=>{Lte.configure({fs:"IndexedDB",options:{}},()=>{this.fs=Lte.BFSRequire("fs"),e()})}),this.initialized=!0)}async ensureInitialized(){this.initialized||await this.initPromise}getDocumentType(e){const[n,r]=e.split("/");if(n==="image")return"image";if(n==="video")return"video";if(n==="audio")return"audio";const a={"application/pdf":"pdf","application/msword":"docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","text/plain":"txt","text/html":"html","text/markdown":"markdown"}[e]||r;for(const[s,o]of Object.entries(MGe))if(o.includes(a))return s;return"txt"}async uploadDocument(e){await this.ensureInitialized();const n=crypto.randomUUID(),i=`documents/${`${n}.${e.type.split("/")[1]}`}`,a=await e.arrayBuffer();await new Promise((o,l)=>{this.fs.mkdir("documents",{recursive:!0},u=>{u&&u.code!=="EEXIST"?l(u):o()})}),await new Promise((o,l)=>{this.fs.writeFile(i,rse.Buffer.from(a),u=>{u?(console.error(u),l(u)):o()})});const s={id:n,name:e.name,path:i,type:this.getDocumentType(e.type),createdAt:Date.now()};return await this.documents.add(s),s}async uploadUrl(e){await this.ensureInitialized();const n=crypto.randomUUID(),r=Date.now();let i;return e.includes("youtube.com")||e.includes("youtu.be")?i={id:n,name:e,path:e,type:"youtube",createdAt:r}:i={id:n,name:e,path:e,type:"url",createdAt:r},await this.documents.add(i),i}async getDocument(e){await this.ensureInitialized();const n=await this.documents.get(e);if(!n)throw new Error("Document not found");const r=n.path,i=await new Promise((s,o)=>{this.fs.readFile(r,(l,u)=>{l?o(l):s(u)})}),a=Stt.getType(n.name)||n.type;return new File([i],n.name,{type:a})}async loadDocument(e){await this.ensureInitialized();const n=await this.documents.get(e);if(!n)throw new Error("Document not found");const r=n.type;let i;switch(r){case"pdf":i=new DGe(await this.getDocument(e),{splitPages:!1,pdfjs:()=>Promise.resolve(wtt)});break;case"youtube":i=rA.createFromUrl(n.path,{language:"en",addVideoInfo:!0});break;case"docx":i=new sie(await this.getDocument(e));break;case"doc":i=new sie(await this.getDocument(e),{type:"doc"});break;case"txt":i=new iA(await this.getDocument(e));break;default:i=new iA(await this.getDocument(e))}const a=await i.load();return a.forEach(s=>{s.metadata={id:n.id,name:n.name,source:n.path,type:n.type,createdAt:n.createdAt}}),a}}const Ive=_t.memo(({document:t,onClose:e})=>{const[n,r]=_t.useState(null),[i,a]=_t.useState(!0),[s,o]=_t.useState(null),l=_t.useMemo(()=>bm.getInstance(),[]);_t.useEffect(()=>{if(!t)return;(async()=>{try{a(!0),o(null);const p=await l.getDocument(t.id);if(t.type==="image"){const m=new FileReader;m.onload=()=>r(m.result),m.readAsDataURL(p)}else if(t.type==="pdf"){const m=URL.createObjectURL(p);return r(m),()=>URL.revokeObjectURL(m)}else{const m=await p.text();r(m)}}catch(p){console.error(p),o("Failed to load file content")}finally{a(!1)}})()},[t,l]);const u=_t.useCallback(async()=>{if(t)try{const h=await l.getDocument(t.id),p=URL.createObjectURL(h),m=document.createElement("a");m.href=p,m.download=t.name,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(p)}catch(h){console.error(h),Xl.error("Failed to download file")}},[t,l]);if(!t)return null;const d=()=>i?z.jsx("div",{className:"flex items-center justify-center h-full",children:z.jsx(k7,{className:"h-8 w-8 animate-spin"})}):s?z.jsx("div",{className:"flex items-center justify-center h-full text-destructive",children:s}):n?t.type==="image"?z.jsx("div",{className:"flex items-center justify-center p-4",children:z.jsx("img",{src:n,alt:t.name,className:"max-w-full max-h-full object-contain"})}):t.type==="pdf"?z.jsx("iframe",{src:n,className:"h-full w-full rounded-md bg-muted/50"}):z.jsx("pre",{className:"p-4 whitespace-pre-wrap font-mono text-sm",children:n}):null;return z.jsx(IGe,{open:!!t,onOpenChange:e,children:z.jsxs(dpe,{className:"max-w-4xl max-h-[80vh] h-full flex flex-col",children:[z.jsxs(hpe,{className:"flex flex-row items-center justify-between",children:[z.jsxs("div",{className:"space-y-1",children:[z.jsx(fpe,{children:t.name}),z.jsxs(ppe,{children:["Type: ",t.type," • Created: ",new Date(t.createdAt).toLocaleString()]})]}),z.jsxs(la,{onClick:u,variant:"outline",size:"sm",className:"gap-2",children:[z.jsx(eAe,{className:"h-4 w-4"}),"Download"]})]}),d()]})})});Ive.displayName="FilePreviewDialog";/*
 * [js-sha1]{@link https://github.com/emn178/js-sha1}
 *
 * @version 0.6.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */var xtt=typeof window=="object"?window:{},yr="0123456789abcdef".split(""),Ett=[-2147483648,8388608,32768,128],fc=[24,16,8,0],ps=[];function Kc(t){t?(ps[0]=ps[16]=ps[1]=ps[2]=ps[3]=ps[4]=ps[5]=ps[6]=ps[7]=ps[8]=ps[9]=ps[10]=ps[11]=ps[12]=ps[13]=ps[14]=ps[15]=0,this.blocks=ps):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Kc.prototype.update=function(t){if(!this.finalized){var e=typeof t!="string";e&&t.constructor===xtt.ArrayBuffer&&(t=new Uint8Array(t));for(var n,r=0,i,a=t.length||0,s=this.blocks;r<a;){if(this.hashed&&(this.hashed=!1,s[0]=this.block,s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),e)for(i=this.start;r<a&&i<64;++r)s[i>>2]|=t[r]<<fc[i++&3];else for(i=this.start;r<a&&i<64;++r)n=t.charCodeAt(r),n<128?s[i>>2]|=n<<fc[i++&3]:n<2048?(s[i>>2]|=(192|n>>6)<<fc[i++&3],s[i>>2]|=(128|n&63)<<fc[i++&3]):n<55296||n>=57344?(s[i>>2]|=(224|n>>12)<<fc[i++&3],s[i>>2]|=(128|n>>6&63)<<fc[i++&3],s[i>>2]|=(128|n&63)<<fc[i++&3]):(n=65536+((n&1023)<<10|t.charCodeAt(++r)&1023),s[i>>2]|=(240|n>>18)<<fc[i++&3],s[i>>2]|=(128|n>>12&63)<<fc[i++&3],s[i>>2]|=(128|n>>6&63)<<fc[i++&3],s[i>>2]|=(128|n&63)<<fc[i++&3]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=s[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}};Kc.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=Ett[e&3],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}};Kc.prototype.hash=function(){var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,a,s,o,l=this.blocks;for(s=16;s<80;++s)o=l[s-3]^l[s-8]^l[s-14]^l[s-16],l[s]=o<<1|o>>>31;for(s=0;s<20;s+=5)a=e&n|~e&r,o=t<<5|t>>>27,i=o+a+i+1518500249+l[s]<<0,e=e<<30|e>>>2,a=t&e|~t&n,o=i<<5|i>>>27,r=o+a+r+1518500249+l[s+1]<<0,t=t<<30|t>>>2,a=i&t|~i&e,o=r<<5|r>>>27,n=o+a+n+1518500249+l[s+2]<<0,i=i<<30|i>>>2,a=r&i|~r&t,o=n<<5|n>>>27,e=o+a+e+1518500249+l[s+3]<<0,r=r<<30|r>>>2,a=n&r|~n&i,o=e<<5|e>>>27,t=o+a+t+1518500249+l[s+4]<<0,n=n<<30|n>>>2;for(;s<40;s+=5)a=e^n^r,o=t<<5|t>>>27,i=o+a+i+1859775393+l[s]<<0,e=e<<30|e>>>2,a=t^e^n,o=i<<5|i>>>27,r=o+a+r+1859775393+l[s+1]<<0,t=t<<30|t>>>2,a=i^t^e,o=r<<5|r>>>27,n=o+a+n+1859775393+l[s+2]<<0,i=i<<30|i>>>2,a=r^i^t,o=n<<5|n>>>27,e=o+a+e+1859775393+l[s+3]<<0,r=r<<30|r>>>2,a=n^r^i,o=e<<5|e>>>27,t=o+a+t+1859775393+l[s+4]<<0,n=n<<30|n>>>2;for(;s<60;s+=5)a=e&n|e&r|n&r,o=t<<5|t>>>27,i=o+a+i-1894007588+l[s]<<0,e=e<<30|e>>>2,a=t&e|t&n|e&n,o=i<<5|i>>>27,r=o+a+r-1894007588+l[s+1]<<0,t=t<<30|t>>>2,a=i&t|i&e|t&e,o=r<<5|r>>>27,n=o+a+n-1894007588+l[s+2]<<0,i=i<<30|i>>>2,a=r&i|r&t|i&t,o=n<<5|n>>>27,e=o+a+e-1894007588+l[s+3]<<0,r=r<<30|r>>>2,a=n&r|n&i|r&i,o=e<<5|e>>>27,t=o+a+t-1894007588+l[s+4]<<0,n=n<<30|n>>>2;for(;s<80;s+=5)a=e^n^r,o=t<<5|t>>>27,i=o+a+i-899497514+l[s]<<0,e=e<<30|e>>>2,a=t^e^n,o=i<<5|i>>>27,r=o+a+r-899497514+l[s+1]<<0,t=t<<30|t>>>2,a=i^t^e,o=r<<5|r>>>27,n=o+a+n-899497514+l[s+2]<<0,i=i<<30|i>>>2,a=r^i^t,o=n<<5|n>>>27,e=o+a+e-899497514+l[s+3]<<0,r=r<<30|r>>>2,a=n^r^i,o=e<<5|e>>>27,t=o+a+t-899497514+l[s+4]<<0,n=n<<30|n>>>2;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0,this.h4=this.h4+i<<0};Kc.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4;return yr[t>>28&15]+yr[t>>24&15]+yr[t>>20&15]+yr[t>>16&15]+yr[t>>12&15]+yr[t>>8&15]+yr[t>>4&15]+yr[t&15]+yr[e>>28&15]+yr[e>>24&15]+yr[e>>20&15]+yr[e>>16&15]+yr[e>>12&15]+yr[e>>8&15]+yr[e>>4&15]+yr[e&15]+yr[n>>28&15]+yr[n>>24&15]+yr[n>>20&15]+yr[n>>16&15]+yr[n>>12&15]+yr[n>>8&15]+yr[n>>4&15]+yr[n&15]+yr[r>>28&15]+yr[r>>24&15]+yr[r>>20&15]+yr[r>>16&15]+yr[r>>12&15]+yr[r>>8&15]+yr[r>>4&15]+yr[r&15]+yr[i>>28&15]+yr[i>>24&15]+yr[i>>20&15]+yr[i>>16&15]+yr[i>>12&15]+yr[i>>8&15]+yr[i>>4&15]+yr[i&15]};Kc.prototype.toString=Kc.prototype.hex;Kc.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4;return[t>>24&255,t>>16&255,t>>8&255,t&255,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24&255,n>>16&255,n>>8&255,n&255,r>>24&255,r>>16&255,r>>8&255,r&255,i>>24&255,i>>16&255,i>>8&255,i&255]};Kc.prototype.array=Kc.prototype.digest;Kc.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(20),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),t};const ktt=t=>new Kc(!0).update(t).hex(),Tie=(...t)=>ktt(t.join("_"));class Ttt{}const Att=new Map;class s$ extends Ttt{constructor(e){super(),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cache=e??new Map}lookup(e,n){return Promise.resolve(this.cache.get(Tie(e,n))??null)}async update(e,n,r){this.cache.set(Tie(e,n),r)}static global(){return new s$(Att)}}class o$ extends Hd{}class Nve extends o${static lc_name(){return"StringPromptValue"}constructor(e){super({value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=e}toString(){return this.value}toChatMessages(){return[new Po(this.value)]}}class Ove extends o${static lc_name(){return"ChatPromptValue"}constructor(e){Array.isArray(e)&&(e={messages:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.messages=e.messages}toString(){return Yue(this.messages)}toChatMessages(){return this.messages}}class Ctt extends o${static lc_name(){return"ImagePromptValue"}constructor(e){"imageUrl"in e||(e={imageUrl:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"imageUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.imageUrl=e.imageUrl}toString(){return this.imageUrl.url}toChatMessages(){return[new Po({content:[{type:"image_url",image_url:{detail:this.imageUrl.detail,url:this.imageUrl.url}}]})]}}var Rtt=nse();const Itt=Yc(Rtt);var Ntt=Object.defineProperty,Ott=(t,e,n)=>e in t?Ntt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mtt=(t,e,n)=>(Ott(t,e+"",n),n);function Ptt(t,e){let n=Array.from({length:t.length},(r,i)=>({start:i,end:i+1}));for(;n.length>1;){let r=null;for(let i=0;i<n.length-1;i++){const a=t.slice(n[i].start,n[i+1].end),s=e.get(a.join(","));s!=null&&(r==null||s<r[0])&&(r=[s,i])}if(r!=null){const i=r[1];n[i]={start:n[i].start,end:n[i+1].end},n.splice(i+1,1)}else break}return n}function Ltt(t,e){return t.length===1?[e.get(t.join(","))]:Ptt(t,e).map(n=>e.get(t.slice(n.start,n.end).join(","))).filter(n=>n!=null)}function Dtt(t){return t.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var R8=class{specialTokens;inverseSpecialTokens;patStr;textEncoder=new TextEncoder;textDecoder=new TextDecoder("utf-8");rankMap=new Map;textMap=new Map;constructor(t,e){this.patStr=t.pat_str;const n=t.bpe_ranks.split(`
`).filter(Boolean).reduce((r,i)=>{const[a,s,...o]=i.split(" "),l=Number.parseInt(s,10);return o.forEach((u,d)=>r[u]=l+d),r},{});for(const[r,i]of Object.entries(n)){const a=Itt.toByteArray(r);this.rankMap.set(a.join(","),i),this.textMap.set(i,a)}this.specialTokens={...t.special_tokens,...e},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((r,[i,a])=>(r[a]=this.textEncoder.encode(i),r),{})}encode(t,e=[],n="all"){const r=new RegExp(this.patStr,"ug"),i=R8.specialTokenRegex(Object.keys(this.specialTokens)),a=[],s=new Set(e==="all"?Object.keys(this.specialTokens):e),o=new Set(n==="all"?Object.keys(this.specialTokens).filter(u=>!s.has(u)):n);if(o.size>0){const u=R8.specialTokenRegex([...o]),d=t.match(u);if(d!=null)throw new Error(`The text contains a special token that is not allowed: ${d[0]}`)}let l=0;for(;;){let u=null,d=l;for(;i.lastIndex=d,u=i.exec(t),!(u==null||s.has(u[0]));)d=u.index+1;const h=u?.index??t.length;for(const m of t.substring(l,h).matchAll(r)){const v=this.textEncoder.encode(m[0]),w=this.rankMap.get(v.join(","));if(w!=null){a.push(w);continue}a.push(...Ltt(v,this.rankMap))}if(u==null)break;let p=this.specialTokens[u[0]];a.push(p),l=u.index+u[0].length}return a}decode(t){const e=[];let n=0;for(let a=0;a<t.length;++a){const s=t[a],o=this.textMap.get(s)??this.inverseSpecialTokens[s];o!=null&&(e.push(o),n+=o.length)}const r=new Uint8Array(n);let i=0;for(const a of e)r.set(a,i),i+=a.length;return this.textDecoder.decode(r)}},Mve=R8;Mtt(Mve,"specialTokenRegex",t=>new RegExp(t.map(e=>Dtt(e)).join("|"),"g"));function Ftt(t){switch(t){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":case"text-embedding-3-small":case"text-embedding-3-large":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4o-2024-11-20":case"gpt-4o-mini-2024-07-18":case"gpt-4o-mini":case"o1":case"o1-2024-12-17":case"o1-mini":case"o1-preview":case"o1-preview-2024-09-12":case"o1-mini-2024-09-12":case"o3-mini":case"o3-mini-2025-01-31":case"chatgpt-4o-latest":case"gpt-4o-realtime":case"gpt-4o-realtime-preview-2024-10-01":return"o200k_base";default:throw new Error("Unknown model")}}const FE={},Btt=new uC({});async function Utt(t){return t in FE||(FE[t]=Btt.fetch(`https://tiktoken.pages.dev/js/${t}.json`).then(e=>e.json()).then(e=>new Mve(e)).catch(e=>{throw delete FE[t],e})),await FE[t]}async function jtt(t){return Utt(Ftt(t))}const ztt=t=>t.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":t.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":t.startsWith("gpt-4-32k")?"gpt-4-32k":t.startsWith("gpt-4-")?"gpt-4":t.startsWith("gpt-4o")?"gpt-4o":t;function HR(t){return typeof t!="object"||!t?!1:!!("type"in t&&t.type==="function"&&"function"in t&&typeof t.function=="object"&&t.function&&"name"in t.function&&"parameters"in t.function)}const $tt=()=>!1;class l$ extends Aa{get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){super(e),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.verbose=e.verbose??$tt(),this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}}class qtt extends l${get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}constructor({callbacks:e,callbackManager:n,...r}){const{cache:i,...a}=r;super({callbacks:e??n,...a}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_encoding",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof i=="object"?this.cache=i:i?this.cache=s$.global():this.cache=void 0,this.caller=new uC(r??{})}async getNumTokens(e){if(typeof e!="string")return 0;let n=Math.ceil(e.length/4);if(!this._encoding)try{this._encoding=await jtt("modelName"in this?ztt(this.modelName):"gpt2")}catch(r){console.warn("Failed to calculate number of tokens, falling back to approximate count",r)}if(this._encoding)try{n=this._encoding.encode(e).length}catch(r){console.warn("Failed to calculate number of tokens, falling back to approximate count",r)}return n}static _convertInputToPromptValue(e){return typeof e=="string"?new Nve(e):Array.isArray(e)?new Ove(e.map(fm)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall({config:e,...n}){const r={...this._identifyingParams(),...n,_type:this._llmType(),_model:this._modelType()};return Object.entries(r).filter(([s,o])=>o!==void 0).map(([s,o])=>`${s}:${JSON.stringify(o)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){throw new Error("Use .toJSON() instead")}}class qu extends Aa{static lc_name(){return"RunnablePassthrough"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e&&(this.func=e.func)}async invoke(e,n){const r=Jr(n);return this.func&&await this.func(e,r),this._callWithConfig(i=>Promise.resolve(i),e,r)}async*transform(e,n){const r=Jr(n);let i,a=!0;for await(const s of this._transformStreamWithConfig(e,o=>o,r))if(yield s,a)if(i===void 0)i=s;else try{i=Bu(i,s)}catch{i=void 0,a=!1}this.func&&i!==void 0&&await this.func(i,r)}static assign(e){return new Rce(new yv({steps:e}))}}function ZS(t){return typeof t?.parse=="function"}class Nc extends qtt{constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models",this._llmType()]}),Object.defineProperty(this,"disableStreaming",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_separateRunnableConfigFromCallOptionsCompat(e){const[n,r]=super._separateRunnableConfigFromCallOptions(e);return r.signal=n.signal,[n,r]}async invoke(e,n){const r=Nc._convertInputToPromptValue(e);return(await this.generatePrompt([r],n,n?.callbacks)).generations[0][0].message}async*_streamResponseChunks(e,n,r){throw new Error("Not implemented.")}async*_streamIterator(e,n){if(this._streamResponseChunks===Nc.prototype._streamResponseChunks||this.disableStreaming)yield this.invoke(e,n);else{const i=Nc._convertInputToPromptValue(e).toChatMessages(),[a,s]=this._separateRunnableConfigFromCallOptionsCompat(n),o={...a.metadata,...this.getLsParams(s)},l=await Fs.configure(a.callbacks,this.callbacks,a.tags,this.tags,o,this.metadata,{verbose:this.verbose}),u={options:s,invocation_params:this?.invocationParams(s),batch_size:1},d=await l?.handleChatModelStart(this.toJSON(),[i],a.runId,void 0,u,void 0,void 0,a.runName);let h,p;try{for await(const m of this._streamResponseChunks(i,s,d?.[0])){if(m.message.id==null){const v=d?.at(0)?.runId;v!=null&&m.message._updateId(`run-${v}`)}m.message.response_metadata={...m.generationInfo,...m.message.response_metadata},yield m.message,h?h=h.concat(m):h=m,MG(m.message)&&m.message.usage_metadata!==void 0&&(p={tokenUsage:{promptTokens:m.message.usage_metadata.input_tokens,completionTokens:m.message.usage_metadata.output_tokens,totalTokens:m.message.usage_metadata.total_tokens}})}}catch(m){throw await Promise.all((d??[]).map(v=>v?.handleLLMError(m))),m}await Promise.all((d??[]).map(m=>m?.handleLLMEnd({generations:[[h]],llmOutput:p})))}}getLsParams(e){const n=this.getName().startsWith("Chat")?this.getName().replace("Chat",""):this.getName();return{ls_model_type:"chat",ls_stop:e.stop,ls_provider:n}}async _generateUncached(e,n,r,i){const a=e.map(h=>h.map(fm));let s;if(i!==void 0&&i.length===a.length)s=i;else{const h={...r.metadata,...this.getLsParams(n)},p=await Fs.configure(r.callbacks,this.callbacks,r.tags,this.tags,h,this.metadata,{verbose:this.verbose}),m={options:n,invocation_params:this?.invocationParams(n),batch_size:1};s=await p?.handleChatModelStart(this.toJSON(),a,r.runId,void 0,m,void 0,void 0,r.runName)}const o=[],l=[];if(!!s?.[0].handlers.find(q4e)&&!this.disableStreaming&&a.length===1&&this._streamResponseChunks!==Nc.prototype._streamResponseChunks)try{const h=await this._streamResponseChunks(a[0],n,s?.[0]);let p,m;for await(const v of h){if(v.message.id==null){const w=s?.at(0)?.runId;w!=null&&v.message._updateId(`run-${w}`)}p===void 0?p=v:p=Bu(p,v),MG(v.message)&&v.message.usage_metadata!==void 0&&(m={tokenUsage:{promptTokens:v.message.usage_metadata.input_tokens,completionTokens:v.message.usage_metadata.output_tokens,totalTokens:v.message.usage_metadata.total_tokens}})}if(p===void 0)throw new Error("Received empty response from chat model call.");o.push([p]),await s?.[0].handleLLMEnd({generations:o,llmOutput:m})}catch(h){throw await s?.[0].handleLLMError(h),h}else{const h=await Promise.allSettled(a.map((p,m)=>this._generate(p,{...n,promptIndex:m},s?.[m])));await Promise.all(h.map(async(p,m)=>{if(p.status==="fulfilled"){const v=p.value;for(const w of v.generations){if(w.message.id==null){const k=s?.at(0)?.runId;k!=null&&w.message._updateId(`run-${k}`)}w.message.response_metadata={...w.generationInfo,...w.message.response_metadata}}return v.generations.length===1&&(v.generations[0].message.response_metadata={...v.llmOutput,...v.generations[0].message.response_metadata}),o[m]=v.generations,l[m]=v.llmOutput,s?.[m]?.handleLLMEnd({generations:[v.generations],llmOutput:v.llmOutput})}else return await s?.[m]?.handleLLMError(p.reason),Promise.reject(p.reason)}))}const d={generations:o,llmOutput:l.length?this._combineLLMOutput?.(...l):void 0};return Object.defineProperty(d,g5,{value:s?{runIds:s?.map(h=>h.runId)}:void 0,configurable:!0}),d}async _generateCached({messages:e,cache:n,llmStringKey:r,parsedOptions:i,handledOptions:a}){const s=e.map(k=>k.map(fm)),o={...a.metadata,...this.getLsParams(i)},l=await Fs.configure(a.callbacks,this.callbacks,a.tags,this.tags,o,this.metadata,{verbose:this.verbose}),u={options:i,invocation_params:this?.invocationParams(i),batch_size:1},d=await l?.handleChatModelStart(this.toJSON(),s,a.runId,void 0,u,void 0,void 0,a.runName),h=[],m=(await Promise.allSettled(s.map(async(k,T)=>{const C=Nc._convertInputToPromptValue(k).toString(),N=await n.lookup(C,r);return N==null&&h.push(T),N}))).map((k,T)=>({result:k,runManager:d?.[T]})).filter(({result:k})=>k.status==="fulfilled"&&k.value!=null||k.status==="rejected"),v=[];await Promise.all(m.map(async({result:k,runManager:T},C)=>{if(k.status==="fulfilled"){const N=k.value;return v[C]=N.map(F=>("message"in F&&Oc(F.message)&&pv(F.message)&&(F.message.usage_metadata={input_tokens:0,output_tokens:0,total_tokens:0}),F.generationInfo={...F.generationInfo,tokenUsage:{}},F)),N.length&&await T?.handleLLMNewToken(N[0].text),T?.handleLLMEnd({generations:[N]},void 0,void 0,void 0,{cached:!0})}else return await T?.handleLLMError(k.reason,void 0,void 0,void 0,{cached:!0}),Promise.reject(k.reason)}));const w={generations:v,missingPromptIndices:h,startedRunManagers:d};return Object.defineProperty(w,g5,{value:d?{runIds:d?.map(k=>k.runId)}:void 0,configurable:!0}),w}async generate(e,n,r){let i;Array.isArray(n)?i={stop:n}:i=n;const a=e.map(v=>v.map(fm)),[s,o]=this._separateRunnableConfigFromCallOptionsCompat(i);if(s.callbacks=s.callbacks??r,!this.cache)return this._generateUncached(a,o,s);const{cache:l}=this,u=this._getSerializedCacheKeyParametersForCall(o),{generations:d,missingPromptIndices:h,startedRunManagers:p}=await this._generateCached({messages:a,cache:l,llmStringKey:u,parsedOptions:o,handledOptions:s});let m={};if(h.length>0){const v=await this._generateUncached(h.map(w=>a[w]),o,s,p!==void 0?h.map(w=>p?.[w]):void 0);await Promise.all(v.generations.map(async(w,k)=>{const T=h[k];d[T]=w;const C=Nc._convertInputToPromptValue(a[T]).toString();return l.update(C,u,w)})),m=v.llmOutput??{}}return{generations:d,llmOutput:m}}invocationParams(e){return{}}_modelType(){return"base_chat_model"}serialize(){return{...this.invocationParams(),_type:this._llmType(),_model:this._modelType()}}async generatePrompt(e,n,r){const i=e.map(a=>a.toChatMessages());return this.generate(i,n,r)}async call(e,n,r){return(await this.generate([e.map(fm)],n,r)).generations[0][0].message}async callPrompt(e,n,r){const i=e.toChatMessages();return this.call(i,n,r)}async predictMessages(e,n,r){return this.call(e,n,r)}async predict(e,n,r){const i=new Po(e),a=await this.call([i],n,r);if(typeof a.content!="string")throw new Error("Cannot use predict when output is not a string.");return a.content}withStructuredOutput(e,n){if(typeof this.bindTools!="function")throw new Error('Chat model must implement ".bindTools()" to use withStructuredOutput.');if(n?.strict)throw new Error('"strict" mode is not supported for this model by default.');const r=e,i=n?.name,a=r.description??"A function available to call.",s=n?.method,o=n?.includeRaw;if(s==="jsonMode")throw new Error('Base withStructuredOutput implementation only supports "functionCalling" as a method.');let l=i??"extract",u;ZS(r)?u=[{type:"function",function:{name:l,description:a,parameters:Af(r)}}]:("name"in r&&(l=r.name),u=[{type:"function",function:{name:l,description:a,parameters:r}}]);const d=this.bindTools(u),h=bv.from(w=>{if(!w.tool_calls||w.tool_calls.length===0)throw new Error("No tool calls found in the response.");const k=w.tool_calls.find(T=>T.name===l);if(!k)throw new Error(`No tool call found with name ${l}.`);return k.args});if(!o)return d.pipe(h).withConfig({runName:"StructuredOutput"});const p=qu.assign({parsed:(w,k)=>h.invoke(w.raw,k)}),m=qu.assign({parsed:()=>null}),v=p.withFallbacks({fallbacks:[m]});return gl.from([{raw:d},v]).withConfig({runName:"StructuredOutputRunnable"})}}var Ds=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},Ro={searchParams:"URLSearchParams"in Ds,iterable:"Symbol"in Ds&&"iterator"in Symbol,blob:"FileReader"in Ds&&"Blob"in Ds&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in Ds,arrayBuffer:"ArrayBuffer"in Ds};function Htt(t){return t&&DataView.prototype.isPrototypeOf(t)}if(Ro.arrayBuffer)var Vtt=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Gtt=ArrayBuffer.isView||function(t){return t&&Vtt.indexOf(Object.prototype.toString.call(t))>-1};function Iv(t){if(typeof t!="string"&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||t==="")throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function u$(t){return typeof t!="string"&&(t=String(t)),t}function c$(t){var e={next:function(){var n=t.shift();return{done:n===void 0,value:n}}};return Ro.iterable&&(e[Symbol.iterator]=function(){return e}),e}function as(t){this.map={},t instanceof as?t.forEach(function(e,n){this.append(n,e)},this):Array.isArray(t)?t.forEach(function(e){if(e.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}as.prototype.append=function(t,e){t=Iv(t),e=u$(e);var n=this.map[t];this.map[t]=n?n+", "+e:e};as.prototype.delete=function(t){delete this.map[Iv(t)]};as.prototype.get=function(t){return t=Iv(t),this.has(t)?this.map[t]:null};as.prototype.has=function(t){return this.map.hasOwnProperty(Iv(t))};as.prototype.set=function(t,e){this.map[Iv(t)]=u$(e)};as.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)};as.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),c$(t)};as.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),c$(t)};as.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),c$(t)};Ro.iterable&&(as.prototype[Symbol.iterator]=as.prototype.entries);function HD(t){if(!t._noBody){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}}function Pve(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function Wtt(t){var e=new FileReader,n=Pve(e);return e.readAsArrayBuffer(t),n}function Ktt(t){var e=new FileReader,n=Pve(e),r=/charset=([A-Za-z0-9_-]+)/.exec(t.type),i=r?r[1]:"utf-8";return e.readAsText(t,i),n}function Ytt(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function Aie(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function Lve(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?typeof t=="string"?this._bodyText=t:Ro.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:Ro.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:Ro.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():Ro.arrayBuffer&&Ro.blob&&Htt(t)?(this._bodyArrayBuffer=Aie(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Ro.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||Gtt(t))?this._bodyArrayBuffer=Aie(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof t=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Ro.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Ro.blob&&(this.blob=function(){var t=HD(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=HD(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(Ro.blob)return this.blob().then(Wtt);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var t=HD(this);if(t)return t;if(this._bodyBlob)return Ktt(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Ytt(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Ro.formData&&(this.formData=function(){return this.text().then(Qtt)}),this.json=function(){return this.text().then(JSON.parse)},this}var Xtt=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function Ztt(t){var e=t.toUpperCase();return Xtt.indexOf(e)>-1?e:t}function T0(t,e){if(!(this instanceof T0))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e=e||{};var n=e.body;if(t instanceof T0){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new as(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,!n&&t._bodyInit!=null&&(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new as(e.headers)),this.method=Ztt(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||function(){if("AbortController"in Ds){var a=new AbortController;return a.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),(this.method==="GET"||this.method==="HEAD")&&(e.cache==="no-store"||e.cache==="no-cache")){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+new Date().getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}T0.prototype.clone=function(){return new T0(this,{body:this._bodyInit})};function Qtt(t){var e=new FormData;return t.trim().split("&").forEach(function(n){if(n){var r=n.split("="),i=r.shift().replace(/\+/g," "),a=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(a))}}),e}function Jtt(t){var e=new as,n=t.replace(/\r?\n[\t ]+/g," ");return n.split("\r").map(function(r){return r.indexOf(`
`)===0?r.substr(1,r.length):r}).forEach(function(r){var i=r.split(":"),a=i.shift().trim();if(a){var s=i.join(":").trim();try{e.append(a,s)}catch(o){console.warn("Response "+o.message)}}}),e}Lve.call(T0.prototype);function Xd(t,e){if(!(this instanceof Xd))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=e.status===void 0?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText===void 0?"":""+e.statusText,this.headers=new as(e.headers),this.url=e.url||"",this._initBody(t)}Lve.call(Xd.prototype);Xd.prototype.clone=function(){return new Xd(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new as(this.headers),url:this.url})};Xd.error=function(){var t=new Xd(null,{status:200,statusText:""});return t.ok=!1,t.status=0,t.type="error",t};var ent=[301,302,303,307,308];Xd.redirect=function(t,e){if(ent.indexOf(e)===-1)throw new RangeError("Invalid status code");return new Xd(null,{status:e,headers:{location:t}})};var Zg=Ds.DOMException;try{new Zg}catch{Zg=function(e,n){this.message=e,this.name=n;var r=Error(e);this.stack=r.stack},Zg.prototype=Object.create(Error.prototype),Zg.prototype.constructor=Zg}function Dve(t,e){return new Promise(function(n,r){var i=new T0(t,e);if(i.signal&&i.signal.aborted)return r(new Zg("Aborted","AbortError"));var a=new XMLHttpRequest;function s(){a.abort()}a.onload=function(){var u={statusText:a.statusText,headers:Jtt(a.getAllResponseHeaders()||"")};i.url.indexOf("file://")===0&&(a.status<200||a.status>599)?u.status=200:u.status=a.status,u.url="responseURL"in a?a.responseURL:u.headers.get("X-Request-URL");var d="response"in a?a.response:a.responseText;setTimeout(function(){n(new Xd(d,u))},0)},a.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},a.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request timed out"))},0)},a.onabort=function(){setTimeout(function(){r(new Zg("Aborted","AbortError"))},0)};function o(u){try{return u===""&&Ds.location.href?Ds.location.href:u}catch{return u}}if(a.open(i.method,o(i.url),!0),i.credentials==="include"?a.withCredentials=!0:i.credentials==="omit"&&(a.withCredentials=!1),"responseType"in a&&(Ro.blob?a.responseType="blob":Ro.arrayBuffer&&(a.responseType="arraybuffer")),e&&typeof e.headers=="object"&&!(e.headers instanceof as||Ds.Headers&&e.headers instanceof Ds.Headers)){var l=[];Object.getOwnPropertyNames(e.headers).forEach(function(u){l.push(Iv(u)),a.setRequestHeader(u,u$(e.headers[u]))}),i.headers.forEach(function(u,d){l.indexOf(d)===-1&&a.setRequestHeader(d,u)})}else i.headers.forEach(function(u,d){a.setRequestHeader(d,u)});i.signal&&(i.signal.addEventListener("abort",s),a.onreadystatechange=function(){a.readyState===4&&i.signal.removeEventListener("abort",s)}),a.send(typeof i._bodyInit>"u"?null:i._bodyInit)})}Dve.polyfill=!0;Ds.fetch||(Ds.fetch=Dve,Ds.Headers=as,Ds.Request=T0,Ds.Response=Xd);const tnt="0.5.13",Fve="11434",Bve=`http://127.0.0.1:${Fve}`;var nnt=Object.defineProperty,rnt=(t,e,n)=>e in t?nnt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,VD=(t,e,n)=>(rnt(t,typeof e!="symbol"?e+"":e,n),n);class d$ extends Error{constructor(e,n){super(e),this.error=e,this.status_code=n,this.name="ResponseError",Error.captureStackTrace&&Error.captureStackTrace(this,d$)}}class int{constructor(e,n,r){VD(this,"abortController"),VD(this,"itr"),VD(this,"doneCallback"),this.abortController=e,this.itr=n,this.doneCallback=r}abort(){this.abortController.abort()}async*[Symbol.asyncIterator](){for await(const e of this.itr){if("error"in e)throw new Error(e.error);if(yield e,e.done||e.status==="success"){this.doneCallback();return}}throw new Error("Did not receive done or success response in stream.")}}const h$=async t=>{if(t.ok)return;let e=`Error ${t.status}: ${t.statusText}`,n=null;if(t.headers.get("content-type")?.includes("application/json"))try{n=await t.json(),e=n.error||e}catch{console.log("Failed to parse error response as JSON")}else try{console.log("Getting text from response"),e=await t.text()||e}catch{console.log("Failed to get text from error response")}throw new d$(e,t.status)};function ant(){return typeof window<"u"&&window.navigator?`${window.navigator.platform.toLowerCase()} Browser/${navigator.userAgent};`:typeof process<"u"?`${process.arch} ${process.platform} Node.js/${process.version}`:""}const f$=async(t,e,n={})=>{const r={"Content-Type":"application/json",Accept:"application/json","User-Agent":`ollama-js/${tnt} (${ant()})`};n.headers||(n.headers={});const i=Object.fromEntries(Object.entries(n.headers).filter(([a])=>!Object.keys(r).some(s=>s.toLowerCase()===a.toLowerCase())));return n.headers={...r,...i},t(e,n)},Cie=async(t,e,n)=>{const r=await f$(t,e,{headers:n?.headers});return await h$(r),r},Ay=async(t,e,n,r)=>{const a=(o=>o!==null&&typeof o=="object"&&!Array.isArray(o))(n)?JSON.stringify(n):n,s=await f$(t,e,{method:"POST",body:a,signal:r?.signal,headers:r?.headers});return await h$(s),s},snt=async(t,e,n,r)=>{const i=await f$(t,e,{method:"DELETE",body:JSON.stringify(n),headers:r?.headers});return await h$(i),i},ont=async function*(t){const e=new TextDecoder("utf-8");let n="";const r=t.getReader();for(;;){const{done:i,value:a}=await r.read();if(i)break;n+=e.decode(a);const s=n.split(`
`);n=s.pop()??"";for(const o of s)try{yield JSON.parse(o)}catch{console.warn("invalid json: ",o)}}for(const i of n.split(`
`).filter(a=>a!==""))try{yield JSON.parse(i)}catch{console.warn("invalid json: ",i)}},lnt=t=>{if(!t)return Bve;let e=t.includes("://");t.startsWith(":")&&(t=`http://127.0.0.1${t}`,e=!0),e||(t=`http://${t}`);const n=new URL(t);let r=n.port;r||(e?r=n.protocol==="https:"?"443":"80":r=Fve);let i=`${n.protocol}//${n.hostname}:${r}${n.pathname}`;return i.endsWith("/")&&(i=i.slice(0,-1)),i};var unt=Object.defineProperty,cnt=(t,e,n)=>e in t?unt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,GD=(t,e,n)=>(cnt(t,typeof e!="symbol"?e+"":e,n),n);let p$=class{constructor(e){GD(this,"config"),GD(this,"fetch"),GD(this,"ongoingStreamedRequests",[]),this.config={host:"",headers:e?.headers},e?.proxy||(this.config.host=lnt(e?.host??Bve)),this.fetch=e?.fetch??fetch}abort(){for(const e of this.ongoingStreamedRequests)e.abort();this.ongoingStreamedRequests.length=0}async processStreamableRequest(e,n){n.stream=n.stream??!1;const r=`${this.config.host}/api/${e}`;if(n.stream){const a=new AbortController,s=await Ay(this.fetch,r,n,{signal:a.signal,headers:this.config.headers});if(!s.body)throw new Error("Missing body");const o=ont(s.body),l=new int(a,o,()=>{const u=this.ongoingStreamedRequests.indexOf(l);u>-1&&this.ongoingStreamedRequests.splice(u,1)});return this.ongoingStreamedRequests.push(l),l}return await(await Ay(this.fetch,r,n,{headers:this.config.headers})).json()}async encodeImage(e){if(typeof e!="string"){const n=new Uint8Array(e);let r="";const i=n.byteLength;for(let a=0;a<i;a++)r+=String.fromCharCode(n[a]);return btoa(r)}return e}async generate(e){return e.images&&(e.images=await Promise.all(e.images.map(this.encodeImage.bind(this)))),this.processStreamableRequest("generate",e)}async chat(e){if(e.messages)for(const n of e.messages)n.images&&(n.images=await Promise.all(n.images.map(this.encodeImage.bind(this))));return this.processStreamableRequest("chat",e)}async create(e){return this.processStreamableRequest("create",{...e})}async pull(e){return this.processStreamableRequest("pull",{name:e.model,stream:e.stream,insecure:e.insecure})}async push(e){return this.processStreamableRequest("push",{name:e.model,stream:e.stream,insecure:e.insecure})}async delete(e){return await snt(this.fetch,`${this.config.host}/api/delete`,{name:e.model},{headers:this.config.headers}),{status:"success"}}async copy(e){return await Ay(this.fetch,`${this.config.host}/api/copy`,{...e},{headers:this.config.headers}),{status:"success"}}async list(){return await(await Cie(this.fetch,`${this.config.host}/api/tags`,{headers:this.config.headers})).json()}async show(e){return await(await Ay(this.fetch,`${this.config.host}/api/show`,{...e},{headers:this.config.headers})).json()}async embed(e){return await(await Ay(this.fetch,`${this.config.host}/api/embed`,{...e},{headers:this.config.headers})).json()}async embeddings(e){return await(await Ay(this.fetch,`${this.config.host}/api/embeddings`,{...e},{headers:this.config.headers})).json()}async ps(){return await(await Cie(this.fetch,`${this.config.host}/api/ps`,{headers:this.config.headers})).json()}};new p$;class dnt extends vm{constructor(e){let n=bv.from((s,o)=>this._enterHistory(s,o??{})).withConfig({runName:"loadHistory"});const r=e.historyMessagesKey??e.inputMessagesKey;r&&(n=qu.assign({[r]:n}).withConfig({runName:"insertHistory"}));const i=n.pipe(e.runnable.withListeners({onEnd:(s,o)=>this._exitHistory(s,o??{})})).withConfig({runName:"RunnableWithMessageHistory"}),a=e.config??{};super({...e,config:a,bound:i}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputMessagesKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputMessagesKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"historyMessagesKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"getMessageHistory",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnable=e.runnable,this.getMessageHistory=e.getMessageHistory,this.inputMessagesKey=e.inputMessagesKey,this.outputMessagesKey=e.outputMessagesKey,this.historyMessagesKey=e.historyMessagesKey}_getInputMessages(e){let n;if(typeof e=="object"&&!Array.isArray(e)&&!Oc(e)){let r;this.inputMessagesKey?r=this.inputMessagesKey:Object.keys(e).length===1?r=Object.keys(e)[0]:r="input",Array.isArray(e[r])&&Array.isArray(e[r][0])?n=e[r][0]:n=e[r]}else n=e;if(typeof n=="string")return[new Po(n)];if(Array.isArray(n))return n;if(Oc(n))return[n];throw new Error(`Expected a string, BaseMessage, or array of BaseMessages.
Got ${JSON.stringify(n,null,2)}`)}_getOutputMessages(e){let n;if(!Array.isArray(e)&&!Oc(e)&&typeof e!="string"){let r;this.outputMessagesKey!==void 0?r=this.outputMessagesKey:Object.keys(e).length===1?r=Object.keys(e)[0]:r="output",e.generations!==void 0?n=e.generations[0][0].message:n=e[r]}else n=e;if(typeof n=="string")return[new yl(n)];if(Array.isArray(n))return n;if(Oc(n))return[n];throw new Error(`Expected a string, BaseMessage, or array of BaseMessages. Received: ${JSON.stringify(n,null,2)}`)}async _enterHistory(e,n){const i=await(n?.configurable?.messageHistory).getMessages();return this.historyMessagesKey===void 0?i.concat(this._getInputMessages(e)):i}async _exitHistory(e,n){const r=n.configurable?.messageHistory;let i;Array.isArray(e.inputs)&&Array.isArray(e.inputs[0])?i=e.inputs[0]:i=e.inputs;let a=this._getInputMessages(i);if(this.historyMessagesKey===void 0){const l=await r.getMessages();a=a.slice(l.length)}const s=e.outputs;if(!s)throw new Error(`Output values from 'Run' undefined. Run: ${JSON.stringify(e,null,2)}`);const o=this._getOutputMessages(s);await r.addMessages([...a,...o])}async _mergeConfig(...e){const n=await super._mergeConfig(...e);if(!n.configurable||!n.configurable.sessionId){const i={[this.inputMessagesKey??"input"]:"foo"},a={configurable:{sessionId:"123"}};throw new Error(`sessionId is required. Pass it in as part of the config argument to .invoke() or .stream()
eg. chain.invoke(${JSON.stringify(i)}, ${JSON.stringify(a)})`)}const{sessionId:r}=n.configurable;return n.configurable.messageHistory=await this.getMessageHistory(r),n}}function Uve(t,e){const n=typeof e=="number"?void 0:e;return{name:t.name,description:t.description,parameters:Af(t.schema),...n?.strict!==void 0?{strict:n.strict}:{}}}function Rie(t,e){let n;return QS(t)?n={type:"function",function:Uve(t)}:n=t,n}function hnt(t){return t!==void 0&&Array.isArray(t.lc_namespace)}function fnt(t){return t!==void 0&&Aa.isRunnable(t)&&"lc_name"in t.constructor&&typeof t.constructor.lc_name=="function"&&t.constructor.lc_name()==="RunnableToolLike"}function pnt(t){return!!t&&typeof t=="object"&&"name"in t&&"schema"in t&&ZS(t.schema)}function QS(t){return pnt(t)||fnt(t)||hnt(t)}class m$ extends Aa{parseResultWithPrompt(e,n,r){return this.parseResult(e,r)}_baseMessageToString(e){return typeof e.content=="string"?e.content:this._baseMessageContentToString(e.content)}_baseMessageContentToString(e){return JSON.stringify(e)}async invoke(e,n){return typeof e=="string"?this._callWithConfig(async(r,i)=>this.parseResult([{text:r}],i?.callbacks),e,{...n,runType:"parser"}):this._callWithConfig(async(r,i)=>this.parseResult([{message:r,text:this._baseMessageToString(r)}],i?.callbacks),e,{...n,runType:"parser"})}}class g$ extends m${parseResult(e,n){return this.parse(e[0].text,n)}async parseWithPrompt(e,n,r){return this.parse(e,r)}_type(){throw new Error("_type not implemented")}}class Lf extends Error{constructor(e,n,r,i=!1){if(super(e),Object.defineProperty(this,"llmOutput",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"observation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sendToLLM",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.llmOutput=n,this.observation=r,this.sendToLLM=i,i&&(r===void 0||n===void 0))throw new Error("Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true");tC(this,"OUTPUT_PARSING_FAILURE")}}function I8(t,e){const n=typeof t;if(n!==typeof e)return!1;if(Array.isArray(t)){if(!Array.isArray(e))return!1;const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(!I8(t[i],e[i]))return!1;return!0}if(n==="object"){if(!t||!e)return t===e;const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(const s of r)if(!I8(t[s],e[s]))return!1;return!0}return t===e}class mnt extends g${async*_transform(e){for await(const n of e)typeof n=="string"?yield this.parseResult([{text:n}]):yield this.parseResult([{message:n,text:this._baseMessageToString(n)}])}async*transform(e,n){yield*this._transformStreamWithConfig(e,this._transform.bind(this),{...n,runType:"parser"})}}class jve extends mnt{constructor(e){super(e),Object.defineProperty(this,"diff",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.diff=e?.diff??this.diff}async*_transform(e){let n,r;for await(const i of e){if(typeof i!="string"&&typeof i.content!="string")throw new Error("Cannot handle non-string output.");let a;if(HIe(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");a=new jc({message:i,text:i.content})}else if(Oc(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");a=new jc({message:JIe(i),text:i.content})}else a=new $b({text:i});r===void 0?r=a:r=r.concat(a);const s=await this.parsePartialResult([r]);s!=null&&!I8(s,n)&&(this.diff?yield this._diff(n,s):yield s,n=s)}}getFormatInstructions(){return""}}class N8 extends g${static lc_name(){return"StructuredOutputParser"}toJSON(){return this.toJSONNotImplemented()}constructor(e){super(e),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","structured"]})}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){const n=yf.object(Object.fromEntries(Object.entries(e).map(([r,i])=>[r,yf.string().describe(i)])));return new this(n)}getFormatInstructions(){return`You must format your output as a JSON value that adheres to a given "JSON Schema" instance.

"JSON Schema" is a declarative language that allows you to annotate and validate JSON documents.

For example, the example "JSON Schema" instance {{"properties": {{"foo": {{"description": "a list of test words", "type": "array", "items": {{"type": "string"}}}}}}, "required": ["foo"]}}}}
would match an object with one required property, "foo". The "type" property specifies "foo" must be an "array", and the "description" property semantically describes it as "a list of test words". The items within "foo" must be strings.
Thus, the object {{"foo": ["bar", "baz"]}} is a well-formatted instance of this example "JSON Schema". The object {{"properties": {{"foo": ["bar", "baz"]}}}} is not well-formatted.

Your output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!

Here is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:
\`\`\`json
${JSON.stringify(Af(this.schema))}
\`\`\`
`}async parse(e){try{const r=(e.includes("```")?e.trim().split(/```(?:json)?/)[1]:e.trim()).replace(/"([^"\\]*(\\.[^"\\]*)*)"/g,(i,a)=>`"${a.replace(/\n/g,"\\n")}"`).replace(/\n/g,"");return await this.schema.parseAsync(JSON.parse(r))}catch(n){throw new Lf(`Failed to parse. Text: "${e}". Error: ${n}`,e)}}}class O8 extends jve{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","output_parsers"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"JsonOutputParser"}_diff(e,n){if(n)return e?L4e(e,n):[{op:"replace",path:"",value:n}]}async parsePartialResult(e){return OG(e[0].text)}async parse(e){return OG(e,JSON.parse)}getFormatInstructions(){return""}}function Iie(t,e){return new _s({content:t.content??"",tool_call_chunks:t.tool_calls?.map(n=>({name:n.function.name,args:JSON.stringify(n.function.arguments),type:"tool_call_chunk",index:0,id:No()})),response_metadata:e?.responseMetadata,usage_metadata:e?.usageMetadata})}function Nie(t){const e=t.match(/^data:.*?;base64,(.*)$/);return e?e[1]:""}function gnt(t){if(typeof t.content=="string")return[{role:"assistant",content:t.content}];const n=t.content.filter(i=>i.type==="text"&&typeof i.text=="string").map(i=>({role:"assistant",content:i.text}));let r;if(t.content.find(i=>i.type==="tool_use")&&t.tool_calls?.length){const i=t.tool_calls?.map(a=>({id:a.id,type:"function",function:{name:a.name,arguments:a.args}}));i&&(r={role:"assistant",tool_calls:i,content:""})}else if(t.content.find(i=>i.type==="tool_use")&&!t.tool_calls?.length)throw new Error("'tool_use' content type is not supported without tool calls.");return[...n,...r?[r]:[]]}function ynt(t){return typeof t.content=="string"?[{role:"user",content:t.content}]:t.content.map(e=>{if(e.type==="text")return{role:"user",content:e.text};if(e.type==="image_url"){if(typeof e.image_url=="string")return{role:"user",content:"",images:[Nie(e.image_url)]};if(e.image_url.url&&typeof e.image_url.url=="string")return{role:"user",content:"",images:[Nie(e.image_url.url)]}}throw new Error(`Unsupported content type: ${e.type}`)})}function bnt(t){if(typeof t.content=="string")return[{role:"system",content:t.content}];if(t.content.every(e=>e.type==="text"&&typeof e.text=="string"))return t.content.map(e=>({role:"system",content:e.text}));throw new Error(`Unsupported content type(s): ${t.content.map(e=>e.type).join(", ")}`)}function vnt(t){if(typeof t.content!="string")throw new Error("Non string tool message content is not supported");return[{role:"tool",content:t.content}]}function wnt(t){return t.flatMap(e=>{if(["human","generic"].includes(e._getType()))return ynt(e);if(e._getType()==="ai")return gnt(e);if(e._getType()==="system")return bnt(e);if(e._getType()==="tool")return vnt(e);throw new Error(`Unsupported message type: ${e._getType()}`)})}class _nt extends Nc{static lc_name(){return"ChatOllama"}constructor(e){super(e??{}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"llama3"}),Object.defineProperty(this,"numa",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numCtx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numBatch",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numGpu",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mainGpu",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lowVram",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"f16Kv",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logitsAll",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"vocabOnly",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"useMmap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"useMlock",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"embeddingOnly",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numThread",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numKeep",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"seed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numPredict",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topK",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tfsZ",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"typicalP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"repeatLastN",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"repeatPenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mirostat",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mirostatTau",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mirostatEta",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"penalizeNewline",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"format",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keepAlive",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"checkOrPullModel",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"baseUrl",{enumerable:!0,configurable:!0,writable:!0,value:"http://127.0.0.1:11434"}),this.client=new p$({host:e?.baseUrl,headers:e?.headers}),this.baseUrl=e?.baseUrl??this.baseUrl,this.model=e?.model??this.model,this.numa=e?.numa,this.numCtx=e?.numCtx,this.numBatch=e?.numBatch,this.numGpu=e?.numGpu,this.mainGpu=e?.mainGpu,this.lowVram=e?.lowVram,this.f16Kv=e?.f16Kv,this.logitsAll=e?.logitsAll,this.vocabOnly=e?.vocabOnly,this.useMmap=e?.useMmap,this.useMlock=e?.useMlock,this.embeddingOnly=e?.embeddingOnly,this.numThread=e?.numThread,this.numKeep=e?.numKeep,this.seed=e?.seed,this.numPredict=e?.numPredict,this.topK=e?.topK,this.topP=e?.topP,this.tfsZ=e?.tfsZ,this.typicalP=e?.typicalP,this.repeatLastN=e?.repeatLastN,this.temperature=e?.temperature,this.repeatPenalty=e?.repeatPenalty,this.presencePenalty=e?.presencePenalty,this.frequencyPenalty=e?.frequencyPenalty,this.mirostat=e?.mirostat,this.mirostatTau=e?.mirostatTau,this.mirostatEta=e?.mirostatEta,this.penalizeNewline=e?.penalizeNewline,this.streaming=e?.streaming,this.format=e?.format,this.keepAlive=e?.keepAlive,this.checkOrPullModel=e?.checkOrPullModel??this.checkOrPullModel}_llmType(){return"ollama"}async pull(e,n){const{stream:r,insecure:i,logProgress:a}={stream:!0,...n};if(r)for await(const s of await this.client.pull({model:e,insecure:i,stream:r}))a&&console.log(s);else{const s=await this.client.pull({model:e,insecure:i});a&&console.log(s)}}bindTools(e,n){return this.bind({tools:e.map(r=>Rie(r)),...n})}getLsParams(e){const n=this.invocationParams(e);return{ls_provider:"ollama",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:n.options?.temperature??void 0,ls_max_tokens:n.options?.num_predict??void 0,ls_stop:e.stop}}invocationParams(e){if(e?.tool_choice)throw new Error("Tool choice is not supported for ChatOllama.");return{model:this.model,format:e?.format??this.format,keep_alive:this.keepAlive,options:{numa:this.numa,num_ctx:this.numCtx,num_batch:this.numBatch,num_gpu:this.numGpu,main_gpu:this.mainGpu,low_vram:this.lowVram,f16_kv:this.f16Kv,logits_all:this.logitsAll,vocab_only:this.vocabOnly,use_mmap:this.useMmap,use_mlock:this.useMlock,embedding_only:this.embeddingOnly,num_thread:this.numThread,num_keep:this.numKeep,seed:this.seed,num_predict:this.numPredict,top_k:this.topK,top_p:this.topP,tfs_z:this.tfsZ,typical_p:this.typicalP,repeat_last_n:this.repeatLastN,temperature:this.temperature,repeat_penalty:this.repeatPenalty,presence_penalty:this.presencePenalty,frequency_penalty:this.frequencyPenalty,mirostat:this.mirostat,mirostat_tau:this.mirostatTau,mirostat_eta:this.mirostatEta,penalize_newline:this.penalizeNewline,stop:e?.stop},tools:e?.tools?.length?e.tools.map(n=>Rie(n)):void 0}}async checkModelExistsOnMachine(e){const{models:n}=await this.client.list();return!!n.find(r=>r.name===e||r.name===`${e}:latest`)}async _generate(e,n,r){this.checkOrPullModel&&(await this.checkModelExistsOnMachine(this.model)||await this.pull(this.model,{logProgress:!0}));let i;for await(const s of this._streamResponseChunks(e,n,r))i?i=Bu(i,s.message):i=s.message;const a=new yl({id:i?.id,content:i?.content??"",tool_calls:i?.tool_calls,response_metadata:i?.response_metadata,usage_metadata:i?.usage_metadata});return{generations:[{text:typeof a.content=="string"?a.content:"",message:a}]}}async*_streamResponseChunks(e,n,r){this.checkOrPullModel&&(await this.checkModelExistsOnMachine(this.model)||await this.pull(this.model,{logProgress:!0}));const i=this.invocationParams(n),a=wnt(e),s={input_tokens:0,output_tokens:0,total_tokens:0};if(i.tools&&i.tools.length>0){const u=await this.client.chat({...i,messages:a,stream:!1}),{message:d,...h}=u;return s.input_tokens+=h.prompt_eval_count??0,s.output_tokens+=h.eval_count??0,s.total_tokens=s.input_tokens+s.output_tokens,yield new jc({text:d.content,message:Iie(d,{responseMetadata:h,usageMetadata:s})}),r?.handleLLMNewToken(d.content)}const o=await this.client.chat({...i,messages:a,stream:!0});let l;for await(const u of o){n.signal?.aborted&&this.client.abort();const{message:d,...h}=u;s.input_tokens+=h.prompt_eval_count??0,s.output_tokens+=h.eval_count??0,s.total_tokens=s.input_tokens+s.output_tokens,l=h,yield new jc({text:d.content??"",message:Iie(d)}),await r?.handleLLMNewToken(d.content??"")}yield new jc({text:"",message:new _s({content:"",response_metadata:l,usage_metadata:s})})}withStructuredOutput(e,n){if(n?.method===void 0||n?.method==="jsonSchema"){const r=ZS(e),i=r?Af(e):e,a=this.bind({format:i}),s=r?N8.fromZodSchema(e):new O8;if(!n?.includeRaw)return a.pipe(s);const o=qu.assign({parsed:(d,h)=>s.invoke(d.raw,h)}),l=qu.assign({parsed:()=>null}),u=o.withFallbacks({fallbacks:[l]});return gl.from([{raw:a},u])}else return super.withStructuredOutput(e,n)}}let y$=class{constructor(e){Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.caller=new uC(e??{})}};class Snt extends y${constructor(e){super({maxConcurrency:1,...e}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"mxbai-embed-large"}),Object.defineProperty(this,"baseUrl",{enumerable:!0,configurable:!0,writable:!0,value:"http://localhost:11434"}),Object.defineProperty(this,"keepAlive",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"requestOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"truncate",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.client=new p$({host:e?.baseUrl,headers:e?.headers?new Headers(e.headers):void 0}),this.baseUrl=e?.baseUrl??this.baseUrl,this.model=e?.model??this.model,this.keepAlive=e?.keepAlive,this.truncate=e?.truncate??this.truncate,this.requestOptions=e?.requestOptions?this._convertOptions(e?.requestOptions):void 0}_convertOptions(e){const n={},r={embeddingOnly:"embedding_only",frequencyPenalty:"frequency_penalty",keepAlive:"keep_alive",logitsAll:"logits_all",lowVram:"low_vram",mainGpu:"main_gpu",mirostat:"mirostat",mirostatEta:"mirostat_eta",mirostatTau:"mirostat_tau",numBatch:"num_batch",numCtx:"num_ctx",numGpu:"num_gpu",numKeep:"num_keep",numPredict:"num_predict",numThread:"num_thread",penalizeNewline:"penalize_newline",presencePenalty:"presence_penalty",repeatLastN:"repeat_last_n",repeatPenalty:"repeat_penalty",temperature:"temperature",stop:"stop",tfsZ:"tfs_z",topK:"top_k",topP:"top_p",typicalP:"typical_p",useMlock:"use_mlock",useMmap:"use_mmap",vocabOnly:"vocab_only",f16Kv:"f16_kv",numa:"numa",seed:"seed"};for(const[i,a]of Object.entries(e)){const s=r[i];s?n[s]=a:n[i]=a}return n}async embedDocuments(e){return this.embeddingWithRetry(e)}async embedQuery(e){return(await this.embeddingWithRetry([e]))[0]}async embeddingWithRetry(e){return(await this.caller.call(()=>this.client.embed({model:this.model,input:e,keep_alive:this.keepAlive,options:this.requestOptions,truncate:this.truncate}))).embeddings}}const M8="RFC3986",P8={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},xnt="RFC1738",Ent=Array.isArray,_d=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),WD=1024,knt=(t,e,n,r,i)=>{if(t.length===0)return t;let a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let s="";for(let o=0;o<a.length;o+=WD){const l=a.length>=WD?a.slice(o,o+WD):a,u=[];for(let d=0;d<l.length;++d){let h=l.charCodeAt(d);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||i===xnt&&(h===40||h===41)){u[u.length]=l.charAt(d);continue}if(h<128){u[u.length]=_d[h];continue}if(h<2048){u[u.length]=_d[192|h>>6]+_d[128|h&63];continue}if(h<55296||h>=57344){u[u.length]=_d[224|h>>12]+_d[128|h>>6&63]+_d[128|h&63];continue}d+=1,h=65536+((h&1023)<<10|l.charCodeAt(d)&1023),u[u.length]=_d[240|h>>18]+_d[128|h>>12&63]+_d[128|h>>6&63]+_d[128|h&63]}s+=u.join("")}return s};function Tnt(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function Oie(t,e){if(Ent(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const Ant=Object.prototype.hasOwnProperty,zve={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},Id=Array.isArray,Cnt=Array.prototype.push,$ve=function(t,e){Cnt.apply(t,Id(e)?e:[e])},Rnt=Date.prototype.toISOString,Qa={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:knt,encodeValuesOnly:!1,format:M8,formatter:P8[M8],indices:!1,serializeDate(t){return Rnt.call(t)},skipNulls:!1,strictNullHandling:!1};function Int(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const KD={};function qve(t,e,n,r,i,a,s,o,l,u,d,h,p,m,v,w,k,T){let C=t,N=T,F=0,D=!1;for(;(N=N.get(KD))!==void 0&&!D;){const Q=N.get(t);if(F+=1,typeof Q<"u"){if(Q===F)throw new RangeError("Cyclic object value");D=!0}typeof N.get(KD)>"u"&&(F=0)}if(typeof u=="function"?C=u(e,C):C instanceof Date?C=p?.(C):n==="comma"&&Id(C)&&(C=Oie(C,function(Q){return Q instanceof Date?p?.(Q):Q})),C===null){if(a)return l&&!w?l(e,Qa.encoder,k,"key",m):e;C=""}if(Int(C)||Tnt(C)){if(l){const Q=w?e:l(e,Qa.encoder,k,"key",m);return[v?.(Q)+"="+v?.(l(C,Qa.encoder,k,"value",m))]}return[v?.(e)+"="+v?.(String(C))]}const U=[];if(typeof C>"u")return U;let G;if(n==="comma"&&Id(C))w&&l&&(C=Oie(C,l)),G=[{value:C.length>0?C.join(",")||null:void 0}];else if(Id(u))G=u;else{const Q=Object.keys(C);G=d?Q.sort(d):Q}const se=o?String(e).replace(/\./g,"%2E"):String(e),re=r&&Id(C)&&C.length===1?se+"[]":se;if(i&&Id(C)&&C.length===0)return re+"[]";for(let Q=0;Q<G.length;++Q){const ce=G[Q],Ie=typeof ce=="object"&&typeof ce.value<"u"?ce.value:C[ce];if(s&&Ie===null)continue;const qe=h&&o?ce.replace(/\./g,"%2E"):ce,xe=Id(C)?typeof n=="function"?n(re,qe):re:re+(h?"."+qe:"["+qe+"]");T.set(t,F);const Ce=new WeakMap;Ce.set(KD,T),$ve(U,qve(Ie,xe,n,r,i,a,s,o,n==="comma"&&w&&Id(C)?null:l,u,d,h,p,m,v,w,k,Ce))}return U}function Nnt(t=Qa){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||Qa.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=M8;if(typeof t.format<"u"){if(!Ant.call(P8,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=P8[n];let i=Qa.filter;(typeof t.filter=="function"||Id(t.filter))&&(i=t.filter);let a;if(t.arrayFormat&&t.arrayFormat in zve?a=t.arrayFormat:"indices"in t?a=t.indices?"indices":"repeat":a=Qa.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const s=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:Qa.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Qa.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Qa.allowEmptyArrays,arrayFormat:a,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Qa.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?Qa.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Qa.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:Qa.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:Qa.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Qa.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Qa.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Qa.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Qa.strictNullHandling}}function Ont(t,e={}){let n=t;const r=Nnt(e);let i,a;typeof r.filter=="function"?(a=r.filter,n=a("",n)):Id(r.filter)&&(a=r.filter,i=a);const s=[];if(typeof n!="object"||n===null)return"";const o=zve[r.arrayFormat],l=o==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);const u=new WeakMap;for(let p=0;p<i.length;++p){const m=i[p];r.skipNulls&&n[m]===null||$ve(s,qve(n[m],m,o,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const d=s.join(r.delimiter);let h=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),d.length>0?h+d:""}const nb="4.85.4";let Mie=!1,Y_,Hve,Vve,L8,Gve,Wve,Kve,Yve,Xve;function Mnt(t,e={auto:!1}){if(Mie)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(Y_)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${Y_}'\``);Mie=e.auto,Y_=t.kind,Hve=t.fetch,Vve=t.FormData,L8=t.File,Gve=t.ReadableStream,Wve=t.getMultipartRequestOptions,Kve=t.getDefaultAgent,Yve=t.fileFromPath,Xve=t.isFsReadStream}let Pnt=class{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}};function Lnt({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,i,a;try{n=fetch,r=Request,i=Response,a=Headers}catch(s){throw new Error(`this environment is missing the following Web Fetch API type: ${s.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:i,Headers:a,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(s,o)=>({...o,body:new Pnt(s)}),getDefaultAgent:s=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:s=>!1}}Y_||Mnt(Lnt(),{auto:!0});class Mr extends Error{}let bl=class D8 extends Mr{constructor(e,n,r,i){super(`${D8.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.request_id=i?.["x-request-id"],this.error=n;const a=n;this.code=a?.code,this.param=a?.param,this.type=a?.type}static makeMessage(e,n,r){const i=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new VR({message:r,cause:B8(n)});const a=n?.error;return e===400?new Zve(e,a,r,i):e===401?new Qve(e,a,r,i):e===403?new Jve(e,a,r,i):e===404?new ewe(e,a,r,i):e===409?new twe(e,a,r,i):e===422?new nwe(e,a,r,i):e===429?new rwe(e,a,r,i):e>=500?new iwe(e,a,r,i):new D8(e,a,r,i)}},Du=class extends bl{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},VR=class extends bl{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}},GR=class extends VR{constructor({message:e}={}){super({message:e??"Request timed out."})}},Zve=class extends bl{},Qve=class extends bl{},Jve=class extends bl{},ewe=class extends bl{},twe=class extends bl{},nwe=class extends bl{},rwe=class extends bl{},iwe=class extends bl{};class awe extends Mr{constructor(){super("Could not parse response content as the length limit was reached")}}class swe extends Mr{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var BE=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Mg=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},jl;let WR=class{constructor(){jl.set(this,void 0),this.buffer=new Uint8Array,BE(this,jl,null,"f")}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?new TextEncoder().encode(e):e;let r=new Uint8Array(this.buffer.length+n.length);r.set(this.buffer),r.set(n,this.buffer.length),this.buffer=r;const i=[];let a;for(;(a=Dnt(this.buffer,Mg(this,jl,"f")))!=null;){if(a.carriage&&Mg(this,jl,"f")==null){BE(this,jl,a.index,"f");continue}if(Mg(this,jl,"f")!=null&&(a.index!==Mg(this,jl,"f")+1||a.carriage)){i.push(this.decodeText(this.buffer.slice(0,Mg(this,jl,"f")-1))),this.buffer=this.buffer.slice(Mg(this,jl,"f")),BE(this,jl,null,"f");continue}const s=Mg(this,jl,"f")!==null?a.preceding-1:a.preceding,o=this.decodeText(this.buffer.slice(0,s));i.push(o),this.buffer=this.buffer.slice(a.index),BE(this,jl,null,"f")}return i}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new Mr(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Mr(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new Mr("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}};jl=new WeakMap;WR.NEWLINE_CHARS=new Set([`
`,"\r"]);WR.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Dnt(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function Fnt(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}function owe(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}let G1=class E_{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{for await(const s of Bnt(e,n))if(!a){if(s.data.startsWith("[DONE]")){a=!0;continue}if(s.event===null){let o;try{o=JSON.parse(s.data)}catch(l){throw console.error("Could not parse message into JSON:",s.data),console.error("From chunk:",s.raw),l}if(o&&o.error)throw new bl(void 0,o.error,void 0,void 0);yield o}else{let o;try{o=JSON.parse(s.data)}catch(l){throw console.error("Could not parse message into JSON:",s.data),console.error("From chunk:",s.raw),l}if(s.event=="error")throw new bl(void 0,o.error,o.message,void 0);yield{event:s.event,data:o}}}a=!0}catch(s){if(s instanceof Error&&s.name==="AbortError")return;throw s}finally{a||n.abort()}}return new E_(i,n)}static fromReadableStream(e,n){let r=!1;async function*i(){const s=new WR,o=owe(e);for await(const l of o)for(const u of s.decode(l))yield u;for(const l of s.flush())yield l}async function*a(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(const o of i())s||o&&(yield JSON.parse(o));s=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{s||n.abort()}}return new E_(a,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const s=r.next();e.push(s),n.push(s)}return a.shift()}});return[new E_(()=>i(e),this.controller),new E_(()=>i(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new Gve({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:a,done:s}=await n.next();if(s)return i.close();const o=r.encode(JSON.stringify(a)+`
`);i.enqueue(o)}catch(a){i.error(a)}},async cancel(){await n.return?.()}})}};async function*Bnt(t,e){if(!t.body)throw e.abort(),new Mr("Attempted to iterate over a response with no body");const n=new jnt,r=new WR,i=owe(t.body);for await(const a of Unt(i))for(const s of r.decode(a)){const o=n.decode(s);o&&(yield o)}for(const a of r.flush()){const s=n.decode(a);s&&(yield s)}}async function*Unt(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let i=new Uint8Array(e.length+r.length);i.set(e),i.set(r,e.length),e=i;let a;for(;(a=Fnt(e))!==-1;)yield e.slice(0,a),e=e.slice(a)}e.length>0&&(yield e)}let jnt=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=znt(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}};function znt(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}const lwe=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",uwe=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&KR(t),KR=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",$nt=t=>uwe(t)||lwe(t)||Xve(t);async function cwe(t,e,n){if(t=await t,uwe(t))return t;if(lwe(t)){const i=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const a=KR(i)?[await i.arrayBuffer()]:[i];return new L8(a,e,n)}const r=await qnt(t);if(e||(e=Vnt(t)??"unknown_file"),!n?.type){const i=r[0]?.type;typeof i=="string"&&(n={...n,type:i})}return new L8(r,e,n)}async function qnt(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(KR(t))e.push(await t.arrayBuffer());else if(Gnt(t))for await(const n of t)e.push(n);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${t?.constructor?.name}; props: ${Hnt(t)}`);return e}function Hnt(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function Vnt(t){return YD(t.name)||YD(t.filename)||YD(t.path)?.split(/[\\/]/).pop()}const YD=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},Gnt=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",Pie=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",Qb=async t=>{const e=await Wnt(t.body);return Wve(e,t)},Wnt=async t=>{const e=new Vve;return await Promise.all(Object.entries(t||{}).map(([n,r])=>F8(e,n,r))),e},F8=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if($nt(n)){const r=await cwe(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>F8(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>F8(t,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var dwe={},Knt=function(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},Ynt=function(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},UE;async function hwe(t){const{response:e}=t;if(t.options.stream)return Rb("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):G1.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type");if(n?.includes("application/json")||n?.includes("application/vnd.api+json")){const a=await e.json();return Rb("response",e.status,e.url,e.headers,a),fwe(a,e)}const i=await e.text();return Rb("response",e.status,e.url,e.headers,i),i}function fwe(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}let pwe=class mwe extends Promise{constructor(e,n=hwe){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new mwe(this.responsePromise,async n=>fwe(e(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}},Xnt=class{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e5,httpAgent:i,fetch:a}){this.baseURL=e,this.maxRetries=XD("maxRetries",n),this.timeout=XD("timeout",r),this.httpAgent=i,this.fetch=a??Hve}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...nrt(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${srt()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async i=>{const a=i&&KR(i?.body)?new DataView(await i.body.arrayBuffer()):i?.body instanceof DataView?i.body:i?.body instanceof ArrayBuffer?new DataView(i.body):i&&ArrayBuffer.isView(i?.body)?new DataView(i.body.buffer):i?.body;return{method:e,path:n,...i,body:a}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){e={...e};const{method:r,path:i,query:a,headers:s={}}=e,o=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:Pie(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,l=this.calculateContentLength(o),u=this.buildURL(i,a);"timeout"in e&&XD("timeout",e.timeout),e.timeout=e.timeout??this.timeout;const d=e.httpAgent??this.httpAgent??Kve(u),h=e.timeout+1e3;typeof d?.options?.timeout=="number"&&h>(d.options.timeout??0)&&(d.options.timeout=h),this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const p=this.buildHeaders({options:e,headers:s,contentLength:l,retryCount:n});return{req:{method:r,...o&&{body:o},headers:p,...d&&{agent:d},signal:e.signal??null},url:u,timeout:e.timeout}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:i}){const a={};r&&(a["content-length"]=r);const s=this.defaultHeaders(e);return Bie(a,s),Bie(a,n),Pie(e.body)&&Y_!=="node"&&delete a["content-type"],zE(s,"x-stainless-retry-count")===void 0&&zE(n,"x-stainless-retry-count")===void 0&&(a["x-stainless-retry-count"]=String(i)),zE(s,"x-stainless-timeout")===void 0&&zE(n,"x-stainless-timeout")===void 0&&e.timeout&&(a["x-stainless-timeout"]=String(e.timeout)),this.validateHeaders(a,n),a}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,i){return bl.generate(e,n,r,i)}request(e,n=null){return new pwe(this.makeRequest(e,n))}async makeRequest(e,n){const r=await e,i=r.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(r);const{req:a,url:s,timeout:o}=this.buildRequest(r,{retryCount:i-n});if(await this.prepareRequest(a,{url:s,options:r}),Rb("request",s,r,a.headers),r.signal?.aborted)throw new Du;const l=new AbortController,u=await this.fetchWithTimeout(s,a,o,l).catch(B8);if(u instanceof Error){if(r.signal?.aborted)throw new Du;if(n)return this.retryRequest(r,n);throw u.name==="AbortError"?new GR:new VR({cause:u})}const d=Qnt(u.headers);if(!u.ok){if(n&&this.shouldRetry(u)){const k=`retrying, ${n} attempts remaining`;return Rb(`response (error; ${k})`,u.status,s,d),this.retryRequest(r,n,d)}const h=await u.text().catch(k=>B8(k).message),p=rrt(h),m=p?void 0:h;throw Rb(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,u.status,s,d,m),this.makeStatusError(u.status,p,m,d)}return{response:u,options:r,controller:l}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new Znt(this,r,e)}buildURL(e,n){const r=art(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return ywe(i)||(n={...i,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Mr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,i){const{signal:a,...s}=n||{};a&&a.addEventListener("abort",()=>i.abort());const o=setTimeout(()=>i.abort(),r),l={signal:i.signal,...s};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,e,l).finally(()=>{clearTimeout(o)})}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let i;const a=r?.["retry-after-ms"];if(a){const o=parseFloat(a);Number.isNaN(o)||(i=o)}const s=r?.["retry-after"];if(s&&!i){const o=parseFloat(s);Number.isNaN(o)?i=Date.parse(s)-Date.now():i=o*1e3}if(!(i&&0<=i&&i<60*1e3)){const o=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,o)}return await JS(i),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,s=Math.min(.5*Math.pow(2,a),8),o=1-Math.random()*.25;return s*o*1e3}getUserAgent(){return`${this.constructor.name}/JS ${nb}`}},gwe=class{constructor(e,n,r,i){UE.set(this,void 0),Knt(this,UE,e),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new Mr("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const r=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[i,a]of r)e.url.searchParams.set(i,a);n.query=void 0,n.path=e.url.toString()}return await Ynt(this,UE,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(UE=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}},Znt=class extends pwe{constructor(e,n,r){super(n,async i=>new r(e,i.response,await hwe(i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}};const Qnt=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),Jnt={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},ao=t=>typeof t=="object"&&t!==null&&!ywe(t)&&Object.keys(t).every(e=>bwe(Jnt,e)),ert=()=>{if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nb,"X-Stainless-OS":Die(Deno.build.os),"X-Stainless-Arch":Lie(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nb,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nb,"X-Stainless-OS":Die(process.platform),"X-Stainless-Arch":Lie(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=trt();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nb,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nb,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function trt(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${a}.${s}`}}}return null}const Lie=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Die=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Fie;const nrt=()=>Fie??(Fie=ert()),rrt=t=>{try{return JSON.parse(t)}catch{return}},irt=/^[a-z][a-z0-9+.-]*:/i,art=t=>irt.test(t),JS=t=>new Promise(e=>setTimeout(e,t)),XD=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Mr(`${t} must be an integer`);if(e<0)throw new Mr(`${t} must be a positive integer`);return e},B8=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},jE=t=>{if(typeof process<"u")return dwe?.[t]?.trim()??void 0;if(typeof Deno<"u")return Deno.env?.get?.(t)?.trim()};function ywe(t){if(!t)return!0;for(const e in t)return!1;return!0}function bwe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Bie(t,e){for(const n in e){if(!bwe(e,n))continue;const r=n.toLowerCase();if(!r)continue;const i=e[n];i===null?delete t[r]:i!==void 0&&(t[r]=i)}}const Uie=new Set(["authorization","api-key"]);function Rb(t,...e){if(typeof process<"u"&&dwe?.DEBUG==="true"){const n=e.map(r=>{if(!r)return r;if(r.headers){const a={...r,headers:{...r.headers}};for(const s in r.headers)Uie.has(s.toLowerCase())&&(a.headers[s]="REDACTED");return a}let i=null;for(const a in r)Uie.has(a.toLowerCase())&&(i??(i={...r}),i[a]="REDACTED");return i??r});console.log(`OpenAI:DEBUG:${t}`,...n)}}const srt=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),ort=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",lrt=t=>typeof t?.get=="function",zE=(t,e)=>{const n=e.toLowerCase();if(lrt(t)){const r=e[0]?.toUpperCase()+e.substring(1).replace(/([^\w])(\w)/g,(i,a,s)=>a+s.toUpperCase());for(const i of[e,n,e.toUpperCase(),r]){const a=t.get(i);if(a)return a}}for(const[r,i]of Object.entries(t))if(r.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${e} header, using the first entry.`),i[0]):i};function ZD(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}let urt=class extends gwe{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}};class iu extends gwe{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){const e=this.getPaginatedItems();if(!e.length)return null;const n=e[e.length-1]?.id;return n?{params:{after:n}}:null}}let ti=class{constructor(e){this._client=e}},vwe=class extends ti{list(e,n={},r){return ao(n)?this.list(e,{},n):this._client.getAPIList(`/chat/completions/${e}/messages`,crt,{query:n,...r})}},YR=class extends ti{constructor(){super(...arguments),this.messages=new vwe(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(`/chat/completions/${e}`,n)}update(e,n,r){return this._client.post(`/chat/completions/${e}`,{body:n,...r})}list(e={},n){return ao(e)?this.list({},e):this._client.getAPIList("/chat/completions",XR,{query:e,...n})}del(e,n){return this._client.delete(`/chat/completions/${e}`,n)}};class XR extends iu{}class crt extends iu{}YR.ChatCompletionsPage=XR;YR.Messages=vwe;let ZR=class extends ti{constructor(){super(...arguments),this.completions=new YR(this._client)}};ZR.Completions=YR;ZR.ChatCompletionsPage=XR;class wwe extends ti{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:{Accept:"application/octet-stream",...n?.headers},__binaryResponse:!0})}}class _we extends ti{create(e,n){return this._client.post("/audio/transcriptions",Qb({body:e,...n,__metadata:{model:e.model}}))}}class Swe extends ti{create(e,n){return this._client.post("/audio/translations",Qb({body:e,...n,__metadata:{model:e.model}}))}}class ex extends ti{constructor(){super(...arguments),this.transcriptions=new _we(this._client),this.translations=new Swe(this._client),this.speech=new wwe(this._client)}}ex.Transcriptions=_we;ex.Translations=Swe;ex.Speech=wwe;let b$=class extends ti{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return ao(e)?this.list({},e):this._client.getAPIList("/batches",v$,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}};class v$ extends iu{}b$.BatchesPage=v$;class w$ extends ti{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(e,n,r){return this._client.post(`/assistants/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e={},n){return ao(e)?this.list({},e):this._client.getAPIList("/assistants",_$,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}}class _$ extends iu{}w$.AssistantsPage=_$;function jie(t){return typeof t.parse=="function"}const Ib=t=>t?.role==="assistant",xwe=t=>t?.role==="function",Ewe=t=>t?.role==="tool";var Ec=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},ra=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},U8,zk,$k,k_,T_,qk,A_,lf,C_,oA,lA,rb,kwe;class Twe{constructor(){U8.add(this),this.controller=new AbortController,zk.set(this,void 0),$k.set(this,()=>{}),k_.set(this,()=>{}),T_.set(this,void 0),qk.set(this,()=>{}),A_.set(this,()=>{}),lf.set(this,{}),C_.set(this,!1),oA.set(this,!1),lA.set(this,!1),rb.set(this,!1),Ec(this,zk,new Promise((e,n)=>{Ec(this,$k,e,"f"),Ec(this,k_,n,"f")}),"f"),Ec(this,T_,new Promise((e,n)=>{Ec(this,qk,e,"f"),Ec(this,A_,n,"f")}),"f"),ra(this,zk,"f").catch(()=>{}),ra(this,T_,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},ra(this,U8,"m",kwe).bind(this))},0)}_connected(){this.ended||(ra(this,$k,"f").call(this),this._emit("connect"))}get ended(){return ra(this,C_,"f")}get errored(){return ra(this,oA,"f")}get aborted(){return ra(this,lA,"f")}abort(){this.controller.abort()}on(e,n){return(ra(this,lf,"f")[e]||(ra(this,lf,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=ra(this,lf,"f")[e];if(!r)return this;const i=r.findIndex(a=>a.listener===n);return i>=0&&r.splice(i,1),this}once(e,n){return(ra(this,lf,"f")[e]||(ra(this,lf,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{Ec(this,rb,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){Ec(this,rb,!0,"f"),await ra(this,T_,"f")}_emit(e,...n){if(ra(this,C_,"f"))return;e==="end"&&(Ec(this,C_,!0,"f"),ra(this,qk,"f").call(this));const r=ra(this,lf,"f")[e];if(r&&(ra(this,lf,"f")[e]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),e==="abort"){const i=n[0];!ra(this,rb,"f")&&!r?.length&&Promise.reject(i),ra(this,k_,"f").call(this,i),ra(this,A_,"f").call(this,i),this._emit("end");return}if(e==="error"){const i=n[0];!ra(this,rb,"f")&&!r?.length&&Promise.reject(i),ra(this,k_,"f").call(this,i),ra(this,A_,"f").call(this,i),this._emit("end")}}_emitFinal(){}}zk=new WeakMap,$k=new WeakMap,k_=new WeakMap,T_=new WeakMap,qk=new WeakMap,A_=new WeakMap,lf=new WeakMap,C_=new WeakMap,oA=new WeakMap,lA=new WeakMap,rb=new WeakMap,U8=new WeakSet,kwe=function(e){if(Ec(this,oA,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new Du),e instanceof Du)return Ec(this,lA,!0,"f"),this._emit("abort",e);if(e instanceof Mr)return this._emit("error",e);if(e instanceof Error){const n=new Mr(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new Mr(String(e)))};function drt(t,e){const n={...t};return Object.defineProperties(n,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:e,enumerable:!1}}),n}function Awe(t){return t?.$brand==="auto-parseable-response-format"}function hrt(t,{parser:e,callback:n}){const r={...t};return Object.defineProperties(r,{$brand:{value:"auto-parseable-tool",enumerable:!1},$parseRaw:{value:e,enumerable:!1},$callback:{value:n,enumerable:!1}}),r}function tx(t){return t?.$brand==="auto-parseable-tool"}function frt(t,e){return!e||!Cwe(e)?{...t,choices:t.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:S$(t,e)}function S$(t,e){const n=t.choices.map(r=>{if(r.finish_reason==="length")throw new awe;if(r.finish_reason==="content_filter")throw new swe;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:r.message.tool_calls?.map(i=>mrt(e,i))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?prt(e,r.message.content):null}}});return{...t,choices:n}}function prt(t,e){return t.response_format?.type!=="json_schema"?null:t.response_format?.type==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function mrt(t,e){const n=t.tools?.find(r=>r.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:tx(n)?n.$parseRaw(e.function.arguments):n?.function.strict?JSON.parse(e.function.arguments):null}}}function grt(t,e){if(!t)return!1;const n=t.tools?.find(r=>r.function?.name===e.function.name);return tx(n)||n?.function.strict||!1}function Cwe(t){return Awe(t.response_format)?!0:t.tools?.some(e=>tx(e)||e.type==="function"&&e.function.strict===!0)??!1}function yrt(t){for(const e of t??[]){if(e.type!=="function")throw new Mr(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new Mr(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var ll=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Xs,j8,uA,z8,$8,q8,Rwe,H8;const zie=10;class Iwe extends Twe{constructor(){super(...arguments),Xs.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=e.choices[0]?.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(xwe(e)||Ewe(e))&&e.content)this._emit("functionCallResult",e.content);else if(Ib(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(Ib(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Mr("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),ll(this,Xs,"m",j8).call(this)}async finalMessage(){return await this.done(),ll(this,Xs,"m",uA).call(this)}async finalFunctionCall(){return await this.done(),ll(this,Xs,"m",z8).call(this)}async finalFunctionCallResult(){return await this.done(),ll(this,Xs,"m",$8).call(this)}async totalUsage(){return await this.done(),ll(this,Xs,"m",q8).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=ll(this,Xs,"m",uA).call(this);n&&this._emit("finalMessage",n);const r=ll(this,Xs,"m",j8).call(this);r&&this._emit("finalContent",r);const i=ll(this,Xs,"m",z8).call(this);i&&this._emit("finalFunctionCall",i);const a=ll(this,Xs,"m",$8).call(this);a!=null&&this._emit("finalFunctionCallResult",a),this._chatCompletions.some(s=>s.usage)&&this._emit("totalUsage",ll(this,Xs,"m",q8).call(this))}async _createChatCompletion(e,n,r){const i=r?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),ll(this,Xs,"m",Rwe).call(this,n);const a=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(S$(a,n))}async _runChatCompletion(e,n,r){for(const i of n.messages)this._addMessage(i,!1);return await this._createChatCompletion(e,n,r)}async _runFunctions(e,n,r){const i="function",{function_call:a="auto",stream:s,...o}=n,l=typeof a!="string"&&a?.name,{maxChatCompletions:u=zie}=r||{},d={};for(const p of n.functions)d[p.name||p.function.name]=p;const h=n.functions.map(p=>({name:p.name||p.function.name,parameters:p.parameters,description:p.description}));for(const p of n.messages)this._addMessage(p,!1);for(let p=0;p<u;++p){const v=(await this._createChatCompletion(e,{...o,function_call:a,functions:h,messages:[...this.messages]},r)).choices[0]?.message;if(!v)throw new Mr("missing message in ChatCompletion response");if(!v.function_call)return;const{name:w,arguments:k}=v.function_call,T=d[w];if(T){if(l&&l!==w){const D=`Invalid function_call: ${JSON.stringify(w)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,name:w,content:D});continue}}else{const D=`Invalid function_call: ${JSON.stringify(w)}. Available options are: ${h.map(U=>JSON.stringify(U.name)).join(", ")}. Please try again`;this._addMessage({role:i,name:w,content:D});continue}let C;try{C=jie(T)?await T.parse(k):k}catch(D){this._addMessage({role:i,name:w,content:D instanceof Error?D.message:String(D)});continue}const N=await T.function(C,this),F=ll(this,Xs,"m",H8).call(this,N);if(this._addMessage({role:i,name:w,content:F}),l)return}}async _runTools(e,n,r){const i="tool",{tool_choice:a="auto",stream:s,...o}=n,l=typeof a!="string"&&a?.function?.name,{maxChatCompletions:u=zie}=r||{},d=n.tools.map(m=>{if(tx(m)){if(!m.$callback)throw new Mr("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:m.$callback,name:m.function.name,description:m.function.description||"",parameters:m.function.parameters,parse:m.$parseRaw,strict:!0}}}return m}),h={};for(const m of d)m.type==="function"&&(h[m.function.name||m.function.function.name]=m.function);const p="tools"in n?d.map(m=>m.type==="function"?{type:"function",function:{name:m.function.name||m.function.function.name,parameters:m.function.parameters,description:m.function.description,strict:m.function.strict}}:m):void 0;for(const m of n.messages)this._addMessage(m,!1);for(let m=0;m<u;++m){const w=(await this._createChatCompletion(e,{...o,tool_choice:a,tools:p,messages:[...this.messages]},r)).choices[0]?.message;if(!w)throw new Mr("missing message in ChatCompletion response");if(!w.tool_calls?.length)return;for(const k of w.tool_calls){if(k.type!=="function")continue;const T=k.id,{name:C,arguments:N}=k.function,F=h[C];if(F){if(l&&l!==C){const se=`Invalid tool_call: ${JSON.stringify(C)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,tool_call_id:T,content:se});continue}}else{const se=`Invalid tool_call: ${JSON.stringify(C)}. Available options are: ${Object.keys(h).map(re=>JSON.stringify(re)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:T,content:se});continue}let D;try{D=jie(F)?await F.parse(N):N}catch(se){const re=se instanceof Error?se.message:String(se);this._addMessage({role:i,tool_call_id:T,content:re});continue}const U=await F.function(D,this),G=ll(this,Xs,"m",H8).call(this,U);if(this._addMessage({role:i,tool_call_id:T,content:G}),l)return}}}}Xs=new WeakSet,j8=function(){return ll(this,Xs,"m",uA).call(this).content??null},uA=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Ib(n)){const{function_call:r,...i}=n,a={...i,content:n.content??null,refusal:n.refusal??null};return r&&(a.function_call=r),a}}throw new Mr("stream ended without producing a ChatCompletionMessage with role=assistant")},z8=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(Ib(n)&&n?.function_call)return n.function_call;if(Ib(n)&&n?.tool_calls?.length)return n.tool_calls.at(-1)?.function}},$8=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(xwe(n)&&n.content!=null||Ewe(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>r.role==="assistant"&&r.tool_calls?.some(i=>i.type==="function"&&i.id===n.tool_call_id)))return n.content}},q8=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},Rwe=function(e){if(e.n!=null&&e.n>1)throw new Mr("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},H8=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class W1 extends Iwe{static runFunctions(e,n,r){const i=new W1,a={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(e,n,a)),i}static runTools(e,n,r){const i=new W1,a={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,a)),i}_addMessage(e,n=!0){super._addMessage(e,n),Ib(e)&&e.content&&this._emit("content",e.content)}}const Nwe=1,Owe=2,Mwe=4,Pwe=8,Lwe=16,Dwe=32,Fwe=64,Bwe=128,Uwe=256,jwe=Bwe|Uwe,zwe=Lwe|Dwe|jwe|Fwe,$we=Nwe|Owe|zwe,qwe=Mwe|Pwe,brt=$we|qwe,bs={STR:Nwe,NUM:Owe,ARR:Mwe,OBJ:Pwe,NULL:Lwe,BOOL:Dwe,NAN:Fwe,INFINITY:Bwe,MINUS_INFINITY:Uwe,INF:jwe,SPECIAL:zwe,ATOM:$we,COLLECTION:qwe,ALL:brt};class vrt extends Error{}class wrt extends Error{}function _rt(t,e=bs.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return Srt(t.trim(),e)}const Srt=(t,e)=>{const n=t.length;let r=0;const i=p=>{throw new vrt(`${p} at position ${r}`)},a=p=>{throw new wrt(`${p} at position ${r}`)},s=()=>(h(),r>=n&&i("Unexpected end of input"),t[r]==='"'?o():t[r]==="{"?l():t[r]==="["?u():t.substring(r,r+4)==="null"||bs.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||bs.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||bs.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||bs.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||bs.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||bs.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):d()),o=()=>{const p=r;let m=!1;for(r++;r<n&&(t[r]!=='"'||m&&t[r-1]==="\\");)m=t[r]==="\\"?!m:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(p,++r-Number(m)))}catch(v){a(String(v))}else if(bs.STR&e)try{return JSON.parse(t.substring(p,r-Number(m))+'"')}catch{return JSON.parse(t.substring(p,t.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},l=()=>{r++,h();const p={};try{for(;t[r]!=="}";){if(h(),r>=n&&bs.OBJ&e)return p;const m=o();h(),r++;try{const v=s();Object.defineProperty(p,m,{value:v,writable:!0,enumerable:!0,configurable:!0})}catch(v){if(bs.OBJ&e)return p;throw v}h(),t[r]===","&&r++}}catch{if(bs.OBJ&e)return p;i("Expected '}' at end of object")}return r++,p},u=()=>{r++;const p=[];try{for(;t[r]!=="]";)p.push(s()),h(),t[r]===","&&r++}catch{if(bs.ARR&e)return p;i("Expected ']' at end of array")}return r++,p},d=()=>{if(r===0){t==="-"&&bs.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t)}catch(m){if(bs.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}a(String(m))}}const p=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(bs.NUM&e)&&i("Unterminated number literal");try{return JSON.parse(t.substring(p,r))}catch{t.substring(p,r)==="-"&&bs.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t.substring(p,t.lastIndexOf("e")))}catch(v){a(String(v))}}},h=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return s()},$ie=t=>_rt(t,bs.ALL^bs.NUM);var Cy=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Ei=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ka,Kh,Ry,Hp,QD,$E,JD,e6,t6,qE,n6,qie;class K1 extends Iwe{constructor(e){super(),Ka.add(this),Kh.set(this,void 0),Ry.set(this,void 0),Hp.set(this,void 0),Cy(this,Kh,e,"f"),Cy(this,Ry,[],"f")}get currentChatCompletionSnapshot(){return Ei(this,Hp,"f")}static fromReadableStream(e){const n=new K1(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const i=new K1(n);return i._run(()=>i._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(e,n,r){super._createChatCompletion;const i=r?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),Ei(this,Ka,"m",QD).call(this);const a=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const s of a)Ei(this,Ka,"m",JD).call(this,s);if(a.controller.signal?.aborted)throw new Du;return this._addChatCompletion(Ei(this,Ka,"m",qE).call(this))}async _fromReadableStream(e,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Ei(this,Ka,"m",QD).call(this),this._connected();const i=G1.fromReadableStream(e,this.controller);let a;for await(const s of i)a&&a!==s.id&&this._addChatCompletion(Ei(this,Ka,"m",qE).call(this)),Ei(this,Ka,"m",JD).call(this,s),a=s.id;if(i.controller.signal?.aborted)throw new Du;return this._addChatCompletion(Ei(this,Ka,"m",qE).call(this))}[(Kh=new WeakMap,Ry=new WeakMap,Hp=new WeakMap,Ka=new WeakSet,QD=function(){this.ended||Cy(this,Hp,void 0,"f")},$E=function(n){let r=Ei(this,Ry,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Ei(this,Ry,"f")[n.index]=r,r)},JD=function(n){if(this.ended)return;const r=Ei(this,Ka,"m",qie).call(this,n);this._emit("chunk",n,r);for(const i of n.choices){const a=r.choices[i.index];i.delta.content!=null&&a.message?.role==="assistant"&&a.message?.content&&(this._emit("content",i.delta.content,a.message.content),this._emit("content.delta",{delta:i.delta.content,snapshot:a.message.content,parsed:a.message.parsed})),i.delta.refusal!=null&&a.message?.role==="assistant"&&a.message?.refusal&&this._emit("refusal.delta",{delta:i.delta.refusal,snapshot:a.message.refusal}),i.logprobs?.content!=null&&a.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:i.logprobs?.content,snapshot:a.logprobs?.content??[]}),i.logprobs?.refusal!=null&&a.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:i.logprobs?.refusal,snapshot:a.logprobs?.refusal??[]});const s=Ei(this,Ka,"m",$E).call(this,a);a.finish_reason&&(Ei(this,Ka,"m",t6).call(this,a),s.current_tool_call_index!=null&&Ei(this,Ka,"m",e6).call(this,a,s.current_tool_call_index));for(const o of i.delta.tool_calls??[])s.current_tool_call_index!==o.index&&(Ei(this,Ka,"m",t6).call(this,a),s.current_tool_call_index!=null&&Ei(this,Ka,"m",e6).call(this,a,s.current_tool_call_index)),s.current_tool_call_index=o.index;for(const o of i.delta.tool_calls??[]){const l=a.message.tool_calls?.[o.index];l?.type&&(l?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:l.function?.name,index:o.index,arguments:l.function.arguments,parsed_arguments:l.function.parsed_arguments,arguments_delta:o.function?.arguments??""}):(l?.type,void 0))}}},e6=function(n,r){if(Ei(this,Ka,"m",$E).call(this,n).done_tool_calls.has(r))return;const a=n.message.tool_calls?.[r];if(!a)throw new Error("no tool call snapshot");if(!a.type)throw new Error("tool call snapshot missing `type`");if(a.type==="function"){const s=Ei(this,Kh,"f")?.tools?.find(o=>o.type==="function"&&o.function.name===a.function.name);this._emit("tool_calls.function.arguments.done",{name:a.function.name,index:r,arguments:a.function.arguments,parsed_arguments:tx(s)?s.$parseRaw(a.function.arguments):s?.function.strict?JSON.parse(a.function.arguments):null})}else a.type},t6=function(n){const r=Ei(this,Ka,"m",$E).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const i=Ei(this,Ka,"m",n6).call(this);this._emit("content.done",{content:n.message.content,parsed:i?i.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),n.logprobs?.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),n.logprobs?.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},qE=function(){if(this.ended)throw new Mr("stream has ended, this shouldn't happen");const n=Ei(this,Hp,"f");if(!n)throw new Mr("request ended without sending any chunks");return Cy(this,Hp,void 0,"f"),Cy(this,Ry,[],"f"),xrt(n,Ei(this,Kh,"f"))},n6=function(){const n=Ei(this,Kh,"f")?.response_format;return Awe(n)?n:null},qie=function(n){var r,i,a,s;let o=Ei(this,Hp,"f");const{choices:l,...u}=n;o?Object.assign(o,u):o=Cy(this,Hp,{...u,choices:[]},"f");for(const{delta:d,finish_reason:h,index:p,logprobs:m=null,...v}of n.choices){let w=o.choices[p];if(w||(w=o.choices[p]={finish_reason:h,index:p,message:{},logprobs:m,...v}),m)if(!w.logprobs)w.logprobs=Object.assign({},m);else{const{content:U,refusal:G,...se}=m;Object.assign(w.logprobs,se),U&&((r=w.logprobs).content??(r.content=[]),w.logprobs.content.push(...U)),G&&((i=w.logprobs).refusal??(i.refusal=[]),w.logprobs.refusal.push(...G))}if(h&&(w.finish_reason=h,Ei(this,Kh,"f")&&Cwe(Ei(this,Kh,"f")))){if(h==="length")throw new awe;if(h==="content_filter")throw new swe}if(Object.assign(w,v),!d)continue;const{content:k,refusal:T,function_call:C,role:N,tool_calls:F,...D}=d;if(Object.assign(w.message,D),T&&(w.message.refusal=(w.message.refusal||"")+T),N&&(w.message.role=N),C&&(w.message.function_call?(C.name&&(w.message.function_call.name=C.name),C.arguments&&((a=w.message.function_call).arguments??(a.arguments=""),w.message.function_call.arguments+=C.arguments)):w.message.function_call=C),k&&(w.message.content=(w.message.content||"")+k,!w.message.refusal&&Ei(this,Ka,"m",n6).call(this)&&(w.message.parsed=$ie(w.message.content))),F){w.message.tool_calls||(w.message.tool_calls=[]);for(const{index:U,id:G,type:se,function:re,...Q}of F){const ce=(s=w.message.tool_calls)[U]??(s[U]={});Object.assign(ce,Q),G&&(ce.id=G),se&&(ce.type=se),re&&(ce.function??(ce.function={name:re.name??"",arguments:""})),re?.name&&(ce.function.name=re.name),re?.arguments&&(ce.function.arguments+=re.arguments,grt(Ei(this,Kh,"f"),ce)&&(ce.function.parsed_arguments=$ie(ce.function.arguments)))}}}return o},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",i=>{const a=n.shift();a?a.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const a of n)a.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const a of n)a.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((a,s)=>n.push({resolve:a,reject:s})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new G1(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function xrt(t,e){const{id:n,choices:r,created:i,model:a,system_fingerprint:s,...o}=t,l={...o,id:n,choices:r.map(({message:u,finish_reason:d,index:h,logprobs:p,...m})=>{if(!d)throw new Mr(`missing finish_reason for choice ${h}`);const{content:v=null,function_call:w,tool_calls:k,...T}=u,C=u.role;if(!C)throw new Mr(`missing role for choice ${h}`);if(w){const{arguments:N,name:F}=w;if(N==null)throw new Mr(`missing function_call.arguments for choice ${h}`);if(!F)throw new Mr(`missing function_call.name for choice ${h}`);return{...m,message:{content:v,function_call:{arguments:N,name:F},role:C,refusal:u.refusal??null},finish_reason:d,index:h,logprobs:p}}return k?{...m,index:h,finish_reason:d,logprobs:p,message:{...T,role:C,content:v,refusal:u.refusal??null,tool_calls:k.map((N,F)=>{const{function:D,type:U,id:G,...se}=N,{arguments:re,name:Q,...ce}=D||{};if(G==null)throw new Mr(`missing choices[${h}].tool_calls[${F}].id
${HE(t)}`);if(U==null)throw new Mr(`missing choices[${h}].tool_calls[${F}].type
${HE(t)}`);if(Q==null)throw new Mr(`missing choices[${h}].tool_calls[${F}].function.name
${HE(t)}`);if(re==null)throw new Mr(`missing choices[${h}].tool_calls[${F}].function.arguments
${HE(t)}`);return{...se,id:G,type:U,function:{...ce,name:Q,arguments:re}}})}}:{...m,message:{...T,content:v,role:C,refusal:u.refusal??null},finish_reason:d,index:h,logprobs:p}}),created:i,model:a,object:"chat.completion",...s?{system_fingerprint:s}:{}};return frt(l,e)}function HE(t){return JSON.stringify(t)}class Nb extends K1{static fromReadableStream(e){const n=new Nb(null);return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,r){const i=new Nb(null),a={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(e,n,a)),i}static runTools(e,n,r){const i=new Nb(n),a={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,a)),i}}let Hwe=class extends ti{parse(e,n){return yrt(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>S$(r,e))}runFunctions(e,n){return e.stream?Nb.runFunctions(this._client,e,n):W1.runFunctions(this._client,e,n)}runTools(e,n){return e.stream?Nb.runTools(this._client,e,n):W1.runTools(this._client,e,n)}stream(e,n){return K1.createChatCompletion(this._client,e,n)}};class V8 extends ti{constructor(){super(...arguments),this.completions=new Hwe(this._client)}}(function(t){t.Completions=Hwe})(V8||(V8={}));class Vwe extends ti{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}}class x$ extends ti{constructor(){super(...arguments),this.sessions=new Vwe(this._client)}}x$.Sessions=Vwe;var Ln=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ll=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Ms,G8,Nd,Hk,Ac,a0,pb,Qg,cA,zl,Vk,Gk,X_,R_,I_,Hie,Vie,Gie,Wie,Kie,Yie,Xie;class Pc extends Twe{constructor(){super(...arguments),Ms.add(this),G8.set(this,[]),Nd.set(this,{}),Hk.set(this,{}),Ac.set(this,void 0),a0.set(this,void 0),pb.set(this,void 0),Qg.set(this,void 0),cA.set(this,void 0),zl.set(this,void 0),Vk.set(this,void 0),Gk.set(this,void 0),X_.set(this,void 0)}[(G8=new WeakMap,Nd=new WeakMap,Hk=new WeakMap,Ac=new WeakMap,a0=new WeakMap,pb=new WeakMap,Qg=new WeakMap,cA=new WeakMap,zl=new WeakMap,Vk=new WeakMap,Gk=new WeakMap,X_=new WeakMap,Ms=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",i=>{const a=n.shift();a?a.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const a of n)a.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const a of n)a.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((a,s)=>n.push({resolve:a,reject:s})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Pc;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=G1.fromReadableStream(e,this.controller);for await(const a of i)Ln(this,Ms,"m",R_).call(this,a);if(i.controller.signal?.aborted)throw new Du;return this._addRun(Ln(this,Ms,"m",I_).call(this))}toReadableStream(){return new G1(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,i,a){const s=new Pc;return s._run(()=>s._runToolAssistantStream(e,n,r,i,{...a,headers:{...a?.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createToolAssistantStream(e,n,r,i,a){const s=a?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const o={...i,stream:!0},l=await e.submitToolOutputs(n,r,o,{...a,signal:this.controller.signal});this._connected();for await(const u of l)Ln(this,Ms,"m",R_).call(this,u);if(l.controller.signal?.aborted)throw new Du;return this._addRun(Ln(this,Ms,"m",I_).call(this))}static createThreadAssistantStream(e,n,r){const i=new Pc;return i._run(()=>i._threadAssistantStream(e,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(e,n,r,i){const a=new Pc;return a._run(()=>a._runAssistantStream(e,n,r,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),a}currentEvent(){return Ln(this,Vk,"f")}currentRun(){return Ln(this,Gk,"f")}currentMessageSnapshot(){return Ln(this,Ac,"f")}currentRunStepSnapshot(){return Ln(this,X_,"f")}async finalRunSteps(){return await this.done(),Object.values(Ln(this,Nd,"f"))}async finalMessages(){return await this.done(),Object.values(Ln(this,Hk,"f"))}async finalRun(){if(await this.done(),!Ln(this,a0,"f"))throw Error("Final run was not received.");return Ln(this,a0,"f")}async _createThreadAssistantStream(e,n,r){const i=r?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},s=await e.createAndRun(a,{...r,signal:this.controller.signal});this._connected();for await(const o of s)Ln(this,Ms,"m",R_).call(this,o);if(s.controller.signal?.aborted)throw new Du;return this._addRun(Ln(this,Ms,"m",I_).call(this))}async _createAssistantStream(e,n,r,i){const a=i?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const s={...r,stream:!0},o=await e.create(n,s,{...i,signal:this.controller.signal});this._connected();for await(const l of o)Ln(this,Ms,"m",R_).call(this,l);if(o.controller.signal?.aborted)throw new Du;return this._addRun(Ln(this,Ms,"m",I_).call(this))}static accumulateDelta(e,n){for(const[r,i]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=i;continue}let a=e[r];if(a==null){e[r]=i;continue}if(r==="index"||r==="type"){e[r]=i;continue}if(typeof a=="string"&&typeof i=="string")a+=i;else if(typeof a=="number"&&typeof i=="number")a+=i;else if(ZD(a)&&ZD(i))a=this.accumulateDelta(a,i);else if(Array.isArray(a)&&Array.isArray(i)){if(a.every(s=>typeof s=="string"||typeof s=="number")){a.push(...i);continue}for(const s of i){if(!ZD(s))throw new Error(`Expected array delta entry to be an object but got: ${s}`);const o=s.index;if(o==null)throw console.error(s),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const l=a[o];l==null?a.push(s):a[o]=this.accumulateDelta(l,s)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${a}`);e[r]=a}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,i){return await this._createAssistantStream(n,e,r,i)}async _runToolAssistantStream(e,n,r,i,a){return await this._createToolAssistantStream(r,e,n,i,a)}}R_=function(e){if(!this.ended)switch(Ll(this,Vk,e,"f"),Ln(this,Ms,"m",Gie).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":Ln(this,Ms,"m",Xie).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Ln(this,Ms,"m",Vie).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":Ln(this,Ms,"m",Hie).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},I_=function(){if(this.ended)throw new Mr("stream has ended, this shouldn't happen");if(!Ln(this,a0,"f"))throw Error("Final run has not been received");return Ln(this,a0,"f")},Hie=function(e){const[n,r]=Ln(this,Ms,"m",Kie).call(this,e,Ln(this,Ac,"f"));Ll(this,Ac,n,"f"),Ln(this,Hk,"f")[n.id]=n;for(const i of r){const a=n.content[i.index];a?.type=="text"&&this._emit("textCreated",a.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const i of e.data.delta.content){if(i.type=="text"&&i.text){let a=i.text,s=n.content[i.index];if(s&&s.type=="text")this._emit("textDelta",a,s.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=Ln(this,pb,"f")){if(Ln(this,Qg,"f"))switch(Ln(this,Qg,"f").type){case"text":this._emit("textDone",Ln(this,Qg,"f").text,Ln(this,Ac,"f"));break;case"image_file":this._emit("imageFileDone",Ln(this,Qg,"f").image_file,Ln(this,Ac,"f"));break}Ll(this,pb,i.index,"f")}Ll(this,Qg,n.content[i.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(Ln(this,pb,"f")!==void 0){const i=e.data.content[Ln(this,pb,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,Ln(this,Ac,"f"));break;case"text":this._emit("textDone",i.text,Ln(this,Ac,"f"));break}}Ln(this,Ac,"f")&&this._emit("messageDone",e.data),Ll(this,Ac,void 0,"f")}},Vie=function(e){const n=Ln(this,Ms,"m",Wie).call(this,e);switch(Ll(this,X_,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const a of r.step_details.tool_calls)a.index==Ln(this,cA,"f")?this._emit("toolCallDelta",a,n.step_details.tool_calls[a.index]):(Ln(this,zl,"f")&&this._emit("toolCallDone",Ln(this,zl,"f")),Ll(this,cA,a.index,"f"),Ll(this,zl,n.step_details.tool_calls[a.index],"f"),Ln(this,zl,"f")&&this._emit("toolCallCreated",Ln(this,zl,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Ll(this,X_,void 0,"f"),e.data.step_details.type=="tool_calls"&&Ln(this,zl,"f")&&(this._emit("toolCallDone",Ln(this,zl,"f")),Ll(this,zl,void 0,"f")),this._emit("runStepDone",e.data,n);break}},Gie=function(e){Ln(this,G8,"f").push(e),this._emit("event",e)},Wie=function(e){switch(e.event){case"thread.run.step.created":return Ln(this,Nd,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=Ln(this,Nd,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const i=Pc.accumulateDelta(n,r.delta);Ln(this,Nd,"f")[e.data.id]=i}return Ln(this,Nd,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":Ln(this,Nd,"f")[e.data.id]=e.data;break}if(Ln(this,Nd,"f")[e.data.id])return Ln(this,Nd,"f")[e.data.id];throw new Error("No snapshot available")},Kie=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=e.data;if(i.delta.content)for(const a of i.delta.content)if(a.index in n.content){let s=n.content[a.index];n.content[a.index]=Ln(this,Ms,"m",Yie).call(this,a,s)}else n.content[a.index]=a,r.push(a);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Yie=function(e,n){return Pc.accumulateDelta(n,e)},Xie=function(e){switch(Ll(this,Gk,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Ll(this,a0,e.data,"f"),Ln(this,zl,"f")&&(this._emit("toolCallDone",Ln(this,zl,"f")),Ll(this,zl,void 0,"f"));break}};let E$=class extends ti{create(e,n,r){return this._client.post(`/threads/${e}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}retrieve(e,n,r){return this._client.get(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}update(e,n,r,i){return this._client.post(`/threads/${e}/messages/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i?.headers}})}list(e,n={},r){return ao(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,k$,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}del(e,n,r){return this._client.delete(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}};class k$ extends iu{}E$.MessagesPage=k$;class T$ extends ti{retrieve(e,n,r,i={},a){return ao(i)?this.retrieve(e,n,r,{},i):this._client.get(`/threads/${e}/runs/${n}/steps/${r}`,{query:i,...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}list(e,n,r={},i){return ao(r)?this.list(e,n,{},r):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,A$,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i?.headers}})}}class A$ extends iu{}T$.RunStepsPage=A$;class nx extends ti{constructor(){super(...arguments),this.steps=new T$(this._client)}create(e,n,r){const{include:i,...a}=n;return this._client.post(`/threads/${e}/runs`,{query:{include:i},body:a,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers},stream:n.stream??!1})}retrieve(e,n,r){return this._client.get(`/threads/${e}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}update(e,n,r,i){return this._client.post(`/threads/${e}/runs/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i?.headers}})}list(e,n={},r){return ao(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,C$,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}cancel(e,n,r){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}createAndStream(e,n,r){return Pc.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){const i={...r?.headers,"X-Stainless-Poll-Helper":"true"};for(r?.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:a,response:s}=await this.retrieve(e,n,{...r,headers:{...r?.headers,...i}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let o=5e3;if(r?.pollIntervalMs)o=r.pollIntervalMs;else{const l=s.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await JS(o);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(e,n,r){return Pc.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r,i){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i?.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,n,r,i){const a=await this.submitToolOutputs(e,n,r,i);return await this.poll(e,a.id,i)}submitToolOutputsStream(e,n,r,i){return Pc.createToolAssistantStream(e,n,this._client.beta.threads.runs,r,i)}}class C$ extends iu{}nx.RunsPage=C$;nx.Steps=T$;nx.RunStepsPage=A$;class Nv extends ti{constructor(){super(...arguments),this.runs=new nx(this._client),this.messages=new E$(this._client)}create(e={},n){return ao(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(e,n,r){return this._client.post(`/threads/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(e,n){return Pc.createThreadAssistantStream(e,this._client.beta.threads,n)}}Nv.Runs=nx;Nv.RunsPage=C$;Nv.Messages=E$;Nv.MessagesPage=k$;const Ert=async t=>{const e=await Promise.allSettled(t),n=e.filter(i=>i.status==="rejected");if(n.length){for(const i of n)console.error(i.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const i of e)i.status==="fulfilled"&&r.push(i.value);return r};let R$=class extends ti{create(e,n,r){return this._client.post(`/vector_stores/${e}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e,n={},r){return ao(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,QR,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}del(e,n,r){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}async poll(e,n,r){const i={...r?.headers,"X-Stainless-Poll-Helper":"true"};for(r?.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const a=await this.retrieve(e,n,{...r,headers:i}).withResponse(),s=a.data;switch(s.status){case"in_progress":let o=5e3;if(r?.pollIntervalMs)o=r.pollIntervalMs;else{const l=a.response.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await JS(o);break;case"failed":case"completed":return s}}}async upload(e,n,r){const i=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:i.id},r)}async uploadAndPoll(e,n,r){const i=await this.upload(e,n,r);return await this.poll(e,i.id,r)}};class QR extends iu{}R$.VectorStoreFilesPage=QR;class Gwe extends ti{create(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}cancel(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n);return await this.poll(e,i.id,r)}listFiles(e,n,r={},i){return ao(r)?this.listFiles(e,n,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,QR,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i?.headers}})}async poll(e,n,r){const i={...r?.headers,"X-Stainless-Poll-Helper":"true"};for(r?.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:a,response:s}=await this.retrieve(e,n,{...r,headers:i}).withResponse();switch(a.status){case"in_progress":let o=5e3;if(r?.pollIntervalMs)o=r.pollIntervalMs;else{const l=s.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await JS(o);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},i){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const a=i?.maxConcurrency??5,s=Math.min(a,n.length),o=this._client,l=n.values(),u=[...r];async function d(p){for(let m of p){const v=await o.files.create({file:m,purpose:"assistants"},i);u.push(v.id)}}const h=Array(s).fill(l).map(d);return await Ert(h),await this.createAndPoll(e,{file_ids:u})}}class Ov extends ti{constructor(){super(...arguments),this.files=new R$(this._client),this.fileBatches=new Gwe(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(e,n,r){return this._client.post(`/vector_stores/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e={},n){return ao(e)?this.list({},e):this._client.getAPIList("/vector_stores",I$,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}}class I$ extends iu{}Ov.VectorStoresPage=I$;Ov.Files=R$;Ov.VectorStoreFilesPage=QR;Ov.FileBatches=Gwe;let Jm=class extends ti{constructor(){super(...arguments),this.realtime=new x$(this._client),this.vectorStores=new Ov(this._client),this.chat=new V8(this._client),this.assistants=new w$(this._client),this.threads=new Nv(this._client)}};Jm.Realtime=x$;Jm.VectorStores=Ov;Jm.VectorStoresPage=I$;Jm.Assistants=w$;Jm.AssistantsPage=_$;Jm.Threads=Nv;let Wwe=class extends ti{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}};class Kwe extends ti{create(e,n){return this._client.post("/embeddings",{body:e,...n})}}class N$ extends ti{create(e,n){return this._client.post("/files",Qb({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return ao(e)?this.list({},e):this._client.getAPIList("/files",O$,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/binary",...n?.headers},__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,n)}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const i=new Set(["processed","error","deleted"]),a=Date.now();let s=await this.retrieve(e);for(;!s.status||!i.has(s.status);)if(await JS(n),s=await this.retrieve(e),Date.now()-a>r)throw new GR({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return s}}class O$ extends iu{}N$.FileObjectsPage=O$;class M$ extends ti{list(e,n={},r){return ao(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,P$,{query:n,...r})}}class P$ extends iu{}M$.FineTuningJobCheckpointsPage=P$;class Mv extends ti{constructor(){super(...arguments),this.checkpoints=new M$(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return ao(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",L$,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return ao(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,D$,{query:n,...r})}}class L$ extends iu{}class D$ extends iu{}Mv.FineTuningJobsPage=L$;Mv.FineTuningJobEventsPage=D$;Mv.Checkpoints=M$;Mv.FineTuningJobCheckpointsPage=P$;class rx extends ti{constructor(){super(...arguments),this.jobs=new Mv(this._client)}}rx.Jobs=Mv;rx.FineTuningJobsPage=L$;rx.FineTuningJobEventsPage=D$;class Ywe extends ti{createVariation(e,n){return this._client.post("/images/variations",Qb({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",Qb({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}let F$=class extends ti{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",B$,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}};class B$ extends urt{}F$.ModelsPage=B$;class Xwe extends ti{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class Zwe extends ti{create(e,n,r){return this._client.post(`/uploads/${e}/parts`,Qb({body:n,...r}))}}class U$ extends ti{constructor(){super(...arguments),this.parts=new Zwe(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(`/uploads/${e}/complete`,{body:n,...r})}}U$.Parts=Zwe;var Qwe;let Lr=class extends Xnt{constructor({baseURL:e=jE("OPENAI_BASE_URL"),apiKey:n=jE("OPENAI_API_KEY"),organization:r=jE("OPENAI_ORG_ID")??null,project:i=jE("OPENAI_PROJECT_ID")??null,...a}={}){if(n===void 0)throw new Mr("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const s={apiKey:n,organization:r,project:i,...a,baseURL:e||"https://api.openai.com/v1"};if(!s.dangerouslyAllowBrowser&&ort())throw new Mr(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:s.baseURL,timeout:s.timeout??6e5,httpAgent:s.httpAgent,maxRetries:s.maxRetries,fetch:s.fetch}),this.completions=new Wwe(this),this.chat=new ZR(this),this.embeddings=new Kwe(this),this.files=new N$(this),this.images=new Ywe(this),this.audio=new ex(this),this.moderations=new Xwe(this),this.models=new F$(this),this.fineTuning=new rx(this),this.beta=new Jm(this),this.batches=new b$(this),this.uploads=new U$(this),this._options=s,this.apiKey=n,this.organization=r,this.project=i}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return Ont(e,{arrayFormat:"brackets"})}};Qwe=Lr;Lr.OpenAI=Qwe;Lr.DEFAULT_TIMEOUT=6e5;Lr.OpenAIError=Mr;Lr.APIError=bl;Lr.APIConnectionError=VR;Lr.APIConnectionTimeoutError=GR;Lr.APIUserAbortError=Du;Lr.NotFoundError=ewe;Lr.ConflictError=twe;Lr.RateLimitError=rwe;Lr.BadRequestError=Zve;Lr.AuthenticationError=Qve;Lr.InternalServerError=iwe;Lr.PermissionDeniedError=Jve;Lr.UnprocessableEntityError=nwe;Lr.toFile=cwe;Lr.fileFromPath=Yve;Lr.Completions=Wwe;Lr.Chat=ZR;Lr.ChatCompletionsPage=XR;Lr.Embeddings=Kwe;Lr.Files=N$;Lr.FileObjectsPage=O$;Lr.Images=Ywe;Lr.Audio=ex;Lr.Moderations=Xwe;Lr.Models=F$;Lr.ModelsPage=B$;Lr.FineTuning=rx;Lr.Beta=Jm;Lr.Batches=b$;Lr.BatchesPage=v$;Lr.Uploads=U$;function Jwe(t,e){if(t.function===void 0)return;let n;if(e?.partial)try{n=eF(t.function.arguments??"{}")}catch{return}else try{n=JSON.parse(t.function.arguments)}catch(i){throw new Lf([`Function "${t.function.name}" arguments:`,"",t.function.arguments,"","are not valid JSON.",`Error: ${i.message}`].join(`
`))}const r={name:t.function.name,args:n,type:"tool_call"};return e?.returnId&&(r.id=t.id),r}function krt(t){if(t.id===void 0)throw new Error('All OpenAI tool calls must have an "id" field.');return{id:t.id,type:"function",function:{name:t.name,arguments:JSON.stringify(t.args)}}}function Trt(t,e){return{name:t.function?.name,args:t.function?.arguments,id:t.id,error:e,type:"invalid_tool_call"}}class Art extends jve{static lc_name(){return"JsonOutputToolsParser"}constructor(e){super(e),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_tools"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.returnId=e?.returnId??this.returnId}_diff(){throw new Error("Not supported.")}async parse(){throw new Error("Not implemented.")}async parseResult(e){return await this.parsePartialResult(e,!1)}async parsePartialResult(e,n=!0){const r=e[0].message;let i;if(pv(r)&&r.tool_calls?.length?i=r.tool_calls.map(s=>{const{id:o,...l}=s;return this.returnId?{id:o,...l}:l}):r.additional_kwargs.tool_calls!==void 0&&(i=JSON.parse(JSON.stringify(r.additional_kwargs.tool_calls)).map(o=>Jwe(o,{returnId:this.returnId,partial:n}))),!i)return[];const a=[];for(const s of i)if(s!==void 0){const o={type:s.name,args:s.args,id:s.id};a.push(o)}return a}}class Zie extends Art{static lc_name(){return"JsonOutputKeyToolsParser"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_tools"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"keyName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSingle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"zodSchema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.zodSchema=e.zodSchema}async _validateResult(e){if(this.zodSchema===void 0)return e;const n=await this.zodSchema.safeParseAsync(e);if(n.success)return n.data;throw new Lf(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify(n.error.errors)}`,JSON.stringify(e,null,2))}async parsePartialResult(e){const r=(await super.parsePartialResult(e)).filter(a=>a.type===this.keyName);let i=r;if(r.length)return this.returnId||(i=r.map(a=>a.args)),this.returnSingle?i[0]:i}async parseResult(e){const r=(await super.parsePartialResult(e,!1)).filter(s=>s.type===this.keyName);let i=r;return r.length?(this.returnId||(i=r.map(s=>s.args)),this.returnSingle?this._validateResult(i[0]):await Promise.all(i.map(s=>this._validateResult(s)))):void 0}}const Crt=Symbol("Let zodToJsonSchema decide on which parser to use"),Qie={name:void 0,$refStrategy:"root",effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",nullableStrategy:"from-target",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},Rrt=t=>typeof t=="string"?{...Qie,basePath:["#"],definitions:{},name:t}:{...Qie,basePath:["#"],definitions:{},...t},W8=t=>"_def"in t?t._def:t;function Irt(t){if(!t)return!0;for(const e in t)return!1;return!0}const Nrt=t=>{const e=Rrt(t),n=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:n,propertyPath:void 0,seenRefs:new Set,seen:new Map(Object.entries(e.definitions).map(([r,i])=>[W8(i),{def:W8(i),path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}};function e_e(t,e,n,r){r?.errorMessages&&n&&(t.errorMessage={...t.errorMessage,[e]:n})}function vi(t,e,n,r,i){t[e]=n,e_e(t,e,r,i)}function Ort(){return{}}function Mrt(t,e){const n={type:"array"};return t.type?._def?.typeName!==Et.ZodAny&&(n.items=ei(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&vi(n,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&vi(n,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(vi(n,"minItems",t.exactLength.value,t.exactLength.message,e),vi(n,"maxItems",t.exactLength.value,t.exactLength.message,e)),n}function Prt(t,e){const n={type:"integer",format:"int64"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?vi(n,"minimum",r.value,r.message,e):vi(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),vi(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?vi(n,"maximum",r.value,r.message,e):vi(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),vi(n,"maximum",r.value,r.message,e));break;case"multipleOf":vi(n,"multipleOf",r.value,r.message,e);break}return n}function Lrt(){return{type:"boolean"}}function Drt(t,e){return ei(t.type._def,e)}const Frt=(t,e)=>ei(t.innerType._def,e);function t_e(t,e,n){const r=n??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((i,a)=>t_e(t,e,i))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return Brt(t,e)}}const Brt=(t,e)=>{const n={type:"integer",format:"unix-time"};if(e.target==="openApi3")return n;for(const r of t.checks)switch(r.kind){case"min":vi(n,"minimum",r.value,r.message,e);break;case"max":vi(n,"maximum",r.value,r.message,e);break}return n};function Urt(t,e){return{...ei(t.innerType._def,e),default:t.defaultValue()}}function jrt(t,e,n){return e.effectStrategy==="input"?ei(t.schema._def,e,n):{}}function zrt(t){return{type:"string",enum:[...t.values]}}const $rt=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function qrt(t,e){const n=[ei(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),ei(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(a=>!!a);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const i=[];return n.forEach(a=>{if($rt(a))i.push(...a.allOf),a.unevaluatedProperties===void 0&&(r=void 0);else{let s=a;if("additionalProperties"in a&&a.additionalProperties===!1){const{additionalProperties:o,...l}=a;s=l}else r=void 0;i.push(s)}}),i.length?{allOf:i,...r}:void 0}function Hrt(t,e){const n=typeof t.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[t.value]}:{type:n==="bigint"?"integer":n,const:t.value}}let r6;const Pg={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(r6===void 0&&(r6=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),r6),base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/};function n_e(t,e){const n={type:"string"};function r(i){return e.patternStrategy==="escape"?Vrt(i):i}if(t.checks)for(const i of t.checks)switch(i.kind){case"min":vi(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,i.value):i.value,i.message,e);break;case"max":vi(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,i.value):i.value,i.message,e);break;case"email":switch(e.emailStrategy){case"format:email":pc(n,"email",i.message,e);break;case"format:idn-email":pc(n,"idn-email",i.message,e);break;case"pattern:zod":mc(n,Pg.email,i.message,e);break}break;case"url":pc(n,"uri",i.message,e);break;case"uuid":pc(n,"uuid",i.message,e);break;case"regex":mc(n,i.regex,i.message,e);break;case"cuid":mc(n,Pg.cuid,i.message,e);break;case"cuid2":mc(n,Pg.cuid2,i.message,e);break;case"startsWith":mc(n,RegExp(`^${r(i.value)}`),i.message,e);break;case"endsWith":mc(n,RegExp(`${r(i.value)}$`),i.message,e);break;case"datetime":pc(n,"date-time",i.message,e);break;case"date":pc(n,"date",i.message,e);break;case"time":pc(n,"time",i.message,e);break;case"duration":pc(n,"duration",i.message,e);break;case"length":vi(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,i.value):i.value,i.message,e),vi(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,i.value):i.value,i.message,e);break;case"includes":{mc(n,RegExp(r(i.value)),i.message,e);break}case"ip":{i.version!=="v6"&&pc(n,"ipv4",i.message,e),i.version!=="v4"&&pc(n,"ipv6",i.message,e);break}case"emoji":mc(n,Pg.emoji,i.message,e);break;case"ulid":{mc(n,Pg.ulid,i.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{pc(n,"binary",i.message,e);break}case"contentEncoding:base64":{vi(n,"contentEncoding","base64",i.message,e);break}case"pattern:zod":{mc(n,Pg.base64,i.message,e);break}}break}case"nanoid":mc(n,Pg.nanoid,i.message,e)}return n}const Vrt=t=>Array.from(t).map(e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`).join(""),pc=(t,e,n,r)=>{t.format||t.anyOf?.some(i=>i.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&r.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...n&&r.errorMessages&&{errorMessage:{format:n}}})):vi(t,"format",e,n,r)},mc=(t,e,n,r)=>{t.pattern||t.allOf?.some(i=>i.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&r.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:Jie(e,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):vi(t,"pattern",Jie(e,r),n,r)},Jie=(t,e)=>{const n=typeof t=="function"?t():t;if(!e.applyRegexFlags||!n.flags)return n.source;const r={i:n.flags.includes("i"),m:n.flags.includes("m"),s:n.flags.includes("s")},i=r.i?n.source.toLowerCase():n.source;let a="",s=!1,o=!1,l=!1;for(let u=0;u<i.length;u++){if(s){a+=i[u],s=!1;continue}if(r.i){if(o){if(i[u].match(/[a-z]/)){l?(a+=i[u],a+=`${i[u-2]}-${i[u]}`.toUpperCase(),l=!1):i[u+1]==="-"&&i[u+2]?.match(/[a-z]/)?(a+=i[u],l=!0):a+=`${i[u]}${i[u].toUpperCase()}`;continue}}else if(i[u].match(/[a-z]/)){a+=`[${i[u]}${i[u].toUpperCase()}]`;continue}}if(r.m){if(i[u]==="^"){a+=`(^|(?<=[\r
]))`;continue}else if(i[u]==="$"){a+=`($|(?=[\r
]))`;continue}}if(r.s&&i[u]==="."){a+=o?`${i[u]}\r
`:`[${i[u]}\r
]`;continue}a+=i[u],i[u]==="\\"?s=!0:o&&i[u]==="]"?o=!1:!o&&i[u]==="["&&(o=!0)}try{const u=new RegExp(a)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),n.source}return a};function r_e(t,e){if(e.target==="openApi3"&&t.keyType?._def.typeName===Et.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((r,i)=>({...r,[i]:ei(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",i]})??{}}),{}),additionalProperties:!1};const n={type:"object",additionalProperties:ei(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??{}};if(e.target==="openApi3")return n;if(t.keyType?._def.typeName===Et.ZodString&&t.keyType._def.checks?.length){const r=Object.entries(n_e(t.keyType._def,e)).reduce((i,[a,s])=>a==="type"?i:{...i,[a]:s},{});return{...n,propertyNames:r}}else if(t.keyType?._def.typeName===Et.ZodEnum)return{...n,propertyNames:{enum:t.keyType._def.values}};return n}function Grt(t,e){if(e.mapStrategy==="record")return r_e(t,e);const n=ei(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},r=ei(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function Wrt(t){const e=t.values,r=Object.keys(t.values).filter(a=>typeof e[e[a]]!="number").map(a=>e[a]),i=Array.from(new Set(r.map(a=>typeof a)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:r}}function Krt(){return{not:{}}}function Yrt(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const dA={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function Xrt(t,e){if(e.target==="openApi3")return eae(t,e);const n=t.options instanceof Map?Array.from(t.options.values()):t.options;if(n.every(r=>r._def.typeName in dA&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((i,a)=>{const s=dA[a._def.typeName];return s&&!i.includes(s)?[...i,s]:i},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((i,a)=>{const s=typeof a._def.value;switch(s){case"string":case"number":case"boolean":return[...i,s];case"bigint":return[...i,"integer"];case"object":if(a._def.value===null)return[...i,"null"];case"symbol":case"undefined":case"function":default:return i}},[]);if(r.length===n.length){const i=r.filter((a,s,o)=>o.indexOf(a)===s);return{type:i.length>1?i:i[0],enum:n.reduce((a,s)=>a.includes(s._def.value)?a:[...a,s._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,i)=>[...r,...i._def.values.filter(a=>!r.includes(a))],[])};return eae(t,e)}const eae=(t,e)=>{const n=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((r,i)=>ei(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${i}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function Zrt(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"||e.nullableStrategy==="property"?{type:dA[t.innerType._def.typeName],nullable:!0}:{type:[dA[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=ei(t.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=ei(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function Qrt(t,e){const n={type:"number"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"int":n.type="integer",e_e(n,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?vi(n,"minimum",r.value,r.message,e):vi(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),vi(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?vi(n,"maximum",r.value,r.message,e):vi(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),vi(n,"maximum",r.value,r.message,e));break;case"multipleOf":vi(n,"multipleOf",r.value,r.message,e);break}return n}function Jrt(t,e){return e.removeAdditionalStrategy==="strict"?t.catchall._def.typeName==="ZodNever"?t.unknownKeys!=="strict":ei(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0:t.catchall._def.typeName==="ZodNever"?t.unknownKeys==="passthrough":ei(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0}function eit(t,e){const n={type:"object",...Object.entries(t.shape()).reduce((r,[i,a])=>{if(a===void 0||a._def===void 0)return r;const s=ei(a._def,{...e,currentPath:[...e.currentPath,"properties",i],propertyPath:[...e.currentPath,"properties",i]});return s===void 0?r:{properties:{...r.properties,[i]:s},required:a.isOptional()&&!e.openaiStrictMode?r.required:[...r.required,i]}},{properties:{},required:[]}),additionalProperties:Jrt(t,e)};return n.required.length||delete n.required,n}const tit=(t,e)=>{if(e.currentPath.toString()===e.propertyPath?.toString())return ei(t.innerType._def,e);const n=ei(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}},nit=(t,e)=>{if(e.pipeStrategy==="input")return ei(t.in._def,e);if(e.pipeStrategy==="output")return ei(t.out._def,e);const n=ei(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=ei(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(i=>i!==void 0)}};function rit(t,e){return ei(t.type._def,e)}function iit(t,e){const r={type:"array",uniqueItems:!0,items:ei(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&vi(r,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&vi(r,"maxItems",t.maxSize.value,t.maxSize.message,e),r}function ait(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((n,r)=>ei(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:ei(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((n,r)=>ei(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function sit(){return{not:{}}}function oit(){return{}}const lit=(t,e)=>ei(t.innerType._def,e);function ei(t,e,n=!1){const r=e.seen.get(t);if(e.override){const s=e.override?.(t,e,r,n);if(s!==Crt)return s}if(r&&!n){const s=uit(r,e);if(s!==void 0)return"$ref"in s&&e.seenRefs.add(s.$ref),s}const i={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,i);const a=dit(t,t.typeName,e,n);return a&&hit(t,e,a),i.jsonSchema=a,a}const uit=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"extract-to-root":const n=t.path.slice(e.basePath.length+1).join("_");return n!==e.name&&e.nameStrategy==="duplicate-ref"&&(e.definitions[n]=t.def),{$ref:[...e.basePath,e.definitionPath,n].join("/")};case"relative":return{$ref:cit(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((r,i)=>e.currentPath[i]===r)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},cit=(t,e)=>{let n=0;for(;n<t.length&&n<e.length&&t[n]===e[n];n++);return[(t.length-n).toString(),...e.slice(n)].join("/")},dit=(t,e,n,r)=>{switch(e){case Et.ZodString:return n_e(t,n);case Et.ZodNumber:return Qrt(t,n);case Et.ZodObject:return eit(t,n);case Et.ZodBigInt:return Prt(t,n);case Et.ZodBoolean:return Lrt();case Et.ZodDate:return t_e(t,n);case Et.ZodUndefined:return sit();case Et.ZodNull:return Yrt(n);case Et.ZodArray:return Mrt(t,n);case Et.ZodUnion:case Et.ZodDiscriminatedUnion:return Xrt(t,n);case Et.ZodIntersection:return qrt(t,n);case Et.ZodTuple:return ait(t,n);case Et.ZodRecord:return r_e(t,n);case Et.ZodLiteral:return Hrt(t,n);case Et.ZodEnum:return zrt(t);case Et.ZodNativeEnum:return Wrt(t);case Et.ZodNullable:return Zrt(t,n);case Et.ZodOptional:return tit(t,n);case Et.ZodMap:return Grt(t,n);case Et.ZodSet:return iit(t,n);case Et.ZodLazy:return ei(t.getter()._def,n);case Et.ZodPromise:return rit(t,n);case Et.ZodNaN:case Et.ZodNever:return Krt();case Et.ZodEffects:return jrt(t,n,r);case Et.ZodAny:return Ort();case Et.ZodUnknown:return oit();case Et.ZodDefault:return Urt(t,n);case Et.ZodBranded:return Drt(t,n);case Et.ZodReadonly:return lit(t,n);case Et.ZodCatch:return Frt(t,n);case Et.ZodPipeline:return nit(t,n);case Et.ZodFunction:case Et.ZodVoid:case Et.ZodSymbol:return;default:return(i=>{})()}},hit=(t,e,n)=>(t.description&&(n.description=t.description,e.markdownDescription&&(n.markdownDescription=t.description)),n),fit=(t,e)=>{const n=Nrt(e),r=typeof e=="string"?e:e?.nameStrategy==="title"?void 0:e?.name,i=ei(t._def,r===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,r]},!1)??{},a=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;a!==void 0&&(i.title=a);const s=(()=>{if(Irt(n.definitions))return;const l={},u=new Set;for(let d=0;d<500;d++){const h=Object.entries(n.definitions).filter(([p])=>!u.has(p));if(h.length===0)break;for(const[p,m]of h)l[p]=ei(W8(m),{...n,currentPath:[...n.basePath,n.definitionPath,p]},!0)??{},u.add(p)}return l})(),o=r===void 0?s?{...i,[n.definitionPath]:s}:i:n.nameStrategy==="duplicate-ref"?{...i,...s||n.seenRefs.size?{[n.definitionPath]:{...s,...n.seenRefs.size?{[r]:i}:void 0}}:void 0}:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,r].join("/"),[n.definitionPath]:{...s,[r]:i}};return n.target==="jsonSchema7"?o.$schema="http://json-schema.org/draft-07/schema#":n.target==="jsonSchema2019-09"&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),o};function i_e(t,e){return fit(t,{openaiStrictMode:!0,name:e.name,nameStrategy:"duplicate-ref",$refStrategy:"extract-to-root",nullableStrategy:"property"})}function pit(t,e,n){return drt({type:"json_schema",json_schema:{...n,name:e,strict:!0,schema:i_e(t,{name:e})}},r=>t.parse(JSON.parse(r)))}function mit(t){return hrt({type:"function",function:{name:t.name,parameters:i_e(t.parameters,{name:t.name}),strict:!0,...t.description?{description:t.description}:void 0}},{callback:t.function,parser:e=>t.parameters.parse(JSON.parse(e))})}function a_e(t){const{azureOpenAIApiDeploymentName:e,azureOpenAIApiInstanceName:n,azureOpenAIApiKey:r,azureOpenAIBasePath:i,baseURL:a,azureADTokenProvider:s,azureOpenAIEndpoint:o}=t;if((r||s)&&i&&e)return`${i}/${e}`;if((r||s)&&o&&e)return`${o}/openai/deployments/${e}`;if(r||s){if(!n)throw new Error("azureOpenAIApiInstanceName is required when using azureOpenAIApiKey");if(!e)throw new Error("azureOpenAIApiDeploymentName is a required parameter when using azureOpenAIApiKey");return`https://${n}.openai.azure.com/openai/deployments/${e}`}return a}function VE(t,e){return t.lc_error_code=e,t.message=`${t.message}

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/${e}/
`,t}function K8(t){let e;return t.constructor.name===GR.name?(e=new Error(t.message),e.name="TimeoutError"):t.constructor.name===Du.name?(e=new Error(t.message),e.name="AbortError"):t.status===400&&t.message.includes("tool_calls")?e=VE(t,"INVALID_TOOL_RESULTS"):t.status===401?e=VE(t,"MODEL_AUTHENTICATION"):t.status===429?e=VE(t,"MODEL_RATE_LIMIT"):t.status===404?e=VE(t,"MODEL_NOT_FOUND"):e=t,e}function git(t){if(t)return t==="any"||t==="required"?"required":t==="auto"?"auto":t==="none"?"none":typeof t=="string"?{type:"function",function:{name:t}}:t}function yit(t){return t.anyOf!==void 0&&Array.isArray(t.anyOf)}function bit(t){const e=["namespace functions {",""];for(const n of t)n.description&&e.push(`// ${n.description}`),Object.keys(n.parameters.properties??{}).length>0?(e.push(`type ${n.name} = (_: {`),e.push(s_e(n.parameters,0)),e.push("}) => any;")):e.push(`type ${n.name} = () => any;`),e.push("");return e.push("} // namespace functions"),e.join(`
`)}function s_e(t,e){const n=[];for(const[r,i]of Object.entries(t.properties??{}))i.description&&e<2&&n.push(`// ${i.description}`),t.required?.includes(r)?n.push(`${r}: ${hA(i,e)},`):n.push(`${r}?: ${hA(i,e)},`);return n.map(r=>" ".repeat(e)+r).join(`
`)}function hA(t,e){if(yit(t))return t.anyOf.map(n=>hA(n,e)).join(" | ");switch(t.type){case"string":return t.enum?t.enum.map(n=>`"${n}"`).join(" | "):"string";case"number":return t.enum?t.enum.map(n=>`${n}`).join(" | "):"number";case"integer":return t.enum?t.enum.map(n=>`${n}`).join(" | "):"number";case"boolean":return"boolean";case"null":return"null";case"object":return["{",s_e(t,e+2),"}"].join(`
`);case"array":return t.items?`${hA(t.items,e)}[]`:"any[]";default:return""}}function vit(t,e){let n;if(QS(t)){const r=mit({name:t.name,parameters:t.schema,description:t.description});r.function.parameters?n={type:r.type,function:{name:r.function.name,description:r.function.description,parameters:r.function.parameters,...e?.strict!==void 0?{strict:e.strict}:{}}}:n={type:"function",function:Uve(t,e)}}else n=t;return e?.strict!==void 0&&(n.function.strict=e.strict),n}function wit(t){return t.role!=="system"&&t.role!=="developer"&&t.role!=="assistant"&&t.role!=="user"&&t.role!=="function"&&t.role!=="tool"&&console.warn(`Unknown message role: ${t.role}`),t.role}function o_e(t){const e=t._getType();switch(e){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"tool":return"tool";case"generic":{if(!Bf.isInstance(t))throw new Error("Invalid generic chat message");return wit(t)}default:throw new Error(`Unknown message type: ${e}`)}}function tae(t,e){return t.flatMap(n=>{let r=o_e(n);r==="system"&&l_e(e)&&(r="developer");const i={role:r,content:n.content};if(n.name!=null&&(i.name=n.name),n.additional_kwargs.function_call!=null&&(i.function_call=n.additional_kwargs.function_call,i.content=null),pv(n)&&n.tool_calls?.length?(i.tool_calls=n.tool_calls.map(krt),i.content=null):(n.additional_kwargs.tool_calls!=null&&(i.tool_calls=n.additional_kwargs.tool_calls),n.tool_call_id!=null&&(i.tool_call_id=n.tool_call_id)),n.additional_kwargs.audio&&typeof n.additional_kwargs.audio=="object"&&"id"in n.additional_kwargs.audio){const a={role:"assistant",audio:{id:n.additional_kwargs.audio.id}};return[i,a]}return i})}function nae(t,e){return HR(t)?e?.strict!==void 0?{...t,function:{...t.function,strict:e.strict}}:t:vit(t,e)}function l_e(t){return t?.startsWith("o1")||t?.startsWith("o3")}class u_e extends Nc{static lc_name(){return"ChatOpenAI"}get callKeys(){return[...super.callKeys,"options","function_call","functions","tools","tool_choice","promptIndex","response_format","seed","reasoning_effort"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",apiKey:"OPENAI_API_KEY",organization:"OPENAI_ORGANIZATION"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",apiKey:"openai_api_key"}}get lc_serializable_keys(){return["configuration","logprobs","topLogprobs","prefixMessages","supportsStrictToolCalling","modalities","audio","reasoningEffort","temperature","maxTokens","topP","frequencyPenalty","presencePenalty","n","logitBias","user","streaming","streamUsage","modelName","model","modelKwargs","stop","stopSequences","timeout","openAIApiKey","apiKey","cache","maxConcurrency","maxRetries","verbose","callbacks","tags","metadata","disableStreaming"]}constructor(e){super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"streamUsage",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logprobs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topLogprobs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__includeRawResponse",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"supportsStrictToolCalling",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"audio",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modalities",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reasoningEffort",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=e?.apiKey??e?.openAIApiKey??e?.configuration?.apiKey??Lo("OPENAI_API_KEY"),this.apiKey=this.openAIApiKey,this.organization=e?.configuration?.organization??Lo("OPENAI_ORGANIZATION"),this.model=e?.model??e?.modelName??this.model,this.modelName=this.model,this.modelKwargs=e?.modelKwargs??{},this.timeout=e?.timeout,this.temperature=e?.temperature??this.temperature,this.topP=e?.topP??this.topP,this.frequencyPenalty=e?.frequencyPenalty??this.frequencyPenalty,this.presencePenalty=e?.presencePenalty??this.presencePenalty,this.logprobs=e?.logprobs,this.topLogprobs=e?.topLogprobs,this.n=e?.n??this.n,this.logitBias=e?.logitBias,this.stop=e?.stopSequences??e?.stop,this.stopSequences=this?.stop,this.user=e?.user,this.__includeRawResponse=e?.__includeRawResponse,this.audio=e?.audio,this.modalities=e?.modalities,this.reasoningEffort=e?.reasoningEffort,this.maxTokens=e?.maxCompletionTokens??e?.maxTokens,this.model==="o1"&&(this.disableStreaming=!0),this.streaming=e?.streaming??!1,this.streamUsage=e?.streamUsage??this.streamUsage,this.clientConfig={apiKey:this.apiKey,organization:this.organization,dangerouslyAllowBrowser:!0,...e?.configuration},e?.supportsStrictToolCalling!==void 0&&(this.supportsStrictToolCalling=e.supportsStrictToolCalling)}getLsParams(e){const n=this.invocationParams(e);return{ls_provider:"openai",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:n.temperature??void 0,ls_max_tokens:n.max_tokens??void 0,ls_stop:e.stop}}bindTools(e,n){let r;return n?.strict!==void 0?r=n.strict:this.supportsStrictToolCalling!==void 0&&(r=this.supportsStrictToolCalling),this.bind({tools:e.map(i=>nae(i,{strict:r})),...n})}createResponseFormat(e){return e&&e.type==="json_schema"&&e.json_schema.schema&&GE(e.json_schema.schema)?pit(e.json_schema.schema,e.json_schema.name,{description:e.json_schema.description}):e}invocationParams(e,n){let r;e?.strict!==void 0?r=e.strict:this.supportsStrictToolCalling!==void 0&&(r=this.supportsStrictToolCalling);let i={};e?.stream_options!==void 0?i={stream_options:e.stream_options}:this.streamUsage&&(this.streaming||n?.streaming)&&(i={stream_options:{include_usage:!0}});const a={model:this.model,temperature:this.temperature,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,logprobs:this.logprobs,top_logprobs:this.topLogprobs,n:this.n,logit_bias:this.logitBias,stop:e?.stop??this.stopSequences,user:this.user,stream:this.streaming,functions:e?.functions,function_call:e?.function_call,tools:e?.tools?.length?e.tools.map(o=>nae(o,{strict:r})):void 0,tool_choice:git(e?.tool_choice),response_format:this.createResponseFormat(e?.response_format),seed:e?.seed,...i,parallel_tool_calls:e?.parallel_tool_calls,...this.audio||e?.audio?{audio:this.audio||e?.audio}:{},...this.modalities||e?.modalities?{modalities:this.modalities||e?.modalities}:{},...this.modelKwargs};e?.prediction!==void 0&&(a.prediction=e.prediction);const s=e?.reasoning_effort??this.reasoningEffort;return s!==void 0&&(a.reasoning_effort=s),l_e(a.model)?a.max_completion_tokens=this.maxTokens===-1?void 0:this.maxTokens:a.max_tokens=this.maxTokens===-1?void 0:this.maxTokens,a}_convertOpenAIChatCompletionMessageToBaseMessage(e,n){const r=e.tool_calls;switch(e.role){case"assistant":{const i=[],a=[];for(const l of r??[])try{i.push(Jwe(l,{returnId:!0}))}catch(u){a.push(Trt(l,u.message))}const s={function_call:e.function_call,tool_calls:r};this.__includeRawResponse!==void 0&&(s.__raw_response=n);const o={model_name:n.model,...n.system_fingerprint?{usage:{...n.usage},system_fingerprint:n.system_fingerprint}:{}};return e.audio&&(s.audio=e.audio),new yl({content:e.content||"",tool_calls:i,invalid_tool_calls:a,additional_kwargs:s,response_metadata:o,id:n.id})}default:return new Bf(e.content||"",e.role??"unknown")}}_convertOpenAIDeltaToBaseMessageChunk(e,n,r){const i=e.role??r,a=e.content??"";let s;e.function_call?s={function_call:e.function_call}:e.tool_calls?s={tool_calls:e.tool_calls}:s={},this.__includeRawResponse&&(s.__raw_response=n),e.audio&&(s.audio={...e.audio,index:n.choices[0].index});const o={usage:{...n.usage}};if(i==="user")return new eC({content:a,response_metadata:o});if(i==="assistant"){const l=[];if(Array.isArray(e.tool_calls))for(const u of e.tool_calls)l.push({name:u.function?.name,args:u.function?.arguments,id:u.id,index:u.index,type:"tool_call_chunk"});return new _s({content:a,tool_call_chunks:l,additional_kwargs:s,id:n.id,response_metadata:o})}else return i==="system"?new o1({content:a,response_metadata:o}):i==="developer"?new o1({content:a,response_metadata:o,additional_kwargs:{__openai_role__:"developer"}}):i==="function"?new JA({content:a,additional_kwargs:s,name:e.name,response_metadata:o}):i==="tool"?new tF({content:a,additional_kwargs:s,tool_call_id:e.tool_call_id,response_metadata:o}):new QA({content:a,role:i,response_metadata:o})}_identifyingParams(){return{model_name:this.model,...this.invocationParams(),...this.clientConfig}}async*_streamResponseChunks(e,n,r){const i=tae(e,this.model),a={...this.invocationParams(n,{streaming:!0}),messages:i,stream:!0};let s;const o=await this.completionWithRetry(a,n);let l;for await(const u of o){const d=u?.choices?.[0];if(u.usage&&(l=u.usage),!d)continue;const{delta:h}=d;if(!h)continue;const p=this._convertOpenAIDeltaToBaseMessageChunk(h,u,s);s=h.role??s;const m={prompt:n.promptIndex??0,completion:d.index??0};if(typeof p.content!="string"){console.log("[WARNING]: Received non-string content from OpenAI. This is currently not supported.");continue}const v={...m};d.finish_reason!=null&&(v.finish_reason=d.finish_reason,v.system_fingerprint=u.system_fingerprint,v.model_name=u.model),this.logprobs&&(v.logprobs=d.logprobs);const w=new jc({message:p,text:p.content,generationInfo:v});yield w,await r?.handleLLMNewToken(w.text??"",m,void 0,void 0,void 0,{chunk:w})}if(l){const u={...l.prompt_tokens_details?.audio_tokens!==null&&{audio:l.prompt_tokens_details?.audio_tokens},...l.prompt_tokens_details?.cached_tokens!==null&&{cache_read:l.prompt_tokens_details?.cached_tokens}},d={...l.completion_tokens_details?.audio_tokens!==null&&{audio:l.completion_tokens_details?.audio_tokens},...l.completion_tokens_details?.reasoning_tokens!==null&&{reasoning:l.completion_tokens_details?.reasoning_tokens}};yield new jc({message:new _s({content:"",response_metadata:{usage:{...l}},usage_metadata:{input_tokens:l.prompt_tokens,output_tokens:l.completion_tokens,total_tokens:l.total_tokens,...Object.keys(u).length>0&&{input_token_details:u},...Object.keys(d).length>0&&{output_token_details:d}}}),text:""})}if(n.signal?.aborted)throw new Error("AbortError")}identifyingParams(){return this._identifyingParams()}async _generate(e,n,r){const i={},a=this.invocationParams(n),s=tae(e,this.model);if(a.stream){const o=this._streamResponseChunks(e,n,r),l={};for await(const v of o){v.message.response_metadata={...v.generationInfo,...v.message.response_metadata};const w=v.generationInfo?.completion??0;l[w]===void 0?l[w]=v:l[w]=l[w].concat(v)}const u=Object.entries(l).sort(([v],[w])=>parseInt(v,10)-parseInt(w,10)).map(([v,w])=>w),{functions:d,function_call:h}=this.invocationParams(n),p=await this.getEstimatedTokenCountFromPrompt(e,d,h),m=await this.getNumTokensFromGenerations(u);return i.input_tokens=p,i.output_tokens=m,i.total_tokens=p+m,{generations:u,llmOutput:{estimatedTokenUsage:{promptTokens:i.input_tokens,completionTokens:i.output_tokens,totalTokens:i.total_tokens}}}}else{let o;n.response_format&&n.response_format.type==="json_schema"?o=await this.betaParsedCompletionWithRetry({...a,stream:!1,messages:s},{signal:n?.signal,...n?.options}):o=await this.completionWithRetry({...a,stream:!1,messages:s},{signal:n?.signal,...n?.options});const{completion_tokens:l,prompt_tokens:u,total_tokens:d,prompt_tokens_details:h,completion_tokens_details:p}=o?.usage??{};l&&(i.output_tokens=(i.output_tokens??0)+l),u&&(i.input_tokens=(i.input_tokens??0)+u),d&&(i.total_tokens=(i.total_tokens??0)+d),(h?.audio_tokens!==null||h?.cached_tokens!==null)&&(i.input_token_details={...h?.audio_tokens!==null&&{audio:h?.audio_tokens},...h?.cached_tokens!==null&&{cache_read:h?.cached_tokens}}),(p?.audio_tokens!==null||p?.reasoning_tokens!==null)&&(i.output_token_details={...p?.audio_tokens!==null&&{audio:p?.audio_tokens},...p?.reasoning_tokens!==null&&{reasoning:p?.reasoning_tokens}});const m=[];for(const v of o?.choices??[]){const k={text:v.message?.content??"",message:this._convertOpenAIChatCompletionMessageToBaseMessage(v.message??{role:"assistant"},o)};k.generationInfo={...v.finish_reason?{finish_reason:v.finish_reason}:{},...v.logprobs?{logprobs:v.logprobs}:{}},pv(k.message)&&(k.message.usage_metadata=i),k.message=new yl(Object.fromEntries(Object.entries(k.message).filter(([T])=>!T.startsWith("lc_")))),m.push(k)}return{generations:m,llmOutput:{tokenUsage:{promptTokens:i.input_tokens,completionTokens:i.output_tokens,totalTokens:i.total_tokens}}}}}async getEstimatedTokenCountFromPrompt(e,n,r){let i=(await this.getNumTokensFromMessages(e)).totalCount;if(n&&r!=="auto"){const a=bit(n);i+=await this.getNumTokens(a),i+=9}return n&&e.find(a=>a._getType()==="system")&&(i-=4),r==="none"?i+=1:typeof r=="object"&&(i+=await this.getNumTokens(r.name)+4),i}async getNumTokensFromGenerations(e){return(await Promise.all(e.map(async r=>r.message.additional_kwargs?.function_call?(await this.getNumTokensFromMessages([r.message])).countPerMessage[0]:await this.getNumTokens(r.message.content)))).reduce((r,i)=>r+i,0)}async getNumTokensFromMessages(e){let n=0,r=0,i=0;this.model==="gpt-3.5-turbo-0301"?(r=4,i=-1):(r=3,i=1);const a=await Promise.all(e.map(async s=>{const o=await this.getNumTokens(s.content),l=await this.getNumTokens(o_e(s)),u=s.name!==void 0?i+await this.getNumTokens(s.name):0;let d=o+r+l+u;const h=s;if(h._getType()==="function"&&(d-=2),h.additional_kwargs?.function_call&&(d+=3),h?.additional_kwargs.function_call?.name&&(d+=await this.getNumTokens(h.additional_kwargs.function_call?.name)),h.additional_kwargs.function_call?.arguments)try{d+=await this.getNumTokens(JSON.stringify(JSON.parse(h.additional_kwargs.function_call?.arguments)))}catch(p){console.error("Error parsing function arguments",p,JSON.stringify(h.additional_kwargs.function_call)),d+=await this.getNumTokens(h.additional_kwargs.function_call?.arguments)}return n+=d,d}));return n+=3,{totalCount:n,countPerMessage:a}}async completionWithRetry(e,n){const r=this._getClientOptions(n);return this.caller.call(async()=>{try{return await this.client.chat.completions.create(e,r)}catch(i){throw K8(i)}})}async betaParsedCompletionWithRetry(e,n){const r=this._getClientOptions(n);return this.caller.call(async()=>{try{return await this.client.beta.chat.completions.parse(e,r)}catch(i){throw K8(i)}})}_getClientOptions(e){if(!this.client){const r={baseURL:this.clientConfig.baseURL},i=a_e(r),a={...this.clientConfig,baseURL:i,timeout:this.timeout,maxRetries:0};a.baseURL||delete a.baseURL,this.client=new Lr(a)}return{...this.clientConfig,...e}}_llmType(){return"openai"}_combineLLMOutput(...e){return e.reduce((n,r)=>(r&&r.tokenUsage&&(n.tokenUsage.completionTokens+=r.tokenUsage.completionTokens??0,n.tokenUsage.promptTokens+=r.tokenUsage.promptTokens??0,n.tokenUsage.totalTokens+=r.tokenUsage.totalTokens??0),n),{tokenUsage:{completionTokens:0,promptTokens:0,totalTokens:0}})}withStructuredOutput(e,n){let r,i,a,s;_it(e)?(r=e.schema,i=e.name,a=e.method,s=e.includeRaw):(r=e,i=n?.name,a=n?.method,s=n?.includeRaw);let o,l;if(n?.strict!==void 0&&a==="jsonMode")throw new Error("Argument `strict` is only supported for `method` = 'function_calling'");if(!this.model.startsWith("gpt-3")&&!this.model.startsWith("gpt-4-")&&this.model!=="gpt-4"?a===void 0&&(a="jsonSchema"):a==="jsonSchema"&&console.warn(`[WARNING]: JSON Schema is not supported for model "${this.model}". Falling back to tool calling.`),a==="jsonMode")o=this.bind({response_format:{type:"json_object"}}),GE(r)?l=N8.fromZodSchema(r):l=new O8;else if(a==="jsonSchema")o=this.bind({response_format:{type:"json_schema",json_schema:{name:i??"extract",description:r.description,schema:r,strict:n?.strict}}}),GE(r)?l=N8.fromZodSchema(r):l=new O8;else{let p=i??"extract";if(GE(r)){const m=Af(r);o=this.bind({tools:[{type:"function",function:{name:p,description:m.description,parameters:m}}],tool_choice:{type:"function",function:{name:p}},...n?.strict!==void 0?{strict:n.strict}:{}}),l=new Zie({returnSingle:!0,keyName:p,zodSchema:r})}else{let m;typeof r.name=="string"&&typeof r.parameters=="object"&&r.parameters!=null?(m=r,p=r.name):(p=r.title??p,m={name:p,description:r.description??"",parameters:r}),o=this.bind({tools:[{type:"function",function:m}],tool_choice:{type:"function",function:{name:p}},...n?.strict!==void 0?{strict:n.strict}:{}}),l=new Zie({returnSingle:!0,keyName:p})}}if(!s)return o.pipe(l);const u=qu.assign({parsed:(p,m)=>l.invoke(p.raw,m)}),d=qu.assign({parsed:()=>null}),h=u.withFallbacks({fallbacks:[d]});return gl.from([{raw:o},h])}}function GE(t){return typeof t?.parse=="function"}function _it(t){return t!==void 0&&typeof t.schema=="object"}const c_e=(t,e)=>t.reduce((n,r,i)=>{const a=Math.floor(i/e),s=n[a]||[];return n[a]=s.concat([r]),n},[]);class Sit extends y${constructor(e){const n={maxConcurrency:2,...e};super(n),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"text-embedding-ada-002"}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchSize",{enumerable:!0,configurable:!0,writable:!0,value:512}),Object.defineProperty(this,"stripNewLines",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"dimensions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const r=n?.apiKey??n?.openAIApiKey??Lo("OPENAI_API_KEY");this.organization=n?.configuration?.organization??Lo("OPENAI_ORGANIZATION"),this.model=n?.model??n?.modelName??this.model,this.modelName=this.model,this.batchSize=n?.batchSize??this.batchSize,this.stripNewLines=n?.stripNewLines??this.stripNewLines,this.timeout=n?.timeout,this.dimensions=n?.dimensions,this.clientConfig={apiKey:r,organization:this.organization,dangerouslyAllowBrowser:!0,...e?.configuration}}async embedDocuments(e){const n=c_e(this.stripNewLines?e.map(s=>s.replace(/\n/g," ")):e,this.batchSize),r=n.map(s=>{const o={model:this.model,input:s};return this.dimensions&&(o.dimensions=this.dimensions),this.embeddingWithRetry(o)}),i=await Promise.all(r),a=[];for(let s=0;s<i.length;s+=1){const o=n[s],{data:l}=i[s];for(let u=0;u<o.length;u+=1)a.push(l[u].embedding)}return a}async embedQuery(e){const n={model:this.model,input:this.stripNewLines?e.replace(/\n/g," "):e};this.dimensions&&(n.dimensions=this.dimensions);const{data:r}=await this.embeddingWithRetry(n);return r[0].embedding}async embeddingWithRetry(e){if(!this.client){const r={baseURL:this.clientConfig.baseURL},i=a_e(r),a={...this.clientConfig,baseURL:i,timeout:this.timeout,maxRetries:0};a.baseURL||delete a.baseURL,this.client=new Lr(a)}const n={};return this.caller.call(async()=>{try{return await this.client.embeddings.create(e,n)}catch(r){throw K8(r)}})}}class xit extends l${get lc_namespace(){return["langchain","tools"]}constructor(e){super(e??{}),Object.defineProperty(this,"returnDirect",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"verboseParsingErrors",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"responseFormat",{enumerable:!0,configurable:!0,writable:!0,value:"content"}),this.verboseParsingErrors=e?.verboseParsingErrors??this.verboseParsingErrors,this.responseFormat=e?.responseFormat??this.responseFormat}async invoke(e,n){let r,i,a=Jr(n);return nF(e)?(r=e.id,i=e.args,a={...a,toolCall:e,configurable:{...a.configurable,tool_call_id:r}}):i=e,this.call(i,a)}async call(e,n,r){let i;try{i=await this.schema.parseAsync(e)}catch(m){let v="Received tool input did not match expected schema";throw this.verboseParsingErrors&&(v=`${v}
Details: ${m.message}`),new cT(v,JSON.stringify(e))}const a=_ce(n),o=await Fs.configure(a.callbacks,this.callbacks,a.tags||r,this.tags,a.metadata,this.metadata,{verbose:this.verbose})?.handleToolStart(this.toJSON(),typeof i=="string"?i:JSON.stringify(i),a.runId,void 0,void 0,void 0,a.runName);delete a.runId;let l;try{l=await this._call(i,o,a)}catch(m){throw await o?.handleToolError(m),m}let u,d;if(this.responseFormat==="content_and_artifact")if(Array.isArray(l)&&l.length===2)[u,d]=l;else throw new Error(`Tool response format is "content_and_artifact" but the output was not a two-tuple.
Result: ${JSON.stringify(l)}`);else u=l;let h;a&&"configurable"in a&&(h=a.configurable.tool_call_id);const p=Eit({content:u,artifact:d,toolCallId:h,name:this.name});return await o?.handleToolEnd(p),p}}class d_e extends xit{constructor(e){super(e),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:yf.object({input:yf.string().optional()}).transform(n=>n.input)})}call(e,n){return super.call(typeof e=="string"||!e?{input:e}:e,n)}}function Eit(t){const{content:e,artifact:n,toolCallId:r}=t;return r&&!VIe(e)?typeof e=="string"||Array.isArray(e)&&e.every(i=>typeof i=="object")?new Fb({content:e,artifact:n,tool_call_id:r,name:t.name}):new Fb({content:kit(e),artifact:n,tool_call_id:r,name:t.name}):e}function kit(t){try{return JSON.stringify(t,null,2)}catch{return`${t}`}}const ib="0.36.3";let rae=!1,Z_,h_e,Y8,f_e,p_e,m_e;function Tit(t,e={auto:!1}){if(rae)throw new Error(`you must \`import '@anthropic-ai/sdk/shims/${t.kind}'\` before importing anything else from @anthropic-ai/sdk`);if(Z_)throw new Error(`can't \`import '@anthropic-ai/sdk/shims/${t.kind}'\` after \`import '@anthropic-ai/sdk/shims/${Z_}'\``);rae=e.auto,Z_=t.kind,h_e=t.fetch,Y8=t.File,f_e=t.ReadableStream,p_e=t.getDefaultAgent,m_e=t.fileFromPath}class Ait{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function Cit({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import … from '@anthropic-ai/sdk'`:\n- `import '@anthropic-ai/sdk/shims/node'` (if you're running on Node)\n- `import '@anthropic-ai/sdk/shims/web'` (otherwise)\n";let n,r,i,a;try{n=fetch,r=Request,i=Response,a=Headers}catch(s){throw new Error(`this environment is missing the following Web Fetch API type: ${s.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:i,Headers:a,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(s,o)=>({...o,body:new Ait(s)}),getDefaultAgent:s=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/anthropics/anthropic-sdk-typescript#file-uploads")},isFsReadStream:s=>!1}}Z_||Tit(Cit(),{auto:!0});class Vr extends Error{}class so extends Vr{constructor(e,n,r,i){super(`${so.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.request_id=i?.["request-id"],this.error=n}static makeMessage(e,n,r){const i=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new JR({message:r,cause:X8(n)});const a=n;return e===400?new y_e(e,a,r,i):e===401?new b_e(e,a,r,i):e===403?new v_e(e,a,r,i):e===404?new w_e(e,a,r,i):e===409?new __e(e,a,r,i):e===422?new S_e(e,a,r,i):e===429?new x_e(e,a,r,i):e>=500?new E_e(e,a,r,i):new so(e,a,r,i)}}class Lc extends so{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class JR extends so{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class g_e extends JR{constructor({message:e}={}){super({message:e??"Request timed out."})}}class y_e extends so{}class b_e extends so{}class v_e extends so{}class w_e extends so{}class __e extends so{}class S_e extends so{}class x_e extends so{}class E_e extends so{}class Hm{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let n=this.decodeText(e);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=Hm.NEWLINE_CHARS.has(n[n.length-1]||"");let i=n.split(Hm.NEWLINE_REGEXP);return r&&i.pop(),i.length===1&&!r?(this.buffer.push(i[0]),[]):(this.buffer.length>0&&(i=[this.buffer.join("")+i[0],...i.slice(1)],this.buffer=[]),r||(this.buffer=[i.pop()||""]),i)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new Vr(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Vr(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new Vr("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}Hm.NEWLINE_CHARS=new Set([`
`,"\r"]);Hm.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function j$(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Bd{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{for await(const s of Rit(e,n)){if(s.event==="completion")try{yield JSON.parse(s.data)}catch(o){throw console.error("Could not parse message into JSON:",s.data),console.error("From chunk:",s.raw),o}if(s.event==="message_start"||s.event==="message_delta"||s.event==="message_stop"||s.event==="content_block_start"||s.event==="content_block_delta"||s.event==="content_block_stop")try{yield JSON.parse(s.data)}catch(o){throw console.error("Could not parse message into JSON:",s.data),console.error("From chunk:",s.raw),o}if(s.event!=="ping"&&s.event==="error")throw so.generate(void 0,`SSE Error: ${s.data}`,s.data,C_e(e.headers))}a=!0}catch(s){if(s instanceof Error&&s.name==="AbortError")return;throw s}finally{a||n.abort()}}return new Bd(i,n)}static fromReadableStream(e,n){let r=!1;async function*i(){const s=new Hm,o=j$(e);for await(const l of o)for(const u of s.decode(l))yield u;for(const l of s.flush())yield l}async function*a(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(const o of i())s||o&&(yield JSON.parse(o));s=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{s||n.abort()}}return new Bd(a,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const s=r.next();e.push(s),n.push(s)}return a.shift()}});return[new Bd(()=>i(e),this.controller),new Bd(()=>i(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new f_e({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:a,done:s}=await n.next();if(s)return i.close();const o=r.encode(JSON.stringify(a)+`
`);i.enqueue(o)}catch(a){i.error(a)}},async cancel(){await n.return?.()}})}}async function*Rit(t,e){if(!t.body)throw e.abort(),new Vr("Attempted to iterate over a response with no body");const n=new Oit,r=new Hm,i=j$(t.body);for await(const a of Iit(i))for(const s of r.decode(a)){const o=n.decode(s);o&&(yield o)}for(const a of r.flush()){const s=n.decode(a);s&&(yield s)}}async function*Iit(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let i=new Uint8Array(e.length+r.length);i.set(e),i.set(r,e.length),e=i;let a;for(;(a=Nit(e))!==-1;)yield e.slice(0,a),e=e.slice(a)}e.length>0&&(yield e)}function Nit(t){for(let r=0;r<t.length-2;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}class Oit{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=Mit(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function Mit(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}const Pit=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",Lit=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&e2(t),e2=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function";async function Dit(t,e,n){if(t=await t,Lit(t))return t;if(Pit(t)){const i=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const a=e2(i)?[await i.arrayBuffer()]:[i];return new Y8(a,e,n)}const r=await Fit(t);if(e||(e=Uit(t)??"unknown_file"),!n?.type){const i=r[0]?.type;typeof i=="string"&&(n={...n,type:i})}return new Y8(r,e,n)}async function Fit(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(e2(t))e.push(await t.arrayBuffer());else if(jit(t))for await(const n of t)e.push(n);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${t?.constructor?.name}; props: ${Bit(t)}`);return e}function Bit(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function Uit(t){return i6(t.name)||i6(t.filename)||i6(t.path)?.split(/[\\/]/).pop()}const i6=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},jit=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",iae=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody";var k_e={},zit=function(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},$it=function(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},WE;async function T_e(t){const{response:e}=t;if(t.options.stream)return Ob("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):Bd.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type");if(n?.includes("application/json")||n?.includes("application/vnd.api+json")){const a=await e.json();return Ob("response",e.status,e.url,e.headers,a),A_e(a,e)}const i=await e.text();return Ob("response",e.status,e.url,e.headers,i),i}function A_e(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("request-id"),enumerable:!1})}class t2 extends Promise{constructor(e,n=T_e){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new t2(this.responsePromise,async n=>A_e(e(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class qit{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e5,httpAgent:i,fetch:a}){this.baseURL=e,this.maxRetries=a6("maxRetries",n),this.timeout=a6("timeout",r),this.httpAgent=i,this.fetch=a??h_e}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...Yit(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${eat()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async i=>{const a=i&&e2(i?.body)?new DataView(await i.body.arrayBuffer()):i?.body instanceof DataView?i.body:i?.body instanceof ArrayBuffer?new DataView(i.body):i&&ArrayBuffer.isView(i?.body)?new DataView(i.body.buffer):i?.body;return{method:e,path:n,...i,body:a}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){const{method:r,path:i,query:a,headers:s={}}=e,o=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:iae(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,l=this.calculateContentLength(o),u=this.buildURL(i,a);"timeout"in e&&a6("timeout",e.timeout);const d=e.timeout??this.timeout,h=e.httpAgent??this.httpAgent??p_e(u),p=d+1e3;typeof h?.options?.timeout=="number"&&p>(h.options.timeout??0)&&(h.options.timeout=p),this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const m=this.buildHeaders({options:e,headers:s,contentLength:l,retryCount:n});return{req:{method:r,...o&&{body:o},headers:m,...h&&{agent:h},signal:e.signal??null},url:u,timeout:d}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:i}){const a={};r&&(a["content-length"]=r);const s=this.defaultHeaders(e);return lae(a,s),lae(a,n),iae(e.body)&&Z_!=="node"&&delete a["content-type"],uae(s,"x-stainless-retry-count")===void 0&&uae(n,"x-stainless-retry-count")===void 0&&(a["x-stainless-retry-count"]=String(i)),this.validateHeaders(a,n),a}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,i){return so.generate(e,n,r,i)}request(e,n=null){return new t2(this.makeRequest(e,n))}async makeRequest(e,n){const r=await e,i=r.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(r);const{req:a,url:s,timeout:o}=this.buildRequest(r,{retryCount:i-n});if(await this.prepareRequest(a,{url:s,options:r}),Ob("request",s,r,a.headers),r.signal?.aborted)throw new Lc;const l=new AbortController,u=await this.fetchWithTimeout(s,a,o,l).catch(X8);if(u instanceof Error){if(r.signal?.aborted)throw new Lc;if(n)return this.retryRequest(r,n);throw u.name==="AbortError"?new g_e:new JR({cause:u})}const d=C_e(u.headers);if(!u.ok){if(n&&this.shouldRetry(u)){const k=`retrying, ${n} attempts remaining`;return Ob(`response (error; ${k})`,u.status,s,d),this.retryRequest(r,n,d)}const h=await u.text().catch(k=>X8(k).message),p=Xit(h),m=p?void 0:h;throw Ob(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,u.status,s,d,m),this.makeStatusError(u.status,p,m,d)}return{response:u,options:r,controller:l}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new Vit(this,r,e)}buildURL(e,n){const r=Qit(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return fA(i)||(n={...i,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Vr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,i){const{signal:a,...s}=n||{};a&&a.addEventListener("abort",()=>i.abort());const o=setTimeout(()=>i.abort(),r),l={signal:i.signal,...s};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,e,l).finally(()=>{clearTimeout(o)})}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let i;const a=r?.["retry-after-ms"];if(a){const o=parseFloat(a);Number.isNaN(o)||(i=o)}const s=r?.["retry-after"];if(s&&!i){const o=parseFloat(s);Number.isNaN(o)?i=Date.parse(s)-Date.now():i=o*1e3}if(!(i&&0<=i&&i<60*1e3)){const o=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,o)}return await Jit(i),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,s=Math.min(.5*Math.pow(2,a),8),o=1-Math.random()*.25;return s*o*1e3}getUserAgent(){return`${this.constructor.name}/JS ${ib}`}}class Hit{constructor(e,n,r,i){WE.set(this,void 0),zit(this,WE,e),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new Vr("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const r=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[i,a]of r)e.url.searchParams.set(i,a);n.query=void 0,n.path=e.url.toString()}return await $it(this,WE,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(WE=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class Vit extends t2{constructor(e,n,r){super(n,async i=>new r(e,i.response,await T_e(i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const C_e=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),Git={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},hm=t=>typeof t=="object"&&t!==null&&!fA(t)&&Object.keys(t).every(e=>R_e(Git,e)),Wit=()=>{if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ib,"X-Stainless-OS":sae(Deno.build.os),"X-Stainless-Arch":aae(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ib,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ib,"X-Stainless-OS":sae(process.platform),"X-Stainless-Arch":aae(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=Kit();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ib,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ib,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Kit(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${a}.${s}`}}}return null}const aae=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",sae=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let oae;const Yit=()=>oae??(oae=Wit()),Xit=t=>{try{return JSON.parse(t)}catch{return}},Zit=/^[a-z][a-z0-9+.-]*:/i,Qit=t=>Zit.test(t),Jit=t=>new Promise(e=>setTimeout(e,t)),a6=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Vr(`${t} must be an integer`);if(e<0)throw new Vr(`${t} must be a positive integer`);return e},X8=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(String(t))},s6=t=>{if(typeof process<"u")return k_e?.[t]?.trim()??void 0;if(typeof Deno<"u")return Deno.env?.get?.(t)?.trim()};function fA(t){if(!t)return!0;for(const e in t)return!1;return!0}function R_e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function lae(t,e){for(const n in e){if(!R_e(e,n))continue;const r=n.toLowerCase();if(!r)continue;const i=e[n];i===null?delete t[r]:i!==void 0&&(t[r]=i)}}function Ob(t,...e){typeof process<"u"&&k_e?.DEBUG==="true"&&console.log(`Anthropic:DEBUG:${t}`,...e)}const eat=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),tat=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",nat=t=>typeof t?.get=="function",uae=(t,e)=>{const n=e.toLowerCase();if(nat(t)){const r=e[0]?.toUpperCase()+e.substring(1).replace(/([^\w])(\w)/g,(i,a,s)=>a+s.toUpperCase());for(const i of[e,n,e.toUpperCase(),r]){const a=t.get(i);if(a)return a}}for(const[r,i]of Object.entries(t))if(r.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${e} header, using the first entry.`),i[0]):i};class n2 extends Hit{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1,this.first_id=r.first_id||null,this.last_id=r.last_id||null}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){if(this.options.query?.before_id){const n=this.first_id;return n?{params:{before_id:n}}:null}const e=this.last_id;return e?{params:{after_id:e}}:null}}class eg{constructor(e){this._client=e}}let z$=class extends eg{retrieve(e,n){return this._client.get(`/v1/models/${e}?beta=true`,n)}list(e={},n){return hm(e)?this.list({},e):this._client.getAPIList("/v1/models?beta=true",$$,{query:e,...n})}};class $$ extends n2{}z$.BetaModelInfosPage=$$;class r2{constructor(e,n){this.iterator=e,this.controller=n}async*decoder(){const e=new Hm;for await(const n of this.iterator)for(const r of e.decode(n))yield JSON.parse(r);for(const n of e.flush())yield JSON.parse(n)}[Symbol.asyncIterator](){return this.decoder()}static fromResponse(e,n){if(!e.body)throw n.abort(),new Vr("Attempted to iterate over a response with no body");return new r2(j$(e.body),n)}}let q$=class extends eg{create(e,n){const{betas:r,...i}=e;return this._client.post("/v1/messages/batches?beta=true",{body:i,...n,headers:{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString(),...n?.headers}})}retrieve(e,n={},r){if(hm(n))return this.retrieve(e,{},n);const{betas:i}=n;return this._client.get(`/v1/messages/batches/${e}?beta=true`,{...r,headers:{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString(),...r?.headers}})}list(e={},n){if(hm(e))return this.list({},e);const{betas:r,...i}=e;return this._client.getAPIList("/v1/messages/batches?beta=true",H$,{query:i,...n,headers:{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString(),...n?.headers}})}delete(e,n={},r){if(hm(n))return this.delete(e,{},n);const{betas:i}=n;return this._client.delete(`/v1/messages/batches/${e}?beta=true`,{...r,headers:{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString(),...r?.headers}})}cancel(e,n={},r){if(hm(n))return this.cancel(e,{},n);const{betas:i}=n;return this._client.post(`/v1/messages/batches/${e}/cancel?beta=true`,{...r,headers:{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString(),...r?.headers}})}async results(e,n={},r){if(hm(n))return this.results(e,{},n);const i=await this.retrieve(e);if(!i.results_url)throw new Vr(`No batch \`results_url\`; Has it finished processing? ${i.processing_status} - ${i.id}`);const{betas:a}=n;return this._client.get(i.results_url,{...r,headers:{"anthropic-beta":[...a??[],"message-batches-2024-09-24"].toString(),Accept:"application/binary",...r?.headers},__binaryResponse:!0})._thenUnwrap((s,o)=>r2.fromResponse(o.response,o.controller))}};class H$ extends n2{}q$.BetaMessageBatchesPage=H$;const rat=t=>{let e=0,n=[];for(;e<t.length;){let r=t[e];if(r==="\\"){e++;continue}if(r==="{"){n.push({type:"brace",value:"{"}),e++;continue}if(r==="}"){n.push({type:"brace",value:"}"}),e++;continue}if(r==="["){n.push({type:"paren",value:"["}),e++;continue}if(r==="]"){n.push({type:"paren",value:"]"}),e++;continue}if(r===":"){n.push({type:"separator",value:":"}),e++;continue}if(r===","){n.push({type:"delimiter",value:","}),e++;continue}if(r==='"'){let o="",l=!1;for(r=t[++e];r!=='"';){if(e===t.length){l=!0;break}if(r==="\\"){if(e++,e===t.length){l=!0;break}o+=r+t[e],r=t[++e]}else o+=r,r=t[++e]}r=t[++e],l||n.push({type:"string",value:o});continue}if(r&&/\s/.test(r)){e++;continue}let a=/[0-9]/;if(r&&a.test(r)||r==="-"||r==="."){let o="";for(r==="-"&&(o+=r,r=t[++e]);r&&a.test(r)||r===".";)o+=r,r=t[++e];n.push({type:"number",value:o});continue}let s=/[a-z]/i;if(r&&s.test(r)){let o="";for(;r&&s.test(r)&&e!==t.length;)o+=r,r=t[++e];if(o=="true"||o=="false"||o==="null")n.push({type:"name",value:o});else{e++;continue}continue}e++}return n},ab=t=>{if(t.length===0)return t;let e=t[t.length-1];switch(e.type){case"separator":return t=t.slice(0,t.length-1),ab(t);case"number":let n=e.value[e.value.length-1];if(n==="."||n==="-")return t=t.slice(0,t.length-1),ab(t);case"string":let r=t[t.length-2];if(r?.type==="delimiter")return t=t.slice(0,t.length-1),ab(t);if(r?.type==="brace"&&r.value==="{")return t=t.slice(0,t.length-1),ab(t);break;case"delimiter":return t=t.slice(0,t.length-1),ab(t)}return t},iat=t=>{let e=[];return t.map(n=>{n.type==="brace"&&(n.value==="{"?e.push("}"):e.splice(e.lastIndexOf("}"),1)),n.type==="paren"&&(n.value==="["?e.push("]"):e.splice(e.lastIndexOf("]"),1))}),e.length>0&&e.reverse().map(n=>{n==="}"?t.push({type:"brace",value:"}"}):n==="]"&&t.push({type:"paren",value:"]"})}),t},aat=t=>{let e="";return t.map(n=>{switch(n.type){case"string":e+='"'+n.value+'"';break;default:e+=n.value;break}}),e},I_e=t=>JSON.parse(aat(iat(ab(rat(t)))));var Gs=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},wr=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},ku,Vp,Ow,KE,Mw,Pw,YE,Lw,Yh,Dw,XE,ZE,Iy,QE,JE,o6,cae,l6,u6,c6,d6,dae;const hae="__json_buf";class pA{constructor(){ku.add(this),this.messages=[],this.receivedMessages=[],Vp.set(this,void 0),this.controller=new AbortController,Ow.set(this,void 0),KE.set(this,()=>{}),Mw.set(this,()=>{}),Pw.set(this,void 0),YE.set(this,()=>{}),Lw.set(this,()=>{}),Yh.set(this,{}),Dw.set(this,!1),XE.set(this,!1),ZE.set(this,!1),Iy.set(this,!1),QE.set(this,void 0),JE.set(this,void 0),l6.set(this,e=>{if(Gs(this,XE,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new Lc),e instanceof Lc)return Gs(this,ZE,!0,"f"),this._emit("abort",e);if(e instanceof Vr)return this._emit("error",e);if(e instanceof Error){const n=new Vr(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new Vr(String(e)))}),Gs(this,Ow,new Promise((e,n)=>{Gs(this,KE,e,"f"),Gs(this,Mw,n,"f")}),"f"),Gs(this,Pw,new Promise((e,n)=>{Gs(this,YE,e,"f"),Gs(this,Lw,n,"f")}),"f"),wr(this,Ow,"f").catch(()=>{}),wr(this,Pw,"f").catch(()=>{})}get response(){return wr(this,QE,"f")}get request_id(){return wr(this,JE,"f")}async withResponse(){const e=await wr(this,Ow,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){const n=new pA;return n._run(()=>n._fromReadableStream(e)),n}static createMessage(e,n,r){const i=new pA;for(const a of n.messages)i._addMessageParam(a);return i._run(()=>i._createMessage(e,{...n,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),i}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},wr(this,l6,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,n=!0){this.receivedMessages.push(e),n&&this._emit("message",e)}async _createMessage(e,n,r){const i=r?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),wr(this,ku,"m",u6).call(this);const{response:a,data:s}=await e.create({...n,stream:!0},{...r,signal:this.controller.signal}).withResponse();this._connected(a);for await(const o of s)wr(this,ku,"m",c6).call(this,o);if(s.controller.signal?.aborted)throw new Lc;wr(this,ku,"m",d6).call(this)}_connected(e){this.ended||(Gs(this,QE,e,"f"),Gs(this,JE,e?.headers.get("request-id"),"f"),wr(this,KE,"f").call(this,e),this._emit("connect"))}get ended(){return wr(this,Dw,"f")}get errored(){return wr(this,XE,"f")}get aborted(){return wr(this,ZE,"f")}abort(){this.controller.abort()}on(e,n){return(wr(this,Yh,"f")[e]||(wr(this,Yh,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=wr(this,Yh,"f")[e];if(!r)return this;const i=r.findIndex(a=>a.listener===n);return i>=0&&r.splice(i,1),this}once(e,n){return(wr(this,Yh,"f")[e]||(wr(this,Yh,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{Gs(this,Iy,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){Gs(this,Iy,!0,"f"),await wr(this,Pw,"f")}get currentMessage(){return wr(this,Vp,"f")}async finalMessage(){return await this.done(),wr(this,ku,"m",o6).call(this)}async finalText(){return await this.done(),wr(this,ku,"m",cae).call(this)}_emit(e,...n){if(wr(this,Dw,"f"))return;e==="end"&&(Gs(this,Dw,!0,"f"),wr(this,YE,"f").call(this));const r=wr(this,Yh,"f")[e];if(r&&(wr(this,Yh,"f")[e]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),e==="abort"){const i=n[0];!wr(this,Iy,"f")&&!r?.length&&Promise.reject(i),wr(this,Mw,"f").call(this,i),wr(this,Lw,"f").call(this,i),this._emit("end");return}if(e==="error"){const i=n[0];!wr(this,Iy,"f")&&!r?.length&&Promise.reject(i),wr(this,Mw,"f").call(this,i),wr(this,Lw,"f").call(this,i),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",wr(this,ku,"m",o6).call(this))}async _fromReadableStream(e,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),wr(this,ku,"m",u6).call(this),this._connected(null);const i=Bd.fromReadableStream(e,this.controller);for await(const a of i)wr(this,ku,"m",c6).call(this,a);if(i.controller.signal?.aborted)throw new Lc;wr(this,ku,"m",d6).call(this)}[(Vp=new WeakMap,Ow=new WeakMap,KE=new WeakMap,Mw=new WeakMap,Pw=new WeakMap,YE=new WeakMap,Lw=new WeakMap,Yh=new WeakMap,Dw=new WeakMap,XE=new WeakMap,ZE=new WeakMap,Iy=new WeakMap,QE=new WeakMap,JE=new WeakMap,l6=new WeakMap,ku=new WeakSet,o6=function(){if(this.receivedMessages.length===0)throw new Vr("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},cae=function(){if(this.receivedMessages.length===0)throw new Vr("stream ended without producing a Message with role=assistant");const n=this.receivedMessages.at(-1).content.filter(r=>r.type==="text").map(r=>r.text);if(n.length===0)throw new Vr("stream ended without producing a content block with type=text");return n.join(" ")},u6=function(){this.ended||Gs(this,Vp,void 0,"f")},c6=function(n){if(this.ended)return;const r=wr(this,ku,"m",dae).call(this,n);switch(this._emit("streamEvent",n,r),n.type){case"content_block_delta":{const i=r.content.at(-1);switch(n.delta.type){case"text_delta":{i.type==="text"&&this._emit("text",n.delta.text,i.text||"");break}case"citations_delta":{i.type==="text"&&this._emit("citation",n.delta.citation,i.citations??[]);break}case"input_json_delta":{i.type==="tool_use"&&i.input&&this._emit("inputJson",n.delta.partial_json,i.input);break}default:n.delta}break}case"message_stop":{this._addMessageParam(r),this._addMessage(r,!0);break}case"content_block_stop":{this._emit("contentBlock",r.content.at(-1));break}case"message_start":{Gs(this,Vp,r,"f");break}}},d6=function(){if(this.ended)throw new Vr("stream has ended, this shouldn't happen");const n=wr(this,Vp,"f");if(!n)throw new Vr("request ended without sending any chunks");return Gs(this,Vp,void 0,"f"),n},dae=function(n){let r=wr(this,Vp,"f");if(n.type==="message_start"){if(r)throw new Vr(`Unexpected event order, got ${n.type} before receiving "message_stop"`);return n.message}if(!r)throw new Vr(`Unexpected event order, got ${n.type} before "message_start"`);switch(n.type){case"message_stop":return r;case"message_delta":return r.stop_reason=n.delta.stop_reason,r.stop_sequence=n.delta.stop_sequence,r.usage.output_tokens=n.usage.output_tokens,r;case"content_block_start":return r.content.push(n.content_block),r;case"content_block_delta":{const i=r.content.at(n.index);switch(n.delta.type){case"text_delta":{i?.type==="text"&&(i.text+=n.delta.text);break}case"citations_delta":{i?.type==="text"&&(i.citations??(i.citations=[]),i.citations.push(n.delta.citation));break}case"input_json_delta":{if(i?.type==="tool_use"){let a=i[hae]||"";a+=n.delta.partial_json,Object.defineProperty(i,hae,{value:a,enumerable:!1,writable:!0}),a&&(i.input=I_e(a))}break}default:n.delta}return r}case"content_block_stop":return r}},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("streamEvent",i=>{const a=n.shift();a?a.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const a of n)a.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const a of n)a.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((a,s)=>n.push({resolve:a,reject:s})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Bd(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}const fae={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025"};let i2=class extends eg{constructor(){super(...arguments),this.batches=new q$(this._client)}create(e,n){const{betas:r,...i}=e;return i.model in fae&&console.warn(`The model '${i.model}' is deprecated and will reach end-of-life on ${fae[i.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`),this._client.post("/v1/messages?beta=true",{body:i,timeout:this._client._options.timeout??6e5,...n,headers:{...r?.toString()!=null?{"anthropic-beta":r?.toString()}:void 0,...n?.headers},stream:e.stream??!1})}stream(e,n){return pA.createMessage(this,e,n)}countTokens(e,n){const{betas:r,...i}=e;return this._client.post("/v1/messages/count_tokens?beta=true",{body:i,...n,headers:{"anthropic-beta":[...r??[],"token-counting-2024-11-01"].toString(),...n?.headers}})}};i2.Batches=q$;i2.BetaMessageBatchesPage=H$;class ix extends eg{constructor(){super(...arguments),this.models=new z$(this._client),this.messages=new i2(this._client)}}ix.Models=z$;ix.BetaModelInfosPage=$$;ix.Messages=i2;class N_e extends eg{create(e,n){return this._client.post("/v1/complete",{body:e,timeout:this._client._options.timeout??6e5,...n,stream:e.stream??!1})}}class V$ extends eg{create(e,n){return this._client.post("/v1/messages/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/v1/messages/batches/${e}`,n)}list(e={},n){return hm(e)?this.list({},e):this._client.getAPIList("/v1/messages/batches",G$,{query:e,...n})}delete(e,n){return this._client.delete(`/v1/messages/batches/${e}`,n)}cancel(e,n){return this._client.post(`/v1/messages/batches/${e}/cancel`,n)}async results(e,n){const r=await this.retrieve(e);if(!r.results_url)throw new Vr(`No batch \`results_url\`; Has it finished processing? ${r.processing_status} - ${r.id}`);return this._client.get(r.results_url,{...n,headers:{Accept:"application/binary",...n?.headers},__binaryResponse:!0})._thenUnwrap((i,a)=>r2.fromResponse(a.response,a.controller))}}class G$ extends n2{}V$.MessageBatchesPage=G$;var Ws=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},_r=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Tu,Gp,Fw,ek,Bw,Uw,tk,jw,Xh,zw,nk,rk,Ny,ik,ak,h6,pae,f6,p6,m6,g6,mae;const gae="__json_buf";class mA{constructor(){Tu.add(this),this.messages=[],this.receivedMessages=[],Gp.set(this,void 0),this.controller=new AbortController,Fw.set(this,void 0),ek.set(this,()=>{}),Bw.set(this,()=>{}),Uw.set(this,void 0),tk.set(this,()=>{}),jw.set(this,()=>{}),Xh.set(this,{}),zw.set(this,!1),nk.set(this,!1),rk.set(this,!1),Ny.set(this,!1),ik.set(this,void 0),ak.set(this,void 0),f6.set(this,e=>{if(Ws(this,nk,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new Lc),e instanceof Lc)return Ws(this,rk,!0,"f"),this._emit("abort",e);if(e instanceof Vr)return this._emit("error",e);if(e instanceof Error){const n=new Vr(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new Vr(String(e)))}),Ws(this,Fw,new Promise((e,n)=>{Ws(this,ek,e,"f"),Ws(this,Bw,n,"f")}),"f"),Ws(this,Uw,new Promise((e,n)=>{Ws(this,tk,e,"f"),Ws(this,jw,n,"f")}),"f"),_r(this,Fw,"f").catch(()=>{}),_r(this,Uw,"f").catch(()=>{})}get response(){return _r(this,ik,"f")}get request_id(){return _r(this,ak,"f")}async withResponse(){const e=await _r(this,Fw,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){const n=new mA;return n._run(()=>n._fromReadableStream(e)),n}static createMessage(e,n,r){const i=new mA;for(const a of n.messages)i._addMessageParam(a);return i._run(()=>i._createMessage(e,{...n,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),i}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},_r(this,f6,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,n=!0){this.receivedMessages.push(e),n&&this._emit("message",e)}async _createMessage(e,n,r){const i=r?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),_r(this,Tu,"m",p6).call(this);const{response:a,data:s}=await e.create({...n,stream:!0},{...r,signal:this.controller.signal}).withResponse();this._connected(a);for await(const o of s)_r(this,Tu,"m",m6).call(this,o);if(s.controller.signal?.aborted)throw new Lc;_r(this,Tu,"m",g6).call(this)}_connected(e){this.ended||(Ws(this,ik,e,"f"),Ws(this,ak,e?.headers.get("request-id"),"f"),_r(this,ek,"f").call(this,e),this._emit("connect"))}get ended(){return _r(this,zw,"f")}get errored(){return _r(this,nk,"f")}get aborted(){return _r(this,rk,"f")}abort(){this.controller.abort()}on(e,n){return(_r(this,Xh,"f")[e]||(_r(this,Xh,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=_r(this,Xh,"f")[e];if(!r)return this;const i=r.findIndex(a=>a.listener===n);return i>=0&&r.splice(i,1),this}once(e,n){return(_r(this,Xh,"f")[e]||(_r(this,Xh,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{Ws(this,Ny,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){Ws(this,Ny,!0,"f"),await _r(this,Uw,"f")}get currentMessage(){return _r(this,Gp,"f")}async finalMessage(){return await this.done(),_r(this,Tu,"m",h6).call(this)}async finalText(){return await this.done(),_r(this,Tu,"m",pae).call(this)}_emit(e,...n){if(_r(this,zw,"f"))return;e==="end"&&(Ws(this,zw,!0,"f"),_r(this,tk,"f").call(this));const r=_r(this,Xh,"f")[e];if(r&&(_r(this,Xh,"f")[e]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),e==="abort"){const i=n[0];!_r(this,Ny,"f")&&!r?.length&&Promise.reject(i),_r(this,Bw,"f").call(this,i),_r(this,jw,"f").call(this,i),this._emit("end");return}if(e==="error"){const i=n[0];!_r(this,Ny,"f")&&!r?.length&&Promise.reject(i),_r(this,Bw,"f").call(this,i),_r(this,jw,"f").call(this,i),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",_r(this,Tu,"m",h6).call(this))}async _fromReadableStream(e,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),_r(this,Tu,"m",p6).call(this),this._connected(null);const i=Bd.fromReadableStream(e,this.controller);for await(const a of i)_r(this,Tu,"m",m6).call(this,a);if(i.controller.signal?.aborted)throw new Lc;_r(this,Tu,"m",g6).call(this)}[(Gp=new WeakMap,Fw=new WeakMap,ek=new WeakMap,Bw=new WeakMap,Uw=new WeakMap,tk=new WeakMap,jw=new WeakMap,Xh=new WeakMap,zw=new WeakMap,nk=new WeakMap,rk=new WeakMap,Ny=new WeakMap,ik=new WeakMap,ak=new WeakMap,f6=new WeakMap,Tu=new WeakSet,h6=function(){if(this.receivedMessages.length===0)throw new Vr("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},pae=function(){if(this.receivedMessages.length===0)throw new Vr("stream ended without producing a Message with role=assistant");const n=this.receivedMessages.at(-1).content.filter(r=>r.type==="text").map(r=>r.text);if(n.length===0)throw new Vr("stream ended without producing a content block with type=text");return n.join(" ")},p6=function(){this.ended||Ws(this,Gp,void 0,"f")},m6=function(n){if(this.ended)return;const r=_r(this,Tu,"m",mae).call(this,n);switch(this._emit("streamEvent",n,r),n.type){case"content_block_delta":{const i=r.content.at(-1);switch(n.delta.type){case"text_delta":{i.type==="text"&&this._emit("text",n.delta.text,i.text||"");break}case"citations_delta":{i.type==="text"&&this._emit("citation",n.delta.citation,i.citations??[]);break}case"input_json_delta":{i.type==="tool_use"&&i.input&&this._emit("inputJson",n.delta.partial_json,i.input);break}default:n.delta}break}case"message_stop":{this._addMessageParam(r),this._addMessage(r,!0);break}case"content_block_stop":{this._emit("contentBlock",r.content.at(-1));break}case"message_start":{Ws(this,Gp,r,"f");break}}},g6=function(){if(this.ended)throw new Vr("stream has ended, this shouldn't happen");const n=_r(this,Gp,"f");if(!n)throw new Vr("request ended without sending any chunks");return Ws(this,Gp,void 0,"f"),n},mae=function(n){let r=_r(this,Gp,"f");if(n.type==="message_start"){if(r)throw new Vr(`Unexpected event order, got ${n.type} before receiving "message_stop"`);return n.message}if(!r)throw new Vr(`Unexpected event order, got ${n.type} before "message_start"`);switch(n.type){case"message_stop":return r;case"message_delta":return r.stop_reason=n.delta.stop_reason,r.stop_sequence=n.delta.stop_sequence,r.usage.output_tokens=n.usage.output_tokens,r;case"content_block_start":return r.content.push(n.content_block),r;case"content_block_delta":{const i=r.content.at(n.index);switch(n.delta.type){case"text_delta":{i?.type==="text"&&(i.text+=n.delta.text);break}case"citations_delta":{i?.type==="text"&&(i.citations??(i.citations=[]),i.citations.push(n.delta.citation));break}case"input_json_delta":{if(i?.type==="tool_use"){let a=i[gae]||"";a+=n.delta.partial_json,Object.defineProperty(i,gae,{value:a,enumerable:!1,writable:!0}),a&&(i.input=I_e(a))}break}default:n.delta}return r}case"content_block_stop":return r}},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("streamEvent",i=>{const a=n.shift();a?a.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const a of n)a.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const a of n)a.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((a,s)=>n.push({resolve:a,reject:s})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Bd(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}class a2 extends eg{constructor(){super(...arguments),this.batches=new V$(this._client)}create(e,n){return e.model in yae&&console.warn(`The model '${e.model}' is deprecated and will reach end-of-life on ${yae[e.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`),this._client.post("/v1/messages",{body:e,timeout:this._client._options.timeout??6e5,...n,stream:e.stream??!1})}stream(e,n){return mA.createMessage(this,e,n)}countTokens(e,n){return this._client.post("/v1/messages/count_tokens",{body:e,...n})}}const yae={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025"};a2.Batches=V$;a2.MessageBatchesPage=G$;class W$ extends eg{retrieve(e,n){return this._client.get(`/v1/models/${e}`,n)}list(e={},n){return hm(e)?this.list({},e):this._client.getAPIList("/v1/models",K$,{query:e,...n})}}class K$ extends n2{}W$.ModelInfosPage=K$;var O_e;class Ii extends qit{constructor({baseURL:e=s6("ANTHROPIC_BASE_URL"),apiKey:n=s6("ANTHROPIC_API_KEY")??null,authToken:r=s6("ANTHROPIC_AUTH_TOKEN")??null,...i}={}){const a={apiKey:n,authToken:r,...i,baseURL:e||"https://api.anthropic.com"};if(!a.dangerouslyAllowBrowser&&tat())throw new Vr(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Anthropic({ apiKey, dangerouslyAllowBrowser: true });
`);super({baseURL:a.baseURL,timeout:a.timeout??6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new N_e(this),this.messages=new a2(this),this.models=new W$(this),this.beta=new ix(this),this._options=a,this.apiKey=n,this.authToken=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),...this._options.dangerouslyAllowBrowser?{"anthropic-dangerous-direct-browser-access":"true"}:void 0,"anthropic-version":"2023-06-01",...this._options.defaultHeaders}}validateHeaders(e,n){if(!(this.apiKey&&e["x-api-key"])&&n["x-api-key"]!==null&&!(this.authToken&&e.authorization)&&n.authorization!==null)throw new Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted')}authHeaders(e){const n=this.apiKeyAuth(e),r=this.bearerAuth(e);return n!=null&&!fA(n)?n:r!=null&&!fA(r)?r:{}}apiKeyAuth(e){return this.apiKey==null?{}:{"X-Api-Key":this.apiKey}}bearerAuth(e){return this.authToken==null?{}:{Authorization:`Bearer ${this.authToken}`}}}O_e=Ii;Ii.Anthropic=O_e;Ii.HUMAN_PROMPT=`

Human:`;Ii.AI_PROMPT=`

Assistant:`;Ii.DEFAULT_TIMEOUT=6e5;Ii.AnthropicError=Vr;Ii.APIError=so;Ii.APIConnectionError=JR;Ii.APIConnectionTimeoutError=g_e;Ii.APIUserAbortError=Lc;Ii.NotFoundError=w_e;Ii.ConflictError=__e;Ii.RateLimitError=x_e;Ii.BadRequestError=y_e;Ii.AuthenticationError=b_e;Ii.InternalServerError=E_e;Ii.PermissionDeniedError=v_e;Ii.UnprocessableEntityError=S_e;Ii.toFile=Dit;Ii.fileFromPath=m_e;Ii.Completions=N_e;Ii.Messages=a2;Ii.Models=W$;Ii.ModelInfosPage=K$;Ii.Beta=ix;const{HUMAN_PROMPT:xut,AI_PROMPT:Eut}=Ii;class bae extends m${static lc_name(){return"AnthropicToolsOutputParser"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","anthropic","output_parsers"]}),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"keyName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSingle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"zodSchema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.zodSchema=e.zodSchema}async _validateResult(e){let n=e;if(typeof e=="string")try{n=JSON.parse(e)}catch(i){throw new Lf(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify(i.message)}`,e)}else n=e;if(this.zodSchema===void 0)return n;const r=await this.zodSchema.safeParseAsync(n);if(r.success)return r.data;throw new Lf(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify(r.error.errors)}`,JSON.stringify(n,null,2))}async parseResult(e){const n=e.flatMap(a=>{const{message:s}=a;return Array.isArray(s.content)?M_e(s.content)[0]:[]});if(n[0]===void 0)throw new Error("No parseable tool calls provided to AnthropicToolsOutputParser.");const[r]=n;return await this._validateResult(r.args)}}function M_e(t){const e=[];for(const n of t)n.type==="tool_use"&&e.push({name:n.name,args:n.input,id:n.id,type:"tool_call"});return e}function sat(t){if(t)return t==="any"?{type:"any"}:t==="auto"?{type:"auto"}:typeof t=="string"?{type:"tool",name:t}:t}function vae(t){const e=/^data:(image\/.+);base64,(.+)$/,n=t.match(e);if(n===null)throw new Error(["Anthropic only supports base64-encoded images currently.","Example: data:image/png;base64,/9j/4AAQSk..."].join(`

`));return{type:"base64",media_type:n[1]??"",data:n[2]??""}}function oat(t){const e=[];for(const n of t)if(n._getType()==="tool")if(typeof n.content=="string"){const r=e[e.length-1];r?._getType()==="human"&&Array.isArray(r.content)&&"type"in r.content[0]&&r.content[0].type==="tool_result"?r.content.push({type:"tool_result",content:n.content,tool_use_id:n.tool_call_id}):e.push(new Po({content:[{type:"tool_result",content:n.content,tool_use_id:n.tool_call_id}]}))}else e.push(new Po({content:[{type:"tool_result",content:Z8(n.content),tool_use_id:n.tool_call_id}]}));else e.push(n);return e}function wae(t){if(t.id===void 0)throw new Error('Anthropic requires all tool calls to have an "id".');return{type:"tool_use",id:t.id,name:t.name,input:t.args}}function Z8(t){const e=["tool_use","tool_result","input_json_delta"],n=["text","text_delta"];return typeof t=="string"?t:t.map(i=>{const a="cache_control"in i?i.cache_control:void 0;if(i.type==="image_url"){let s;return typeof i.image_url=="string"?s=vae(i.image_url):s=vae(i.image_url.url),{type:"image",source:s,...a?{cache_control:a}:{}}}else{if(i.type==="document")return{...i,...a?{cache_control:a}:{}};if(n.find(s=>s===i.type)&&"text"in i)return{type:"text",text:i.text,...a?{cache_control:a}:{}};if(e.find(s=>s===i.type)){const s={...i};if("index"in s&&delete s.index,s.type==="input_json_delta"&&(s.type="tool_use"),"input"in s)try{s.input=JSON.parse(s.input)}catch{}return{...s,...a?{cache_control:a}:{}}}else throw new Error("Unsupported message content format")}})}function _ae(t){const e=oat(t);let n;e.length>0&&e[0]._getType()==="system"&&(n=t[0].content);const i=(n!==void 0?e.slice(1):e).map(a=>{let s;if(a._getType()==="human")s="user";else if(a._getType()==="ai")s="assistant";else if(a._getType()==="tool")s="user";else throw a._getType()==="system"?new Error("System messages are only permitted as the first passed message."):new Error(`Message type "${a._getType()}" is not supported.`);if(pv(a)&&a.tool_calls?.length){if(typeof a.content=="string")return a.content===""?{role:s,content:a.tool_calls.map(wae)}:{role:s,content:[{type:"text",text:a.content},...a.tool_calls.map(wae)]};{const{content:o}=a;return!a.tool_calls.every(u=>o.find(d=>(d.type==="tool_use"||d.type==="input_json_delta")&&d.id===u.id))&&console.warn('The "tool_calls" field on a message is only respected if content is a string.'),{role:s,content:Z8(a.content)}}}else return{role:s,content:Z8(a.content)}});return{messages:lat(i),system:n}}function lat(t){if(!t||t.length<=1)return t;const e=[];let n=t[0];const r=a=>typeof a=="string"?[{type:"text",text:a}]:a,i=a=>a.role!=="user"||typeof a.content=="string"?!1:Array.isArray(a.content)&&a.content.every(s=>s.type==="tool_result");for(let a=1;a<t.length;a+=1){const s=t[a];i(n)&&i(s)?n={...n,content:[...r(n.content),...r(s.content)]}:(e.push(n),n=s)}return e.push(n),e}function uat(t,e){if(t.type==="message_start"){const{content:n,usage:r,...i}=t.message,a={};for(const[d,h]of Object.entries(i))h!=null&&(a[d]=h);const{input_tokens:s,output_tokens:o,...l}=r??{},u={input_tokens:s,output_tokens:o,total_tokens:s+o,input_token_details:{cache_creation:l.cache_creation_input_tokens,cache_read:l.cache_read_input_tokens}};return{chunk:new _s({content:e.coerceContentToString?"":[],additional_kwargs:a,usage_metadata:e.streamUsage?u:void 0,response_metadata:{usage:{...l}},id:t.message.id})}}else if(t.type==="message_delta"){const n={input_tokens:0,output_tokens:t.usage.output_tokens,total_tokens:t.usage.output_tokens,input_token_details:{cache_creation:t.usage.cache_creation_input_tokens,cache_read:t.usage.cache_read_input_tokens}};return{chunk:new _s({content:e.coerceContentToString?"":[],additional_kwargs:{...t.delta},usage_metadata:e.streamUsage?n:void 0})}}else if(t.type==="content_block_start"&&["tool_use","document"].includes(t.content_block.type)){const n=t.content_block;let r;return n.type==="tool_use"?r=[{id:n.id,index:t.index,name:n.name,args:""}]:r=[],{chunk:new _s({content:e.coerceContentToString?"":[{index:t.index,...t.content_block,input:""}],additional_kwargs:{},tool_call_chunks:r})}}else if(t.type==="content_block_delta"&&["text_delta","citations_delta"].includes(t.delta.type)){if(e.coerceContentToString&&"text"in t.delta)return{chunk:new _s({content:t.delta.text})};{const n=t.delta;return"citation"in n&&(n.citations=[n.citation],delete n.citation),{chunk:new _s({content:[{index:t.index,...n,type:"text"}]})}}}else{if(t.type==="content_block_delta"&&t.delta.type==="input_json_delta")return{chunk:new _s({content:e.coerceContentToString?"":[{index:t.index,input:t.delta.partial_json,type:t.delta.type}],additional_kwargs:{},tool_call_chunks:[{index:t.index,args:t.delta.partial_json}]})};if(t.type==="content_block_start"&&t.content_block.type==="text"){const n=t.content_block?.text;if(n!==void 0)return{chunk:new _s({content:e.coerceContentToString?n:[{index:t.index,...t.content_block}],additional_kwargs:{}})}}}return null}function cat(t,e){const n=e.usage,r=n!=null?{input_tokens:n.input_tokens??0,output_tokens:n.output_tokens??0,total_tokens:(n.input_tokens??0)+(n.output_tokens??0),input_token_details:{cache_creation:n.cache_creation_input_tokens,cache_read:n.cache_read_input_tokens}}:void 0;if(t.length===1&&t[0].type==="text")return[{text:t[0].text,message:new yl({content:t[0].text,additional_kwargs:e,usage_metadata:r,response_metadata:e,id:e.id})}];{const i=M_e(t);return[{text:"",message:new yl({content:t,additional_kwargs:e,tool_calls:i,usage_metadata:r,response_metadata:e,id:e.id})}]}}function sk(t,e){return t.lc_error_code=e,t.message=`${t.message}

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/${e}/
`,t}function Sae(t){let e;return t.status===400&&t.message.includes("tool")?e=sk(t,"INVALID_TOOL_RESULTS"):t.status===401?e=sk(t,"MODEL_AUTHENTICATION"):t.status===404?e=sk(t,"MODEL_NOT_FOUND"):t.status===429?e=sk(t,"MODEL_RATE_LIMIT"):e=t,e}function dat(t){return!!(t.tools&&t.tools.length>0)}function hat(t){for(const e of t.messages??[])if(typeof e.content!="string"){for(const n of e.content??[])if(typeof n=="object"&&n!=null&&n.type==="document"&&typeof n.citations=="object"&&n.citations.enabled)return!0}return!1}function fat(t){return"input_schema"in t}function pat(t){if(typeof t.content=="string")return t.content;if(Array.isArray(t.content)&&t.content.length>=1&&"input"in t.content[0])return typeof t.content[0].input=="string"?t.content[0].input:JSON.stringify(t.content[0].input);if(Array.isArray(t.content)&&t.content.length>=1&&"text"in t.content[0])return t.content[0].text}class mat extends Nc{static lc_name(){return"ChatAnthropic"}get lc_secrets(){return{anthropicApiKey:"ANTHROPIC_API_KEY",apiKey:"ANTHROPIC_API_KEY"}}get lc_aliases(){return{modelName:"model"}}constructor(e){if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"anthropicApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"topK",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:2048}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"claude-2.1"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"claude-2.1"}),Object.defineProperty(this,"invocationKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"clientOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streamingClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streamUsage",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"createClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.anthropicApiKey=e?.apiKey??e?.anthropicApiKey??Lo("ANTHROPIC_API_KEY"),!this.anthropicApiKey&&!e?.createClient)throw new Error("Anthropic API key not found");this.clientOptions=e?.clientOptions??{},this.apiKey=this.anthropicApiKey,this.apiUrl=e?.anthropicApiUrl,this.modelName=e?.model??e?.modelName??this.model,this.model=this.modelName,this.invocationKwargs=e?.invocationKwargs??{},this.temperature=e?.temperature??this.temperature,this.topK=e?.topK??this.topK,this.topP=e?.topP??this.topP,this.maxTokens=e?.maxTokensToSample??e?.maxTokens??this.maxTokens,this.stopSequences=e?.stopSequences??this.stopSequences,this.streaming=e?.streaming??!1,this.streamUsage=e?.streamUsage??this.streamUsage,this.createClient=e?.createClient??(n=>new Ii(n))}getLsParams(e){const n=this.invocationParams(e);return{ls_provider:"anthropic",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:n.temperature??void 0,ls_max_tokens:n.max_tokens??void 0,ls_stop:e.stop}}formatStructuredToolToAnthropic(e){if(!(!e||!e.length))return e.map(n=>{if(fat(n))return n;if(HR(n))return{name:n.function.name,description:n.function.description,input_schema:n.function.parameters};if(QS(n))return{name:n.name,description:n.description,input_schema:Af(n.schema)};throw new Error(`Unknown tool type passed to ChatAnthropic: ${JSON.stringify(n,null,2)}`)})}bindTools(e,n){return this.bind({tools:this.formatStructuredToolToAnthropic(e),...n})}invocationParams(e){const n=sat(e?.tool_choice);return{model:this.model,temperature:this.temperature,top_k:this.topK,top_p:this.topP,stop_sequences:e?.stop??this.stopSequences,stream:this.streaming,max_tokens:this.maxTokens,tools:this.formatStructuredToolToAnthropic(e?.tools),tool_choice:n,...this.invocationKwargs}}_identifyingParams(){return{model_name:this.model,...this.invocationParams()}}identifyingParams(){return{model_name:this.model,...this.invocationParams()}}async*_streamResponseChunks(e,n,r){const i=this.invocationParams(n),a=_ae(e),s={...i,...a,stream:!0},o=!dat(s)&&!hat(s),l=await this.createStreamWithRetry(s,{headers:n.headers});for await(const u of l){if(n.signal?.aborted)throw l.controller.abort(),new Error("AbortError: User aborted the request.");const d=this.streamUsage??n.streamUsage,h=uat(u,{streamUsage:d,coerceContentToString:o});if(!h)continue;const{chunk:p}=h,m=pat(p),v=new jc({message:new _s({content:p.content,additional_kwargs:p.additional_kwargs,tool_call_chunks:p.tool_call_chunks,usage_metadata:d?p.usage_metadata:void 0,response_metadata:p.response_metadata,id:p.id}),text:m??""});yield v,await r?.handleLLMNewToken(m??"",void 0,void 0,void 0,void 0,{chunk:v})}}async _generateNonStreaming(e,n,r){const i=await this.completionWithRetry({...n,stream:!1,..._ae(e)},r),{content:a,...s}=i,o=cat(a,s),{role:l,type:u,...d}=s;return{generations:o,llmOutput:d}}async _generate(e,n,r){if(this.stopSequences&&n.stop)throw new Error('"stopSequence" parameter found in input and default params');const i=this.invocationParams(n);if(i.stream){let a;const s=this._streamResponseChunks(e,n,r);for await(const o of s)a===void 0?a=o:a=a.concat(o);if(a===void 0)throw new Error("No chunks returned from Anthropic API.");return{generations:[{text:a.text,message:a.message}]}}else return this._generateNonStreaming(e,i,{signal:n.signal,headers:n.headers})}async createStreamWithRetry(e,n){if(!this.streamingClient){const i=this.apiUrl?{baseURL:this.apiUrl}:void 0;this.streamingClient=this.createClient({dangerouslyAllowBrowser:!0,...this.clientOptions,...i,apiKey:this.apiKey,maxRetries:0})}const r=async()=>{try{return await this.streamingClient.messages.create({...e,...this.invocationKwargs,stream:!0},n)}catch(i){throw Sae(i)}};return this.caller.call(r)}async completionWithRetry(e,n){if(!this.batchClient){const i=this.apiUrl?{baseURL:this.apiUrl}:void 0;this.batchClient=this.createClient({dangerouslyAllowBrowser:!0,...this.clientOptions,...i,apiKey:this.apiKey,maxRetries:0})}const r=async()=>{try{return await this.batchClient.messages.create({...e,...this.invocationKwargs},n)}catch(i){throw Sae(i)}};return this.caller.callWithOptions({signal:n.signal??void 0},r)}_llmType(){return"anthropic"}withStructuredOutput(e,n){const r=e,i=n?.name,a=n?.method,s=n?.includeRaw;if(a==="jsonMode")throw new Error('Anthropic only supports "functionCalling" as a method.');let o=i??"extract",l,u;if(ZS(r)){const v=Af(r);u=[{name:o,description:v.description??"A function available to call.",input_schema:v}],l=new bae({returnSingle:!0,keyName:o,zodSchema:r})}else{let v;typeof r.name=="string"&&typeof r.description=="string"&&typeof r.input_schema=="object"&&r.input_schema!=null?(v=r,o=r.name):v={name:o,description:r.description??"",input_schema:r},u=[v],l=new bae({returnSingle:!0,keyName:o})}const d=this.bind({tools:u,tool_choice:{type:"tool",name:o}});if(!s)return d.pipe(l).withConfig({runName:"ChatAnthropicStructuredOutput"});const h=qu.assign({parsed:(v,w)=>l.invoke(v.raw,w)}),p=qu.assign({parsed:()=>null}),m=h.withFallbacks({fallbacks:[p]});return gl.from([{raw:d},m]).withConfig({runName:"StructuredOutputRunnable"})}}class gat extends mat{}var xae;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(xae||(xae={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eae;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(Eae||(Eae={}));var kae;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(kae||(kae={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tae=["user","model","function","system"];var Aae;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(Aae||(Aae={}));var Cae;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Cae||(Cae={}));var Rae;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Rae||(Rae={}));var Iae;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(Iae||(Iae={}));var Q_;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER"})(Q_||(Q_={}));var Nae;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(Nae||(Nae={}));var mb;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(mb||(mb={}));var Oae;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Oae||(Oae={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Oy extends ml{constructor(e,n){super(e),this.response=n}}class P_e extends ml{constructor(e,n,r,i){super(e),this.status=n,this.statusText=r,this.errorDetails=i}}class xm extends ml{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yat="https://generativelanguage.googleapis.com",bat="v1beta",vat="0.21.0",wat="genai-js";var A0;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(A0||(A0={}));class _at{constructor(e,n,r,i,a){this.model=e,this.task=n,this.apiKey=r,this.stream=i,this.requestOptions=a}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||bat;let a=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||yat}/${r}/${this.model}:${this.task}`;return this.stream&&(a+="?alt=sse"),a}}function Sat(t){const e=[];return t?.apiClient&&e.push(t.apiClient),e.push(`${wat}/${vat}`),e.join(" ")}async function xat(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",Sat(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new xm(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,a]of r.entries()){if(i==="x-goog-api-key")throw new xm(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new xm(`Header name ${i} can only be set using the apiClient field`);n.append(i,a)}}return n}async function Eat(t,e,n,r,i,a){const s=new _at(t,e,n,r,a);return{url:s.toString(),fetchOptions:Object.assign(Object.assign({},Cat(a)),{method:"POST",headers:await xat(s),body:i})}}async function ax(t,e,n,r,i,a={},s=fetch){const{url:o,fetchOptions:l}=await Eat(t,e,n,r,i,a);return kat(o,l,s)}async function kat(t,e,n=fetch){let r;try{r=await n(t,e)}catch(i){Tat(i,t)}return r.ok||await Aat(r,t),r}function Tat(t,e){let n=t;throw t instanceof P_e||t instanceof xm||(n=new ml(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function Aat(t,e){let n="",r;try{const i=await t.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new P_e(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function Cat(t){const e={};if(t?.signal!==void 0||t?.timeout>=0){const n=new AbortController;t?.timeout>=0&&setTimeout(()=>n.abort(),t.timeout),t?.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y$(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Wk(t.candidates[0]))throw new Oy(`${om(t)}`,t);return Rat(t)}else if(t.promptFeedback)throw new Oy(`Text not available. ${om(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Wk(t.candidates[0]))throw new Oy(`${om(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Mae(t)[0]}else if(t.promptFeedback)throw new Oy(`Function call not available. ${om(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Wk(t.candidates[0]))throw new Oy(`${om(t)}`,t);return Mae(t)}else if(t.promptFeedback)throw new Oy(`Function call not available. ${om(t)}`,t)},t}function Rat(t){var e,n,r,i;const a=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const s of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)s.text&&a.push(s.text),s.executableCode&&a.push("\n```"+s.executableCode.language+`
`+s.executableCode.code+"\n```\n"),s.codeExecutionResult&&a.push("\n```\n"+s.codeExecutionResult.output+"\n```\n");return a.length>0?a.join(""):""}function Mae(t){var e,n,r,i;const a=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const s of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)s.functionCall&&a.push(s.functionCall);if(a.length>0)return a}const Iat=[Q_.RECITATION,Q_.SAFETY,Q_.LANGUAGE];function Wk(t){return!!t.finishReason&&Iat.includes(t.finishReason)}function om(t){var e,n,r;let i="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)i+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const a=t.candidates[0];Wk(a)&&(i+=`Candidate was blocked due to ${a.finishReason}`,a.finishMessage&&(i+=`: ${a.finishMessage}`))}return i}function Y1(t){return this instanceof Y1?(this.v=t,this):new Y1(t)}function Nat(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(p){r[p]&&(i[p]=function(m){return new Promise(function(v,w){a.push([p,m,v,w])>1||o(p,m)})})}function o(p,m){try{l(r[p](m))}catch(v){h(a[0][3],v)}}function l(p){p.value instanceof Y1?Promise.resolve(p.value.v).then(u,d):h(a[0][2],p)}function u(p){o("next",p)}function d(p){o("throw",p)}function h(p,m){p(m),a.shift(),a.length&&o(a[0][0],a[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pae=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Oat(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=Lat(e),[r,i]=n.tee();return{stream:Pat(r),response:Mat(i)}}async function Mat(t){const e=[],n=t.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return Y$(Dat(e));e.push(i)}}function Pat(t){return Nat(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:i}=yield Y1(n.read());if(i)break;yield yield Y1(Y$(r))}})}function Lat(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return a();function a(){return e.read().then(({value:s,done:o})=>{if(o){if(i.trim()){r.error(new ml("Failed to parse stream"));return}r.close();return}i+=s;let l=i.match(Pae),u;for(;l;){try{u=JSON.parse(l[1])}catch{r.error(new ml(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(u),i=i.substring(l[0].length),l=i.match(Pae)}return a()})}}})}function Dat(t){const e=t[t.length-1],n={promptFeedback:e?.promptFeedback};for(const r of t){if(r.candidates)for(const i of r.candidates){const a=i.index;if(n.candidates||(n.candidates=[]),n.candidates[a]||(n.candidates[a]={index:i.index}),n.candidates[a].citationMetadata=i.citationMetadata,n.candidates[a].groundingMetadata=i.groundingMetadata,n.candidates[a].finishReason=i.finishReason,n.candidates[a].finishMessage=i.finishMessage,n.candidates[a].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[a].content||(n.candidates[a].content={role:i.content.role||"user",parts:[]});const s={};for(const o of i.content.parts)o.text&&(s.text=o.text),o.functionCall&&(s.functionCall=o.functionCall),o.executableCode&&(s.executableCode=o.executableCode),o.codeExecutionResult&&(s.codeExecutionResult=o.codeExecutionResult),Object.keys(s).length===0&&(s.text=""),n.candidates[a].content.parts.push(s)}}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L_e(t,e,n,r){const i=await ax(e,A0.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return Oat(i)}async function D_e(t,e,n,r){const a=await(await ax(e,A0.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:Y$(a)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_e(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function X1(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return Fat(e)}function Fat(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const a of t)"functionResponse"in a?(n.parts.push(a),i=!0):(e.parts.push(a),r=!0);if(r&&i)throw new ml("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new ml("No content is provided for sending chat message.");return r?e:n}function Bat(t,e){var n;let r={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(n=e?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const i=t.generateContentRequest!=null;if(t.contents){if(i)throw new xm("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(i)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const a=X1(t);r.contents=[a]}return{generateContentRequest:r}}function Lae(t){let e;return t.contents?e=t:e={contents:[X1(t)]},t.systemInstruction&&(e.systemInstruction=F_e(t.systemInstruction)),e}function Uat(t){return typeof t=="string"||Array.isArray(t)?{content:X1(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dae=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],jat={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function zat(t){let e=!1;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new ml(`First content should be with role 'user', got ${r}`);if(!Tae.includes(r))throw new ml(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(Tae)}`);if(!Array.isArray(i))throw new ml("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new ml("Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const o of i)for(const l of Dae)l in o&&(a[l]+=1);const s=jat[r];for(const o of Dae)if(!s.includes(o)&&a[o]>0)throw new ml(`Content with role '${r}' can't contain '${o}' part`);e=!0}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fae="SILENT_ERROR";class $at{constructor(e,n,r,i={}){this.model=n,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r?.history&&(zat(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,i,a,s,o,l;await this._sendPromise;const u=X1(e),d={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),n);let p;return this._sendPromise=this._sendPromise.then(()=>D_e(this._apiKey,this.model,d,h)).then(m=>{var v;if(m.response.candidates&&m.response.candidates.length>0){this._history.push(u);const w=Object.assign({parts:[],role:"model"},(v=m.response.candidates)===null||v===void 0?void 0:v[0].content);this._history.push(w)}else{const w=om(m.response);w&&console.warn(`sendMessage() was unsuccessful. ${w}. Inspect response object for details.`)}p=m}),await this._sendPromise,p}async sendMessageStream(e,n={}){var r,i,a,s,o,l;await this._sendPromise;const u=X1(e),d={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),n),p=L_e(this._apiKey,this.model,d,h);return this._sendPromise=this._sendPromise.then(()=>p).catch(m=>{throw new Error(Fae)}).then(m=>m.response).then(m=>{if(m.candidates&&m.candidates.length>0){this._history.push(u);const v=Object.assign({},m.candidates[0].content);v.role||(v.role="model"),this._history.push(v)}else{const v=om(m);v&&console.warn(`sendMessageStream() was unsuccessful. ${v}. Inspect response object for details.`)}}).catch(m=>{m.message!==Fae&&console.error(m)}),p}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qat(t,e,n,r){return(await ax(e,A0.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hat(t,e,n,r){return(await ax(e,A0.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function Vat(t,e,n,r){const i=n.requests.map(s=>Object.assign(Object.assign({},s),{model:e}));return(await ax(e,A0.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bae{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=F_e(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const i=Lae(e),a=Object.assign(Object.assign({},this._requestOptions),n);return D_e(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}async generateContentStream(e,n={}){var r;const i=Lae(e),a=Object.assign(Object.assign({},this._requestOptions),n);return L_e(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}startChat(e){var n;return new $at(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=Bat(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return qat(this.apiKey,this.model,r,i)}async embedContent(e,n={}){const r=Uat(e),i=Object.assign(Object.assign({},this._requestOptions),n);return Hat(this.apiKey,this.model,r,i)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return Vat(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new ml("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Bae(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new xm("Cached content must contain a `name` field.");if(!e.model)throw new xm("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const s of i)if(n?.[s]&&e[s]&&n?.[s]!==e[s]){if(s==="model"){const o=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,l=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(o===l)continue}throw new xm(`Different value for "${s}" specified in modelParams (${n[s]}) and cachedContent (${e[s]})`)}const a=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new Bae(this.apiKey,a,r)}}function Z1(t){if(typeof t=="object"&&t!==null){const e={...t};"additionalProperties"in e&&delete e.additionalProperties,"$schema"in e&&delete e.$schema;for(const n in e)n in e&&(Array.isArray(e[n])?e[n]=e[n].map(Z1):typeof e[n]=="object"&&e[n]!==null&&(e[n]=Z1(e[n])));return e}return t}function B_e(t){const e=Z1(Af(t)),{$schema:n,...r}=e;return r}function Gat(t){const e=Z1(t),{$schema:n,...r}=e;return r}function Wat(t){const e=t._getType();return Bf.isInstance(t)?t.role:e==="tool"?e:t.name??e}function Kat(t){switch(t){case"ai":case"model":return"model";case"system":return"system";case"human":return"user";case"tool":case"function":return"function";default:throw new Error(`Unknown / unsupported author: ${t}`)}}function Yat(t){if("mimeType"in t&&"data"in t)return{inlineData:{mimeType:t.mimeType,data:t.data}};if("mimeType"in t&&"fileUri"in t)return{fileData:{mimeType:t.mimeType,fileUri:t.fileUri}};throw new Error("Invalid media content")}function Xat(t,e){if(typeof t.content=="string"&&t.content!=="")return[{text:t.content}];let n=[],r=[],i=[];return"tool_calls"in t&&Array.isArray(t.tool_calls)&&t.tool_calls.length>0?n=t.tool_calls.map(a=>({functionCall:{name:a.name,args:a.args}})):t.getType()==="tool"&&t.name&&t.content?r=[{functionResponse:{name:t.name,response:t.content}}]:Array.isArray(t.content)&&(i=t.content.map(a=>{if(a.type==="text")return{text:a.text};if(a.type==="executableCode")return{executableCode:a.executableCode};if(a.type==="codeExecutionResult")return{codeExecutionResult:a.codeExecutionResult};if(a.type==="image_url"){if(!e)throw new Error("This model does not support images");let s;if(typeof a.image_url=="string")s=a.image_url;else if(typeof a.image_url=="object"&&"url"in a.image_url)s=a.image_url.url;else throw new Error("Please provide image as base64 encoded data URL");const[o,l]=s.split(",");if(!o.startsWith("data:"))throw new Error("Please provide image as base64 encoded data URL");const[u,d]=o.replace(/^data:/,"").split(";");if(d!=="base64")throw new Error("Please provide image as base64 encoded data URL");return{inlineData:{data:l,mimeType:u}}}else{if(a.type==="media")return Yat(a);if(a.type==="tool_use")return{functionCall:{name:a.name,args:a.input}};if(a.type?.includes("/")&&a.type.split("/").length===2&&"data"in a&&typeof a.data=="string")return{inlineData:{mimeType:a.type,data:a.data}}}throw new Error(`Unknown content type ${a.type}`)})),[...i,...n,...r]}function Uae(t,e,n=!1){return t.reduce((r,i,a)=>{if(!Oc(i))throw new Error("Unsupported message input");const s=Wat(i);if(s==="system"&&a!==0)throw new Error("System message should be the first one");const o=Kat(s),l=r.content[r.content.length];if(!r.mergeWithPreviousContent&&l&&l.role===o)throw new Error("Google Generative AI requires alternate messages between authors");const u=Xat(i,e);if(r.mergeWithPreviousContent){const p=r.content[r.content.length-1];if(!p)throw new Error("There was a problem parsing your system message. Please try a prompt without one.");return p.parts.push(...u),{mergeWithPreviousContent:!1,content:r.content}}let d=o;(d==="function"||d==="system"&&!n)&&(d="user");const h={role:d,parts:u};return{mergeWithPreviousContent:s==="system"&&!n,content:[...r.content,h]}},{content:[],mergeWithPreviousContent:!1}).content}function Zat(t,e){if(!t.candidates||t.candidates.length===0||!t.candidates[0])return{generations:[],llmOutput:{filters:t.promptFeedback}};const n=t.functionCalls(),[r]=t.candidates,{content:i,...a}=r;let s;i?.parts.length===1&&i.parts[0].text?s=i.parts[0].text:s=i.parts.map(u=>"text"in u?{type:"text",text:u.text}:"executableCode"in u?{type:"executableCode",executableCode:u.executableCode}:"codeExecutionResult"in u?{type:"codeExecutionResult",codeExecutionResult:u.codeExecutionResult}:u);let o="";return typeof s=="string"?o=s:"text"in s[0]&&(o=s[0].text),{generations:[{text:o,message:new yl({content:s,tool_calls:n?.map(u=>({...u,type:"tool_call"})),additional_kwargs:{...a},usage_metadata:e?.usageMetadata}),generationInfo:a}]}}function Qat(t,e){if(!t.candidates||t.candidates.length===0)return null;const n=t.functionCalls(),[r]=t.candidates,{content:i,...a}=r;let s;i?.parts&&i.parts.every(u=>"text"in u)?s=i.parts.map(u=>u.text).join(""):i.parts&&(s=i.parts.map(u=>"text"in u?{type:"text",text:u.text}:"executableCode"in u?{type:"executableCode",executableCode:u.executableCode}:"codeExecutionResult"in u?{type:"codeExecutionResult",codeExecutionResult:u.codeExecutionResult}:u));let o="";s&&typeof s=="string"?o=s:s&&typeof s=="object"&&"text"in s[0]&&(o=s[0].text);const l=[];return n&&l.push(...n.map(u=>({...u,args:JSON.stringify(u.args),index:e.index,type:"tool_call_chunk"}))),new jc({text:o,message:new _s({content:s||"",name:i?i.role:void 0,tool_call_chunks:l,additional_kwargs:{},usage_metadata:e.usageMetadata}),generationInfo:a})}function Jat(t){return t.every(e=>"functionDeclarations"in e&&Array.isArray(e.functionDeclarations))?t:[{functionDeclarations:t.map(e=>{if(QS(e)){const n=B_e(e.schema);return{name:e.name,description:e.description,parameters:n}}return HR(e)?{name:e.function.name,description:e.function.description??"A function available to call.",parameters:Gat(e.function.parameters)}:e})}]}class jae extends m${static lc_name(){return"GoogleGenerativeAIToolsOutputParser"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","google_genai","output_parsers"]}),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"keyName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSingle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"zodSchema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.zodSchema=e.zodSchema}async _validateResult(e){if(this.zodSchema===void 0)return e;const n=await this.zodSchema.safeParseAsync(e);if(n.success)return n.data;throw new Lf(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify(n.error.errors)}`,JSON.stringify(e,null,2))}async parseResult(e){const n=e.flatMap(a=>{const{message:s}=a;return!("tool_calls"in s)||!Array.isArray(s.tool_calls)?[]:s.tool_calls});if(n[0]===void 0)throw new Error("No parseable tool calls provided to GoogleGenerativeAIToolsOutputParser.");const[r]=n;return await this._validateResult(r.args)}}function zae(t,e){const n=est(t),r=nst(n,e);return{tools:n,toolConfig:r}}function est(t){let e=[];const n=[];return t.forEach(i=>{if(QS(i)){const[a]=Jat([i]);a.functionDeclarations&&e.push(...a.functionDeclarations)}else if(HR(i)){const{functionDeclarations:a}=tst(i);if(a)e.push(...a);else throw new Error("Failed to convert OpenAI structured tool to GenerativeAI tool")}else n.push(i)}),n.find(i=>"functionDeclarations"in i)?n.map(i=>{if(e?.length>0&&"functionDeclarations"in i){const a={functionDeclarations:[...i.functionDeclarations||[],...e]};return e=[],a}return i}):[...n,...e.length>0?[{functionDeclarations:e}]:[]]}function tst(t){return{functionDeclarations:[{name:t.function.name,description:t.function.description,parameters:Z1(t.function.parameters)}]}}function nst(t,e){if(!t.length||!e)return;const{toolChoice:n,allowedFunctionNames:r}=e,i={any:mb.ANY,auto:mb.AUTO,none:mb.NONE};if(n&&["any","auto","none"].includes(n))return{functionCallingConfig:{mode:i[n]??"MODE_UNSPECIFIED",allowedFunctionNames:r}};if(typeof n=="string"||r)return{functionCallingConfig:{mode:mb.ANY,allowedFunctionNames:[...r??[],...n&&typeof n=="string"?[n]:[]]}}}class rst extends Nc{static lc_name(){return"ChatGoogleGenerativeAI"}get lc_secrets(){return{apiKey:"GOOGLE_API_KEY"}}get lc_aliases(){return{apiKey:"google_api_key"}}get _isMultimodalModel(){return this.model.includes("vision")||this.model.startsWith("gemini-1.5")||this.model.startsWith("gemini-2")}constructor(e){if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models","google_genai"]}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"gemini-pro"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"gemini-pro"}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxOutputTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topK",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"safetySettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"streamUsage",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"convertSystemMessageToHumanContent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.modelName=e?.model?.replace(/^models\//,"")??e?.modelName?.replace(/^models\//,"")??this.model,this.model=this.modelName,this.maxOutputTokens=e?.maxOutputTokens??this.maxOutputTokens,this.maxOutputTokens&&this.maxOutputTokens<0)throw new Error("`maxOutputTokens` must be a positive integer");if(this.temperature=e?.temperature??this.temperature,this.temperature&&(this.temperature<0||this.temperature>1))throw new Error("`temperature` must be in the range of [0.0,1.0]");if(this.topP=e?.topP??this.topP,this.topP&&this.topP<0)throw new Error("`topP` must be a positive integer");if(this.topP&&this.topP>1)throw new Error("`topP` must be below 1.");if(this.topK=e?.topK??this.topK,this.topK&&this.topK<0)throw new Error("`topK` must be a positive integer");if(this.stopSequences=e?.stopSequences??this.stopSequences,this.apiKey=e?.apiKey??Lo("GOOGLE_API_KEY"),!this.apiKey)throw new Error("Please set an API key for Google GenerativeAI in the environment variable GOOGLE_API_KEY or in the `apiKey` field of the ChatGoogleGenerativeAI constructor");if(this.safetySettings=e?.safetySettings??this.safetySettings,this.safetySettings&&this.safetySettings.length>0&&new Set(this.safetySettings.map(r=>r.category)).size!==this.safetySettings.length)throw new Error("The categories in `safetySettings` array must be unique");this.streaming=e?.streaming??this.streaming,this.client=new Q8(this.apiKey).getGenerativeModel({model:this.model,safetySettings:this.safetySettings,generationConfig:{candidateCount:1,stopSequences:this.stopSequences,maxOutputTokens:this.maxOutputTokens,temperature:this.temperature,topP:this.topP,topK:this.topK,...e?.json?{responseMimeType:"application/json"}:{}}},{apiVersion:e?.apiVersion,baseUrl:e?.baseUrl}),this.streamUsage=e?.streamUsage??this.streamUsage}useCachedContent(e,n,r){this.apiKey&&(this.client=new Q8(this.apiKey).getGenerativeModelFromCachedContent(e,n,r))}get useSystemInstruction(){return typeof this.convertSystemMessageToHumanContent=="boolean"?!this.convertSystemMessageToHumanContent:this.computeUseSystemInstruction}get computeUseSystemInstruction(){return this.modelName==="gemini-1.0-pro-001"||this.modelName.startsWith("gemini-pro-vision")||this.modelName.startsWith("gemini-1.0-pro-vision")?!1:this.modelName!=="gemini-pro"}getLsParams(e){return{ls_provider:"google_genai",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:this.client.generationConfig.temperature,ls_max_tokens:this.client.generationConfig.maxOutputTokens,ls_stop:e.stop}}_combineLLMOutput(){return[]}_llmType(){return"googlegenerativeai"}bindTools(e,n){return this.bind({tools:zae(e)?.tools,...n})}invocationParams(e){const n=e?.tools?.length?zae(e.tools,{toolChoice:e.tool_choice,allowedFunctionNames:e.allowedFunctionNames}):void 0;return{...n?.tools?{tools:n.tools}:{},...n?.toolConfig?{toolConfig:n.toolConfig}:{}}}async _generate(e,n,r){const i=Uae(e,this._isMultimodalModel,this.useSystemInstruction);let a=i;if(i[0].role==="system"){const[d]=i;this.client.systemInstruction=d,a=i.slice(1)}const s=this.invocationParams(n);if(this.streaming){const d={},h=this._streamResponseChunks(e,n,r),p={};for await(const v of h){const w=v.generationInfo?.completion??0;p[w]===void 0?p[w]=v:p[w]=p[w].concat(v)}return{generations:Object.entries(p).sort(([v],[w])=>parseInt(v,10)-parseInt(w,10)).map(([v,w])=>w),llmOutput:{estimatedTokenUsage:d}}}const o=await this.completionWithRetry({...s,contents:a});let l;if("usageMetadata"in o.response){const d=o.response.usageMetadata;l={input_tokens:d.promptTokenCount??0,output_tokens:d.candidatesTokenCount??0,total_tokens:d.totalTokenCount??0}}const u=Zat(o.response,{usageMetadata:l});return await r?.handleLLMNewToken(u.generations[0].text??""),u}async*_streamResponseChunks(e,n,r){const i=Uae(e,this._isMultimodalModel,this.useSystemInstruction);let a=i;if(i[0].role==="system"){const[h]=i;this.client.systemInstruction=h,a=i.slice(1)}const o={...this.invocationParams(n),contents:a},l=await this.caller.callWithOptions({signal:n?.signal},async()=>{const{stream:h}=await this.client.generateContentStream(o);return h});let u,d=0;for await(const h of l){if("usageMetadata"in h&&this.streamUsage!==!1&&n.streamUsage!==!1){const m=h.usageMetadata;if(!u)u={input_tokens:m.promptTokenCount,output_tokens:m.candidatesTokenCount,total_tokens:m.totalTokenCount};else{const v=m.candidatesTokenCount-u.output_tokens;u={input_tokens:0,output_tokens:v,total_tokens:v}}}const p=Qat(h,{usageMetadata:u,index:d});d+=1,p&&(yield p,await r?.handleLLMNewToken(p.text??""))}}async completionWithRetry(e,n){return this.caller.callWithOptions({signal:n?.signal},async()=>{try{return await this.client.generateContent(e)}catch(r){throw r.message?.includes("400 Bad Request")&&(r.status=400),r}})}withStructuredOutput(e,n){const r=e,i=n?.name,a=n?.method,s=n?.includeRaw;if(a==="jsonMode")throw new Error('ChatGoogleGenerativeAI only supports "functionCalling" as a method.');let o=i??"extract",l,u;if(ZS(r)){const v=B_e(r);u=[{functionDeclarations:[{name:o,description:v.description??"A function available to call.",parameters:v}]}],l=new jae({returnSingle:!0,keyName:o,zodSchema:r})}else{let v;typeof r.name=="string"&&typeof r.parameters=="object"&&r.parameters!=null?(v=r,o=r.name):v={name:o,description:r.description??"",parameters:r},u=[{functionDeclarations:[v]}],l=new jae({returnSingle:!0,keyName:o})}const d=this.bind({tools:u,tool_choice:o});if(!s)return d.pipe(l).withConfig({runName:"ChatGoogleGenerativeAIStructuredOutput"});const h=qu.assign({parsed:(v,w)=>l.invoke(v.raw,w)}),p=qu.assign({parsed:()=>null}),m=h.withFallbacks({fallbacks:[p]});return gl.from([{raw:d},m]).withConfig({runName:"StructuredOutputRunnable"})}}class ist extends y${constructor(e){if(super(e??{}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"embedding-001"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"embedding-001"}),Object.defineProperty(this,"taskType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stripNewLines",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"maxBatchSize",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.modelName=e?.model?.replace(/^models\//,"")??e?.modelName?.replace(/^models\//,"")??this.modelName,this.model=this.modelName,this.taskType=e?.taskType??this.taskType,this.title=e?.title??this.title,this.title&&this.taskType!=="RETRIEVAL_DOCUMENT")throw new Error("title can only be sepcified with TaskType.RETRIEVAL_DOCUMENT");if(this.apiKey=e?.apiKey??Lo("GOOGLE_API_KEY"),!this.apiKey)throw new Error("Please set an API key for Google GenerativeAI in the environmentb variable GOOGLE_API_KEY or in the `apiKey` field of the GoogleGenerativeAIEmbeddings constructor");this.client=new Q8(this.apiKey).getGenerativeModel({model:this.model})}_convertToContent(e){return{content:{role:"user",parts:[{text:this.stripNewLines?e.replace(/\n/g," "):e}]},taskType:this.taskType,title:this.title}}async _embedQueryContent(e){const n=this._convertToContent(e);return(await this.client.embedContent(n)).embedding.values??[]}async _embedDocumentsContent(e){const n=c_e(e,this.maxBatchSize),r=n.map(s=>({requests:s.map(o=>this._convertToContent(o))}));return(await Promise.allSettled(r.map(s=>this.client.batchEmbedContents(s)))).flatMap((s,o)=>s.status==="fulfilled"?s.value.embeddings.map(l=>l.values||[]):Array(n[o].length).fill([]))}embedQuery(e){return this.caller.call(this._embedQueryContent.bind(this),e)}embedDocuments(e){return this.caller.call(this._embedDocumentsContent.bind(this),e)}}class X$ extends Aa{get lc_attributes(){return{partialVariables:void 0}}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts",this._getPromptType()]}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"partialVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{inputVariables:n}=e;if(n.includes("stop"))throw new Error("Cannot have an input variable named 'stop', as it is used internally, please rename.");Object.assign(this,e)}async mergePartialAndUserVariables(e){const n=this.partialVariables??{},r={};for(const[a,s]of Object.entries(n))typeof s=="string"?r[a]=s:r[a]=await s();return{...r,...e}}async invoke(e,n){const r={...this.metadata,...n?.metadata},i=[...this.tags??[],...n?.tags??[]];return this._callWithConfig(a=>this.formatPromptValue(a),e,{...n,tags:i,metadata:r,runType:"prompt"})}serialize(){throw new Error("Use .toJSON() instead")}static async deserialize(e){switch(e._type){case"prompt":{const{PromptTemplate:n}=await Ps(async()=>{const{PromptTemplate:r}=await Promise.resolve().then(()=>Hae);return{PromptTemplate:r}},[]);return n.deserialize(e)}case void 0:{const{PromptTemplate:n}=await Ps(async()=>{const{PromptTemplate:r}=await Promise.resolve().then(()=>Hae);return{PromptTemplate:r}},void 0);return n.deserialize({...e,_type:"prompt"})}case"few_shot":{const{FewShotPromptTemplate:n}=await Ps(async()=>{const{FewShotPromptTemplate:r}=await import("./few_shot-eDstOlOt.js");return{FewShotPromptTemplate:r}},[]);return n.deserialize(e)}default:throw new Error(`Invalid prompt type in config: ${e._type}`)}}}class J8 extends X${async formatPromptValue(e){const n=await this.format(e);return new Nve(n)}}/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var ast=Object.prototype.toString,Pv=Array.isArray||function(e){return ast.call(e)==="[object Array]"};function Z$(t){return typeof t=="function"}function sst(t){return Pv(t)?"array":typeof t}function y6(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function $ae(t,e){return t!=null&&typeof t=="object"&&e in t}function ost(t,e){return t!=null&&typeof t!="object"&&t.hasOwnProperty&&t.hasOwnProperty(e)}var lst=RegExp.prototype.test;function ust(t,e){return lst.call(t,e)}var cst=/\S/;function dst(t){return!ust(cst,t)}var hst={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function fst(t){return String(t).replace(/[&<>"'`=\/]/g,function(n){return hst[n]})}var pst=/\s*/,mst=/\s+/,qae=/\s*=/,gst=/\s*\}/,yst=/#|\^|\/|>|\{|&|=|!/;function bst(t,e){if(!t)return[];var n=!1,r=[],i=[],a=[],s=!1,o=!1,l="",u=0;function d(){if(s&&!o)for(;a.length;)delete i[a.pop()];else a=[];s=!1,o=!1}var h,p,m;function v(se){if(typeof se=="string"&&(se=se.split(mst,2)),!Pv(se)||se.length!==2)throw new Error("Invalid tags: "+se);h=new RegExp(y6(se[0])+"\\s*"),p=new RegExp("\\s*"+y6(se[1])),m=new RegExp("\\s*"+y6("}"+se[1]))}v(e||vl.tags);for(var w=new sx(t),k,T,C,N,F,D;!w.eos();){if(k=w.pos,C=w.scanUntil(h),C)for(var U=0,G=C.length;U<G;++U)N=C.charAt(U),dst(N)?(a.push(i.length),l+=N):(o=!0,n=!0,l+=" "),i.push(["text",N,k,k+1]),k+=1,N===`
`&&(d(),l="",u=0,n=!1);if(!w.scan(h))break;if(s=!0,T=w.scan(yst)||"name",w.scan(pst),T==="="?(C=w.scanUntil(qae),w.scan(qae),w.scanUntil(p)):T==="{"?(C=w.scanUntil(m),w.scan(gst),w.scanUntil(p),T="&"):C=w.scanUntil(p),!w.scan(p))throw new Error("Unclosed tag at "+w.pos);if(T==">"?F=[T,C,k,w.pos,l,u,n]:F=[T,C,k,w.pos],u++,i.push(F),T==="#"||T==="^")r.push(F);else if(T==="/"){if(D=r.pop(),!D)throw new Error('Unopened section "'+C+'" at '+k);if(D[1]!==C)throw new Error('Unclosed section "'+D[1]+'" at '+k)}else T==="name"||T==="{"||T==="&"?o=!0:T==="="&&v(C)}if(d(),D=r.pop(),D)throw new Error('Unclosed section "'+D[1]+'" at '+w.pos);return wst(vst(i))}function vst(t){for(var e=[],n,r,i=0,a=t.length;i<a;++i)n=t[i],n&&(n[0]==="text"&&r&&r[0]==="text"?(r[1]+=n[1],r[3]=n[3]):(e.push(n),r=n));return e}function wst(t){for(var e=[],n=e,r=[],i,a,s=0,o=t.length;s<o;++s)switch(i=t[s],i[0]){case"#":case"^":n.push(i),r.push(i),n=i[4]=[];break;case"/":a=r.pop(),a[5]=i[2],n=r.length>0?r[r.length-1][4]:e;break;default:n.push(i)}return e}function sx(t){this.string=t,this.tail=t,this.pos=0}sx.prototype.eos=function(){return this.tail===""};sx.prototype.scan=function(e){var n=this.tail.match(e);if(!n||n.index!==0)return"";var r=n[0];return this.tail=this.tail.substring(r.length),this.pos+=r.length,r};sx.prototype.scanUntil=function(e){var n=this.tail.search(e),r;switch(n){case-1:r=this.tail,this.tail="";break;case 0:r="";break;default:r=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=r.length,r};function Jb(t,e){this.view=t,this.cache={".":this.view},this.parent=e}Jb.prototype.push=function(e){return new Jb(e,this)};Jb.prototype.lookup=function(e){var n=this.cache,r;if(n.hasOwnProperty(e))r=n[e];else{for(var i=this,a,s,o,l=!1;i;){if(e.indexOf(".")>0)for(a=i.view,s=e.split("."),o=0;a!=null&&o<s.length;)o===s.length-1&&(l=$ae(a,s[o])||ost(a,s[o])),a=a[s[o++]];else a=i.view[e],l=$ae(i.view,e);if(l){r=a;break}i=i.parent}n[e]=r}return Z$(r)&&(r=r.call(this.view)),r};function Go(){this.templateCache={_cache:{},set:function(e,n){this._cache[e]=n},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}Go.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};Go.prototype.parse=function(e,n){var r=this.templateCache,i=e+":"+(n||vl.tags).join(":"),a=typeof r<"u",s=a?r.get(i):void 0;return s==null&&(s=bst(e,n),a&&r.set(i,s)),s};Go.prototype.render=function(e,n,r,i){var a=this.getConfigTags(i),s=this.parse(e,a),o=n instanceof Jb?n:new Jb(n,void 0);return this.renderTokens(s,o,r,e,i)};Go.prototype.renderTokens=function(e,n,r,i,a){for(var s="",o,l,u,d=0,h=e.length;d<h;++d)u=void 0,o=e[d],l=o[0],l==="#"?u=this.renderSection(o,n,r,i,a):l==="^"?u=this.renderInverted(o,n,r,i,a):l===">"?u=this.renderPartial(o,n,r,a):l==="&"?u=this.unescapedValue(o,n):l==="name"?u=this.escapedValue(o,n,a):l==="text"&&(u=this.rawValue(o)),u!==void 0&&(s+=u);return s};Go.prototype.renderSection=function(e,n,r,i,a){var s=this,o="",l=n.lookup(e[1]);function u(p){return s.render(p,n,r,a)}if(l){if(Pv(l))for(var d=0,h=l.length;d<h;++d)o+=this.renderTokens(e[4],n.push(l[d]),r,i,a);else if(typeof l=="object"||typeof l=="string"||typeof l=="number")o+=this.renderTokens(e[4],n.push(l),r,i,a);else if(Z$(l)){if(typeof i!="string")throw new Error("Cannot use higher-order sections without the original template");l=l.call(n.view,i.slice(e[3],e[5]),u),l!=null&&(o+=l)}else o+=this.renderTokens(e[4],n,r,i,a);return o}};Go.prototype.renderInverted=function(e,n,r,i,a){var s=n.lookup(e[1]);if(!s||Pv(s)&&s.length===0)return this.renderTokens(e[4],n,r,i,a)};Go.prototype.indentPartial=function(e,n,r){for(var i=n.replace(/[^ \t]/g,""),a=e.split(`
`),s=0;s<a.length;s++)a[s].length&&(s>0||!r)&&(a[s]=i+a[s]);return a.join(`
`)};Go.prototype.renderPartial=function(e,n,r,i){if(r){var a=this.getConfigTags(i),s=Z$(r)?r(e[1]):r[e[1]];if(s!=null){var o=e[6],l=e[5],u=e[4],d=s;l==0&&u&&(d=this.indentPartial(s,u,o));var h=this.parse(d,a);return this.renderTokens(h,n,r,d,i)}}};Go.prototype.unescapedValue=function(e,n){var r=n.lookup(e[1]);if(r!=null)return r};Go.prototype.escapedValue=function(e,n,r){var i=this.getConfigEscape(r)||vl.escape,a=n.lookup(e[1]);if(a!=null)return typeof a=="number"&&i===vl.escape?String(a):i(a)};Go.prototype.rawValue=function(e){return e[1]};Go.prototype.getConfigTags=function(e){return Pv(e)?e:e&&typeof e=="object"?e.tags:void 0};Go.prototype.getConfigEscape=function(e){if(e&&typeof e=="object"&&!Pv(e))return e.escape};var vl={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){Q1.templateCache=t},get templateCache(){return Q1.templateCache}},Q1=new Go;vl.clearCache=function(){return Q1.clearCache()};vl.parse=function(e,n){return Q1.parse(e,n)};vl.render=function(e,n,r,i){if(typeof e!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+sst(e)+'" was given as the first argument for mustache#render(template, view, partials)');return Q1.render(e,n,r,i)};vl.escape=fst;vl.Scanner=sx;vl.Context=Jb;vl.Writer=Go;function U_e(){vl.escape=t=>t}const gA=t=>{const e=t.split(""),n=[],r=(a,s)=>{for(let o=s;o<e.length;o+=1)if(a.includes(e[o]))return o;return-1};let i=0;for(;i<e.length;)if(e[i]==="{"&&i+1<e.length&&e[i+1]==="{")n.push({type:"literal",text:"{"}),i+=2;else if(e[i]==="}"&&i+1<e.length&&e[i+1]==="}")n.push({type:"literal",text:"}"}),i+=2;else if(e[i]==="{"){const a=r("}",i);if(a<0)throw new Error("Unclosed '{' in template.");n.push({type:"variable",name:e.slice(i+1,a).join("")}),i=a+1}else{if(e[i]==="}")throw new Error("Single '}' in template.");{const a=r("{}",i),s=(a<0?e.slice(i):e.slice(i,a)).join("");n.push({type:"literal",text:s}),i=a<0?e.length:a}}return n},_st=t=>t.map(e=>e[0]==="name"?{type:"variable",name:e[1].includes(".")?e[1].split(".")[0]:e[1]}:["#","&","^",">"].includes(e[0])?{type:"variable",name:e[1]}:{type:"literal",text:e[1]}),e7=t=>{U_e();const e=vl.parse(t);return _st(e)},Sst=(t,e)=>gA(t).reduce((n,r)=>{if(r.type==="variable"){if(r.name in e){const i=typeof e[r.name]=="string"?e[r.name]:JSON.stringify(e[r.name]);return n+i}throw new Error(`(f-string) Missing value for input ${r.name}`)}return n+r.text},""),xst=(t,e)=>(U_e(),vl.render(t,e)),t7={"f-string":Sst,mustache:xst},Est={"f-string":gA,mustache:e7},gb=(t,e,n)=>{try{return t7[e](t,n)}catch(r){throw tC(r,"INVALID_PROMPT_INPUT")}},kst=(t,e)=>Est[e](t),j_e=(t,e,n)=>{if(!(e in t7)){const r=Object.keys(t7);throw new Error(`Invalid template format. Got \`${e}\`;
                         should be one of ${r}`)}try{const r=n.reduce((i,a)=>(i[a]="foo",i),{});Array.isArray(t)?t.forEach(i=>{if(i.type==="text")gb(i.text,e,r);else if(i.type==="image_url")if(typeof i.image_url=="string")gb(i.image_url,e,r);else{const a=i.image_url.url;gb(a,e,r)}else throw new Error(`Invalid message template received. ${JSON.stringify(i,null,2)}`)}):gb(t,e,r)}catch(r){throw new Error(`Invalid prompt schema: ${r.message}`)}};class Dc extends J8{static lc_name(){return"PromptTemplate"}constructor(e){if(super(e),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"additionalContentFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e.templateFormat==="mustache"&&e.validateTemplate===void 0&&(this.validateTemplate=!1),Object.assign(this,e),this.validateTemplate){if(this.templateFormat==="mustache")throw new Error("Mustache templates cannot be validated.");let n=this.inputVariables;this.partialVariables&&(n=n.concat(Object.keys(this.partialVariables))),j_e(this.template,this.templateFormat,n)}}_getPromptType(){return"prompt"}async format(e){const n=await this.mergePartialAndUserVariables(e);return gb(this.template,this.templateFormat,n)}static fromExamples(e,n,r,i=`

`,a=""){const s=[a,...e,n].join(i);return new Dc({inputVariables:r,template:s})}static fromTemplate(e,n){const{templateFormat:r="f-string",...i}=n??{},a=new Set;return kst(e,r).forEach(s=>{s.type==="variable"&&a.add(s.name)}),new Dc({inputVariables:[...a],templateFormat:r,template:e,...i})}async partial(e){const n=this.inputVariables.filter(a=>!(a in e)),r={...this.partialVariables??{},...e},i={...this,inputVariables:n,partialVariables:r};return new Dc(i)}serialize(){if(this.outputParser!==void 0)throw new Error("Cannot serialize a prompt template with an output parser");return{_type:this._getPromptType(),input_variables:this.inputVariables,template:this.template,template_format:this.templateFormat}}static async deserialize(e){if(!e.template)throw new Error("Prompt template must have a template");return new Dc({inputVariables:e.input_variables,template:e.template,templateFormat:e.template_format})}}const Hae=Object.freeze(Object.defineProperty({__proto__:null,PromptTemplate:Dc},Symbol.toStringTag,{value:"Module"}));class J_ extends X${static lc_name(){return"ImagePromptTemplate"}constructor(e){if(super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts","image"]}),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"additionalContentFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.template=e.template,this.templateFormat=e.templateFormat??this.templateFormat,this.validateTemplate=e.validateTemplate??this.validateTemplate,this.additionalContentFields=e.additionalContentFields,this.validateTemplate){let n=this.inputVariables;this.partialVariables&&(n=n.concat(Object.keys(this.partialVariables))),j_e([{type:"image_url",image_url:this.template}],this.templateFormat,n)}}_getPromptType(){return"prompt"}async partial(e){const n=this.inputVariables.filter(a=>!(a in e)),r={...this.partialVariables??{},...e},i={...this,inputVariables:n,partialVariables:r};return new J_(i)}async format(e){const n={};for(const[s,o]of Object.entries(this.template))typeof o=="string"?n[s]=gb(o,this.templateFormat,e):n[s]=o;const r=e.url||n.url,i=e.detail||n.detail;if(!r)throw new Error("Must provide either an image URL.");if(typeof r!="string")throw new Error("url must be a string.");const a={url:r};return i&&(a.detail=i),a}async formatPromptValue(e){const n=await this.format(e);return new Ctt(n)}}class Q$ extends Aa{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts","chat"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}async invoke(e,n){return this._callWithConfig(r=>this.formatMessages(r),e,{...n,runType:"prompt"})}}class Vae extends Q${static lc_name(){return"MessagesPlaceholder"}constructor(e){typeof e=="string"&&(e={variableName:e}),super(e),Object.defineProperty(this,"variableName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"optional",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.variableName=e.variableName,this.optional=e.optional??!1}get inputVariables(){return[this.variableName]}async formatMessages(e){const n=e[this.variableName];if(this.optional&&!n)return[];if(!n){const i=new Error(`Field "${this.variableName}" in prompt uses a MessagesPlaceholder, which expects an array of BaseMessages as an input value. Received: undefined`);throw i.name="InputFormatError",i}let r;try{Array.isArray(n)?r=n.map(fm):r=[fm(n)]}catch(i){const a=typeof n=="string"?n:JSON.stringify(n,null,2),s=new Error([`Field "${this.variableName}" in prompt uses a MessagesPlaceholder, which expects an array of BaseMessages or coerceable values as input.`,`Received value: ${a}`,`Additional message: ${i.message}`].join(`

`));throw s.name="InputFormatError",s.lc_error_code=i.lc_error_code,s}return r}}class Tst extends Q${constructor(e){"prompt"in e||(e={prompt:e}),super(e),Object.defineProperty(this,"prompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.prompt=e.prompt}get inputVariables(){return this.prompt.inputVariables}async formatMessages(e){return[await this.format(e)]}}class Ast extends X${constructor(e){super(e)}async format(e){return(await this.formatPromptValue(e)).toString()}async formatPromptValue(e){const n=await this.formatMessages(e);return new Ove(n)}}class Cst extends Tst{static lc_name(){return"ChatMessagePromptTemplate"}constructor(e,n){"prompt"in e||(e={prompt:e,role:n}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}async format(e){return new Bf(await this.prompt.format(e),this.role)}static fromTemplate(e,n,r){return new this(Dc.fromTemplate(e,{templateFormat:r?.templateFormat}),n)}}class J$ extends Q${static _messageClass(){throw new Error("Can not invoke _messageClass from inside _StringImageMessagePromptTemplate")}constructor(e,n){if("prompt"in e||(e={prompt:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts","chat"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"additionalOptions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"prompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"messageClass",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"chatMessageClass",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.prompt=e.prompt,Array.isArray(this.prompt)){let r=[];this.prompt.forEach(i=>{"inputVariables"in i&&(r=r.concat(i.inputVariables))}),this.inputVariables=r}else this.inputVariables=this.prompt.inputVariables;this.additionalOptions=n??this.additionalOptions}createMessage(e){const n=this.constructor;if(n._messageClass()){const r=n._messageClass();return new r({content:e})}else if(n.chatMessageClass){const r=n.chatMessageClass();return new r({content:e,role:this.getRoleFromMessageClass(r.lc_name())})}else throw new Error("No message class defined")}getRoleFromMessageClass(e){switch(e){case"HumanMessage":return"human";case"AIMessage":return"ai";case"SystemMessage":return"system";case"ChatMessage":return"chat";default:throw new Error("Invalid message class name")}}static fromTemplate(e,n){if(typeof e=="string")return new this(Dc.fromTemplate(e,n));const r=[];for(const i of e)if(typeof i=="string"||typeof i=="object"&&"text"in i){let a="";typeof i=="string"?a=i:typeof i.text=="string"&&(a=i.text??"");const s={...n,...typeof i!="string"?{additionalContentFields:i}:{}};r.push(Dc.fromTemplate(a,s))}else if(typeof i=="object"&&"image_url"in i){let a=i.image_url??"",s,o=[];if(typeof a=="string"){let l;n?.templateFormat==="mustache"?l=e7(a):l=gA(a);const u=l.flatMap(d=>d.type==="variable"?[d.name]:[]);if((u?.length??0)>0){if(u.length>1)throw new Error(`Only one format variable allowed per image template.
Got: ${u}
From: ${a}`);o=[u[0]]}else o=[];a={url:a},s=new J_({template:a,inputVariables:o,templateFormat:n?.templateFormat,additionalContentFields:i})}else if(typeof a=="object"){if("url"in a){let l;n?.templateFormat==="mustache"?l=e7(a.url):l=gA(a.url),o=l.flatMap(u=>u.type==="variable"?[u.name]:[])}else o=[];s=new J_({template:a,inputVariables:o,templateFormat:n?.templateFormat,additionalContentFields:i})}else throw new Error("Invalid image template");r.push(s)}return new this({prompt:r,additionalOptions:n})}async format(e){if(this.prompt instanceof J8){const n=await this.prompt.format(e);return this.createMessage(n)}else{const n=[];for(const r of this.prompt){let i={};if(!("inputVariables"in r))throw new Error(`Prompt ${r} does not have inputVariables defined.`);for(const a of r.inputVariables)i||(i={[a]:e[a]}),i={...i,[a]:e[a]};if(r instanceof J8){const a=await r.format(i);let s;"additionalContentFields"in r&&(s=r.additionalContentFields),n.push({...s,type:"text",text:a})}else if(r instanceof J_){const a=await r.format(i);let s;"additionalContentFields"in r&&(s=r.additionalContentFields),n.push({...s,type:"image_url",image_url:a})}}return this.createMessage(n)}}async formatMessages(e){return[await this.format(e)]}}class z_e extends J${static _messageClass(){return Po}static lc_name(){return"HumanMessagePromptTemplate"}}class Rst extends J${static _messageClass(){return yl}static lc_name(){return"AIMessagePromptTemplate"}}class Ist extends J${static _messageClass(){return uT}static lc_name(){return"SystemMessagePromptTemplate"}}function Nst(t){return typeof t.formatMessages=="function"}function Ost(t,e){if(Nst(t)||Oc(t))return t;if(Array.isArray(t)&&t[0]==="placeholder"){const i=t[1];if(e?.templateFormat==="mustache"&&typeof i=="string"&&i.slice(0,2)==="{{"&&i.slice(-2)==="}}"){const a=i.slice(2,-2);return new Vae({variableName:a,optional:!0})}else if(typeof i=="string"&&i[0]==="{"&&i[i.length-1]==="}"){const a=i.slice(1,-1);return new Vae({variableName:a,optional:!0})}throw new Error(`Invalid placeholder template for format ${e?.templateFormat??'"f-string"'}: "${t[1]}". Expected a variable name surrounded by ${e?.templateFormat==="mustache"?"double":"single"} curly braces.`)}const n=fm(t);let r;if(typeof n.content=="string"?r=n.content:r=n.content.map(i=>"text"in i?{...i,text:i.text}:"image_url"in i?{...i,image_url:i.image_url}:i),n._getType()==="human")return z_e.fromTemplate(r,e);if(n._getType()==="ai")return Rst.fromTemplate(r,e);if(n._getType()==="system")return Ist.fromTemplate(r,e);if(Bf.isInstance(n))return Cst.fromTemplate(n.content,n.role,e);throw new Error(`Could not coerce message prompt template from input. Received message type: "${n._getType()}".`)}function Mst(t){return t.constructor.lc_name()==="MessagesPlaceholder"}class e1 extends Ast{static lc_name(){return"ChatPromptTemplate"}get lc_aliases(){return{promptMessages:"messages"}}constructor(e){if(super(e),Object.defineProperty(this,"promptMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),e.templateFormat==="mustache"&&e.validateTemplate===void 0&&(this.validateTemplate=!1),Object.assign(this,e),this.validateTemplate){const n=new Set;for(const o of this.promptMessages)if(!(o instanceof jd))for(const l of o.inputVariables)n.add(l);const r=this.inputVariables,i=new Set(this.partialVariables?r.concat(Object.keys(this.partialVariables)):r),a=new Set([...i].filter(o=>!n.has(o)));if(a.size>0)throw new Error(`Input variables \`${[...a]}\` are not used in any of the prompt messages.`);const s=new Set([...n].filter(o=>!i.has(o)));if(s.size>0)throw new Error(`Input variables \`${[...s]}\` are used in prompt messages but not in the prompt template.`)}}_getPromptType(){return"chat"}async _parseImagePrompts(e,n){if(typeof e.content=="string")return e;const r=await Promise.all(e.content.map(async i=>{if(i.type!=="image_url")return i;let a="";typeof i.image_url=="string"?a=i.image_url:a=i.image_url.url;const o=await Dc.fromTemplate(a,{templateFormat:this.templateFormat}).format(n);return typeof i.image_url!="string"&&"url"in i.image_url?i.image_url.url=o:i.image_url=o,i}));return e.content=r,e}async formatMessages(e){const n=await this.mergePartialAndUserVariables(e);let r=[];for(const i of this.promptMessages)if(i instanceof jd)r.push(await this._parseImagePrompts(i,n));else{const a=i.inputVariables.reduce((o,l)=>{if(!(l in n)&&!(Mst(i)&&i.optional))throw tC(new Error(`Missing value for input variable \`${l.toString()}\``),"INVALID_PROMPT_INPUT");return o[l]=n[l],o},{}),s=await i.formatMessages(a);r=r.concat(s)}return r}async partial(e){const n=this.inputVariables.filter(a=>!(a in e)),r={...this.partialVariables??{},...e},i={...this,inputVariables:n,partialVariables:r};return new e1(i)}static fromTemplate(e,n){const r=Dc.fromTemplate(e,n),i=new z_e({prompt:r});return this.fromMessages([i])}static fromMessages(e,n){const r=e.reduce((s,o)=>s.concat(o instanceof e1?o.promptMessages:[Ost(o,n)]),[]),i=e.reduce((s,o)=>o instanceof e1?Object.assign(s,o.partialVariables):s,Object.create(null)),a=new Set;for(const s of r)if(!(s instanceof jd))for(const o of s.inputVariables)o in i||a.add(o);return new this({...n,inputVariables:[...a],promptMessages:r,partialVariables:i,templateFormat:n?.templateFormat})}static fromPromptMessages(e){return this.fromMessages(e)}}var Nu="INUMBER",Lv="IOP1",Dv="IOP2",Fv="IOP3",Df="IVAR",C0="IVARNAME",ev="IFUNCALL",s2="IFUNDEF",wl="IEXPR",eq="IEXPREVAL",D0="IMEMBER",o2="IENDSTATEMENT",tv="IARRAY";function Yr(t,e){this.type=t,this.value=e??0}Yr.prototype.toString=function(){switch(this.type){case Nu:case Lv:case Dv:case Fv:case Df:case C0:case o2:return this.value;case ev:return"CALL "+this.value;case s2:return"DEF "+this.value;case tv:return"ARRAY "+this.value;case D0:return"."+this.value;default:return"Invalid Instruction"}};function l2(t){return new Yr(Lv,t)}function $f(t){return new Yr(Dv,t)}function $_e(t){return new Yr(Fv,t)}function n7(t,e,n,r,i){for(var a=[],s=[],o,l,u,d,h=0;h<t.length;h++){var p=t[h],m=p.type;if(m===Nu||m===C0)Array.isArray(p.value)?a.push.apply(a,n7(p.value.map(function(v){return new Yr(Nu,v)}).concat(new Yr(tv,p.value.length)),e,n,r,i)):a.push(p);else if(m===Df&&i.hasOwnProperty(p.value))p=new Yr(Nu,i[p.value]),a.push(p);else if(m===Dv&&a.length>1)l=a.pop(),o=a.pop(),d=n[p.value],p=new Yr(Nu,d(o.value,l.value)),a.push(p);else if(m===Fv&&a.length>2)u=a.pop(),l=a.pop(),o=a.pop(),p.value==="?"?a.push(o.value?l.value:u.value):(d=r[p.value],p=new Yr(Nu,d(o.value,l.value,u.value)),a.push(p));else if(m===Lv&&a.length>0)o=a.pop(),d=e[p.value],p=new Yr(Nu,d(o.value)),a.push(p);else if(m===wl){for(;a.length>0;)s.push(a.shift());s.push(new Yr(wl,n7(p.value,e,n,r,i)))}else if(m===D0&&a.length>0)o=a.pop(),a.push(new Yr(Nu,o.value[p.value]));else{for(;a.length>0;)s.push(a.shift());s.push(p)}}for(;a.length>0;)s.push(a.shift());return s}function q_e(t,e,n){for(var r=[],i=0;i<t.length;i++){var a=t[i],s=a.type;if(s===Df&&a.value===e)for(var o=0;o<n.tokens.length;o++){var l=n.tokens[o],u;l.type===Lv?u=l2(l.value):l.type===Dv?u=$f(l.value):l.type===Fv?u=$_e(l.value):u=new Yr(l.type,l.value),r.push(u)}else s===wl?r.push(new Yr(wl,q_e(a.value,e,n))):r.push(a)}return r}function Jg(t,e,n){var r=[],i,a,s,o,l,u;if(tq(t))return Zh(t,n);for(var d=t.length,h=0;h<d;h++){var p=t[h],m=p.type;if(m===Nu||m===C0)r.push(p.value);else if(m===Dv)a=r.pop(),i=r.pop(),p.value==="and"?r.push(i?!!Jg(a,e,n):!1):p.value==="or"?r.push(i?!0:!!Jg(a,e,n)):p.value==="="?(o=e.binaryOps[p.value],r.push(o(i,Jg(a,e,n),n))):(o=e.binaryOps[p.value],r.push(o(Zh(i,n),Zh(a,n))));else if(m===Fv)s=r.pop(),a=r.pop(),i=r.pop(),p.value==="?"?r.push(Jg(i?a:s,e,n)):(o=e.ternaryOps[p.value],r.push(o(Zh(i,n),Zh(a,n),Zh(s,n))));else if(m===Df)if(p.value in e.functions)r.push(e.functions[p.value]);else if(p.value in e.unaryOps&&e.parser.isOperatorEnabled(p.value))r.push(e.unaryOps[p.value]);else{var v=n[p.value];if(v!==void 0)r.push(v);else throw new Error("undefined variable: "+p.value)}else if(m===Lv)i=r.pop(),o=e.unaryOps[p.value],r.push(o(Zh(i,n)));else if(m===ev){for(u=p.value,l=[];u-- >0;)l.unshift(Zh(r.pop(),n));if(o=r.pop(),o.apply&&o.call)r.push(o.apply(void 0,l));else throw new Error(o+" is not a function")}else if(m===s2)r.push(function(){for(var w=r.pop(),k=[],T=p.value;T-- >0;)k.unshift(r.pop());var C=r.pop(),N=function(){for(var F=Object.assign({},n),D=0,U=k.length;D<U;D++)F[k[D]]=arguments[D];return Jg(w,e,F)};return Object.defineProperty(N,"name",{value:C,writable:!1}),n[C]=N,N}());else if(m===wl)r.push(Pst(p,e));else if(m===eq)r.push(p);else if(m===D0)i=r.pop(),r.push(i[p.value]);else if(m===o2)r.pop();else if(m===tv){for(u=p.value,l=[];u-- >0;)l.unshift(r.pop());r.push(l)}else throw new Error("invalid Expression")}if(r.length>1)throw new Error("invalid Expression (parity)");return r[0]===0?0:Zh(r[0],n)}function Pst(t,e,n){return tq(t)?t:{type:eq,value:function(r){return Jg(t.value,e,r)}}}function tq(t){return t&&t.type===eq}function Zh(t,e){return tq(t)?t.value(e):t}function nq(t,e){for(var n=[],r,i,a,s,o,l,u=0;u<t.length;u++){var d=t[u],h=d.type;if(h===Nu)typeof d.value=="number"&&d.value<0?n.push("("+d.value+")"):Array.isArray(d.value)?n.push("["+d.value.map(Gae).join(", ")+"]"):n.push(Gae(d.value));else if(h===Dv)i=n.pop(),r=n.pop(),s=d.value,e?s==="^"?n.push("Math.pow("+r+", "+i+")"):s==="and"?n.push("(!!"+r+" && !!"+i+")"):s==="or"?n.push("(!!"+r+" || !!"+i+")"):s==="||"?n.push("(function(a,b){ return Array.isArray(a) && Array.isArray(b) ? a.concat(b) : String(a) + String(b); }(("+r+"),("+i+")))"):s==="=="?n.push("("+r+" === "+i+")"):s==="!="?n.push("("+r+" !== "+i+")"):s==="["?n.push(r+"[("+i+") | 0]"):n.push("("+r+" "+s+" "+i+")"):s==="["?n.push(r+"["+i+"]"):n.push("("+r+" "+s+" "+i+")");else if(h===Fv)if(a=n.pop(),i=n.pop(),r=n.pop(),s=d.value,s==="?")n.push("("+r+" ? "+i+" : "+a+")");else throw new Error("invalid Expression");else if(h===Df||h===C0)n.push(d.value);else if(h===Lv)r=n.pop(),s=d.value,s==="-"||s==="+"?n.push("("+s+r+")"):e?s==="not"?n.push("(!"+r+")"):s==="!"?n.push("fac("+r+")"):n.push(s+"("+r+")"):s==="!"?n.push("("+r+"!)"):n.push("("+s+" "+r+")");else if(h===ev){for(l=d.value,o=[];l-- >0;)o.unshift(n.pop());s=n.pop(),n.push(s+"("+o.join(", ")+")")}else if(h===s2){for(i=n.pop(),l=d.value,o=[];l-- >0;)o.unshift(n.pop());r=n.pop(),e?n.push("("+r+" = function("+o.join(", ")+") { return "+i+" })"):n.push("("+r+"("+o.join(", ")+") = "+i+")")}else if(h===D0)r=n.pop(),n.push(r+"."+d.value);else if(h===tv){for(l=d.value,o=[];l-- >0;)o.unshift(n.pop());n.push("["+o.join(", ")+"]")}else if(h===wl)n.push("("+nq(d.value,e)+")");else if(h!==o2)throw new Error("invalid Expression")}return n.length>1&&(e?n=[n.join(",")]:n=[n.join(";")]),String(n[0])}function Gae(t){return typeof t=="string"?JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029"):t}function yb(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}function rq(t,e,n){n=n||{};for(var r=!!n.withMembers,i=null,a=0;a<t.length;a++){var s=t[a];s.type===Df||s.type===C0?!r&&!yb(e,s.value)?e.push(s.value):(i!==null&&(yb(e,i)||e.push(i)),i=s.value):s.type===D0&&r&&i!==null?i+="."+s.value:s.type===wl?rq(s.value,e,n):i!==null&&(yb(e,i)||e.push(i),i=null)}i!==null&&!yb(e,i)&&e.push(i)}function qc(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}qc.prototype.simplify=function(t){return t=t||{},new qc(n7(this.tokens,this.unaryOps,this.binaryOps,this.ternaryOps,t),this.parser)};qc.prototype.substitute=function(t,e){return e instanceof qc||(e=this.parser.parse(String(e))),new qc(q_e(this.tokens,t,e),this.parser)};qc.prototype.evaluate=function(t){return t=t||{},Jg(this.tokens,this,t)};qc.prototype.toString=function(){return nq(this.tokens,!1)};qc.prototype.symbols=function(t){t=t||{};var e=[];return rq(this.tokens,e,t),e};qc.prototype.variables=function(t){t=t||{};var e=[];rq(this.tokens,e,t);var n=this.functions;return e.filter(function(r){return!(r in n)})};qc.prototype.toJSFunction=function(t,e){var n=this,r=new Function(t,"with(this.functions) with (this.ternaryOps) with (this.binaryOps) with (this.unaryOps) { return "+nq(this.simplify(e).tokens,!0)+"; }");return function(){return r.apply(n,arguments)}};var J1="TEOF",Di="TOP",u2="TNUMBER",H_e="TSTRING",Ff="TPAREN",nv="TBRACKET",c2="TCOMMA",iq="TNAME",aq="TSEMICOLON";function V_e(t,e,n){this.type=t,this.value=e,this.index=n}V_e.prototype.toString=function(){return this.type+": "+this.value};function wa(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}wa.prototype.newToken=function(t,e,n){return new V_e(t,e,n??this.pos)};wa.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current};wa.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent};wa.prototype.next=function(){if(this.pos>=this.expression.length)return this.newToken(J1,"EOF");if(this.isWhitespace()||this.isComment())return this.next();if(this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName())return this.current;this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')};wa.prototype.isString=function(){var t=!1,e=this.pos,n=this.expression.charAt(e);if(n==="'"||n==='"')for(var r=this.expression.indexOf(n,e+1);r>=0&&this.pos<this.expression.length;){if(this.pos=r+1,this.expression.charAt(r-1)!=="\\"){var i=this.expression.substring(e+1,r);this.current=this.newToken(H_e,this.unescape(i),e),t=!0;break}r=this.expression.indexOf(n,r+1)}return t};wa.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return t==="("||t===")"?(this.current=this.newToken(Ff,t),this.pos++,!0):!1};wa.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return(t==="["||t==="]")&&this.isOperatorEnabled("[")?(this.current=this.newToken(nv,t),this.pos++,!0):!1};wa.prototype.isComma=function(){var t=this.expression.charAt(this.pos);return t===","?(this.current=this.newToken(c2,","),this.pos++,!0):!1};wa.prototype.isSemicolon=function(){var t=this.expression.charAt(this.pos);return t===";"?(this.current=this.newToken(aq,";"),this.pos++,!0):!1};wa.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||n!=="_"&&n!=="."&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(r in this.consts)return this.current=this.newToken(u2,this.consts[r]),this.pos+=r.length,!0}return!1};wa.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||n!=="_"&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(this.isOperatorEnabled(r)&&(r in this.binaryOps||r in this.unaryOps||r in this.ternaryOps))return this.current=this.newToken(Di,r),this.pos+=r.length,!0}return!1};wa.prototype.isName=function(){for(var t=this.pos,e=t,n=!1;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()){if(e===this.pos&&(r==="$"||r==="_")){r==="_"&&(n=!0);continue}else if(e===this.pos||!n||r!=="_"&&(r<"0"||r>"9"))break}else n=!0}if(n){var i=this.expression.substring(t,e);return this.current=this.newToken(iq,i),this.pos+=i.length,!0}return!1};wa.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);(e===" "||e==="	"||e===`
`||e==="\r")&&(t=!0,this.pos++,!(this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var Lst=/^[0-9a-f]{4}$/i;wa.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var n=t.substring(0,e);e>=0;){var r=t.charAt(++e);switch(r){case"'":n+="'";break;case'"':n+='"';break;case"\\":n+="\\";break;case"/":n+="/";break;case"b":n+="\b";break;case"f":n+="\f";break;case"n":n+=`
`;break;case"r":n+="\r";break;case"t":n+="	";break;case"u":var i=t.substring(e+1,e+5);Lst.test(i)||this.parseError("Illegal escape sequence: \\u"+i),n+=String.fromCharCode(parseInt(i,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+r+'"')}++e;var a=t.indexOf("\\",e);n+=t.substring(e,a<0?t.length:a),e=a}return n};wa.prototype.isComment=function(){var t=this.expression.charAt(this.pos);return t==="/"&&this.expression.charAt(this.pos+1)==="*"?(this.pos=this.expression.indexOf("*/",this.pos)+2,this.pos===1&&(this.pos=this.expression.length),!0):!1};wa.prototype.isRadixInteger=function(){var t=this.pos;if(t>=this.expression.length-2||this.expression.charAt(t)!=="0")return!1;++t;var e,n;if(this.expression.charAt(t)==="x")e=16,n=/^[0-9a-f]$/i,++t;else if(this.expression.charAt(t)==="b")e=2,n=/^[01]$/i,++t;else return!1;for(var r=!1,i=t;t<this.expression.length;){var a=this.expression.charAt(t);if(n.test(a))t++,r=!0;else break}return r&&(this.current=this.newToken(u2,parseInt(this.expression.substring(i,t),e)),this.pos=t),r};wa.prototype.isNumber=function(){for(var t=!1,e=this.pos,n=e,r=e,i=!1,a=!1,s;e<this.expression.length&&(s=this.expression.charAt(e),s>="0"&&s<="9"||!i&&s===".");)s==="."?i=!0:a=!0,e++,t=a;if(t&&(r=e),s==="e"||s==="E"){e++;for(var o=!0,l=!1;e<this.expression.length;){if(s=this.expression.charAt(e),o&&(s==="+"||s==="-"))o=!1;else if(s>="0"&&s<="9")l=!0,o=!1;else break;e++}l||(e=r)}return t?(this.current=this.newToken(u2,parseFloat(this.expression.substring(n,e))),this.pos=e):this.pos=r,t};wa.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if(e==="+"||e==="-"||e==="*"||e==="/"||e==="%"||e==="^"||e==="?"||e===":"||e===".")this.current=this.newToken(Di,e);else if(e==="∙"||e==="•")this.current=this.newToken(Di,"*");else if(e===">")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(Di,">="),this.pos++):this.current=this.newToken(Di,">");else if(e==="<")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(Di,"<="),this.pos++):this.current=this.newToken(Di,"<");else if(e==="|")if(this.expression.charAt(this.pos+1)==="|")this.current=this.newToken(Di,"||"),this.pos++;else return!1;else if(e==="=")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(Di,"=="),this.pos++):this.current=this.newToken(Di,e);else if(e==="!")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(Di,"!="),this.pos++):this.current=this.newToken(Di,e);else return!1;return this.pos++,this.isOperatorEnabled(this.current.value)?!0:(this.pos=t,!1)};wa.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)};wa.prototype.getCoordinates=function(){var t=0,e,n=-1;do t++,e=this.pos-n,n=this.expression.indexOf(`
`,n+1);while(n>=0&&n<this.pos);return{line:t,column:e}};wa.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)};function Vi(t,e,n){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=n.allowMemberAccess!==!1}Vi.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()};Vi.prototype.tokenMatches=function(t,e){return typeof e>"u"?!0:Array.isArray(e)?yb(e,t.value):typeof e=="function"?e(t):t.value===e};Vi.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()};Vi.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken};Vi.prototype.accept=function(t,e){return this.nextToken.type===t&&this.tokenMatches(this.nextToken,e)?(this.next(),!0):!1};Vi.prototype.expect=function(t,e){if(!this.accept(t,e)){var n=this.tokens.getCoordinates();throw new Error("parse error ["+n.line+":"+n.column+"]: Expected "+(e||t))}};Vi.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;function n(i){return i.value in e}if(this.accept(iq)||this.accept(Di,n))t.push(new Yr(Df,this.current.value));else if(this.accept(u2))t.push(new Yr(Nu,this.current.value));else if(this.accept(H_e))t.push(new Yr(Nu,this.current.value));else if(this.accept(Ff,"("))this.parseExpression(t),this.expect(Ff,")");else if(this.accept(nv,"["))if(this.accept(nv,"]"))t.push(new Yr(tv,0));else{var r=this.parseArrayList(t);t.push(new Yr(tv,r))}else throw new Error("unexpected "+this.nextToken)};Vi.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),!this.parseUntilEndStatement(t,e)&&this.pushExpression(t,e))};Vi.prototype.pushExpression=function(t,e){for(var n=0,r=e.length;n<r;n++)t.push(e[n])};Vi.prototype.parseUntilEndStatement=function(t,e){return this.accept(aq)?(this.nextToken&&this.nextToken.type!==J1&&!(this.nextToken.type===Ff&&this.nextToken.value===")")&&e.push(new Yr(o2)),this.nextToken.type!==J1&&this.parseExpression(e),t.push(new Yr(wl,e)),!0):!1};Vi.prototype.parseArrayList=function(t){for(var e=0;!this.accept(nv,"]");)for(this.parseExpression(t),++e;this.accept(c2);)this.parseExpression(t),++e;return e};Vi.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(Di,"=");){var e=t.pop(),n=[],r=t.length-1;if(e.type===ev){if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var i=0,a=e.value+1;i<a;i++){var s=r-i;t[s].type===Df&&(t[s]=new Yr(C0,t[s].value))}this.parseVariableAssignmentExpression(n),t.push(new Yr(wl,n)),t.push(new Yr(s2,e.value));continue}if(e.type!==Df&&e.type!==D0)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(n),t.push(new Yr(C0,e.value)),t.push(new Yr(wl,n)),t.push($f("="))}};Vi.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(Di,"?");){var e=[],n=[];this.parseConditionalExpression(e),this.expect(Di,":"),this.parseConditionalExpression(n),t.push(new Yr(wl,e)),t.push(new Yr(wl,n)),t.push($_e("?"))}};Vi.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(Di,"or");){var e=[];this.parseAndExpression(e),t.push(new Yr(wl,e)),t.push($f("or"))}};Vi.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(Di,"and");){var e=[];this.parseComparison(e),t.push(new Yr(wl,e)),t.push($f("and"))}};var Dst=["==","!=","<","<=",">=",">","in"];Vi.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(Di,Dst);){var e=this.current;this.parseAddSub(t),t.push($f(e.value))}};var Fst=["+","-","||"];Vi.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(Di,Fst);){var e=this.current;this.parseTerm(t),t.push($f(e.value))}};var Bst=["*","/","%"];Vi.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(Di,Bst);){var e=this.current;this.parseFactor(t),t.push($f(e.value))}};Vi.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;function n(i){return i.value in e}if(this.save(),this.accept(Di,n)){if(this.current.value!=="-"&&this.current.value!=="+"){if(this.nextToken.type===Ff&&this.nextToken.value==="("){this.restore(),this.parseExponential(t);return}else if(this.nextToken.type===aq||this.nextToken.type===c2||this.nextToken.type===J1||this.nextToken.type===Ff&&this.nextToken.value===")"){this.restore(),this.parseAtom(t);return}}var r=this.current;this.parseFactor(t),t.push(l2(r.value))}else this.parseExponential(t)};Vi.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(Di,"^");)this.parseFactor(t),t.push($f("^"))};Vi.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(Di,"!");)t.push(l2("!"))};Vi.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;function n(a){return a.value in e}if(this.accept(Di,n)){var r=this.current;this.parseAtom(t),t.push(l2(r.value))}else for(this.parseMemberExpression(t);this.accept(Ff,"(");)if(this.accept(Ff,")"))t.push(new Yr(ev,0));else{var i=this.parseArgumentList(t);t.push(new Yr(ev,i))}};Vi.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(Ff,")");)for(this.parseExpression(t),++e;this.accept(c2);)this.parseExpression(t),++e;return e};Vi.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(Di,".")||this.accept(nv,"[");){var e=this.current;if(e.value==="."){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');this.expect(iq),t.push(new Yr(D0,this.current.value))}else if(e.value==="["){if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect(nv,"]"),t.push($f("["))}else throw new Error("unexpected symbol: "+e.value)}};function Ust(t,e){return Number(t)+Number(e)}function jst(t,e){return t-e}function zst(t,e){return t*e}function $st(t,e){return t/e}function qst(t,e){return t%e}function Hst(t,e){return Array.isArray(t)&&Array.isArray(e)?t.concat(e):""+t+e}function Vst(t,e){return t===e}function Gst(t,e){return t!==e}function Wst(t,e){return t>e}function Kst(t,e){return t<e}function Yst(t,e){return t>=e}function Xst(t,e){return t<=e}function Zst(t,e){return!!(t&&e)}function Qst(t,e){return!!(t||e)}function Jst(t,e){return yb(e,t)}function eot(t){return(Math.exp(t)-Math.exp(-t))/2}function tot(t){return(Math.exp(t)+Math.exp(-t))/2}function not(t){return t===1/0?1:t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}function rot(t){return t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))}function iot(t){return Math.log(t+Math.sqrt(t*t-1))}function aot(t){return Math.log((1+t)/(1-t))/2}function Wae(t){return Math.log(t)*Math.LOG10E}function sot(t){return-t}function oot(t){return!t}function lot(t){return t<0?Math.ceil(t):Math.floor(t)}function uot(t){return Math.random()*(t||1)}function Kae(t){return sq(t+1)}function cot(t){return isFinite(t)&&t===Math.round(t)}var dot=4.7421875,b6=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function sq(t){var e,n;if(cot(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var r=t-2,i=t-1;r>1;)i*=r,r--;return i===0&&(i=1),i}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*sq(1-t));if(t>=171.35)return 1/0;if(t>85){var a=t*t,s=a*t,o=s*t,l=o*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*a)-139/(51840*s)-571/(2488320*o)+163879/(209018880*l)+5246819/(75246796800*l*t))}--t,n=b6[0];for(var u=1;u<b6.length;++u)n+=b6[u]/(t+u);return e=t+dot+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*n}function hot(t){return Array.isArray(t)?t.length:String(t).length}function Yae(){for(var t=0,e=0,n=0;n<arguments.length;n++){var r=Math.abs(arguments[n]),i;e<r?(i=e/r,t=t*i*i+1,e=r):r>0?(i=r/e,t+=i*i):t+=r}return e===1/0?1/0:e*Math.sqrt(t)}function Xae(t,e,n){return t?e:n}function fot(t,e){return typeof e>"u"||+e==0?Math.round(t):(t=+t,e=-+e,isNaN(t)||!(typeof e=="number"&&e%1===0)?NaN:(t=t.toString().split("e"),t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e))),t=t.toString().split("e"),+(t[0]+"e"+(t[1]?+t[1]+e:e))))}function pot(t,e,n){return n&&(n[t]=e),e}function mot(t,e){return t[e|0]}function got(t){return arguments.length===1&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)}function yot(t){return arguments.length===1&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)}function bot(t,e){if(typeof t!="function")throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map(function(n,r){return t(n,r)})}function vot(t,e,n){if(typeof t!="function")throw new Error("First argument to fold is not a function");if(!Array.isArray(n))throw new Error("Second argument to fold is not an array");return n.reduce(function(r,i,a){return t(r,i,a)},e)}function wot(t,e){if(typeof t!="function")throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter(function(n,r){return t(n,r)})}function _ot(t,e){if(!(Array.isArray(e)||typeof e=="string"))throw new Error("Second argument to indexOf is not a string or array");return e.indexOf(t)}function Sot(t,e){if(!Array.isArray(e))throw new Error("Second argument to join is not an array");return e.join(t)}function xot(t){return(t>0)-(t<0)||+t}var Zae=1/3;function Eot(t){return t<0?-Math.pow(-t,Zae):Math.pow(t,Zae)}function kot(t){return Math.exp(t)-1}function Tot(t){return Math.log(1+t)}function Aot(t){return Math.log(t)/Math.LN2}function F0(t){this.options=t||{},this.unaryOps={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Math.sinh||eot,cosh:Math.cosh||tot,tanh:Math.tanh||not,asinh:Math.asinh||rot,acosh:Math.acosh||iot,atanh:Math.atanh||aot,sqrt:Math.sqrt,cbrt:Math.cbrt||Eot,log:Math.log,log2:Math.log2||Aot,ln:Math.log,lg:Math.log10||Wae,log10:Math.log10||Wae,expm1:Math.expm1||kot,log1p:Math.log1p||Tot,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:Math.trunc||lot,"-":sot,"+":Number,exp:Math.exp,not:oot,length:hot,"!":Kae,sign:Math.sign||xot},this.binaryOps={"+":Ust,"-":jst,"*":zst,"/":$st,"%":qst,"^":Math.pow,"||":Hst,"==":Vst,"!=":Gst,">":Wst,"<":Kst,">=":Yst,"<=":Xst,and:Zst,or:Qst,in:Jst,"=":pot,"[":mot},this.ternaryOps={"?":Xae},this.functions={random:uot,fac:Kae,min:yot,max:got,hypot:Math.hypot||Yae,pyt:Math.hypot||Yae,pow:Math.pow,atan2:Math.atan2,if:Xae,gamma:sq,roundTo:fot,map:bot,fold:vot,filter:wot,indexOf:_ot,join:Sot},this.consts={E:Math.E,PI:Math.PI,true:!0,false:!1}}F0.prototype.parse=function(t){var e=[],n=new Vi(this,new wa(this,t),{allowMemberAccess:this.options.allowMemberAccess});return n.parseExpression(e),n.expect(J1,"EOF"),new qc(e,this)};F0.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var G_e=new F0;F0.parse=function(t){return G_e.parse(t)};F0.evaluate=function(t,e){return G_e.parse(t).evaluate(e)};var Qae={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",and:"logical",or:"logical",not:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};function Cot(t){return Qae.hasOwnProperty(t)?Qae[t]:t}F0.prototype.isOperatorEnabled=function(t){var e=Cot(t),n=this.options.operators||{};return!(e in n)||!!n[e]};class Rot extends d_e{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"calculator"}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:"Useful for getting the result of a math expression. The input to this tool should be a valid mathematical expression that could be executed by a simple calculator."})}static lc_name(){return"Calculator"}get lc_namespace(){return[...super.lc_namespace,"calculator"]}async _call(e){try{return F0.evaluate(e).toString()}catch{return"I don't know how to do that."}}}class W_e extends Hd{get returnValues(){return["output"]}get allowedTools(){}_agentType(){throw new Error("Not implemented")}returnStoppedResponse(e,n,r,i){if(e==="force")return Promise.resolve({returnValues:{output:"Agent stopped due to max iterations."},log:""});throw new Error(`Invalid stopping method: ${e}`)}async prepareForOutput(e,n){return{}}}class Iot extends W_e{_agentActionType(){return"single"}}class Not extends W_e{_agentActionType(){return"multi"}}function Oot(t){return!Array.isArray(t)&&t?.tool!==void 0}function Mot(t){return t.runnable!==void 0}class K_e extends gl{constructor(){super(...arguments),Object.defineProperty(this,"streamRunnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"singleAction",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}static fromRunnables([e,...n],r){const i=gl.from([e,...n],r.name);return i.singleAction=r.singleAction,i.streamRunnable=r.streamRunnable,i}static isAgentRunnableSequence(e){return typeof e.singleAction=="boolean"}}class Pot extends Iot{get inputKeys(){return[]}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","agents","runnable"]}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streamRunnable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"defaultRunName",{enumerable:!0,configurable:!0,writable:!0,value:"RunnableAgent"}),this.runnable=e.runnable,this.defaultRunName=e.defaultRunName??this.runnable.name??this.defaultRunName,this.streamRunnable=e.streamRunnable??this.streamRunnable}async plan(e,n,r,i){const a={...n,steps:e},s=ns(i,{callbacks:r,runName:this.defaultRunName});if(this.streamRunnable){const o=await this.runnable.stream(a,s);let l;for await(const u of o)if(l===void 0)l=u;else throw new Error(["Multiple agent actions/finishes received in streamed agent output.",'Set "streamRunnable: false" when initializing the agent to invoke this agent in non-streaming mode.'].join(`
`));if(l===void 0)throw new Error(["No streaming output received from underlying runnable.",'Set "streamRunnable: false" when initializing the agent to invoke this agent in non-streaming mode.'].join(`
`));return l}else return this.runnable.invoke(a,s)}}class Jae extends Not{get inputKeys(){return[]}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","agents","runnable"]}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"defaultRunName",{enumerable:!0,configurable:!0,writable:!0,value:"RunnableAgent"}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streamRunnable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.runnable=e.runnable,this.stop=e.stop,this.defaultRunName=e.defaultRunName??this.runnable.name??this.defaultRunName,this.streamRunnable=e.streamRunnable??this.streamRunnable}async plan(e,n,r,i){const a={...n,steps:e},s=ns(i,{callbacks:r,runName:this.defaultRunName});let o;if(this.streamRunnable){const l=await this.runnable.stream(a,s);let u;for await(const d of l)if(u===void 0)u=d;else throw new Error(["Multiple agent actions/finishes received in streamed agent output.",'Set "streamRunnable: false" when initializing the agent to invoke this agent in non-streaming mode.'].join(`
`));if(u===void 0)throw new Error(["No streaming output received from underlying runnable.",'Set "streamRunnable: false" when initializing the agent to invoke this agent in non-streaming mode.'].join(`
`));o=u}else o=await this.runnable.invoke(a,s);return Oot(o)?[o]:o}}var $w={},ese;function Lot(){if(ese)return $w;ese=1;var t=/~/,e=/~[01]/g;function n(u){switch(u){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+u)}function r(u){return t.test(u)?u.replace(e,n):u}function i(u,d,h){for(var p,m,v=1,w=d.length;v<w;){if(d[v]==="constructor"||d[v]==="prototype"||d[v]==="__proto__")return u;if(p=r(d[v++]),m=w>v,typeof u[p]>"u"&&(Array.isArray(u)&&p==="-"&&(p=u.length),m&&(d[v]!==""&&d[v]<1/0||d[v]==="-"?u[p]=[]:u[p]={})),!m)break;u=u[p]}var k=u[p];return h===void 0?delete u[p]:u[p]=h,k}function a(u){if(typeof u=="string"){if(u=u.split("/"),u[0]==="")return u;throw new Error("Invalid JSON pointer.")}else if(Array.isArray(u)){for(const d of u)if(typeof d!="string"&&typeof d!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return u}throw new Error("Invalid JSON pointer.")}function s(u,d){if(typeof u!="object")throw new Error("Invalid input object.");d=a(d);var h=d.length;if(h===1)return u;for(var p=1;p<h;){if(u=u[r(d[p++])],h===p)return u;if(typeof u!="object"||u===null)return}}function o(u,d,h){if(typeof u!="object")throw new Error("Invalid input object.");if(d=a(d),d.length===0)throw new Error("Invalid JSON pointer for set.");return i(u,d,h)}function l(u){var d=a(u);return{get:function(h){return s(h,d)},set:function(h,p){return o(h,d,p)}}}return $w.get=s,$w.set=o,$w.compile=l,$w}Lot();class Dot extends l${get lc_namespace(){return["langchain","chains",this._chainType()]}constructor(e,n,r){if(arguments.length===1&&typeof e=="object"&&!("saveContext"in e)){const{memory:i,callbackManager:a,...s}=e;super({...s,callbacks:a??s.callbacks}),this.memory=i}else super({verbose:n,callbacks:r}),this.memory=e}_selectMemoryInputs(e){const n={...e};return"signal"in n&&delete n.signal,"timeout"in n&&delete n.timeout,n}async invoke(e,n){const r=Jr(n),i=await this._formatValues(e),s=await(await Fs.configure(r?.callbacks,this.callbacks,r?.tags,this.tags,r?.metadata,this.metadata,{verbose:this.verbose}))?.handleChainStart(this.toJSON(),i,void 0,void 0,void 0,void 0,r?.runName);let o;try{o=await(i.signal?Promise.race([this._call(i,s,r),new Promise((l,u)=>{i.signal?.addEventListener("abort",()=>{u(new Error("AbortError"))})})]):this._call(i,s,r))}catch(l){throw await s?.handleChainError(l),l}return this.memory!=null&&await this.memory.saveContext(this._selectMemoryInputs(e),o),await s?.handleChainEnd(o),Object.defineProperty(o,g5,{value:s?{runId:s?.runId}:void 0,configurable:!0}),o}_validateOutputs(e){const n=this.outputKeys.filter(r=>!(r in e));if(n.length)throw new Error(`Missing output keys: ${n.join(", ")} from chain ${this._chainType()}`)}async prepOutputs(e,n,r=!1){return this._validateOutputs(n),this.memory&&await this.memory.saveContext(e,n),r?n:{...e,...n}}serialize(){throw new Error("Method not implemented.")}async run(e,n){const r=this.inputKeys.filter(l=>!this.memory?.memoryKeys.includes(l));if(!(r.length<=1))throw new Error(`Chain ${this._chainType()} expects multiple inputs, cannot use 'run' `);const a=r.length?{[r[0]]:e}:{},s=await this.call(a,n),o=Object.keys(s);if(o.length===1)return s[o[0]];throw new Error("return values have multiple keys, `run` only supported when one key currently")}async _formatValues(e){const n={...e};if(n.timeout&&!n.signal&&(n.signal=AbortSignal.timeout(n.timeout),delete n.timeout),this.memory!=null){const r=await this.memory.loadMemoryVariables(this._selectMemoryInputs(e));for(const[i,a]of Object.entries(r))n[i]=a}return n}async call(e,n,r){const i={tags:r,..._ce(n)};return this.invoke(e,i)}async apply(e,n){return Promise.all(e.map(async(r,i)=>this.call(r,n?.[i])))}static async deserialize(e,n={}){switch(e._type){case"llm_chain":{const{LLMChain:r}=await Ps(async()=>{const{LLMChain:i}=await import("./llm_chain-CX8SmSa2.js");return{LLMChain:i}},[]);return r.deserialize(e)}case"sequential_chain":{const{SequentialChain:r}=await Ps(async()=>{const{SequentialChain:i}=await import("./sequential_chain-Ccyvskb2.js");return{SequentialChain:i}},[]);return r.deserialize(e)}case"simple_sequential_chain":{const{SimpleSequentialChain:r}=await Ps(async()=>{const{SimpleSequentialChain:i}=await import("./sequential_chain-Ccyvskb2.js");return{SimpleSequentialChain:i}},[]);return r.deserialize(e)}case"stuff_documents_chain":{const{StuffDocumentsChain:r}=await Ps(async()=>{const{StuffDocumentsChain:i}=await import("./combine_docs_chain-CHFeCibb.js");return{StuffDocumentsChain:i}},__vite__mapDeps([6,7]));return r.deserialize(e)}case"map_reduce_documents_chain":{const{MapReduceDocumentsChain:r}=await Ps(async()=>{const{MapReduceDocumentsChain:i}=await import("./combine_docs_chain-CHFeCibb.js");return{MapReduceDocumentsChain:i}},__vite__mapDeps([6,7]));return r.deserialize(e)}case"refine_documents_chain":{const{RefineDocumentsChain:r}=await Ps(async()=>{const{RefineDocumentsChain:i}=await import("./combine_docs_chain-CHFeCibb.js");return{RefineDocumentsChain:i}},__vite__mapDeps([6,7]));return r.deserialize(e)}case"vector_db_qa":{const{VectorDBQAChain:r}=await Ps(async()=>{const{VectorDBQAChain:i}=await import("./vector_db_qa-CKwlIuCw.js");return{VectorDBQAChain:i}},__vite__mapDeps([8,7,6]));return r.deserialize(e,n)}case"api_chain":{const{APIChain:r}=await Ps(async()=>{const{APIChain:i}=await import("./api_chain-CtTw7NbD.js");return{APIChain:i}},__vite__mapDeps([9,7]));return r.deserialize(e)}default:throw new Error(`Invalid prompt type in config: ${e._type}`)}}}class Fot extends g${}class Bot extends Hd{get finalOutputs(){return this._finalOutputs}async setFinalOutputs(e){if(this._finalOutputs=void 0,e){const n=await this.agentExecutor.prepOutputs(this.inputs,e,!0);this._finalOutputs=n}}get nameToToolMap(){const e=this.agentExecutor.tools.map(n=>({[n.name]:n}));return Object.assign({},...e)}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","agents","executor_iterator"]}),Object.defineProperty(this,"agentExecutor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"runName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_finalOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"runManager",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"intermediateSteps",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"iterations",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.agentExecutor=e.agentExecutor,this.inputs=e.inputs,this.callbacks=e.callbacks,this.tags=e.tags,this.metadata=e.metadata,this.runName=e.runName,this.runManager=e.runManager,this.config=e.config}reset(){this.intermediateSteps=[],this.iterations=0,this._finalOutputs=void 0}updateIterations(){this.iterations+=1}async*streamIterator(){for(this.reset();;)try{this.iterations===0&&await this.onFirstStep(),yield await this._callNext()}catch(e){if("message"in e&&e.message.startsWith("Final outputs already reached: ")){if(!this.finalOutputs)throw e;return this.finalOutputs}throw this.runManager&&await this.runManager.handleChainError(e),e}}async onFirstStep(){if(this.iterations===0){const e=await Fs.configure(this.callbacks??this.config?.callbacks,this.agentExecutor.callbacks,this.tags??this.config?.tags,this.agentExecutor.tags,this.metadata??this.config?.metadata,this.agentExecutor.metadata,{verbose:this.agentExecutor.verbose});this.runManager=await e?.handleChainStart(this.agentExecutor.toJSON(),this.inputs,this.config?.runId,void 0,this.tags??this.config?.tags,this.metadata??this.config?.metadata,this.runName??this.config?.runName),this.config!==void 0&&delete this.config.runId}}async _executeNextStep(e){return this.agentExecutor._takeNextStep(this.nameToToolMap,this.inputs,this.intermediateSteps,e,this.config)}async _processNextStepOutput(e,n){if("returnValues"in e){const i=await this.agentExecutor._return(e,this.intermediateSteps,n);return this.runManager&&await this.runManager.handleChainEnd(i),await this.setFinalOutputs(i),i}this.intermediateSteps=this.intermediateSteps.concat(e);let r={};if(Array.isArray(e)&&e.length===1){const i=e[0],a=await this.agentExecutor._getToolReturn(i);a&&(r=await this.agentExecutor._return(a,this.intermediateSteps,n),await this.runManager?.handleChainEnd(r),await this.setFinalOutputs(r))}return r={intermediateSteps:e},r}async _stop(){const e=await this.agentExecutor.agent.returnStoppedResponse(this.agentExecutor.earlyStoppingMethod,this.intermediateSteps,this.inputs),n=await this.agentExecutor._return(e,this.intermediateSteps,this.runManager);return await this.setFinalOutputs(n),await this.runManager?.handleChainEnd(n),n}async _callNext(){if(this.finalOutputs)throw new Error(`Final outputs already reached: ${JSON.stringify(this.finalOutputs,null,2)}`);if(!this.agentExecutor.shouldContinueGetter(this.iterations))return this._stop();const e=await this._executeNextStep(this.runManager),n=await this._processNextStepOutput(e,this.runManager);return this.updateIterations(),n}}class v6 extends d_e{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"_Exception"}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:"Exception tool"})}async _call(e){return e}}class oq extends Dot{static lc_name(){return"AgentExecutor"}get lc_namespace(){return["langchain","agents","executor"]}get inputKeys(){return this.agent.inputKeys}get outputKeys(){return this.agent.returnValues}constructor(e){let n,r=!0;if(Aa.isRunnable(e.agent)?(K_e.isAgentRunnableSequence(e.agent)?e.agent.singleAction?n=new Pot({runnable:e.agent,streamRunnable:e.agent.streamRunnable}):n=new Jae({runnable:e.agent,streamRunnable:e.agent.streamRunnable}):n=new Jae({runnable:e.agent}),r=!1):(Mot(e.agent)&&(r=!1),n=e.agent),super(e),Object.defineProperty(this,"agent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tools",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnIntermediateSteps",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"maxIterations",{enumerable:!0,configurable:!0,writable:!0,value:15}),Object.defineProperty(this,"earlyStoppingMethod",{enumerable:!0,configurable:!0,writable:!0,value:"force"}),Object.defineProperty(this,"returnOnlyOutputs",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"handleParsingErrors",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"handleToolRuntimeErrors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.agent=n,this.tools=e.tools,this.handleParsingErrors=e.handleParsingErrors??this.handleParsingErrors,this.handleToolRuntimeErrors=e.handleToolRuntimeErrors,this.returnOnlyOutputs=r,this.agent._agentActionType()==="multi"){for(const i of this.tools)if(i.returnDirect)throw new Error(`Tool with return direct ${i.name} not supported for multi-action agent.`)}this.returnIntermediateSteps=e.returnIntermediateSteps??this.returnIntermediateSteps,this.maxIterations=e.maxIterations??this.maxIterations,this.earlyStoppingMethod=e.earlyStoppingMethod??this.earlyStoppingMethod}static fromAgentAndTools(e){return new oq(e)}get shouldContinueGetter(){return this.shouldContinue.bind(this)}shouldContinue(e){return this.maxIterations===void 0||e<this.maxIterations}async _call(e,n,r){const i=Object.fromEntries(this.tools.map(u=>[u.name.toLowerCase(),u])),a=[];let s=0;const o=async u=>{const{returnValues:d}=u,h=await this.agent.prepareForOutput(d,a);await n?.handleAgentEnd(u);let p;return this.returnIntermediateSteps?p={...d,intermediateSteps:a,...h}:p={...d,...h},this.returnOnlyOutputs||(p={...e,...p}),p};for(;this.shouldContinue(s);){let u;try{u=await this.agent.plan(a,e,n?.getChild(),r)}catch(v){if(v instanceof Lf){let w,k=v.message;if(this.handleParsingErrors===!0)v.sendToLLM?(w=v.observation,k=v.llmOutput??""):w="Invalid or incomplete response";else if(typeof this.handleParsingErrors=="string")w=this.handleParsingErrors;else if(typeof this.handleParsingErrors=="function")w=this.handleParsingErrors(v);else throw v;u={tool:"_Exception",toolInput:w,log:k}}else throw v}if("returnValues"in u)return o(u);let d;Array.isArray(u)?d=u:d=[u];const h=await Promise.all(d.map(async v=>{await n?.handleAgentAction(v);const w=v.tool==="_Exception"?new v6:i[v.tool?.toLowerCase()];let k;try{if(k=w?await w.invoke(v.toolInput,ns(r,{callbacks:n?.getChild()})):`${v.tool} is not a valid tool, try another one.`,typeof k!="string")throw new Error("Received unsupported non-string response from tool call.")}catch(T){if(T instanceof cT){if(this.handleParsingErrors===!0)k="Invalid or incomplete tool input. Please try again.";else if(typeof this.handleParsingErrors=="string")k=this.handleParsingErrors;else if(typeof this.handleParsingErrors=="function")k=this.handleParsingErrors(T);else throw T;return k=await new v6().call(k,n?.getChild()),{action:v,observation:k??""}}else this.handleToolRuntimeErrors!==void 0&&(k=this.handleToolRuntimeErrors(T))}return{action:v,observation:k??""}}));a.push(...h);const p=a[a.length-1];if(i[p.action.tool?.toLowerCase()]?.returnDirect)return o({returnValues:{[this.agent.returnValues[0]]:p.observation},log:""});s+=1}const l=await this.agent.returnStoppedResponse(this.earlyStoppingMethod,a,e);return o(l)}async _takeNextStep(e,n,r,i,a){let s;try{s=await this.agent.plan(r,n,i?.getChild(),a)}catch(u){if(u instanceof Lf){let d,h=u.message;if(this.handleParsingErrors===!0)u.sendToLLM?(d=u.observation,h=u.llmOutput??""):d="Invalid or incomplete response";else if(typeof this.handleParsingErrors=="string")d=this.handleParsingErrors;else if(typeof this.handleParsingErrors=="function")d=this.handleParsingErrors(u);else throw u;s={tool:"_Exception",toolInput:d,log:h}}else throw u}if("returnValues"in s)return s;let o;Array.isArray(s)?o=s:o=[s];const l=[];for(const u of o){let d="";if(i&&await i?.handleAgentAction(u),u.tool in e){const h=e[u.tool];try{if(d=await h.call(u.toolInput,i?.getChild()),typeof d!="string")throw new Error("Received unsupported non-string response from tool call.")}catch(p){if(p instanceof cT){if(this.handleParsingErrors===!0)d="Invalid or incomplete tool input. Please try again.";else if(typeof this.handleParsingErrors=="string")d=this.handleParsingErrors;else if(typeof this.handleParsingErrors=="function")d=this.handleParsingErrors(p);else throw p;d=await new v6().call(d,i?.getChild())}}}else d=`${u.tool} is not a valid tool, try another available tool: ${Object.keys(e).join(", ")}`;l.push({action:u,observation:d})}return l}async _return(e,n,r){r&&await r.handleAgentEnd(e);const i=e.returnValues;return this.returnIntermediateSteps&&(i.intermediateSteps=n),i}async _getToolReturn(e){const{action:n,observation:r}=e,i=Object.fromEntries(this.tools.map(s=>[s.name.toLowerCase(),s])),[a="output"]=this.agent.returnValues;return n.tool in i&&i[n.tool].returnDirect?{returnValues:{[a]:r},log:""}:null}_returnStoppedResponse(e){if(e==="force")return{returnValues:{output:"Agent stopped due to iteration limit or time limit."},log:""};throw new Error(`Got unsupported early_stopping_method: ${e}`)}async*_streamIterator(e,n){const i=new Bot({inputs:e,agentExecutor:this,config:n,metadata:n?.metadata,tags:n?.tags,callbacks:n?.callbacks}).streamIterator();for await(const a of i)a&&(yield a)}_chainType(){return"agent_executor"}serialize(){throw new Error("Cannot serialize an AgentExecutor")}}function Uot(t){return new Fb({tool_call_id:t.action.toolCallId,content:t.observation,additional_kwargs:{name:t.action.tool}})}function jot(t){return t.flatMap(({action:e,observation:n})=>"messageLog"in e&&e.messageLog!==void 0?e.messageLog.concat(Uot({action:e,observation:n})):[new yl(e.log)])}function zot(t){const e=typeof t.content=="string"?t.content:JSON.stringify(t.content);let n=[];if(t.tool_calls!==void 0&&t.tool_calls.length>0)n=t.tool_calls;else{if(t.additional_kwargs.tool_calls===void 0||t.additional_kwargs.tool_calls.length===0)return{returnValues:{output:t.content},log:e};for(const r of t.additional_kwargs.tool_calls??[]){const i=r.function?.name;try{const a=JSON.parse(r.function.arguments);n.push({name:i,args:a,id:r.id})}catch(a){throw new Lf(`Failed to parse tool arguments from chat model response. Text: "${JSON.stringify(n)}". ${a}`)}}}return n.map((r,i)=>{const a=i===0?[t]:[],s=`Invoking "${r.name}" with ${JSON.stringify(r.args??{})}
${e}`;return{tool:r.name,toolInput:r.args,toolCallId:r.id??"",log:s,messageLog:a}})}class $ot extends Fot{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","agents","tool_calling"]})}static lc_name(){return"ToolCallingAgentOutputParser"}async parse(e){throw new Error(`ToolCallingAgentOutputParser can only parse messages.
Passed input: ${e}`)}async parseResult(e){if("message"in e[0]&&Oc(e[0].message))return zot(e[0].message);throw new Error("parseResult on ToolCallingAgentOutputParser only works on ChatGeneration output")}getFormatInstructions(){throw new Error("getFormatInstructions not implemented inside ToolCallingAgentOutputParser.")}}function qot(t){const e=t;return typeof e._modelType=="function"&&e._modelType()==="base_chat_model"}function Hot({llm:t,tools:e,prompt:n,streamRunnable:r}){if(!n.inputVariables.includes("agent_scratchpad"))throw new Error(['Prompt must have an input variable named "agent_scratchpad".',`Found ${JSON.stringify(n.inputVariables)} instead.`].join(`
`));let i;if(qot(t)){if(t.bindTools===void 0)throw new Error('This agent requires that the "bind_tools()" method be implemented on the input model.');i=t.bindTools(e)}else i=t;return K_e.fromRunnables([qu.assign({agent_scratchpad:s=>jot(s.steps)}),n,i,new $ot],{name:"ToolCallingAgent",streamRunnable:r,singleAction:!1})}const Vot=({modelName:t,apiKey:e})=>{if(!e)throw new Error("Hugging Face API token is required");return new u_e({model:t,apiKey:e,configuration:{baseURL:"https://api-inference.huggingface.co/v1/"}})};function Got(t){return typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string"}function Wot(t){if(Got(t))return t;try{return new Error(String(t))}catch{return new Error("Unknown error")}}function tse(t){return Wot(t).message}class bb{model;embeddings;controller;configManager;config;documentManager;static instance=null;constructor(){this.controller=new AbortController,this.configManager=Yl.getInstance(),this.documentManager=bm.getInstance(),this.initializeConfig()}static getInstance(){return bb.instance||(bb.instance=new bb),bb.instance}async initializeConfig(){this.config=await this.configManager.getConfig()}resetController(){this.controller=new AbortController}async getChatModel(e){this.config||await this.initializeConfig();const n=xf.find(r=>r.model===e);if(!n)throw new Error(`Chat model ${e} not found`);try{switch(n.provider){case qi.ollama:return new _nt({baseUrl:this.config.ollama_base_url,model:n.model});case qi.openai:return new u_e({modelName:this.config.openai_model&&this.config.openai_model.trim()!==""?this.config.openai_model:n.model,apiKey:this.config.openai_api_key,configuration:{baseURL:this.config.openai_base_url&&this.config.openai_base_url.trim()!==""?this.config.openai_base_url:void 0}});case qi.anthropic:return new gat({modelName:n.model,apiKey:this.config.anthropic_api_key});case qi.gemini:return new rst({modelName:n.model,apiKey:this.config.gemini_api_key});case qi.huggingface:return Vot({modelName:n.model,apiKey:this.config.hf_token});default:throw new Error(`Provider ${n.provider} not implemented yet for chat models`)}}catch(r){throw console.error(`Error creating chat model ${e}:`,r),new Error(`Failed to initialize chat model ${e}: ${tse(r)}`)}}async getEmbeddingModel(e){if(this.config||await this.initializeConfig(),!e)throw new Error("No embedding model specified");const n=i1.find(r=>r.model===e);if(!n)throw new Error(`Embedding model ${e} not found`);if(n.provider===qi.ollama){if(!this.config.ollama_base_url||this.config.ollama_base_url.trim()==="")throw new Error("Ollama base URL is not configured. Please set a valid URL in the settings.");if(!this.config.ollama_available)throw new Error(`Ollama server is not available. Please check your connection to ${this.config.ollama_base_url}`)}try{switch(n.provider){case qi.ollama:return new Snt({baseUrl:this.config.ollama_base_url,model:n.model});case qi.openai:return new Sit({modelName:n.model,apiKey:this.config.openai_api_key});case qi.gemini:return new ist({modelName:n.model,apiKey:this.config.gemini_api_key});default:throw new Error(`Provider ${n.provider} not implemented yet for embedding models`)}}catch(r){throw console.error(`Error creating embedding model ${e}:`,r),new Error(`Failed to initialize embedding model ${e}: ${tse(r)}`)}}async getAgent(e=[]){const n=e1.fromMessages([["system","You are a helpful assistant"],["placeholder","{chat_history}"],["human","{input}"],["placeholder","{agent_scratchpad}"]]),r=[];e?.includes("calculator")&&r.push(new Rot);const i=Hot({llm:this.model,tools:r,prompt:n}),a=new oq({agent:i,tools:r,returnIntermediateSteps:!0});return new dnt({runnable:a,getMessageHistory:s=>new uK(s),inputMessagesKey:"input",historyMessagesKey:"chat_history"})}async createMessageWithAttachments(e,n){if(!e||e.length===0)return new Po({content:""});const r=xf.find(l=>l.model===(n?.model||this.config.default_chat_model));if(!r)throw new Error(`Model ${n?.model||this.config.default_chat_model} not found in CHAT_MODELS`);const i={docs:[],images:[],audios:[],videos:[],pdfs:[]};for(const l of e){const u=await this.documentManager.getDocument(l.id);switch(l.type){case"image":r.modalities.includes(Vw.image)&&i.images.push(u);break;case"audio":r.modalities.includes(Vw.audio)&&i.audios.push(u);break;case"video":r.modalities.includes(Vw.video)&&i.videos.push(u);break;case"pdf":r.modalities.includes(Vw.pdf)?i.pdfs.push(u):i.docs.push(...await this.documentManager.loadDocument(l.id));break;default:i.docs.push(...await this.documentManager.loadDocument(l.id));break}}const s={[qi.openai]:async()=>{const l=[];for(const u of i.images){const d=Buffer.from(await u.arrayBuffer()).toString("base64");l.push({type:"image_url",image_url:{url:`data:${u.type};base64,${d}`}})}for(const u of i.docs)l.push({type:"text",text:`File name: ${u.metadata.name}
File content: ${u.pageContent}`});return l},[qi.anthropic]:async()=>{const l=[];for(const u of i.images){const d=Buffer.from(await u.arrayBuffer()).toString("base64");l.push({type:"image_url",image_url:{url:`data:${u.type};base64,${d}`}})}for(const u of i.pdfs)l.push({type:"document",source:{type:"base64",data:Buffer.from(await u.arrayBuffer()).toString("base64"),media_type:"application/pdf"}});for(const u of i.docs)l.push({type:"text",text:`File name: ${u.metadata.name}
File content: ${u.pageContent}`});return l},[qi.ollama]:async()=>i.docs.map(l=>({type:"text",text:`File name: ${l.metadata.name}
File content: ${l.pageContent}`})),[qi.gemini]:async()=>{const l=[],u=[...i.images,...i.audios,...i.videos,...i.pdfs];for(const d of u)l.push({type:"media",mimeType:d.type,data:Buffer.from(await d.arrayBuffer()).toString("base64")});for(const d of i.docs)l.push({type:"text",text:`File name: ${d.metadata.name}
File content: ${d.pageContent}`});return l},[qi.huggingface]:async()=>i.docs.map(l=>({type:"text",text:`File name: ${l.metadata.name}
File content: ${l.pageContent}`}))}[r.provider];if(!s)throw new Error(`Provider ${r.provider} not implemented for message attachments`);const o=await s();return new Po({content:o,response_metadata:{documents:e.map(l=>({id:l.id,name:l.name,source:l.path,type:l.type,createdAt:l.createdAt}))}})}async*chat(e,n,r){const i=new uK(e);await i.initialize();const a=await i.db.table("sessions").get(e);this.model=await this.getChatModel(a?.model||this.config.default_chat_model),this.embeddings=await this.getEmbeddingModel(a?.embedding_model||this.config.default_embedding_model||null);const s=await this.getAgent(a?.enabled_tools||[]),o=await this.createMessageWithAttachments(r,a);o.content&&o.content.length>0&&await i.addMessage(o);const l=await s.streamEvents({input:n},{configurable:{sessionId:e},version:"v2",signal:this.controller.signal});let u="";for await(const d of l)if(d.event==="on_chat_model_stream"){const h=d.data?.chunk;h&&(u+=h,yield{type:"stream",content:h})}else d.event==="on_chat_model_end"?yield{type:"end",content:u,usageMetadata:d.data?.output?.usage_metadata}:d.event==="on_tool_start"?yield{type:"tool_start",name:d.name,input:d.data?.input}:d.event==="on_tool_end"&&(console.log(d),await i.addMessage(new Fb({tool_call_id:d.name,content:d.data?.output,name:d.name,status:"success",artifact:d.data,response_metadata:{input:d.data?.input,timestamp:Date.now()}})),yield{type:"tool_end",name:d.name,output:d.data?.output})}async chatChain(e,n){const r=await this.getChatModel(this.config.default_chat_model),i=typeof e=="string"?new Po(e):e;return await r.invoke([{type:"system",content:n||"You are a helpful assistant"},i])}}const r7=pf.getInstance(),Kot=t=>XA(async()=>!t||t==="new"?null:await r7.sessions.get(t),[t]),Yot=(t,e)=>{const[n,r]=_t.useState(null);return XA(async()=>{if(!e)return;const i=!t||t==="new"?e.default_chat_model:(await r7.sessions.get(t))?.model??e.default_chat_model;r(i)},[t,e]),[n,r,r7]},Xot=()=>_t.useMemo(()=>bb.getInstance(),[]),w6=async(t,e,n,r,i,a,s,o,l,u)=>{if(!(!t||r)&&!(!e.trim()&&!n.length))try{i(!0);const d=e,h=n;l(""),u([]),a(new Po(d)),s([]);const p=o.chat(t,d,h);for await(const m of p)m.type==="stream"?s(v=>[...v,m.content]):m.type==="end"&&(i(!1),a(null),s([]))}catch(d){console.error(d),Xl.error(`Failed to send message: ${d}`),i(!1)}};function Zot(){const{id:t}=Ase(),e=vA(),{startLoading:n,stopLoading:r}=yoe(),i=_t.useMemo(()=>Yl.getInstance(),[]),a=Xot(),s=_t.useMemo(()=>bm.getInstance(),[]),[o,l]=_t.useState(""),[u,d]=_t.useState([]),[h,p]=_t.useState(!1),[m,v]=_t.useState(""),[w,k]=_t.useState(null),[T,C]=_t.useState(!1),[N,F]=_t.useState(null),[D,U]=_t.useState([]),[G,se]=_t.useState(null),[re,Q]=_t.useState(null),ce=XA(async()=>await i.getConfig()),Ie=Kot(t),[qe,xe,Ce]=Yot(t,ce);$.useEffect(()=>{if(!ce){n("Loading configuration...");return}r()},[ce,n,r]);const ue=_t.useMemo(()=>xf.find(Ke=>Ke.model===qe)?.name||"Select a model",[qe]),ke=_t.useMemo(()=>xf.find(ct=>ct.model===qe)?.provider,[qe]),Te=_t.useCallback(async Ke=>{if(ce){if(!t||t==="new")await i.updateConfig({...ce,default_chat_model:Ke});else{const ct=await Ce.sessions.get(t);ct&&await Ce.sessions.update(t,{...ct,model:Ke,updatedAt:Date.now()})}xe(Ke),Q(null)}},[ce,t,xe,i,Ce.sessions]),he=_t.useCallback(async()=>{if(Q(null),ke===qi.ollama&&ce){if(!ce.ollama_base_url||ce.ollama_base_url.trim()===""){Q("Ollama base URL is not configured. Please set a valid URL in the settings.");return}if(!ce.ollama_available){Q(`Ollama server is not available. Please check your connection to ${ce.ollama_base_url}`);return}}let Ke=t,ct=!1;t==="new"&&(Ke=crypto.randomUUID(),ct=!0,e(`/chat/${Ke}`,{replace:!0})),a.resetController();try{if(await w6(Ke,o,u,T,C,F,U,a,l,d),ct&&Ke){const de=await a.chatChain(`Based on this user message, generate a very concise (max 40 chars) but descriptive name for this chat: "${o}"`,"You are a helpful assistant that generates concise chat names. Respond only with the name, no quotes or explanation.");await Ce.sessions.update(Ke,{name:String(de.content)})}}catch(de){console.error("Error sending message:",de),de instanceof Error?Q(de.message):Q("An unknown error occurred while sending your message")}},[t,o,u,T,a,e,Ce.sessions,ke,ce]),j=_t.useCallback(async Ke=>{const ct=Ke.target.files;if(ct)try{const de=await Promise.all(Array.from(ct).map(Se=>s.uploadDocument(Se)));d(Se=>[...Se,...de])}catch(de){console.error(de),Xl.error("Failed to upload files")}},[s]),pe=_t.useCallback(async()=>{if(m.trim())try{const Ke=m.split(",").map(de=>de.trim()),ct=await Promise.all(Ke.map(de=>s.uploadUrl(de)));d(de=>[...de,...ct]),v(""),p(!1)}catch(Ke){console.error(Ke),Xl.error("Failed to upload URLs")}},[m,s]),Ne=_t.useCallback(Ke=>{d(ct=>ct.filter(de=>de.id!==Ke))},[]),ae=_t.useCallback(Ke=>{se(Ke)},[]),He=_t.useCallback(async Ke=>{if(!(!t||G===null||!Ie||T)){if(Q(null),ke===qi.ollama&&ce){if(!ce.ollama_base_url||ce.ollama_base_url.trim()===""){Q("Ollama base URL is not configured. Please set a valid URL in the settings.");return}if(!ce.ollama_available){Q(`Ollama server is not available. Please check your connection to ${ce.ollama_base_url}`);return}}try{const ct=[...Ie.messages];ct[G]={...ct[G],data:{...ct[G].data,content:Ke}};const de=ct.slice(0,G+1);await Ce.sessions.update(t,{...Ie,messages:de,updatedAt:Date.now()}),l(Ke),se(null),d([]),a.resetController(),await w6(t,Ke,[],T,C,F,U,a,l,d)}catch(ct){console.error("Error editing message:",ct),ct instanceof Error?Q(ct.message):Q("An unknown error occurred while editing your message")}}},[t,G,Ie,T,Ce.sessions,a,ke,ce]),it=_t.useCallback(async Ke=>{if(!(!t||!Ie||T)){if(Q(null),ke===qi.ollama&&ce){if(!ce.ollama_base_url||ce.ollama_base_url.trim()===""){Q("Ollama base URL is not configured. Please set a valid URL in the settings.");return}if(!ce.ollama_available){Q(`Ollama server is not available. Please check your connection to ${ce.ollama_base_url}`);return}}try{const ct=Ie.messages;if(ct.length<=Ke)return;const Se=ct[Ke].data.content,ht=ct.slice(0,Ke+1);await Ce.sessions.update(t,{...Ie,messages:ht,updatedAt:Date.now()}),a.resetController(),await w6(t,Se,[],T,C,F,U,a,l,d)}catch(ct){console.error("Error regenerating message:",ct),ct instanceof Error?Q(ct.message):Q("An unknown error occurred while regenerating the message")}}},[t,Ie,T,Ce.sessions,a,ke,ce]),Xe=_t.useCallback(()=>{a.controller.abort(),C(!1)},[a]);return z.jsxs("div",{className:"flex flex-col h-screen p-2",children:[re&&z.jsxs(Jk,{variant:"destructive",className:"mb-4",children:[z.jsx(Gw,{className:"h-4 w-4"}),z.jsx(eT,{children:"Error"}),z.jsx(tT,{children:re})]}),z.jsx(cfe,{messages:Ie?.messages.map(Xue),streamingHumanMessage:N,streamingAIMessageChunks:D,setPreviewDocument:k,onEditMessage:ae,onRegenerateMessage:it,editingMessageIndex:G,onSaveEdit:He,onCancelEdit:()=>se(null)}),z.jsx(upe,{input:o,selectedModel:qe||"",attachments:u,onInputChange:l,onModelChange:Te,onSendMessage:he,enabledChatModels:ce?.enabled_chat_models,setPreviewDocument:k,isUrlInputOpen:h,setIsUrlInputOpen:p,urlInput:m,setUrlInput:v,handleAttachmentFileUpload:j,handleAttachmentUrlUpload:pe,handleAttachmentRemove:Ne,selectedModelName:ue,isGenerating:T,stopGenerating:Xe}),z.jsx(Ive,{document:w,onClose:()=>k(null)})]})}function Qot(){const t=vA(),[e,n]=$.useState("loading"),[r,i]=$.useState(null);$.useEffect(()=>{async function s(){try{const l=new URLSearchParams(window.location.search).get("code");if(!l){n("error"),i("Authorization code not found in URL");return}const u=await fetch("https://huggingface.co/oauth/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({grant_type:"authorization_code",client_id:"f6008d6a-fbbf-484a-9ade-0d07405e08e7",client_secret:"6eb5f158-18de-4aad-8c58-cd66426687af",redirect_uri:"http://localhost:5173/integrations/huggingface-callback",code:l})});if(!u.ok){const m=await u.json();throw new Error(m.error_description||"Failed to exchange code for token")}const h=(await u.json()).access_token;await Yl.getInstance().updateConfig({hf_token:h}),n("success")}catch(o){console.error("Error during OAuth callback:",o),n("error"),i(o instanceof Error?o.message:"Unknown error occurred")}}s()},[t]);const a=()=>{t("/")};return z.jsx("div",{className:"flex items-center justify-center min-h-screen",children:z.jsxs(aS,{className:"w-[400px]",children:[z.jsxs(sS,{children:[z.jsx(oS,{children:"Hugging Face Integration"}),z.jsxs(lS,{children:[e==="loading"&&"Setting up your Hugging Face integration...",e==="success"&&"Successfully connected to Hugging Face!",e==="error"&&"Failed to connect to Hugging Face"]})]}),z.jsxs(kA,{className:"flex flex-col items-center gap-4",children:[e==="loading"&&z.jsx(k7,{className:"h-8 w-8 animate-spin"}),e==="success"&&z.jsxs(z.Fragment,{children:[z.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Your Hugging Face API token has been saved. You can now use Hugging Face models."}),z.jsx(la,{onClick:a,children:"Continue to Home"})]}),e==="error"&&z.jsxs(z.Fragment,{children:[z.jsx("div",{className:"text-center text-sm text-destructive",children:r||"An error occurred while connecting to Hugging Face."}),z.jsx(la,{variant:"outline",onClick:a,children:"Back to Home"})]})]})]})})}function Jot(){const t=new RSe;return z.jsx(PSe,{client:t,children:z.jsxs(bTe,{children:[z.jsx(sEe,{children:z.jsxs(Dxe,{children:[oue.map(e=>z.jsx(ok,{path:e.path,element:z.jsx(cK,{children:e.component})},e.path)),z.jsx(ok,{path:"/chat/:id",element:z.jsx(cK,{children:z.jsx(Zot,{})})},"chat"),z.jsx(ok,{path:"/integrations/huggingface-callback",element:z.jsx(Qot,{})})]})}),z.jsx(poe,{})]})})}pSe.createRoot(document.getElementById("root")).render(z.jsx($.StrictMode,{children:z.jsx(Jot,{})}));export{J8 as B,e1 as C,z_e as H,Dc as P,Aa as R,Ist as S,elt as a,sSe as b,t1 as c,j_e as d,gb as e,Dot as f,Yc as g,g$ as h,X$ as i,qtt as j,nse as r};
